var Reflect;(function(H){!function(J){var fe="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),De=pe(H);function pe(Ue,Ye){return function(Xe,We){"function"!=typeof Ue[Xe]&&Object.defineProperty(Ue,Xe,{configurable:!0,writable:!0,value:We}),Ye&&Ye(Xe,We)}}typeof fe.Reflect>"u"?fe.Reflect=H:De=pe(fe.Reflect,De),function(J){var fe=Object.prototype.hasOwnProperty,De="function"==typeof Symbol,pe=De&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",Ue=De&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",Ye="function"==typeof Object.create,Xe={__proto__:[]}instanceof Array,We=!Ye&&!Xe,Qe={create:Ye?function(){return io(Object.create(null))}:Xe?function(){return io({__proto__:null})}:function(){return io({})},has:We?function(U,Y){return fe.call(U,Y)}:function(U,Y){return Y in U},get:We?function(U,Y){return fe.call(U,Y)?U[Y]:void 0}:function(U,Y){return U[Y]}},Wt=Object.getPrototypeOf(Function),$t="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,ae=$t||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function Xn(){var U={},Y=[],te=function(){function Me(Ve,ve,Ze){this._index=0,this._keys=Ve,this._values=ve,this._selector=Ze}return Me.prototype["@@iterator"]=function(){return this},Me.prototype[Ue]=function(){return this},Me.prototype.next=function(){var Ve=this._index;if(Ve>=0&&Ve<this._keys.length){var ve=this._selector(this._keys[Ve],this._values[Ve]);return Ve+1>=this._keys.length?(this._index=-1,this._keys=Y,this._values=Y):this._index++,{value:ve,done:!1}}return{value:void 0,done:!0}},Me.prototype.throw=function(Ve){throw this._index>=0&&(this._index=-1,this._keys=Y,this._values=Y),Ve},Me.prototype.return=function(Ve){return this._index>=0&&(this._index=-1,this._keys=Y,this._values=Y),{value:Ve,done:!0}},Me}();return function(){function Me(){this._keys=[],this._values=[],this._cacheKey=U,this._cacheIndex=-2}return Object.defineProperty(Me.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Me.prototype.has=function(Ve){return this._find(Ve,!1)>=0},Me.prototype.get=function(Ve){var ve=this._find(Ve,!1);return ve>=0?this._values[ve]:void 0},Me.prototype.set=function(Ve,ve){var Ze=this._find(Ve,!0);return this._values[Ze]=ve,this},Me.prototype.delete=function(Ve){var ve=this._find(Ve,!1);if(ve>=0){for(var Ze=this._keys.length,Je=ve+1;Je<Ze;Je++)this._keys[Je-1]=this._keys[Je],this._values[Je-1]=this._values[Je];return this._keys.length--,this._values.length--,Ve===this._cacheKey&&(this._cacheKey=U,this._cacheIndex=-2),!0}return!1},Me.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=U,this._cacheIndex=-2},Me.prototype.keys=function(){return new te(this._keys,this._values,ye)},Me.prototype.values=function(){return new te(this._keys,this._values,Se)},Me.prototype.entries=function(){return new te(this._keys,this._values,vt)},Me.prototype["@@iterator"]=function(){return this.entries()},Me.prototype[Ue]=function(){return this.entries()},Me.prototype._find=function(Ve,ve){return this._cacheKey!==Ve&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Ve)),this._cacheIndex<0&&ve&&(this._cacheIndex=this._keys.length,this._keys.push(Ve),this._values.push(void 0)),this._cacheIndex},Me}();function ye(Me,Ve){return Me}function Se(Me,Ve){return Ve}function vt(Me,Ve){return[Me,Ve]}}():Map,Fe=$t||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function so(){return function(){function U(){this._map=new ae}return Object.defineProperty(U.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),U.prototype.has=function(Y){return this._map.has(Y)},U.prototype.add=function(Y){return this._map.set(Y,Y),this},U.prototype.delete=function(Y){return this._map.delete(Y)},U.prototype.clear=function(){this._map.clear()},U.prototype.keys=function(){return this._map.keys()},U.prototype.values=function(){return this._map.values()},U.prototype.entries=function(){return this._map.entries()},U.prototype["@@iterator"]=function(){return this.keys()},U.prototype[Ue]=function(){return this.keys()},U}()}():Set,q=new($t||"function"!=typeof WeakMap?function Xo(){var U=16,Y=Qe.create(),te=ye();return function(){function ve(){this._key=ye()}return ve.prototype.has=function(Ze){var Je=Se(Ze,!1);return void 0!==Je&&Qe.has(Je,this._key)},ve.prototype.get=function(Ze){var Je=Se(Ze,!1);return void 0!==Je?Qe.get(Je,this._key):void 0},ve.prototype.set=function(Ze,Je){return Se(Ze,!0)[this._key]=Je,this},ve.prototype.delete=function(Ze){var Je=Se(Ze,!1);return void 0!==Je&&delete Je[this._key]},ve.prototype.clear=function(){this._key=ye()},ve}();function ye(){var ve;do{ve="@@WeakMap@@"+Ve()}while(Qe.has(Y,ve));return Y[ve]=!0,ve}function Se(ve,Ze){if(!fe.call(ve,te)){if(!Ze)return;Object.defineProperty(ve,te,{value:Qe.create()})}return ve[te]}function vt(ve,Ze){for(var Je=0;Je<Ze;++Je)ve[Je]=255*Math.random()|0;return ve}function Ve(){var ve=function Me(ve){return"function"==typeof Uint8Array?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(ve)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(ve)):vt(new Uint8Array(ve),ve):vt(new Array(ve),ve)}(U);ve[6]=79&ve[6]|64,ve[8]=191&ve[8]|128;for(var Ze="",Je=0;Je<U;++Je){var Bn=ve[Je];(4===Je||6===Je||8===Je)&&(Ze+="-"),Bn<16&&(Ze+="0"),Ze+=Bn.toString(16).toLowerCase()}return Ze}}():WeakMap);function ut(U,Y,te){var ye=q.get(U);if(y(ye)){if(!te)return;ye=new ae,q.set(U,ye)}var Se=ye.get(Y);if(y(Se)){if(!te)return;Se=new ae,ye.set(Y,Se)}return Se}function hr(U,Y,te){if(ce(U,Y,te))return!0;var Se=gn(Y);return!ht(Se)&&hr(U,Se,te)}function ce(U,Y,te){var ye=ut(Y,te,!1);return!y(ye)&&function st(U){return!!U}(ye.has(U))}function dt(U,Y,te){if(ce(U,Y,te))return Pt(U,Y,te);var Se=gn(Y);return ht(Se)?void 0:dt(U,Se,te)}function Pt(U,Y,te){var ye=ut(Y,te,!1);if(!y(ye))return ye.get(U)}function Qt(U,Y,te,ye){ut(te,ye,!0).set(U,Y)}function Jt(U,Y){var te=$e(U,Y),ye=gn(U);if(null===ye)return te;var Se=Jt(ye,Y);if(Se.length<=0)return te;if(te.length<=0)return Se;for(var vt=new Fe,Me=[],Ve=0,ve=te;Ve<ve.length;Ve++)vt.has(Ze=ve[Ve])||(vt.add(Ze),Me.push(Ze));for(var Bn=0,ja=Se;Bn<ja.length;Bn++){var Ze;vt.has(Ze=ja[Bn])||(vt.add(Ze),Me.push(Ze))}return Me}function $e(U,Y){var te=[],ye=ut(U,Y,!1);if(y(ye))return te;for(var vt=function di(U){var Y=Gt(U,Ue);if(!On(Y))throw new TypeError;var te=Y.call(U);if(!mt(te))throw new TypeError;return te}(ye.keys()),Me=0;;){var Ve=ao(vt);if(!Ve)return te.length=Me,te;var ve=bt(Ve);try{te[Me]=ve}catch(Ze){try{ci(vt)}finally{throw Ze}}Me++}}function rt(U){if(null===U)return 1;switch(typeof U){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===U?1:6;default:return 6}}function y(U){return void 0===U}function ht(U){return null===U}function mt(U){return"object"==typeof U?null!==U:"function"==typeof U}function Dr(U,Y){switch(rt(U)){case 0:case 1:case 2:case 3:case 4:case 5:return U}var te=3===Y?"string":5===Y?"number":"default",ye=Gt(U,pe);if(void 0!==ye){var Se=ye.call(U,te);if(mt(Se))throw new TypeError;return Se}return function qe(U,Y){if("string"===Y){var te=U.toString;if(On(te)&&!mt(ye=te.call(U)))return ye;if(On(Se=U.valueOf)&&!mt(ye=Se.call(U)))return ye}else{var Se;if(On(Se=U.valueOf)&&!mt(ye=Se.call(U)))return ye;var ye,vt=U.toString;if(On(vt)&&!mt(ye=vt.call(U)))return ye}throw new TypeError}(U,"default"===te?"number":te)}function V(U){var Y=Dr(U,3);return function fn(U){return"symbol"==typeof U}(Y)?Y:function ze(U){return""+U}(Y)}function br(U){return Array.isArray?Array.isArray(U):U instanceof Object?U instanceof Array:"[object Array]"===Object.prototype.toString.call(U)}function On(U){return"function"==typeof U}function Re(U){return"function"==typeof U}function Gt(U,Y){var te=U[Y];if(null!=te){if(!On(te))throw new TypeError;return te}}function bt(U){return U.value}function ao(U){var Y=U.next();return!Y.done&&Y}function ci(U){var Y=U.return;Y&&Y.call(U)}function gn(U){var Y=Object.getPrototypeOf(U);if("function"!=typeof U||U===Wt||Y!==Wt)return Y;var te=U.prototype,ye=te&&Object.getPrototypeOf(te);if(null==ye||ye===Object.prototype)return Y;var Se=ye.constructor;return"function"!=typeof Se||Se===U?Y:Se}function io(U){return U.__=void 0,delete U.__,U}J("decorate",function W(U,Y,te,ye){if(y(te)){if(!br(U))throw new TypeError;if(!Re(Y))throw new TypeError;return function Yn(U,Y){for(var te=U.length-1;te>=0;--te){var Se=(0,U[te])(Y);if(!y(Se)&&!ht(Se)){if(!Re(Se))throw new TypeError;Y=Se}}return Y}(U,Y)}if(!br(U))throw new TypeError;if(!mt(Y))throw new TypeError;if(!mt(ye)&&!y(ye)&&!ht(ye))throw new TypeError;return ht(ye)&&(ye=void 0),function ee(U,Y,te,ye){for(var Se=U.length-1;Se>=0;--Se){var Me=(0,U[Se])(Y,te,ye);if(!y(Me)&&!ht(Me)){if(!mt(Me))throw new TypeError;ye=Me}}return ye}(U,Y,te=V(te),ye)}),J("metadata",function le(U,Y){return function te(ye,Se){if(!mt(ye))throw new TypeError;if(!y(Se)&&!function oo(U){switch(rt(U)){case 3:case 4:return!0;default:return!1}}(Se))throw new TypeError;Qt(U,Y,ye,Se)}}),J("defineMetadata",function ne(U,Y,te,ye){if(!mt(te))throw new TypeError;return y(ye)||(ye=V(ye)),Qt(U,Y,te,ye)}),J("hasMetadata",function ie(U,Y,te){if(!mt(Y))throw new TypeError;return y(te)||(te=V(te)),hr(U,Y,te)}),J("hasOwnMetadata",function F(U,Y,te){if(!mt(Y))throw new TypeError;return y(te)||(te=V(te)),ce(U,Y,te)}),J("getMetadata",function we(U,Y,te){if(!mt(Y))throw new TypeError;return y(te)||(te=V(te)),dt(U,Y,te)}),J("getOwnMetadata",function xe(U,Y,te){if(!mt(Y))throw new TypeError;return y(te)||(te=V(te)),Pt(U,Y,te)}),J("getMetadataKeys",function je(U,Y){if(!mt(U))throw new TypeError;return y(Y)||(Y=V(Y)),Jt(U,Y)}),J("getOwnMetadataKeys",function Ee(U,Y){if(!mt(U))throw new TypeError;return y(Y)||(Y=V(Y)),$e(U,Y)}),J("deleteMetadata",function St(U,Y,te){if(!mt(Y))throw new TypeError;y(te)||(te=V(te));var ye=ut(Y,te,!1);if(y(ye)||!ye.delete(U))return!1;if(ye.size>0)return!0;var Se=q.get(Y);return Se.delete(te),Se.size>0||q.delete(Y),!0})}(De)}()})(Reflect||(Reflect={})),function(){"use strict";var H=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},J=function(e){return{eq:e}},fe=J(function(e,t){return e===t}),De=function(e){return J(function(t,n){if(t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e.eq(t[o],n[o]))return!1;return!0})},pe=function(e){return J(function(t,n){var l,c,u,r=Object.keys(t),o=Object.keys(n);if(!(l=fe,c=De(l),u=function(c){return Array.prototype.slice.call(c).sort(void 0)},J(function(m,p){return c.eq(u(m),u(p))})).eq(r,o))return!1;for(var a=r.length,s=0;s<a;s++){var i=r[s];if(!e.eq(t[i],n[i]))return!1}return!0})},Ue=J(function(e,t){if(e===t)return!0;var n=H(e);return n===H(t)&&(-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(n)?e===t:"array"===n?De(Ue).eq(e,t):"object"===n&&pe(Ue).eq(e,t))});const Ye=Object.getPrototypeOf,Xe=(e,t,n)=>{var r;return!!n(e,t.prototype)||(null===(r=e.constructor)||void 0===r?void 0:r.name)===t.name},We=e=>t=>(n=>{const r=typeof n;return null===n?"null":"object"===r&&Array.isArray(n)?"array":"object"===r&&Xe(n,String,(o,a)=>a.isPrototypeOf(o))?"string":r})(t)===e,Qe=e=>t=>typeof t===e,Wt=e=>t=>e===t,$t=(e,t)=>Fe(e)&&Xe(e,t,(n,r)=>Ye(n)===r),ae=We("string"),Fe=We("object"),nt=e=>$t(e,Object),q=We("array"),W=Wt(null),le=Qe("boolean"),ne=Wt(void 0),ie=e=>null==e,F=e=>!ie(e),we=Qe("function"),xe=Qe("number"),je=(e,t)=>{if(q(e)){for(let n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return!0}return!1},Ee=()=>{},St=(e,t)=>(...n)=>e(t.apply(null,n)),Yn=(e,t)=>n=>e(t(n)),ee=e=>()=>e,ut=e=>e,hr=(e,t)=>e===t;function ce(e,...t){return(...n)=>{const r=t.concat(n);return e.apply(null,r)}}const dt=e=>t=>!e(t),Pt=e=>()=>{throw new Error(e)},Qt=e=>e(),Jt=e=>{e()},$e=ee(!1),rt=ee(!0);class y{constructor(t,n){this.tag=t,this.value=n}static some(t){return new y(!0,t)}static none(){return y.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?y.some(t(this.value)):y.none()}bind(t){return this.tag?t(this.value):y.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:y.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(null!=t?t:"Called getOrDie on None")}static from(t){return F(t)?y.some(t):y.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}y.singletonNone=new y(!1);const ht=Array.prototype.slice,fn=Array.prototype.indexOf,mt=Array.prototype.push,Dr=(e,t)=>fn.call(e,t),qe=(e,t)=>Dr(e,t)>-1,st=(e,t)=>{for(let n=0,r=e.length;n<r;n++)if(t(e[n],n))return!0;return!1},ze=(e,t)=>{const n=e.length,r=new Array(n);for(let o=0;o<n;o++)r[o]=t(e[o],o);return r},V=(e,t)=>{for(let n=0,r=e.length;n<r;n++)t(e[n],n)},br=(e,t)=>{for(let n=e.length-1;n>=0;n--)t(e[n],n)},On=(e,t)=>{const n=[],r=[];for(let o=0,a=e.length;o<a;o++){const s=e[o];(t(s,o)?n:r).push(s)}return{pass:n,fail:r}},Re=(e,t)=>{const n=[];for(let r=0,o=e.length;r<o;r++){const a=e[r];t(a,r)&&n.push(a)}return n},oo=(e,t,n)=>(br(e,(r,o)=>{n=t(n,r,o)}),n),Gt=(e,t,n)=>(V(e,(r,o)=>{n=t(n,r,o)}),n),di=(e,t,n)=>{for(let r=0,o=e.length;r<o;r++){const a=e[r];if(t(a,r))return y.some(a);if(n(a,r))break}return y.none()},bt=(e,t)=>di(e,t,$e),ao=(e,t)=>{for(let n=0,r=e.length;n<r;n++)if(t(e[n],n))return y.some(n);return y.none()},ci=e=>{const t=[];for(let n=0,r=e.length;n<r;++n){if(!q(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);mt.apply(t,e[n])}return t},gn=(e,t)=>ci(ze(e,t)),Xn=(e,t)=>{for(let n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n))return!1;return!0},so=e=>{const t=ht.call(e,0);return t.reverse(),t},Xo=(e,t)=>Re(e,n=>!qe(t,n)),io=(e,t)=>{const n={};for(let r=0,o=e.length;r<o;r++){const a=e[r];n[String(a)]=t(a,r)}return n},U=(e,t)=>{const n=ht.call(e,0);return n.sort(t),n},Y=(e,t)=>t>=0&&t<e.length?y.some(e[t]):y.none(),te=e=>Y(e,0),ye=e=>Y(e,e.length-1),Se=we(Array.from)?Array.from:e=>ht.call(e),vt=(e,t)=>{for(let n=0;n<e.length;n++){const r=t(e[n],n);if(r.isSome())return r}return y.none()},Me=Object.keys,Ve=Object.hasOwnProperty,ve=(e,t)=>{const n=Me(e);for(let r=0,o=n.length;r<o;r++){const a=n[r];t(e[a],a)}},Ze=(e,t)=>Je(e,(n,r)=>({k:r,v:t(n,r)})),Je=(e,t)=>{const n={};return ve(e,(r,o)=>{const a=t(r,o);n[a.k]=a.v}),n},Bn=e=>(t,n)=>{e[n]=t},ja=(e,t,n,r)=>{ve(e,(o,a)=>{(t(o,a)?n:r)(o,a)})},Ha=(e,t)=>{const n={};return ja(e,t,Bn(n),Ee),n},vd=(e,t)=>{const n=[];return ve(e,(r,o)=>{n.push(t(r,o))}),n},yd=e=>vd(e,ut),it=(e,t)=>Ie(e,t)?y.from(e[t]):y.none(),Ie=(e,t)=>Ve.call(e,t),Zo=(e,t)=>Ie(e,t)&&null!=e[t],Mf=e=>{const t={};return V(e,n=>{t[n]={}}),Me(t)},Ff=e=>void 0!==e.length,Cd=Array.isArray,ui=(e,t,n)=>{if(!e)return!1;if(n=n||e,Ff(e)){for(let r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return!1}else for(const r in e)if(Ie(e,r)&&!1===t.call(n,e[r],r,e))return!1;return!0},wd=(e,t)=>{const n=[];return ui(e,(r,o)=>{n.push(t(r,o,e))}),n},qa=(e,t)=>{const n=[];return ui(e,(r,o)=>{t&&!t(r,o,e)||n.push(r)}),n},mi=(e,t,n,r)=>{let o=ne(n)?e[0]:n;for(let a=0;a<e.length;a++)o=t.call(r,o,e[a],a);return o},Uf=(e,t,n)=>{for(let r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},lo=e=>e[e.length-1],co=e=>{let t,n=!1;return(...r)=>(n||(n=!0,t=e.apply(null,r)),t)},$f=()=>Ed(0,0),Ed=(e,t)=>({major:e,minor:t}),Va={nu:Ed,detect:(e,t)=>{const n=String(t).toLowerCase();return 0===e.length?$f():((r,o)=>{const a=((i,l)=>{for(let d=0;d<i.length;d++){const c=i[d];if(c.test(l))return c}})(r,o);if(!a)return{major:0,minor:0};const s=i=>Number(o.replace(a,"$"+i));return Ed(s(1),s(2))})(e,n)},unknown:$f},zf=(e,t)=>{const n=String(t).toLowerCase();return bt(e,r=>r.search(n))},jf=(e,t,n)=>""===t||e.length>=t.length&&e.substr(n,n+t.length)===t,Hf=(e,t)=>It(e,t)?e.substring(t.length):e,zt=(e,t,n=0,r)=>{const o=e.indexOf(t,n);return-1!==o&&(!!ne(r)||o+t.length<=r)},It=(e,t)=>jf(e,t,0),kd=(e,t)=>jf(e,t,e.length-t.length),xd=e=>t=>t.replace(e,""),Qo=xd(/^\s+|\s+$/g),bk=xd(/^\s+/g),qf=xd(/\s+$/g),Zn=e=>e.length>0,Wa=e=>!Zn(e),fi=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?y.none():y.some(n)},Sd=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,vr=e=>t=>zt(t,e),vk=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>zt(e,"edge/")&&zt(e,"chrome")&&zt(e,"safari")&&zt(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Sd],search:e=>zt(e,"chrome")&&!zt(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>zt(e,"msie")||zt(e,"trident")},{name:"Opera",versionRegexes:[Sd,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:vr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:vr("firefox")},{name:"Safari",versionRegexes:[Sd,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(zt(e,"safari")||zt(e,"mobile/"))&&zt(e,"applewebkit")}],yk=[{name:"Windows",search:vr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>zt(e,"iphone")||zt(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:vr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:vr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:vr("linux"),versionRegexes:[]},{name:"Solaris",search:vr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:vr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:vr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Vf={browsers:ee(vk),oses:ee(yk)},Gf="Chromium",Yf="Firefox",Zf=e=>{const t=e.current,r=o=>()=>t===o;return{current:t,version:e.version,isEdge:r("Edge"),isChromium:r(Gf),isIE:r("IE"),isOpera:r("Opera"),isFirefox:r(Yf),isSafari:r("Safari")}},Ck=()=>Zf({current:void 0,version:Va.unknown()}),wk=Zf,Qf=(ee("Edge"),ee(Gf),ee("IE"),ee("Opera"),ee(Yf),ee("Safari"),"Windows"),Jf="Android",ng="Solaris",rg="FreeBSD",og="ChromeOS",ag=e=>{const t=e.current,r=o=>()=>t===o;return{current:t,version:e.version,isWindows:r(Qf),isiOS:r("iOS"),isAndroid:r(Jf),isMacOS:r("macOS"),isLinux:r("Linux"),isSolaris:r(ng),isFreeBSD:r(rg),isChromeOS:r(og)}},Ek=()=>ag({current:void 0,version:Va.unknown()}),kk=ag,xk=(ee(Qf),ee("iOS"),ee(Jf),ee("Linux"),ee("macOS"),ee(ng),ee(rg),ee(og),e=>window.matchMedia(e).matches);let Sk=co(()=>((e,t,n)=>{const r=Vf.browsers(),o=Vf.oses(),a=t.bind(l=>{return d=r,vt(l.brands,u=>{const m=u.brand.toLowerCase();return bt(d,p=>{var f;return m===(null===(f=p.brand)||void 0===f?void 0:f.toLowerCase())}).map(p=>({current:p.name,version:Va.nu(parseInt(u.version,10),0)}))});var d}).orThunk(()=>{return zf(r,d=e).map(c=>{const u=Va.detect(c.versionRegexes,d);return{current:c.name,version:u}});var d}).fold(Ck,wk),s=(l=o,d=e,zf(l,d).map(c=>{const u=Va.detect(c.versionRegexes,d);return{current:c.name,version:u}})).fold(Ek,kk),i=((l,d,c,u)=>{const m=l.isiOS()&&!0===/ipad/i.test(c),p=l.isiOS()&&!m,f=l.isiOS()||l.isAndroid(),h=f||u("(pointer:coarse)"),g=m||!p&&f&&u("(min-device-width:768px)"),b=p||f&&!g,v=d.isSafari()&&l.isiOS()&&!1===/safari/i.test(c),C=!b&&!g&&!v;return{isiPad:ee(m),isiPhone:ee(p),isTablet:ee(g),isPhone:ee(b),isTouch:ee(h),isAndroid:l.isAndroid,isiOS:l.isiOS,isWebView:ee(v),isDesktop:ee(C)}})(s,a,e,n);var l,d;return{browser:a,os:s,deviceType:i}})(navigator.userAgent,y.from(navigator.userAgentData),xk));const Qn=()=>Sk(),_k=navigator.userAgent,_d=Qn(),Jn=_d.browser,er=_d.os,uo=_d.deviceType,Ak=-1!==_k.indexOf("Windows Phone"),He={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Jn.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Jn.isIE(),windowsPhone:Ak,browser:{current:Jn.current,version:Jn.version,isChromium:Jn.isChromium,isEdge:Jn.isEdge,isFirefox:Jn.isFirefox,isIE:Jn.isIE,isOpera:Jn.isOpera,isSafari:Jn.isSafari},os:{current:er.current,version:er.version,isAndroid:er.isAndroid,isChromeOS:er.isChromeOS,isFreeBSD:er.isFreeBSD,isiOS:er.isiOS,isLinux:er.isLinux,isMacOS:er.isMacOS,isSolaris:er.isSolaris,isWindows:er.isWindows},deviceType:{isDesktop:uo.isDesktop,isiPad:uo.isiPad,isiPhone:uo.isiPhone,isPhone:uo.isPhone,isTablet:uo.isTablet,isTouch:uo.isTouch,isWebView:uo.isWebView}},Nk=/^\s*|\s*$/g,sg=e=>ie(e)?"":(""+e).replace(Nk,""),ig=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),ui(e,(o,a)=>!1!==t.call(r,o,a,n)&&(ig(o,t,n,r),!0)))},X={trim:sg,isArray:Cd,is:(e,t)=>t?!("array"!==t||!Cd(e))||typeof e===t:void 0!==e,toArray:e=>{if(Cd(e))return e;{const t=[];for(let n=0,r=e.length;n<r;n++)t[n]=e[n];return t}},makeMap:(e,t,n={})=>{const r=ae(e)?e.split(t||","):e||[];let o=r.length;for(;o--;)n[r[o]]={};return n},each:ui,map:wd,grep:qa,inArray:(e,t)=>{if(e)for(let n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},hasOwn:Ie,extend:(e,...t)=>{for(let n=0;n<t.length;n++){const r=t[n];for(const o in r)if(Ie(r,o)){const a=r[o];void 0!==a&&(e[o]=a)}}return e},walk:ig,resolve:(e,t=window)=>{const n=e.split(".");for(let r=0,o=n.length;r<o&&(t=t[n[r]]);r++);return t},explode:(e,t)=>q(e)?e:""===e?[]:wd(e.split(t||","),sg),_addCacheSuffix:e=>{const t=He.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},Jo=(e,t,n=hr)=>e.exists(r=>n(r,t)),en=(e,t,n)=>e.isSome()&&t.isSome()?y.some(n(e.getOrDie(),t.getOrDie())):y.none(),ea=(e,t)=>e?y.some(t):y.none(),Rk=typeof window<"u"?window:Function("return this;")(),lg=(e,t)=>((n,r)=>{let o=null!=r?r:Rk;for(let a=0;a<n.length&&null!=o;++a)o=o[n[a]];return o})(e.split("."),t),Tk=Object.getPrototypeOf,ot=e=>e.dom.nodeName.toLowerCase(),dg=e=>e.dom.nodeType,gi=e=>t=>dg(t)===e,Ad=e=>dn(e)&&(e=>{const t=lg("ownerDocument.defaultView",e);return Fe(e)&&((n=t,((r,o)=>{const a=lg(r,o);if(null==a)throw new Error(r+" not available on this browser");return a})("HTMLElement",n)).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Tk(e).constructor.name));var n})(e.dom),dn=gi(1),yn=gi(3),Bk=gi(9),Dk=gi(11),Nd=e=>t=>dn(t)&&ot(t)===e,cg=(e,t,n)=>{if(!(ae(n)||le(n)||xe(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Bt=(e,t,n)=>{cg(e.dom,t,n)},Lr=(e,t)=>{const n=e.dom;ve(t,(r,o)=>{cg(n,o,r)})},Cn=(e,t)=>{const n=e.dom.getAttribute(t);return null===n?void 0:n},yr=(e,t)=>y.from(Cn(e,t)),pi=(e,t)=>{const n=e.dom;return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Mt=(e,t)=>{e.dom.removeAttribute(t)},ug=e=>Gt(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),Rd=(e,t)=>{const n=Cn(e,t);return void 0===n||""===n?[]:n.split(" ")},Ga=e=>void 0!==e.dom.classList,mg=e=>Rd(e,"class"),fg=(e,t)=>((n,r,o)=>{const a=Rd(n,r).concat([o]);return Bt(n,r,a.join(" ")),!0})(e,"class",t),gg=(e,t)=>((n,r,o)=>{const a=Re(Rd(n,r),s=>s!==o);return a.length>0?Bt(n,r,a.join(" ")):Mt(n,r),!1})(e,"class",t),ta=(e,t)=>{Ga(e)?e.dom.classList.add(t):fg(e,t)},pg=e=>{0===(Ga(e)?e.dom.classList:mg(e)).length&&Mt(e,"class")},na=(e,t)=>{Ga(e)?e.dom.classList.remove(t):gg(e,t),pg(e)},Td=(e,t)=>Ga(e)&&e.dom.classList.contains(t),Ka=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},Ya=(e,t)=>{const n=(t||document).createElement("div");if(n.innerHTML=e,!n.hasChildNodes()||n.childNodes.length>1){const r="HTML does not have a single root node";throw console.error(r,e),new Error(r)}return Ka(n.childNodes[0])},Dt=(e,t)=>{const n=(t||document).createElement(e);return Ka(n)},ra=(e,t)=>{const n=(t||document).createTextNode(e);return Ka(n)},S=Ka,hg=(e,t)=>{const n=[],r=a=>(n.push(a),t(a));let o=t(e);do{o=o.bind(r)}while(o.isSome());return n},Fn=(e,t)=>{const n=e.dom;if(1!==n.nodeType)return!1;{const r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},bg=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,Ge=(e,t)=>e.dom===t.dom,Cr=(e,t)=>{const n=e.dom,r=t.dom;return n!==r&&n.contains(r)},vg=e=>S(e.dom.ownerDocument),wr=e=>Bk(e)?e:vg(e),Xa=e=>S(wr(e).dom.defaultView),Dn=e=>y.from(e.dom.parentNode).map(S),Od=e=>y.from(e.dom.parentElement).map(S),yg=(e,t)=>{const n=we(t)?t:$e;let r=e.dom;const o=[];for(;null!=r.parentNode;){const a=r.parentNode,s=S(a);if(o.push(s),!0===n(s))break;r=a}return o},mo=e=>y.from(e.dom.previousSibling).map(S),Za=e=>y.from(e.dom.nextSibling).map(S),Cg=e=>so(hg(e,mo)),wg=e=>hg(e,Za),Ft=e=>ze(e.dom.childNodes,S),oa=(e,t)=>y.from(e.dom.childNodes[t]).map(S),Bd=e=>oa(e,0),Dd=e=>oa(e,e.dom.childNodes.length-1),Ld=e=>e.dom.childNodes.length,Pd=e=>Dk(e)&&F(e.dom.host),Eg=we(Element.prototype.attachShadow)&&we(Node.prototype.getRootNode),Pk=ee(Eg),Pr=Eg?e=>S(e.dom.getRootNode()):wr,Id=e=>Pd(e)?e:(t=>{const n=t.dom.head;if(null==n)throw new Error("Head is not available yet");return S(n)})(wr(e)),Ik=e=>S(e.dom.host),kg=e=>{if(Pk()&&F(e.target)){const t=S(e.target);if(dn(t)&&Mk(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return te(n)}}return y.from(e.target)},Mk=e=>F(e.dom.shadowRoot),aa=e=>{const t=yn(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const n=t.ownerDocument;return(r=>{const o=Pr(r);return Pd(o)?y.some(o):y.none()})(S(t)).fold(()=>n.body.contains(t),Yn(aa,Ik))};var xg=(e,t,n,r,o)=>e(n,r)?y.some(n):we(o)&&o(n)?y.none():t(n,r,o);const Er=(e,t,n)=>{let r=e.dom;const o=we(n)?n:$e;for(;r.parentNode;){r=r.parentNode;const a=S(r);if(t(a))return y.some(a);if(o(a))break}return y.none()},fo=(e,t,n)=>xg((r,o)=>o(r),Er,e,t,n),Qa=(e,t,n)=>Er(e,r=>Fn(r,t),n),Ja=(e,t)=>((n,r)=>{const o=void 0===r?document:r.dom;return bg(o)?y.none():y.from(o.querySelector(n)).map(S)})(t,e),go=(e,t,n)=>xg((r,o)=>Fn(r,o),Qa,e,t,n),sa=(e,t=!1)=>{return aa(e)?e.dom.isContentEditable:(n=e,go(n,"[contenteditable]")).fold(ee(t),r=>"true"===Fk(r));var n},Fk=e=>e.dom.contentEditable,es=e=>void 0!==e.style&&we(e.style.getPropertyValue),Sg=(e,t,n)=>{if(!ae(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);es(e)&&e.style.setProperty(t,n)},_g=(e,t,n)=>{Sg(e.dom,t,n)},hi=(e,t)=>{const n=e.dom;ve(t,(r,o)=>{Sg(n,o,r)})},tr=(e,t)=>{const n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||aa(e)?r:Ag(n,t)},Ag=(e,t)=>es(e)?e.style.getPropertyValue(t):"",bi=(e,t)=>{const r=Ag(e.dom,t);return y.from(r).filter(o=>o.length>0)},Ng=e=>{const t={},n=e.dom;if(es(n))for(let r=0;r<n.style.length;r++){const o=n.style.item(r);t[o]=n.style[o]}return t},Rg=(e,t)=>{var n,r;r=t,es(n=e.dom)&&n.style.removeProperty(r),Jo(yr(e,"style").map(Qo),"")&&Mt(e,"style")},pn=(e,t)=>{Dn(e).each(n=>{n.dom.insertBefore(t.dom,e.dom)})},Ir=(e,t)=>{Za(e).fold(()=>{Dn(e).each(n=>{yt(n,t)})},n=>{pn(n,t)})},Tg=(e,t)=>{Bd(e).fold(()=>{yt(e,t)},n=>{e.dom.insertBefore(t.dom,n.dom)})},yt=(e,t)=>{e.dom.appendChild(t.dom)},Og=(e,t)=>{pn(e,t),yt(t,e)},po=(e,t)=>{V(t,n=>{yt(e,n)})},ia=e=>{e.dom.textContent="",V(Ft(e),t=>{lt(t)})},lt=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},kr=e=>{const t=Ft(e);var n,r;t.length>0&&(n=e,V(r=t,(o,a)=>{Ir(0===a?n:r[a-1],o)})),lt(e)},Md=e=>ze(e,S),Bg=e=>e.dom.innerHTML,vi=(e,t)=>{const n=vg(e).dom,r=S(n.createDocumentFragment()),o=((a,s)=>{const i=(s||document).createElement("div");return i.innerHTML=a,Ft(S(i))})(t,n);po(r,o),ia(e),yt(e,r)},$k=(e,t,n,r)=>{e.dom.removeEventListener(t,n,r)},Dg=(e,t)=>({left:e,top:t,translate:(n,r)=>Dg(e+n,t+r)}),la=Dg,yi=(e,t)=>void 0!==e?e:void 0!==t?t:0,Fd=e=>{const t=e.dom,n=t.ownerDocument.body;return n===t?la(n.offsetLeft,n.offsetTop):aa(e)?(r=>{const o=r.getBoundingClientRect();return la(o.left,o.top)})(t):la(0,0)},Ud=e=>{const t=void 0!==e?e.dom:document;return la(t.body.scrollLeft||t.documentElement.scrollLeft,t.body.scrollTop||t.documentElement.scrollTop)},Lg=(e,t)=>{Qn().browser.isSafari()&&we(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},Pg=(e,t,n,r)=>({x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}),Ig=e=>{const t=void 0===e?window:e,r=Ud(S(t.document));return(o=>{const a=void 0===o?window:o;return Qn().browser.isFirefox()?y.none():y.from(a.visualViewport)})(t).fold(()=>{const o=t.document.documentElement;return Pg(r.left,r.top,o.clientWidth,o.clientHeight)},o=>Pg(Math.max(o.pageLeft,r.left),Math.max(o.pageTop,r.top),o.width,o.height))},Mg=(e,t)=>{let n=[];return V(Ft(e),r=>{t(r)&&(n=n.concat([r])),n=n.concat(Mg(r,t))}),n},jt=(e,t)=>((n,r)=>{const o=void 0===r?document:r.dom;return bg(o)?[]:ze(o.querySelectorAll(n),S)})(t,e),Fg=(e,t,n)=>Qa(e,t,n).isSome();class kt{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,r,o){if(t){if(!o&&t[n])return t[n];if(t!==this.rootNode){let a=t[r];if(a)return a;for(let s=t.parentNode;s&&s!==this.rootNode;s=s.parentNode)if(a=s[r],a)return a}}}findPreviousNode(t,n){if(t){const r=t.previousSibling;if(this.rootNode&&r===this.rootNode)return;if(r){if(!n)for(let a=r.lastChild;a;a=a.lastChild)if(!a.lastChild)return a;return r}const o=t.parentNode;if(o&&o!==this.rootNode)return o}}}const ho=e=>t=>!!t&&t.nodeType===e,Ci=e=>!!e&&!Object.getPrototypeOf(e),ue=ho(1),ts=e=>{const t=e.toLowerCase();return n=>F(n)&&n.nodeName.toLowerCase()===t},Un=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const r=n.nodeName.toLowerCase();return qe(t,r)}return!1}},wi=(e,t)=>{const n=t.toLowerCase().split(" ");return r=>{if(ue(r)){const o=r.ownerDocument.defaultView;if(o)for(let a=0;a<n.length;a++){const s=o.getComputedStyle(r,null);if((s?s.getPropertyValue(e):null)===n[a])return!0}}return!1}},Ug=e=>t=>ue(t)&&t.hasAttribute(e),bo=e=>ue(e)&&e.hasAttribute("data-mce-bogus"),xr=e=>ue(e)&&"TABLE"===e.tagName,$g=e=>t=>!(!ue(t)||t.contentEditable!==e&&t.getAttribute("data-mce-contenteditable")!==e),$d=Un(["textarea","input"]),K=ho(3),zk=ho(4),jk=ho(7),Mr=ho(8),ns=ho(9),zd=ho(11),ft=ts("br"),zg=ts("img"),$n=$g("true"),at=$g("false"),Ei=Un(["td","th"]),Hk=Un(["td","th","caption"]),nr=Un(["video","audio","object","embed"]),qk=ts("li"),jg=ts("details"),Vk=ts("summary"),_t="\xa0",jd=e=>"\ufeff"===e,Hd=((e,t)=>{const n=r=>e(r)?y.from(r.dom.nodeValue):y.none();return{get:r=>{if(!e(r))throw new Error("Can only get text value of a text node");return n(r).getOr("")},getOption:n,set:(r,o)=>{if(!e(r))throw new Error("Can only set raw text value of a text node");r.dom.nodeValue=o}}})(yn),ki=e=>Hd.get(e),Hg=e=>Hd.getOption(e),Wk=["pre"].concat(["h1","h2","h3","h4","h5","h6"]),Fr=e=>{let t;return n=>(t=t||io(e,rt),Ie(t,ot(n)))},wn=Fr(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),xi=e=>dn(e)&&!wn(e),vo=e=>dn(e)&&"br"===ot(e),qg=Fr(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),qd=Fr(["ul","ol","dl"]),rs=Fr(["li","dd","dt"]),Gk=Fr(["thead","tbody","tfoot"]),os=Fr(["td","th"]),Si=Fr(["pre","script","textarea","style"]),Kk=Fr(Wk),Yk=e=>Kk(e)||xi(e),_i=()=>{const e=Dt("br");return Bt(e,"data-mce-bogus","1"),e},Ur=e=>{ia(e),yt(e,_i())},Xk=e=>{Dd(e).each(t=>{mo(t).each(n=>{wn(e)&&vo(t)&&wn(n)&&lt(t)})})},Ht="\ufeff",Ai=jd,Sr=e=>e.replace(/\uFEFF/g,""),Zk=ue,ca=K,ua=e=>(ca(e)&&(e=e.parentNode),Zk(e)&&e.hasAttribute("data-mce-caret")),$r=e=>ca(e)&&Ai(e.data),En=e=>ua(e)||$r(e),Vg=e=>e.firstChild!==e.lastChild||!ft(e.firstChild),Vd=e=>{const t=e.container();return!!K(t)&&(t.data.charAt(e.offset())===Ht||e.isAtStart()&&$r(t.previousSibling))},Wd=e=>{const t=e.container();return!!K(t)&&(t.data.charAt(e.offset()-1)===Ht||e.isAtEnd()&&$r(t.nextSibling))},Ni=e=>ca(e)&&e.data[0]===Ht,Ri=e=>ca(e)&&e.data[e.data.length-1]===Ht,Gd=e=>e&&e.hasAttribute("data-mce-caret")?((t=>{var n;const r=t.getElementsByTagName("br"),o=r[r.length-1];bo(o)&&(null===(n=o.parentNode)||void 0===n||n.removeChild(o))})(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,Wg=e=>ua(e.startContainer),Gg=$n,Qk=at,Jk=ft,ex=K,tx=Un(["script","style","textarea"]),Kg=Un(["img","input","textarea","hr","iframe","video","audio","object","embed"]),nx=Un(["table"]),rx=En,Ln=e=>!rx(e)&&(ex(e)?!tx(e.parentNode):Kg(e)||Jk(e)||nx(e)||Kd(e)),Kd=e=>{return!(ue(t=e)&&"true"===t.getAttribute("unselectable"))&&Qk(e);var t},Yg=(e,t)=>Ln(e)&&((n,r)=>{for(let o=n.parentNode;o&&o!==r;o=o.parentNode){if(Kd(o))return!1;if(Gg(o))return!0}return!0})(e,t),ox=/^[ \t\r\n]*$/,yo=e=>ox.test(e),ax=e=>{for(const t of e)if(!jd(t))return!1;return!0},Xg=e=>"\n"===e||"\r"===e,Zg=(e,t=4,n=!0,r=!0)=>{const o=(l=t)<=0?"":new Array(l+1).join(" "),a=e.replace(/\t/g,o);var l;return Gt(a,(i,l)=>{return-1!==" \f\t\v".indexOf(l)||l===_t?i.pcIsSpace||""===i.str&&n||i.str.length===a.length-1&&r||(c=i.str.length+1)<(d=a).length&&c>=0&&Xg(d[c])?{pcIsSpace:!1,str:i.str+_t}:{pcIsSpace:!0,str:i.str+" "}:{pcIsSpace:Xg(l),str:i.str+l};var d,c},{pcIsSpace:!1,str:""}).str},Ti=(e,t)=>{return Ln(e)&&(r=t,!(K(n=e)&&yo(n.data)&&!((o,a)=>{const s=S(a),i=S(o);return Fg(i,"pre,code",ce(Ge,s))})(n,r)))||(n=>ue(n)&&"A"===n.nodeName&&!n.hasAttribute("href")&&(n.hasAttribute("name")||n.hasAttribute("id")))(e)||sx(e);var n,r},sx=Ug("data-mce-bookmark"),ix=Ug("data-mce-bogus"),lx=e=>ue(e)&&"all"===e.getAttribute("data-mce-bogus"),Ct=(e,t=!0)=>((n,r)=>{let o=0;if(Ti(n,n))return!1;{let a=n.firstChild;if(!a)return!0;const s=new kt(a,n);do{if(r){if(lx(a)){a=s.next(!0);continue}if(ix(a)){a=s.next();continue}}if(ft(a))o++,a=s.next();else{if(Ti(a,n))return!1;a=s.next()}}while(a);return o<=1}})(e.dom,t),as="data-mce-block",Yd=e=>{return(t=e,Re(Me(t),n=>!/[A-Z]/.test(n))).join(",");var t},Qg=(e,t)=>F(t.querySelector(e))?(t.setAttribute(as,"true"),"inline-boundary"===t.getAttribute("data-mce-selected")&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(as),!1),Jg=(e,t)=>{const n=Yd(e.getTransparentElements()),r=Yd(e.getBlockElements());return Re(t.querySelectorAll(n),o=>Qg(r,o))},ep=(e,t)=>{var n;const r=t?"lastChild":"firstChild";for(let o=e[r];o;o=o[r])if(Ct(S(o)))return void(null===(n=o.parentNode)||void 0===n||n.removeChild(o))},Xd=(e,t)=>{const n=Jg(e,t);var r,o,a;((e,t,n)=>{const r=e.getBlockElements(),o=S(t),a=i=>ot(i)in r,s=i=>Ge(i,o);V(Md(n),i=>{Er(i,a,s).each(l=>{const d=Re(Ft(i),m=>a(m)&&!e.isValidChild(ot(l),ot(m)));if(d.length>0){const c=Od(l);V(d,u=>{Er(u,a,s).each(m=>{((p,f)=>{const h=document.createRange(),g=p.parentNode;if(g){h.setStartBefore(p),h.setEndBefore(f);const b=h.extractContents();ep(b,!0),h.setStartAfter(f),h.setEndAfter(p);const v=h.extractContents();ep(v,!1),Ct(S(b))||g.insertBefore(b,p),Ct(S(f))||g.insertBefore(f,p),Ct(S(v))||g.insertBefore(v,p),g.removeChild(p)}})(m.dom,u.dom)})}),c.each(u=>Jg(e,u.dom))}})})})(e,t,n),r=e,o=t,a=n,V([...a,...Co(r,o)?[o]:[]],s=>V(jt(S(s),s.nodeName.toLowerCase()),i=>{ux(r,i.dom)&&kr(i)}))},cx=(e,t)=>{if(Qd(e,t)){const n=Yd(e.getBlockElements());Qg(n,t)}},Zd=e=>e.hasAttribute(as),Oi=(e,t)=>Ie(e.getTransparentElements(),t),Qd=(e,t)=>ue(t)&&Oi(e,t.nodeName),Co=(e,t)=>Qd(e,t)&&Zd(t),ux=(e,t)=>Qd(e,t)&&!Zd(t),tp=(e,t)=>1===t.type&&Oi(e,t.name)&&ae(t.attr(as)),mx=Qn().browser,np=e=>bt(e,dn),rp=(e,t)=>e.children&&qe(e.children,t),op=(e,t={})=>{let n=0;const r={},o=S(e),a=wr(o),s=l=>new Promise((d,c)=>{let u;const m=X._addCacheSuffix(l),p=it(r,m).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0}));r[m]=p,p.count++;const f=(C,w)=>{V(C,Jt),p.status=w,p.passed=[],p.failed=[],u&&(u.onload=null,u.onerror=null,u=null)},h=()=>f(p.passed,2),g=()=>f(p.failed,3);if(d&&p.passed.push(d),c&&p.failed.push(c),1===p.status)return;if(2===p.status)return void h();if(3===p.status)return void g();p.status=1;const b=Dt("link",a.dom);var v;Lr(b,{rel:"stylesheet",type:"text/css",id:p.id}),t.contentCssCors&&Bt(b,"crossOrigin","anonymous"),t.referrerPolicy&&Bt(b,"referrerpolicy",t.referrerPolicy),u=b.dom,u.onload=h,u.onerror=g,v=b,yt(Id(o),v),Bt(b,"href",m)}),i=l=>{const d=X._addCacheSuffix(l);it(r,d).each(c=>{0==--c.count&&(delete r[d],(u=>{const m=Id(o);Ja(m,"#"+u).each(lt)})(c.id))})};return{load:s,loadAll:l=>Promise.allSettled(ze(l,d=>s(d).then(ee(d)))).then(d=>{const c=On(d,u=>"fulfilled"===u.status);return c.fail.length>0?Promise.reject(ze(c.fail,u=>u.reason)):ze(c.pass,u=>u.value)}),unload:i,unloadAll:l=>{V(l,d=>{i(d)})},_setReferrerPolicy:l=>{t.referrerPolicy=l},_setContentCssCors:l=>{t.contentCssCors=l}}},ap=(()=>{const e=new WeakMap;return{forElement:(t,n)=>{const r=Pr(t).dom;return y.from(e.get(r)).getOrThunk(()=>{const o=op(r,n);return e.set(r,o),o})}}})(),sp=(e,t)=>F(e)&&(Ti(e,t)||xi(S(e))),ip=e=>"span"===e.nodeName.toLowerCase()&&"bookmark"===e.getAttribute("data-mce-type"),Jd=(e,t,n)=>{var r;const o=n||t;if(ue(t)&&ip(t))return t;const a=t.childNodes;for(let s=a.length-1;s>=0;s--)Jd(e,a[s],o);if(ue(t)){const s=t.childNodes;1===s.length&&ip(s[0])&&(null===(r=t.parentNode)||void 0===r||r.insertBefore(s[0],t))}return zd(s=t)||ns(s)||Ti(t,o)||(s=>!!ue(s)&&s.childNodes.length>0)(t)||((s,i)=>K(s)&&s.data.length>0&&((l,d)=>{const c=new kt(l,d).prev(!1),u=new kt(l,d).next(!1),m=ne(c)||sp(c,d),p=ne(u)||sp(u,d);return m&&p})(s,i))(t,o)||e.remove(t),t;var s},fx=X.makeMap,Bi=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Di=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gx=/[<>&\"\']/g,px=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,hx={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"},wo={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},bx={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},lp=(e,t)=>{const n={};if(e){const r=e.split(",");t=t||10;for(let o=0;o<r.length;o+=2){const a=String.fromCharCode(parseInt(r[o],t));if(!wo[a]){const s="&"+r[o+1]+";";n[a]=s,n[s]=a}}return n}},ec=lp("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),dp=(e,t)=>e.replace(t?Bi:Di,n=>wo[n]||n),cp=(e,t)=>e.replace(t?Bi:Di,n=>n.length>1?"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";":wo[n]||"&#"+n.charCodeAt(0)+";"),tc=(e,t,n)=>{const r=n||ec;return e.replace(t?Bi:Di,o=>wo[o]||r[o]||o)},zr={encodeRaw:dp,encodeAllRaw:e=>(""+e).replace(gx,t=>wo[t]||t),encodeNumeric:cp,encodeNamed:tc,getEncodeFunc:(e,t)=>{const n=lp(t)||ec,r=fx(e.replace(/\+/g,","));return r.named&&r.numeric?(o,a)=>o.replace(a?Bi:Di,s=>void 0!==wo[s]?wo[s]:void 0!==n[s]?n[s]:s.length>1?"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";":"&#"+s.charCodeAt(0)+";"):r.named?t?(o,a)=>tc(o,a,n):tc:r.numeric?cp:dp},decode:e=>e.replace(px,(t,n)=>n?(n="x"===n.charAt(0).toLowerCase()?parseInt(n.substr(1),16):parseInt(n,10))>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):hx[n]||String.fromCharCode(n):bx[t]||ec[t]||(r=>{const o=Dt("div").dom;return o.innerHTML=r,o.textContent||o.innerText||r})(t))},Li={},Pi={},vx={},ma=X.makeMap,qt=X.each,nc=X.extend,up=X.explode,yx=X.inArray,Ut=(e,t)=>(e=X.trim(e))?e.split(t||" "):[],mp=(e,t={})=>{const n=ma(e," ",ma(e.toUpperCase()," "));return nc(n,t)},fp=e=>mp("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),rc=(e,t)=>{if(e){const n={};return ae(e)&&(e={"*":e}),qt(e,(r,o)=>{n[o]=n[o.toUpperCase()]="map"===t?ma(r,/[, ]/):up(r,/[, ]/)}),n}},jr=(e={})=>{var t;const n={},r={};let o=[];const a={},s={},i=(z,Z,he)=>{const de=e[z];if(de)return ma(de,/[, ]/,ma(de.toUpperCase(),/[, ]/));{let Ae=Pi[z];return Ae||(Ae=mp(Z,he),Pi[z]=Ae),Ae}},l=null!==(t=e.schema)&&void 0!==t?t:"html5",d=(z=>{const Z={};let he,de,Ae,Ne;const oe=(wt,ct="",sn="")=>{const ln=Ut(sn),Gn=Ut(wt);let Mn=Gn.length;for(;Mn--;){const Lt=Ut([he,ct].join(" "));Z[Gn[Mn]]={attributes:io(Lt,()=>({})),attributesOrder:Lt,children:io(ln,ee(vx))}}},Pe=(wt,ct)=>{const sn=Ut(wt),ln=Ut(ct);let Gn=sn.length;for(;Gn--;){const Mn=Z[sn[Gn]];for(let Lt=0,mn=ln.length;Lt<mn;Lt++)Mn.attributes[ln[Lt]]={},Mn.attributesOrder.push(ln[Lt])}};if(Li[z])return Li[z];if(he="id accesskey class dir lang style tabindex title role",de="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",Ae="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==z&&(he+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",de+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",Ae+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==z){he+=" xml:lang";const wt="acronym applet basefont big font strike tt";Ae=[Ae,wt].join(" "),qt(Ut(wt),sn=>{oe(sn,"",Ae)});const ct="center dir isindex noframes";de=[de,ct].join(" "),Ne=[de,Ae].join(" "),qt(Ut(ct),sn=>{oe(sn,"",Ne)})}return Ne=Ne||[de,Ae].join(" "),oe("html","manifest","head body"),oe("head","","base command link meta noscript script style title"),oe("title hr noscript br"),oe("base","href target"),oe("link","href rel media hreflang type sizes hreflang"),oe("meta","name http-equiv content charset"),oe("style","media type scoped"),oe("script","src async defer type charset"),oe("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",Ne),oe("dd div","",Ne),oe("address dt caption","","html4"===z?Ae:Ne),oe("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",Ae),oe("blockquote","cite",Ne),oe("ol","reversed start type","li"),oe("ul","","li"),oe("li","value",Ne),oe("dl","","dt dd"),oe("a","href target rel media hreflang type","html4"===z?Ae:Ne),oe("q","cite",Ae),oe("ins del","cite datetime",Ne),oe("img","src sizes srcset alt usemap ismap width height"),oe("iframe","src name width height",Ne),oe("embed","src type width height"),oe("object","data type typemustmatch name usemap form width height",[Ne,"param"].join(" ")),oe("param","name value"),oe("map","name",[Ne,"area"].join(" ")),oe("area","alt coords shape href target rel media hreflang type"),oe("table","border","caption colgroup thead tfoot tbody tr"+("html4"===z?" col":"")),oe("colgroup","span","col"),oe("col","span"),oe("tbody thead tfoot","","tr"),oe("tr","","td th"),oe("td","colspan rowspan headers",Ne),oe("th","colspan rowspan headers scope abbr",Ne),oe("form","accept-charset action autocomplete enctype method name novalidate target",Ne),oe("fieldset","disabled form name",[Ne,"legend"].join(" ")),oe("label","form for",Ae),oe("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),oe("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===z?Ne:Ae),oe("select","disabled form multiple name required size","option optgroup"),oe("optgroup","disabled label","option"),oe("option","disabled label selected value"),oe("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),oe("menu","type label",[Ne,"li"].join(" ")),oe("noscript","",Ne),"html4"!==z&&(oe("wbr"),oe("ruby","",[Ae,"rt rp"].join(" ")),oe("figcaption","",Ne),oe("mark rt rp summary bdi","",Ae),oe("canvas","width height",Ne),oe("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[Ne,"track source"].join(" ")),oe("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[Ne,"track source"].join(" ")),oe("picture","","img source"),oe("source","src srcset type media sizes"),oe("track","kind src srclang label default"),oe("datalist","",[Ae,"option"].join(" ")),oe("article section nav aside main header footer","",Ne),oe("hgroup","","h1 h2 h3 h4 h5 h6"),oe("figure","",[Ne,"figcaption"].join(" ")),oe("time","datetime",Ae),oe("dialog","open",Ne),oe("command","type label icon disabled checked radiogroup command"),oe("output","for form name",Ae),oe("progress","value max",Ae),oe("meter","value min max low high optimum",Ae),oe("details","open",[Ne,"summary"].join(" ")),oe("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==z&&(Pe("script","language xml:space"),Pe("style","xml:space"),Pe("object","declare classid code codebase codetype archive standby align border hspace vspace"),Pe("embed","align name hspace vspace"),Pe("param","valuetype type"),Pe("a","charset name rev shape coords"),Pe("br","clear"),Pe("applet","codebase archive code object alt name width height align hspace vspace"),Pe("img","name longdesc align border hspace vspace"),Pe("iframe","longdesc frameborder marginwidth marginheight scrolling align"),Pe("font basefont","size color face"),Pe("input","usemap align"),Pe("select"),Pe("textarea"),Pe("h1 h2 h3 h4 h5 h6 div p legend caption","align"),Pe("ul","type compact"),Pe("li","type"),Pe("ol dl menu dir","compact"),Pe("pre","width xml:space"),Pe("hr","align noshade size width"),Pe("isindex","prompt"),Pe("table","summary width frame rules cellspacing cellpadding align bgcolor"),Pe("col","width align char charoff valign"),Pe("colgroup","width align char charoff valign"),Pe("thead","align char charoff valign"),Pe("tr","align char charoff valign bgcolor"),Pe("th","axis align char charoff valign nowrap bgcolor width height"),Pe("form","accept"),Pe("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),Pe("tfoot","align char charoff valign"),Pe("tbody","align char charoff valign"),Pe("area","nohref"),Pe("body","background bgcolor text link vlink alink")),"html4"!==z&&(Pe("input button select textarea","autofocus"),Pe("input textarea","placeholder"),Pe("a","download"),Pe("link script img","crossorigin"),Pe("img","loading"),Pe("iframe","sandbox seamless allow allowfullscreen loading")),"html4"!==z&&V([Z.video,Z.audio],wt=>{delete wt.children.audio,delete wt.children.video}),qt(Ut("a form meter progress dfn"),wt=>{Z[wt]&&delete Z[wt].children[wt]}),delete Z.caption.children.table,delete Z.script,Li[z]=Z,Z})(l);!1===e.verify_html&&(e.valid_elements="*[*]");const c=rc(e.valid_styles),u=rc(e.invalid_styles,"map"),m=rc(e.valid_classes,"map"),p=i("whitespace_elements","pre script noscript style textarea video audio iframe object code"),f=i("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),h=i("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),g=i("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),b="td th iframe video audio object script code",v=i("non_empty_elements",b+" pre",h),C=i("move_caret_before_on_enter_elements",b+" table",h),w=i("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),E=i("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",w),k=i("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),x=i("transparent_elements","a ins del canvas map");qt("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),z=>{s[z]=new RegExp("</"+z+"[^>]*>","gi")});const O=z=>new RegExp("^"+z.replace(/([?+*])/g,".$1")+"$"),I=z=>{const Z=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,he=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,de=/[*?+]/;if(z){const Ae=Ut(z,",");let Ne,oe;n["@"]&&(Ne=n["@"].attributes,oe=n["@"].attributesOrder);for(let Pe=0,wt=Ae.length;Pe<wt;Pe++){let ct=Z.exec(Ae[Pe]);if(ct){const sn=ct[1],ln=ct[2],Gn=ct[3],Mn=ct[5],Lt={},mn=[],gt={attributes:Lt,attributesOrder:mn};if("#"===sn&&(gt.paddEmpty=!0),"-"===sn&&(gt.removeEmpty=!0),"!"===ct[4]&&(gt.removeEmptyAttrs=!0),Ne&&(ve(Ne,(gr,no)=>{Lt[no]=gr}),oe&&mn.push(...oe)),Mn){const gr=Ut(Mn,"|");for(let no=0,pd=gr.length;no<pd;no++)if(ct=he.exec(gr[no]),ct){const pr={},ii=ct[1],bn=ct[2].replace(/[\\:]:/g,":"),ro=ct[3],vn=ct[4];if("!"===ii&&(gt.attributesRequired=gt.attributesRequired||[],gt.attributesRequired.push(bn),pr.required=!0),"-"===ii){delete Lt[bn],mn.splice(yx(mn,bn),1);continue}if(ro&&("="===ro&&(gt.attributesDefault=gt.attributesDefault||[],gt.attributesDefault.push({name:bn,value:vn}),pr.defaultValue=vn),"~"===ro&&(gt.attributesForced=gt.attributesForced||[],gt.attributesForced.push({name:bn,value:vn}),pr.forcedValue=vn),"<"===ro&&(pr.validValues=ma(vn,"?"))),de.test(bn)){const Ko=pr;gt.attributePatterns=gt.attributePatterns||[],Ko.pattern=O(bn),gt.attributePatterns.push(Ko)}else Lt[bn]||mn.push(bn),Lt[bn]=pr}}if(Ne||"@"!==ln||(Ne=Lt,oe=mn),Gn&&(gt.outputName=ln,n[Gn]=gt),de.test(ln)){const gr=gt;gr.pattern=O(ln),o.push(gr)}else n[ln]=gt}}}},L=z=>{o=[],V(Me(n),Z=>{delete n[Z]}),I(z),qt(d,(Z,he)=>{r[he]=Z.children})},_=z=>{const Z=/^(~)?(.+)$/;z&&(delete Pi.text_block_elements,delete Pi.block_elements,qt(Ut(z,","),he=>{const de=Z.exec(he);if(de){const Ae="~"===de[1],Ne=Ae?"span":"div",oe=de[2];if(r[oe]=r[Ne],a[oe]=Ne,v[oe.toUpperCase()]={},v[oe]={},Ae||(E[oe.toUpperCase()]={},E[oe]={}),!n[oe]){let Pe=n[Ne];Pe=nc({},Pe),delete Pe.removeEmptyAttrs,delete Pe.removeEmpty,n[oe]=Pe}qt(r,(Pe,wt)=>{Pe[Ne]&&(r[wt]=Pe=nc({},r[wt]),Pe[oe]=Pe[Ne])})}}))},T=z=>{const Z=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete Li[l],z&&qt(Ut(z,","),he=>{const de=Z.exec(he);if(de){const Ae=de[1];let Ne;Ne=Ae?r[de[2]]:r[de[2]]={"#comment":{}},Ne=r[de[2]],qt(Ut(de[3],"|"),oe=>{"-"===Ae?delete Ne[oe]:Ne[oe]={}})}})},N=z=>{const Z=n[z];if(Z)return Z;let he=o.length;for(;he--;){const de=o[he];if(de.pattern.test(z))return de}};e.valid_elements?L(e.valid_elements):(qt(d,(z,Z)=>{n[Z]={attributes:z.attributes,attributesOrder:z.attributesOrder},r[Z]=z.children}),qt(Ut("strong/b em/i"),z=>{const Z=Ut(z,"/");n[Z[1]].outputName=Z[0]}),qt(k,(z,Z)=>{n[Z]&&(e.padd_empty_block_inline_children&&(n[Z].paddInEmptyBlock=!0),n[Z].removeEmpty=!0)}),qt(Ut("ol ul blockquote a table tbody"),z=>{n[z]&&(n[z].removeEmpty=!0)}),qt(Ut("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),z=>{n[z]&&(n[z].paddEmpty=!0)}),qt(Ut("span"),z=>{n[z].removeEmptyAttrs=!0})),_(e.custom_elements),T(e.valid_children),I(e.extended_valid_elements),T("+ol[ul|ol],+ul[ul|ol]"),qt({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(z,Z)=>{n[Z]&&(n[Z].parentsRequired=Ut(z))}),e.invalid_elements&&qt(up(e.invalid_elements),z=>{n[z]&&delete n[z]}),N("span")||I("span[!data-mce-type|*]");const B=ee(c),Q=ee(u),G=ee(m),Ce=ee(g),re=ee(E),Te=ee(w),Be=ee(k),se=ee(Object.seal(h)),be=ee(f),_e=ee(v),A=ee(C),R=ee(p),M=ee(x),j=ee(Object.seal(s)),$=ee(a);return{type:l,children:r,elements:n,getValidStyles:B,getValidClasses:G,getBlockElements:re,getInvalidStyles:Q,getVoidElements:se,getTextBlockElements:Te,getTextInlineElements:Be,getBoolAttrs:Ce,getElementRule:N,getSelfClosingElements:be,getNonEmptyElements:_e,getMoveCaretBeforeOnEnterElements:A,getWhitespaceElements:R,getTransparentElements:M,getSpecialElements:j,isValidChild:(z,Z)=>{const he=r[z.toLowerCase()];return!(!he||!he[Z.toLowerCase()])},isValid:(z,Z)=>{const he=N(z);if(he){if(!Z)return!0;{if(he.attributes[Z])return!0;const de=he.attributePatterns;if(de){let Ae=de.length;for(;Ae--;)if(de[Ae].pattern.test(Z))return!0}}}return!1},getCustomElements:$,addValidElements:I,setValidElements:L,addCustomElements:_,addValidChildren:T}},oc=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,r=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/,a={};let s,i;t&&(s=t.getValidStyles(),i=t.getInvalidStyles());const d="\\\" \\' \\; \\: ; : \ufeff".split(" ");for(let u=0;u<d.length;u++)a[d[u]]="\ufeff"+u,a["\ufeff"+u]=d[u];const c={parse:u=>{const m={};let p=!1;const f=e.url_converter,h=e.url_converter_scope||c,g=(L,_,T)=>{const N=m[L+"-top"+_];if(!N)return;const B=m[L+"-right"+_];if(!B)return;const Q=m[L+"-bottom"+_];if(!Q)return;const G=m[L+"-left"+_];if(!G)return;const Ce=[N,B,Q,G];let re=Ce.length-1;for(;re--&&Ce[re]===Ce[re+1];);re>-1&&T||(m[L+_]=-1===re?Ce[0]:Ce.join(" "),delete m[L+"-top"+_],delete m[L+"-right"+_],delete m[L+"-bottom"+_],delete m[L+"-left"+_])},b=L=>{const _=m[L];if(!_)return;const T=_.split(" ");let N=T.length;for(;N--;)if(T[N]!==T[0])return!1;return m[L]=T[0],!0},v=L=>(p=!0,a[L]),C=(L,_)=>(p&&(L=L.replace(/\uFEFF[0-9]/g,T=>a[T])),_||(L=L.replace(/\\([\'\";:])/g,"$1")),L),w=L=>String.fromCharCode(parseInt(L.slice(1),16)),E=L=>L.replace(/\\[0-9a-f]+/gi,w),k=(L,_,T,N,B,Q)=>{if(B=B||Q)return"'"+(B=C(B)).replace(/\'/g,"\\'")+"'";if(_=C(_||T||N||""),!e.allow_script_urls){const G=_.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(G)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(G))return""}return f&&(_=f.call(h,_,"style")),"url('"+_.replace(/\'/g,"\\'")+"')"};if(u){let L;for(u=(u=u.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,v).replace(/\"[^\"]+\"|\'[^\']+\'/g,_=>_.replace(/[;:]/g,v));L=r.exec(u);){r.lastIndex=L.index+L[0].length;let _=L[1].replace(o,"").toLowerCase(),T=L[2].replace(o,"");if(_&&T){if(_=E(_),T=E(T),-1!==_.indexOf("\ufeff")||-1!==_.indexOf('"')||!e.allow_script_urls&&("behavior"===_||/expression\s*\(|\/\*|\*\//.test(T)))continue;"font-weight"===_&&"700"===T?T="bold":"color"!==_&&"background-color"!==_||(T=T.toLowerCase()),T=T.replace(n,k),m[_]=p?C(T,!0):T}}g("border","",!0),g("border","-width"),g("border","-color"),g("border","-style"),g("padding",""),g("margin",""),O="border-style",I="border-color",b(x="border-width")&&b(O)&&b(I)&&(m.border=m[x]+" "+m[O]+" "+m[I],delete m[x],delete m[O],delete m[I]),"medium none"===m.border&&delete m.border,"none"===m["border-image"]&&delete m["border-image"]}var x,O,I;return m},serialize:(u,m)=>{let p="";const f=(h,g)=>{const b=g[h];if(b)for(let v=0,C=b.length;v<C;v++){const w=b[v],E=u[w];E&&(p+=(p.length>0?" ":"")+w+": "+E+";")}};return m&&s?(f("*",s),f(m,s)):ve(u,(h,g)=>{h&&((b,v)=>{if(!i||!v)return!0;let C=i["*"];return!(C&&C[b]||(C=i[v],C&&C[b]))})(g,m)&&(p+=(p.length>0?" ":"")+g+": "+h+";")}),p}};return c},Cx={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},gp=(e,t)=>{const n=null!=t?t:{};for(const r in e)Ie(Cx,r)||(n[r]=e[r]);return F(e.composedPath)&&(n.composedPath=()=>e.composedPath()),n},ac=(e,t,n,r)=>{var o;const a=gp(t,r);return a.type=e,ie(a.target)&&(a.target=null!==(o=a.srcElement)&&void 0!==o?o:n),(ie((s=t).preventDefault)||(i=s)instanceof Event||we(i.initEvent))&&(a.preventDefault=()=>{a.defaultPrevented=!0,a.isDefaultPrevented=rt,we(t.preventDefault)&&t.preventDefault()},a.stopPropagation=()=>{a.cancelBubble=!0,a.isPropagationStopped=rt,we(t.stopPropagation)&&t.stopPropagation()},a.stopImmediatePropagation=()=>{a.isImmediatePropagationStopped=rt,a.stopPropagation()},(s=>s.isDefaultPrevented===rt||s.isDefaultPrevented===$e)(a)||(a.isDefaultPrevented=!0===a.defaultPrevented?rt:$e,a.isPropagationStopped=!0===a.cancelBubble?rt:$e,a.isImmediatePropagationStopped=$e)),a;var s,i},wx=/^(?:mouse|contextmenu)|click/,sc=(e,t,n,r)=>{e.addEventListener(t,n,r||!1)},Ii=(e,t,n,r)=>{e.removeEventListener(t,n,r||!1)},ss=(e,t)=>{const n=ac(e.type,e,document,t);if(F(r=e)&&wx.test(r.type)&&ne(e.pageX)&&!ne(e.clientX)){const r=n.target.ownerDocument||document,o=r.documentElement,a=r.body,s=n;s.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),s.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}var r;return n},Ex=(e,t,n)=>{const r=e.document,o={type:"ready"};if(n.domLoaded)return void t(o);const a=()=>{Ii(e,"DOMContentLoaded",a),Ii(e,"load",a),n.domLoaded||(n.domLoaded=!0,t(o)),e=null};"complete"===r.readyState||"interactive"===r.readyState&&r.body?a():sc(e,"DOMContentLoaded",a),n.domLoaded||sc(e,"load",a)};class Eo{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,r,o){const a=this;let s;const i=window,l=m=>{a.executeHandlers(ss(m||i.event),d)};if(!t||K(t)||Mr(t))return r;let d;t[a.expando]?d=t[a.expando]:(d=a.count++,t[a.expando]=d,a.events[d]={}),o=o||t;const c=n.split(" ");let u=c.length;for(;u--;){let m=c[u],p=l,f=!1,h=!1;"DOMContentLoaded"===m&&(m="ready"),a.domLoaded&&"ready"===m&&"complete"===t.readyState?r.call(o,ss({type:m})):(a.hasFocusIn||"focusin"!==m&&"focusout"!==m||(f=!0,h="focusin"===m?"focus":"blur",p=g=>{const b=ss(g||i.event);b.type="focus"===b.type?"focusin":"focusout",a.executeHandlers(b,d)}),s=a.events[d][m],s?"ready"===m&&a.domLoaded?r(ss({type:m})):s.push({func:r,scope:o}):(a.events[d][m]=s=[{func:r,scope:o}],s.fakeName=h,s.capture=f,s.nativeHandler=p,"ready"===m?Ex(t,p,a):sc(t,h||m,p,f)))}return t=s=null,r}unbind(t,n,r){if(!t||K(t)||Mr(t))return this;const o=t[this.expando];if(o){let a=this.events[o];if(n){const s=n.split(" ");let i=s.length;for(;i--;){const l=s[i],d=a[l];if(d){if(r){let c=d.length;for(;c--;)if(d[c].func===r){const u=d.nativeHandler,m=d.fakeName,p=d.capture,f=d.slice(0,c).concat(d.slice(c+1));f.nativeHandler=u,f.fakeName=m,f.capture=p,a[l]=f}}r&&0!==d.length||(delete a[l],Ii(t,d.fakeName||l,d.nativeHandler,d.capture))}}}else ve(a,(s,i)=>{Ii(t,s.fakeName||i,s.nativeHandler,s.capture)}),a={};for(const s in a)if(Ie(a,s))return this;delete this.events[o];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,r){return this.dispatch(t,n,r)}dispatch(t,n,r){if(!t||K(t)||Mr(t))return this;const o=ss({type:n,target:t},r);do{const a=t[this.expando];a&&this.executeHandlers(o,a),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!o.isPropagationStopped());return this}clean(t){if(!t||K(t)||Mr(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let r=n.length;for(;r--;)(t=n[r])[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const r=this.events[n],o=r&&r[t.type];if(o)for(let a=0,s=o.length;a<s;a++){const i=o[a];if(i&&!1===i.func.call(i.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}Eo.Event=new Eo;const ic=X.each,kx=X.grep,lc="data-mce-style",xx=X.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),is=(e,t,n)=>{ie(n)||""===n?Mt(e,t):Bt(e,t,n)},pp=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),fa=(e,t)=>{let n=0;if(e)for(let r=e.nodeType,o=e.previousSibling;o;o=o.previousSibling){const a=o.nodeType;(!t||!K(o)||a!==r&&o.data.length)&&(n++,r=a)}return n},hp=(e,t)=>{const n=Cn(t,"style"),r=e.serialize(e.parse(n),ot(t));is(t,lc,r)},bp=(e,t,n)=>{const r=pp(t);var o,a;ie(n)||""===n?Rg(e,r):_g(e,r,(a=r,xe(o=n)?Ie(xx,a)?o+"":o+"px":o))},et=(e,t={})=>{const n={},r=window,o={};let a=0;const s=ap.forElement(S(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),i=[],l=t.schema?t.schema:jr({}),d=oc({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),c=t.ownEvents?new Eo:Eo.Event,u=l.getBlockElements(),m=A=>A&&e&&ae(A)?e.getElementById(A):A,p=A=>{const R=m(A);return F(R)?S(R):null},f=(A,R,M="")=>{let j;const $=p(A);if(F($)&&dn($)){const z=_e[R];j=z&&z.get?z.get($.dom,R):Cn($,R)}return F(j)?j:M},h=A=>{const R=m(A);return ie(R)?[]:R.attributes},g=(A,R,M)=>{O(A,j=>{if(ue(j)){const $=S(j),z=""===M?null:M,Z=Cn($,R),he=_e[R];he&&he.set?he.set($.dom,z,R):is($,R,z),Z!==z&&t.onSetAttrib&&t.onSetAttrib({attrElm:$.dom,attrName:R,attrValue:z})}})},b=()=>t.root_element||e.body,v=(A,R)=>((M,j,$)=>{let z=0,Z=0;const he=M.ownerDocument;if($=$||M,j){if($===M&&j.getBoundingClientRect&&"static"===tr(S(M),"position")){const Ae=j.getBoundingClientRect();return z=Ae.left+(he.documentElement.scrollLeft||M.scrollLeft)-he.documentElement.clientLeft,Z=Ae.top+(he.documentElement.scrollTop||M.scrollTop)-he.documentElement.clientTop,{x:z,y:Z}}let de=j;for(;de&&de!==$&&de.nodeType&&!rp(de,$);)z+=de.offsetLeft||0,Z+=de.offsetTop||0,de=de.offsetParent;for(de=j.parentNode;de&&de!==$&&de.nodeType&&!rp(de,$);)z-=de.scrollLeft||0,Z-=de.scrollTop||0,de=de.parentNode;Z+=(Ae=S(j),mx.isFirefox()&&"table"===ot(Ae)?np(Ft(Ae)).filter(Ne=>"caption"===ot(Ne)).bind(Ne=>np(wg(Ne)).map(oe=>oe.dom.offsetTop<=Ne.dom.offsetTop?-Ne.dom.offsetHeight:0)).getOr(0):0)}var Ae;return{x:z,y:Z}})(e.body,m(A),R),C=(A,R,M)=>{const j=m(A);if(!ie(j)&&ue(j))return M?tr(S(j),pp(R)):("float"===(R=R.replace(/-(\D)/g,($,z)=>z.toUpperCase()))&&(R="cssFloat"),j.style?j.style[R]:void 0)},w=A=>{const R=m(A);if(!R)return{w:0,h:0};let M=C(R,"width"),j=C(R,"height");return M&&-1!==M.indexOf("px")||(M="0"),j&&-1!==j.indexOf("px")||(j="0"),{w:parseInt(M,10)||R.offsetWidth||R.clientWidth,h:parseInt(j,10)||R.offsetHeight||R.clientHeight}},E=(A,R)=>{if(!A)return!1;const M=q(A)?A:[A];return st(M,j=>Fn(S(j),R))},k=(A,R,M,j)=>{const $=[];let z=m(A);j=void 0===j;const Z=M||("BODY"!==b().nodeName?b().parentNode:null);if(ae(R))if("*"===R)R=ue;else{const he=R;R=de=>E(de,he)}for(;z&&!(z===Z||ie(z.nodeType)||ns(z)||zd(z));){if(!R||R(z)){if(!j)return[z];$.push(z)}z=z.parentNode}return j?$:null},x=(A,R,M)=>{let j=R;if(A){ae(R)&&(j=$=>E($,R));for(let $=A[M];$;$=$[M])if(we(j)&&j($))return $}return null},O=function(A,R,M){const j=null!=M?M:this;if(q(A)){const $=[];return ic(A,(z,Z)=>{const he=m(z);he&&$.push(R.call(j,he,Z))}),$}{const $=m(A);return!!$&&R.call(j,$)}},I=(A,R)=>{O(A,M=>{ve(R,(j,$)=>{g(M,$,j)})})},L=(A,R)=>{O(A,M=>{const j=S(M);vi(j,R)})},_=(A,R,M,j,$)=>O(A,z=>{const Z=ae(R)?e.createElement(R):R;return F(M)&&I(Z,M),j&&(!ae(j)&&j.nodeType?Z.appendChild(j):ae(j)&&L(Z,j)),$?Z:z.appendChild(Z)}),T=(A,R,M)=>_(e.createElement(A),A,R,M,!0),N=zr.encodeAllRaw,B=(A,R)=>O(A,M=>{const j=S(M);return R&&V(Ft(j),$=>{yn($)&&0===$.dom.length?lt($):pn(j,$)}),lt(j),j.dom}),Q=(A,R,M)=>{O(A,j=>{if(ue(j)){const $=S(j),z=R.split(" ");V(z,Z=>{var he,de,Ne,oe;F(M)?(M?ta:na)($,Z):(de=Z,Ga(he=$)?he.dom.classList.toggle(de):(oe=de,qe(mg(Ne=he),oe)?gg(Ne,oe):fg(Ne,oe)),pg(he))})}})},G=(A,R,M)=>O(R,j=>{var $;const z=q(R)?A.cloneNode(!0):A;return M&&ic(kx(j.childNodes),Z=>{z.appendChild(Z)}),null===($=j.parentNode)||void 0===$||$.replaceChild(z,j),j}),Ce=A=>{if(ue(A)){const R="a"===A.nodeName.toLowerCase()&&!f(A,"href")&&f(A,"id");if(f(A,"name")||f(A,"data-mce-bookmark")||R)return!0}return!1},re=()=>e.createRange(),Te=(A,R,M,j)=>{if(q(A)){let $=A.length;const z=[];for(;$--;)z[$]=Te(A[$],R,M,j);return z}return!t.collect||A!==e&&A!==r||i.push([A,R,M,j]),c.bind(A,R,M,j||be)},Be=(A,R,M)=>{if(q(A)){let j=A.length;const $=[];for(;j--;)$[j]=Be(A[j],R,M);return $}if(i.length>0&&(A===e||A===r)){let j=i.length;for(;j--;){const[$,z,Z]=i[j];A!==$||R&&R!==z||M&&M!==Z||c.unbind($,z,Z)}}return c.unbind(A,R,M)},se=A=>{if(A&&ue(A)){const R=A.getAttribute("data-mce-contenteditable");return R&&"inherit"!==R?R:"inherit"!==A.contentEditable?A.contentEditable:null}return null},be={doc:e,settings:t,win:r,files:o,stdMode:!0,boxModel:!0,styleSheetLoader:s,boundEvents:i,styles:d,schema:l,events:c,isBlock:A=>ae(A)?Ie(u,A):ue(A)&&(Ie(u,A.nodeName)||Co(l,A)),root:null,clone:(A,R)=>A.cloneNode(R),getRoot:b,getViewPort:A=>{const R=Ig(A);return{x:R.x,y:R.y,w:R.width,h:R.height}},getRect:A=>{const R=m(A),M=v(R),j=w(R);return{x:M.x,y:M.y,w:j.w,h:j.h}},getSize:w,getParent:(A,R,M)=>{const j=k(A,R,M,!1);return j&&j.length>0?j[0]:null},getParents:k,get:m,getNext:(A,R)=>x(A,R,"nextSibling"),getPrev:(A,R)=>x(A,R,"previousSibling"),select:(A,R)=>{var M,j;const $=null!==(j=null!==(M=m(R))&&void 0!==M?M:t.root_element)&&void 0!==j?j:e;return we($.querySelectorAll)?Se($.querySelectorAll(A)):[]},is:E,add:_,create:T,createHTML:(A,R,M="")=>{let j="<"+A;for(const $ in R)Zo(R,$)&&(j+=" "+$+'="'+N(R[$])+'"');return Wa(M)&&Ie(l.getVoidElements(),A)?j+" />":j+">"+M+"</"+A+">"},createFragment:A=>{const R=e.createElement("div"),M=e.createDocumentFragment();let j;for(M.appendChild(R),A&&(R.innerHTML=A);j=R.firstChild;)M.appendChild(j);return M.removeChild(R),M},remove:B,setStyle:(A,R,M)=>{O(A,j=>{const $=S(j);bp($,R,M),t.update_styles&&hp(d,$)})},getStyle:C,setStyles:(A,R)=>{O(A,M=>{const j=S(M);ve(R,($,z)=>{bp(j,z,$)}),t.update_styles&&hp(d,j)})},removeAllAttribs:A=>O(A,R=>{const M=R.attributes;for(let j=M.length-1;j>=0;j--)R.removeAttributeNode(M.item(j))}),setAttrib:g,setAttribs:I,getAttrib:f,getPos:v,parseStyle:A=>d.parse(A),serializeStyle:(A,R)=>d.serialize(A,R),addStyle:A=>{if(be!==et.DOM&&e===document){if(n[A])return;n[A]=!0}let R=e.getElementById("mceDefaultStyles");if(!R){R=e.createElement("style"),R.id="mceDefaultStyles",R.type="text/css";const M=e.head;M.firstChild?M.insertBefore(R,M.firstChild):M.appendChild(R)}R.styleSheet?R.styleSheet.cssText+=A:R.appendChild(e.createTextNode(A))},loadCSS:A=>{A||(A=""),V(A.split(","),R=>{o[R]=!0,s.load(R).catch(Ee)})},addClass:(A,R)=>{Q(A,R,!0)},removeClass:(A,R)=>{Q(A,R,!1)},hasClass:(A,R)=>{const M=p(A),j=R.split(" ");return F(M)&&Xn(j,$=>Td(M,$))},toggleClass:Q,show:A=>{O(A,R=>Rg(S(R),"display"))},hide:A=>{O(A,R=>_g(S(R),"display","none"))},isHidden:A=>{const R=p(A);return F(R)&&Jo(bi(R,"display"),"none")},uniqueId:A=>(A||"mce_")+a++,setHTML:L,getOuterHTML:A=>{const R=p(A);return F(R)?ue(R.dom)?R.dom.outerHTML:(M=>{const j=Dt("div"),$=S(M.dom.cloneNode(!0));return yt(j,$),Bg(j)})(R):""},setOuterHTML:(A,R)=>{O(A,M=>{ue(M)&&(M.outerHTML=R)})},decode:zr.decode,encode:N,insertAfter:(A,R)=>{const M=m(R);return O(A,j=>{const $=null==M?void 0:M.parentNode,z=null==M?void 0:M.nextSibling;return $&&(z?$.insertBefore(j,z):$.appendChild(j)),j})},replace:G,rename:(A,R)=>{if(A.nodeName!==R.toUpperCase()){const M=T(R);return ic(h(A),j=>{g(M,j.nodeName,f(A,j.nodeName))}),G(M,A,!0),M}return A},findCommonAncestor:(A,R)=>{let M=A;for(;M;){let j=R;for(;j&&M!==j;)j=j.parentNode;if(M===j)break;M=M.parentNode}return!M&&A.ownerDocument?A.ownerDocument.documentElement:M},run:O,getAttribs:h,isEmpty:(A,R,M)=>{let j=0;if(Ce(A))return!1;const $=A.firstChild;if($){const z=new kt($,A),Z=l?l.getWhitespaceElements():{},he=R||(l?l.getNonEmptyElements():null);let de=$;do{if(ue(de)){const Ae=de.getAttribute("data-mce-bogus");if(Ae){de=z.next("all"===Ae);continue}const Ne=de.nodeName.toLowerCase();if(he&&he[Ne]){if("br"===Ne){j++,de=z.next();continue}return!1}if(Ce(de))return!1}if(Mr(de)||K(de)&&!yo(de.data)&&(null==M||!M.includeZwsp||!ax(de.data))||K(de)&&de.parentNode&&Z[de.parentNode.nodeName]&&yo(de.data))return!1;de=z.next()}while(de)}return j<=1},createRng:re,nodeIndex:fa,split:(A,R,M)=>{let j,$,z=re();if(A&&R&&A.parentNode&&R.parentNode){const Z=A.parentNode;return z.setStart(Z,fa(A)),z.setEnd(R.parentNode,fa(R)),j=z.extractContents(),z=re(),z.setStart(R.parentNode,fa(R)+1),z.setEnd(Z,fa(A)+1),$=z.extractContents(),Z.insertBefore(Jd(be,j),A),Z.insertBefore(M||R,A),Z.insertBefore(Jd(be,$),A),B(A),M||R}},bind:Te,unbind:Be,fire:(A,R,M)=>c.dispatch(A,R,M),dispatch:(A,R,M)=>c.dispatch(A,R,M),getContentEditable:se,getContentEditableParent:A=>{const R=b();let M=null;for(let j=A;j&&j!==R&&(M=se(j),null===M);j=j.parentNode);return M},isEditable:A=>{if(F(A)){const R=ue(A)?A:A.parentElement;return F(R)&&sa(S(R))}return!1},destroy:()=>{if(i.length>0){let A=i.length;for(;A--;){const[R,M,j]=i[A];c.unbind(R,M,j)}}ve(o,(A,R)=>{s.unload(R),delete o[R]})},isChildOf:(A,R)=>A===R||R.contains(A),dumpRng:A=>"startContainer: "+A.startContainer.nodeName+", startOffset: "+A.startOffset+", endContainer: "+A.endContainer.nodeName+", endOffset: "+A.endOffset},_e=((A,R,M)=>{const j=R.keep_values,z={style:{set:(Z,he)=>{const de=S(Z);j&&is(de,lc,he),Mt(de,"style"),ae(he)&&hi(de,A.parse(he))},get:Z=>{const he=S(Z),de=Cn(he,lc)||Cn(he,"style");return A.serialize(A.parse(de),ot(he))}}};return j&&(z.href=z.src={set:(Z,he,de)=>{const Ae=S(Z);we(R.url_converter)&&F(he)&&(he=R.url_converter.call(R.url_converter_scope||M(),String(he),de,Z)),is(Ae,"data-mce-"+de,he),is(Ae,de,he)},get:(Z,he)=>{const de=S(Z);return Cn(de,"data-mce-"+he)||Cn(de,he)}}),z})(d,t,ee(be));return be};et.DOM=et(document),et.nodeIndex=fa;const Sx=et.DOM;class _r{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,r)=>{const o=Sx;let a;const s=()=>{o.remove(i),a&&(a.onerror=a.onload=a=null)},i=o.uniqueId();a=document.createElement("script"),a.id=i,a.type="text/javascript",a.src=X._addCacheSuffix(t),this.settings.referrerPolicy&&o.setAttrib(a,"referrerpolicy",this.settings.referrerPolicy),a.onload=()=>{s(),n()},a.onerror=()=>{s(),r("Failed to load script: "+t)},(document.getElementsByTagName("head")[0]||document.body).appendChild(a)})}isDone(t){return 2===this.states[t]}markDone(t){this.states[t]=2}add(t){const n=this;return n.queue.push(t),void 0===n.states[t]&&(n.states[t]=0),new Promise((r,o)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:r,reject:o})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,r=(l,d)=>{it(n.scriptLoadedCallbacks,d).each(c=>{V(c,u=>u[l](d))}),delete n.scriptLoadedCallbacks[d]},o=l=>{const d=Re(l,c=>"rejected"===c.status);return d.length>0?Promise.reject(gn(d,({reason:c})=>q(c)?c:[c])):Promise.resolve()},a=l=>Promise.allSettled(ze(l,d=>2===n.states[d]?(r("resolve",d),Promise.resolve()):3===n.states[d]?(r("reject",d),Promise.reject(d)):(n.states[d]=1,n.loadScript(d).then(()=>{n.states[d]=2,r("resolve",d);const c=n.queue;return c.length>0?(n.queue=[],a(c).then(o)):Promise.resolve()},()=>(n.states[d]=3,r("reject",d),Promise.reject(d)))))),s=l=>(n.loading=!0,a(l).then(d=>{n.loading=!1;const c=n.queueLoadedCallbacks.shift();return y.from(c).each(Jt),o(d)})),i=Mf(t);return n.loading?new Promise((l,d)=>{n.queueLoadedCallbacks.push(()=>{s(i).then(l,d)})}):s(i)}}_r.ScriptLoader=new _r;const At=e=>{let t=e;return{get:()=>t,set:n=>{t=n}}},ls={},dc=At("en"),vp=()=>it(ls,dc.get()),zn={getData:()=>Ze(ls,e=>({...e})),setCode:e=>{e&&dc.set(e)},getCode:()=>dc.get(),add:(e,t)=>{let n=ls[e];n||(ls[e]=n={}),ve(t,(r,o)=>{n[o.toLowerCase()]=r})},translate:e=>{const t=vp().getOr({}),n=i=>we(i)?Object.prototype.toString.call(i):r(i)?"":""+i,r=i=>""===i||null==i,o=i=>{const l=n(i);return it(t,l.toLowerCase()).map(n).getOr(l)},a=i=>i.replace(/{context:\w+}$/,"");if(r(e))return"";if(Fe(s=e)&&Ie(s,"raw"))return n(e.raw);var s,i;if(q(i=e)&&i.length>1){const i=e.slice(1);return a(o(e[0]).replace(/\{([0-9]+)\}/g,(l,d)=>Ie(i,d)?n(i[d]):l))}return a(o(e))},isRtl:()=>vp().bind(e=>it(e,"_dir")).exists(e=>"rtl"===e),hasCode:e=>Ie(ls,e)},Kt=()=>{const e=[],t={},n={},r=[],o=(l,d)=>{const c=Re(r,u=>u.name===l&&u.state===d);V(c,u=>u.resolve())},a=l=>Ie(t,l),s=(l,d)=>{const c=zn.getCode();!c||d&&-1===(","+(d||"")+",").indexOf(","+c+",")||_r.ScriptLoader.add(t[l]+"/langs/"+c+".js")},i=(l,d="added")=>"added"===d&&Ie(n,l)||"loaded"===d&&a(l)?Promise.resolve():new Promise(c=>{r.push({name:l,state:d,resolve:c})});return{items:e,urls:t,lookup:n,get:l=>{if(n[l])return n[l].instance},requireLangPack:(l,d)=>{!1!==Kt.languageLoad&&(a(l)?s(l,d):i(l,"loaded").then(()=>s(l,d)))},add:(l,d)=>(e.push(d),n[l]={instance:d},o(l,"added"),d),remove:l=>{delete t[l],delete n[l]},createUrl:(l,d)=>ae(d)?ae(l)?{prefix:"",resource:d,suffix:""}:{prefix:l.prefix,resource:d,suffix:l.suffix}:d,load:(l,d)=>{if(t[l])return Promise.resolve();let c=ae(d)?d:d.prefix+d.resource+d.suffix;0!==c.indexOf("/")&&-1===c.indexOf("://")&&(c=Kt.baseURL+"/"+c),t[l]=c.substring(0,c.lastIndexOf("/"));const u=()=>(o(l,"loaded"),Promise.resolve());return n[l]?u():_r.ScriptLoader.add(c).then(u)},waitFor:i}};Kt.languageLoad=!0,Kt.baseURL="",Kt.PluginManager=Kt(),Kt.ThemeManager=Kt(),Kt.ModelManager=Kt();const _x=e=>{const t=At(y.none()),n=()=>t.get().each(r=>clearInterval(r));return{clear:()=>{n(),t.set(y.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:r=>{n(),t.set(y.some(setInterval(r,e)))}}},Hr=()=>{const e=(t=>{const n=At(y.none()),r=()=>n.get().each(t);return{clear:()=>{r(),n.set(y.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:o=>{r(),n.set(y.some(o))}}})(Ee);return{...e,on:t=>e.get().each(t)}},Mi=(e,t)=>{let n=null;return{cancel:()=>{W(n)||(clearTimeout(n),n=null)},throttle:(...r)=>{W(n)&&(n=setTimeout(()=>{n=null,e.apply(null,r)},t))}}},cc=(e,t)=>{let n=null;const r=()=>{W(n)||(clearTimeout(n),n=null)};return{cancel:r,throttle:(...o)=>{r(),n=setTimeout(()=>{n=null,e.apply(null,o)},t)}}},ds=ee("mce-annotation"),ko=ee("data-mce-annotation"),ga=ee("data-mce-annotation-uid"),cs=ee("data-mce-annotation-active"),us=ee("data-mce-annotation-classes"),ms=ee("data-mce-annotation-attrs"),yp=e=>t=>Ge(t,e),Cp=(e,t)=>{const n=e.selection.getRng(),r=S(n.startContainer),o=S(e.getBody()),a=t.fold(()=>"."+ds(),i=>`[${ko()}="${i}"]`),s=oa(r,n.startOffset).getOr(r);return go(s,a,yp(o)).bind(i=>yr(i,`${ga()}`).bind(l=>yr(i,`${ko()}`).map(d=>{const c=Ep(e,l);return{uid:l,name:d,elements:c}})))},wp=(e,t)=>pi(e,"data-mce-bogus")||Fg(e,'[data-mce-bogus="all"]',yp(t)),Ep=(e,t)=>{const n=S(e.getBody()),r=jt(n,`[${ga()}="${t}"]`);return Re(r,o=>!wp(o,n))},kp=(e,t)=>{const n=S(e.getBody()),r=jt(n,`[${ko()}="${t}"]`),o={};return V(r,a=>{if(!wp(a,n)){const s=Cn(a,ga()),i=it(o,s).getOr([]);o[s]=i.concat([a])}}),o};let xp=0;const fs=e=>{const t=(new Date).getTime(),n=Math.floor(1e9*Math.random());return xp++,e+"_"+n+xp+String(t)},Sp=(e,t)=>S(e.dom.cloneNode(t)),xo=e=>Sp(e,!1),_p=e=>Sp(e,!0),Ap=(e,t)=>{const n=((o,a)=>{const s=Dt(a),i=ug(o);return Lr(s,i),s})(e,t);Ir(e,n);const r=Ft(e);return po(n,r),lt(e),n},Np=(e,t,n=$e)=>{const r=new kt(e,t),o=a=>{let s;do{s=r[a]()}while(s&&!K(s)&&!n(s));return y.from(s).filter(K)};return{current:()=>y.from(r.current()).filter(K),next:()=>o("next"),prev:()=>o("prev"),prev2:()=>o("prev2")}},So=(e,t)=>{const n=t||(o=>e.isBlock(o)||ft(o)||at(o)),r=(o,a,s,i)=>{if(K(o)){const l=i(o,a,o.data);if(-1!==l)return y.some({container:o,offset:l})}return s().bind(l=>r(l.container,l.offset,s,i))};return{backwards:(o,a,s,i)=>{const l=Np(o,null!=i?i:e.getRoot(),n);return r(o,a,()=>l.prev().map(d=>({container:d,offset:d.length})),s).getOrNull()},forwards:(o,a,s,i)=>{const l=Np(o,null!=i?i:e.getRoot(),n);return r(o,a,()=>l.next().map(d=>({container:d,offset:0})),s).getOrNull()}}},pa=Math.round,_o=e=>e?{left:pa(e.left),top:pa(e.top),bottom:pa(e.bottom),right:pa(e.right),width:pa(e.width),height:pa(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},Rp=(e,t)=>(e=_o(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Tp=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,gs=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&Tp(t.top-e.bottom,e,t)},ps=(e,t)=>e.top>t.bottom||!(e.bottom<t.top)&&Tp(t.bottom-e.top,e,t),Op=(e,t,n)=>{const r=Math.max(Math.min(t,e.left+e.width),e.left),o=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-r)*(t-r)+(n-o)*(n-o))},Fi=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},qr=(e,t)=>{if(ue(e)&&e.hasChildNodes()){const n=e.childNodes;return n[(s=n.length-1,Math.min(Math.max(t,0),s))]}var s;return e},Ax=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),Bp=e=>ae(e)&&e.charCodeAt(0)>=768&&Ax.test(e),Dp=ue,Nx=Ln,Lp=wi("display","block table"),Rx=wi("float","left right"),hs=((...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0})(Dp,Nx,dt(Rx)),Tx=dt(wi("white-space","pre pre-line pre-wrap")),bs=K,uc=ft,Pp=et.nodeIndex,Ui=(e,t)=>t<0&&ue(e)&&e.hasChildNodes()?void 0:qr(e,t),mc=e=>e?e.createRange():et.DOM.createRng(),fc=e=>ae(e)&&/[\r\n\t ]/.test(e),Ip=e=>!!e.setStart&&!!e.setEnd,gc=e=>{const t=e.startContainer,n=e.startOffset;if(fc(e.toString())&&Tx(t.parentNode)&&K(t)){const r=t.data;if(fc(r[n-1])||fc(r[n+1]))return!0}return!1},Mp=e=>0===e.left&&0===e.right&&0===e.top&&0===e.bottom,Vr=e=>{var t;let n;const r=e.getClientRects();return n=_o(r.length>0?r[0]:e.getBoundingClientRect()),!Ip(e)&&uc(e)&&Mp(n)?(o=>{const a=o.ownerDocument,s=mc(a),i=a.createTextNode(_t),l=o.parentNode;l.insertBefore(i,o),s.setStart(i,0),s.setEnd(i,1);const d=_o(s.getBoundingClientRect());return l.removeChild(i),d})(e):Mp(n)&&Ip(e)&&null!==(t=(o=>{const s=o.endContainer,i=o.startOffset,l=o.endOffset;if(o.startContainer===s&&K(s)&&0===i&&1===l){const d=o.cloneRange();return d.setEndAfter(s),Vr(d)}return null})(e))&&void 0!==t?t:n},Ao=(e,t)=>{const n=Rp(e,t);return n.width=1,n.right=n.left+1,n},P=(e,t,n)=>{const r=()=>(n||(n=(o=>{const a=[],s=c=>{var u,m;0!==c.height&&(a.length>0&&(u=c).left===(m=a[a.length-1]).left&&u.top===m.top&&u.bottom===m.bottom&&u.right===m.right||a.push(c))},i=(c,u)=>{const m=mc(c.ownerDocument);if(u<c.data.length){if(Bp(c.data[u]))return;if(Bp(c.data[u-1])&&(m.setStart(c,u),m.setEnd(c,u+1),!gc(m)))return void s(Ao(Vr(m),!1))}u>0&&(m.setStart(c,u-1),m.setEnd(c,u),gc(m)||s(Ao(Vr(m),!1))),u<c.data.length&&(m.setStart(c,u),m.setEnd(c,u+1),gc(m)||s(Ao(Vr(m),!0)))},l=o.container(),d=o.offset();if(bs(l))return i(l,d),a;if(Dp(l))if(o.isAtEnd()){const c=Ui(l,d);bs(c)&&i(c,c.data.length),hs(c)&&!uc(c)&&s(Ao(Vr(c),!1))}else{const c=Ui(l,d);if(bs(c)&&i(c,0),hs(c)&&o.isAtEnd())return s(Ao(Vr(c),!1)),a;const u=Ui(o.container(),o.offset()-1);hs(u)&&!uc(u)&&(Lp(u)||Lp(c)||!hs(c))&&s(Ao(Vr(u),!1)),hs(c)&&s(Ao(Vr(c),!0))}return a})(P(e,t))),n);return{container:ee(e),offset:ee(t),toRange:()=>{const o=mc(e.ownerDocument);return o.setStart(e,t),o.setEnd(e,t),o},getClientRects:r,isVisible:()=>r().length>0,isAtStart:()=>(bs(e),0===t),isAtEnd:()=>bs(e)?t>=e.data.length:t>=e.childNodes.length,isEqual:o=>o&&e===o.container()&&t===o.offset(),getNode:o=>Ui(e,o?t-1:t)}};P.fromRangeStart=e=>P(e.startContainer,e.startOffset),P.fromRangeEnd=e=>P(e.endContainer,e.endOffset),P.after=e=>P(e.parentNode,Pp(e)+1),P.before=e=>P(e.parentNode,Pp(e)),P.isAbove=(e,t)=>en(te(t.getClientRects()),ye(e.getClientRects()),gs).getOr(!1),P.isBelow=(e,t)=>en(ye(t.getClientRects()),te(e.getClientRects()),ps).getOr(!1),P.isAtStart=e=>!!e&&e.isAtStart(),P.isAtEnd=e=>!!e&&e.isAtEnd(),P.isTextPosition=e=>!!e&&K(e.container()),P.isElementPosition=e=>!P.isTextPosition(e);const $i=(e,t)=>{K(t)&&0===t.data.length&&e.remove(t)},pc=(e,t,n)=>{var r,a;zd(n)?((r,o,a)=>{const s=y.from(a.firstChild),i=y.from(a.lastChild);o.insertNode(a),s.each(l=>$i(r,l.previousSibling)),i.each(l=>$i(r,l.nextSibling))})(e,t,n):(r=e,t.insertNode(a=n),$i(r,a.previousSibling),$i(r,a.nextSibling))},jn=K,Fp=bo,Up=et.nodeIndex,$p=e=>{const t=e.parentNode;return Fp(t)?$p(t):t},hc=e=>e?mi(e.childNodes,(t,n)=>(Fp(n)&&"BR"!==n.nodeName?t=t.concat(hc(n)):t.push(n),t),[]):[],zp=e=>t=>e===t,jp=e=>(jn(e)?"text()":e.nodeName.toLowerCase())+"["+(t=>{let n,r;n=hc($p(t)),r=Uf(n,zp(t),t),n=n.slice(0,r+1);const o=mi(n,(a,s,i)=>(jn(s)&&jn(n[i-1])&&a++,a),0);return n=qa(n,Un([t.nodeName])),r=Uf(n,zp(t),t),r-o})(e)+"]",Hp=(e,t)=>{let n,r=[],o=t.container(),a=t.offset();if(jn(o))n=((i,l)=>{let d=i;for(;(d=d.previousSibling)&&jn(d);)l+=d.data.length;return l})(o,a);else{const i=o.childNodes;a>=i.length?(n="after",a=i.length-1):n="before",o=i[a]}r.push(jp(o));let s=((i,l,d)=>{const c=[];for(let u=l.parentNode;u&&u!==i;u=u.parentNode)c.push(u);return c})(e,o);return s=qa(s,dt(bo)),r=r.concat(wd(s,i=>jp(i))),r.reverse().join("/")+","+n},qp=(e,t)=>{if(!t)return null;const n=t.split(","),r=n[0].split("/"),o=n.length>1?n[1]:"before",a=mi(r,(s,i)=>{const l=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(i);return l?("text()"===l[1]&&(l[1]="#text"),((d,c,u)=>{let m=hc(d);return m=qa(m,(p,f)=>!jn(p)||!jn(m[f-1])),m=qa(m,Un([c])),m[u]})(s,l[1],parseInt(l[2],10))):null},e);if(!a)return null;if(!jn(a)&&a.parentNode){let s;return s="after"===o?Up(a)+1:Up(a),P(a.parentNode,s)}return((s,i)=>{let l=s,d=0;for(;jn(l);){const c=l.data.length;if(i>=d&&i<=d+c){s=l,i-=d;break}if(!jn(l.nextSibling)){s=l,i=c;break}d+=c,l=l.nextSibling}return jn(s)&&i>s.data.length&&(i=s.data.length),P(s,i)})(a,parseInt(o,10))},zi=at,Vp=(e,t,n,r,o)=>{const a=o?r.startContainer:r.endContainer;let s=o?r.startOffset:r.endOffset;const i=[],l=e.getRoot();if(K(a))i.push(n?((d,c,u)=>{let m=d(c.data.slice(0,u)).length;for(let p=c.previousSibling;p&&K(p);p=p.previousSibling)m+=d(p.data).length;return m})(t,a,s):s);else{let d=0;const c=a.childNodes;s>=c.length&&c.length&&(d=1,s=Math.max(0,c.length-1)),i.push(e.nodeIndex(c[s],n)+d)}for(let d=a;d&&d!==l;d=d.parentNode)i.push(e.nodeIndex(d,n));return i},bc=(e,t,n)=>{let r=0;return X.each(e.select(t),o=>"all"===o.getAttribute("data-mce-bogus")?void 0:o!==n&&void r++),r},Wp=(e,t)=>{let n=t?e.startContainer:e.endContainer,r=t?e.startOffset:e.endOffset;if(ue(n)&&"TR"===n.nodeName){const o=n.childNodes;n=o[Math.min(t?r:r-1,o.length-1)],n&&(r=t?0:n.childNodes.length,t?e.setStart(n,r):e.setEnd(n,r))}},Gp=e=>(Wp(e,!0),Wp(e,!1),e),Kp=(e,t)=>{if(ue(e)&&(e=qr(e,t),zi(e)))return e;if(En(e)){K(e)&&ua(e)&&(e=e.parentNode);let n=e.previousSibling;if(zi(n)||(n=e.nextSibling,zi(n)))return n}},Yp=(e,t,n)=>{const r=n.getNode(),o=n.getRng();if("IMG"===r.nodeName||zi(r)){const s=r.nodeName;return{name:s,index:bc(n.dom,s,r)}}const a=Kp((s=o).startContainer,s.startOffset)||Kp(s.endContainer,s.endOffset);var s;if(a){const s=a.tagName;return{name:s,index:bc(n.dom,s,a)}}return((s,i,l,d)=>{const c=i.dom,u=Vp(c,s,l,d,!0),m=i.isForward(),p=Wg(d)?{isFakeCaret:!0}:{};return i.isCollapsed()?{start:u,forward:m,...p}:{start:u,end:Vp(c,s,l,d,!1),forward:m,...p}})(e,n,t,o)},Xp=(e,t,n)=>{const r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Zp=(e,t)=>{const n=e.dom;let r=e.getRng();const o=n.uniqueId(),a=e.isCollapsed(),s=e.getNode(),i=s.nodeName,l=e.isForward();if("IMG"===i)return{name:i,index:bc(n,i,s)};const d=Gp(r.cloneRange());if(!a){d.collapse(!1);const u=Xp(n,o+"_end",t);pc(n,d,u)}r=Gp(r),r.collapse(!0);const c=Xp(n,o+"_start",t);return pc(n,r,c),e.moveToBookmark({id:o,keep:!0,forward:l}),{id:o,forward:l}},vc=ce(Yp,ut,!0),Qp=e=>{const t=a=>a(e),n=ee(e),r=()=>o,o={tag:!0,inner:e,fold:(a,s)=>s(e),isValue:rt,isError:$e,map:a=>tn.value(a(e)),mapError:r,bind:t,exists:t,forall:t,getOr:n,or:r,getOrThunk:n,orThunk:r,getOrDie:n,each:a=>{a(e)},toOptional:()=>y.some(e)};return o},Jp=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(r,o)=>r(e),isValue:$e,isError:rt,map:t,mapError:r=>tn.error(r(e)),bind:t,exists:$e,forall:rt,getOr:ut,or:ut,getOrThunk:Qt,orThunk:Qt,getOrDie:Pt(String(e)),each:Ee,toOptional:y.none};return n},tn={value:Qp,error:Jp,fromOption:(e,t)=>e.fold(()=>Jp(t),Qp)},rr=e=>{if(!q(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],n={};return V(e,(r,o)=>{const a=Me(r);if(1!==a.length)throw new Error("one and only one name per case");const s=a[0],i=r[s];if(void 0!==n[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!q(i))throw new Error("case arguments must be an array");t.push(s),n[s]=(...l)=>{const d=l.length;if(d!==i.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+i.length+" ("+i+"), got "+d);return{fold:(...c)=>{if(c.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+c.length);return c[o].apply(null,l)},match:c=>{const u=Me(c);if(t.length!==u.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+u.join(","));if(!Xn(t,m=>qe(u,m)))throw new Error("Not all branches were specified when using match. Specified: "+u.join(", ")+"\nRequired: "+t.join(", "));return c[s].apply(null,l)},log:c=>{console.log(c,{constructors:t,constructor:s,params:l})}}}}),n};rr([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Ox=e=>"inline-command"===e.type||"inline-format"===e.type,Bx=e=>"block-command"===e.type||"block-format"===e.type,Dx=e=>{const t=r=>tn.error({message:r,pattern:e}),n=(r,o,a)=>{if(void 0!==e.format){let s;if(q(e.format)){if(!Xn(e.format,ae))return t(r+" pattern has non-string items in the `format` array");s=e.format}else{if(!ae(e.format))return t(r+" pattern has non-string `format` parameter");s=[e.format]}return tn.value(o(s))}return void 0!==e.cmd?ae(e.cmd)?tn.value(a(e.cmd,e.value)):t(r+" pattern has non-string `cmd` parameter"):t(r+" pattern is missing both `format` and `cmd` parameters")};if(!Fe(e))return t("Raw pattern is not an object");if(!ae(e.start))return t("Raw pattern is missing `start` parameter");if(void 0!==e.end){if(!ae(e.end))return t("Inline pattern has non-string `end` parameter");if(0===e.start.length&&0===e.end.length)return t("Inline pattern has empty `start` and `end` parameters");let r=e.start,o=e.end;return 0===o.length&&(o=r,r=""),n("Inline",a=>({type:"inline-format",start:r,end:o,format:a}),(a,s)=>({type:"inline-command",start:r,end:o,cmd:a,value:s}))}return void 0!==e.replacement?ae(e.replacement)?0===e.start.length?t("Replacement pattern has empty `start` parameter"):tn.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):t("Replacement pattern has non-string `replacement` parameter"):0===e.start.length?t("Block pattern has empty `start` parameter"):n("Block",r=>({type:"block-format",start:e.start,format:r[0]}),(r,o)=>({type:"block-command",start:e.start,cmd:r,value:o}))},eh=e=>Re(e,Bx),th=e=>Re(e,Ox),nh=e=>{const t=(n=>{const r=[],o=[];return V(n,a=>{a.fold(s=>{r.push(s)},s=>{o.push(s)})}),{errors:r,values:o}})(ze(e,Dx));return V(t.errors,n=>console.error(n.message,n.pattern)),t.values},yc=Qn().deviceType,Lx=yc.isTouch(),Px=et.DOM,rh=e=>$t(e,RegExp),me=e=>t=>t.options.get(e),Cc=e=>ae(e)||Fe(e),oh=(e,t="")=>n=>{const r=ae(n);if(r){if(-1!==n.indexOf("=")){const o=(a=>{const s=a.indexOf("=")>0?a.split(/[;,](?![^=;,]*(?:[;,]|$))/):a.split(",");return Gt(s,(i,l)=>{const d=l.split("="),c=d[0],u=d.length>1?d[1]:c;return i[Qo(c)]=Qo(u),i},{})})(n);return{value:it(o,e.id).getOr(t),valid:r}}return{value:n,valid:r}}return{valid:!1,message:"Must be a string."}},Ix=me("iframe_attrs"),Mx=me("doctype"),ah=me("document_base_url"),Fx=me("body_id"),Ux=me("body_class"),sh=me("content_security_policy"),$x=me("br_in_pre"),nn=me("forced_root_block"),vs=me("forced_root_block_attrs"),zx=me("newline_behavior"),jx=me("br_newline_selector"),Hx=me("no_newline_selector"),qx=me("keep_styles"),Vx=me("end_container_on_empty_block"),ih=me("automatic_uploads"),lh=me("images_reuse_filename"),Wx=me("images_replace_blob_uris"),dh=me("icons"),Gx=me("icons_url"),Kx=me("images_upload_url"),Yx=me("images_upload_base_path"),Xx=me("images_upload_credentials"),Zx=me("images_upload_handler"),Qx=me("content_css_cors"),wc=me("referrer_policy"),ch=me("language"),Jx=me("language_url"),uh=me("indent_use_margin"),eS=me("indentation"),tS=me("content_css"),nS=me("content_style"),mh=me("font_css"),rS=me("directionality"),oS=me("inline_boundaries_selector"),fh=me("object_resizing"),aS=me("resize_img_proportional"),sS=me("placeholder"),gh=me("event_root"),iS=me("service_message"),ha=me("theme"),lS=me("theme_url"),Ec=me("model"),dS=me("model_url"),ys=me("inline_boundaries"),cS=me("formats"),uS=me("preview_styles"),mS=me("format_empty_lines"),fS=me("format_noneditable_selector"),gS=me("custom_ui_selector"),kc=me("inline"),pS=me("hidden_input"),hS=me("submit_patch"),bS=me("add_form_submit_trigger"),vS=me("add_unload_trigger"),yS=me("custom_undo_redo_levels"),CS=me("disable_nodechange"),ph=me("readonly"),wS=me("editable_root"),hh=me("content_css_cors"),ji=me("plugins"),ES=me("external_plugins"),kS=me("block_unsupported_drop"),xS=me("visual"),SS=me("visual_table_class"),bh=me("visual_anchor_class"),_S=me("iframe_aria_text"),AS=me("setup"),NS=me("init_instance_callback"),RS=me("urlconverter_callback"),TS=me("auto_focus"),OS=me("browser_spellcheck"),BS=me("protect"),DS=me("paste_block_drop"),Hi=me("paste_data_images"),LS=me("paste_preprocess"),PS=me("paste_postprocess"),IS=me("newdocument_content"),MS=me("paste_webkit_styles"),FS=me("paste_remove_styles_if_webkit"),US=me("paste_merge_formats"),$S=me("smart_paste"),zS=me("paste_as_text"),jS=me("paste_tab_spaces"),HS=me("allow_html_data_urls"),qS=me("text_patterns"),VS=me("text_patterns_lookup"),vh=me("noneditable_class"),WS=me("editable_class"),GS=me("noneditable_regexp"),KS=me("preserve_cdata"),YS=me("highlight_on_focus"),xc=me("xss_sanitization"),XS=me("init_content_sync"),yh=e=>X.explode(e.options.get("images_file_types")),ZS=me("table_tab_navigation"),QS=me("details_initial_state"),JS=me("details_serialized_state"),e_=ue,Ch=K,wh=e=>{const t=e.parentNode;t&&t.removeChild(e)},Eh=e=>{const t=Sr(e);return{count:e.length-t.length,text:t}},kh=e=>{let t;for(;-1!==(t=e.data.lastIndexOf(Ht));)e.deleteData(t,1)},xh=(e,t)=>(No(e),t),No=e=>{e_(e)&&En(e)&&(Vg(e)?e.removeAttribute("data-mce-caret"):wh(e)),Ch(e)&&(kh(e),0===e.data.length&&wh(e))},n_=at,r_=nr,o_=Ei,Sh=(e,t,n)=>{const r=Rp(t.getBoundingClientRect(),n);let o,a;if("BODY"===e.tagName){const i=e.ownerDocument.documentElement;o=e.scrollLeft||i.scrollLeft,a=e.scrollTop||i.scrollTop}else{const i=e.getBoundingClientRect();o=e.scrollLeft-i.left,a=e.scrollTop-i.top}r.left+=o,r.right+=o,r.top+=a,r.bottom+=a,r.width=1;let s=t.offsetWidth-t.clientWidth;return s>0&&(n&&(s*=-1),r.left+=s,r.right+=s),r},_h=()=>He.browser.isFirefox(),Cs=e=>n_(e)||r_(e),ws=e=>(Cs(e)||xr(e)&&_h())&&Od(S(e)).exists(sa),s_=$n,Sc=at,i_=nr,Ah=wi("display","block table table-cell table-caption list-item"),Nh=En,Rh=ua,l_=ue,d_=K,c_=Ln,ba=e=>e>0,Ro=e=>e<0,qi=(e,t)=>{let n;for(;n=e(t);)if(!Rh(n))return n;return null},Es=(e,t,n,r,o)=>{const a=new kt(e,r),s=Sc(e)||Rh(e);let i;if(Ro(t)){if(s&&(i=qi(a.prev.bind(a),!0),n(i)))return i;for(;i=qi(a.prev.bind(a),o);)if(n(i))return i}if(ba(t)){if(s&&(i=qi(a.next.bind(a),!0),n(i)))return i;for(;i=qi(a.next.bind(a),o);)if(n(i))return i}return null},Wr=(e,t)=>{for(;e&&e!==t;){if(Ah(e))return e;e=e.parentNode}return null},or=(e,t,n)=>Wr(e.container(),n)===Wr(t.container(),n),_c=(e,t)=>{if(!t)return y.none();const n=t.container(),r=t.offset();return l_(n)?y.from(n.childNodes[r+e]):y.none()},Th=(e,t)=>{var n;const r=(null!==(n=t.ownerDocument)&&void 0!==n?n:document).createRange();return e?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),r},u_=(e,t,n)=>Wr(t,e)===Wr(n,e),Oh=(e,t,n)=>{const r=e?"previousSibling":"nextSibling";let o=n;for(;o&&o!==t;){let a=o[r];if(a&&Nh(a)&&(a=a[r]),Sc(a)||i_(a)){if(u_(t,a,o))return a;break}if(c_(a))break;o=o.parentNode}return null},ks=ce(Th,!0),xs=ce(Th,!1),Ac=(e,t,n)=>{let r;const o=ce(Oh,!0,t),a=ce(Oh,!1,t),s=n.startContainer,i=n.startOffset;if(ua(s)){const l=d_(s)?s.parentNode:s,d=l.getAttribute("data-mce-caret");if("before"===d&&(r=l.nextSibling,ws(r)))return ks(r);if("after"===d&&(r=l.previousSibling,ws(r)))return xs(r)}if(!n.collapsed)return n;if(K(s)){if(Nh(s)){if(1===e){if(r=a(s),r)return ks(r);if(r=o(s),r)return xs(r)}if(-1===e){if(r=o(s),r)return xs(r);if(r=a(s),r)return ks(r)}return n}if(Ri(s)&&i>=s.data.length-1)return 1===e&&(r=a(s),r)?ks(r):n;if(Ni(s)&&i<=1)return-1===e&&(r=o(s),r)?xs(r):n;if(i===s.data.length)return r=a(s),r?ks(r):n;if(0===i)return r=o(s),r?xs(r):n}return n},Bh=(e,t)=>_c(e?0:-1,t).filter(Sc),Ss=(e,t,n)=>{const r=Ac(e,t,n);return-1===e?P.fromRangeStart(r):P.fromRangeEnd(r)},Vi=e=>y.from(e.getNode()).map(S),Nc=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},Wi=(e,t)=>{const n=or(e,t);return!(n||!ft(e.getNode()))||n};var Nt,e;(e=Nt||(Nt={}))[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards";const m_=at,ar=K,Dh=ue,Rc=ft,va=Ln,Lh=e=>{return Kg(e)||!!Kd(t=e)&&!Gt(Se(t.getElementsByTagName("*")),(n,r)=>n||Gg(r),!1);var t},Gi=Yg,Ph=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,Ih=(e,t)=>{if(ba(e)){if(va(t.previousSibling)&&!ar(t.previousSibling))return P.before(t);if(ar(t))return P(t,0)}if(Ro(e)){if(va(t.nextSibling)&&!ar(t.nextSibling))return P.after(t);if(ar(t))return P(t,t.data.length)}return Ro(e)?Rc(t)?P.before(t):P.after(t):P.before(t)},Tc=(e,t,n)=>{let r,o,a,s;if(!Dh(n)||!t)return null;if(t.isEqual(P.after(n))&&n.lastChild){if(s=P.after(n.lastChild),Ro(e)&&va(n.lastChild)&&Dh(n.lastChild))return Rc(n.lastChild)?P.before(n.lastChild):s}else s=t;const i=s.container();let l=s.offset();if(ar(i)){if(Ro(e)&&l>0)return P(i,--l);if(ba(e)&&l<i.length)return P(i,++l);r=i}else{if(Ro(e)&&l>0&&(o=Ph(i,l-1),va(o)))return!Lh(o)&&(a=Es(o,e,Gi,o),a)?ar(a)?P(a,a.data.length):P.after(a):ar(o)?P(o,o.data.length):P.before(o);if(ba(e)&&l<i.childNodes.length&&(o=Ph(i,l),va(o)))return Rc(o)?((c,u)=>{const m=u.nextSibling;return m&&va(m)?ar(m)?P(m,0):P.before(m):Tc(Nt.Forwards,P.after(u),c)})(n,o):!Lh(o)&&(a=Es(o,e,Gi,o),a)?ar(a)?P(a,0):P.before(a):ar(o)?P(o,0):P.after(o);r=o||s.getNode()}if(r&&(ba(e)&&s.isAtEnd()||Ro(e)&&s.isAtStart())&&(r=Es(r,e,rt,n,!0),Gi(r,n)))return Ih(e,r);o=r&&Es(r,e,Gi,n);const d=lo(Re(((c,u)=>{const m=[];let p=c;for(;p&&p!==u;)m.push(p),p=p.parentNode;return m})(i,n),m_));return!d||o&&d.contains(o)?o?Ih(e,o):null:(s=ba(e)?P.after(d):P.before(d),s)},sr=e=>({next:t=>Tc(Nt.Forwards,t,e),prev:t=>Tc(Nt.Backwards,t,e)}),Mh=e=>P.isTextPosition(e)?0===e.offset():Ln(e.getNode()),Fh=e=>{if(P.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}return Ln(e.getNode(!0))},Uh=(e,t)=>!P.isTextPosition(e)&&!P.isTextPosition(t)&&e.getNode()===t.getNode(!0),kn=(e,t,n)=>{const r=sr(t);return y.from(e?r.next(n):r.prev(n))},_s=(e,t,n)=>kn(e,t,n).bind(r=>{return or(n,r,t)&&(a=n,s=r,e?!Uh(a,s)&&(P.isTextPosition(i=a)||!ft(i.getNode()))&&Fh(a)&&Mh(s):!Uh(s,a)&&Mh(a)&&Fh(s))?kn(e,t,r):y.some(r);var a,s,i}),$h=(e,t,n,r)=>_s(e,t,n).bind(o=>r(o)?$h(e,t,o,r):y.some(o)),ya=(e,t)=>{const n=e?t.firstChild:t.lastChild;return K(n)?y.some(P(n,e?0:n.data.length)):n?Ln(n)?y.some(e?P.before(n):ft(r=n)?P.before(r):P.after(r)):((o,a,s)=>{const i=o?P.before(s):P.after(s);return kn(o,a,i)})(e,t,n):y.none();var r},Yt=ce(kn,!0),rn=ce(kn,!1),Xt=ce(ya,!0),Pn=ce(ya,!1),Oc="_mce_caret",In=e=>ue(e)&&e.id===Oc,To=(e,t)=>{let n=t;for(;n&&n!==e;){if(In(n))return n;n=n.parentNode}return null},zh=e=>Ie(e,"name"),jh=e=>X.isArray(e.start),Ki=e=>!(!zh(e)&&le(e.forward))||e.forward,Hh=(e,t)=>(ue(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),f_=(e,t)=>Pn(e).fold($e,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),qh=(e,t,n)=>!(t.hasChildNodes()||!To(e,t)||(((r,o)=>{var a;const s=(null!==(a=r.ownerDocument)&&void 0!==a?a:document).createTextNode(Ht);r.appendChild(s),o.setStart(s,0),o.setEnd(s,0)})(t,n),0)),Vh=(e,t,n,r)=>{const o=n[t?"start":"end"],a=e.getRoot();if(o){let s=a,i=o[0];for(let l=o.length-1;s&&l>=1;l--){const d=s.childNodes;if(qh(a,s,r))return!0;if(o[l]>d.length-1)return!!qh(a,s,r)||f_(s,r);s=d[o[l]]}K(s)&&(i=Math.min(o[0],s.data.length)),ue(s)&&(i=Math.min(o[0],s.childNodes.length)),t?r.setStart(s,i):r.setEnd(s,i)}return!0},Bc=e=>K(e)&&e.data.length>0,Wh=(e,t,n)=>{const r=e.get(n.id+"_"+t),o=null==r?void 0:r.parentNode,a=n.keep;if(r&&o){let s,i;if("start"===t?a?r.hasChildNodes()?(s=r.firstChild,i=1):Bc(r.nextSibling)?(s=r.nextSibling,i=0):Bc(r.previousSibling)?(s=r.previousSibling,i=r.previousSibling.data.length):(s=o,i=e.nodeIndex(r)+1):(s=o,i=e.nodeIndex(r)):a?r.hasChildNodes()?(s=r.firstChild,i=1):Bc(r.previousSibling)?(s=r.previousSibling,i=r.previousSibling.data.length):(s=o,i=e.nodeIndex(r)):(s=o,i=e.nodeIndex(r)),!a){const l=r.previousSibling,d=r.nextSibling;let c;for(X.each(X.grep(r.childNodes),u=>{K(u)&&(u.data=u.data.replace(/\uFEFF/g,""))});c=e.get(n.id+"_"+t);)e.remove(c,!0);if(K(d)&&K(l)&&!He.browser.isOpera()){const u=l.data.length;l.appendData(d.data),e.remove(d),s=l,i=u}}return y.some(P(s,i))}return y.none()},g_=(e,t,n)=>((r,o,a=!1)=>{return 2===o?Yp(Sr,a,r):3===o?(s=>{const i=s.getRng();return{start:Hp(s.dom.getRoot(),P.fromRangeStart(i)),end:Hp(s.dom.getRoot(),P.fromRangeEnd(i)),forward:s.isForward()}})(r):o?{rng:(s=r).getRng(),forward:s.isForward()}:Zp(r,!1);var s})(e,t,n),p_=(e,t)=>{((n,r)=>{const o=n.dom;if(r){if(jh(r))return((a,s)=>{const i=a.createRng();return Vh(a,!0,s,i)&&Vh(a,!1,s,i)?y.some({range:i,forward:Ki(s)}):y.none()})(o,r);if(ae(r.start))return((a,s)=>{const i=y.from(qp(a.getRoot(),s.start)),l=y.from(qp(a.getRoot(),s.end));return en(i,l,(d,c)=>{const u=a.createRng();return u.setStart(d.container(),d.offset()),u.setEnd(c.container(),c.offset()),{range:u,forward:Ki(s)}})})(o,r);if(Ie(r,"id"))return((a,s)=>{const i=Wh(a,"start",s),l=Wh(a,"end",s);return en(i,l.or(i),(d,c)=>{const u=a.createRng();return u.setStart(Hh(a,d.container()),d.offset()),u.setEnd(Hh(a,c.container()),c.offset()),{range:u,forward:Ki(s)}})})(o,r);if(zh(r))return((a,s)=>y.from(a.select(s.name)[s.index]).map(i=>{const l=a.createRng();return l.selectNode(i),{range:l,forward:!0}}))(o,r);if((a=>Ie(a,"rng"))(r))return y.some({range:r.rng,forward:Ki(r)})}return y.none()})(e,t).each(({range:n,forward:r})=>{e.setRng(n,r)})},xn=e=>ue(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type"),Yi=(Gh=_t,e=>Gh===e);var Gh;const Ca=e=>""!==e&&-1!==" \f\n\r\t\v".indexOf(e),Dc=e=>!Ca(e)&&!Yi(e)&&!jd(e),Lc=e=>{const t=e.toString(16);return(1===t.length?"0"+t:t).toUpperCase()},h_=e=>{return{value:(n=Lc(e.red)+Lc(e.green)+Lc(e.blue),Hf(n,"#").toUpperCase())};var n},b_=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,v_=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Kh=(e,t,n,r)=>({red:e,green:t,blue:n,alpha:r}),Yh=(e,t,n,r)=>{const o=parseInt(e,10),a=parseInt(t,10),s=parseInt(n,10),i=parseFloat(r);return Kh(o,a,s,i)},Xi=e=>(t=>{if("transparent"===t)return y.some(Kh(0,0,0,0));const n=b_.exec(t);if(null!==n)return y.some(Yh(n[1],n[2],n[3],"1"));const r=v_.exec(t);return null!==r?y.some(Yh(r[1],r[2],r[3],r[4])):y.none()})(e).map(h_).map(t=>"#"+t.value).getOr(e),Pc=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Xh=(e,t)=>{const n=jt(t,"td[data-mce-selected],th[data-mce-selected]");return n.length>0?n:Re(gn(e,a=>{const s=Fi(a);return s?[S(s)]:[]}),os)},wa=e=>Xh(Pc(e.selection.getSel()),S(e.getBody())),As=(e,t)=>Qa(e,"table",t),Zh=e=>Bd(e).fold(ee([e]),t=>[e].concat(Zh(t))),Ic=e=>Dd(e).fold(ee([e]),t=>"br"===ot(t)?mo(t).map(n=>[e].concat(Ic(n))).getOr([]):[e].concat(Ic(t))),Mc=(e,t)=>en((n=>{const r=n.startContainer,o=n.startOffset;return K(r)?0===o?y.some(S(r)):y.none():y.from(r.childNodes[o]).map(S)})(t),(n=>{const r=n.endContainer,o=n.endOffset;return K(r)?o===r.data.length?y.some(S(r)):y.none():y.from(r.childNodes[o-1]).map(S)})(t),(n,r)=>{const o=bt(Zh(e),ce(Ge,n)),a=bt(Ic(e),ce(Ge,r));return o.isSome()&&a.isSome()}).getOr(!1),Fc=(e,t,n,r)=>{const o=n,a=new kt(n,o),s=Ha(e.schema.getMoveCaretBeforeOnEnterElements(),(l,d)=>!qe(["td","th","table"],d.toLowerCase()));let i=n;do{if(K(i)&&0!==X.trim(i.data).length)return void(r?t.setStart(i,0):t.setEnd(i,i.data.length));if(s[i.nodeName])return void(r?t.setStartBefore(i):"BR"===i.nodeName?t.setEndBefore(i):t.setEndAfter(i))}while(i=r?a.next():a.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},Zi=e=>{const t=e.selection.getSel();return F(t)&&t.rangeCount>0},Uc=(e,t)=>{const n=wa(e);n.length>0?V(n,r=>{const o=r.dom,a=e.dom.createRng();a.setStartBefore(o),a.setEndAfter(o),t(a,!0)}):t(e.selection.getRng(),!1)},Qh=(e,t,n)=>{const r=Zp(e,t);n(r),e.moveToBookmark(r)},Ns=e=>xe(null==e?void 0:e.nodeType),$c=e=>ue(e)&&!xn(e)&&!In(e)&&!bo(e),Oo=e=>!0===e.isContentEditable,Jh=(e,t,n)=>{const{selection:r,dom:o}=e,a=r.getNode(),s=at(a);Qh(r,!0,()=>{t()}),s&&at(a)&&o.isChildOf(a,e.getBody())?e.selection.select(a):n(r.getStart())&&y_(o,r)},y_=(e,t)=>{var n,r;const o=t.getRng(),{startContainer:a,startOffset:s}=o;if(!((i,l)=>{if($c(l)&&!/^(TD|TH)$/.test(l.nodeName)){const d=i.getAttrib(l,"data-mce-selected"),c=parseInt(d,10);return!isNaN(c)&&c>0}return!1})(e,t.getNode())&&ue(a)){const i=a.childNodes,l=e.getRoot();let d;if(s<i.length){const c=i[s];d=new kt(c,null!==(n=e.getParent(c,e.isBlock))&&void 0!==n?n:l)}else{const c=i[i.length-1];d=new kt(c,null!==(r=e.getParent(c,e.isBlock))&&void 0!==r?r:l),d.next(!0)}for(let c=d.current();c;c=d.next()){if("false"===e.getContentEditable(c))return;if(K(c)&&!jc(c))return o.setStart(c,0),void t.setRng(o)}}},eb=(e,t,n)=>{if(e){const r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(ue(e)||!jc(e))return e}},zc=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||Co(e,t),Ea=(e,t,n)=>e.schema.isValidChild(t,n),jc=(e,t=!1)=>{if(F(e)&&K(e)){const n=t?e.data.replace(/ /g,"\xa0"):e.data;return yo(n)}return!1},tb=(e,t)=>{const n=e.dom;return $c(t)&&"false"===n.getContentEditable(t)&&((r,o)=>{const a="[data-mce-cef-wrappable]",s=fS(r),i=Wa(s)?a:`${a},${s}`;return Fn(S(o),i)})(e,t)&&0===n.select('[contenteditable="true"]',t).length},Gr=(e,t)=>we(e)?e(t):(F(t)&&(e=e.replace(/%(\w+)/g,(n,r)=>t[r]||n)),e),Hc=(e,t)=>(e=""+((e=e||"").nodeName||e),t=""+((t=t||"").nodeName||t),e.toLowerCase()===t.toLowerCase()),qc=(e,t)=>{if(ie(e))return null;{let n=String(e);return"color"!==t&&"backgroundColor"!==t||(n=Xi(n)),"fontWeight"===t&&700===e&&(n="bold"),"fontFamily"===t&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},Qi=(e,t,n)=>{const r=e.getStyle(t,n);return qc(r,n)},nb=(e,t)=>{let n;return e.getParent(t,r=>!!ue(r)&&(n=e.getStyle(r,"text-decoration"),!!n&&"none"!==n)),n},Ji=(e,t,n)=>e.getParents(t,n,e.getRoot()),Vc=(e,t,n)=>{const r=e.formatter.get(t);return F(r)&&st(r,n)},ir=e=>Zo(e,"block"),Sn=e=>Zo(e,"selector"),xt=e=>Zo(e,"inline"),Wc=e=>Sn(e)&&!1!==e.expand&&!xt(e),ka=xn,rb=Ji,ob=jc,C_=zc,ab=(e,t)=>{let n=t;for(;n;){if(ue(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},sb=(e,t,n,r)=>{const o=t.data;if(e){for(let a=n;a>0;a--)if(r(o.charAt(a-1)))return a}else for(let a=n;a<o.length;a++)if(r(o.charAt(a)))return a;return-1},w_=(e,t,n)=>sb(e,t,n,r=>Yi(r)||Ca(r)),E_=(e,t,n)=>sb(e,t,n,Dc),ib=(e,t,n,r,o,a)=>{let s;const i=e.getParent(n,e.isBlock)||t,l=(d,c,u)=>{const m=So(e);return y.from((o?m.backwards:m.forwards)(d,c,(f,h)=>ka(f.parentNode)?-1:(s=f,u(o,f,h)),i))};return l(n,r,w_).bind(d=>a?l(d.container,d.offset+(o?-1:0),E_):y.some(d)).orThunk(()=>s?y.some({container:s,offset:o?0:s.length}):y.none())},lb=(e,t,n,r,o)=>{const a=r[o];K(r)&&Wa(r.data)&&a&&(r=a);const s=rb(e,r);for(let i=0;i<s.length;i++)for(let l=0;l<t.length;l++){const d=t[l];if((!F(d.collapsed)||d.collapsed===n.collapsed)&&Sn(d)&&e.is(s[i],d.selector))return s[i]}return r},db=(e,t,n,r)=>{var o;let a=n;const s=e.getRoot(),i=t[0];if(ir(i)&&(a=i.wrapper?null:e.getParent(n,i.block,s)),!a){const l=null!==(o=e.getParent(n,"LI,TD,TH"))&&void 0!==o?o:s;a=e.getParent(K(n)?n.parentNode:n,d=>d!==s&&C_(e.schema,d),l)}if(a&&ir(i)&&i.wrapper&&(a=rb(e,a,"ul,ol").reverse()[0]||a),!a)for(a=n;a&&a[r]&&!e.isBlock(a[r])&&(a=a[r],!Hc(a,"br")););return a||n},cb=(e,t,n,r)=>{const o=n.parentNode;return!F(n[r])&&(!(o!==t&&!ie(o)&&!e.isBlock(o))||cb(e,t,o,r))},el=(e,t,n,r,o)=>{let a=n;const s=o?"previousSibling":"nextSibling",i=e.getRoot();if(K(n)&&!ob(n)&&(o?r>0:r<n.data.length))return n;for(;a;){if(!t[0].block_expand&&e.isBlock(a))return a;for(let d=a[s];d;d=d[s]){const c=K(d)&&!cb(e,i,d,s);if(!ka(d)&&(!ft(l=d)||!l.getAttribute("data-mce-bogus")||l.nextSibling)&&!ob(d,c))return a}if(a===i||a.parentNode===i){n=a;break}a=a.parentNode}var l;return n},ub=e=>ka(e.parentNode)||ka(e),Bo=(e,t,n,r=!1)=>{let{startContainer:o,startOffset:a,endContainer:s,endOffset:i}=t;const l=n[0];return ue(o)&&o.hasChildNodes()&&(o=qr(o,a),K(o)&&(a=0)),ue(s)&&s.hasChildNodes()&&(s=qr(s,t.collapsed?i:i-1),K(s)&&(i=s.data.length)),o=ab(e,o),s=ab(e,s),ub(o)&&(o=ka(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,K(o)&&(a=t.collapsed?o.length:0)),ub(s)&&(s=ka(s)?s:s.parentNode,s=t.collapsed?s.nextSibling||s:s.previousSibling||s,K(s)&&(i=t.collapsed?0:s.length)),t.collapsed&&(ib(e,e.getRoot(),o,a,!0,r).each(({container:d,offset:c})=>{o=d,a=c}),ib(e,e.getRoot(),s,i,!1,r).each(({container:d,offset:c})=>{s=d,i=c})),(xt(l)||l.block_expand)&&(xt(l)&&K(o)&&0!==a||(o=el(e,n,o,a,!0)),xt(l)&&K(s)&&i!==s.data.length||(s=el(e,n,s,i,!1))),Wc(l)&&(o=lb(e,n,t,o,"previousSibling"),s=lb(e,n,t,s,"nextSibling")),(ir(l)||Sn(l))&&(o=db(e,n,o,"previousSibling"),s=db(e,n,s,"nextSibling"),ir(l)&&(e.isBlock(o)||(o=el(e,n,o,a,!0)),e.isBlock(s)||(s=el(e,n,s,i,!1)))),ue(o)&&o.parentNode&&(a=e.nodeIndex(o),o=o.parentNode),ue(s)&&s.parentNode&&(i=e.nodeIndex(s)+1,s=s.parentNode),{startContainer:o,startOffset:a,endContainer:s,endOffset:i}},Rs=(e,t,n)=>{var r;const o=t.startOffset,a=qr(t.startContainer,o),s=t.endOffset,i=qr(t.endContainer,s-1),l=g=>{const b=g[0];K(b)&&b===a&&o>=b.data.length&&g.splice(0,1);const v=g[g.length-1];return 0===s&&g.length>0&&v===i&&K(v)&&g.splice(g.length-1,1),g},d=(g,b,v)=>{const C=[];for(;g&&g!==v;g=g[b])C.push(g);return C},c=(g,b)=>e.getParent(g,v=>v.parentNode===b,b),u=(g,b,v)=>{const C=v?"nextSibling":"previousSibling";for(let w=g,E=w.parentNode;w&&w!==b;w=E){E=w.parentNode;const k=d(w===g?w:w[C],C);k.length&&(v||k.reverse(),n(l(k)))}};if(a===i)return n(l([a]));const m=null!==(r=e.findCommonAncestor(a,i))&&void 0!==r?r:e.getRoot();if(e.isChildOf(a,i))return u(a,m,!0);if(e.isChildOf(i,a))return u(i,m);const p=c(a,m)||a,f=c(i,m)||i;u(a,p,!0);const h=d(p===a?p:p.nextSibling,"nextSibling",f===i?f.nextSibling:f);h.length&&n(l(h)),u(i,f)},k_=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],mb=(e,t,n,r,o,a)=>{const{uid:s=t,...i}=n;ta(e,ds()),Bt(e,`${ga()}`,s),Bt(e,`${ko()}`,r);const{attributes:l={},classes:d=[]}=o(s,i);if(Lr(e,l),c=e,V(d,m=>{ta(c,m)}),a){d.length>0&&Bt(e,`${us()}`,d.join(","));const c=Me(l);c.length>0&&Bt(e,`${ms()}`,c.join(","))}var c},fb=(e,t,n,r,o)=>{const a=Dt("span",e);return mb(a,t,n,r,o,!1),a},gb=e=>{const t=(()=>{const a={};return{register:(s,i)=>{a[s]={name:s,settings:i}},lookup:s=>it(a,s).map(i=>i.settings),getNames:()=>Me(a)}})();((a,s)=>{const i=ko(),l=c=>y.from(c.attr(i)).bind(s.lookup),d=c=>{var u,m;c.attr(ga(),null),c.attr(ko(),null),c.attr(cs(),null);const p=y.from(c.attr(ms())).map(b=>b.split(",")).getOr([]),f=y.from(c.attr(us())).map(b=>b.split(",")).getOr([]);V(p,b=>c.attr(b,null));const h=null!==(m=null===(u=c.attr("class"))||void 0===u?void 0:u.split(" "))&&void 0!==m?m:[],g=Xo(h,[ds()].concat(f));c.attr("class",g.length>0?g.join(" "):null),c.attr(us(),null),c.attr(ms(),null)};a.serializer.addTempAttr(cs()),a.serializer.addAttributeFilter(i,c=>{for(const u of c)l(u).each(m=>{!1===m.persistent&&("span"===u.name?u.unwrap():d(u))})})})(e,t);const n=((a,s)=>{const i=At({}),l=()=>({listeners:[],previous:Hr()}),d=(p,f)=>{c(p,h=>(f(h),h))},c=(p,f)=>{const h=i.get(),g=f(it(h,p).getOrThunk(l));h[p]=g,i.set(h)},u=(p,f)=>{V(Ep(a,p),h=>{f?Bt(h,cs(),"true"):Mt(h,cs())})},m=cc(()=>{const p=U(s.getNames());V(p,f=>{c(f,h=>{const g=h.previous.get();return Cp(a,y.some(f)).fold(()=>{g.each(b=>{var v;d(v=f,C=>{V(C.listeners,w=>w(!1,v))}),h.previous.clear(),u(b,!1)})},({uid:b,name:v,elements:C})=>{var w,E,k;Jo(g,b)||(g.each(w=>u(w,!1)),E=b,k=C,d(w=v,x=>{V(x.listeners,O=>O(!0,w,{uid:E,nodes:ze(k,I=>I.dom)}))}),h.previous.set(b),u(b,!0))}),{previous:h.previous,listeners:h.listeners}})})},30);return a.on("remove",()=>{m.cancel()}),a.on("NodeChange",()=>{m.throttle()}),{addListener:(p,f)=>{c(p,h=>({previous:h.previous,listeners:h.listeners.concat([f])}))}}})(e,t),r=Nd("span"),o=a=>{V(a,s=>{r(s)?kr(s):(i=>{na(i,ds()),Mt(i,`${ga()}`),Mt(i,`${ko()}`),Mt(i,`${cs()}`);const l=yr(i,`${ms()}`).map(u=>u.split(",")).getOr([]),d=yr(i,`${us()}`).map(u=>u.split(",")).getOr([]);var c;V(l,u=>Mt(i,u)),c=i,V(d,u=>{na(c,u)}),Mt(i,`${us()}`),Mt(i,`${ms()}`)})(s)})};return{register:(a,s)=>{t.register(a,s)},annotate:(a,s)=>{t.lookup(a).each(i=>{var l,d,c,u;d=a,c=i,u=s,(l=e).undoManager.transact(()=>{const m=l.selection,p=m.getRng(),f=wa(l).length>0,h=fs("mce-annotation");if(p.collapsed&&!f&&((g,b)=>{const v=Bo(g.dom,b,[{inline:"span"}]);b.setStart(v.startContainer,v.startOffset),b.setEnd(v.endContainer,v.endOffset),g.selection.setRng(b)})(l,p),m.getRng().collapsed&&!f){const g=fb(l.getDoc(),h,u,d,c.decorate);vi(g,_t),m.getRng().insertNode(g.dom),m.select(g.dom)}else Qh(m,!1,()=>{Uc(l,g=>{((e,t,n,r,o,a)=>{const s=[],i=fb(e.getDoc(),n,a,r,o),l=Hr(),d=()=>{l.clear()},c=m=>{V(m,u)},u=m=>{switch(p=e,f=m,h="span",g=ot(m),Dn(f).fold(()=>"skipping",b=>{return"br"===g||yn(v=f)&&ki(v)===Ht?"valid":(v=>dn(v)&&Td(v,ds()))(f)?"existing":In(f.dom)?"caret":st(k_,v=>Fn(f,v))?"valid-block":Ea(p,h,g)&&Ea(p,ot(b),h)?"valid":"invalid-child";var v})){case"invalid-child":{d();const p=Ft(m);c(p),d();break}case"valid-block":d(),mb(m,n,a,r,o,!0);break;case"valid":{const p=l.get().getOrThunk(()=>{const f=xo(i);return s.push(f),l.set(f),f});Og(m,p);break}}var p,f,h,g};Rs(e.dom,t,m=>{d(),(p=>{const f=ze(p,S);c(f)})(m)})})(l,g,h,d,c.decorate,u)})})})})},annotationChanged:(a,s)=>{n.addListener(a,s)},remove:a=>{Cp(e,y.some(a)).each(({elements:s})=>{const i=e.selection.getBookmark();o(s),e.selection.moveToBookmark(i)})},removeAll:a=>{const s=e.selection.getBookmark();ve(kp(e,a),(i,l)=>{o(i)}),e.selection.moveToBookmark(s)},getAll:a=>{const s=kp(e,a);return Ze(s,i=>ze(i,l=>l.dom))}}},Ts=e=>({getBookmark:ce(g_,e),moveToBookmark:ce(p_,e)});Ts.isBookmarkNode=xn;const pb=(e,t,n)=>!n.collapsed&&st(n.getClientRects(),r=>{return s=t,(a=e)>=(o=r).left&&a<=o.right&&s>=o.top&&s<=o.bottom;var o,a,s}),hb=(e,t,n)=>{e.dispatch(t,n)},bb=(e,t,n,r)=>{e.dispatch("FormatApply",{format:t,node:n,vars:r})},vb=(e,t,n,r)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:r})},yb=(e,t)=>e.dispatch("SetContent",t),Cb=(e,t)=>e.dispatch("GetContent",t),wb=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),ge={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||ge.metaKeyPressed(e),metaKeyPressed:e=>He.os.isMacOS()||He.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},Do="data-mce-selected",Eb=Math.abs,tl=Math.round,Gc={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},kb=(e,t)=>{const n=t.dom,r=t.getDoc(),o=document,a=t.getBody();let s,i,l,d,c,u,m,p,f,h,g,b,v,C,w;const E=se=>F(se)&&(zg(se)||n.is(se,"figure.image")),k=se=>nr(se)||n.hasClass(se,"mce-preview-object"),x=se=>{const be=se.target;((_e,A)=>{if("longpress"===(R=_e).type||0===R.type.indexOf("touch")){const R=_e.touches[0];return E(_e.target)&&!pb(R.clientX,R.clientY,A)}var R;return E(_e.target)&&!pb(_e.clientX,_e.clientY,A)})(se,t.selection.getRng())&&!se.isDefaultPrevented()&&t.selection.select(be)},O=se=>n.hasClass(se,"mce-preview-object")&&F(se.firstElementChild)?[se,se.firstElementChild]:n.is(se,"figure.image")?[se.querySelector("img")]:[se],I=se=>{const be=fh(t);return!!be&&"false"!==se.getAttribute("data-mce-resize")&&se!==t.getBody()&&(n.hasClass(se,"mce-preview-object")&&F(se.firstElementChild)?Fn(S(se.firstElementChild),be):Fn(S(se),be))},L=(se,be,_e)=>{if(F(_e)){const A=O(se);V(A,R=>{R.style[be]||!t.schema.isValid(R.nodeName.toLowerCase(),be)?n.setStyle(R,be,_e):n.setAttrib(R,be,""+_e)})}},_=(se,be,_e)=>{L(se,"width",be),L(se,"height",_e)},T=se=>{let be,_e,A,R,M;be=se.screenX-u,_e=se.screenY-m,b=be*d[2]+p,v=_e*d[3]+f,b=b<5?5:b,v=v<5?5:v,A=(E(s)||k(s))&&!1!==aS(t)?!ge.modifierPressed(se):ge.modifierPressed(se),A&&(Eb(be)>Eb(_e)?(v=tl(b*h),b=tl(v/h)):(b=tl(v/h),v=tl(b*h))),_(i,b,v),R=d.startPos.x+be,M=d.startPos.y+_e,R=R>0?R:0,M=M>0?M:0,n.setStyles(l,{left:R,top:M,display:"block"}),l.innerHTML=b+" &times; "+v,d[2]<0&&i.clientWidth<=b&&n.setStyle(i,"left",void 0+(p-b)),d[3]<0&&i.clientHeight<=v&&n.setStyle(i,"top",void 0+(f-v)),be=a.scrollWidth-C,_e=a.scrollHeight-w,be+_e!==0&&n.setStyles(l,{left:R-be,top:M-_e}),g||(t.dispatch("ObjectResizeStart",{target:s,width:p,height:f,origin:"corner-"+d.name}),g=!0)},N=()=>{const se=g;g=!1,se&&(L(s,"width",b),L(s,"height",v)),n.unbind(r,"mousemove",T),n.unbind(r,"mouseup",N),o!==r&&(n.unbind(o,"mousemove",T),n.unbind(o,"mouseup",N)),n.remove(i),n.remove(l),n.remove(c),B(s),se&&(t.dispatch("ObjectResized",{target:s,width:b,height:v,origin:"corner-"+d.name}),n.setAttrib(s,"style",n.getAttrib(s,"style"))),t.nodeChanged()},B=se=>{Te();const be=n.getPos(se,a),_e=be.x,A=be.y,R=se.getBoundingClientRect(),M=R.width||R.right-R.left,j=R.height||R.bottom-R.top;s!==se&&(G(),s=se,b=v=0);const $=t.dispatch("ObjectSelected",{target:se});I(se)&&!$.isDefaultPrevented()?ve(Gc,(z,Z)=>{let he=n.get("mceResizeHandle"+Z);he&&n.remove(he),he=n.add(a,"div",{id:"mceResizeHandle"+Z,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Z+"-resize; margin:0; padding:0"}),n.bind(he,"mousedown",de=>{de.stopImmediatePropagation(),de.preventDefault(),(Ae=>{const Ne=O(s)[0];var oe;u=Ae.screenX,m=Ae.screenY,p=Ne.clientWidth,f=Ne.clientHeight,h=f/p,d=z,d.name=Z,d.startPos={x:M*z[0]+_e,y:j*z[1]+A},C=a.scrollWidth,w=a.scrollHeight,c=n.add(a,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(c,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),i=k(oe=s)?n.create("img",{src:He.transparentSrc}):oe.cloneNode(!0),n.addClass(i,"mce-clonedresizable"),n.setAttrib(i,"data-mce-bogus","all"),i.contentEditable="false",n.setStyles(i,{left:_e,top:A,margin:0}),_(i,M,j),i.removeAttribute(Do),a.appendChild(i),n.bind(r,"mousemove",T),n.bind(r,"mouseup",N),o!==r&&(n.bind(o,"mousemove",T),n.bind(o,"mouseup",N)),l=n.add(a,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},p+" &times; "+f)})(de)}),z.elm=he,n.setStyles(he,{left:M*z[0]+_e-he.offsetWidth/2,top:j*z[1]+A-he.offsetHeight/2})}):G(!1)},Q=Mi(B,0),G=(se=!0)=>{Q.cancel(),Te(),s&&se&&s.removeAttribute(Do),ve(Gc,(be,_e)=>{const A=n.get("mceResizeHandle"+_e);A&&(n.unbind(A),n.remove(A))})},Ce=(se,be)=>n.isChildOf(se,be),re=se=>{if(g||t.removed||t.composing)return;const be="mousedown"===se.type?se.target:e.getNode(),_e=go(S(be),"table,img,figure.image,hr,video,span.mce-preview-object,details").map(R=>R.dom).filter(R=>n.isEditable(R.parentElement)).getOrUndefined(),A=F(_e)?n.getAttrib(_e,Do,"1"):"1";if(V(n.select(`img[${Do}],hr[${Do}]`),R=>{R.removeAttribute(Do)}),F(_e)&&Ce(_e,a)&&t.hasFocus()){Be();const R=e.getStart(!0);if(Ce(R,_e)&&Ce(e.getEnd(!0),_e))return n.setAttrib(_e,Do,A),void Q.throttle(_e)}G()},Te=()=>{ve(Gc,se=>{se.elm&&(n.unbind(se.elm),delete se.elm)})},Be=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{Be(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",re),t.on("keyup compositionend",se=>{s&&"TABLE"===s.nodeName&&re(se)}),t.on("hide blur",G),t.on("contextmenu longpress",x,!0)}),t.on("remove",Te),{isResizable:I,showResizeRect:B,hideResizeRect:G,updateResizeRect:re,destroy:()=>{Q.cancel(),s=i=c=null}}},xb=(e,t,n)=>{const r=e.document.createRange();var o,a;return o=r,t.fold(a=>{o.setStartBefore(a.dom)},(a,s)=>{o.setStart(a.dom,s)},a=>{o.setStartAfter(a.dom)}),a=r,n.fold(i=>{a.setEndBefore(i.dom)},(i,l)=>{a.setEnd(i.dom,l)},i=>{a.setEndAfter(i.dom)}),r},Kc=(e,t,n,r,o)=>{const a=e.document.createRange();return a.setStart(t.dom,n),a.setEnd(r.dom,o),a},Os=rr([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Sb=(e,t,n)=>t(S(n.startContainer),n.startOffset,S(n.endContainer),n.endOffset),_b=(e,t,n,r)=>({start:e,soffset:t,finish:n,foffset:r}),S_=document.caretPositionFromPoint?(e,t,n)=>{var r,o;return y.from(null===(o=(r=e.dom).caretPositionFromPoint)||void 0===o?void 0:o.call(r,t,n)).bind(a=>{if(null===a.offsetNode)return y.none();const s=e.dom.createRange();return s.setStart(a.offsetNode,a.offset),s.collapse(),y.some(s)})}:document.caretRangeFromPoint?(e,t,n)=>{var r,o;return y.from(null===(o=(r=e.dom).caretRangeFromPoint)||void 0===o?void 0:o.call(r,t,n))}:y.none,Yc=rr([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ar={before:Yc.before,on:Yc.on,after:Yc.after,cata:(e,t,n,r)=>e.fold(t,n,r),getStart:e=>e.fold(ut,ut,ut)},nl=rr([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),xa={domRange:nl.domRange,relative:nl.relative,exact:nl.exact,exactFromRange:e=>nl.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const t=e.match({domRange:r=>S(r.startContainer),relative:(r,o)=>Ar.getStart(r),exact:(r,o,a,s)=>r});return Xa(t)},range:_b},rl=(e,t)=>{const n=ot(e);return"input"===n?Ar.after(e):qe(["br","img"],n)?0===t?Ar.before(e):Ar.after(e):Ar.on(e,t)},__=(e,t)=>{const n=e.fold(Ar.before,rl,Ar.after),r=t.fold(Ar.before,rl,Ar.after);return xa.relative(n,r)},Ab=(e,t,n,r)=>{const o=rl(e,t),a=rl(n,r);return xa.relative(o,a)},Xc=(e,t)=>{const n=(t||document).createDocumentFragment();return V(e,r=>{n.appendChild(r.dom)}),S(n)},Nb=(e,t,n)=>{return(r=Xa(S(n)).dom,o=e,a=t,((s,i,l)=>{const d=S(s.document);return S_(d,i,l).map(c=>_b(S(c.startContainer),c.startOffset,S(c.endContainer),c.endOffset))})(r,o,a)).map(r=>{const o=n.createRange();return o.setStart(r.start.dom,r.soffset),o.setEnd(r.finish.dom,r.foffset),o}).getOrUndefined();var r,o,a},Zc=(e,t)=>F(e)&&F(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,Rb=(e,t,n)=>null!==((r,o,a)=>{let s=r;for(;s&&s!==o;){if(a(s))return s;s=s.parentNode}return null})(e,t,n),N_=(e,t,n)=>Rb(e,t,r=>r.nodeName===n),R_=(e,t)=>En(e)&&!Rb(e,t,In),Tb=(e,t,n)=>{const r=t.parentNode;if(r){const o=new kt(t,e.getParent(r,e.isBlock)||e.getRoot());let a;for(;a=o[n?"prev":"next"]();)if(ft(a))return!0}return!1},Qc=(e,t,n,r,o)=>{const a=e.getRoot(),s=e.schema.getNonEmptyElements(),i=o.parentNode;let l,d;if(!i)return y.none();const c=e.getParent(i,e.isBlock)||a;if(r&&ft(o)&&t&&e.isEmpty(c))return y.some(P(i,e.nodeIndex(o)));const u=new kt(o,c);for(;d=u[r?"prev":"next"]();){if("false"===e.getContentEditableParent(d)||R_(d,a))return y.none();if(K(d)&&d.data.length>0)return N_(d,a,"A")?y.none():y.some(P(d,r?d.data.length:0));if(e.isBlock(d)||s[d.nodeName.toLowerCase()])return y.none();l=d}return Mr(l)?y.none():n&&l?y.some(P(l,0)):y.none()},Ob=(e,t,n,r)=>{const o=e.getRoot();let a,s=!1,i=n?r.startContainer:r.endContainer,l=n?r.startOffset:r.endOffset;const d=ue(i)&&l===i.childNodes.length,c=e.schema.getNonEmptyElements();let u=n;if(En(i))return y.none();if(ue(i)&&l>i.childNodes.length-1&&(u=!1),ns(i)&&(i=o,l=0),i===o){if(u&&(a=i.childNodes[l>0?l-1:0],a)&&(En(a)||c[a.nodeName]||xr(a)))return y.none();if(i.hasChildNodes()){if(l=Math.min(!u&&l>0?l-1:l,i.childNodes.length-1),i=i.childNodes[l],l=K(i)&&d?i.data.length:0,!t&&i===o.lastChild&&xr(i)||((m,p)=>{let f=p;for(;f&&f!==m;){if(at(f))return!0;f=f.parentNode}return!1})(o,i)||En(i))return y.none();if(i.hasChildNodes()&&!xr(i)){a=i;const m=new kt(i,o);do{if(at(a)||En(a)){s=!1;break}if(K(a)&&a.data.length>0){l=u?0:a.data.length,i=a,s=!0;break}if(c[a.nodeName.toLowerCase()]&&!Hk(a)){l=e.nodeIndex(a),i=a.parentNode,u||l++,s=!0;break}}while(a=u?m.next():m.prev())}}}return t&&(K(i)&&0===l&&Qc(e,d,t,!0,i).each(m=>{i=m.container(),l=m.offset(),s=!0}),ue(i)&&(a=i.childNodes[l],a||(a=i.childNodes[l-1]),!a||!ft(a)||"A"===(null===(f=a.previousSibling)||void 0===f?void 0:f.nodeName)||Tb(e,a,!1)||Tb(e,a,!0)||Qc(e,d,t,!0,a).each(m=>{i=m.container(),l=m.offset(),s=!0}))),u&&!t&&K(i)&&l===i.data.length&&Qc(e,d,t,!1,i).each(m=>{i=m.container(),l=m.offset(),s=!0}),s&&i?y.some(P(i,l)):y.none();var f},ol=(e,t)=>{const n=t.collapsed,r=t.cloneRange(),o=P.fromRangeStart(t);return Ob(e,n,!0,r).each(a=>{n&&P.isAbove(o,a)||r.setStart(a.container(),a.offset())}),n||Ob(e,n,!1,r).each(a=>{r.setEnd(a.container(),a.offset())}),n&&r.collapse(!0),Zc(t,r)?y.none():y.some(r)},al=(e,t)=>e.splitText(t),sl=e=>{let t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;if(t===r&&K(t)){if(n>0&&n<t.data.length)if(r=al(t,n),t=r.previousSibling,o>n){o-=n;const a=al(r,o).previousSibling;t=r=a,o=a.data.length,n=0}else o=0}else if(K(t)&&n>0&&n<t.data.length&&(t=al(t,n),n=0),K(r)&&o>0&&o<r.data.length){const a=al(r,o).previousSibling;r=a,o=a.data.length}return{startContainer:t,startOffset:n,endContainer:r,endOffset:o}},Lo=e=>({walk:(t,n)=>Rs(e,t,n),split:sl,expand:(t,n={type:"word"})=>{if("word"===n.type){const r=Bo(e,t,[{inline:"span"}]),o=e.createRng();return o.setStart(r.startContainer,r.startOffset),o.setEnd(r.endContainer,r.endOffset),o}return t},normalize:t=>ol(e,t).fold($e,n=>(t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),!0))});Lo.compareRanges=Zc,Lo.getCaretRangeFromPoint=Nb,Lo.getSelectedNode=Fi,Lo.getNode=qr;const T_=((e,t)=>{const n=o=>{const a=(s=>{const i=s.dom;return aa(s)?i.getBoundingClientRect().height:i.offsetHeight})(o);if(a<=0||null===a){const s=tr(o,e);return parseFloat(s)||0}return a},r=(o,a)=>Gt(a,(s,i)=>{const l=tr(o,i),d=void 0===l?0:parseInt(l,10);return isNaN(d)?s:s+d},0);return{set:(o,a)=>{if(!xe(a)&&!a.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+a);const s=o.dom;es(s)&&(s.style[e]=a+"px")},get:n,getOuter:n,aggregate:r,max:(o,a,s)=>{const i=r(o,s);return a>i?a-i:0}}})("height"),Bb=()=>S(document),Db=(e,t)=>e.view(t).fold(ee([]),n=>{const r=e.owner(n),o=Db(e,r);return[n].concat(o)});var O_=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?y.none():y.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(S)},owner:e=>wr(e)});const Jc=e=>"textarea"===ot(e),Lb=(e,t)=>{const n=(o=>{const a=o.dom.ownerDocument,s=a.body,i=a.defaultView,l=a.documentElement;if(s===o.dom)return la(s.offsetLeft,s.offsetTop);const d=yi(null==i?void 0:i.pageYOffset,l.scrollTop),c=yi(null==i?void 0:i.pageXOffset,l.scrollLeft),u=yi(l.clientTop,s.clientTop),m=yi(l.clientLeft,s.clientLeft);return Fd(o).translate(c-m,d-u)})(e),r=T_.get(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}},Pb=(e,t,n,r)=>{D_(e,(o,a)=>B_(e,t,n,r),n)},Ib=(e,t,n,r,o)=>{const a={elm:r.element.dom,alignToTop:o};e.dispatch("ScrollIntoView",a).isDefaultPrevented()||(n(t,Ud(t).top,r,o),e.dispatch("AfterScrollIntoView",a))},B_=(e,t,n,r)=>{S(e.getBody());const a=S(e.getDoc()),s=((i,l)=>{const d=((u,m)=>{const p=Ft(u);if(0===p.length||Jc(u))return{element:u,offset:m};if(m<p.length&&!Jc(p[m]))return{element:p[m],offset:0};{const f=p[p.length-1];return Jc(f)?{element:u,offset:m}:"img"===ot(f)?{element:f,offset:1}:yn(f)?{element:f,offset:ki(f).length}:{element:f,offset:Ft(f).length}}})(i,l),c=Ya('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>');return pn(d.element,c),Lb(c,()=>lt(c))})(S(n.startContainer),n.startOffset);Ib(e,a,t,s,r),s.cleanup()},Mb=(e,t,n,r)=>{const o=S(e.getDoc());Ib(e,o,n,Lb(S(t),Ee),r)},D_=(e,t,n)=>{const r=n.startContainer,o=n.startOffset,a=n.endContainer,s=n.endOffset;t(S(r),S(a));const i=e.dom.createRng();i.setStart(r,o),i.setEnd(a,s),e.selection.setRng(n)},eu=(e,t)=>e.element.dom.scrollIntoView({block:t?"start":"end"}),Fb=(e,t,n,r)=>{const o=t+e,a=n.pos.top,s=n.bottom,i=s-a>=t;a<e?eu(n,!1!==r):a>o?eu(n,i?!1!==r:!0===r):s>o&&!i&&eu(n,!0===r)},Ub=(e,t,n,r)=>{const o=Xa(e).dom.innerHeight;Fb(t,o,n,r)},$b=(e,t,n,r)=>{const o=Xa(e).dom.innerHeight;Fb(t,o,n,r);const a=(i=>{const l=Bb(),d=Ud(l),c=((p,f)=>{const h=f.owner(p);return Db(f,h)})(i,O_),u=Fd(i),m=oo(c,(p,f)=>{const h=Fd(f);return{left:p.left+h.left,top:p.top+h.top}},{left:0,top:0});return la(m.left+u.left+d.left,m.top+u.top+d.top)})(n.element),s=Ig(window);a.top<s.y?Lg(n.element,!1!==r):a.top>s.bottom&&Lg(n.element,!0===r)},L_=(e,t,n)=>Pb(e,Ub,t,n),P_=(e,t,n)=>Mb(e,t,Ub,n),I_=(e,t,n)=>Pb(e,$b,t,n),M_=(e,t,n)=>Mb(e,t,$b,n),Bs=(e,t,n)=>{(e.inline?L_:I_)(e,t,n)},zb=e=>e.dom.focus(),jb=e=>{const t=Pr(e).dom;return e.dom===t.activeElement},tu=(e=Bb())=>y.from(e.dom.activeElement).map(S),Hb=(e,t)=>{const n=yn(t)?ki(t).length:Ft(t).length+1;return e>n?n:e<0?0:e},F_=e=>xa.range(e.start,Hb(e.soffset,e.start),e.finish,Hb(e.foffset,e.finish)),qb=(e,t)=>!Ci(t.dom)&&(Cr(e,t)||Ge(e,t)),Vb=e=>t=>qb(e,t.start)&&qb(e,t.finish),U_=e=>xa.range(S(e.startContainer),e.startOffset,S(e.endContainer),e.endOffset),$_=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),y.some(t)}catch{return y.none()}},nu=e=>{const t=e.inline||He.browser.isFirefox()?(n=S(e.getBody()),(r=>{const o=r.getSelection();return(o&&0!==o.rangeCount?y.from(o.getRangeAt(0)):y.none()).map(U_)})(Xa(n).dom).filter(Vb(n))):y.none();var n;e.bookmark=t.isSome()?t:e.bookmark},ru=e=>(e.bookmark?e.bookmark:y.none()).bind(t=>{return n=S(e.getBody()),y.from(t).filter(Vb(n)).map(F_);var n}).bind($_),Wb={isEditorUIElement:e=>{const t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},_n={setEditorTimeout:(e,t,n)=>{return xe(o=n)||(o=0),setTimeout(()=>{e.removed||t()},o);var o},setEditorInterval:(e,t,n)=>{const r=(xe(a=n)||(a=0),setInterval(()=>{e.removed?clearInterval(r):t()},a));var a;return r}};let Sa;const ou=et.DOM,au=e=>{const t=e.classList;return void 0!==t&&(t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"))},il=(e,t)=>{const n=gS(e);return null!==ou.getParent(t,o=>{return ue(a=o)&&Wb.isEditorUIElement(a)||!!n&&e.dom.is(o,n);var a})},su=e=>{try{const t=Pr(S(e.getElement()));return tu(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},z_=(e,t)=>{const n=t.editor;(o=>{const a=Mi(()=>{nu(o)},0);o.on("init",()=>{var s,d;o.inline&&((s,i)=>{const l=()=>{i.throttle()};et.DOM.bind(document,"mouseup",l),s.on("remove",()=>{et.DOM.unbind(document,"mouseup",l)})})(o,a),d=a,(s=o).on("mouseup touchend",c=>{d.throttle()}),s.on("keyup NodeChange AfterSetSelectionRange",l=>{(d=>"nodechange"===d.type&&d.selectionChange)(l)||nu(s)})}),o.on("remove",()=>{a.cancel()})})(n);const r=(o,a)=>{YS(o)&&!0!==o.inline&&a(S(o.getContainer()),"tox-edit-focus")};n.on("focusin",()=>{const o=e.focusedEditor;au(su(n))&&r(n,ta),o!==n&&(o&&o.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:o}),n.focus(!0))}),n.on("focusout",()=>{_n.setEditorTimeout(n,()=>{const o=e.focusedEditor;au(su(n))&&o===n||r(n,na),il(n,su(n))||o!==n||(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Sa||(Sa=o=>{const a=e.activeEditor;a&&kg(o).each(s=>{s.ownerDocument===document&&(s===document.body||il(a,s)||e.focusedEditor!==a||(a.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null))})},ou.bind(document,"focusin",Sa))},j_=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&Sa&&(ou.unbind(document,"focusin",Sa),Sa=null)},Gb=(e,t)=>{var n,r,o;(n=S(e.getBody()),r=t,(o=r,o.collapsed?y.from(qr(o.startContainer,o.startOffset)).map(S):y.none()).bind(o=>Gk(o)?y.some(o):Cr(n,o)?y.none():y.some(n))).bind(n=>Xt(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},iu=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},Po=e=>{return e.inline?(t=>{const n=t.getBody();return n&&(r=S(n),jb(r)||(o=r,tu(Pr(o)).filter(a=>o.dom.contains(a.dom))).isSome());var r,o})(e):F((t=e).iframeElement)&&jb(S(t.iframeElement));var t},lu=e=>e.editorManager.setActive(e),Kb=(e,t,n,r,o)=>{const s=n?t.startOffset:t.endOffset;return y.from(n?t.startContainer:t.endContainer).map(S).map(i=>r&&t.collapsed?i:oa(i,o(i,s)).getOr(i)).bind(i=>dn(i)?y.some(i):Dn(i).filter(dn)).map(i=>i.dom).getOr(e)},Yb=(e,t,n=!1)=>Kb(e,t,!0,n,(r,o)=>Math.min(Ld(r),o)),Xb=(e,t,n=!1)=>Kb(e,t,!1,n,(r,o)=>o>0?o-1:o),Zb=(e,t)=>{const n=e;for(;e&&K(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},du=(e,t)=>ze(t,n=>{const r=e.dispatch("GetSelectionRange",{range:n});return r.range!==n?r.range:n}),H_=["img","br"],Qb=e=>{return Hg(e).filter(n=>0!==n.trim().length||n.indexOf(_t)>-1).isSome()||qe(H_,ot(e))||Ad(n=e)&&"false"===Cn(n,"contenteditable");var n},Jb="[data-mce-autocompleter]",e0=e=>Ja(e,Jb),V_={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},ll=(e,t,n)=>{const r=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[r])return e[r];if(e!==t){let a=e[o];if(a)return a;for(let s=e.parent;s&&s!==t;s=s.parent)if(a=s[o],a)return a}},W_=e=>{var t;const n=null!==(t=e.value)&&void 0!==t?t:"";if(!yo(n))return!1;const r=e.parent;return!r||"span"===r.name&&!r.attr("style")||!/^[ ]+$/.test(n)},t0=e=>{const t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class on{static create(t,n){const r=new on(t,V_[t]||1);return n&&ve(n,(o,a)=>{r.attr(a,o)}),r}constructor(t,n){this.name=t,this.type=n,1===n&&(this.attributes=[],this.attributes.map={})}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const r=this;if(!ae(t))return F(t)&&ve(t,(a,s)=>{r.attr(s,a)}),r;const o=r.attributes;if(o){if(void 0!==n){if(null===n){if(t in o.map){delete o.map[t];let a=o.length;for(;a--;)if(o[a].name===t)return o.splice(a,1),r}return r}if(t in o.map){let a=o.length;for(;a--;)if(o[a].name===t){o[a].value=n;break}}else o.push({name:t,value:n});return o.map[t]=n,r}return o.map[t]}}clone(){const t=this,n=new on(t.name,t.type),r=t.attributes;if(r){const o=[];o.map={};for(let a=0,s=r.length;a<s;a++){const i=r[a];"id"!==i.name&&(o[o.length]={name:i.name,value:i.value},o.map[i.name]=i.value)}n.attributes=o}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const r=n.next;t.insert(n,t,!0),n=r}t.remove()}remove(){const t=this,n=t.parent,r=t.next,o=t.prev;return n&&(n.firstChild===t?(n.firstChild=r,r&&(r.prev=null)):o&&(o.next=r),n.lastChild===t?(n.lastChild=o,o&&(o.next=null)):r&&(r.prev=o),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const r=n.lastChild;return r?(r.next=t,t.prev=r,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,r){t.parent&&t.remove();const o=n.parent||this;return r?(n===o.firstChild?o.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===o.lastChild?o.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=o,t}getAll(t){const n=this,r=[];for(let o=n.firstChild;o;o=ll(o,n))o.name===t&&r.push(o);return r}children(){const t=[];for(let n=this.firstChild;n;n=n.next)t.push(n);return t}empty(){const t=this;if(t.firstChild){const n=[];for(let o=t.firstChild;o;o=ll(o,t))n.push(o);let r=n.length;for(;r--;){const o=n[r];o.parent=o.firstChild=o.lastChild=o.next=o.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},r){var o;const a=this;let s=a.firstChild;if(t0(a))return!1;if(s)do{if(1===s.type){if(s.attr("data-mce-bogus"))continue;if(t[s.name]||t0(s))return!1}if(8===s.type||3===s.type&&!W_(s)||3===s.type&&s.parent&&n[s.parent.name]&&yo(null!==(o=s.value)&&void 0!==o?o:"")||r&&r(s))return!1}while(s=ll(s,a));return!0}walk(t){return ll(this,null,t)}}const n0=(e,t,n=0)=>{const r=e.toLowerCase();if(-1!==r.indexOf("[if ",n)&&/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(r.substr(n))){const o=r.indexOf("[endif]",n);return r.indexOf(">",o)}if(t){const o=r.indexOf(">",n);return-1!==o?o:r.length}{const o=/--!?>/g;o.lastIndex=n;const a=o.exec(e);return a?a.index+a[0].length:r.length}},G_=(e,t,n)=>{const r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,o=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,a=e.getVoidElements();let s=1,i=n;for(;0!==s;)for(r.lastIndex=i;;){const l=r.exec(t);if(null===l)return i;if("!"===l[1]){i=It(l[2],"--")?n0(t,!1,l.index+3):n0(t,!0,l.index+1);break}{o.lastIndex=r.lastIndex;const d=o.exec(t);if(W(d)||d.index!==r.lastIndex)continue;"/"===l[1]?s-=1:Ie(a,l[2])||(s+=1),i=r.lastIndex+d[0].length;break}}return i},r0=(e,t)=>{const n=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,r=e.schema;let o=((i,l)=>{const d=new RegExp(["\\s?("+i.join("|")+')="[^"]+"'].join("|"),"gi");return l.replace(d,"")})(e.getTempAttrs(),t);const a=r.getVoidElements();let s;for(;s=n.exec(o);){const i=n.lastIndex,l=s[0].length;let d;d=a[s[1]]?i:G_(r,o,i),o=o.substring(0,i-l)+o.substring(d),n.lastIndex=i-l}return Sr(o)},K_=r0,o0=e=>{const t=jt(e,"[data-mce-bogus]");V(t,n=>{"all"===Cn(n,"data-mce-bogus")?lt(n):vo(n)?(pn(n,ra("\ufeff")),lt(n)):kr(n)})},a0=e=>{const t=jt(e,"input");V(t,n=>{Mt(n,"name")})},s0=X.makeMap,i0=e=>{const t=[],n=(e=e||{}).indent,r=s0(e.indent_before||""),o=s0(e.indent_after||""),a=zr.getEncodeFunc(e.entity_encoding||"raw",e.entities),s="xhtml"!==e.element_format;return{start:(i,l,d)=>{if(n&&r[i]&&t.length>0){const c=t[t.length-1];c.length>0&&"\n"!==c&&t.push("\n")}if(t.push("<",i),l)for(let c=0,u=l.length;c<u;c++){const m=l[c];t.push(" ",m.name,'="',a(m.value,!0),'"')}if(t[t.length]=!d||s?">":" />",d&&n&&o[i]&&t.length>0){const c=t[t.length-1];c.length>0&&"\n"!==c&&t.push("\n")}},end:i=>{let l;t.push("</",i,">"),n&&o[i]&&t.length>0&&(l=t[t.length-1],l.length>0&&"\n"!==l&&t.push("\n"))},text:(i,l)=>{i.length>0&&(t[t.length]=l?i:a(i))},cdata:i=>{t.push("<![CDATA[",i,"]]>")},comment:i=>{t.push("\x3c!--",i,"--\x3e")},pi:(i,l)=>{l?t.push("<?",i," ",a(l),"?>"):t.push("<?",i,"?>"),n&&t.push("\n")},doctype:i=>{t.push("<!DOCTYPE",i,">",n?"\n":"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Kr=(e={},t=jr())=>{const n=i0(e);return e.validate=!("validate"in e)||e.validate,{serialize:r=>{const o=e.validate,a={3:i=>{var l;n.text(null!==(l=i.value)&&void 0!==l?l:"",i.raw)},8:i=>{var l;n.comment(null!==(l=i.value)&&void 0!==l?l:"")},7:i=>{n.pi(i.name,i.value)},10:i=>{var l;n.doctype(null!==(l=i.value)&&void 0!==l?l:"")},4:i=>{var l;n.cdata(null!==(l=i.value)&&void 0!==l?l:"")},11:i=>{let l=i;if(l=l.firstChild)do{s(l)}while(l=l.next)}};n.reset();const s=i=>{var l;const d=a[i.type];if(d)d(i);else{const c=i.name,u=c in t.getVoidElements();let m=i.attributes;if(o&&m&&m.length>1){const p=[];p.map={};const f=t.getElementRule(i.name);if(f){for(let h=0,g=f.attributesOrder.length;h<g;h++){const b=f.attributesOrder[h];if(b in m.map){const v=m.map[b];p.map[b]=v,p.push({name:b,value:v})}}for(let h=0,g=m.length;h<g;h++){const b=m[h].name;if(!(b in p.map)){const v=m.map[b];p.map[b]=v,p.push({name:b,value:v})}}m=p}}if(n.start(c,m,u),!u){let p=i.firstChild;if(p){"pre"!==c&&"textarea"!==c||3!==p.type||"\n"!==(null===(l=p.value)||void 0===l?void 0:l[0])||n.text("\n",!0);do{s(p)}while(p=p.next)}n.end(c)}}};return 1!==r.type||e.inner?3===r.type?a[3](r):a[11](r):s(r),n.getContent()}}},l0=new Set;V(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],e=>{l0.add(e)});const d0=["font","text-decoration","text-emphasis"],cu=(e,t)=>Me(e.parseStyle(e.getAttrib(t,"style"))),X_=(e,t,n)=>{const r=cu(e,t),o=cu(e,n),a=s=>{var i,l;const d=null!==(i=e.getStyle(t,s))&&void 0!==i?i:"",c=null!==(l=e.getStyle(n,s))&&void 0!==l?l:"";return Zn(d)&&Zn(c)&&d!==c};return st(r,s=>{const i=l=>st(l,d=>d===s);if(!i(o)&&i(d0)){const l=Re(o,d=>st(d0,c=>It(d,c)));return st(l,a)}return a(s)})},c0=(e,t,n)=>y.from(n.container()).filter(K).exists(r=>{const o=e?0:-1;return t(r.data.charAt(n.offset()+o))}),uu=ce(c0,!0,Ca),mu=ce(c0,!1,Ca),Z_=e=>{const t=e.container();return K(t)&&(0===t.data.length||Ai(t.data)&&Ts.isBookmarkNode(t.parentNode))},Yr=(e,t)=>n=>_c(e?0:-1,n).filter(t).isSome(),u0=e=>zg(e)&&"block"===tr(S(e),"display"),m0=e=>{return at(e)&&!(ue(t=e)&&"all"===t.getAttribute("data-mce-bogus"));var t},Q_=Yr(!0,u0),J_=Yr(!1,u0),Ds=Yr(!0,nr),Ls=Yr(!1,nr),f0=Yr(!0,xr),g0=Yr(!1,xr),Xr=Yr(!0,m0),Zr=Yr(!1,m0),p0=(e,t)=>{return o=$e,Cr(r=t,n=e)?yg(n,a=>o(a)||Ge(a,r)).slice(0,-1):[];var n,r,o},Nr=(e,t)=>[e].concat(p0(e,t)),fu=(e,t,n)=>$h(e,t,n,Z_),h0=(e,t)=>bt(Nr(S(t.container()),e),wn),b0=(e,t,n)=>fu(e,t.dom,n).forall(r=>h0(t,n).fold(()=>!or(r,n,t.dom),o=>!or(r,n,t.dom)&&Cr(o,S(r.container())))),v0=(e,t,n)=>h0(t,n).fold(()=>fu(e,t.dom,n).forall(r=>!or(r,n,t.dom)),r=>fu(e,r.dom,n).isNone()),gu=ce(v0,!1),y0=ce(v0,!0),eA=ce(b0,!1),tA=ce(b0,!0),nA=e=>Vi(e).exists(vo),dl=(e,t,n)=>{const r=Re(Nr(S(n.container()),t),wn),o=te(r).getOr(t);return kn(e,o.dom,n).filter(nA)},pu=(e,t)=>Vi(t).exists(vo)||dl(!0,e,t).isSome(),hu=(e,t)=>{return(n=t,y.from(n.getNode(!0)).map(S)).exists(vo)||dl(!1,e,t).isSome();var n},rA=ce(dl,!1),oA=ce(dl,!0),C0=e=>P.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),w0=(e,t)=>{const n=Re(Nr(S(t.container()),e),wn);return te(n).getOr(e)},E0=(e,t)=>C0(t)?mu(t):mu(t)||rn(w0(e,t).dom,t).exists(mu),k0=(e,t)=>C0(t)?uu(t):uu(t)||Yt(w0(e,t).dom,t).exists(uu),bu=e=>Vi(e).bind(t=>fo(t,dn)).exists(t=>{return n=tr(t,"white-space"),qe(["pre","pre-wrap"],n);var n}),x0=(e,t)=>n=>{return r=new kt(n,e)[t](),F(r)&&at(r)&&Ah(r);var r},S0=(e,t)=>{return!bu(t)&&(rn((n=e).dom,r=t).isNone()||Yt(n.dom,r).isNone()||gu(n,r)||y0(n,r)||hu(n,r)||pu(n,r)||E0(e,t)||k0(e,t));var n,r},Ps=(e,t)=>!bu(t)&&(gu(e,t)||eA(e,t)||hu(e,t)||E0(e,t)||((n,r)=>{const o=rn(n.dom,r).getOr(r),a=x0(n.dom,"prev");return r.isAtStart()&&(a(r.container())||a(o.container()))})(e,t)),Is=(e,t)=>!bu(t)&&(y0(e,t)||tA(e,t)||pu(e,t)||k0(e,t)||((n,r)=>{const o=Yt(n.dom,r).getOr(r),a=x0(n.dom,"next");return r.isAtEnd()&&(a(r.container())||a(o.container()))})(e,t)),vu=(e,t)=>Ps(e,t)||Is(e,(n=>{const r=n.container(),o=n.offset();return K(r)&&o<r.data.length?P(r,o+1):n})(t)),_0=(e,t)=>Yi(e.charAt(t)),A0=(e,t)=>Ca(e.charAt(t)),N0=(e,t,n)=>{const r=t.data,o=P(t,0);return n||!_0(r,0)||vu(e,o)?!!(n&&A0(r,0)&&Ps(e,o))&&(t.data=_t+r.slice(1),!0):(t.data=" "+r.slice(1),!0)},R0=(e,t,n)=>{const r=t.data,o=P(t,r.length-1);return n||!_0(r,r.length-1)||vu(e,o)?!!(n&&A0(r,r.length-1)&&Is(e,o))&&(t.data=r.slice(0,-1)+_t,!0):(t.data=r.slice(0,-1)+" ",!0)},T0=(e,t,n)=>{if(0===n)return;const r=S(e),o=Er(r,wn).getOr(r),a=e.data.slice(t,t+n),s=t+n>=e.data.length&&Is(o,P(e,e.data.length)),i=0===t&&Ps(o,P(e,0));e.replaceData(t,n,Zg(a,4,i,s))},cl=(e,t)=>{const n=e.data.slice(t),r=n.length-bk(n).length;T0(e,t,r)},yu=(e,t)=>{const n=e.data.slice(0,t),r=n.length-qf(n).length;T0(e,t-r,r)},Cu=(e,t,n,r=!0)=>{const o=qf(e.data).length,a=r?e:t,s=r?t:e;return r?a.appendData(s.data):a.insertData(0,s.data),lt(S(s)),n&&cl(a,o),a},sA=(e,t)=>((n,r)=>{const o=n.container(),a=n.offset();return!P.isTextPosition(n)&&o===r.parentNode&&a>P.before(r).offset()})(t,e)?P(t.container(),t.offset()-1):t,O0=e=>{return Ln(e.previousSibling)?y.some(K(t=e.previousSibling)?P(t,t.data.length):P.after(t)):e.previousSibling?Pn(e.previousSibling):y.none();var t},B0=e=>{return Ln(e.nextSibling)?y.some(K(t=e.nextSibling)?P(t,0):P.before(t)):e.nextSibling?Xt(e.nextSibling):y.none();var t},D0=(e,t,n)=>{n.fold(()=>{e.focus()},r=>{e.selection.setRng(r.toRange(),t)})},lA=(e,t)=>t&&Ie(e.schema.getBlockElements(),ot(t)),dA=e=>{if(Ct(e)){const t=Ya('<br data-mce-bogus="1">');return ia(e),yt(e,t),y.some(P.before(t.dom))}return y.none()},Io=(e,t,n,r=!0)=>{const o=((e,t,n)=>{return(r=e,o=t,a=n,r?(s=o,B0(i=a).orThunk(()=>O0(i)).orThunk(()=>{return Yt(l=s,P.after(d=i)).orThunk(()=>rn(l,P.before(d)));var l,d})):((s,i)=>O0(i).orThunk(()=>B0(i)).orThunk(()=>{return l=s,y.from((d=i).previousSibling?d.previousSibling:d.parentNode).bind(c=>rn(l,P.before(c))).orThunk(()=>Yt(l,P.after(d)));var l,d}))(o,a)).map(ce(sA,n));var r,o,a,s,i})(t,e.getBody(),n.dom),a=Er(n,ce(lA,e),(s=e.getBody(),l=>l.dom===s));var s;const i=((l,d,c)=>{const u=mo(l).filter(yn),m=Za(l).filter(yn);return lt(l),(p=u,f=m,h=d,g=(b,v,C)=>{const w=b.dom,E=v.dom,k=w.data.length;return Cu(w,E,c),C.container()===E?P(w,k):C},p.isSome()&&f.isSome()&&h.isSome()?y.some(g(p.getOrDie(),f.getOrDie(),h.getOrDie())):y.none()).orThunk(()=>(c&&(u.each(b=>yu(b.dom,b.dom.length)),m.each(b=>cl(b.dom,0))),d));var p,f,h,g})(n,o,(d=n,Ie(e.schema.getTextInlineElements(),ot(d))));var d;e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):a.bind(dA).fold(()=>{r&&D0(e,t,i)},l=>{r&&D0(e,t,y.some(l))})},cA=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Mo=(e,t)=>Fn(S(t),oS(e))&&!Co(e.schema,t)&&e.dom.isEditable(t),L0=e=>{var t,n;return"rtl"===et.DOM.getStyle(e,"direction",!0)||(n=null!==(t=e.textContent)&&void 0!==t?t:"",cA.test(n))},Qr=(e,t,n)=>{const r=(o=e,a=t,Re(et.DOM.getParents(n.container(),"*",a),o));var o,a;return y.from(r[r.length-1])},An=(e,t)=>{const n=t.container(),r=t.offset();return e?$r(n)?K(n.nextSibling)?P(n.nextSibling,0):P.after(n):Vd(t)?P(n,r+1):t:$r(n)?K(n.previousSibling)?P(n.previousSibling,n.previousSibling.data.length):P.before(n):Wd(t)?P(n,r-1):t},P0=ce(An,!0),I0=ce(An,!1),M0=(e,t)=>{const n=r=>r.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},wu=e=>M0(e,"Delete"),uA=e=>qg(e)||rs(e),ul=(e,t)=>{return Cr(e,t)?fo(t,uA,(n=e,r=>Jo(Dn(r),n,Ge))):y.none();var n},Eu=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},F0=(e,t,n)=>en(Xt(n),Pn(n),(r,o)=>{const a=An(!0,r),s=An(!1,o),i=An(!1,t);return e?Yt(n,i).exists(l=>l.isEqual(s)&&t.isEqual(a)):rn(n,i).exists(l=>l.isEqual(a)&&t.isEqual(s))}).getOr(!0),U0=e=>{var t;return(8===dg(t=e)||"#comment"===ot(t)?mo(e):Dd(e)).bind(U0).orThunk(()=>y.some(e))},$0=(e,t,n,r=!0)=>{var o;t.deleteContents();const a=U0(n).getOr(n),s=S(null!==(o=e.dom.getParent(a.dom,e.dom.isBlock))&&void 0!==o?o:n.dom);if(s.dom===e.getBody()?Eu(e,r):Ct(s)&&(Ur(s),r&&e.selection.setCursorLocation(s.dom,0)),!Ge(n,s)){const l=Jo(Dn(s),n)?[]:Dn(i=s).map(Ft).map(d=>Re(d,c=>!Ge(i,c))).getOr([]);V(l.concat(Ft(n)),d=>{Ge(d,s)||Cr(d,s)||!Ct(d)||lt(d)})}var i},ku=e=>jt(e,"td,th"),xu=(e,t)=>({start:e,end:t}),Ms=rr([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),ml=(e,t)=>go(S(e),"td,th",t),z0=e=>!Ge(e.start,e.end),j0=(e,t)=>As(e.start,t).bind(n=>As(e.end,t).bind(r=>ea(Ge(n,r),n))),Su=e=>t=>j0(t,e).map(n=>({rng:t,table:n,cells:ku(n)})),H0=(e,t,n,r)=>{if(n.collapsed||!e.forall(z0))return y.none();if(t.isSameTable){const o=e.bind(Su(r));return y.some({start:o,end:o})}{const o=ml(n.startContainer,r),a=ml(n.endContainer,r),s=o.bind((l=r,d=>As(d,l).bind(c=>ye(ku(c)).map(u=>xu(d,u))))).bind(Su(r)),i=a.bind((l=>d=>As(d,l).bind(c=>te(ku(c)).map(u=>xu(u,d))))(r)).bind(Su(r));return y.some({start:s,end:i})}var l},q0=(e,t)=>ao(e,n=>Ge(n,t)),_u=e=>en(q0(e.cells,e.rng.start),q0(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),V0=(e,t)=>{const{startTable:n,endTable:r}=t,o=e.cloneRange();return n.each(a=>o.setStartAfter(a.dom)),r.each(a=>o.setEndBefore(a.dom)),o},W0=e=>V(e,t=>{Mt(t,"contenteditable"),Ur(t)}),Au=(e,t,n,r)=>{const o=n.cloneRange();r?(o.setStart(n.startContainer,n.startOffset),o.setEndAfter(t.dom.lastChild)):(o.setStartBefore(t.dom.firstChild),o.setEnd(n.endContainer,n.endOffset)),Nu(e,o,t,!1).each(a=>a())},G0=e=>{const t=wa(e),n=S(e.selection.getNode());Ei(n.dom)&&Ct(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&st(t,r=>Ge(r,n))&&Bt(n,"data-mce-selected","1")},K0=(e,t,n)=>y.some(()=>{const r=e.selection.getRng(),o=n.bind(({rng:a,isStartInTable:s})=>{const i=y.from((d=e).dom.getParent(s?a.endContainer:a.startContainer,d.dom.isBlock)).map(S);var d;a.deleteContents(),((d,c,u)=>{u.each(m=>{c?lt(m):(Ur(m),d.selection.setCursorLocation(m.dom,0))})})(e,s,i.filter(Ct));const l=s?t[0]:t[t.length-1];return Au(e,l,r,s),Ct(l)?y.none():y.some(s?t.slice(1):t.slice(0,-1))}).getOr(t);W0(o),G0(e)}),fA=(e,t,n,r)=>y.some(()=>{const o=e.selection.getRng(),a=t[0],s=n[n.length-1];Au(e,a,o,!0),Au(e,s,o,!1);const i=Ct(a)?t:t.slice(1),l=Ct(s)?n:n.slice(0,-1);W0(i.concat(l)),r.deleteContents(),G0(e)}),Nu=(e,t,n,r=!0)=>y.some(()=>{$0(e,t,n,r)}),gA=(e,t)=>y.some(()=>Io(e,!1,t)),Y0=(e,t)=>bt(Nr(t,e),os),Ru=(e,t)=>bt(Nr(t,e),Nd("caption")),fl=(e,t)=>y.some(()=>{Ur(t),e.selection.setCursorLocation(t.dom,0)}),X0=(e,t)=>e?f0(t):g0(t),Tu=(e,t)=>{const n=S(e.selection.getStart(!0)),r=wa(e);return e.selection.isCollapsed()&&0===r.length?((e,t,n)=>{const r=S(e.getBody());return Ru(r,n).fold(()=>((o,a,s,i)=>{const l=P.fromRangeStart(o.selection.getRng());return Y0(s,i).bind(d=>{return Ct(d)?fl(o,d):(u=s,p=d,f=l,_s(a,o.getBody(),f).bind(h=>Y0(u,S(h.getNode())).bind(g=>Ge(g,p)?y.none():y.some(Ee))));var u,p,f})})(e,t,r,n).orThunk(()=>ea(((o,a)=>{const s=P.fromRangeStart(o.selection.getRng());return X0(a,s)||kn(a,o.getBody(),s).exists(i=>X0(a,i))})(e,t),Ee)),o=>((a,s,i,l)=>{const d=P.fromRangeStart(a.selection.getRng());return Ct(l)?fl(a,l):(u=i,p=l,f=d,_s(m=s,(c=a).getBody(),f).fold(()=>y.some(Ee),h=>{return b=m,v=f,C=h,Xt((g=p).dom).bind(w=>Pn(g.dom).map(E=>b?v.isEqual(w)&&C.isEqual(E):v.isEqual(E)&&C.isEqual(w))).getOr(!0)?((g,b)=>fl(g,b))(c,p):((g,b,v)=>Ru(g,S(v.getNode())).fold(()=>y.some(Ee),C=>ea(!Ge(C,b),Ee)))(u,p,h);var g,b,v,C}));var c,u,m,p,f})(e,t,r,o))})(e,t,n):((o,a,s)=>{const i=S(o.getBody()),l=o.selection.getRng();return 0!==s.length?K0(o,s,y.none()):(d=o,u=l,Ru(c=i,a).fold(()=>{return p=d,((e,t)=>{const n=(a=e,s=>Ge(a,s)),r=((a,s)=>{const i=ml(a.startContainer,s),l=ml(a.endContainer,s);return en(i,l,xu)})(t,n),o=((a,s)=>{const i=p=>As(S(p),s),l=i(a.startContainer),d=i(a.endContainer),c=l.isSome(),u=d.isSome(),m=en(l,d,Ge).getOr(!1);return{startTable:l,endTable:d,isStartInTable:c,isEndInTable:u,isSameTable:m,isMultiTable:!m&&c&&u}})(t,n);var a;return((a,s,i)=>a.exists(l=>{return c=i,!z0(d=l)&&j0(d,c).exists(u=>{const m=u.dom.rows;return 1===m.length&&1===m[0].cells.length})&&Mc(l.start,s);var d,c}))(r,t,n)?r.map(a=>Ms.singleCellTable(t,a.start)):o.isMultiTable?((a,s,i,l)=>H0(a,s,i,l).bind(({start:d,end:c})=>{const u=d.bind(_u).getOr([]),m=c.bind(_u).getOr([]);if(u.length>0&&m.length>0){const p=V0(i,s);return y.some(Ms.multiTable(u,m,p))}return y.none()}))(r,o,t,n):((a,s,i,l)=>H0(a,s,i,l).bind(({start:d,end:c})=>d.or(c)).bind(d=>{const{isSameTable:c}=s,u=_u(d).getOr([]);if(c&&d.cells.length===u.length)return y.some(Ms.fullTable(d.table));if(u.length>0){if(c)return y.some(Ms.partialTable(u,y.none()));{const m=V0(i,s);return y.some(Ms.partialTable(u,y.some({...s,rng:m})))}}return y.none()}))(r,o,t,n)})(c,u).bind(g=>g.fold(ce(Nu,p),ce(gA,p),ce(K0,p),ce(fA,p)));var p},p=>fl(d,p)));var d,c,u})(e,n,r)},Fo=(e,t)=>{let n=t;for(;n&&n!==e;){if($n(n)||at(n))return n;n=n.parentNode}return null},hA=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],bA=X.each,Ou=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),r=o=>st(hA,a=>It(o,a))||n.has(o);return{compare:(o,a)=>{if(o.nodeName!==a.nodeName||o.nodeType!==a.nodeType)return!1;const s=l=>{const d={};return bA(t.getAttribs(l),c=>{const u=c.nodeName.toLowerCase();"style"===u||r(u)||(d[u]=t.getAttrib(l,u))}),d},i=(l,d)=>{for(const c in l)if(Ie(l,c)){const u=d[c];if(ne(u)||l[c]!==u)return!1;delete d[c]}for(const c in d)if(Ie(d,c))return!1;return!0};return!(ue(o)&&ue(a)&&(!i(s(o),s(a))||!i(t.parseStyle(t.getAttrib(o,"style")),t.parseStyle(t.getAttrib(a,"style"))))||xn(o)||xn(a))},isAttributeInternal:r}},Z0=(e,t,n,r)=>{const o=n.name;for(let a=0,s=e.length;a<s;a++){const i=e[a];if(i.name===o){const l=r.nodes[o];l?l.nodes.push(n):r.nodes[o]={filter:i,nodes:[n]}}}if(n.attributes)for(let a=0,s=t.length;a<s;a++){const i=t[a],l=i.name;if(l in n.attributes.map){const d=r.attributes[l];d?d.nodes.push(n):r.attributes[l]={filter:i,nodes:[n]}}}},Q0=(e,t)=>{const n=(r,o)=>{ve(r,a=>{const s=Se(a.nodes);V(a.filter.callbacks,i=>{for(let l=s.length-1;l>=0;l--){const d=s[l];(o?void 0!==d.attr(a.filter.name):d.name===a.filter.name)&&!ie(d.parent)||s.splice(l,1)}s.length>0&&i(s,a.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},J0=(e,t,n,r={})=>{const o=((a,s,i)=>{const l={nodes:{},attributes:{}};return i.firstChild&&((d,c)=>{let u=d;for(;u=u.walk();)Z0(a,s,u,l)})(i),l})(e,t,n);Q0(o,r)},Bu=(e,t,n)=>{if(e.insert&&t(n)){const r=new on("br",1);r.attr("data-mce-bogus","1"),n.empty().append(r)}else n.empty().append(new on("#text",3)).value=_t},ev=(e,t)=>{const n=null==e?void 0:e.firstChild;return F(n)&&n===e.lastChild&&n.name===t},Fs=(e,t,n,r)=>r.isEmpty(t,n,o=>((a,s)=>{const i=a.getElementRule(s.name);return!0===(null==i?void 0:i.paddEmpty)})(e,o)),vA=e=>{let t;for(let n=e;n;n=n.parent){const r=n.attr("contenteditable");if("false"===r)break;"true"===r&&(t=n)}return y.from(t)},Du=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const r=e.children();for(const o of r)n&&!t.isValidChild(n.name,o.name)&&Du(o,t,n);e.unwrap()}},Lu=(e,t,n,r=Ee)=>{const o=t.getTextBlockElements(),a=t.getNonEmptyElements(),s=t.getWhitespaceElements(),i=X.makeMap("tr,td,th,tbody,thead,tfoot,table"),l=new Set,d=c=>c!==n&&!i[c.name];for(let c=0;c<e.length;c++){const u=e[c];let m,p,f;if(!u.parent||l.has(u))continue;if(o[u.name]&&"li"===u.parent.name){let g=u.next;for(;g&&o[g.name];)g.name="li",l.add(g),u.parent.insert(g,u.parent),g=g.next;u.unwrap();continue}const h=[u];for(m=u.parent;m&&!t.isValidChild(m.name,u.name)&&d(m);m=m.parent)h.push(m);if(m&&h.length>1)if(t.isValidChild(m.name,u.name)){h.reverse(),p=h[0].clone(),r(p);let g=p;for(let b=0;b<h.length-1;b++){t.isValidChild(g.name,h[b].name)&&b>0?(f=h[b].clone(),r(f),g.append(f)):f=g;for(let v=h[b].firstChild;v&&v!==h[b+1];){const C=v.next;f.append(v),v=C}g=f}Fs(t,a,s,p)?m.insert(u,h[0],!0):(m.insert(p,h[0],!0),m.insert(u,p)),m=h[0],(Fs(t,a,s,m)||ev(m,"br"))&&m.empty().remove()}else Du(u,t);else if(u.parent){if("li"===u.name){let g=u.prev;if(g&&("ul"===g.name||"ol"===g.name)){g.append(u);continue}if(g=u.next,g&&("ul"===g.name||"ol"===g.name)&&g.firstChild){g.insert(u,g.firstChild,!0);continue}const b=new on("ul",1);r(b),u.wrap(b);continue}if(t.isValidChild(u.parent.name,"div")&&t.isValidChild("div",u.name)){const g=new on("div",1);r(g),u.wrap(g)}else Du(u,t)}}},tv=(e,t,n=t.parent)=>!(!n||!e.children[t.name]||e.isValidChild(n.name,t.name))||!(!n||"a"!==t.name||!((r,o)=>{let a=r;for(;a;){if("a"===a.name)return!0;a=a.parent}return!1})(n)),Pu=e=>e.collapsed?e:(t=>{const n=P.fromRangeStart(t),r=P.fromRangeEnd(t),o=t.commonAncestorContainer;return kn(!1,o,r).map(a=>!or(n,r,o)&&or(n,a,o)?((s,i,l,d)=>{const c=document.createRange();return c.setStart(s,i),c.setEnd(l,d),c})(n.container(),n.offset(),a.container(),a.offset()):t).getOr(t)})(e),Iu=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},nv=(e,t)=>{const n=P.after(e),r=sr(t).prev(n);return r?r.toRange():null},EA=["pre"],Mu=Ei,kA=(e,t,n)=>{var r,o;const a=e.selection,s=e.dom,i=e.parser,l=n.merge,d=Kr({validate:!0},e.schema),c='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';-1===t.indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,c);let u=a.getRng();const m=u.startContainer,p=e.getBody();var C,w;m===p&&a.isCollapsed()&&s.isBlock(p.firstChild)&&(C=e,F(w=p.firstChild)&&!C.schema.getVoidElements()[w.nodeName])&&s.isEmpty(p.firstChild)&&(u=s.createRng(),u.setStart(p.firstChild,0),u.setEnd(p.firstChild,0),a.setRng(u)),a.isCollapsed()||(C=>{const w=C.dom,E=Pu(C.selection.getRng());C.selection.setRng(E);const k=w.getParent(E.startContainer,Mu);var x,O,I;x=w,O=E,F(I=k)&&I===x.getParent(O.endContainer,Mu)&&Mc(S(I),O)?Nu(C,E,S(k)):E.startContainer===E.endContainer&&E.endOffset-E.startOffset==1&&K(E.startContainer.childNodes[E.startOffset])?E.deleteContents():C.getDoc().execCommand("Delete",!1)})(e);const f=a.getNode(),h={context:f.nodeName.toLowerCase(),data:n.data,insert:!0},g=i.parse(t,h);if(!0===n.paste&&((e,t)=>{let n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),((o,a)=>{const s=o.getNonEmptyElements();return F(a)&&(a.isEmpty(s)||(l=a,o.getBlockElements()[l.name]&&F((d=l).firstChild)&&d.firstChild===d.lastChild&&(d=>"br"===d.name||d.value===_t)(l.firstChild)));var l,d})(e,r)&&(r=null==r?void 0:r.prev),!(!n||n!==r||"ul"!==n.name&&"ol"!==n.name)})(e.schema,g)&&((C,w)=>!!Iu(C,w))(s,f))return u=((e,t,n,r)=>{const o=((u,m,p)=>{const f=m.serialize(p);return(h=>{var g,b;const v=h.firstChild,C=h.lastChild;return v&&"META"===v.nodeName&&(null===(g=v.parentNode)||void 0===g||g.removeChild(v)),C&&"mce_marker"===C.id&&(null===(b=C.parentNode)||void 0===b||b.removeChild(C)),h})(u.createFragment(f))})(t,e,r),a=Iu(t,n.startContainer),s=(e=>{return e.length>0&&(!(n=e[e.length-1]).firstChild||F(null==(t=n)?void 0:t.firstChild)&&t.firstChild===t.lastChild&&((r=t.firstChild).data===_t||ft(r)))?e.slice(0,-1):e;var r,t,n})(Re(null!==(l=null==(i=o.firstChild)?void 0:i.childNodes)&&void 0!==l?l:[],u=>"LI"===u.nodeName));var i,l;const d=t.getRoot(),c=u=>{const m=P.fromRangeStart(n),p=sr(t.getRoot()),f=1===u?p.prev(m):p.next(m),h=null==f?void 0:f.getNode();return!h||Iu(t,h)!==a};return a?c(1)?((u,m,p)=>{const f=u.parentNode;return f&&X.each(m,h=>{f.insertBefore(h,u)}),((h,g)=>{const b=P.before(h),v=sr(g).next(b);return v?v.toRange():null})(u,p)})(a,s,d):c(2)?(u=a,p=d,t.insertAfter((m=s).reverse(),u),nv(m[0],p)):((u,m,p,f)=>{const h=((b,v)=>{const C=v.cloneRange(),w=v.cloneRange();return C.setStartBefore(b),w.setEndAfter(b),[C.cloneContents(),w.cloneContents()]})(u,f),g=u.parentNode;return g&&(g.insertBefore(h[0],u),X.each(m,b=>{g.insertBefore(b,u)}),g.insertBefore(h[1],u),g.removeChild(u)),nv(m[m.length-1],p)})(a,s,d,n):null;var u,m,p})(d,s,a.getRng(),g),u&&a.setRng(u),t;!0===n.paste&&((C,w,E,k)=>{var x;const O=w.firstChild,I=w.lastChild,L=O===("bookmark"===I.attr("data-mce-type")?I.prev:I),_=qe(EA,O.name);if(L&&_){const T="false"!==O.attr("contenteditable"),N=(null===(x=C.getParent(E,C.isBlock))||void 0===x?void 0:x.nodeName.toLowerCase())===O.name,B=y.from(Fo(k,E)).forall($n);return T&&N&&B}return!1})(s,g,f,e.getBody())&&(null===(r=g.firstChild)||void 0===r||r.unwrap()),(C=>{let w=C;for(;w=w.walk();)1===w.type&&w.attr("data-mce-fragment","1")})(g);let b=g.lastChild;if(b&&"mce_marker"===b.attr("id")){const C=b;for(b=b.prev;b;b=b.walk(!0))if(3===b.type||!s.isBlock(b.name)){b.parent&&e.schema.isValidChild(b.parent.name,"span")&&b.parent.insert(C,b,"br"===b.name);break}}if(e._selectionOverrides.showBlockCaretContainer(f),h.invalid){e.selection.setContent(c);let C,w=a.getNode();const E=e.getBody();for(ns(w)?w=C=E:C=w;C&&C!==E;)w=C,C=C.parentNode;t=w===E?E.innerHTML:s.getOuterHTML(w);const k=i.parse(t),x=(T=>{for(let N=T;N;N=N.walk())if("mce_marker"===N.attr("id"))return y.some(N);return y.none()})(k),O=x.bind(vA).getOr(k);x.each(T=>T.replace(g));const I=g.children(),L=null!==(o=g.parent)&&void 0!==o?o:k;g.unwrap();const _=Re(I,T=>tv(e.schema,T,L));Lu(_,e.schema,O),J0(i.getNodeFilters(),i.getAttributeFilters(),k),t=d.serialize(k),w===E?s.setHTML(E,t):s.setOuterHTML(w,t)}else t=d.serialize(g),((C,w,E)=>{var k;if("all"===E.getAttribute("data-mce-bogus"))null===(k=E.parentNode)||void 0===k||k.insertBefore(C.dom.createFragment(w),E);else{const x=E.firstChild;!x||x===E.lastChild&&"BR"===x.nodeName?C.dom.setHTML(E,w):C.selection.setContent(w,{no_events:!0})}})(e,t,f);var v;return((C,w)=>{const E=C.schema.getTextInlineElements(),k=C.dom;if(w){const x=C.getBody(),O=Ou(C);X.each(k.select("*[data-mce-fragment]"),I=>{if(F(E[I.nodeName.toLowerCase()])&&Xn(cu(k,I),T=>!l0.has(T)))for(let L=I.parentElement;F(L)&&L!==x&&!X_(k,I,L);L=L.parentElement)if(O.compare(L,I)){k.remove(I,!0);break}})}})(e,l),((C,w)=>{var E,k,x;let O;const I=C.dom,L=C.selection;if(!w)return;L.scrollIntoView(w);const _=Fo(C.getBody(),w);if(_&&"false"===I.getContentEditable(_))return I.remove(w),void L.select(_);let T=I.createRng();const N=w.previousSibling;if(K(N)){T.setStart(N,null!==(k=null===(E=N.nodeValue)||void 0===E?void 0:E.length)&&void 0!==k?k:0);const Q=w.nextSibling;K(Q)&&(N.appendData(Q.data),null===(x=Q.parentNode)||void 0===x||x.removeChild(Q))}else T.setStartBefore(w),T.setEndBefore(w);const B=I.getParent(w,I.isBlock);I.remove(w),B&&I.isEmpty(B)&&(ia(S(B)),T.setStart(B,0),T.setEnd(B,0),Mu(B)||B.getAttribute("data-mce-fragment")||!(O=(Q=>{let G=P.fromRangeStart(Q);return G=sr(C.getBody()).next(G),null==G?void 0:G.toRange()})(T))?I.add(B,I.create("br",{"data-mce-bogus":"1"})):(T=O,I.remove(B))),L.setRng(T)})(e,s.get("mce_marker")),v=e.getBody(),X.each(v.getElementsByTagName("*"),C=>{C.removeAttribute("data-mce-fragment")}),((C,w)=>{y.from(C.getParent(w,"td,th")).map(S).each(Xk)})(s,a.getStart()),(C=>{V(Se(C.getBody().querySelectorAll("details")),w=>{const E=Re(Se(w.children),k=>"SUMMARY"===k.nodeName);E.length>1&&V(E.slice(1),k=>{const x=S(k);na(x,"mce-accordion-summary"),Ap(x,"p")})})})(e),((C,w,E)=>{const k=yg(S(E),x=>Ge(x,S(w)));Y(k,k.length-2).filter(dn).fold(()=>Xd(C,w),x=>Xd(C,x.dom))})(e.schema,e.getBody(),a.getStart()),t},gl=e=>e instanceof on,Fu=(e,t,n)=>{var r;e.dom.setHTML(e.getBody(),t),!0!==n&&Po(r=e)&&Xt(r.getBody()).each(o=>{const a=o.getNode(),s=xr(a)?Xt(a).getOr(o):o;r.selection.setRng(s.toRange())})},rv=e=>we(e)?e:$e,Uu=(e,t,n)=>{const r=t(e),o=rv(n);return r.orThunk(()=>o(e)?y.none():((a,s,i)=>{let l=a.dom;const d=rv(i);for(;l.parentNode;){l=l.parentNode;const c=S(l),u=s(c);if(u.isSome())return u;if(d(c))break}return y.none()})(e,t,o))},$u=Hc,ov=(e,t,n)=>{const r=e.formatter.get(n);if(r)for(let o=0;o<r.length;o++){const a=r[o];if(Sn(a)&&!1===a.inherit&&e.dom.is(t,a.selector))return!0}return!1},zu=(e,t,n,r,o)=>{const a=e.dom.getRoot();if(t===a)return!1;const s=e.dom.getParent(t,i=>!!ov(e,i,n)||i.parentNode===a||!!lr(e,i,n,r,!0));return!!lr(e,s,n,r,o)},pl=(e,t,n)=>!(!xt(n)||!$u(t,n.inline))||!(!ir(n)||!$u(t,n.block))||!!Sn(n)&&ue(t)&&e.is(t,n.selector),av=(e,t,n,r,o,a)=>{const s=n[r],i="attributes"===r;if(we(n.onmatch))return n.onmatch(t,n,r);if(s)if(Ff(s)){for(let l=0;l<s.length;l++)if(i?e.getAttrib(t,s[l]):Qi(e,t,s[l]))return!0}else for(const l in s)if(Ie(s,l)){const d=i?e.getAttrib(t,l):Qi(e,t,l),c=Gr(s[l],a),u=ie(d)||Wa(d);if(u&&ie(c))continue;if(o&&u&&!n.exact||(!o||n.exact)&&!$u(d,qc(c,l)))return!1}return!0},lr=(e,t,n,r,o)=>{const a=e.formatter.get(n),s=e.dom;if(a&&ue(t))for(let i=0;i<a.length;i++){const l=a[i];if(pl(e.dom,t,l)&&av(s,t,l,"attributes",o,r)&&av(s,t,l,"styles",o,r)){const d=l.classes;if(d)for(let c=0;c<d.length;c++)if(!e.dom.hasClass(t,Gr(d[c],r)))return;return l}}},ju=(e,t,n,r,o)=>{if(r)return zu(e,r,t,n,o);if(r=e.selection.getNode(),zu(e,r,t,n,o))return!0;const a=e.selection.getStart();return!(a===r||!zu(e,a,t,n,o))},_a=Ht,sv=e=>(t=>{const n=[];let r=t;for(;r;){if(K(r)&&r.data!==_a||r.childNodes.length>1)return[];ue(r)&&n.push(r),r=r.firstChild}return n})(e).length>0,iv=e=>{if(e){const t=new kt(e,e);for(let n=t.current();n;n=t.next())if(K(n))return n}return null},Hu=e=>{const t=Dt("span");return Lr(t,{id:Oc,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&yt(t,ra(_a)),t},qu=(e,t,n=!0)=>{const r=e.dom,o=e.selection;if(sv(t))Io(e,!1,S(t),n);else{const a=o.getRng(),s=r.getParent(t,r.isBlock),i=a.startContainer,l=a.startOffset,d=a.endContainer,c=a.endOffset,u=(m=>{const p=iv(m);return p&&p.data.charAt(0)===_a&&p.deleteData(0,1),p})(t);r.remove(t,!0),i===u&&l>0&&a.setStart(u,l-1),d===u&&c>0&&a.setEnd(u,c-1),s&&r.isEmpty(s)&&Ur(S(s)),o.setRng(a)}},Vu=(e,t,n=!0)=>{const r=e.dom,o=e.selection;if(t)qu(e,t,n);else if(!(t=To(e.getBody(),o.getStart())))for(;t=r.get(Oc);)qu(e,t,n)},lv=(e,t)=>(e.appendChild(t),t),dv=(e,t)=>{var n;const r=oo(e,(a,s)=>lv(a,s.cloneNode(!1)),t),o=null!==(n=r.ownerDocument)&&void 0!==n?n:document;return lv(r,o.createTextNode(_a))},cv=e=>{const t=Hu(!1),n=dv(e,t.dom);return{caretContainer:t,caretPosition:P(n,0)}},uv=(e,t)=>{const{caretContainer:n,caretPosition:r}=cv(t);return pn(S(e),n),lt(S(e)),r},mv=(e,t)=>{const n=e.schema.getTextInlineElements();return Ie(n,ot(t))&&!In(t.dom)&&!bo(t.dom)},fv=e=>In(e.dom)&&sv(e.dom),Us={},gv=Un(["pre"]);((e,t)=>{Us[e]||(Us[e]=[]),Us[e].push(n=>{if(!n.selection.getRng().collapsed){const r=n.selection.getSelectedBlocks(),o=Re(Re(r,gv),(a=r,s=>{const i=s.previousSibling;return gv(i)&&qe(a,i)}));V(o,a=>{((s,i)=>{const l=S(i),d=wr(l).dom;lt(l),po(S(s),[Dt("br",d),Dt("br",d),...Ft(l)])})(a.previousSibling,a)})}var a})})("pre");const pv=["fontWeight","fontStyle","color","fontSize","fontFamily"],hv=(e,t)=>{const n=e.get(t);return q(n)?bt(n,r=>{return xt(r)&&"span"===r.inline&&Fe((o=r).styles)&&st(Me(o.styles),a=>qe(pv,a));var o}):y.none()},bv=(e,t)=>rn(t,P.fromRangeStart(e)).isNone(),vv=(e,t)=>!1===Yt(t,P.fromRangeEnd(e)).exists(n=>!ft(n.getNode())||Yt(t,n).isSome()),yv=e=>t=>qk(t)&&e.isEditable(t),Cv=e=>Re(e.getSelectedBlocks(),yv(e.dom)),Wu=X.each,Gu=e=>ue(e)&&!xn(e)&&!In(e)&&!bo(e),wv=(e,t)=>{for(let n=e;n;n=n[t]){if(K(n)&&Zn(n.data))return e;if(ue(n)&&!xn(n))return n}return e},Ev=(e,t,n)=>{const r=Ou(e),o=ue(t)&&Oo(t),a=ue(n)&&Oo(n);if(o&&a){const s=wv(t,"previousSibling"),i=wv(n,"nextSibling");if(r.compare(s,i)){for(let l=s.nextSibling;l&&l!==i;){const d=l;l=l.nextSibling,s.appendChild(d)}return e.dom.remove(i),X.each(X.grep(i.childNodes),l=>{s.appendChild(l)}),s}}return n},kv=(e,t,n,r)=>{var o;if(r&&!1!==t.merge_siblings){const a=null!==(o=Ev(e,eb(r),r))&&void 0!==o?o:r;Ev(e,a,eb(a,!0))}},Ku=(e,t,n)=>{Wu(e.childNodes,r=>{Gu(r)&&(t(r)&&n(r),r.hasChildNodes()&&Ku(r,t,n))})},xv=(e,t)=>n=>!(!n||!Qi(e,n,t)),Sv=(e,t,n)=>r=>{var o,a;e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),o=e,"SPAN"===(a=r).nodeName&&0===o.getAttribs(a).length&&o.remove(a,!0)},Uo=rr([{keep:[]},{rename:["name"]},{removed:[]}]),_A=/^(src|href|style)$/,Yu=X.each,hl=Hc,_v=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),Av=(e,t,n)=>{let r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"];if(ue(r)){const a=r.childNodes.length-1;!n&&o&&o--,r=r.childNodes[o>a?a:o]}return K(r)&&n&&o>=r.data.length&&(r=new kt(r,e.getBody()).next()||r),K(r)&&!n&&0===o&&(r=new kt(r,e.getBody()).prev()||r),r},Nv=(e,t)=>{const n=t?"firstChild":"lastChild",r=e[n];return/^(TR|TH|TD)$/.test(e.nodeName)&&r?"TR"===e.nodeName&&r[n]||r:e},Xu=(e,t,n,r)=>{var o;const a=e.create(n,r);return null===(o=t.parentNode)||void 0===o||o.insertBefore(a,t),a.appendChild(t),a},Rv=(e,t,n,r,o)=>{const a=S(t),s=S(e.create(r,o)),i=n?wg(a):Cg(a);return po(s,i),n?(pn(a,s),Tg(s,a)):(Ir(a,s),yt(s,a)),s.dom},Tv=(e,t,n)=>{const r=t.parentNode;let o;const a=e.dom,s=nn(e);var i;ir(n)&&r===a.getRoot()&&(n.list_block&&hl(t,n.list_block)||V(Se(t.childNodes),i=>{Ea(e,s,i.nodeName.toLowerCase())?o?o.appendChild(i):(o=Xu(a,i,s),a.setAttribs(o,vs(e))):o=null})),Sn(i=n)&&xt(i)&&Jo(it(i,"mixed"),!0)&&!hl(n.inline,t)||a.remove(t,!0)},Ov=(e,t,n)=>xe(e)?{name:t,value:null}:{name:e,value:Gr(t,n)},Bv=(e,t)=>{""===e.getAttrib(t,"style")&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},Dv=(e,t,n,r,o)=>{let a=!1;Yu(n.styles,(s,i)=>{const{name:l,value:d}=Ov(i,s,r),c=qc(d,l);(n.remove_similar||W(d)||!ue(o)||hl(Qi(e,o,l),c))&&e.setStyle(t,l,""),a=!0}),a&&Bv(e,t)},Lv=(e,t,n,r,o)=>{const a=e.dom,s=Ou(e),i=e.schema;if(xt(t)&&Oi(i,t.inline)&&Co(i,r)&&r.parentElement===e.getBody())return Tv(e,r,t),Uo.removed();if(!t.ceFalseOverride&&r&&"false"===a.getContentEditableParent(r)||r&&!pl(a,r,t)&&(!t.links||"A"!==r.nodeName))return Uo.keep();const l=r,d=t.preserve_attributes;if(xt(t)&&"all"===t.remove&&q(d)){const c=Re(a.getAttribs(l),u=>qe(d,u.name.toLowerCase()));if(a.removeAllAttribs(l),V(c,u=>a.setAttrib(l,u.name,u.value)),c.length>0)return Uo.rename("span")}if("all"!==t.remove){Dv(a,l,t,n,o),Yu(t.attributes,(u,m)=>{const{name:p,value:f}=Ov(m,u,n);if(t.remove_similar||W(f)||!ue(o)||hl(a.getAttrib(o,p),f)){if("class"===p){const h=a.getAttrib(l,p);if(h){let g="";if(V(h.split(/\s+/),b=>{/mce\-\w+/.test(b)&&(g+=(g?" ":"")+b)}),g)return void a.setAttrib(l,p,g)}}if(_A.test(p)&&l.removeAttribute("data-mce-"+p),"style"===p&&Un(["li"])(l)&&"none"===a.getStyle(l,"list-style-type"))return l.removeAttribute(p),void a.setStyle(l,"list-style-type","none");"class"===p&&l.removeAttribute("className"),l.removeAttribute(p)}}),Yu(t.classes,u=>{u=Gr(u,n),ue(o)&&!a.hasClass(o,u)||a.removeClass(l,u)});const c=a.getAttribs(l);for(let u=0;u<c.length;u++)if(!s.isAttributeInternal(c[u].nodeName))return Uo.keep()}return"none"!==t.remove?(Tv(e,l,t),Uo.removed()):Uo.keep()},AA=(e,t,n,r)=>Lv(e,t,n,r,r).fold(ee(r),o=>(e.dom.createFragment().appendChild(r),e.dom.rename(r,o)),ee(null)),Pv=(e,t,n,r,o)=>{(r||e.selection.isEditable())&&((a,s,i,l,d)=>{const c=a.formatter.get(s),u=c[0],m=a.dom,p=a.selection,f=C=>{const w=((E,k,x,O,I)=>{let L;return k.parentNode&&V(Ji(E.dom,k.parentNode).reverse(),_=>{if(!L&&ue(_)&&"_start"!==_.id&&"_end"!==_.id){const T=lr(E,_,x,O,I);T&&!1!==T.split&&(L=_)}}),L})(a,C,s,i,d);return((E,k,x,O,I,L,_,T)=>{var N,B;let Q,G;const Ce=E.dom;if(x){const re=x.parentNode;for(let Te=O.parentNode;Te&&Te!==re;Te=Te.parentNode){let Be=Ce.clone(Te,!1);for(let se=0;se<k.length&&(Be=AA(E,k[se],T,Be),null!==Be);se++);Be&&(Q&&Be.appendChild(Q),G||(G=Be),Q=Be)}_.mixed&&Ce.isBlock(x)||(O=null!==(N=Ce.split(x,O))&&void 0!==N?N:O),Q&&G&&(null===(B=I.parentNode)||void 0===B||B.insertBefore(Q,I),G.appendChild(I),xt(_)&&kv(E,_,0,Q))}return O})(a,c,w,C,C,0,u,i)},h=C=>st(c,w=>$s(a,w,i,C,C)),g=C=>{const w=Se(C.childNodes),E=h(C)||st(c,x=>pl(m,C,x)),k=C.parentNode;if(!E&&F(k)&&Wc(u)&&h(k),u.deep&&w.length)for(let x=0;x<w.length;x++)g(w[x]);V(["underline","line-through","overline"],x=>{ue(C)&&a.dom.getStyle(C,"text-decoration")===x&&C.parentNode&&nb(m,C.parentNode)===x&&$s(a,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:x}},void 0,C)})},b=C=>{const w=m.get(C?"_start":"_end");if(w){let E=w[C?"firstChild":"lastChild"];return xn(k=E)&&ue(k)&&("_start"===k.id||"_end"===k.id)&&(E=E[C?"firstChild":"lastChild"]),K(E)&&0===E.data.length&&(E=C?w.previousSibling||w.nextSibling:w.nextSibling||w.previousSibling),m.remove(w,!0),E}var k;return null},v=C=>{let w,E,k=Bo(m,C,c,C.collapsed);if(u.split){if(k=sl(k),w=Av(a,k,!0),E=Av(a,k),w!==E){if(w=Nv(w,!0),E=Nv(E,!1),_v(m,w,E)){const O=y.from(w.firstChild).getOr(w);return f(Rv(m,O,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void b(!0)}if(_v(m,E,w)){const O=y.from(E.lastChild).getOr(E);return f(Rv(m,O,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void b(!1)}w=Xu(m,w,"span",{id:"_start","data-mce-type":"bookmark"}),E=Xu(m,E,"span",{id:"_end","data-mce-type":"bookmark"});const x=m.createRng();x.setStartAfter(w),x.setEndBefore(E),Rs(m,x,O=>{V(O,I=>{xn(I)||xn(I.parentNode)||f(I)})}),f(w),f(E),w=b(!0),E=b()}else w=E=f(w);k.startContainer=w.parentNode?w.parentNode:w,k.startOffset=m.nodeIndex(w),k.endContainer=E.parentNode?E.parentNode:E,k.endOffset=m.nodeIndex(E)+1}Rs(m,k,x=>{V(x,g)})};if(l){if(Ns(l)){const C=m.createRng();C.setStartBefore(l),C.setEndAfter(l),v(C)}else v(l);vb(a,s,l,i)}else p.isCollapsed()&&xt(u)&&!wa(a).length?((e,t,n,r)=>{const o=e.dom,a=e.selection;let s=!1;const i=e.formatter.get(t);if(!i)return;const l=a.getRng(),d=l.startContainer,c=l.startOffset;let u=d;K(d)&&(c!==d.data.length&&(s=!0),u=u.parentNode);const m=[];let p;for(;u;){if(lr(e,u,t,n,r)){p=u;break}u.nextSibling&&(s=!0),m.push(u),u=u.parentNode}if(p)if(s){const f=a.getBookmark();l.collapse(!0);let h=Bo(o,l,i,!0);h=sl(h),e.formatter.remove(t,n,h,r),a.moveToBookmark(f)}else{const f=To(e.getBody(),p),h=Hu(!1).dom;((v,C,w)=>{var E,k;const x=v.dom,O=x.getParent(w,ce(zc,v.schema));O&&x.isEmpty(O)?null===(E=w.parentNode)||void 0===E||E.replaceChild(C,w):((I=>{const L=jt(I,"br"),_=Re((T=>{const N=[];let B=T.dom;for(;B;)N.push(S(B)),B=B.lastChild;return N})(I).slice(-1),vo);L.length===_.length&&V(_,lt)})(S(w)),x.isEmpty(w)?null===(k=w.parentNode)||void 0===k||k.replaceChild(C,w):x.insertAfter(C,w))})(e,h,null!=f?f:p);const g=((v,C,w,E,k,x)=>{const O=v.formatter,I=v.dom,L=Re(Me(O.get()),T=>T!==E&&!zt(T,"removeformat")),_=(T=v,N=w,Gt(L,(Q,G)=>{const Ce=Vc(T,G,Be=>{const se=be=>we(be)||be.length>1&&"%"===be.charAt(0);return st(["styles","attributes"],be=>it(Be,be).exists(_e=>{const A=q(_e)?_e:yd(_e);return st(A,se)}))});return T.formatter.matchNode(N,G,{},Ce)?Q.concat([G]):Q},[]));var T,N;if(Re(_,T=>!((N,B,Q)=>{const G=["inline","block","selector","attributes","styles","classes"],Ce=re=>Ha(re,(Te,Be)=>st(G,se=>se===Be));return Vc(N,B,re=>{const Te=Ce(re);return Vc(N,Q,Be=>{const se=Ce(Be);return((be,_e,A=Ue)=>pe(A).eq(be,_e))(Te,se)})})})(v,T,E)).length>0){const T=w.cloneNode(!1);return I.add(C,T),O.remove(E,k,T,x),I.remove(T),y.some(T)}return y.none()})(e,h,p,t,n,r),b=dv(m.concat(g.toArray()),h);f&&qu(e,f,!1),a.setCursorLocation(b,1),o.isEmpty(p)&&o.remove(p)}})(a,s,i,d):(Jh(a,()=>Uc(a,v),C=>xt(u)&&ju(a,s,i,C)),a.nodeChanged()),C=a,E=i,"removeformat"===(w=s)?V(Cv(C.selection),k=>{V(pv,x=>C.dom.setStyle(k,x,"")),Bv(C.dom,k)}):hv(C.formatter,w).each(k=>{V(Cv(C.selection),x=>Dv(C.dom,x,k,E,null))}),vb(a,s,l,i);var C,w,E})(e,t,n,r,o)},$s=(e,t,n,r,o)=>Lv(e,t,n,r,o).fold($e,a=>(e.dom.rename(r,a),!0),rt),Iv=X.each,bl=X.each,Mv=(e,t,n,r)=>{if(bl(n.styles,(o,a)=>{e.setStyle(t,a,Gr(o,r))}),n.styles){const o=e.getAttrib(t,"style");o&&e.setAttrib(t,"data-mce-style",o)}},NA=(e,t,n,r)=>{const o=e.formatter.get(t),a=o[0],s=!r&&e.selection.isCollapsed(),i=e.dom,l=e.selection,d=(f,h=a)=>{we(h.onformat)&&h.onformat(f,h,n,r),Mv(i,f,h,n),bl(h.attributes,(g,b)=>{i.setAttrib(f,b,Gr(g,n))}),bl(h.classes,g=>{const b=Gr(g,n);i.hasClass(f,b)||i.addClass(f,b)})},c=(f,h)=>{let g=!1;return bl(f,b=>!(!Sn(b)||("false"!==i.getContentEditable(h)||b.ceFalseOverride)&&(!F(b.collapsed)||b.collapsed===s)&&i.is(h,b.selector)&&!In(h)&&(d(h,b),g=!0,1))),g},m=(f,h,g)=>{const b=[];let v=!0;const C=a.inline||a.block,w=(f=>{if(ae(f)){const h=i.create(f);return d(h),h}return null})(C);Rs(f,h,E=>{let k;const x=O=>{let I=!1,L=v,_=!1;const T=O.parentNode,N=T.nodeName.toLowerCase(),B=f.getContentEditable(O);F(B)&&(L=v,v="true"===B,I=!0,_=tb(e,O));const Q=v&&!I;if(ft(O)&&!((G,Ce,re,Te)=>{if(mS(G)&&xt(Ce)&&re.parentNode){const Be=fp(G.schema),se=((e,t)=>((n,r)=>{const o=n.dom;return o.parentNode?(a=S(o.parentNode),bt(a.dom.childNodes,i=>(a=>!Ge(n,a)&&r(a))(S(i))).map(S)):y.none();var a})(e,t).isSome())(S(re),be=>In(be.dom));return Zo(Be,Te)&&Ct(S(re.parentNode),!1)&&!se}return!1})(e,a,O,N))return k=null,void(ir(a)&&f.remove(O));if(G=O,ir(Ce=a)&&!0===Ce.wrapper&&lr(e,G,t,n))k=null;else{if(((G,Ce,re)=>{const Te=ir(Be=a)&&!0!==Be.wrapper&&zc(e.schema,G)&&Ea(e,Ce,C);var Be;return re&&Te})(O,N,Q)){const G=f.rename(O,C);return d(G),b.push(G),void(k=null)}if(Sn(a)){let G=c(o,O);if(!G&&F(T)&&Wc(a)&&(G=c(o,T)),!xt(a)||G)return void(k=null)}F(w)&&((G,Ce,re,Te)=>{const Be=G.nodeName.toLowerCase(),se=Ea(e,C,Be)&&Ea(e,Ce,C),be=!g&&K(G)&&Ai(G.data),_e=In(G),A=!xt(a)||!f.isBlock(G);return(re||Te)&&se&&!be&&!_e&&A})(O,N,Q,_)?(k||(k=f.clone(w,!1),T.insertBefore(k,O),b.push(k)),_&&I&&(v=L),k.appendChild(O)):(k=null,V(Se(O.childNodes),x),I&&(v=L),k=null)}var G,Ce};V(E,x)}),!0===a.links&&V(b,E=>{const k=x=>{"A"===x.nodeName&&d(x,a),V(Se(x.childNodes),k)};k(E)}),V(b,E=>{const k=(x=>{let O=0;return V(x.childNodes,I=>{var L;F(L=I)&&K(L)&&0===L.length||xn(I)||O++}),O})(E);var x;!(b.length>1)&&f.isBlock(E)||0!==k?(xt(a)||ir(a)&&a.wrapper)&&(a.exact||1!==k||(E=bt((x=E).childNodes,$c).filter(I=>"false"!==f.getContentEditable(I)&&pl(f,I,a)).map(I=>{const L=f.clone(I,!1);return d(L),f.replace(L,x,!0),f.remove(I,!0),L}).getOr(x)),((x,O,I,L)=>{Iv(O,_=>{var T,N,B;xt(_)&&Iv(x.dom.select(_.inline,L),T=>{Gu(T)&&$s(x,_,I,T,_.exact?T:null)}),T=x.dom,B=L,(N=_).clear_child_styles&&Wu(T.select(N.links?"*:not(a)":"*",B),G=>{Gu(G)&&Oo(G)&&Wu(N.styles,(Ce,re)=>{T.setStyle(G,re,"")})})})})(e,o,n,E),((x,O,I,L,_)=>{const T=_.parentNode;lr(x,T,I,L)&&$s(x,O,L,_)||O.merge_with_parents&&T&&x.dom.getParent(T,N=>!!lr(x,N,I,L)&&($s(x,O,L,_),!0))})(e,a,t,n,E),((x,O,I,L)=>{if(O.styles&&O.styles.backgroundColor){const _=xv(x,"fontSize");Ku(L,T=>_(T)&&Oo(T),Sv(x,"backgroundColor",Gr(O.styles.backgroundColor,I)))}})(f,a,n,E),((x,O,I,L)=>{const _=T=>{if(ue(T)&&ue(T.parentNode)&&Oo(T)){const N=nb(x,T.parentNode);x.getStyle(T,"color")&&N?x.setStyle(T,"text-decoration",N):x.getStyle(T,"text-decoration")===N&&x.setStyle(T,"text-decoration",null)}};O.styles&&(O.styles.color||O.styles.textDecoration)&&(X.walk(L,_,"childNodes"),_(L))})(f,a,0,E),((x,O,I,L)=>{if(xt(O)&&("sub"===O.inline||"sup"===O.inline)){const _=xv(x,"fontSize");Ku(L,N=>_(N)&&Oo(N),Sv(x,"fontSize",""));const T=Re(x.select("sup"===O.inline?"sub":"sup",L),Oo);x.remove(T,!0)}})(f,a,0,E),kv(e,a,0,E)):f.remove(E,!0)})},p=Ns(r)?r:l.getNode();if("false"===i.getContentEditable(p)&&!tb(e,p))return c(o,r=p),void bb(e,t,r,n);if(a){if(r)if(Ns(r)){if(!c(o,r)){const f=i.createRng();f.setStartBefore(r),f.setEndAfter(r),m(i,Bo(i,f,o),!0)}}else m(i,r,!0);else s&&xt(a)&&!wa(e).length?((f,h,g)=>{let b;const v=f.selection,C=f.formatter.get(h);if(!C)return;const w=v.getRng();let E=w.startOffset;const k=w.startContainer.nodeValue;b=To(f.getBody(),v.getStart());const x=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(k&&E>0&&E<k.length&&x.test(k.charAt(E))&&x.test(k.charAt(E-1))){const L=v.getBookmark();w.collapse(!0);let _=Bo(f.dom,w,C);_=sl(_),f.formatter.apply(h,g,_),v.moveToBookmark(L)}else{let L=b?iv(b):null;b&&(null==L?void 0:L.data)===_a||(O=f.getDoc(),I=Hu(!0).dom,b=O.importNode(I,!0),L=b.firstChild,w.insertNode(b),E=1),f.formatter.apply(h,g,b),v.setCursorLocation(L,E)}var O,I})(e,t,n):(l.setRng(Pu(l.getRng())),Jh(e,()=>{Uc(e,(f,h)=>{const g=h?f:Bo(i,f,o);m(i,g,!1)})},rt),e.nodeChanged()),hv(e.formatter,t).each(f=>{var h;V(Re((g=>{const b=g.getSelectedBlocks(),v=g.getRng();if(g.isCollapsed())return[];if(1===b.length)return bv(v,b[0])&&vv(v,b[0])?b:[];{const C=te(b).filter(k=>bv(v,k)).toArray(),w=ye(b).filter(k=>vv(v,k)).toArray(),E=b.slice(1,-1);return C.concat(E).concat(w)}})(h=e.selection),yv(h.dom)),h=>Mv(i,h,f,n))});h=e,Ie(Us,f=t)&&V(Us[f],g=>{g(h)})}var f,h;bb(e,t,r,n)},Fv=(e,t,n,r)=>{(r||e.selection.isEditable())&&NA(e,t,n,r)},Uv=e=>Ie(e,"vars"),$v=e=>e.selection.getStart(),zv=(e,t,n,r,o)=>di(t,a=>{const s=e.formatter.matchNode(a,n,null!=o?o:{},r);return!ne(s)},a=>!!ov(e,a,n)||!r&&F(e.formatter.matchNode(a,n,o,!0))),jv=(e,t)=>{const n=null!=t?t:$v(e);return Re(Ji(e.dom,n),r=>ue(r)&&!bo(r))},Hv=(e,t,n)=>{const r=jv(e,t);ve(n,(o,a)=>{const s=i=>{const l=zv(e,r,a,i.similar,Uv(i)?i.vars:void 0),d=l.isSome();if(i.state.get()!==d){i.state.set(d);const c=l.getOr(t);Uv(i)?i.callback(d,{node:c,format:a,parents:r}):V(i.callbacks,u=>u(d,{node:c,format:a,parents:r}))}};V([o.withSimilar,o.withoutSimilar],s),V(o.withVars,s)})},qv=X.explode,Vv=()=>{const e={};return{addFilter:(t,n)=>{V(qv(t),r=>{Ie(e,r)||(e[r]={name:r,callbacks:[]}),e[r].callbacks.push(n)})},getFilters:()=>yd(e),removeFilter:(t,n)=>{V(qv(t),r=>{if(Ie(e,r))if(F(n)){const o=e[r],a=Re(o.callbacks,s=>s!==n);a.length>0?o.callbacks=a:delete e[r]}else delete e[r]})}}},Wv=(e,t)=>{e.addNodeFilter("br",(n,r,o)=>{const a=X.extend({},t.getBlockElements()),s=t.getNonEmptyElements(),i=t.getWhitespaceElements();a.body=1;const l=d=>{return d.name in a&&(1===(u=d).type&&Oi(t,u.name)&&ne(u.attr(as)));var u};for(let d=0,c=n.length;d<c;d++){let u=n[d],m=u.parent;if(m&&a[m.name]&&u===m.lastChild){let p=u.prev;for(;p;){const f=p.name;if("span"!==f||"bookmark"!==p.attr("data-mce-type")){"br"===f&&(u=null);break}p=p.prev}if(u&&(u.remove(),Fs(t,s,i,m))){const f=t.getElementRule(m.name);f&&(f.removeEmpty?m.remove():f.paddEmpty&&Bu(o,l,m))}}else{let p=u;for(;m&&m.firstChild===p&&m.lastChild===p&&(p=m,!a[m.name]);)m=m.parent;if(p===m){const f=new on("#text",3);f.value=_t,u.replace(f)}}}})},Zu=e=>{const[t,...n]=e.split(","),r=n.join(","),o=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(o){const a=";base64"===o[2],s=a?(i=>{const l=/([a-z0-9+\/=\s]+)/i.exec(i);return l?l[1]:""})(r):decodeURIComponent(r);return y.some({type:o[1],data:s,base64Encoded:a})}return y.none()},Gv=(e,t,n=!0)=>{let r=t;if(n)try{r=atob(t)}catch{return y.none()}const o=new Uint8Array(r.length);for(let a=0;a<o.length;a++)o[a]=r.charCodeAt(a);return y.some(new Blob([o],{type:e}))},Kv=e=>new Promise((t,n)=>{const r=new FileReader;r.onloadend=()=>{t(r.result)},r.onerror=()=>{var o;n(null===(o=r.error)||void 0===o?void 0:o.message)},r.readAsDataURL(e)});let TA=0;const Yv=(e,t,n)=>Zu(e).bind(({data:r,type:o,base64Encoded:a})=>{if(t&&!a)return y.none();{const s=a?r:btoa(r);return n(s,o)}}),Xv=(e,t,n)=>{const r=e.create("blobid"+TA++,t,n);return e.add(r),r},Zv=(e,t,n=!1)=>Yv(t,n,(r,o)=>y.from(e.getByData(r,o)).orThunk(()=>Gv(o,r).map(a=>Xv(e,a,r))));function $o(e){return($o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Qu(e,t){return(Qu=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Ju(e,t,n){return(Ju=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(r,o,a){var s=[null];s.push.apply(s,o);var i=new(Function.bind.apply(r,s));return a&&Qu(i,a.prototype),i}).apply(null,arguments)}function Hn(e){return function(t){if(Array.isArray(t))return em(t)}(e)||function(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,n){if(t){if("string"==typeof t)return em(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?em(t,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function em(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var BA=Object.hasOwnProperty,Qv=Object.setPrototypeOf,DA=Object.isFrozen,LA=Object.getPrototypeOf,PA=Object.getOwnPropertyDescriptor,cn=Object.freeze,dr=Object.seal,IA=Object.create,Jv=typeof Reflect<"u"&&Reflect,vl=Jv.apply,tm=Jv.construct;vl||(vl=function(e,t,n){return e.apply(t,n)}),cn||(cn=function(e){return e}),dr||(dr=function(e){return e}),tm||(tm=function(e,t){return Ju(e,Hn(t))});var ey,MA=qn(Array.prototype.forEach),FA=qn(Array.prototype.pop),zs=qn(Array.prototype.push),yl=qn(String.prototype.toLowerCase),UA=qn(String.prototype.match),Jr=qn(String.prototype.replace),$A=qn(String.prototype.indexOf),zA=qn(String.prototype.trim),un=qn(RegExp.prototype.test),nm=(ey=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tm(ey,t)});function qn(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return vl(e,t,r)}}function Ke(e,t){Qv&&Qv(e,null);for(var n=t.length;n--;){var r=t[n];if("string"==typeof r){var o=yl(r);o!==r&&(DA(t)||(t[n]=o),r=o)}e[r]=!0}return e}function zo(e){var t,n=IA(null);for(t in e)vl(BA,e,[t])&&(n[t]=e[t]);return n}function Cl(e,t){for(;null!==e;){var n=PA(e,t);if(n){if(n.get)return qn(n.get);if("function"==typeof n.value)return qn(n.value)}e=LA(e)}return function(r){return console.warn("fallback value for",r),null}}var ty=cn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),rm=cn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),om=cn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),jA=cn(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),am=cn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),HA=cn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ny=cn(["#text"]),ry=cn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),sm=cn(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),oy=cn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),wl=cn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),qA=dr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),VA=dr(/<%[\w\W]*|[\w\W]*%>/gm),WA=dr(/^data-[\-\w.\u00B7-\uFFFF]/),GA=dr(/^aria-[\-\w]+$/),KA=dr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),YA=dr(/^(?:\w+script|data):/i),XA=dr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ZA=dr(/^html$/i),QA=function(){return typeof window>"u"?null:window},JA=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:QA(),n=function(D){return e(D)};if(n.version="2.3.8",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,o=t.document,a=t.DocumentFragment,s=t.HTMLTemplateElement,i=t.Node,l=t.Element,d=t.NodeFilter,c=t.NamedNodeMap,u=void 0===c?t.NamedNodeMap||t.MozNamedAttrMap:c,m=t.HTMLFormElement,p=t.DOMParser,f=t.trustedTypes,h=l.prototype,g=Cl(h,"cloneNode"),b=Cl(h,"nextSibling"),v=Cl(h,"childNodes"),C=Cl(h,"parentNode");if("function"==typeof s){var w=o.createElement("template");w.content&&w.content.ownerDocument&&(o=w.content.ownerDocument)}var E=function(D,Oe){if("object"!==$o(D)||"function"!=typeof D.createPolicy)return null;var ke=null,tt="data-tt-policy-suffix";Oe.currentScript&&Oe.currentScript.hasAttribute(tt)&&(ke=Oe.currentScript.getAttribute(tt));var Et="dompurify"+(ke?"#"+ke:"");try{return D.createPolicy(Et,{createHTML:function(Vt){return Vt}})}catch{return console.warn("TrustedTypes policy "+Et+" could not be created."),null}}(f,r),k=E?E.createHTML(""):"",O=o.implementation,I=o.createNodeIterator,L=o.createDocumentFragment,_=o.getElementsByTagName,T=r.importNode,N={};try{N=zo(o).documentMode?o.documentMode:{}}catch{}var B={};n.isSupported="function"==typeof C&&O&&void 0!==O.createHTMLDocument&&9!==N;var Q,G,Ce=qA,re=VA,Te=WA,Be=GA,se=YA,be=XA,_e=KA,A=null,R=Ke({},[].concat(Hn(ty),Hn(rm),Hn(om),Hn(am),Hn(ny))),M=null,j=Ke({},[].concat(Hn(ry),Hn(sm),Hn(oy),Hn(wl))),$=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),z=null,Z=null,he=!0,de=!0,Ae=!1,Ne=!1,oe=!1,Pe=!1,wt=!1,ct=!1,sn=!1,ln=!1,Gn=!0,Mn=!0,Lt=!1,mn={},gt=null,gr=Ke({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),no=null,pd=Ke({},["audio","video","img","source","image","track"]),pr=null,ii=Ke({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),bn="http://www.w3.org/1998/Math/MathML",ro="http://www.w3.org/2000/svg",vn="http://www.w3.org/1999/xhtml",Ko=vn,ik=!1,UO=["application/xhtml+xml","text/html"],za=null,$O=o.createElement("form"),lk=function(D){return D instanceof RegExp||D instanceof Function},Pf=function(D){za&&za===D||(D&&"object"===$o(D)||(D={}),D=zo(D),A="ALLOWED_TAGS"in D?Ke({},D.ALLOWED_TAGS):R,M="ALLOWED_ATTR"in D?Ke({},D.ALLOWED_ATTR):j,pr="ADD_URI_SAFE_ATTR"in D?Ke(zo(ii),D.ADD_URI_SAFE_ATTR):ii,no="ADD_DATA_URI_TAGS"in D?Ke(zo(pd),D.ADD_DATA_URI_TAGS):pd,gt="FORBID_CONTENTS"in D?Ke({},D.FORBID_CONTENTS):gr,z="FORBID_TAGS"in D?Ke({},D.FORBID_TAGS):{},Z="FORBID_ATTR"in D?Ke({},D.FORBID_ATTR):{},mn="USE_PROFILES"in D&&D.USE_PROFILES,he=!1!==D.ALLOW_ARIA_ATTR,de=!1!==D.ALLOW_DATA_ATTR,Ae=D.ALLOW_UNKNOWN_PROTOCOLS||!1,Ne=D.SAFE_FOR_TEMPLATES||!1,oe=D.WHOLE_DOCUMENT||!1,ct=D.RETURN_DOM||!1,sn=D.RETURN_DOM_FRAGMENT||!1,ln=D.RETURN_TRUSTED_TYPE||!1,wt=D.FORCE_BODY||!1,Gn=!1!==D.SANITIZE_DOM,Mn=!1!==D.KEEP_CONTENT,Lt=D.IN_PLACE||!1,_e=D.ALLOWED_URI_REGEXP||_e,Ko=D.NAMESPACE||vn,D.CUSTOM_ELEMENT_HANDLING&&lk(D.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($.tagNameCheck=D.CUSTOM_ELEMENT_HANDLING.tagNameCheck),D.CUSTOM_ELEMENT_HANDLING&&lk(D.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($.attributeNameCheck=D.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),D.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof D.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&($.allowCustomizedBuiltInElements=D.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Q=Q=-1===UO.indexOf(D.PARSER_MEDIA_TYPE)?"text/html":D.PARSER_MEDIA_TYPE,G="application/xhtml+xml"===Q?function(Oe){return Oe}:yl,Ne&&(de=!1),sn&&(ct=!0),mn&&(A=Ke({},Hn(ny)),M=[],!0===mn.html&&(Ke(A,ty),Ke(M,ry)),!0===mn.svg&&(Ke(A,rm),Ke(M,sm),Ke(M,wl)),!0===mn.svgFilters&&(Ke(A,om),Ke(M,sm),Ke(M,wl)),!0===mn.mathMl&&(Ke(A,am),Ke(M,oy),Ke(M,wl))),D.ADD_TAGS&&(A===R&&(A=zo(A)),Ke(A,D.ADD_TAGS)),D.ADD_ATTR&&(M===j&&(M=zo(M)),Ke(M,D.ADD_ATTR)),D.ADD_URI_SAFE_ATTR&&Ke(pr,D.ADD_URI_SAFE_ATTR),D.FORBID_CONTENTS&&(gt===gr&&(gt=zo(gt)),Ke(gt,D.FORBID_CONTENTS)),Mn&&(A["#text"]=!0),oe&&Ke(A,["html","head","body"]),A.table&&(Ke(A,["tbody"]),delete z.tbody),cn&&cn(D),za=D)},dk=Ke({},["mi","mo","mn","ms","mtext"]),ck=Ke({},["foreignobject","desc","title","annotation-xml"]),zO=Ke({},["title","style","font","a","script"]),hd=Ke({},rm);Ke(hd,om),Ke(hd,jA);var If=Ke({},am);Ke(If,HA);var Or=function(D){zs(n.removed,{element:D});try{D.parentNode.removeChild(D)}catch{try{D.outerHTML=k}catch{D.remove()}}},bd=function(D,Oe){try{zs(n.removed,{attribute:Oe.getAttributeNode(D),from:Oe})}catch{zs(n.removed,{attribute:null,from:Oe})}if(Oe.removeAttribute(D),"is"===D&&!M[D])if(ct||sn)try{Or(Oe)}catch{}else try{Oe.setAttribute(D,"")}catch{}},uk=function(D){var Oe,ke;if(wt)D="<remove></remove>"+D;else{var tt=UA(D,/^[\r\n\t ]+/);ke=tt&&tt[0]}"application/xhtml+xml"===Q&&(D='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+D+"</body></html>");var Et=E?E.createHTML(D):D;if(Ko===vn)try{Oe=(new p).parseFromString(Et,Q)}catch{}if(!Oe||!Oe.documentElement){Oe=O.createDocument(Ko,"template",null);try{Oe.documentElement.innerHTML=ik?"":Et}catch{}}var Vt=Oe.body||Oe.documentElement;return D&&ke&&Vt.insertBefore(o.createTextNode(ke),Vt.childNodes[0]||null),Ko===vn?_.call(Oe,oe?"html":"body")[0]:oe?Oe.documentElement:Vt},mk=function(D){return I.call(D.ownerDocument||D,D,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},li=function(D){return"object"===$o(i)?D instanceof i:D&&"object"===$o(D)&&"number"==typeof D.nodeType&&"string"==typeof D.nodeName},Br=function(D,Oe,ke){B[D]&&MA(B[D],function(tt){tt.call(n,Oe,ke,za)})},fk=function(D){var Oe,ke;if(Br("beforeSanitizeElements",D,null),(ke=D)instanceof m&&("string"!=typeof ke.nodeName||"string"!=typeof ke.textContent||"function"!=typeof ke.removeChild||!(ke.attributes instanceof u)||"function"!=typeof ke.removeAttribute||"function"!=typeof ke.setAttribute||"string"!=typeof ke.namespaceURI||"function"!=typeof ke.insertBefore)||un(/[\u0080-\uFFFF]/,D.nodeName))return Or(D),!0;var tt=G(D.nodeName);if(Br("uponSanitizeElement",D,{tagName:tt,allowedTags:A}),D.hasChildNodes()&&!li(D.firstElementChild)&&(!li(D.content)||!li(D.content.firstElementChild))&&un(/<[/\w]/g,D.innerHTML)&&un(/<[/\w]/g,D.textContent)||"select"===tt&&un(/<template/i,D.innerHTML))return Or(D),!0;if(!A[tt]||z[tt]){if(!z[tt]&&pk(tt)&&($.tagNameCheck instanceof RegExp&&un($.tagNameCheck,tt)||$.tagNameCheck instanceof Function&&$.tagNameCheck(tt)))return!1;if(Mn&&!gt[tt]){var Et=C(D)||D.parentNode,Vt=v(D)||D.childNodes;if(Vt&&Et)for(var Rt=Vt.length-1;Rt>=0;--Rt)Et.insertBefore(g(Vt[Rt],!0),b(D))}return Or(D),!0}return D instanceof l&&!function(Kn){var Tt=C(Kn);Tt&&Tt.tagName||(Tt={namespaceURI:vn,tagName:"template"});var Ot=yl(Kn.tagName),Yo=yl(Tt.tagName);return Kn.namespaceURI===ro?Tt.namespaceURI===vn?"svg"===Ot:Tt.namespaceURI===bn?"svg"===Ot&&("annotation-xml"===Yo||dk[Yo]):Boolean(hd[Ot]):Kn.namespaceURI===bn?Tt.namespaceURI===vn?"math"===Ot:Tt.namespaceURI===ro?"math"===Ot&&ck[Yo]:Boolean(If[Ot]):Kn.namespaceURI===vn&&!(Tt.namespaceURI===ro&&!ck[Yo])&&!(Tt.namespaceURI===bn&&!dk[Yo])&&!If[Ot]&&(zO[Ot]||!hd[Ot])}(D)?(Or(D),!0):"noscript"!==tt&&"noembed"!==tt||!un(/<\/no(script|embed)/i,D.innerHTML)?(Ne&&3===D.nodeType&&(Oe=Jr(Oe=D.textContent,Ce," "),Oe=Jr(Oe,re," "),D.textContent!==Oe&&(zs(n.removed,{element:D.cloneNode()}),D.textContent=Oe)),Br("afterSanitizeElements",D,null),!1):(Or(D),!0)},gk=function(D,Oe,ke){if(Gn&&("id"===Oe||"name"===Oe)&&(ke in o||ke in $O))return!1;if((!de||Z[Oe]||!un(Te,Oe))&&(!he||!un(Be,Oe)))if(!M[Oe]||Z[Oe]){if(!(pk(D)&&($.tagNameCheck instanceof RegExp&&un($.tagNameCheck,D)||$.tagNameCheck instanceof Function&&$.tagNameCheck(D))&&($.attributeNameCheck instanceof RegExp&&un($.attributeNameCheck,Oe)||$.attributeNameCheck instanceof Function&&$.attributeNameCheck(Oe))||"is"===Oe&&$.allowCustomizedBuiltInElements&&($.tagNameCheck instanceof RegExp&&un($.tagNameCheck,ke)||$.tagNameCheck instanceof Function&&$.tagNameCheck(ke))))return!1}else if(!pr[Oe]&&!un(_e,Jr(ke,be,""))&&("src"!==Oe&&"xlink:href"!==Oe&&"href"!==Oe||"script"===D||0!==$A(ke,"data:")||!no[D])&&(!Ae||un(se,Jr(ke,be,"")))&&ke)return!1;return!0},pk=function(D){return D.indexOf("-")>0},hk=function(D){var Oe,ke,tt,Et;Br("beforeSanitizeAttributes",D,null);var Vt=D.attributes;if(Vt){var Rt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:M};for(Et=Vt.length;Et--;){var Kn=Oe=Vt[Et],Tt=Kn.name,Ot=Kn.namespaceURI;ke="value"===Tt?Oe.value:zA(Oe.value),tt=G(Tt);var Yo=ke;if(Rt.attrName=tt,Rt.attrValue=ke,Rt.keepAttr=!0,Rt.forceKeepAttr=void 0,Br("uponSanitizeAttribute",D,Rt),ke=Rt.attrValue,!Rt.forceKeepAttr)if(Rt.keepAttr)if(un(/\/>/i,ke))bd(Tt,D);else{Ne&&(ke=Jr(ke,Ce," "),ke=Jr(ke,re," "));var HO=G(D.nodeName);if(gk(HO,tt,ke)){if(ke!==Yo)try{Ot?D.setAttributeNS(Ot,Tt,ke):D.setAttribute(Tt,ke)}catch{bd(Tt,D)}}else bd(Tt,D)}else bd(Tt,D)}Br("afterSanitizeAttributes",D,null)}},jO=function D(Oe){var ke,tt=mk(Oe);for(Br("beforeSanitizeShadowDOM",Oe,null);ke=tt.nextNode();)Br("uponSanitizeShadowNode",ke,null),fk(ke)||(ke.content instanceof a&&D(ke.content),hk(ke));Br("afterSanitizeShadowDOM",Oe,null)};return n.sanitize=function(D,Oe){var ke,tt,Et,Vt,Rt;if((ik=!D)&&(D="\x3c!--\x3e"),"string"!=typeof D&&!li(D)){if("function"!=typeof D.toString)throw nm("toString is not a function");if("string"!=typeof(D=D.toString()))throw nm("dirty is not a string, aborting")}if(!n.isSupported){if("object"===$o(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof D)return t.toStaticHTML(D);if(li(D))return t.toStaticHTML(D.outerHTML)}return D}if(Pe||Pf(Oe),n.removed=[],"string"==typeof D&&(Lt=!1),Lt){if(D.nodeName){var Kn=G(D.nodeName);if(!A[Kn]||z[Kn])throw nm("root node is forbidden and cannot be sanitized in-place")}}else if(D instanceof i)1===(tt=(ke=uk("\x3c!----\x3e")).ownerDocument.importNode(D,!0)).nodeType&&"BODY"===tt.nodeName||"HTML"===tt.nodeName?ke=tt:ke.appendChild(tt);else{if(!ct&&!Ne&&!oe&&-1===D.indexOf("<"))return E&&ln?E.createHTML(D):D;if(!(ke=uk(D)))return ct?null:ln?k:""}ke&&wt&&Or(ke.firstChild);for(var Tt=mk(Lt?D:ke);Et=Tt.nextNode();)3===Et.nodeType&&Et===Vt||fk(Et)||(Et.content instanceof a&&jO(Et.content),hk(Et),Vt=Et);if(Vt=null,Lt)return D;if(ct){if(sn)for(Rt=L.call(ke.ownerDocument);ke.firstChild;)Rt.appendChild(ke.firstChild);else Rt=ke;return M.shadowroot&&(Rt=T.call(r,Rt,!0)),Rt}var Ot=oe?ke.outerHTML:ke.innerHTML;return oe&&A["!doctype"]&&ke.ownerDocument&&ke.ownerDocument.doctype&&ke.ownerDocument.doctype.name&&un(ZA,ke.ownerDocument.doctype.name)&&(Ot="<!DOCTYPE "+ke.ownerDocument.doctype.name+">\n"+Ot),Ne&&(Ot=Jr(Ot,Ce," "),Ot=Jr(Ot,re," ")),E&&ln?E.createHTML(Ot):Ot},n.setConfig=function(D){Pf(D),Pe=!0},n.clearConfig=function(){za=null,Pe=!1},n.isValidAttribute=function(D,Oe,ke){za||Pf({});var tt=G(D),Et=G(Oe);return gk(tt,Et,ke)},n.addHook=function(D,Oe){"function"==typeof Oe&&(B[D]=B[D]||[],zs(B[D],Oe))},n.removeHook=function(D){if(B[D])return FA(B[D])},n.removeHooks=function(D){B[D]&&(B[D]=[])},n.removeAllHooks=function(){B={}},n}();const ay=X.each,eN=X.trim,tN=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],nN={ftp:21,http:80,https:443,mailto:25},rN=["img","video"],sy=(e,t,n)=>{const r=(o=>{try{return decodeURIComponent(o)}catch{return unescape(o)}})(t).replace(/\s/g,"");return!e.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(r)||!e.allow_html_data_urls&&(/^data:image\//i.test(r)?(a=n,(F(o=e.allow_svg_data_urls)?!o:!F(a)||!qe(rN,a))&&/^data:image\/svg\+xml/i.test(r)):/^data:/i.test(r)));var o,a};class Vn{static parseDataUri(t){let n;const r=decodeURIComponent(t).split(","),o=/data:([^;]+)/.exec(r[0]);return o&&(n=o[1]),{type:n,data:r[1]}}static isDomSafe(t,n,r={}){if(r.allow_script_urls)return!0;{const o=zr.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!sy(r,o,n)}}static getDocumentBaseUrl(t){var n;let r;return r=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?null!==(n=t.href)&&void 0!==n?n:"":t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/")),r}constructor(t,n={}){this.path="",this.directory="",t=eN(t),this.settings=n;const r=n.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))return void(o.source=t);const a=0===t.indexOf("//");if(0!==t.indexOf("/")||a||(t=(r&&r.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const i=r?r.path:new Vn(document.location.href).directory;if(""===(null==r?void 0:r.protocol))t="//mce_host"+o.toAbsPath(i,t);else{const l=/([^#?]*)([#?]?.*)/.exec(t);l&&(t=(r&&r.protocol||"http")+"://mce_host"+o.toAbsPath(i,l[1])+l[2])}}t=t.replace(/@@/g,"(mce_at)");const s=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);s&&ay(tN,(i,l)=>{let d=s[l];d&&(d=d.replace(/\(mce_at\)/g,"@@")),o[i]=d}),r&&(o.protocol||(o.protocol=r.protocol),o.userInfo||(o.userInfo=r.userInfo),o.port||"mce_host"!==o.host||(o.port=r.port),o.host&&"mce_host"!==o.host||(o.host=r.host),o.source=""),a&&(o.protocol="")}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if("./"===t)return t;const n=new Vn(t,{base_uri:this});if("mce_host"!==n.host&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&""!==n.protocol)return n.getURI();const r=this.getURI(),o=n.getURI();if(r===o||"/"===r.charAt(r.length-1)&&r.substr(0,r.length-1)===o)return r;let a=this.toRelPath(this.path,n.path);return n.query&&(a+="?"+n.query),n.anchor&&(a+="#"+n.anchor),a}toAbsolute(t,n){const r=new Vn(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?nN[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let r,o,a=0,s="";const i=t.substring(0,t.lastIndexOf("/")).split("/"),l=n.split("/");if(i.length>=l.length)for(r=0,o=i.length;r<o;r++)if(r>=l.length||i[r]!==l[r]){a=r+1;break}if(i.length<l.length)for(r=0,o=l.length;r<o;r++)if(r>=i.length||i[r]!==l[r]){a=r+1;break}if(1===a)return n;for(r=0,o=i.length-(a-1);r<o;r++)s+="../";for(r=a-1,o=l.length;r<o;r++)s+=r!==a-1?"/"+l[r]:l[r];return s}toAbsPath(t,n){let r=0;const o=/\/$/.test(n)?"/":"",a=t.split("/"),s=n.split("/"),i=[];ay(a,u=>{u&&i.push(u)});const l=[];for(let u=s.length-1;u>=0;u--)0!==s[u].length&&"."!==s[u]&&(".."!==s[u]?r>0?r--:l.push(s[u]):r++);const d=i.length-r;let c;return c=d<=0?so(l).join("/"):i.slice(0,d).join("/")+"/"+so(l).join("/"),0!==c.indexOf("/")&&(c="/"+c),o&&c.lastIndexOf("/")!==c.length-1&&(c+=o),c}getURI(t=!1){let n;return this.source&&!t||(n="",t||(n+=this.protocol?this.protocol+"://":"//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const oN=X.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),im="data-mce-type";let iy=0;const ly=(e,t,n,r)=>{var o,a,s,i;const l=t.validate,d=n.getSpecialElements();8===e.nodeType&&!t.allow_conditional_comments&&/^\[if/i.test(null!==(o=e.nodeValue)&&void 0!==o?o:"")&&(e.nodeValue=" "+e.nodeValue);const c=null!==(a=null==r?void 0:r.tagName)&&void 0!==a?a:e.nodeName.toLowerCase();if(1!==e.nodeType||"body"===c)return;const u=S(e),m=pi(u,im),p=Cn(u,"data-mce-bogus");if(!m&&ae(p))return void("all"===p?lt(u):kr(u));const f=n.getElementRule(c);if(!l||f){if(F(r)&&(r.allowedTags[c]=!0),l&&f&&!m){if(V(null!==(s=f.attributesForced)&&void 0!==s?s:[],h=>{Bt(u,h.name,"{$uid}"===h.value?"mce_"+iy++:h.value)}),V(null!==(i=f.attributesDefault)&&void 0!==i?i:[],h=>{pi(u,h.name)||Bt(u,h.name,"{$uid}"===h.value?"mce_"+iy++:h.value)}),f.attributesRequired&&!st(f.attributesRequired,h=>pi(u,h))||f.removeEmptyAttrs&&(h=>{const g=h.dom.attributes;return null==g||0===g.length})(u))return void kr(u);f.outputName&&f.outputName!==c&&Ap(u,f.outputName)}}else Ie(d,c)?lt(u):kr(u)},dy=(e,t,n,r,o)=>!(r in oN&&sy(e,o,n))&&(!e.validate||t.isValid(n,r)||It(r,"data-")||It(r,"aria-")),cy=(e,t)=>e.hasAttribute(im)&&("id"===t||"class"===t||"style"===t),uy=(e,t)=>e in t.getBoolAttrs(),aN=(e,t,n)=>{const{attributes:r}=e;for(let o=r.length-1;o>=0;o--){const a=r[o],s=a.name,i=a.value;dy(t,n,e.tagName.toLowerCase(),s,i)||cy(e,s)?uy(s,n)&&e.setAttribute(s,s):e.removeAttribute(s)}},my=X.makeMap,fy=X.extend,gy=(e,t,n)=>{const r=e.name,o=r in n&&"title"!==r&&"textarea"!==r,a=t.childNodes;for(let s=0,i=a.length;s<i;s++){const l=a[s],d=new on(l.nodeName.toLowerCase(),l.nodeType);if(ue(l)){const c=l.attributes;for(let u=0,m=c.length;u<m;u++){const p=c[u];d.attr(p.name,p.value)}}else K(l)?(d.value=l.data,o&&(d.raw=!0)):(Mr(l)||zk(l)||jk(l))&&(d.value=l.data);gy(d,l,n),e.append(d)}},Aa=(e={},t=jr())=>{const n=Vv(),r=Vv(),o={validate:!0,root_name:"body",sanitize:!0,...e},a=new DOMParser,s=((h,g)=>{if(h.sanitize){const b=((e,t)=>{const n=JA();return n.addHook("uponSanitizeElement",(r,o)=>{ly(r,e,t,o)}),n.addHook("uponSanitizeAttribute",(r,o)=>{const a=r.tagName.toLowerCase(),{attrName:s,attrValue:i}=o;o.keepAttr=dy(e,t,a,s,i),o.keepAttr?(o.allowedAttributes[s]=!0,uy(s,t)&&(o.attrValue=s),e.allow_svg_data_urls&&It(i,"data:image/svg+xml")&&(o.forceKeepAttr=!0)):cy(r,s)&&(o.forceKeepAttr=!0)}),n})(h,g);return(v,C)=>{b.sanitize(v,((w,E)=>{const k={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]};return k.PARSER_MEDIA_TYPE=E,w.allow_script_urls?k.ALLOWED_URI_REGEXP=/.*/:w.allow_html_data_urls&&(k.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),k})(h,C)),b.removed=[]}}return(b,v)=>{const C=document.createNodeIterator(b,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let w;for(;w=C.nextNode();)ly(w,h,g),ue(w)&&aN(w,h,g)}})(o,t),l=n.getFilters,u=r.getFilters,p=(h,g)=>{const b=ae(g.attr(im)),v=1===g.type&&!Ie(h,g.name)&&!tp(t,g);return 3===g.type||v&&!b},f={schema:t,addAttributeFilter:r.addFilter,getAttributeFilters:u,removeAttributeFilter:r.removeFilter,addNodeFilter:n.addFilter,getNodeFilters:l,removeNodeFilter:n.removeFilter,parse:(h,g={})=>{var b;const v=o.validate,C=null!==(b=g.context)&&void 0!==b?b:o.root_name,w=((N,B,Q="html")=>{const G="xhtml"===Q?"application/xhtml+xml":"text/html",Ce=Ie(t.getSpecialElements(),B.toLowerCase()),re=Ce?`<${B}>${N}</${B}>`:N,Be=a.parseFromString("xhtml"===Q?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${re}</body></html>`:`<body>${re}</body>`,G).body;return s(Be,G),Ce?Be.firstChild:Be})(h,C,g.format);Xd(t,w);const E=new on(C,11);gy(E,w,t.getSpecialElements()),w.innerHTML="";const[k,x]=((N,B,Q,G)=>{const Ce=Q.validate,re=B.getNonEmptyElements(),Te=B.getWhitespaceElements(),Be=fy(my("script,style,head,html,body,title,meta,param"),B.getBlockElements()),se=fp(B),be=/[ \t\r\n]+/g,_e=/^[ \t\r\n]+/,A=/[ \t\r\n]+$/,R=$=>{let z=$.parent;for(;F(z);){if(z.name in Te)return!0;z=z.parent}return!1},M=$=>$.name in Be||tp(B,$),j=($,z)=>!F(z?$.prev:$.next)&&!ie($.parent)&&M($.parent)&&($.parent!==N||!0===G.isRootContent);return[$=>{var z,he,de;if(3===$.type&&!R($)){let Z=null!==(z=$.value)&&void 0!==z?z:"";Z=Z.replace(be," "),de=M,(F(he=$.prev)&&(de(he)||"br"===he.name)||j($,!0))&&(Z=Z.replace(_e,"")),0===Z.length?$.remove():$.value=Z}},$=>{var z,de,Ae;if(1===$.type){const Z=B.getElementRule($.name);if(Ce&&Z){const he=Fs(B,re,Te,$);Z.paddInEmptyBlock&&he&&(de=>{let Ae=de;for(;F(Ae);){if(Ae.name in se)return Fs(B,re,Te,Ae);Ae=Ae.parent}return!1})($)?Bu(G,M,$):Z.removeEmpty&&he?M($)?$.remove():$.unwrap():Z.paddEmpty&&(he||ev(de=$,"#text")&&(null===(Ae=null==de?void 0:de.firstChild)||void 0===Ae?void 0:Ae.value)===_t)&&Bu(G,M,$)}}else if(3===$.type&&!R($)){let Z=null!==(z=$.value)&&void 0!==z?z:"";($.next&&M($.next)||j($,!1))&&(Z=Z.replace(A,"")),0===Z.length?$.remove():$.value=Z}}]})(E,t,o,g),O=[],L={nodes:{},attributes:{}},_=N=>Z0(l(),u(),N,L);if(((N,B,Q)=>{const G=[];for(let Ce=N,re=Ce;Ce;re=Ce,Ce=Ce.walk()){const Te=Ce;V(B,Be=>Be(Te)),ie(Te.parent)&&Te!==N?Ce=re:G.push(Te)}for(let Ce=G.length-1;Ce>=0;Ce--){const re=G[Ce];V(Q,Te=>Te(re))}})(E,[k,_],[x,v?N=>{return Q=O,void(tv(t,B=N)&&Q.push(B));var B,Q}:Ee]),O.reverse(),v&&O.length>0)if(g.context){const{pass:N,fail:B}=On(O,Q=>Q.parent===E);Lu(B,t,E,_),g.invalid=N.length>0}else Lu(O,t,E,_);const T=((N,B)=>{var Q;const G=null!==(Q=B.forced_root_block)&&void 0!==Q?Q:N.forced_root_block;return!1===G?"":!0===G?"p":G})(o,g);return T&&("body"===E.name||g.isRootContent)&&((N,B)=>{const Q=fy(my("script,style,head,html,body,title,meta,param"),t.getBlockElements()),G=/^[ \t\r\n]+/,Ce=/[ \t\r\n]+$/;let re=N.firstChild,Te=null;const Be=se=>{var be,_e;se&&(re=se.firstChild,re&&3===re.type&&(re.value=null===(be=re.value)||void 0===be?void 0:be.replace(G,"")),re=se.lastChild,re&&3===re.type&&(re.value=null===(_e=re.value)||void 0===_e?void 0:_e.replace(Ce,"")))};if(t.isValidChild(N.name,B.toLowerCase())){for(;re;){const se=re.next;p(Q,re)?(Te||(Te=new on(B,1),Te.attr(o.forced_root_block_attrs),N.insert(Te,re)),Te.append(re)):(Be(Te),Te=null),re=se}Be(Te)}})(E,T),g.invalid||Q0(L,g),E}};return((e,t)=>{const n=e.schema;t.remove_trailing_brs&&Wv(e,n),e.addAttributeFilter("href",o=>{let a=o.length;const s=i=>{const l=i?X.trim(i):"";return/\b(noopener)\b/g.test(l)?l:l.split(" ").filter(c=>c.length>0).concat(["noopener"]).sort().join(" ")};if(!t.allow_unsafe_link_target)for(;a--;){const i=o[a];"a"===i.name&&"_blank"===i.attr("target")&&i.attr("rel",s(i.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",o=>{let a,s,i,l,d=o.length;for(;d--;)if(l=o[d],"a"===l.name&&l.firstChild&&!l.attr("href"))for(i=l.parent,a=l.lastChild;a&&i;)s=a.prev,i.insert(a,l),a=s}),t.fix_list_elements&&e.addNodeFilter("ul,ol",o=>{let a,s,i=o.length;for(;i--;)if(a=o[i],s=a.parent,s&&("ul"===s.name||"ol"===s.name))if(a.prev&&"li"===a.prev.name)a.prev.append(a);else{const l=new on("li",1);l.attr("style","list-style-type: none"),a.wrap(l)}});const r=n.getValidClasses();t.validate&&r&&e.addAttributeFilter("class",o=>{var a;let s=o.length;for(;s--;){const i=o[s],l=null!==(a=i.attr("class"))&&void 0!==a?a:"",d=X.explode(l," ");let c="";for(let u=0;u<d.length;u++){const m=d[u];let p=!1,f=r["*"];f&&f[m]&&(p=!0),f=r[i.name],!p&&f&&f[m]&&(p=!0),p&&(c&&(c+=" "),c+=m)}c.length||(c=null),i.attr("class",c)}}),((o,a)=>{const{blob_cache:s}=a;if(s){const i=l=>{const d=l.attr("src");var c;(c=l).attr("src")===He.transparentSrc||F(c.attr("data-mce-placeholder"))||(c=>F(c.attr("data-mce-bogus")))(l)||ie(d)||Zv(s,d,!0).each(c=>{l.attr("src",c.blobUri())})};o.addAttributeFilter("src",l=>V(l,i))}})(e,t)})(f,o),(g=o).inline_styles&&((e,t,n)=>{var r;const o=oc();var a,s,i;t.convert_fonts_to_spans&&(a=e,s=o,i=X.explode(null!==(r=t.font_size_legacy_values)&&void 0!==r?r:""),a.addNodeFilter("font",l=>{V(l,d=>{const c=s.parse(d.attr("style")),u=d.attr("color"),m=d.attr("face"),p=d.attr("size");var f;u&&(c.color=u),m&&(c["font-family"]=m),p&&fi(p).each(f=>{c["font-size"]=i[f-1]}),d.name="span",d.attr("style",s.serialize(c)),f=d,V(["color","face","size"],g=>{f.attr(g,null)})})})),((a,s,i)=>{a.addNodeFilter("strike",l=>{const d="html4"!==s.type;V(l,c=>{if(d)c.name="s";else{const u=i.parse(c.attr("style"));u["text-decoration"]="line-through",c.name="span",c.attr("style",i.serialize(u))}})})})(e,n,o)})(f,g,t),f;var g},py=(e,t,n)=>{const r=gl(a=e)?Kr({validate:!1}).serialize(a):a,o=t(r);var a;if(o.isDefaultPrevented())return o;if(gl(e)){if(o.content!==r){const a=Aa({validate:!1,forced_root_block:!1,sanitize:n}).parse(o.content,{context:e.name});return{...o,content:a}}return{...o,content:e}}return o},hy=(e,t)=>{if(t.no_events)return tn.value(t);{const n=e.dispatch("BeforeGetContent",t);return n.isDefaultPrevented()?tn.error(Cb(e,{content:"",...n}).content):tn.value(n)}},by=(e,t,n)=>n.no_events?t:py(t,o=>Cb(e,{...n,content:o}),xc(e)).content,lm=(e,t)=>{if(t.no_events)return tn.value(t);{const n=py(t.content,r=>{return o=e,a={...t,content:r},o.dispatch("BeforeSetContent",a);var o,a},xc(e));return n.isDefaultPrevented()?(yb(e,n),tn.error(void 0)):tn.value(n)}},dm=(e,t,n)=>{n.no_events||yb(e,{...n,content:t})},cm=(e,t,n)=>({element:e,width:t,rows:n}),vy=(e,t)=>({element:e,cells:t}),iN=(e,t)=>({x:e,y:t}),yy=(e,t)=>yr(e,t).bind(fi).getOr(1),lN=(e,t,n)=>{const r=e.rows;return!!(r[n]?r[n].cells:[])[t]},Cy=e=>Gt(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),wy=(e,t)=>{const n=e.rows;for(let r=0;r<n.length;r++){const o=n[r].cells;for(let a=0;a<o.length;a++)if(Ge(o[a],t))return y.some(iN(a,r))}return y.none()},Ey=(e,t,n,r,o)=>{const a=[],s=e.rows;for(let i=n;i<=o;i++){const l=s[i].cells,d=t<r?l.slice(t,r+1):l.slice(r,t+1);a.push(vy(s[i].element,d))}return a},dN=e=>((t,n)=>{const r=xo(t.element),o=Dt("tbody");return po(o,n),yt(r,o),r})(e,ze(e.rows,n=>{const r=ze(n.cells,a=>{const s=_p(a);return Mt(s,"colspan"),Mt(s,"rowspan"),s}),o=xo(n.element);return po(o,r),o})),ky=()=>Xc([]),El=(e,t)=>t>=0&&t<e.length&&Ca(e.charAt(t)),xy=e=>Sr(e.innerText),Sy=e=>ue(e)?e.outerHTML:K(e)?zr.encodeRaw(e.data,!1):Mr(e)?"\x3c!--"+e.data+"--\x3e":"",gN=co(()=>document.implementation.createHTMLDocument("undo")),kl=e=>{const t=(n=e.getBody(),Re(ze(Se(n.childNodes),Sy),a=>a.length>0));var n;const r=gn(t,a=>{const s=r0(e.serializer,a);return s.length>0?[s]:[]}),o=r.join("");return-1!==o.indexOf("</iframe>")?{type:"fragmented",fragments:r,content:"",bookmark:null,beforeBookmark:null}:(a=>({type:"complete",fragments:null,content:a,bookmark:null,beforeBookmark:null}))(o)},um=(e,t,n)=>{const r=n?t.beforeBookmark:t.bookmark;"fragmented"===t.type?((e,t)=>{((n,r)=>{let o=0;V(n,a=>{var s,i;0===a[0]?o++:1===a[0]?(((s,i,l)=>{const d=(c=>{let u;const m=document.createElement("div"),p=document.createDocumentFragment();for(c&&(m.innerHTML=c);u=m.firstChild;)p.appendChild(u);return p})(i);s.hasChildNodes()&&l<s.childNodes.length?s.insertBefore(d,s.childNodes[l]):s.appendChild(d)})(r,a[1],o),o++):2===a[0]&&(i=o,(s=r).hasChildNodes()&&i<s.childNodes.length&&s.removeChild(s.childNodes[i]))})})(((n,r)=>{const o=n.length+r.length+2,a=new Array(o),s=new Array(o),i=(u,m,p,f,h)=>{const g=d(u,m,p,f);if(null===g||g.start===m&&g.diag===m-f||g.end===u&&g.diag===u-p){let b=u,v=p;for(;b<m||v<f;)b<m&&v<f&&n[b]===r[v]?(h.push([0,n[b]]),++b,++v):m-u>f-p?(h.push([2,n[b]]),++b):(h.push([1,r[v]]),++v)}else{i(u,g.start,p,g.start-g.diag,h);for(let b=g.start;b<g.end;++b)h.push([0,n[b]]);i(g.end,m,g.end-g.diag,f,h)}},l=(u,m,p,f)=>{let h=u;for(;h-m<f&&h<p&&n[h]===r[h-m];)++h;return{start:u,end:h,diag:m}},d=(u,m,p,f)=>{const h=m-u,g=f-p;if(0===h||0===g)return null;const b=h-g,v=g+h,C=(v%2==0?v:v+1)/2;let w,E,k,x,O;for(a[1+C]=u,s[1+C]=m+1,w=0;w<=C;++w){for(E=-w;E<=w;E+=2){for(k=E+C,a[k]=E===-w||E!==w&&a[k-1]<a[k+1]?a[k+1]:a[k-1]+1,x=a[k],O=x-u+p-E;x<m&&O<f&&n[x]===r[O];)a[k]=++x,++O;if(b%2!=0&&b-w<=E&&E<=b+w&&s[k-b]<=a[k])return l(s[k-b],E+u-p,m,f)}for(E=b-w;E<=b+w;E+=2){for(k=E+C-b,s[k]=E===b-w||E!==b+w&&s[k+1]<=s[k-1]?s[k+1]-1:s[k-1],x=s[k]-1,O=x-u+p-E;x>=u&&O>=p&&n[x]===r[O];)s[k]=x--,O--;if(b%2==0&&-w<=E&&E<=w&&s[k]<=a[k+b])return l(s[k],E+u-p,m,f)}}return null},c=[];return i(0,n.length,0,r.length,c),c})(ze(Se(t.childNodes),Sy),e),t)})(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:!F(r)||!jh(r)||!r.isFakeCaret}),r&&(e.selection.moveToBookmark(r),e.selection.scrollIntoView())},mm=e=>"fragmented"===e.type?e.fragments.join(""):e.content,_y=e=>{const t=Dt("body",gN());return vi(t,mm(e)),V(jt(t,"*[data-mce-bogus]"),kr),Bg(t)},fm=(e,t)=>{return!(!e||!t)&&(r=t,!(mm(e)!==mm(r))||((n,r)=>_y(n)===_y(r))(e,t));var r},gm=e=>0===e.get(),xl=(e,t,n)=>{gm(n)&&(e.typing=t)},Ay=(e,t)=>{e.typing&&(xl(e,!1,t),e.add())},Ny=e=>({init:{bindEvents:Ee},undoManager:{beforeChange:(t,n)=>{return r=e,a=n,void(gm(t)&&a.set(vc(r.selection)));var r,a},add:(t,n,r,o,a,s)=>((i,l,d,c,u,m,p)=>{const f=kl(i),h=X.extend(m||{},f);if(!gm(c)||i.removed)return null;const g=l.data[d.get()];if(i.dispatch("BeforeAddUndo",{level:h,lastLevel:g,originalEvent:p}).isDefaultPrevented()||g&&fm(g,h))return null;l.data[d.get()]&&u.get().each(C=>{l.data[d.get()].beforeBookmark=C});const b=yS(i);if(b&&l.data.length>b){for(let C=0;C<l.data.length-1;C++)l.data[C]=l.data[C+1];l.data.length--,d.set(l.data.length)}h.bookmark=vc(i.selection),d.get()<l.data.length-1&&(l.data.length=d.get()+1),l.data.push(h),d.set(l.data.length-1);const v={level:h,lastLevel:g,originalEvent:p};return d.get()>0?(i.setDirty(!0),i.dispatch("AddUndo",v),i.dispatch("change",v)):i.dispatch("AddUndo",v),h})(e,t,n,r,o,a,s),undo:(t,n,r)=>((o,a,s,i)=>{let l;return a.typing&&(a.add(),a.typing=!1,xl(a,!1,s)),i.get()>0&&(i.set(i.get()-1),l=a.data[i.get()],um(o,l,!0),o.setDirty(!0),o.dispatch("Undo",{level:l})),l})(e,t,n,r),redo:(t,n)=>((r,o,a)=>{let s;return o.get()<a.length-1&&(o.set(o.get()+1),s=a[o.get()],um(r,s,!1),r.setDirty(!0),r.dispatch("Redo",{level:s})),s})(e,t,n),clear:(t,n)=>{return r=e,a=n,(o=t).data=[],a.set(0),o.typing=!1,void r.dispatch("ClearUndos");var r,o,a},reset:t=>{return(n=t).clear(),void n.add();var n},hasUndo:(t,n)=>{return r=e,o=t,n.get()>0||o.typing&&o.data[0]&&!fm(kl(r),o.data[0]);var r,o},hasRedo:(t,n)=>{return r=t,n.get()<r.data.length-1&&!r.typing;var r},transact:(t,n,r)=>{return s=r,Ay(o=t,n),o.beforeChange(),o.ignore(s),o.add();var o,s},ignore:(t,n)=>((r,o)=>{try{r.set(r.get()+1),o()}finally{r.set(r.get()-1)}})(t,n),extra:(t,n,r,o)=>((a,s,i,l,d)=>{if(s.transact(l)){const c=s.data[i.get()].bookmark,u=s.data[i.get()-1];um(a,u,!0),s.transact(d)&&(s.data[i.get()-1].beforeBookmark=c)}})(e,t,n,r,o)},formatter:{match:(t,n,r,o)=>ju(e,t,n,r,o),matchAll:(t,n)=>((r,o,a)=>{const s=[],i={},l=r.selection.getStart();return r.dom.getParent(l,d=>{for(let c=0;c<o.length;c++){const u=o[c];!i[u]&&lr(r,d,u,a)&&(i[u]=!0,s.push(u))}},r.dom.getRoot()),s})(e,t,n),matchNode:(t,n,r,o)=>lr(e,t,n,r,o),canApply:t=>((n,r)=>{const o=n.formatter.get(r),a=n.dom;if(o&&n.selection.isEditable()){const s=n.selection.getStart(),i=Ji(a,s);for(let l=o.length-1;l>=0;l--){const d=o[l];if(!Sn(d))return!0;for(let c=i.length-1;c>=0;c--)if(a.is(i[c],d.selector))return!0}}return!1})(e,t),closest:t=>((n,r)=>{const o=a=>Ge(a,S(n.getBody()));return y.from(n.selection.getStart(!0)).bind(a=>Uu(S(a),s=>vt(r,i=>{return lr(n,s.dom,d=i)?y.some(d):y.none();var d}),o)).getOrNull()})(e,t),apply:(t,n,r)=>Fv(e,t,n,r),remove:(t,n,r,o)=>Pv(e,t,n,r,o),toggle:(t,n,r)=>((o,a,s,i)=>{const l=o.formatter.get(a);l&&(!ju(o,a,s,i)||"toggle"in l[0]&&!l[0].toggle?Fv(o,a,s,i):Pv(o,a,s,i))})(e,t,n,r),formatChanged:(t,n,r,o,a)=>{return((m,p,f,h,g,b)=>{const v=p.get();V(f.split(","),C=>{const w=it(v,C).getOrThunk(()=>{const k={withSimilar:{state:At(!1),similar:!0,callbacks:[]},withoutSimilar:{state:At(!1),similar:!1,callbacks:[]},withVars:[]};return v[C]=k,k}),E=()=>{const k=jv(m);return zv(m,k,C,g,b).isSome()};if(ne(b)){const k=g?w.withSimilar:w.withoutSimilar;k.callbacks.push(h),1===k.callbacks.length&&k.state.set(E())}else w.withVars.push({state:At(E()),similar:g,vars:b,callback:h})}),p.set(v)})(e,i=t,l=n,d=r,o,a),{unbind:()=>((m,p,f)=>{const h=m.get();V(p.split(","),g=>it(h,g).each(b=>{h[g]={withSimilar:{...b.withSimilar,callbacks:Re(b.withSimilar.callbacks,v=>v!==f)},withoutSimilar:{...b.withoutSimilar,callbacks:Re(b.withoutSimilar.callbacks,v=>v!==f)},withVars:Re(b.withVars,v=>v.callback!==f)}})),m.set(h)})(i,l,d)};var i,l,d}},editor:{getContent:t=>{return r=t,y.from((n=e).getBody()).fold(ee("tree"===r.format?new on("body",11):""),o=>((e,t,n)=>{let r;return r="raw"===t.format?X.trim(K_(e.serializer,n.innerHTML)):"text"===t.format?((o,a)=>{const s=o.getDoc(),i=Pr(S(o.getBody())),l=Dt("div",s);Bt(l,"data-mce-bogus","all"),hi(l,{position:"fixed",left:"-9999999px",top:"0"}),vi(l,a.innerHTML),o0(l),a0(l);const d=Pd(u=i)?u:S(wr(u).dom.body);var u;yt(d,l);const c=Sr(l.dom.innerText);return lt(l),c})(e,n):"tree"===t.format?e.serializer.serialize(n,t):((o,a)=>{const s=nn(o),i=new RegExp(`^(<${s}[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/${s}>[\r\n]*|<br \\/>[\r\n]*)$`);return a.replace(i,"")})(e,e.serializer.serialize(n,t)),"text"!==t.format&&!Si(S(n))&&ae(r)?X.trim(r):r})(n,r,o));var n,r},setContent:(t,n)=>{return o=t,a=n,y.from((r=e).getBody()).map(s=>gl(o)?((i,l,d,c)=>{J0(i.parser.getNodeFilters(),i.parser.getAttributeFilters(),d);const u=Kr({validate:!1},i.schema).serialize(d),m=Si(S(l))?u:X.trim(u);return Fu(i,m,c.no_selection),{content:d,html:m}})(r,s,o,a):((i,l,d,c)=>{if(0===d.length||/^\s+$/.test(d)){const u='<br data-mce-bogus="1">';"TABLE"===l.nodeName?d="<tr><td>"+u+"</td></tr>":/^(UL|OL)$/.test(l.nodeName)&&(d="<li>"+u+"</li>");const m=nn(i);return i.schema.isValidChild(l.nodeName.toLowerCase(),m.toLowerCase())?(d=u,d=i.dom.createHTML(m,vs(i),d)):d||(d=u),Fu(i,d,c.no_selection),{content:d,html:d}}{"raw"!==c.format&&(d=Kr({validate:!1},i.schema).serialize(i.parser.parse(d,{isRootContent:!0,insert:!0})));const u=Si(S(l))?d:X.trim(d);return Fu(i,u,c.no_selection),{content:u,html:u}}})(r,s,o,a)).getOr({content:o,html:gl(a.content)?"":a.content});var r,o,a},insertContent:(t,n)=>kA(e,t,n),addVisual:t=>((n,r)=>{const o=n.dom,a=F(r)?r:n.getBody();V(o.select("table,a",a),s=>{switch(s.nodeName){case"TABLE":const i=SS(n),l=o.getAttrib(s,"border");l&&"0"!==l||!n.hasVisual?o.removeClass(s,i):o.addClass(s,i);break;case"A":if(!o.getAttrib(s,"href")){const d=o.getAttrib(s,"name")||s.id,c=bh(n);d&&n.hasVisual?o.addClass(s,c):o.removeClass(s,c)}}}),n.dispatch("VisualAid",{element:r,hasVisual:n.hasVisual})})(e,t)},selection:{getContent:(t,n)=>((r,o,a={})=>{const s=(i=a,l=o,{...i,format:l,get:!0,selection:!0,getInner:!0});var i,l;return hy(r,s).fold(ut,i=>{const l=((d,c)=>{if("text"===c.format)return y.from((u=d).selection.getRng()).map(m=>{var p;const f=y.from(u.dom.getParent(m.commonAncestorContainer,u.dom.isBlock)),h=u.getBody(),g=f.map(k=>k.nodeName).getOr("div").toLowerCase(),b=S(m.cloneContents());o0(b),a0(b);const v=u.dom.add(h,g,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},b.dom),C=xy(v),w=Sr(null!==(p=v.textContent)&&void 0!==p?p:"");if(u.dom.remove(v),El(w,0)||El(w,w.length-1)){const E=f.getOr(h),k=xy(E),x=k.indexOf(C);return-1===x?C:(El(k,x-1)?" ":"")+C+(El(k,x+C.length)?" ":"")}return C}).getOr("");var u;{const u=((m,p)=>{const f=m.selection.getRng(),h=m.dom.create("body"),g=m.selection.getSel(),b=du(m,Pc(g)),v=p.contextual?((e,t)=>{const n=Xh(t,e);return n.length>0?((e,t)=>{return(n=e,r=t[0],Qa(r,"table",ce(Ge,n))).bind(n=>{const r=t[0],o=t[t.length-1],a=(s=>{const i=cm(xo(s),0,[]);return V(jt(s,"tr"),(l,d)=>{V(jt(l,"td,th"),(c,u)=>{((m,p,f,h,g)=>{const b=yy(g,"rowspan"),v=yy(g,"colspan"),C=m.rows;for(let w=f;w<f+b;w++){C[w]||(C[w]=vy(_p(h),[]));for(let E=p;E<p+v;E++)C[w].cells[E]=w===f&&E===p?g:xo(g)}})(i,((m,p,f)=>{for(;lN(m,p,f);)p++;return p})(i,u,d),d,l,c)})}),cm(i.element,Cy(i.rows),i.rows)})(n);return(s=a,i=r,l=o,wy(s,i).bind(d=>wy(s,l).map(c=>((u,m,p)=>{const f=m.x,h=m.y,g=p.x,b=p.y,v=h<b?Ey(u,f,h,g,b):Ey(u,f,b,g,h);return cm(u.element,Cy(v),v)})(s,d,c)))).map(s=>Xc([dN(s)]));var s,i,l}).getOrThunk(ky);var n,r})(e,n):(r=e,(o=t).length>0&&o[0].collapsed?ky():(a=r,((i,l)=>{const d=Gt(l,(c,u)=>(yt(u,c),u),i);return l.length>0?Xc([d]):d})(S((s=o[0]).cloneContents()),((e,t)=>{const n=S(t.commonAncestorContainer),r=Nr(n,e),o=Re(r,Yk),a=(l=t,bt(i=r,d=>"li"===ot(d)&&Mc(d,l)).fold(ee([]),d=>{return(c=i,bt(c,u=>"ul"===ot(u)||"ol"===ot(u))).map(c=>{const u=Dt(ot(c)),m=Ha(Ng(c),(p,f)=>It(f,"list-style"));return hi(u,m),[Dt("li"),u]}).getOr([]);var c})),s=o.concat(a.length?a:(i=>rs(i)?Dn(i).filter(qd).fold(ee([]),l=>[i,l]):qd(i)?[i]:[])(n));var i,l;return ze(s,xo)})(a,s))));var r,o,a,s})(S(m.getBody()),b).dom:f.cloneContents();return v&&h.appendChild(v),m.selection.serializer.serialize(h,p)})(d,c);return"tree"===c.format?u:d.selection.isCollapsed()?"":u}})(r,i);return by(r,l,i)})})(e,t,n)},autocompleter:{addDecoration:t=>((e,t)=>{if(e0(S(e.getBody())).isNone()){const r=Ya('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());yt(r,S(t.extractContents())),t.insertNode(r.dom),Dn(r).each(o=>o.dom.normalize()),(n=r,((o,a)=>{const s=i=>{const l=Ft(i);for(let d=l.length-1;d>=0;d--){const c=l[d];if(a(c))return y.some(c);const u=s(c);if(u.isSome())return u}return y.none()};return s(o)})(n,Qb)).map(o=>{var a;e.selection.setCursorLocation(o.dom,"img"===ot(a=o)?1:Hg(a).fold(()=>Ft(a).length,s=>s.length))})}var n})(e,t),removeDecoration:()=>{return t=e,n=S(e.getBody()),e0(n).each(r=>{const o=t.selection.getBookmark();kr(r),t.selection.moveToBookmark(o)});var t,n}},raw:{getModel:()=>y.none()}}),cr=e=>Ie(e.plugins,"rtc"),pm=e=>e.rtcInstance?e.rtcInstance:Ny(e),pt=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},Ry=e=>pt(e).init.bindEvents(),Ty=e=>0===e.dom.length?(lt(e),y.none()):y.some(e),Oy=(e,t,n,r)=>{e.bind(o=>((r?yu:cl)(o.dom,r?o.dom.length:0),t.filter(yn).map(a=>((s,i,l,d)=>{const c=s.dom,u=i.dom,m=d?c.length:u.length;d?(Cu(c,u,!1,!d),l.setStart(u,m)):(Cu(u,c,!1,!d),l.setEnd(u,m))})(o,a,n,r)))).orThunk(()=>{return(a=t,s=r,a.filter(i=>Ts.isBookmarkNode(i.dom)).bind(s?Za:mo)).or(t).filter(yn).map(a=>((s,i)=>{Dn(s).each(l=>{const d=s.dom;i&&Ps(l,P(d,0))?cl(d,0):!i&&Is(l,P(d,d.length))&&yu(d,d.length)})})(a,r));var a,s})},By=(e,t,n)=>{if(Ie(e,t)){const r=Re(e[t],o=>o!==n);0===r.length?delete e[t]:e[t]=r}},Dy=e=>!(!e||!e.ownerDocument)&&Cr(S(e.ownerDocument),S(e)),Ly=(e,t,n,r)=>{let o,a;const{selectorChangedWithUnbind:s}=((g,b)=>{let v,C;const w=(k,x)=>bt(x,O=>g.is(O,k)),E=k=>g.getParents(k,void 0,g.getRoot());return{selectorChangedWithUnbind:(k,x)=>(v||(v={},C={},b.on("NodeChange",O=>{const I=O.element,L=E(I),_={};ve(v,(T,N)=>{w(N,L).each(B=>{C[N]||(V(T,Q=>{Q(!0,{node:B,selector:N,parents:L})}),C[N]=T),_[N]=T})}),ve(C,(T,N)=>{_[N]||(delete C[N],V(T,B=>{B(!1,{node:I,selector:N,parents:L})}))})})),v[k]||(v[k]=[]),v[k].push(x),w(k,E(b.selection.getStart())).each(()=>{C[k]=v[k]}),{unbind:()=>{By(v,k,x),By(C,k,x)}})}})(e,r),i=(g,b)=>((v,C,w={})=>{const E=(k=w,x=C,{format:"html",...k,set:!0,selection:!0,content:x});var k,x;lm(v,E).each(k=>{const x=((I,L)=>{if("raw"!==L.format){const _=I.selection.getRng(),T=I.dom.getParent(_.commonAncestorContainer,I.dom.isBlock),N=T?{context:T.nodeName.toLowerCase()}:{},B=I.parser.parse(L.content,{forced_root_block:!1,...N,...L});return Kr({validate:!1},I.schema).serialize(B)}return L.content})(v,k),O=v.selection.getRng();((I,L)=>{const _=y.from(L.firstChild).map(S),T=y.from(L.lastChild).map(S);I.deleteContents(),I.insertNode(L);const N=_.bind(mo).filter(yn).bind(Ty),B=T.bind(Za).filter(yn).bind(Ty);Oy(N,_,I,!0),Oy(B,T,I,!1),I.collapse(!1)})(O,O.createContextualFragment(x)),v.selection.setRng(O),Bs(v,O),dm(v,x,k)})})(r,g,b),l=g=>{const b=c();b.collapse(!!g),u(b)},d=()=>t.getSelection?t.getSelection():t.document.selection,c=()=>{let g;const b=(C,w,E)=>{try{return w.compareBoundaryPoints(C,E)}catch{return-1}},v=t.document;if(F(r.bookmark)&&!Po(r)){const C=ru(r);if(C.isSome())return C.map(w=>du(r,[w])[0]).getOr(v.createRange())}try{const C=d();C&&!Ci(C.anchorNode)&&(g=C.rangeCount>0?C.getRangeAt(0):v.createRange(),g=du(r,[g])[0])}catch{}if(g||(g=v.createRange()),ns(g.startContainer)&&g.collapsed){const C=e.getRoot();g.setStart(C,0),g.setEnd(C,0)}return o&&a&&(0===b(g.START_TO_START,g,o)&&0===b(g.END_TO_END,g,o)?g=a:(o=null,a=null)),g},u=(g,b)=>{if(!((C=g)&&Dy(C.startContainer)&&Dy(C.endContainer)))return;var C;const v=d();if(g=r.dispatch("SetSelectionRange",{range:g,forward:b}).range,v){a=g;try{v.removeAllRanges(),v.addRange(g)}catch{}!1===b&&v.extend&&(v.collapse(g.endContainer,g.endOffset),v.extend(g.startContainer,g.startOffset)),o=v.rangeCount>0?v.getRangeAt(0):null}if(!g.collapsed&&g.startContainer===g.endContainer&&null!=v&&v.setBaseAndExtent&&g.endOffset-g.startOffset<2&&g.startContainer.hasChildNodes()){const C=g.startContainer.childNodes[g.startOffset];C&&"IMG"===C.nodeName&&(v.setBaseAndExtent(g.startContainer,g.startOffset,g.endContainer,g.endOffset),v.anchorNode===g.startContainer&&v.focusNode===g.endContainer||v.setBaseAndExtent(C,0,C,1))}r.dispatch("AfterSetSelectionRange",{range:g,forward:b})},m=()=>{const g=d(),b=null==g?void 0:g.anchorNode,v=null==g?void 0:g.focusNode;if(!g||!b||!v||Ci(b)||Ci(v))return!0;const C=e.createRng(),w=e.createRng();try{C.setStart(b,g.anchorOffset),C.collapse(!0),w.setStart(v,g.focusOffset),w.collapse(!0)}catch{return!0}return C.compareBoundaryPoints(C.START_TO_START,w)<=0},p={dom:e,win:t,serializer:n,editor:r,expand:(g={type:"word"})=>u(Lo(e).expand(c(),g)),collapse:l,setCursorLocation:(g,b)=>{const v=e.createRng();F(g)&&F(b)?(v.setStart(g,b),v.setEnd(g,b),u(v),l(!1)):(Fc(e,v,r.getBody(),!0),u(v))},getContent:g=>((b,v={})=>{return w=v.format?v.format:"html",E=v,pt(b).selection.getContent(w,E);var w,E})(r,g),setContent:i,getBookmark:(g,b)=>f.getBookmark(g,b),moveToBookmark:g=>f.moveToBookmark(g),select:(g,b)=>{return(v=e,C=g,w=b,y.from(C).bind(E=>y.from(E.parentNode).map(k=>{const x=v.nodeIndex(E),O=v.createRng();return O.setStart(k,x),O.setEnd(k,x+1),w&&(Fc(v,O,E,!0),Fc(v,O,E,!1)),O}))).each(u),g;var v,C,w},isCollapsed:()=>{const g=c(),b=d();return!(!g||g.item)&&(g.compareEndPoints?0===g.compareEndPoints("StartToEnd",g):!b||g.collapsed)},isEditable:()=>{const g=c(),b=r.getBody().querySelectorAll('[data-mce-selected="1"]');return b.length>0?Xn(b,v=>e.isEditable(v.parentElement)):g.startContainer===g.endContainer?e.isEditable(g.startContainer):e.isEditable(g.startContainer)&&e.isEditable(g.endContainer)},isForward:m,setNode:g=>(i(e.getOuterHTML(g)),g),getNode:()=>((g,b)=>{if(!b)return g;let v=b.startContainer,C=b.endContainer;const w=b.startOffset,E=b.endOffset;let k=b.commonAncestorContainer;b.collapsed||(v===C&&E-w<2&&v.hasChildNodes()&&(k=v.childNodes[w]),K(v)&&K(C)&&(v=v.length===w?Zb(v.nextSibling,!0):v.parentNode,C=0===E?Zb(C.previousSibling,!1):C.parentNode,v&&v===C&&(k=v)));const x=K(k)?k.parentNode:k;return ue(x)?x:g})(r.getBody(),c()),getSel:d,setRng:u,getRng:c,getStart:g=>Yb(r.getBody(),c(),g),getEnd:g=>Xb(r.getBody(),c(),g),getSelectedBlocks:(g,b)=>((v,C,w,E)=>{const k=[],x=v.getRoot(),O=v.getParent(w||Yb(x,C,C.collapsed),v.isBlock),I=v.getParent(E||Xb(x,C,C.collapsed),v.isBlock);if(O&&O!==x&&k.push(O),O&&I&&O!==I){let L;const _=new kt(O,x);for(;(L=_.next())&&L!==I;)v.isBlock(L)&&k.push(L)}return I&&O!==I&&I!==x&&k.push(I),k})(e,c(),g,b),normalize:()=>{const g=c(),b=d();if(!(Pc(b).length>1)&&Zi(r)){const v=ol(e,g);return v.each(C=>{u(C,m())}),v.getOr(g)}return g},selectorChanged:(g,b)=>(s(g,b),p),selectorChangedWithUnbind:s,getScrollContainer:()=>{let g,b=e.getRoot();for(;b&&"BODY"!==b.nodeName;){if(b.scrollHeight>b.clientHeight){g=b;break}b=b.parentNode}return g},scrollIntoView:(g,b)=>{var v;F(g)?((v=r).inline?P_:M_)(v,g,b):Bs(r,c(),b)},placeCaretAt:(g,b)=>u(Nb(g,b,r.getDoc())),getBoundingClientRect:()=>{const g=c();return g.collapsed?P.fromRangeStart(g).getClientRects()[0]:g.getBoundingClientRect()},destroy:()=>{t=o=a=null,h.destroy()}},f=Ts(p),h=kb(p,r);return p.bookmarkManager=f,p.controlSelection=h,p},pN=(e,t,n)=>{-1===X.inArray(t,n)&&(e.addAttributeFilter(n,(r,o)=>{let a=r.length;for(;a--;)r[a].attr(o,null)}),t.push(n))},Py=(e,t)=>{const n=((e,t)=>{const n=["data-mce-selected"],r={entity_encoding:"named",remove_trailing_brs:!0,...e},o=t&&t.dom?t.dom:et.DOM,a=t&&t.schema?t.schema:jr(r),s=Aa(r,a);return l=r,d=o,(i=s).addAttributeFilter("data-mce-tabindex",(c,u)=>{let m=c.length;for(;m--;){const p=c[m];p.attr("tabindex",p.attr("data-mce-tabindex")),p.attr(u,null)}}),i.addAttributeFilter("src,href,style",(c,u)=>{const m="data-mce-"+u,p=l.url_converter,f=l.url_converter_scope;let h=c.length;for(;h--;){const g=c[h];let b=g.attr(m);void 0!==b?(g.attr(u,b.length>0?b:null),g.attr(m,null)):(b=g.attr(u),"style"===u?b=d.serializeStyle(d.parseStyle(b),g.name):p&&(b=p.call(f,b,u,g.name)),g.attr(u,b.length>0?b:null))}}),i.addAttributeFilter("class",c=>{let u=c.length;for(;u--;){const m=c[u];let p=m.attr("class");p&&(p=p.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),m.attr("class",p.length>0?p:null))}}),i.addAttributeFilter("data-mce-type",(c,u,m)=>{let p=c.length;for(;p--;){const f=c[p];"bookmark"===f.attr("data-mce-type")&&!m.cleanup&&(y.from(f.firstChild).exists(g=>{var b;return!Ai(null!==(b=g.value)&&void 0!==b?b:"")})?f.unwrap():f.remove())}}),i.addNodeFilter("noscript",c=>{var u;let m=c.length;for(;m--;){const p=c[m].firstChild;p&&(p.value=zr.decode(null!==(u=p.value)&&void 0!==u?u:""))}}),i.addNodeFilter("script,style",(c,u)=>{var m;const p=h=>h.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let f=c.length;for(;f--;){const h=c[f],g=h.firstChild,b=null!==(m=null==g?void 0:g.value)&&void 0!==m?m:"";if("script"===u){const v=h.attr("type");v&&h.attr("type","mce-no/type"===v?null:v.replace(/^mce\-/,"")),"xhtml"===l.element_format&&g&&b.length>0&&(g.value="// <![CDATA[\n"+p(b)+"\n// ]]>")}else"xhtml"===l.element_format&&g&&b.length>0&&(g.value="\x3c!--\n"+p(b)+"\n--\x3e")}}),i.addNodeFilter("#comment",c=>{let u=c.length;for(;u--;){const m=c[u],p=m.value;l.preserve_cdata&&0===(null==p?void 0:p.indexOf("[CDATA["))?(m.name="#cdata",m.type=4,m.value=d.decode(p.replace(/^\[CDATA\[|\]\]$/g,""))):0===(null==p?void 0:p.indexOf("mce:protected "))&&(m.name="#text",m.type=3,m.raw=!0,m.value=unescape(p).substr(14))}}),i.addNodeFilter("xml:namespace,input",(c,u)=>{let m=c.length;for(;m--;){const p=c[m];7===p.type?p.remove():1===p.type&&("input"!==u||p.attr("type")||p.attr("type","text"))}}),i.addAttributeFilter("data-mce-type",c=>{V(c,u=>{"format-caret"===u.attr("data-mce-type")&&(u.isEmpty(i.schema.getNonEmptyElements())?u.remove():u.unwrap())})}),i.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(c,u)=>{let m=c.length;for(;m--;)c[m].attr(u,null)}),l.remove_trailing_brs&&Wv(i,i.schema),{schema:a,addNodeFilter:s.addNodeFilter,addAttributeFilter:s.addAttributeFilter,serialize:(i,l={})=>{const d={format:"html",...l},c=(f=i,b=h=d,F(g=p=t)&&g.hasEventListeners("PreProcess")&&!b.no_events?((g,b,v)=>{let C;const w=g.dom;let E=b.cloneNode(!0);const k=document.implementation;if(k.createHTMLDocument){const x=k.createHTMLDocument("");X.each("BODY"===E.nodeName?E.childNodes:[E],O=>{x.body.appendChild(x.importNode(O,!0))}),E="BODY"!==E.nodeName?x.body.firstChild:x.body,C=w.doc,w.doc=x}return O={...v,node:E},g.dispatch("PreProcess",O),C&&(w.doc=C),E;var O})(p,f,h):f),u=((p,f,h)=>{const g=Sr(h.getInner?f.innerHTML:p.getOuterHTML(f));return h.selection||Si(S(f))?g:X.trim(g)})(o,c,d),m=((p,f,h)=>{const g=h.selection?{forced_root_block:!1,...h}:h,b=p.parse(f,g);return(v=>{const C=E=>"br"===(null==E?void 0:E.name),w=v.lastChild;if(C(w)){const E=w.prev;C(E)&&(w.remove(),E.remove())}})(b),b})(s,u,d);var p,f,h,g,b;return"tree"===d.format?m:((p,f,h,g,b)=>{var E;return((C,w,E)=>{return!w.no_events&&C?(x=C,O={...w,content:E},x.dispatch("PostProcess",O)).content:E;var x,O})(p,b,(E=g,Kr(f,h).serialize(E)))})(t,r,a,m,d)},addRules:a.addValidElements,setRules:a.setValidElements,addTempAttr:ce(pN,s,n),getTempAttrs:ee(n),getNodeFilters:s.getNodeFilters,getAttributeFilters:s.getAttributeFilters,removeNodeFilter:s.removeNodeFilter,removeAttributeFilter:s.removeAttributeFilter};var i,l,d})(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},hm=(e,t,n={})=>{const r=(o=n,a=t,{format:"html",...o,set:!0,content:a});var o,a;return lm(e,r).map(o=>{const a=(i=o.content,l=o,pm(e).editor.setContent(i,l));var i,l;return dm(e,a.html,o),a.content}).getOr(t)},bN="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),vN="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),yN="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),Iy=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],My=(e,t)=>{const n=Re(t,r=>Ie(e,r));return U(n)},Fy=(e,t)=>{const n=X.makeMap(e.plugins," "),r=Re(t,o=>Ie(n,o));return U(r)},xN=e=>bt(Iy,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),Sl=et.DOM,_l=e=>y.from(e).each(t=>t.destroy()),Al=(()=>{const e={};return{add:(t,n)=>{e[t]=n},get:t=>e[t]?e[t]:{icons:{}},has:t=>Ie(e,t)}})(),Na=Kt.ModelManager,Uy=(e,t)=>t.dom[e],$y=(e,t)=>parseInt(tr(t,e),10),SN=ce(Uy,"clientWidth"),_N=ce(Uy,"clientHeight"),AN=ce($y,"margin-top"),NN=ce($y,"margin-left"),zy=e=>{const t=[],n=()=>{const l=e.theme;return l&&l.getNotificationManagerImpl?l.getNotificationManagerImpl():(()=>{const d=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:d,close:d,getArgs:d}})()},r=()=>y.from(t[0]),o=()=>{V(t,l=>{l.reposition()})},a=l=>{ao(t,d=>d===l).each(d=>{t.splice(d,1)})},s=(l,d=!0)=>{return e.removed||!(u=(c=e).inline?c.getBody():c.getContentAreaContainer(),y.from(u).map(S)).map(aa).getOr(!1)?{}:(d&&e.dispatch("BeforeOpenNotification",{notification:l}),bt(t,c=>{return!((u=n().getArgs(c)).type!==(m=l).type||u.text!==m.text||u.progressBar||u.timeout||m.progressBar||m.timeout);var u,m}).getOrThunk(()=>{e.editorManager.setActive(e);const c=n().open(l,()=>{a(c),o(),r().fold(()=>e.focus(),u=>zb(S(u.getEl())))});return(u=>{t.push(u)})(c),o(),e.dispatch("OpenNotification",{notification:{...c}}),c}));var c,u},i=ee(t);return(l=e).on("SkinLoaded",()=>{const d=iS(l);d&&s({text:d,type:"warning",timeout:0},!1),o()}),l.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(o)}),l.on("remove",()=>{V(t.slice(),d=>{n().close(d)})}),{open:s,close:()=>{r().each(l=>{n().close(l),a(l),o()})},getNotifications:i};var l},Ra=Kt.PluginManager,jo=Kt.ThemeManager,jy=e=>{let t=[];const n=()=>{const s=e.theme;return s&&s.getWindowManagerImpl?s.getWindowManagerImpl():(()=>{const i=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:i,openUrl:i,alert:i,confirm:i,close:i}})()},r=(s,i)=>(...l)=>i?i.apply(s,l):void 0,o=s=>{e.dispatch("CloseWindow",{dialog:s}),t=Re(t,i=>i!==s),0===t.length&&e.focus()},a=s=>{e.editorManager.setActive(e),nu(e),e.ui.show();const i=s();return t.push(l=i),e.dispatch("OpenWindow",{dialog:l}),i;var l};return e.on("remove",()=>{V(t,s=>{n().close(s)})}),{open:(s,i)=>a(()=>n().open(s,i,o)),openUrl:s=>a(()=>n().openUrl(s,o)),alert:(s,i,l)=>{const d=n();d.alert(s,r(l||d,i))},confirm:(s,i,l)=>{const d=n();d.confirm(s,r(l||d,i))},close:()=>{y.from(t[t.length-1]).each(s=>{n().close(s),o(s)})}}},Hy=(e,t)=>{e.notificationManager.open({type:"error",text:t})},Nl=(e,t)=>{e._skinLoaded?Hy(e,t):e.on("SkinLoaded",()=>{Hy(e,t)})},js=(e,t,n)=>{hb(e,t,{message:n}),console.error(n)},Hs=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,Rl=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},qy=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",r=`content${e.editorManager.suffix}.css`;return ze(t,o=>/^[a-z0-9\-]+$/i.test(o)&&!e.inline?`${n}/${o}/${r}`:e.documentBaseURI.toAbsolute(o))},Vy=()=>{let e={};const t=(r,o)=>({status:r,resultUri:o}),n=r=>r in e;return{hasBlobUri:n,getResultUri:r=>{const o=e[r];return o?o.resultUri:null},isPending:r=>!!n(r)&&1===e[r].status,isUploaded:r=>!!n(r)&&2===e[r].status,markPending:r=>{e[r]=t(1,null)},markUploaded:(r,o)=>{e[r]=t(2,o)},removeFailed:r=>{delete e[r]},destroy:()=>{e={}}}};let TN=0;const Wy=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),Gy=(e,t)=>((e,t)=>{const n={},r=(l,d)=>new Promise((c,u)=>{const m=new XMLHttpRequest;m.open("POST",t.url),m.withCredentials=t.credentials,m.upload.onprogress=f=>{d(f.loaded/f.total*100)},m.onerror=()=>{u("Image upload failed due to a XHR Transport error. Code: "+m.status)},m.onload=()=>{if(m.status<200||m.status>=300)return void u("HTTP Error: "+m.status);const f=JSON.parse(m.responseText);var h,g;f&&ae(f.location)?c((g=f.location,(h=t.basePath)?h.replace(/\/$/,"")+"/"+g.replace(/^\//,""):g)):u("Invalid JSON: "+m.responseText)};const p=new FormData;p.append("file",l.blob(),l.filename()),m.send(p)}),o=we(t.handler)?t.handler:r,a=(l,d)=>({url:d,blobInfo:l,status:!0}),s=(l,d)=>({url:"",blobInfo:l,status:!1,error:d}),i=(l,d)=>{X.each(n[l],c=>{c(d)}),delete n[l]};return{upload:(l,d)=>{return t.url||o!==r?(u=d,c=X.grep(c=l,m=>!e.isUploaded(m.blobUri())),Promise.all(X.map(c,m=>{return e.isPending(m.blobUri())?(p=>{const f=p.blobUri();return new Promise(h=>{n[f]=n[f]||[],n[f].push(h)})})(m):(f=o,h=u,e.markPending((p=m).blobUri()),new Promise(g=>{let b,v;try{const C=()=>{b&&(b.close(),v=Ee)},w=k=>{C(),e.markUploaded(p.blobUri(),k),i(p.blobUri(),a(p,k)),g(a(p,k))},E=k=>{C(),e.removeFailed(p.blobUri()),i(p.blobUri(),s(p,k)),g(s(p,k))};v=k=>{k<0||k>100||y.from(b).orThunk(()=>y.from(h).map(Qt)).each(x=>{b=x,x.progressBar.value(k)})},f(p,v).then(w,k=>{E(ae(k)?{message:k}:k)})}catch(C){g(s(p,C))}}));var p,f,h}))):new Promise(c=>{c([])});var c,u}}})(t,{url:Kx(e),basePath:Yx(e),credentials:Xx(e),handler:Zx(e)}),Ky={remove_similar:!0,inherit:!1},Ta={selector:"td,th",...Ky},DN={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...Ta},tablecellverticalalign:{styles:{"vertical-align":"%value"},...Ta},tablecellbordercolor:{styles:{borderColor:"%value"},...Ta},tablecellclass:{classes:["%value"],...Ta},tableclass:{selector:"table",classes:["%value"],...Ky},tablecellborderstyle:{styles:{borderStyle:"%value"},...Ta},tablecellborderwidth:{styles:{borderWidth:"%value"},...Ta}},LN=ee(DN),Tl=X.each,Nn=et.DOM,bm=e=>F(e)&&Fe(e),Yy=(e,t)=>{const n=t&&t.schema||jr({}),r=s=>{const i=ae(s)?{name:s,classes:[],attrs:{}}:s,l=Nn.create(i.name);return d=l,(c=i).classes.length>0&&Nn.addClass(d,c.classes.join(" ")),Nn.setAttribs(d,c.attrs),l;var d,c},o=(s,i,l)=>{let d;const c=i[0],u=bm(c)?c.name:void 0,m=((h,g)=>{const b=n.getElementRule(h.nodeName.toLowerCase()),v=null==b?void 0:b.parentsRequired;return!(!v||!v.length)&&(g&&qe(v,g)?g:v[0])})(s,u);if(m)u===m?(d=c,i=i.slice(1)):d=m;else if(c)d=c,i=i.slice(1);else if(!l)return s;const p=d?r(d):Nn.create("div");p.appendChild(s),l&&X.each(l,h=>{const g=r(h);p.insertBefore(g,s)});const f=bm(d)?d.siblings:void 0;return o(p,i,f)},a=Nn.create("div");if(e.length>0){const s=e[0],i=r(s),l=bm(s)?s.siblings:void 0;a.appendChild(o(i,e.slice(1),l))}return a},PN=e=>{let t="div";const n={name:t,classes:[],attrs:{},selector:e=X.trim(e)};return"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(r,o,a,s,i)=>{switch(o){case"#":n.attrs.id=a;break;case".":n.classes.push(a);break;case":":-1!==X.inArray("checked disabled enabled read-only required".split(" "),a)&&(n.attrs[a]=a)}if("["===s){const l=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);l&&(n.attrs[l[1]]=l[2])}return""})),n.name=t||"div",n},IN=(e,t)=>{let n="",r=uS(e);if(""===r)return"";const o=p=>ae(p)?p.replace(/%(\w+)/g,""):"",a=(p,f)=>Nn.getStyle(null!=f?f:e.getBody(),p,!0);if(ae(t)){const p=e.formatter.get(t);if(!p)return"";t=p[0]}if("preview"in t){const p=t.preview;if(!1===p)return"";r=p||r}let s,i=t.block||t.inline||"span";const l=ae(d=t.selector)?(d=(d=d.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),X.map(d.split(/(?:>|\s+(?![^\[\]]+\]))/),p=>{const f=X.map(p.split(/(?:~\+|~|\+)/),PN),h=f.pop();return f.length&&(h.siblings=f),h}).reverse()):[];var d;l.length>0?(l[0].name||(l[0].name=i),i=t.selector,s=Yy(l,e)):s=Yy([i],e);const c=Nn.select(i,s)[0]||s.firstChild;Tl(t.styles,(p,f)=>{const h=o(p);h&&Nn.setStyle(c,f,h)}),Tl(t.attributes,(p,f)=>{const h=o(p);h&&Nn.setAttrib(c,f,h)}),Tl(t.classes,p=>{const f=o(p);Nn.hasClass(c,f)||Nn.addClass(c,f)}),e.dispatch("PreviewFormats"),Nn.setStyles(s,{position:"absolute",left:-65535}),e.getBody().appendChild(s);const u=a("fontSize"),m=/px$/.test(u)?parseInt(u,10):0;return Tl(r.split(" "),p=>{let f=a(p,c);if(!("background-color"===p&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(f)&&(f=a(p),"#ffffff"===Xi(f).toLowerCase())||"color"===p&&"#000000"===Xi(f).toLowerCase())){if("font-size"===p&&/em|%$/.test(f)){if(0===m)return;f=parseFloat(f)/(/%$/.test(f)?100:1)*m+"px"}"border"===p&&f&&(n+="padding:0 2px;"),n+=p+":"+f+";"}}),e.dispatch("AfterPreviewFormats"),Nn.remove(s),n},Xy=e=>{const t=(r=>{const o={},a=(s,i)=>{s&&(ae(s)?(q(i)||(i=[i]),V(i,l=>{ne(l.deep)&&(l.deep=!Sn(l)),ne(l.split)&&(l.split=!Sn(l)||xt(l)),ne(l.remove)&&Sn(l)&&!xt(l)&&(l.remove="none"),Sn(l)&&xt(l)&&(l.mixed=!0,l.block_expand=!0),ae(l.classes)&&(l.classes=l.classes.split(/\s+/))}),o[s]=i):ve(s,(l,d)=>{a(d,l)}))};return a((s=>{const i=s.dom,l=s.schema.type,d={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:c=>{i.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:c=>{i.setStyle(c,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const c={inline:"span",styles:{textDecoration:"line-through"},exact:!0},u={inline:"strike",remove:"all",preserve_attributes:["class","style"]},m={inline:"s",remove:"all",preserve_attributes:["class","style"]};return"html4"!==l?[m,c,u]:[c,m,u]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(c,u,m)=>ue(c)&&c.hasAttribute("href"),onformat:(c,u,m)=>{X.each(m,(p,f)=>{i.setAttrib(c,f,p)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":c=>{var u;return null!==(u=null==c?void 0:c.customValue)&&void 0!==u?u:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return X.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),c=>{d[c]={block:c,remove:"all"}}),d})(r)),a(LN()),a(cS(r)),{get:s=>F(s)?o[s]:o,has:s=>Ie(o,s),register:a,unregister:s=>(s&&o[s]&&delete o[s],o)}})(e),n=At({});return(r=>{r.addShortcut("meta+b","","Bold"),r.addShortcut("meta+i","","Italic"),r.addShortcut("meta+u","","Underline");for(let o=1;o<=6;o++)r.addShortcut("access+"+o,"",["FormatBlock",!1,"h"+o]);r.addShortcut("access+7","",["FormatBlock",!1,"p"]),r.addShortcut("access+8","",["FormatBlock",!1,"div"]),r.addShortcut("access+9","",["FormatBlock",!1,"address"])})(e),(r=e).on("mouseup keydown",o=>{var a;((s,i,l)=>{const d=s.selection,c=s.getBody();Vu(s,null,l),8!==i&&46!==i||!d.isCollapsed()||d.getStart().innerHTML!==_a||Vu(s,To(c,d.getStart())),37!==i&&39!==i||Vu(s,To(c,d.getStart()))})(r,o.keyCode,(a=r.selection.getRng().endContainer,K(a)&&kd(a.data,_t)))}),cr(e)||((r,o)=>{r.set({}),o.on("NodeChange",a=>{Hv(o,a.element,r.get())}),o.on("FormatApply FormatRemove",a=>{const s=y.from(a.node).map(i=>Ns(i)?i:i.startContainer).bind(i=>ue(i)?y.some(i):y.from(i.parentElement)).getOrThunk(()=>$v(o));Hv(o,s,r.get())})})(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(r,o,a)=>{var i,l,d;i=r,l=o,d=a,pt(e).formatter.apply(i,l,d)},remove:(r,o,a,s)=>{var l,d,c,u;l=r,d=o,c=a,u=s,pt(e).formatter.remove(l,d,c,u)},toggle:(r,o,a)=>{var i,l,d;i=r,l=o,d=a,pt(e).formatter.toggle(i,l,d)},match:(r,o,a,s)=>{return l=r,d=o,c=a,u=s,pt(e).formatter.match(l,d,c,u);var l,d,c,u},closest:r=>{return a=r,pt(e).formatter.closest(a);var a},matchAll:(r,o)=>{return s=r,i=o,pt(e).formatter.matchAll(s,i);var s,i},matchNode:(r,o,a,s)=>{return l=r,d=o,c=a,u=s,pt(e).formatter.matchNode(l,d,c,u);var l,d,c,u},canApply:r=>{return a=r,pt(e).formatter.canApply(a);var a},formatChanged:(r,o,a,s)=>{return l=n,d=r,c=o,u=a,m=s,pt(e).formatter.formatChanged(l,d,c,u,m);var l,d,c,u,m},getCssText:ce(IN,e)};var r},Zy=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},Qy=e=>{const t=Hr(),n=At(0),r=At(0),o={data:[],typing:!1,beforeChange:()=>{var s,i;s=n,i=t,pt(e).undoManager.beforeChange(s,i)},add:(a,s)=>{return l=o,d=r,c=n,u=t,m=a,p=s,pt(e).undoManager.add(l,d,c,u,m,p);var l,d,c,u,m,p},dispatchChange:()=>{e.setDirty(!0);const a=kl(e);a.bookmark=vc(e.selection),e.dispatch("change",{level:a,lastLevel:Y(o.data,r.get()).getOrUndefined()})},undo:()=>{return s=o,i=n,l=r,pt(e).undoManager.undo(s,i,l);var s,i,l},redo:()=>{return s=r,i=o.data,pt(e).undoManager.redo(s,i);var s,i},clear:()=>{var s,i;s=o,i=r,pt(e).undoManager.clear(s,i)},reset:()=>{var s;s=o,pt(e).undoManager.reset(s)},hasUndo:()=>{return s=o,i=r,pt(e).undoManager.hasUndo(s,i);var s,i},hasRedo:()=>{return s=o,i=r,pt(e).undoManager.hasRedo(s,i);var s,i},transact:a=>{return i=o,l=n,d=a,pt(e).undoManager.transact(i,l,d);var i,l,d},ignore:a=>{var i,l;i=n,l=a,pt(e).undoManager.ignore(i,l)},extra:(a,s)=>{var l,d,c,u;l=o,d=r,c=a,u=s,pt(e).undoManager.extra(l,d,c,u)}};return cr(e)||((a,s,i)=>{const l=At(!1),d=c=>{xl(s,!1,i),s.add({},c)};a.on("init",()=>{s.add()}),a.on("BeforeExecCommand",c=>{Zy(c.command)||(Ay(s,i),s.beforeChange())}),a.on("ExecCommand",c=>{Zy(c.command)||d(c)}),a.on("ObjectResizeStart cut",()=>{s.beforeChange()}),a.on("SaveContent ObjectResized blur",d),a.on("dragend",d),a.on("keyup",c=>{const u=c.keyCode;if(c.isDefaultPrevented())return;const m=He.os.isMacOS()&&"Meta"===c.key;(u>=33&&u<=36||u>=37&&u<=40||45===u||c.ctrlKey||m)&&(d(),a.nodeChanged()),46!==u&&8!==u||a.nodeChanged(),l.get()&&s.typing&&!fm(kl(a),s.data[0])&&(a.isDirty()||a.setDirty(!0),a.dispatch("TypingUndo"),l.set(!1),a.nodeChanged())}),a.on("keydown",c=>{const u=c.keyCode;if(!c.isDefaultPrevented()){if(!(u>=33&&u<=36||u>=37&&u<=40||45===u))return!(u<16||u>20)||224===u||91===u||s.typing||c.ctrlKey&&!c.altKey||c.metaKey?void((He.os.isMacOS()?c.metaKey:c.ctrlKey&&!c.altKey)&&s.beforeChange()):(s.beforeChange(),xl(s,!0,i),s.add({},c),void l.set(!0));s.typing&&d(c)}}),a.on("mousedown",c=>{s.typing&&d(c)}),a.on("input",c=>{var u,m;c.inputType&&("insertReplacementText"===c.inputType||"insertText"===(u=c).inputType&&null===u.data||"insertFromPaste"===(m=c).inputType||"insertFromDrop"===m.inputType)&&d(c)}),a.on("AddUndo Undo Redo ClearUndos",c=>{c.isDefaultPrevented()||a.nodeChanged()})})(e,o,n),(a=e).addShortcut("meta+z","","Undo"),a.addShortcut("meta+y,meta+shift+z","","Redo"),o;var a},MN=[9,27,ge.HOME,ge.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,ge.DOWN,ge.UP,ge.LEFT,ge.RIGHT].concat(He.browser.isFirefox()?[224]:[]),Jy="data-mce-placeholder",eC=e=>"keydown"===e.type||"keyup"===e.type,tC=e=>{const t=e.keyCode;return t===ge.BACKSPACE||t===ge.DELETE},FN=(e,t)=>({from:e,to:t}),vm=(e,t)=>{const n=S(e),r=S(t.container());return ul(n,r).map(o=>({block:o,position:t}))},nC=(e,t)=>fo(t,n=>os(n)||$n(n.dom),n=>Ge(n,e)).filter(dn).getOr(e),rC=e=>{const t=(n=>{const r=Ft(n);return ao(r,wn).fold(ee(r),o=>r.slice(0,o))})(e);return V(t,lt),t},oC=(e,t)=>{const n=Nr(t,e);return bt(n.reverse(),r=>Ct(r)).each(lt)},UN=(e,t,n,r)=>{if(Ct(n))return Ur(n),Xt(n.dom);0===Re(Cg(r),a=>!Ct(a)).length&&Ct(t)&&pn(r,Dt("br"));const o=rn(n.dom,P.before(r.dom));return V(rC(t),a=>{pn(r,a)}),oC(e,t),o},$N=(e,t,n)=>{if(Ct(n)){if(Ct(t)){const a=oo((s=>{const i=(l,d)=>Bd(l).fold(()=>d,c=>xi(c)?i(c,d.concat(xo(c))):d);return i(s,[])})(n),(s,i)=>(Og(s,i),i),_i());ia(t),yt(t,a)}return lt(n),Xt(t.dom)}const r=Pn(n.dom);return V(rC(t),o=>{yt(n,o)}),oC(e,t),r},aC=(e,t)=>{ya(e,t.dom).bind(n=>y.from(n.getNode())).map(S).filter(vo).each(lt)},sC=(e,t,n)=>{return aC(!0,t),aC(!1,n),(r=t,o=n,Cr(o,r)?((a,s)=>{const i=Nr(s,a);return y.from(i[i.length-1])})(o,r):y.none()).fold(ce($N,e,t,n),ce(UN,e,t,n));var r,o},iC=(e,t,n,r)=>t?sC(e,r,n):sC(e,n,r),ym=(e,t)=>{const n=S(e.getBody());return(o=n.dom,a=t,s=e.selection.getRng(),s.collapsed?((i,l,d)=>{const c=vm(i,P.fromRangeStart(d)),u=c.bind(m=>kn(l,i,m.position).bind(p=>vm(i,p).map(f=>{return h=i,g=l,ft((b=f).position.getNode())&&!Ct(b.block)?ya(!1,b.block.dom).bind(v=>v.isEqual(b.position)?kn(g,h,v).bind(C=>vm(h,C)):y.some(b)).getOr(b):b;var h,g,b})));return en(c,u,FN).filter(m=>{return!Ge((p=m).from.block,p.to.block)&&((p,f)=>{const h=S(p);return Ge(nC(h,f.from.block),nC(h,f.to.block))})(i,m)&&(p=>!1===at(p.from.block.dom)&&!1===at(p.to.block.dom))(m)&&(p=>{const f=h=>qg(h)||Zd(h.dom);return f(p.from.block)&&f(p.to.block)})(m);var p})})(o,a,s):y.none()).map(o=>()=>{iC(n,t,o.from.block,o.to.block).each(a=>{e.selection.setRng(a.toRange())})});var o,a,s},lC=(e,t)=>{const n=S(t),r=ce(Ge,e);return Er(n,os,r).isSome()},Cm=(e,t)=>e.selection.isCollapsed()?y.none():(e=>{const t=S(e.getBody());return((n,r)=>{const o=rn(n.dom,P.fromRangeStart(r)).isNone(),a=Yt(n.dom,P.fromRangeEnd(r)).isNone();return!(lC(s=n,(i=r).startContainer)||lC(s,i.endContainer))&&o&&a;var s,i})(t,e.selection.getRng())?(n=e,y.some(()=>{n.setContent(""),n.selection.setCursorLocation()})):((n,r)=>{const o=r.getRng();return en(ul(n,S(o.startContainer)),ul(n,S(o.endContainer)),(a,s)=>Ge(a,s)?y.none():y.some(()=>{o.deleteContents(),iC(n,!0,a,s).each(i=>{r.setRng(i.toRange())})})).getOr(y.none())})(t,e.selection);var n})(e),Rr=(e,t,n,r,o)=>y.from(t._selectionOverrides.showCaret(e,n,r,o)),qs=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?y.none():y.some((n=>{const r=n.ownerDocument.createRange();return r.selectNode(n),r})(t)),wm=(e,t,n)=>t.collapsed?((r,o,a)=>{const s=Ac(1,r.getBody(),o),i=P.fromRangeStart(s),l=i.getNode();if(Cs(l))return Rr(1,r,l,!i.isAtEnd(),!1);const d=i.getNode(!0);if(Cs(d))return Rr(1,r,d,!1,!1);const c=Fo(r.dom.getRoot(),i.getNode());return Cs(c)?Rr(1,r,c,!1,a):y.none()})(e,t,n).getOr(t):t,jN=e=>Xr(e)||Ds(e),HN=e=>Zr(e)||Ls(e),dC=(e,t,n,r,o,a)=>{var s,i;Rr(r,e,a.getNode(!o),o,!0).each(s=>{if(t.collapsed){const i=t.cloneRange();o?i.setEnd(s.startContainer,s.startOffset):i.setStart(s.endContainer,s.endOffset),i.deleteContents()}else t.deleteContents();e.selection.setRng(s)}),s=e.dom,K(i=n)&&0===i.data.length&&s.remove(i)},Em=(e,t)=>((n,r)=>{const o=n.selection.getRng();if(!K(o.commonAncestorContainer))return y.none();const a=r?Nt.Forwards:Nt.Backwards,s=sr(n.getBody()),i=ce(Nc,r?s.next:s.prev),l=r?jN:HN,d=Ss(a,n.getBody(),o),c=i(d),u=c&&An(r,c);if(!u||!Wi(d,u))return y.none();if(l(u))return y.some(()=>dC(n,o,d.getNode(),a,r,u));const m=i(u);return m&&l(m)&&Wi(u,m)?y.some(()=>dC(n,o,d.getNode(),a,r,m)):y.none()})(e,t),km=(e,t)=>{const n=e.getBody();return t?Xt(n).filter(Xr):Pn(n).filter(Zr)},xm=e=>{const t=e.selection.getRng();return!t.collapsed&&(km(e,!0).exists(n=>n.isEqual(P.fromRangeStart(t)))||km(e,!1).exists(n=>n.isEqual(P.fromRangeEnd(t))))},Rn=rr([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),cC=(e,t,n)=>kn(t,e,n).bind(r=>{return o=r.getNode(),F(o)&&(os(S(o))||rs(S(o)))||((a,s,i,l)=>{const d=c=>xi(S(c))&&!or(i,l,a);return Bh(!s,i).fold(()=>Bh(s,l).fold($e,d),d)})(e,t,n,r)?y.none():t&&at(r.getNode())||!t&&at(r.getNode(!0))?((a,s,i,l)=>{const d=l.getNode(!s);return ul(S(a),S(i.getNode())).map(c=>Ct(c)?Rn.remove(c.dom):Rn.moveToElement(d)).orThunk(()=>y.some(Rn.moveToElement(d)))})(e,t,n,r):t&&Zr(n)||!t&&Xr(n)?y.some(Rn.moveToPosition(r)):y.none();var o}),uC=(e,t)=>y.from(Fo(e.getBody(),t)),mC=e=>{const t=e.dom,n=e.selection,r=Fo(e.getBody(),n.getNode());if($n(r)&&t.isBlock(r)&&t.isEmpty(r)){const o=t.create("br",{"data-mce-bogus":"1"});t.setHTML(r,""),r.appendChild(o),n.setRng(P.before(o).toRange())}return!0},Sm=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=e.selection.getNode();return uC(e,n).filter(at).fold(()=>((r,o,a)=>{const s=Ac(o?1:-1,r,a),i=P.fromRangeStart(s),l=S(r);return!o&&Zr(i)?y.some(Rn.remove(i.getNode(!0))):o&&Xr(i)?y.some(Rn.remove(i.getNode())):!o&&Xr(i)&&hu(l,i)?rA(l,i).map(d=>Rn.remove(d.getNode())):o&&Zr(i)&&pu(l,i)?oA(l,i).map(d=>Rn.remove(d.getNode())):(d=r,((m,p)=>{const f=p.getNode(!m),h=m?"after":"before";return ue(f)&&f.getAttribute("data-mce-caret")===h})(c=o,u=i)?(m=c,p=u.getNode(!c),ie(p)?y.none():m&&at(p.nextSibling)?y.some(Rn.moveToElement(p.nextSibling)):!m&&at(p.previousSibling)?y.some(Rn.moveToElement(p.previousSibling)):y.none()).orThunk(()=>cC(d,c,u)):cC(d,c,u).bind(m=>((p,f,h)=>h.fold(g=>y.some(Rn.remove(g)),g=>y.some(Rn.moveToElement(g)),g=>or(f,g,p)?y.none():y.some(Rn.moveToPosition(g))))(d,u,m)));var d,c,u,m,p})(e.getBody(),t,e.selection.getRng()).map(r=>()=>{return r.fold((o=e,a=t,s=>(o._selectionOverrides.hideFakeCaret(),Io(o,a,S(s)),!0)),((o,a)=>s=>{const i=a?P.before(s):P.after(s);return o.selection.setRng(i.toRange()),!0})(e,t),(o=>a=>(o.selection.setRng(a.toRange()),!0))(e));var o,a}),()=>y.some(Ee))})(e,t):((n,r)=>{const o=n.selection.getNode();return at(o)&&!Ei(o)?uC(n,o.parentNode).filter(at).fold(()=>y.some(()=>{var a;a=S(n.getBody()),V(jt(a,".mce-offscreen-selection"),lt),Io(n,r,S(n.selection.getNode())),Eu(n)}),()=>y.some(Ee)):xm(n)?y.some(()=>{$0(n,n.selection.getRng(),S(n.getBody()))}):y.none()})(e,t),_m=(e,t)=>e.selection.isCollapsed()?((n,r)=>{const o=P.fromRangeStart(n.selection.getRng());return kn(r,n.getBody(),o).filter(a=>r?Q_(a):J_(a)).bind(a=>_c(r?0:-1,a)).map(a=>()=>n.selection.select(a))})(e,t):y.none(),Oa=K,fC=e=>Oa(e)&&e.data[0]===Ht,gC=e=>Oa(e)&&e.data[e.data.length-1]===Ht,pC=e=>{var t;return(null!==(t=e.ownerDocument)&&void 0!==t?t:document).createTextNode(Ht)},Ol=(e,t)=>e?(n=>{var r;if(Oa(n.previousSibling))return gC(n.previousSibling)||n.previousSibling.appendData(Ht),n.previousSibling;if(Oa(n))return fC(n)||n.insertData(0,Ht),n;{const o=pC(n);return null===(r=n.parentNode)||void 0===r||r.insertBefore(o,n),o}})(t):(n=>{var r,o;if(Oa(n.nextSibling))return fC(n.nextSibling)||n.nextSibling.insertData(0,Ht),n.nextSibling;if(Oa(n))return gC(n)||n.appendData(Ht),n;{const a=pC(n);return n.nextSibling?null===(r=n.parentNode)||void 0===r||r.insertBefore(a,n.nextSibling):null===(o=n.parentNode)||void 0===o||o.appendChild(a),a}})(t),VN=ce(Ol,!0),WN=ce(Ol,!1),hC=(e,t)=>K(e.container())?Ol(t,e.container()):Ol(t,e.getNode()),bC=(e,t)=>{const n=t.get();return n&&e.container()===n&&$r(n)},Am=(e,t)=>t.fold(n=>{No(e.get());const r=VN(n);return e.set(r),y.some(P(r,r.length-1))},n=>Xt(n).map(r=>{if(bC(r,e)){const o=e.get();return P(o,1)}{No(e.get());const o=hC(r,!0);return e.set(o),P(o,1)}}),n=>Pn(n).map(r=>{if(bC(r,e)){const o=e.get();return P(o,o.length-1)}{No(e.get());const o=hC(r,!1);return e.set(o),P(o,o.length-1)}}),n=>{No(e.get());const r=WN(n);return e.set(r),y.some(P(r,1))}),vC=(e,t)=>{for(let n=0;n<e.length;n++){const r=e[n].apply(null,t);if(r.isSome())return r}return y.none()},Zt=rr([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),yC=(e,t)=>Wr(t,e)||e,GN=(e,t,n)=>{const r=P0(n),o=yC(t,r.container());return Qr(e,o,r).fold(()=>Yt(o,r).bind(ce(Qr,e,o)).map(a=>Zt.before(a)),y.none)},KN=(e,t)=>null===To(e,t),CC=(e,t,n)=>Qr(e,t,n).filter(ce(KN,t)),YN=(e,t,n)=>{const r=I0(n);return CC(e,t,r).bind(o=>rn(o,r).isNone()?y.some(Zt.start(o)):y.none())},XN=(e,t,n)=>{const r=P0(n);return CC(e,t,r).bind(o=>Yt(o,r).isNone()?y.some(Zt.end(o)):y.none())},ZN=(e,t,n)=>{const r=I0(n),o=yC(t,r.container());return Qr(e,o,r).fold(()=>rn(o,r).bind(ce(Qr,e,o)).map(a=>Zt.after(a)),y.none)},wC=e=>!L0(Nm(e)),ur=(e,t,n)=>vC([GN,YN,XN,ZN],[e,t,n]).filter(wC),Nm=e=>e.fold(ut,ut,ut,ut),EC=e=>e.fold(ee("before"),ee("start"),ee("end"),ee("after")),Bl=e=>e.fold(Zt.before,Zt.before,Zt.after,Zt.after),Rm=e=>e.fold(Zt.start,Zt.start,Zt.end,Zt.end),QN=(e,t,n,r,o,a)=>en(Qr(t,n,r),Qr(t,n,o),(s,i)=>s!==i&&((l,d,c)=>{const u=Wr(d,l),m=Wr(c,l);return F(u)&&u===m})(n,s,i)?Zt.after(e?s:i):a).getOr(a),JN=(e,t)=>e.fold(rt,n=>{return o=t,!(EC(r=n)===EC(o)&&Nm(r)===Nm(o));var r,o}),eR=(e,t)=>e?t.fold(St(y.some,Zt.start),y.none,St(y.some,Zt.after),y.none):t.fold(y.none,St(y.some,Zt.before),y.none,St(y.some,Zt.end)),kC=(e,t,n)=>{const r=e?1:-1;return t.setRng(P(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0};var mr;!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(mr||(mr={}));const Dl=(e,t)=>e===Nt.Backwards?so(t):t,tR=(e,t,n)=>e===Nt.Forwards?t.next(n):t.prev(n),nR=(e,t,n,r)=>ft(r.getNode(t===Nt.Forwards))?mr.Br:!1===or(n,r)?mr.Block:mr.Wrap,xC=(e,t,n,r)=>{const o=sr(n);let a=r;const s=[];for(;a;){const i=tR(t,o,a);if(!i)break;if(ft(i.getNode(!1)))return t===Nt.Forwards?{positions:Dl(t,s).concat([i]),breakType:mr.Br,breakAt:y.some(i)}:{positions:Dl(t,s),breakType:mr.Br,breakAt:y.some(i)};if(i.isVisible()){if(e(a,i)){const l=nR(0,t,a,i);return{positions:Dl(t,s),breakType:l,breakAt:y.some(i)}}s.push(i),a=i}else a=i}return{positions:Dl(t,s),breakType:mr.Eol,breakAt:y.none()}},SC=(e,t,n,r)=>t(n,r).breakAt.map(o=>{const a=t(n,o).positions;return e===Nt.Backwards?a.concat(o):[o].concat(a)}).getOr([]),Tm=(e,t)=>Gt(e,(n,r)=>n.fold(()=>y.some(r),o=>en(te(o.getClientRects()),te(r.getClientRects()),(a,s)=>{const i=Math.abs(t-a.left);return Math.abs(t-s.left)<=i?r:o}).or(n)),y.none()),Ll=(e,t)=>te(t.getClientRects()).bind(n=>Tm(e,n.left)),Vs=ce(xC,P.isAbove,-1),Ws=ce(xC,P.isBelow,1),_C=ce(SC,-1,Vs),AC=ce(SC,1,Ws),rR=(e,t)=>Ll(_C(e,t),t),oR=(e,t)=>Ll(AC(e,t),t),aR=at,NC=(e,t)=>Math.abs(e.left-t),RC=(e,t)=>Math.abs(e.right-t),TC=(e,t)=>mi(e,(n,r)=>{const o=Math.min(NC(n,t),RC(n,t)),a=Math.min(NC(r,t),RC(r,t));return a===o&&Zo(r,"node")&&aR(r.node)||a<o?r:n}),sR=e=>{const t=n=>ze(n,r=>{const o=_o(r);return o.node=e,o});if(ue(e))return t(e.getClientRects());if(K(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}return[]},OC=e=>gn(e,sR);var Gs;!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(Gs||(Gs={}));const BC=(e,t,n,r,o,a)=>{let s=0;const i=[],l=u=>{let m=OC([u]);-1===e&&(m=m.reverse());for(let p=0;p<m.length;p++){const f=m[p];if(!n(f,d)){if(i.length>0&&t(f,lo(i))&&s++,f.line=s,o(f))return!0;i.push(f)}}return!1},d=lo(a.getClientRects());if(!d)return i;const c=a.getNode();return c&&(l(c),((u,m,p,f)=>{let h=f;for(;h=Es(h,u,Yg,m);)if(p(h))return})(e,r,l,c)),i},iR=ce(BC,Gs.Up,gs,ps),lR=ce(BC,Gs.Down,ps,gs),DC=e=>lo(e.getClientRects()),LC=e=>t=>t.line>e,Om=e=>t=>t.line===e,Tr=(e,t)=>{e.selection.setRng(t),Bs(e,e.selection.getRng())},Bm=(e,t,n)=>y.some(wm(e,t,n)),PC=(e,t,n,r,o,a)=>{const s=t===Nt.Forwards,i=sr(e.getBody()),l=ce(Nc,s?i.next:i.prev),d=s?r:o;if(!n.collapsed){const f=Fi(n);if(a(f))return Rr(t,e,f,t===Nt.Backwards,!1);if(xm(e)){const h=n.cloneRange();return h.collapse(t===Nt.Backwards),y.from(h)}}const c=Ss(t,e.getBody(),n);if(d(c))return qs(e,c.getNode(!s));let u=l(c);const m=Wg(n);if(!u)return m?y.some(n):y.none();if(u=An(s,u),d(u))return Rr(t,e,u.getNode(!s),s,!1);const p=l(u);return p&&d(p)&&Wi(u,p)?Rr(t,e,p.getNode(!s),s,!1):m?Bm(e,u.toRange(),!1):y.none()},IC=(e,t,n,r,o,a)=>{const s=Ss(t,e.getBody(),n),i=lo(s.getClientRects()),l=t===Gs.Down,d=e.getBody();if(!i)return y.none();if(xm(e)){const h=l?P.fromRangeEnd(n):P.fromRangeStart(n);return(l?oR:rR)(d,h).orThunk(()=>y.from(h)).map(g=>g.toRange())}const c=(l?lR:iR)(d,LC(1),s),u=Re(c,Om(1)),m=i.left,p=TC(u,m);if(p&&a(p.node)){const h=Math.abs(m-p.left),g=Math.abs(m-p.right);return Rr(t,e,p.node,h<g,!1)}let f;if(f=r(s)?s.getNode():o(s)?s.getNode(!0):Fi(n),f){const h=((b,v,C,w)=>{const E=sr(v);let k,x,O,I;const L=[];let _=0;1===b?(k=E.next,x=ps,O=gs,I=P.after(w)):(k=E.prev,x=gs,O=ps,I=P.before(w));const T=DC(I);do{if(!I.isVisible())continue;const N=DC(I);if(O(N,T))continue;L.length>0&&x(N,lo(L))&&_++;const B=_o(N);if(B.position=I,B.line=_,C(B))return L;L.push(B)}while(I=k(I));return L})(t,d,LC(1),f);let g=TC(Re(h,Om(1)),m);if(g||(g=lo(Re(h,Om(0))),g))return Bm(e,g.position.toRange(),!1)}return 0===u.length?Dm(e,l).filter(l?o:r).map(h=>wm(e,h.toRange(),!1)):y.none()},Dm=(e,t)=>{const n=e.selection.getRng(),r=t?P.fromRangeEnd(n):P.fromRangeStart(n),o=(a=r.container(),s=e.getBody(),Er(S(a),i=>s_(i.dom),i=>i.dom===s).map(i=>i.dom).getOr(s));var a,s;if(t){const i=Ws(o,r);return ye(i.positions)}{const i=Vs(o,r);return te(i.positions)}},MC=(e,t,n)=>Dm(e,t).filter(n).exists(r=>(e.selection.setRng(r.toRange()),!0)),Pl=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},FC=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},UC=(e,t,n)=>Am(t,n).map(r=>(Pl(e,r),n)),$C=(e,t,n)=>!!ys(e)&&((e,t,n)=>{const r=e.getBody(),o=((a,s,i)=>{const l=P.fromRangeStart(a);if(a.collapsed)return l;{const d=P.fromRangeEnd(a);return i?rn(s,d).getOr(d):Yt(s,l).getOr(l)}})(e.selection.getRng(),r,n);return((a,s,i,l)=>{const d=An(a,l),c=ur(s,i,d);return ur(s,i,d).bind(ce(eR,a)).orThunk(()=>((u,m,p,f,h)=>{const g=An(u,h);return kn(u,p,g).map(ce(An,u)).fold(()=>f.map(Bl),b=>ur(m,p,b).map(ce(QN,u,m,p,g,b)).filter(ce(JN,f))).filter(wC)})(a,s,i,c,l))})(n,ce(Mo,e),r,o).bind(a=>UC(e,t,a))})(e,t,n).isSome(),zC=(e,t,n)=>!!ys(t)&&((r,o)=>{const a=o.selection.getRng(),s=r?P.fromRangeEnd(a):P.fromRangeStart(a);return!!we(o.selection.getSel().modify)&&(r&&Vd(s)?kC(!0,o.selection,s):!(r||!Wd(s))&&kC(!1,o.selection,s))})(e,t),uR=ce(zC,!0),mR=ce(zC,!1),Il=(e,t,n)=>{if(ys(e)){const r=Dm(e,t).getOrThunk(()=>{const o=e.selection.getRng();return t?P.fromRangeEnd(o):P.fromRangeStart(o)});return ur(ce(Mo,e),e.getBody(),r).exists(o=>{const a=Bl(o);return Am(n,a).exists(s=>(Pl(e,s),!0))})}return!1},jC=(e,t)=>n=>Am(t,n).map(r=>()=>Pl(e,r)),HC=(e,t,n,r)=>{const o=e.getBody(),a=ce(Mo,e);e.undoManager.ignore(()=>{e.selection.setRng(((s,i)=>{const l=document.createRange();return l.setStart(s.container(),s.offset()),l.setEnd(i.container(),i.offset()),l})(n,r)),wu(e),ur(a,o,P.fromRangeStart(e.selection.getRng())).map(Rm).bind(jC(e,t)).each(Jt)}),e.nodeChanged()},Lm=(e,t,n)=>{if(e.selection.isCollapsed()&&ys(e)){const r=P.fromRangeStart(e.selection.getRng());return((o,a,s,i)=>{const l=(u=o.getBody(),m=i.container(),Wr(m,u)||u),d=ce(Mo,o),c=ur(d,l,i);var u,m;return c.bind(u=>s?u.fold(ee(y.some(Rm(u))),y.none,ee(y.some(Bl(u))),y.none):u.fold(y.none,ee(y.some(Bl(u))),y.none,ee(y.some(Rm(u))))).map(jC(o,a)).getOrThunk(()=>{const u=_s(s,l,i),m=u.bind(p=>ur(d,l,p));return en(c,m,()=>Qr(d,l,i).bind(p=>{return en(Xt(f=p),Pn(f),(h,g)=>{const b=An(!0,h),v=An(!1,g);return Yt(f,b).forall(C=>C.isEqual(v))}).getOr(!0)?y.some(()=>{Io(o,s,S(p))}):y.none();var f})).getOrThunk(()=>m.bind(()=>u.map(p=>()=>{s?HC(o,a,i,p):HC(o,a,p,i)})))})})(e,t,n,r)}return y.none()},qC=(e,t)=>{const n=S(e.getBody()),r=S(e.selection.getStart()),o=Nr(r,n);return ao(o,t).fold(ee(o),a=>o.slice(0,a))},fR=e=>1===Ld(e),VC=(e,t)=>{const n=ce(mv,e);return gn(t,r=>n(r)?[r.dom]:[])},WC=e=>{const t=qC(e,wn);return VC(e,t)},GC=(e,t)=>{const n=e.selection.getStart(),r=((o,a)=>{const s=a.parentElement;return ft(a)&&!W(s)&&o.dom.isEmpty(s)})(e,n)||fv(S(n))?uv(n,t):((o,a)=>{const{caretContainer:s,caretPosition:i}=cv(a);return o.insertNode(s.dom),i})(e.selection.getRng(),t);e.selection.setRng(r.toRange())},KC=e=>K(e.startContainer),Pm=(e,t)=>e.selection.isCollapsed()?((e,t)=>{const n=Re(qC(e,o=>wn(o)||Ld(o)>1),fR);return ye(n).bind(r=>{const o=P.fromRangeStart(e.selection.getRng());return F0(t,o,r.dom)&&!fv(r)?y.some(()=>((a,s,i,l)=>{const d=VC(s,l);if(0===d.length)Io(s,a,i);else{const c=uv(i.dom,d);s.selection.setRng(c.toRange())}})(t,e,r,n)):y.none()})})(e,t):(n=>{if((e=>{const t=e.selection.getRng();return 0===(n=t).startOffset&&KC(n)&&((n,r)=>{const o=r.startContainer.parentElement;return!W(o)&&mv(n,S(o))})(e,t)&&(n=>{return(o=>{const a=o.startContainer.parentNode,s=o.endContainer.parentNode;return!W(a)&&!W(s)&&a.isEqualNode(s)})(r=n)&&(o=>{const a=o.endContainer;return o.endOffset===(K(a)?a.length:a.childNodes.length)})(r)||(r=>!r.endContainer.isEqualNode(r.commonAncestorContainer))(n);var r})(t);var n})(n)){const r=WC(n);return y.some(()=>{wu(n),((o,a)=>{const s=Xo(a,WC(o));s.length>0&&GC(o,s)})(n,r)})}return y.none()})(e),Ks=e=>((t=>{const n=t.selection.getRng();return n.collapsed&&(KC(n)||t.dom.isEmpty(n.startContainer))&&!(e=>Er(e,o=>In(o.dom),wn).isSome())(S(t.selection.getStart()))})(e)&&GC(e,[]),!0),Im=(e,t,n)=>F(n)?y.some(()=>{e._selectionOverrides.hideFakeCaret(),Io(e,t,S(n))}):y.none(),Mm=(e,t)=>e.selection.isCollapsed()?((n,r)=>{const o=r?Ds:Ls,s=Ss(r?Nt.Forwards:Nt.Backwards,n.getBody(),n.selection.getRng());return o(s)?Im(n,r,s.getNode(!r)):y.from(An(r,s)).filter(i=>o(i)&&Wi(s,i)).bind(i=>Im(n,r,i.getNode(!r)))})(e,t):((n,r)=>{const o=n.selection.getNode();return nr(o)?Im(n,r,o):y.none()})(e,t),Fm=e=>fi(null!=e?e:"").getOr(0),YC=(e,t)=>(e||"table"===ot(t)?"margin":"padding")+("rtl"===tr(t,"direction")?"-right":"-left"),XC=e=>{const t=QC(e);return!e.mode.isReadOnly()&&(t.length>1||(n=e,Xn(t,o=>{const a=YC(uh(n),o),s=bi(o,a).map(Fm).getOr(0);return"false"!==n.dom.getContentEditable(o.dom)&&s>0})));var n},ZC=e=>qd(e)||rs(e),QC=e=>Re(Md(e.selection.getSelectedBlocks()),t=>!ZC(t)&&!Dn(t).exists(ZC)&&fo(t,n=>$n(n.dom)||at(n.dom)).exists(n=>$n(n.dom))),JC=(e,t)=>{var n,r;const{dom:o}=e,a=eS(e),s=null!==(r=null===(n=/[a-z%]+$/i.exec(a))||void 0===n?void 0:n[0])&&void 0!==r?r:"px",i=Fm(a),l=uh(e);V(QC(e),d=>{((c,u,m,p,f,h)=>{const g=YC(m,S(h)),b=Fm(c.getStyle(h,g));if("outdent"===u){const v=Math.max(0,b-p);c.setStyle(h,g,v?v+f:"")}else c.setStyle(h,g,b+p+f)})(o,t,l,i,s,d.dom)})},ew=e=>JC(e,"outdent"),tw=e=>{if(e.selection.isCollapsed()&&XC(e)){const t=e.dom,n=e.selection.getRng(),r=P.fromRangeStart(n),o=t.getParent(n.startContainer,t.isBlock);if(null!==o&&gu(S(o),r))return y.some(()=>ew(e))}return y.none()},nw=(e,t,n)=>vt([tw,Sm,Em,(r,o)=>Lm(r,t,o),ym,Tu,_m,Mm,Cm,Pm],r=>r(e,n)).filter(r=>e.selection.isEditable()),rw=e=>void 0===e.touches||1!==e.touches.length?y.none():y.some(e.touches[0]),Um=(e,t)=>Ie(e,t.nodeName),vR=(e,t)=>!!K(t)||!!ue(t)&&!Um(e.getBlockElements(),t)&&!xn(t)&&!Co(e,t),yR=(e,t)=>!(!K(t)||0!==t.data.length&&(!/^\s+$/.test(t.data)||t.nextSibling&&!Um(e,t.nextSibling))),ow=e=>e.dom.create(nn(e),vs(e)),CR=e=>{const t=e.dom,n=e.selection,r=e.schema,o=r.getBlockElements(),a=n.getStart(),s=e.getBody();let i,l,d=!1;const c=nn(e);if(!a||!ue(a))return;const u=s.nodeName.toLowerCase();if(!r.isValidChild(u,c.toLowerCase())||(C=o,w=s,st(p0(S(a),S(w)),k=>Um(C,k.dom))))return;var C,w;const m=n.getRng(),{startContainer:p,startOffset:f,endContainer:h,endOffset:g}=m,b=Po(e);let v=s.firstChild;for(;v;)if(ue(v)&&cx(r,v),vR(r,v)){if(yR(o,v)){l=v,v=v.nextSibling,t.remove(l);continue}i||(i=ow(e),s.insertBefore(i,v),d=!0),l=v,v=v.nextSibling,i.appendChild(l)}else i=null,v=v.nextSibling;d&&b&&(m.setStart(p,f),m.setEnd(h,g),n.setRng(m),e.nodeChanged())},aw=(e,t,n)=>{const r=S(ow(e)),o=_i();yt(r,o),n(t,r);const a=document.createRange();return a.setStartBefore(o.dom),a.setEndBefore(o.dom),a},sw=e=>t=>-1!==(" "+t.attr("class")+" ").indexOf(e),wR=(e,t,n)=>function(r){const o=arguments,a=o[o.length-2],s=a>0?t.charAt(a-1):"";if('"'===s)return r;if(">"===s){const i=t.lastIndexOf("<",a);if(-1!==i&&-1!==t.substring(i,a).indexOf('contenteditable="false"'))return r}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(o[0])+'">'+e.dom.encode("string"==typeof o[1]?o[1]:o[0])+"</span>"},iw=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Gd(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},ER=(e,t)=>{const n=Ja(S(e.getBody()),"*[data-mce-caret]").map(o=>o.dom).getOrNull();if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void iw(e,n)):void(Vg(n)&&(iw(e,n),e.undoManager.add()))},lw=at,dw=(e,t,n)=>{const r=sr(e.getBody()),o=ce(Nc,1===t?r.next:r.prev);if(n.collapsed){const a=e.dom.getParent(n.startContainer,"PRE");if(!a)return;if(!o(P.fromRangeStart(n))){const s=S((i=>{const l=i.dom.create(nn(i));return l.innerHTML='<br data-mce-bogus="1">',l})(e));1===t?Ir(S(a),s):pn(S(a),s),e.selection.select(s.dom,!0),e.selection.collapse()}}},cw=(e,t)=>((n,r)=>{const o=r?Nt.Forwards:Nt.Backwards,a=n.selection.getRng();return(s=o,i=n,l=a,PC(i,s,l,Xr,Zr,lw)).orThunk(()=>(dw(n,o,a),y.none()));var s,i,l})(e,((n,r)=>{const o=r?n.getEnd(!0):n.getStart(!0);return L0(o)?!r:r})(e.selection,t)).exists(n=>(Tr(e,n),!0)),uw=(e,t)=>((n,r)=>{const o=r?1:-1,a=n.selection.getRng();return(s=o,i=n,l=a,IC(i,s,l,d=>Xr(d)||f0(d),d=>Zr(d)||g0(d),lw)).orThunk(()=>(dw(n,o,a),y.none()));var s,i,l})(e,t).exists(n=>(Tr(e,n),!0)),mw=(e,t)=>MC(e,t,t?Zr:Xr),Ml=(e,t)=>km(e,!t).map(n=>{const r=n.toRange(),o=e.selection.getRng();return t?r.setStart(o.startContainer,o.startOffset):r.setEnd(o.endContainer,o.endOffset),r}).exists(n=>(Tr(e,n),!0)),kR=e=>qe(["figcaption"],ot(e)),fw=(e,t)=>!!e.selection.isCollapsed()&&((e,t)=>{const n=S(e.getBody()),r=P.fromRangeStart(e.selection.getRng());return((o,a)=>{const s=ce(Ge,a);return fo(S(o.container()),wn,s).filter(kR)})(r,n).exists(()=>{if(o=n,s=r,t?Ws(o.dom,s).breakAt.isNone():Vs(o.dom,s).breakAt.isNone()){const o=aw(e,n,t?yt:Tg);return e.selection.setRng(o),!0}var o,s;return!1})})(e,t),gw={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},pw=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,Le=(e,...t)=>()=>e.apply(null,t),Ys=(e,t)=>{return bt((r=t,gn(ze(e,a=>({...gw,...a})),o=>pw(o,r)?[o]:[])),n=>n.action());var r},hw=(e,t)=>{return vt((r=t,gn(ze(e,a=>({...gw,...a})),o=>pw(o,r)?[o]:[])),n=>n.action());var r},bw=(e,t)=>{const n=t?Nt.Forwards:Nt.Backwards,r=e.selection.getRng();return PC(e,n,r,Ds,Ls,nr).exists(o=>(Tr(e,o),!0))},vw=(e,t)=>{const n=t?1:-1,r=e.selection.getRng();return IC(e,n,r,Ds,Ls,nr).exists(o=>(Tr(e,o),!0))},yw=(e,t)=>MC(e,t,t?Ls:Ds),Cw=rr([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Xs={...Cw,none:e=>Cw.none(e)},ww=(e,t,n)=>gn(Ft(e),r=>Fn(r,t)?n(r)?[r]:[]:ww(r,t,n)),Ew=(e,t)=>go(e,"table",t),$m=(e,t,n,r,o=rt)=>{const a=1===r;if(!a&&n<=0)return Xs.first(e[0]);if(a&&n>=e.length-1)return Xs.last(e[e.length-1]);{const s=n+r,i=e[s];return o(i)?Xs.middle(t,i):$m(e,t,s,r,o)}},kw=(e,t)=>Ew(e,t).bind(n=>{const r=ww(n,"th,td",rt);return ao(r,o=>Ge(e,o)).map(o=>({index:o,all:r}))}),xw=(e,t,n,r,o)=>{const a=jt(S(n),"td,th,caption").map(i=>i.dom);var i;return((i,l,d)=>Gt(i,(c,u)=>c.fold(()=>y.some(u),m=>{const p=Math.sqrt(Math.abs(m.x-l)+Math.abs(m.y-d)),f=Math.sqrt(Math.abs(u.x-l)+Math.abs(u.y-d));return y.some(f<p?u:m)}),y.none()))(Re((i=e,gn(a,d=>{const c={left:(u=_o(d.getBoundingClientRect())).left- -1,top:u.top- -1,right:u.right+-2,bottom:u.bottom+-2,width:u.width+-1,height:u.height+-1};var u;return[{x:c.left,y:i(c),cell:d},{x:c.right,y:i(c),cell:d}]})),i=>t(i,o)),r,o).map(i=>i.cell)},SR=ce(xw,e=>e.bottom,(e,t)=>e.y<t),_R=ce(xw,e=>e.top,(e,t)=>e.y>t),Sw=(e,t,n)=>{const r=e(t,n);return(o=r).breakType===mr.Wrap&&0===o.positions.length||!ft(n.getNode())&&(o=>o.breakType===mr.Br&&1===o.positions.length)(r)?!((o,a,s)=>s.breakAt.exists(i=>o(a,i).breakAt.isSome()))(e,t,r):r.breakAt.isNone();var o},AR=ce(Sw,Vs),NR=ce(Sw,Ws),RR=(e,t,n,r)=>{const o=e.selection.getRng(),a=t?1:-1;return!(!_h()||!((s,i,l)=>{const d=P.fromRangeStart(i);return ya(!s,l).exists(c=>c.isEqual(d))})(t,o,n)||(Rr(a,e,n,!t,!1).each(s=>{Tr(e,s)}),0))},_w=(e,t,n)=>{const r=((a,s)=>{const i=s.getNode(a);return xr(i)?y.some(i):y.none()})(!!t,n),o=!1===t;r.fold(()=>Tr(e,n.toRange()),a=>ya(o,e.getBody()).filter(s=>s.isEqual(n)).fold(()=>Tr(e,n.toRange()),s=>{return i=t,d=a,void(l=e).undoManager.transact(()=>{const c=i?Ir:pn,u=aw(l,S(d),c);Tr(l,u)});var i,l,d}))},TR=(e,t,n,r)=>{const o=e.selection.getRng(),a=P.fromRangeStart(o),s=e.getBody();if(!t&&AR(r,a)){const i=(l=s,(u=d=n,m=c=a,te(m.getClientRects()).bind(p=>SR(u,p.left,p.top)).bind(p=>{return Ll(Pn(f=p).map(h=>Vs(f,h).positions.concat(h)).getOr([]),m);var f})).orThunk(()=>te(c.getClientRects()).bind(u=>Tm(_C(l,P.before(d)),u.left))).getOr(P.before(d)));return _w(e,t,i),!0}var l,d,c,u,m;if(t&&NR(r,a)){const i=((l,d,c)=>((u,m)=>ye(m.getClientRects()).bind(p=>_R(u,p.left,p.top)).bind(p=>{return Ll(Xt(f=p).map(h=>[h].concat(Ws(f,h).positions)).getOr([]),m);var f}))(d,c).orThunk(()=>te(c.getClientRects()).bind(u=>Tm(AC(l,P.after(d)),u.left))).getOr(P.after(d)))(s,n,a);return _w(e,t,i),!0}return!1},Aw=(e,t,n)=>y.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(r=>y.from(e.dom.getParent(r,"table")).map(o=>n(e,t,o,r))).getOr(!1),Nw=(e,t)=>Aw(e,t,RR),Rw=(e,t)=>Aw(e,t,TR),Tw=(e,t,n)=>n.fold(y.none,y.none,(r,o)=>{return(a=o,((s,i)=>{const l=d=>{for(let c=0;c<d.childNodes.length;c++){const u=S(d.childNodes[c]);if(i(u))return y.some(u);const m=l(d.childNodes[c]);if(m.isSome())return m}return y.none()};return l(s.dom)})(a,Qb)).map(s=>{return(e=>{const t=xa.getWin(e).dom,n=(o,a,s,i)=>Kc(t,o,a,s,i),r=e.match({domRange:a=>{const s=S(a.startContainer),i=S(a.endContainer);return Ab(s,a.startOffset,i,a.endOffset)},relative:__,exact:Ab});return((o,a)=>{var i;return((i,l)=>{const d=l.ltr();return d.collapsed?l.rtl().filter(c=>!1===c.collapsed).map(c=>Os.rtl(S(c.endContainer),c.endOffset,S(c.startContainer),c.startOffset)).getOrThunk(()=>Sb(0,Os.ltr,d)):Sb(0,Os.ltr,d)})(0,(i=o,a.match({domRange:d=>({ltr:ee(d),rtl:y.none}),relative:(d,c)=>({ltr:co(()=>xb(i,d,c)),rtl:co(()=>y.some(xb(i,c,d)))}),exact:(d,c,u,m)=>({ltr:co(()=>Kc(i,d,c,u,m)),rtl:co(()=>y.some(Kc(i,u,m,d,c)))})})))})(t,r).match({ltr:n,rtl:n})})(xa.exact(i=s,0,i,0));var i});var a},r=>(e.execCommand("mceTableInsertRowAfter"),Ow(e,t,r))),Ow=(e,t,n)=>{return Tw(e,t,(o=sa,kw(r=n,void 0).fold(()=>Xs.none(r),a=>$m(a.all,r,a.index,1,o))));var r,o},OR=(e,t,n)=>{return Tw(e,t,(o=sa,kw(r=n,void 0).fold(()=>Xs.none(),a=>$m(a.all,r,a.index,-1,o))));var r,o},Bw=(e,t)=>{const n=["table","li","dl"],r=S(e.getBody()),o=s=>{const i=ot(s);return Ge(s,r)||qe(n,i)},a=e.selection.getRng();return(s=S(t?a.endContainer:a.startContainer),i=o,((l,d,c=$e)=>c(d)?y.none():qe(l,ot(d))?y.some(d):Qa(d,l.join(","),u=>Fn(u,"table")||c(u)))(["td","th"],s,i)).map(s=>(Ew(s,o).each(i=>{e.model.table.clearSelectedCells(i.dom)}),e.selection.collapse(!t),(t?Ow:OR)(e,o,s).each(i=>{e.selection.setRng(i)}),!0)).getOr(!1);var s,i},Wn=(e,t)=>({container:e,offset:t}),Fl=et.DOM,Ul=e=>t=>e===t?-1:0,zm=(e,t,n)=>{if(K(e)&&t>=0)return y.some(Wn(e,t));{const r=So(Fl);return y.from(r.backwards(e,t,Ul(e),n)).map(o=>Wn(o.container,o.container.data.length))}},jm=(e,t,n)=>{if(!K(e))return y.none();if(t>=0&&t<=e.data.length)return y.some(Wn(e,t));{const o=So(Fl);return y.from(o.backwards(e,t,Ul(e),n)).bind(a=>jm(a.container,t+a.container.data.length,n))}},Dw=(e,t,n)=>{if(!K(e))return y.none();const r=e.data;if(t<=r.length)return y.some(Wn(e,t));{const o=So(Fl);return y.from(o.forwards(e,t,Ul(e),n)).bind(a=>Dw(a.container,t-r.length,n))}},Hm=(e,t,n,r,o)=>{const a=So(e,(s=e,i=>s.isBlock(i)||qe(["BR","IMG","HR","INPUT"],i.nodeName)||"false"===s.getContentEditable(i)));var s;return y.from(a.backwards(t,n,r,o))},Lw=e=>Sr(e.toString().replace(/\u00A0/g," ")),Pw=e=>""!==e&&-1!==" \xa0\f\n\r\t\v".indexOf(e),qm=(e,t)=>e.substring(t.length),Iw=(e,t,n,r=0)=>{return(o=S(t.startContainer),go(o,Jb)).fold(()=>((a,s,i,l=0)=>{if(!(d=s).collapsed||!K(d.startContainer))return y.none();var d;const c={text:"",offset:0},u=a.getParent(s.startContainer,a.isBlock)||a.getRoot();return Hm(a,s.startContainer,s.startOffset,(m,p,f)=>(c.text=f+c.text,c.offset+=p,((h,g,b)=>{let v;const C=b.charAt(0);for(v=g-1;v>=0;v--){const w=h.charAt(v);if(Pw(w))return y.none();if(C===w&&zt(h,b,v,g))break}return y.some(v)})(c.text,c.offset,i).getOr(p)),u).bind(m=>{const p=s.cloneRange();if(p.setStart(m.container,m.offset),p.setEnd(s.endContainer,s.endOffset),p.collapsed)return y.none();const f=Lw(p);return 0!==f.lastIndexOf(i)||qm(f,i).length<l?y.none():y.some({text:qm(f,i),range:p,trigger:i})})})(e,t,n,r),a=>{const s=e.createRng();s.selectNode(a.dom);const i=Lw(s);return y.some({range:s,text:qm(i,n),trigger:n})});var o},Mw=e=>{if(3===e.nodeType)return Wn(e,e.data.length);{const t=e.childNodes;return t.length>0?Mw(t[t.length-1]):Wn(e,t.length)}},Fw=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?Fw(n[t],0):n.length>0&&1===e.nodeType&&n.length===t?Mw(n[n.length-1]):Wn(e,t)},Uw=(e,t,n,r={})=>{var o;const a=t(),s=null!==(o=e.selection.getRng().startContainer.nodeValue)&&void 0!==o?o:"",i=Re(a.lookupByTrigger(n.trigger),d=>n.text.length>=d.minChars&&d.matches.getOrThunk(()=>{return c=e.dom,u=>{const m=Fw(u.startContainer,u.startOffset);return!((p,f)=>{var h;const g=null!==(h=p.getParent(f.container,p.isBlock))&&void 0!==h?h:p.getRoot();return Hm(p,f.container,f.offset,(b,v)=>0===v?-1:v,g).filter(b=>{const v=b.container.data.charAt(b.offset-1);return!Pw(v)}).isSome()})(c,m)};var c})(n.range,s,n.text));if(0===i.length)return y.none();const l=Promise.all(ze(i,d=>d.fetch(n.text,d.maxResults,r).then(c=>({matchText:n.text,items:c,columns:d.columns,onAction:d.onAction,highlightOn:d.highlightOn}))));return y.some({lookupData:l,context:n})};var fr;!function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"}(fr||(fr={}));const Vm=(e,t,n)=>e.stype===fr.Error?t(e.serror):n(e.svalue),Ba=e=>({stype:fr.Value,svalue:e}),Zs=e=>({stype:fr.Error,serror:e}),BR=Vm,Wm=e=>Fe(e)&&Me(e).length>100?" removed due to size":JSON.stringify(e,null,2),$l=(e,t)=>Zs([{path:e,getErrorInfo:t}]),$w=e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const n={};for(let r=0;r<t.length;r++){const o=t[r];for(const a in o)Ie(o,a)&&(n[a]=e(n[a],o[a]))}return n},Gm=$w((e,t)=>nt(e)&&nt(t)?Gm(e,t):t),zw=($w((e,t)=>t),e=>({tag:"defaultedThunk",process:ee(e)})),jw=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},Km=e=>({extract:(t,n)=>{return(r=e(n)).stype===fr.Error?$l(t,ee(r.serror)):r;var r},toString:ee("val")}),PR=Km(Ba),Hw=(e,t,n,r)=>r(it(e,t).getOrThunk(()=>n(e))),IR=(e,t,n,r,o)=>{const a=i=>o.extract(t.concat([r]),i),s=i=>i.fold(()=>Ba(y.none()),l=>{return(c=o.extract(t.concat([r]),l)).stype===fr.Value?{stype:fr.Value,svalue:(0,y.some)(c.svalue)}:c;var c});switch(e.tag){case"required":return i=t,c=a,it(l=n,d=r).fold(()=>{return m=d,p=l,$l(i,()=>'Could not find valid *required* value for "'+m+'" in '+Wm(p));var m,p},c);case"defaultedThunk":return Hw(n,r,e.process,a);case"option":return((i,l,d)=>d(it(i,l)))(n,r,s);case"defaultedOptionThunk":return((i,l,d,c)=>c(it(i,l).map(u=>!0===u?d(i):u)))(n,r,e.process,s);case"mergeWithThunk":return Hw(n,r,ee({}),i=>{const l=Gm(e.process(n),i);return a(l)})}var i,l,d,c},Ym=e=>({extract:(t,n)=>((r,o,a)=>{const s={},i=[];for(const l of a)jw(l,(d,c,u,m)=>{const p=IR(u,r,o,d,m);BR(p,f=>{i.push(...f)},f=>{s[c]=f})},(d,c)=>{s[d]=c(o)});return i.length>0?Zs(i):Ba(s)})(t,n,e),toString:()=>"obj{\n"+ze(e,n=>jw(n,(r,o,a,s)=>r+" -> "+s.toString(),(r,o)=>"state("+r+")")).join("\n")+"}"}),qw=e=>({extract:(t,n)=>(e=>{const t=(r=>{const o=[],a=[];return V(r,s=>{Vm(s,i=>a.push(i),i=>o.push(i))}),{values:o,errors:a}})(e);return t.errors.length>0?(n=t.errors,St(Zs,ci)(n)):Ba(t.values);var n})(ze(n,(o,a)=>e.extract(t.concat(["["+a+"]"]),o))),toString:()=>"array("+e.toString()+")"}),Vw=(e,t)=>((e,t)=>({extract:(n,r)=>it(r,e).fold(()=>{return a=e,$l(n,()=>'Choice schema did not contain choice key: "'+a+'"');var a},o=>{return a=n,s=r,it(i=t,l=o).fold(()=>{return c=i,u=l,$l(a,()=>'The chosen schema: "'+u+'" did not exist in branches: '+Wm(c));var c,u},d=>d.extract(a.concat(["branch: "+l]),s));var a,s,i,l}),toString:()=>"chooseOn("+e+"). Possible values: "+Me(t)}))(e,Ze(t,Ym)),FR=ee(PR),zl=(e,t)=>Km(n=>{const r=typeof n;return e(n)?Ba(n):Zs(`Expected type: ${t} but got: ${r}`)}),UR=zl(xe,"number"),jl=zl(ae,"string"),$R=zl(le,"boolean"),Xm=zl(we,"function"),Qs=(e,t,n,r)=>({tag:"field",key:e,newKey:t,presence:n,prop:r}),Ww=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),Gw=(e,t)=>Qs(e,e,{tag:"required",process:{}},t),Kw=e=>Gw(e,jl),Yw=e=>Gw(e,Xm),Zm=(e,t)=>Qs(e,e,{tag:"option",process:{}},t),Hl=e=>Zm(e,jl),Da=(e,t,n)=>Qs(e,e,zw(t),n),Xw=(e,t)=>Da(e,t,UR),Zw=(e,t,n)=>{return Da(e,t,(r=n,o=a=>qe(r,a)?tn.value(a):tn.error(`Unsupported value: "${a}", choose one of "${r.join(", ")}".`),Km(a=>o(a).fold(Zs,Ba))));var r,o},Qm=(e,t)=>Da(e,t,$R),Jm=(e,t)=>Da(e,t,Xm),zR=Kw("type"),jR=Yw("fetch"),ef=Yw("onAction"),HR=Jm("onSetup",()=>Ee),qR=Hl("text"),VR=Hl("icon"),WR=Hl("tooltip"),GR=Hl("label"),KR=Qm("active",!1),YR=Qm("enabled",!0),Qw=Qm("primary",!1),Js=e=>Da("type",e,jl),XR=Ym([zR,Kw("trigger"),Xw("minChars",1),((e,t)=>Qs(e,e,zw(1),FR()))("columns"),Xw("maxResults",10),Zm("matches",Xm),jR,ef,(Jw=jl,Da("highlightOn",[],qw(Jw)))]);var Jw;const tf=[YR,WR,VR,qR,HR],e1=[KR].concat(tf),ZR=[Jm("predicate",$e),Zw("scope","node",["node","editor"]),Zw("position","selection",["node","selection","line"])],QR=tf.concat([Js("contextformbutton"),Qw,ef,Ww("original",ut)]),JR=e1.concat([Js("contextformbutton"),Qw,ef,Ww("original",ut)]),eT=tf.concat([Js("contextformbutton")]),tT=e1.concat([Js("contextformtogglebutton")]),nT=Vw("type",{contextformbutton:QR,contextformtogglebutton:JR});Ym([Js("contextform"),Jm("initValue",ee("")),GR,((e,t)=>Qs(e,e,{tag:"required",process:{}},qw(t)))("commands",nT),Zm("launch",Vw("type",{contextformbutton:eT,contextformtogglebutton:tT}))].concat(ZR));const oT=e=>{const t=Hr(),n=At(!1),r=t.isSet,o=()=>{r()&&(pt(e).autocompleter.removeDecoration(),e.dispatch("AutocompleterEnd"),n.set(!1),t.clear())},a=co(()=>(e=>{const t=e.ui.registry.getAll().popups,n=Ze(t,a=>{return(s=a,((e,t,n)=>{return r=(i=t.extract([e],s=n)).stype===fr.Error?{stype:fr.Error,serror:(i=>({input:s,errors:i}))(i.serror)}:i,Vm(r,tn.error,tn.value);var s,i,r})("Autocompleter",XR,{trigger:s.ch,...s})).fold(i=>{throw new Error("Errors: \n"+(d=>{const c=d.length>10?d.slice(0,10).concat([{path:[],getErrorInfo:ee("... (only showing first ten failures)")}]):d;return ze(c,u=>"Failed path: ("+u.path.join(" > ")+")\n"+u.getErrorInfo())})((l=i).errors).join("\n")+"\n\nInput object: "+Wm(l.input));var l},ut);var s}),r=Mf(vd(n,a=>a.trigger)),o=yd(n);return{dataset:n,triggers:r,lookupByTrigger:a=>Re(o,s=>s.trigger===a)}})(e)),s=i=>{var l;(l=i,t.get().map(d=>Iw(e.dom,e.selection.getRng(),d.trigger).bind(c=>Uw(e,a,c,l))).getOrThunk(()=>((d,c)=>{const u=c(),m=d.selection.getRng();return(p=d.dom,f=m,h=u,vt(h.triggers,g=>Iw(p,f,g))).bind(p=>Uw(d,c,p));var p,f,h})(e,a))).fold(o,l=>{var d,u;d=l.context,r()||(u=d.range,pt(e).autocompleter.addDecoration(u),t.set({trigger:d.trigger,matchLength:d.text.length})),l.lookupData.then(d=>{t.get().map(c=>{const u=l.context;c.trigger===u.trigger&&(u.text.length-c.matchLength>=10?o():(t.set({...c,matchLength:u.text.length}),n.get()?e.dispatch("AutocompleterUpdate",{lookupData:d}):(n.set(!0),e.dispatch("AutocompleterStart",{lookupData:d}))))})})})};e.addCommand("mceAutocompleterReload",(i,l)=>{const d=Fe(l)?l.fetchOptions:{};s(d)}),e.addCommand("mceAutocompleterClose",o),((i,l)=>{const d=cc(l.load,50);i.on("keypress compositionend",c=>{27!==c.which&&d.throttle()}),i.on("keydown",c=>{const u=c.which;8===u?d.throttle():27===u&&l.cancelIfNecessary()}),i.on("remove",d.cancel)})(e,{cancelIfNecessary:o,load:s})},t1=e=>(t,n,r={})=>{const o=t.getBody(),a={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:o,currentTarget:o,eventPhase:Event.AT_TARGET,originalTarget:o,explicitOriginalTarget:o,isTrusted:!1,srcElement:o,cancelable:!1,preventDefault:Ee,inputType:n},s=gp(new InputEvent(e));return t.dispatch(e,{...s,...a,...r})},ql=t1("input"),Vl=t1("beforeinput"),La=(e,t)=>{const n=e.dom,r=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const a=(s=>{for(;s;){if(ue(s)||K(s)&&s.data&&/[\r\n\s]/.test(s.data))return s;s=s.nextSibling}return null})(t.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&t.insertBefore(n.doc.createTextNode(_t),t.firstChild)}const o=n.createRng();if(t.normalize(),t.hasChildNodes()){const a=new kt(t,t);let s,i=t;for(;s=a.current();){if(K(s)){o.setStart(s,0),o.setEnd(s,0);break}if(r[s.nodeName.toLowerCase()]){o.setStartBefore(s),o.setEndBefore(s);break}i=s,s=a.next()}s||(o.setStart(i,0),o.setEnd(i,0))}else ft(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));e.selection.setRng(o),Bs(e,o)},Wl=(e,t)=>{const n=e.getRoot();let r,o=t;for(;o!==n&&o&&"false"!==e.getContentEditable(o);)"true"===e.getContentEditable(o)&&(r=o),o=o.parentNode;return o!==n?r:n},nf=e=>y.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),n1=(e,t)=>{const n=null==e?void 0:e.parentNode;return F(n)&&n.nodeName===t},r1=e=>F(e)&&/^(OL|UL|LI)$/.test(e.nodeName),Gl=e=>{const t=e.parentNode;return F(n=t)&&/^(LI|DT|DD)$/.test(n.nodeName)?t:e;var n},Kl=(e,t,n)=>{let r=e[n?"firstChild":"lastChild"];for(;r&&!ue(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},aT=(e,t)=>t&&"A"===t.nodeName&&e.isEmpty(t),rf=e=>{e.innerHTML='<br data-mce-bogus="1">'},of=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,af=(e,t)=>F(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&"false"!==e.getContentEditable(t),sf=(e,t,n)=>K(t)?e?1===n&&t.data.charAt(n-1)===Ht?0:n:n===t.data.length-1&&t.data.charAt(n)===Ht?t.data.length:n:n,ei=(e,t)=>{nn(e).toLowerCase()===t.tagName.toLowerCase()&&((n,r,o)=>{const a=n.dom;y.from(o.style).map(a.parseStyle).each(c=>{const u={...Ng(S(r)),...c};a.setStyles(r,u)});const s=y.from(o.class).map(c=>c.split(/\s+/)),i=y.from(r.className).map(c=>Re(c.split(/\s+/),u=>""!==u));en(s,i,(c,u)=>{const m=Re(u,f=>!qe(c,f)),p=[...c,...m];a.setAttrib(r,"class",p.join(" "))});const l=["style","class"],d=Ha(o,(c,u)=>!qe(l,u));a.setAttribs(r,d)})(e,t,vs(e))},o1={insert:(e,t)=>{let n,r,o,a,s=!1;const i=e.dom,l=e.schema,d=l.getNonEmptyElements(),c=e.selection.getRng(),u=nn(e),m=c.collapsed&&c.startContainer===e.dom.getRoot(),p=S(c.startContainer),f=oa(p,c.startOffset),h=f.exists(_=>Ad(_)&&!sa(_)),g=m&&h,b=_=>{let T=n;const N=l.getTextInlineElements();let B;B=_||"TABLE"===o||"HR"===o?i.create(_||u):x.cloneNode(!1);let Q=B;if(!1===qx(e))i.setAttrib(B,"style",null),i.setAttrib(B,"class",null);else do{if(N[T.nodeName]){if(In(T)||xn(T))continue;const G=T.cloneNode(!1);i.setAttrib(G,"id",""),B.hasChildNodes()?(G.appendChild(B.firstChild),B.appendChild(G)):(Q=G,B.appendChild(G))}}while((T=T.parentNode)&&T!==k);return ei(e,B),rf(Q),B},v=_=>{const T=sf(_,n,r);if(K(n)&&(_?T>0:T<n.data.length))return!1;if(n.parentNode===x&&s&&!_||_&&ue(n)&&n===x.firstChild)return!0;if(of(n,"TABLE")||of(n,"HR"))return s&&!_||!s&&_;const N=new kt(n,x);let B;for(K(n)&&(_&&0===T?N.prev():_||T!==n.data.length||N.next());B=N.current();){if(ue(B)){if(!B.getAttribute("data-mce-bogus")){const Q=B.nodeName.toLowerCase();if(d[Q]&&"br"!==Q)return!1}}else if(K(B)&&!yo(B.data))return!1;_?N.prev():N.next()}return!0},C=()=>{let _;return _=/^(H[1-6]|PRE|FIGURE)$/.test(o)&&"HGROUP"!==O?b(u):b(),((T,N)=>{const B=Vx(T);return!ie(N)&&(ae(B)?qe(X.explode(B),N.nodeName.toLowerCase()):B)})(e,a)&&af(i,a)&&i.isEmpty(x,void 0,{includeZwsp:!0})?_=i.split(a,x):i.insertAfter(_,x),La(e,_),_};ol(i,c).each(_=>{c.setStart(_.startContainer,_.startOffset),c.setEnd(_.endContainer,_.endOffset)}),n=c.startContainer,r=c.startOffset;const w=!(!t||!t.shiftKey),E=!(!t||!t.ctrlKey);ue(n)&&n.hasChildNodes()&&!g&&(s=r>n.childNodes.length-1,n=n.childNodes[Math.min(r,n.childNodes.length-1)]||n,r=s&&K(n)?n.data.length:0);const k=Wl(i,n);if(!k||((_,T)=>{const N=_.dom.getParent(T,"ol,ul,dl");return null!==N&&"false"===_.dom.getContentEditableParent(N)})(e,n))return;w||(n=((_,T,N,B,Q)=>{var G,Ce;const re=_.dom,Te=null!==(G=Wl(re,B))&&void 0!==G?G:re.getRoot();let Be=re.getParent(B,re.isBlock);if(!Be||!af(re,Be)){if(Be=Be||Te,!Be.hasChildNodes()){const A=re.create(T);return ei(_,A),Be.appendChild(A),N.setStart(A,0),N.setEnd(A,0),A}let se,be=B;for(;be&&be.parentNode!==Be;)be=be.parentNode;for(;be&&!re.isBlock(be);)se=be,be=be.previousSibling;const _e=null===(Ce=null==se?void 0:se.parentElement)||void 0===Ce?void 0:Ce.nodeName;if(se&&_e&&_.schema.isValidChild(_e,T.toLowerCase())){const A=se.parentNode,R=re.create(T);for(ei(_,R),A.insertBefore(R,se),be=se;be&&!re.isBlock(be);){const M=be.nextSibling;R.appendChild(be),be=M}N.setStart(B,Q),N.setEnd(B,Q)}}return B})(e,u,c,n,r));let x=i.getParent(n,i.isBlock)||i.getRoot();a=F(null==x?void 0:x.parentNode)?i.getParent(x.parentNode,i.isBlock):null,o=x?x.nodeName.toUpperCase():"";const O=a?a.nodeName.toUpperCase():"";if("LI"!==O||E||(x=a,a=a.parentNode,o=O),ue(a)&&(_=e,N=x,!w&&N.nodeName.toLowerCase()===nn(_)&&_.dom.isEmpty(N)&&((B,Q,G)=>{let Ce=Q;for(;Ce&&Ce!==B&&W(Ce.nextSibling);){const Te=Ce.parentElement;if(!Te||(re=Te,!Ie(_.schema.getTextBlockElements(),re.nodeName.toLowerCase())))return jg(Te);Ce=Te}var re;return!1})(_.getBody(),N)))return((_,T,N)=>{var B,Q,G;const Ce=T(nn(_)),re=_.dom.getParent(N,jg);re&&(_.dom.insertAfter(Ce,re),La(_,Ce),(null!==(G=null===(Q=null===(B=N.parentElement)||void 0===B?void 0:B.childNodes)||void 0===Q?void 0:Q.length)&&void 0!==G?G:0)>1&&_.dom.remove(N))})(e,b,x);var _,N;if(/^(LI|DT|DD)$/.test(o)&&ue(a)&&i.isEmpty(x))return void((_,T,N,B,Q)=>{const G=_.dom,Ce=_.selection.getRng(),re=N.parentNode;if(N===_.getBody()||!re)return;var Te;r1(Te=N)&&r1(Te.parentNode)&&(Q="LI");let Be=T(Q);if(Kl(N,B,!0)&&Kl(N,B,!1))if(n1(N,"LI")){const se=Gl(N);G.insertAfter(Be,se),(null===(_e=(be=N).parentNode)||void 0===_e?void 0:_e.firstChild)===be?G.remove(se):G.remove(N)}else G.replace(Be,N);else if(Kl(N,B,!0))n1(N,"LI")?(G.insertAfter(Be,Gl(N)),Be.appendChild(G.doc.createTextNode(" ")),Be.appendChild(N)):re.insertBefore(Be,N),G.remove(B);else if(Kl(N,B,!1))G.insertAfter(Be,Gl(N)),G.remove(B);else{N=Gl(N);const se=Ce.cloneRange();se.setStartAfter(B),se.setEndAfter(N);const be=se.extractContents();"LI"===Q&&((_e,A)=>_e.firstChild&&"LI"===_e.firstChild.nodeName)(be)?(Be=be.firstChild,G.insertAfter(be,N)):(G.insertAfter(be,N),G.insertAfter(Be,N)),G.remove(B)}var be,_e;La(_,Be)})(e,b,a,x,u);if(!(g||x!==e.getBody()&&af(i,x)))return;const I=x.parentNode;let L;if(g)L=b(u),f.fold(()=>{yt(p,S(L))},_=>{pn(_,S(L))}),e.selection.setCursorLocation(L,0);else if(ua(x))L=Gd(x),i.isEmpty(x)&&rf(x),ei(e,L),La(e,L);else if(v(!1))L=C();else if(v(!0)&&I){L=I.insertBefore(b(),x);const _=S(c.startContainer).dom.hasChildNodes()&&c.collapsed;La(e,of(x,"HR")||_?L:x)}else{const _=(N=>{const B=N.cloneRange();return B.setStart(N.startContainer,sf(!0,N.startContainer,N.startOffset)),B.setEnd(N.endContainer,sf(!1,N.endContainer,N.endOffset)),B})(c).cloneRange();_.setEndAfter(x);const T=_.extractContents();(N=>{V(Mg(S(N),yn),B=>{const Q=B.dom;Q.nodeValue=Sr(Q.data)})})(T),(N=>{let B=N;do{K(B)&&(B.data=B.data.replace(/^[\r\n]+/,"")),B=B.firstChild}while(B)})(T),L=T.firstChild,i.insertAfter(T,x),((N,B,Q)=>{var G;const Ce=[];if(!Q)return;let re=Q;for(;re=re.firstChild;){if(N.isBlock(re))return;ue(re)&&!B[re.nodeName.toLowerCase()]&&Ce.push(re)}let Te=Ce.length;for(;Te--;)re=Ce[Te],(!re.hasChildNodes()||re.firstChild===re.lastChild&&""===(null===(G=re.firstChild)||void 0===G?void 0:G.nodeValue)||aT(N,re))&&N.remove(re)})(i,d,L),((N,B)=>{B.normalize();const Q=B.lastChild;(!Q||ue(Q)&&/^(left|right)$/gi.test(N.getStyle(Q,"float",!0)))&&N.add(B,"br")})(i,x),i.isEmpty(x)&&rf(x),L.normalize(),i.isEmpty(L)?(i.remove(L),C()):(ei(e,L),La(e,L))}i.setAttrib(L,"id",""),e.dispatch("NewBlock",{newBlock:L})},fakeEventName:"insertParagraph"},a1=(e,t,n)=>{const r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Bs(e,r)},sT=(e,t)=>{const n=Dt("br");pn(S(t),n),e.undoManager.add()},iT=(e,t)=>{lT(e.getBody(),t)||Ir(S(t),Dt("br"));const n=Dt("br");Ir(S(t),n),a1(e,n.dom,!1),e.undoManager.add()},lT=(e,t)=>{return n=P.after(t),!!ft(n.getNode())||Yt(e,P.after(t)).map(r=>ft(r.getNode())).getOr(!1);var n},s1=e=>e&&"A"===e.nodeName&&"href"in e,dT=e=>e.fold($e,s1,s1,$e),cT=(e,t)=>{t.fold(Ee,ce(sT,e),ce(iT,e),Ee)},i1={insert:(e,t)=>{const n=(r=>{const o=ce(Mo,r),a=P.fromRangeStart(r.selection.getRng());return ur(o,r.getBody(),a).filter(dT)})(e);n.isSome()?n.each(ce(cT,e)):((r,o)=>{const s=r.dom,i=r.selection.getRng();let l,d=!1;ol(s,i).each(g=>{i.setStart(g.startContainer,g.startOffset),i.setEnd(g.endContainer,g.endOffset)});let c=i.startOffset,u=i.startContainer;if(ue(u)&&u.hasChildNodes()){const g=c>u.childNodes.length-1;u=u.childNodes[Math.min(c,u.childNodes.length-1)]||u,c=g&&K(u)?u.data.length:0}let m=s.getParent(u,s.isBlock);const p=m&&m.parentNode?s.getParent(m.parentNode,s.isBlock):null;"LI"!==(p?p.nodeName.toUpperCase():"")||!(!o||!o.ctrlKey)||(m=p),K(u)&&c>=u.data.length&&(((g,b,v)=>{const C=new kt(b,v);let w;const E=g.getNonEmptyElements();for(;w=C.next();)if(E[w.nodeName.toLowerCase()]||K(w)&&w.length>0)return!0;return!1})(r.schema,u,m||s.getRoot())||(l=s.create("br"),i.insertNode(l),i.setStartAfter(l),i.setEndAfter(l),d=!0)),l=s.create("br"),pc(s,i,l),a1(r,l,d),r.undoManager.add()})(e,t)},fakeEventName:"insertLineBreak"},l1=(e,t)=>nf(e).filter(n=>t.length>0&&Fn(S(n),t)).isSome(),hn=rr([{br:[]},{block:[]},{none:[]}]),uT=(e,t)=>{return l1(n=e,Hx(n));var n},d1=e=>(t,n)=>nf(t).filter(o=>rs(S(o))).isSome()===e,c1=(e,t)=>(n,r)=>nf(n).fold(ee(""),s=>s.nodeName.toUpperCase())===e.toUpperCase()===t,mT=e=>{const t=Wl(e.dom,e.selection.getStart());return ie(t)},ti=e=>c1("pre",e),Yl=e=>(t,n)=>$x(t)===e,fT=(e,t)=>{return l1(n=e,jx(n));var n},Xl=(e,t)=>t,gT=e=>{const t=nn(e),n=Wl(e.dom,e.selection.getStart());return F(n)&&e.schema.isValidChild(n.nodeName,t)},pT=e=>{const t=e.selection.getRng(),n=t.collapsed&&t.startContainer===e.dom.getRoot(),r=S(t.startContainer),o=oa(r,t.startOffset).map(a=>Ad(a)&&!sa(a));return n&&o.getOr(!0)},Tn=(e,t)=>(n,r)=>Gt(e,(o,a)=>o&&a(n,r),!0)?y.some(t):y.none(),Zl=(e,t,n)=>{t.selection.isCollapsed()||t.execCommand("delete"),F(n)&&Vl(t,e.fakeEventName).isDefaultPrevented()||(e.insert(t,n),F(n)&&ql(t,e.fakeEventName))},u1=(e,t)=>{const n=()=>Zl(i1,e,t),r=()=>Zl(o1,e,t),o=(a=e,s=t,vC([Tn([uT],hn.none()),Tn([ti(!0),mT],hn.none()),Tn([c1("summary",!0)],hn.br()),Tn([ti(!0),Yl(!1),Xl],hn.br()),Tn([ti(!0),Yl(!1)],hn.block()),Tn([ti(!0),Yl(!0),Xl],hn.block()),Tn([ti(!0),Yl(!0)],hn.br()),Tn([d1(!0),Xl],hn.br()),Tn([d1(!0)],hn.block()),Tn([fT],hn.br()),Tn([Xl],hn.br()),Tn([gT],hn.block()),Tn([pT],hn.block())],[a,!(!s||!s.shiftKey)]).getOr(hn.none()));var a,s;switch(zx(e)){case"linebreak":o.fold(n,n,Ee);break;case"block":o.fold(r,r,Ee);break;case"invert":o.fold(r,n,Ee);break;default:o.fold(n,r,Ee)}},m1=Qn(),hT=m1.os.isiOS()&&m1.browser.isSafari(),f1=(e,t)=>{var n;t.isDefaultPrevented()||(t.preventDefault(),(n=e.undoManager).typing&&(n.typing=!1,n.add()),e.undoManager.transact(()=>{u1(e,t)}))},bT=Qn(),g1=e=>e.stopImmediatePropagation(),p1=e=>e.keyCode===ge.PAGE_UP||e.keyCode===ge.PAGE_DOWN,h1=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",g1,!0):!n&&e.get()&&t.off("NodeChange",g1),e.set(n)},b1=(e,t)=>{const n=t.container(),r=t.offset();return K(n)?(n.insertData(r,e),y.some(P(n,r+e.length))):Vi(t).map(o=>{const a=ra(e);return t.isAtEnd()?Ir(o,a):pn(o,a),P(a.dom,e.length)})},v1=ce(b1,_t),y1=ce(b1," "),C1=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},vT=e=>{const t=P.fromRangeStart(e.selection.getRng()),n=S(e.getBody());if(e.selection.isCollapsed()){const r=ce(Mo,e),o=P.fromRangeStart(e.selection.getRng());return ur(r,e.getBody(),o).bind((a=n,s=>s.fold(i=>rn(a.dom,P.before(i)),i=>Xt(i),i=>Pn(i),i=>Yt(a.dom,P.after(i))))).map(a=>()=>{return(s=n,i=t,l=>S0(s,l)?v1(i):y1(i))(a).each(C1(e));var s,i})}var a;return y.none()},yT=e=>{return ea(He.browser.isFirefox()&&e.selection.isEditable()&&(t=e.dom,n=e.selection.getRng().startContainer,t.isEditable(t.getParent(n,"summary"))),()=>{const r=S(e.getBody());var o,a;e.selection.isCollapsed()||e.getDoc().execCommand("Delete"),(o=r,a=P.fromRangeStart(e.selection.getRng()),S0(o,a)?v1(a):y1(a)).each(C1(e))});var t,n},CT=e=>ZS(e)?[{keyCode:ge.TAB,action:Le(Bw,e,!0)},{keyCode:ge.TAB,shiftKey:!0,action:Le(Bw,e,!1)}]:[],wT=e=>{if(e.addShortcut("Meta+P","","mcePrint"),oT(e),cr(e))return At(null);{const t=(e=>{const t=At(null),n=ce(Mo,e);return e.on("NodeChange",r=>{ys(e)&&(((o,a,s)=>{const i=ze(jt(S(a.getRoot()),'*[data-mce-selected="inline-boundary"]'),c=>c.dom),l=Re(i,o),d=Re(s,o);V(Xo(l,d),ce(FC,!1)),V(Xo(d,l),ce(FC,!0))})(n,e.dom,r.parents),((o,a)=>{const s=a.get();if(o.selection.isCollapsed()&&!o.composing&&s){const i=P.fromRangeStart(o.selection.getRng());P.isTextPosition(i)&&!Vd(l=i)&&!Wd(l)&&(Pl(o,((e,t)=>{return P.isTextPosition(t)?(r=t,Ch(n=e)&&r.container()===n?((o,a)=>{const s=Eh(o.data.substr(0,a.offset())),i=Eh(o.data.substr(a.offset()));return(s.text+i.text).length>0?(kh(o),P(o,a.offset()-s.count)):a})(n,r):xh(n,r)):((n,r)=>r.container()===n.parentNode?((o,a)=>{const s=a.container(),i=((l,d)=>{const c=Dr(l,d);return-1===c?y.none():y.some(c)})(Se(s.childNodes),o).map(l=>l<a.offset()?P(s,a.offset()-1):a).getOr(a);return No(o),i})(n,r):xh(n,r))(e,t);var n,r})(s,i)),a.set(null))}var l})(e,t),((o,a,s,i)=>{if(a.selection.isCollapsed()){const l=Re(i,o);V(l,d=>{const c=P.fromRangeStart(a.selection.getRng());ur(o,a.getBody(),c).bind(u=>UC(a,s,u))})}})(n,e,t,r.parents))}),t})(e);return(n=e).on("keyup compositionstart",ce(ER,n)),((n,r)=>{n.on("keydown",o=>{o.isDefaultPrevented()||((a,s,i)=>{const l=He.os.isMacOS()||He.os.isiOS();Ys([{keyCode:ge.RIGHT,action:Le(cw,a,!0)},{keyCode:ge.LEFT,action:Le(cw,a,!1)},{keyCode:ge.UP,action:Le(uw,a,!1)},{keyCode:ge.DOWN,action:Le(uw,a,!0)},...l?[{keyCode:ge.UP,action:Le(Ml,a,!1),metaKey:!0,shiftKey:!0},{keyCode:ge.DOWN,action:Le(Ml,a,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:ge.RIGHT,action:Le(Nw,a,!0)},{keyCode:ge.LEFT,action:Le(Nw,a,!1)},{keyCode:ge.UP,action:Le(Rw,a,!1)},{keyCode:ge.DOWN,action:Le(Rw,a,!0)},{keyCode:ge.RIGHT,action:Le(bw,a,!0)},{keyCode:ge.LEFT,action:Le(bw,a,!1)},{keyCode:ge.UP,action:Le(vw,a,!1)},{keyCode:ge.DOWN,action:Le(vw,a,!0)},{keyCode:ge.RIGHT,action:Le($C,a,s,!0)},{keyCode:ge.LEFT,action:Le($C,a,s,!1)},{keyCode:ge.RIGHT,ctrlKey:!l,altKey:l,action:Le(uR,a,s)},{keyCode:ge.LEFT,ctrlKey:!l,altKey:l,action:Le(mR,a,s)},{keyCode:ge.UP,action:Le(fw,a,!1)},{keyCode:ge.DOWN,action:Le(fw,a,!0)}],i).each(d=>{i.preventDefault()})})(n,r,o)})})(e,t),((n,r)=>{let o=!1;n.on("keydown",a=>{o=a.keyCode===ge.BACKSPACE,a.isDefaultPrevented()||((s,i,l)=>{const d=l.keyCode===ge.BACKSPACE?"deleteContentBackward":"deleteContentForward";hw([{keyCode:ge.BACKSPACE,action:Le(tw,s)},{keyCode:ge.BACKSPACE,action:Le(Sm,s,!1)},{keyCode:ge.DELETE,action:Le(Sm,s,!0)},{keyCode:ge.BACKSPACE,action:Le(Em,s,!1)},{keyCode:ge.DELETE,action:Le(Em,s,!0)},{keyCode:ge.BACKSPACE,action:Le(Lm,s,i,!1)},{keyCode:ge.DELETE,action:Le(Lm,s,i,!0)},{keyCode:ge.BACKSPACE,action:Le(Tu,s,!1)},{keyCode:ge.DELETE,action:Le(Tu,s,!0)},{keyCode:ge.BACKSPACE,action:Le(_m,s,!1)},{keyCode:ge.DELETE,action:Le(_m,s,!0)},{keyCode:ge.BACKSPACE,action:Le(Mm,s,!1)},{keyCode:ge.DELETE,action:Le(Mm,s,!0)},{keyCode:ge.BACKSPACE,action:Le(Cm,s,!1)},{keyCode:ge.DELETE,action:Le(Cm,s,!0)},{keyCode:ge.BACKSPACE,action:Le(ym,s,!1)},{keyCode:ge.DELETE,action:Le(ym,s,!0)},{keyCode:ge.BACKSPACE,action:Le(Pm,s,!1)},{keyCode:ge.DELETE,action:Le(Pm,s,!0)}],l).filter(c=>s.selection.isEditable()).each(c=>{l.preventDefault(),Vl(s,d).isDefaultPrevented()||(c(),ql(s,d))})})(n,r,a)}),n.on("keyup",a=>{a.isDefaultPrevented()||((s,i,l)=>{const d=Qn(),c=d.os,u=d.browser,m=c.isMacOS()?[{keyCode:ge.BACKSPACE,altKey:!0,action:Le(Ks,s)},{keyCode:ge.DELETE,altKey:!0,action:Le(Ks,s)}]:[{keyCode:ge.BACKSPACE,ctrlKey:!0,action:Le(Ks,s)},{keyCode:ge.DELETE,ctrlKey:!0,action:Le(Ks,s)}];c.isMacOS()&&l&&m.push({keyCode:u.isFirefox()?224:91,action:Le(Ks,s)}),Ys([{keyCode:ge.BACKSPACE,action:Le(mC,s)},{keyCode:ge.DELETE,action:Le(mC,s)},...m],i)})(n,a,o),o=!1})})(e,t),(n=>{let r=y.none();n.on("keydown",o=>{var a;o.keyCode===ge.ENTER&&(hT&&(a=>{if(!a.collapsed)return!1;const s=a.startContainer;if(K(s)){const i=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,l=s.data.charAt(a.startOffset-1);return i.test(l)}return!1})(n.selection.getRng())?(r=y.some((a=n).selection.getBookmark()),a.undoManager.add()):f1(n,o))}),n.on("keyup",o=>{o.keyCode===ge.ENTER&&r.each(()=>{return s=o,(a=n).undoManager.undo(),r.fold(Ee,i=>a.selection.moveToBookmark(i)),f1(a,s),void(r=y.none());var a,s})})})(e),(n=>{n.on("keydown",r=>{var o,a;r.isDefaultPrevented()||(a=r,hw([{keyCode:ge.SPACEBAR,action:Le(vT,o=n)},{keyCode:ge.SPACEBAR,action:Le(yT,o)}],a).each(s=>{a.preventDefault(),Vl(o,"insertText",{data:" "}).isDefaultPrevented()||(s(),ql(o,"insertText",{data:" "}))}))})})(e),(n=>{n.on("input",r=>{r.isComposing||(o=>{const a=S(o.getBody());o.selection.isCollapsed()&&((e,t)=>{const n=t.container();if(!K(n))return y.none();if((r=>{const o=r.container();return K(o)&&zt(o.data,_t)})(t)){const r=N0(e,n,!1)||(o=>{const a=o.data,s=(i=>{const l=i.split("");return ze(l,(d,c)=>Yi(d)&&c>0&&c<l.length-1&&Dc(l[c-1])&&Dc(l[c+1])?" ":d).join("")})(a);return s!==a&&(o.data=s,!0)})(n)||R0(e,n,!1);return ea(r,t)}if(vu(e,t)){const r=N0(e,n,!0)||R0(e,n,!0);return ea(r,t)}return y.none()})(a,P.fromRangeStart(o.selection.getRng())).each(s=>{o.selection.setRng(s.toRange())})})(n)})})(e),(n=>{n.on("keydown",r=>{var a;r.isDefaultPrevented()||(a=r,Ys([...CT(n)],a).each(s=>{a.preventDefault()}))})})(e),((n,r)=>{n.on("keydown",o=>{o.isDefaultPrevented()||((a,s,i)=>{const l=He.os.isMacOS()||He.os.isiOS();Ys([{keyCode:ge.END,action:Le(mw,a,!0)},{keyCode:ge.HOME,action:Le(mw,a,!1)},...l?[]:[{keyCode:ge.HOME,action:Le(Ml,a,!1),ctrlKey:!0,shiftKey:!0},{keyCode:ge.END,action:Le(Ml,a,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:ge.END,action:Le(yw,a,!0)},{keyCode:ge.HOME,action:Le(yw,a,!1)},{keyCode:ge.END,action:Le(Il,a,!0,s)},{keyCode:ge.HOME,action:Le(Il,a,!1,s)}],i).each(d=>{i.preventDefault()})})(n,r,o)})})(e,t),((n,r)=>{if(bT.os.isMacOS())return;const o=At(!1);n.on("keydown",a=>{p1(a)&&h1(o,n,!0)}),n.on("keyup",a=>{var s,i,l;a.isDefaultPrevented()||(l=a,Ys([{keyCode:ge.PAGE_UP,action:Le(Il,s=n,!1,i=r)},{keyCode:ge.PAGE_DOWN,action:Le(Il,s,!0,i)}],l)),p1(a)&&o.get()&&(h1(o,n,!1),n.nodeChanged())})})(e,t),t}var n};class ET{constructor(t){let n;this.lastPath=[],this.editor=t;const r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",o=>{const a=t.selection.getRng(),s={startContainer:a.startContainer,startOffset:a.startOffset,endContainer:a.endContainer,endOffset:a.endOffset};"nodechange"!==o.type&&Zc(s,n)||t.dispatch("SelectionChange"),n=s}),t.on("contextmenu",()=>{t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const o=t.selection.getStart(!0);o&&Zi(t)&&!r.isSameElementPath(o)&&t.dom.isChildOf(o,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",o=>{!o.isDefaultPrevented()&&Zi(t)&&("IMG"===t.selection.getNode().nodeName?_n.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor.selection;let r;if(this.editor.initialized&&n&&!CS(this.editor)&&!this.editor.mode.isReadOnly()){const o=this.editor.getBody();r=n.getStart(!0)||o,r.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(r,o)||(r=o);const a=[];this.editor.dom.getParent(r,s=>s===o||(a.push(s),!1)),this.editor.dispatch("NodeChange",{...t,element:r,parents:a})}}isSameElementPath(t){let n;const r=this.editor,o=so(r.dom.getParents(t,rt,r.getBody()));if(o.length===this.lastPath.length){for(n=o.length;n>=0&&o[n]===this.lastPath[n];n--);if(-1===n)return this.lastPath=o,!0}return this.lastPath=o,!1}}const w1=fs("image"),lf=fs("event"),Ql=e=>t=>{t[lf]=e},E1=Ql(0),kT=Ql(2),xT=Ql(1),df=fs("mode"),Jl=e=>t=>{t[df]=e},k1=(e,t)=>Jl(t)(e),x1=Jl(0),cf=Jl(2),_T=Jl(1),S1=e=>t=>y.from(t[df]).exists(r=>r===e),Pa=S1(0),_1=S1(1),AT=["none","copy","link","move"],NT=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],uf=()=>{const e=new window.DataTransfer;let t="move",n="all";const r={get dropEffect(){return t},set dropEffect(o){qe(AT,o)&&(t=o)},get effectAllowed(){return n},set effectAllowed(o){(e=>y.from(e[lf]).exists(n=>0===n))(r)&&qe(NT,o)&&(n=o)},get items(){return o=r,a=e.items,{...a,get length(){return a.length},add:(s,i)=>{if(Pa(o)){if(!ae(s))return a.add(s);if(!ne(i))return a.add(s,i)}return null},remove:s=>{Pa(o)&&a.remove(s)},clear:()=>{Pa(o)&&a.clear()}};var o,a},get files(){return _1(r)?Object.freeze({length:0,item:o=>null}):e.files},get types(){return e.types},setDragImage:(o,a,s)=>{Pa(r)&&(r[w1]={image:o,x:a,y:s},e.setDragImage(o,a,s))},getData:o=>_1(r)?"":e.getData(o),setData:(o,a)=>{Pa(r)&&e.setData(o,a)},clearData:o=>{Pa(r)&&e.clearData(o)}};return x1(r),r},A1=(e,t)=>e.setData("text/html",t),N1="x-tinymce/html",ed=ee(N1),mf="\x3c!-- "+N1+" --\x3e",RT=e=>mf+e,R1=e=>-1!==e.indexOf(mf),T1="%MCEPASTEBIN%",ff=e=>e.dom.get("mcepastebin"),TT=e=>F(e)&&"mcepastebin"===e.id,O1=e=>e===T1,B1=(e,t)=>(X.each(t,n=>{e=$t(n,RegExp)?e.replace(n,""):e.replace(n[0],n[1])}),e),D1=e=>B1(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(t,n,r)=>n||r?_t:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),L1=(e,t)=>({content:e,cancelled:t}),gf=(e,t)=>(e.insertContent(t,{merge:US(e),paste:!0}),!0),pf=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),OT=(e,t,n)=>{return!(e.selection.isCollapsed()||!pf(t)||(r=e,o=t,a=n,r.undoManager.extra(()=>{a(r,o)},()=>{r.execCommand("mceInsertLink",!1,o)}),0));var r,o,a},BT=(e,t,n)=>{return r=e,!(!pf(o=t)||!st(yh(r),a=>kd(o.toLowerCase(),`.${a.toLowerCase()}`)))&&((r,o,a)=>(r.undoManager.extra(()=>{a(r,o)},()=>{r.insertContent('<img src="'+o+'">')}),!0))(e,t,n);var r,o},DT=(e=>{let t=0;return()=>"mceclip"+t++})(),LT=e=>{const t=uf();return A1(t,e),cf(t),t},P1=(e,t,n,r,o)=>{const a=((d,c,u)=>{const m=d.dispatch("PastePreProcess",{content:c,internal:u}),p=((f,h)=>{const g=Aa({sanitize:xc(f)},f.schema);g.addNodeFilter("meta",v=>{X.each(v,C=>{C.remove()})});const b=g.parse(h,{forced_root_block:!1,isRootContent:!0});return Kr({validate:!0},f.schema).serialize(b)})(d,m.content);return d.hasEventListeners("PastePostProcess")&&!m.isDefaultPrevented()?((f,h,g)=>{const b=f.dom.create("div",{style:"display:none"},h),v=f.dispatch("PastePostProcess",{node:b,internal:g});return L1(v.node.innerHTML,v.isDefaultPrevented())})(d,p,u):L1(p,m.isDefaultPrevented())})(e,t,n);if(!a.cancelled){const s=a.content,i=()=>{return l=e,d=s,void(r||!$S(l)?gf(l,d):(u=l,m=d,X.each([OT,BT,gf],p=>!p(u,m,gf))));var l,d,u,m};o?Vl(e,"insertFromPaste",{dataTransfer:LT(s)}).isDefaultPrevented()||(i(),ql(e,"insertFromPaste")):i()}},td=(e,t,n,r)=>{const o=n||R1(t);P1(e,t.replace(mf,""),o,!1,r)},hf=(e,t,n)=>{const r=e.dom.encode(t).replace(/\r\n/g,"\n"),o=((a,s,i)=>{const l=a.split(/\n\n/),d=((m,p)=>{let f="<"+m;const h=vd(p,(g,b)=>b+'="'+zr.encodeAllRaw(g)+'"');return h.length&&(f+=" "+h.join(" ")),f+">"})(s,i),c="</"+s+">",u=ze(l,m=>m.split(/\n/).join("<br />"));return 1===u.length?u[0]:ze(u,m=>d+m+c).join("")})(Zg(r,jS(e)),nn(e),vs(e));P1(e,o,!1,!0,n)},I1=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const r=e.types[n];try{t[r]=e.getData(r)}catch{t[r]=""}}return t},eo=(e,t)=>t in e&&e[t].length>0,M1=e=>eo(e,"text/html")||eo(e,"text/plain"),F1=(e,t,n)=>{const r="paste"===t.type?t.clipboardData:t.dataTransfer;var o;if(Hi(e)&&r){const a=((s,i)=>{const l=i.items?gn(Se(i.items),c=>"file"===c.kind?[c.getAsFile()]:[]):[],d=i.files?Se(i.files):[];return Re(l.length>0?l:d,(c=>{const u=yh(c);return m=>It(m.type,"image/")&&st(u,p=>(f=>{const h=f.toLowerCase(),g={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return X.hasOwn(g,h)?"image/"+g[h]:"image/"+h})(p)===m.type)})(s))})(e,r);if(a.length>0)return t.preventDefault(),(o=a,Promise.all(ze(o,s=>Kv(s).then(i=>({file:s,uri:i}))))).then(s=>{n&&e.selection.setRng(n),V(s,i=>{var l,d;l=e,Zu((d=i).uri).each(({data:c,type:u,base64Encoded:m})=>{const p=m?c:btoa(c),f=d.file,h=l.editorUpload.blobCache,g=h.getByData(p,u),b=null!=g?g:((v,C,w,E)=>{const k=DT(),x=lh(v)&&F(w.name),O=x?((_,T)=>{const N=T.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return F(N)?_.dom.encode(N[1]):void 0})(v,w.name):k,L=C.create(k,w,E,O,x?w.name:void 0);return C.add(L),L})(l,h,f,p);td(l,`<img src="${b.blobUri()}">`,!1,!0)})})}),!0}return!1},bf=(e,t,n,r,o)=>{let a=D1(n);const s=eo(t,ed())||R1(n),i=!s&&!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(a),l=pf(a);(O1(a)||!a.length||i&&!l)&&(r=!0),(r||l)&&(a=eo(t,"text/plain")&&i?t["text/plain"]:(d=>{const c=jr(),u=Aa({},c);let m="";const p=c.getVoidElements(),f=X.makeMap("script noscript style textarea video audio iframe object"," "),h=c.getBlockElements(),g=b=>{const v=b.name,C=b;if("br"!==v){if("wbr"!==v)if(p[v]&&(m+=" "),f[v])m+=" ";else{if(3===b.type&&(m+=b.value),!(b.name in c.getVoidElements())){let w=b.firstChild;if(w)do{g(w)}while(w=w.next)}h[v]&&C.next&&(m+="\n","p"===v&&(m+="\n"))}}else m+="\n"};return d=B1(d,[/<!\[[^\]]+\]>/g]),g(u.parse(d)),m})(a)),O1(a)||(r?hf(e,a,o):td(e,a,s,o))},U1=(e,t,n,r)=>{((o,a,s)=>{if(!o)return!1;try{return o.clearData(),o.setData("text/html",a),o.setData("text/plain",s),o.setData(ed(),a),!0}catch{return!1}})(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},$1=e=>(t,n)=>{const{dom:r,selection:o}=e,a=r.create("div",{contenteditable:"false","data-mce-bogus":"all"}),s=r.create("div",{contenteditable:"true"},t);r.setStyles(a,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),a.appendChild(s),r.add(e.getBody(),a);const i=o.getRng();s.focus();const l=r.createRng();l.selectNodeContents(s),o.setRng(l),_n.setEditorTimeout(e,()=>{o.setRng(i),r.remove(a),n()},0)},z1=e=>({html:RT(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),j1=e=>{return!e.selection.isCollapsed()||!!(t=e).dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody());var t},H1=(e,t)=>{var n,r;return Lo.getCaretRangeFromPoint(null!==(n=t.clientX)&&void 0!==n?n:0,null!==(r=t.clientY)&&void 0!==r?r:0,e.getDoc())},q1=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},IT=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,V1=e=>X.trim(e).replace(IT,Xi).toLowerCase(),MT=(e,t,n)=>{const r=MS(e);if(n||"all"===r||!FS(e))return t;const o=r?r.split(/[, ]/):[];if(o&&"none"!==r){const a=e.dom,s=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(i,l,d,c)=>{const u=a.parseStyle(a.decode(d)),m={};for(let f=0;f<o.length;f++){const h=u[o[f]];let g=h,b=a.getStyle(s,o[f],!0);/color/.test(o[f])&&(g=V1(g),b=V1(b)),b!==g&&(m[o[f]]=h)}const p=a.serializeStyle(m,"span");return p?l+' style="'+p+'"'+c:l+c})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(a,s,i,l)=>s+' style="'+i+'"'+l)},W1=e=>Ur(S(e)),G1=(e,t)=>{const n=t.getNode();ne(n)||e.selection.setCursorLocation(n,t.offset())},K1=(e,t)=>{var n;return 0===e.startOffset&&e.endOffset===(null===(n=t.textContent)||void 0===n?void 0:n.length)},Y1=Qn(),X1=Y1.os,$T=Y1.browser.isSafari(),Z1=X1.isMacOS()||X1.isiOS(),vf=(e,t)=>F(e.getParent(t.container(),"details")),Q1=(e,t)=>{const n=e.dom.getParent(t.container(),"details");if(n&&!n.open){const r=e.dom.select("summary",n)[0];r&&Pn(r).each(o=>G1(e,o))}else G1(e,t)},HT=ft,J1=K,qT=e=>at(e.dom),eE=e=>t=>Ge(S(e),t),tE=(e,t)=>fo(S(e),qT,eE(t)),nE=(e,t,n)=>{const r=new kt(e,t),o=n?r.next.bind(r):r.prev.bind(r);let a=e;for(let s=n?e:o();s&&!HT(s);s=o())Ln(s)&&(a=s);return a};var Ia;!function(e){e.Before="before",e.After="after"}(Ia||(Ia={}));const WT=(e,t)=>Math.abs(e.left-t),GT=(e,t)=>Math.abs(e.right-t),YT=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),yf=(e,t,n)=>{const r=d=>Ln(d.node)?y.some(d):ue(d.node)?yf(Se(d.node.childNodes),t,n):y.none(),o=(d,c)=>{const u=U(d,(m,p)=>c(m,t,n)-c(p,t,n));return((m,p)=>{if(m.length>=2){const f=r(m[0]).getOr(m[0]),h=r(m[1]).getOr(m[1]);if(Math.abs(p(f,t,n)-p(h,t,n))<2){if(K(f.node))return y.some(f);if(K(h.node))return y.some(h)}}return y.none()})(u,c).orThunk(()=>vt(u,r))},[a,s]=((e,t)=>{return(n=Re(e,n=>{return(r=t)>=(o=n).top&&r<=o.bottom;var r,o}),Gt(n,(r,o)=>r.fold(()=>y.some(o),a=>{const s=Math.min(o.left,a.left),i=Math.min(o.top,a.top),l=Math.max(o.right,a.right),d=Math.max(o.bottom,a.bottom);return y.some({top:i,right:l,bottom:d,left:s,width:l-s,height:d-i})}),y.none())).fold(()=>[[],e],n=>{const{pass:r,fail:o}=On(e,a=>((s,i)=>{const l=(d=s,c=i,Math.max(0,Math.min(d.bottom,c.bottom)-Math.max(d.top,c.top))/Math.min(s.height,i.height));var d,c;return((d,c)=>d.top<c.bottom&&d.bottom>c.top)(s,i)&&l>.5})(a,n));return[r,o]});var n})(OC(e),n),{pass:i,fail:l}=On(s,d=>d.top<n);return o(a,YT).orThunk(()=>o(l,Op)).orThunk(()=>o(i,Op))},rE=(e,t,n)=>((r,o,a)=>{const s=S(r),l=((e,t,n)=>y.from(e.dom.elementFromPoint(t,n)).map(Ka))(wr(s),o,a).filter(d=>Cr(s,d)).getOr(s);return((d,c,u,m)=>{const p=(f,h)=>{const g=Re(f.dom.childNodes,dt(b=>ue(b)&&b.classList.contains("mce-drag-container")));return h.fold(()=>yf(g,u,m),b=>{const v=Re(g,C=>C!==b.dom);return yf(v,u,m)}).orThunk(()=>(Ge(f,d)?y.none():Od(f)).bind(b=>p(b,y.some(f))))};return p(c,y.none())})(s,l,o,a)})(e,t,n).filter(r=>ws(r.node)).map(r=>{return{node:(o=r).node,position:WT(o,a=t)<GT(o,a)?Ia.Before:Ia.After};var o,a}),oE=e=>{var t,n;const r=e.getBoundingClientRect(),o=e.ownerDocument,a=o.documentElement,s=o.defaultView;return{top:r.top+(null!==(t=null==s?void 0:s.scrollY)&&void 0!==t?t:0)-a.clientTop,left:r.left+(null!==(n=null==s?void 0:s.scrollX)&&void 0!==n?n:0)-a.clientLeft}},aE=e=>({target:e,srcElement:e}),sE=at,ZT=((...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1})(sE,$n),QT=(e,t,n,r)=>{const o=e.dom,a=t.cloneNode(!0);o.setStyles(a,{width:n,height:r}),o.setAttrib(a,"data-mce-selected",null);const s=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(s,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),o.setStyles(a,{margin:0,boxSizing:"border-box"}),s.appendChild(a),s},nd=(e,t)=>n=>()=>{n.scroll({[e]:("left"===e?n.scrollX:n.scrollY)+t,behavior:"smooth"})},iE=nd("left",-32),lE=nd("left",32),dE=nd("top",-32),cE=nd("top",32),uE=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},ni=(e,t,n,r,o)=>{"dragstart"===t&&A1(r,e.dom.getOuterHTML(n));const a=((e,t,n,r)=>{const o=((a,s)=>{const i=(l=>{const d=uf(),c=y.from(l[df]);return cf(l),E1(d),d.dropEffect=l.dropEffect,d.effectAllowed=l.effectAllowed,(u=l,y.from(u[w1])).each(u=>d.setDragImage(u.image,u.x,u.y)),V(l.types,u=>{"Files"!==u&&d.setData(u,l.getData(u))}),V(l.files,u=>d.items.add(u)),(u=>y.from(u[lf]))(l).each(u=>{var m;m=d,Ql(u)(m)}),c.each(u=>{k1(l,u),k1(d,u)}),d;var u})(a);return"dragstart"===s?(E1(i),x1(i)):"drop"===s?(kT(i),cf(i)):(xT(i),_T(i)),i})(n,e);return ne(r)?((a,s,i)=>{const l=Pt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:a,composedPath:l,initEvent:l,preventDefault:Ee,stopImmediatePropagation:Ee,stopPropagation:Ee,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:l,initMouseEvent:l,getModifierState:l,dataTransfer:i,...aE(s)}})(e,t,o):(a=e,s=r,i=t,l=o,{...s,dataTransfer:l,type:a,...aE(i)});var a,s,i,l})(t,n,r,o);return e.dispatch(t,a)},mE=(e,t,n)=>{e.on(r=>{r.intervalId.clear(),r.dragging&&n.fold(()=>ni(t,"dragend",r.element,r.dataTransfer),o=>ni(t,"dragend",r.element,r.dataTransfer,o))}),fE(e)},fE=e=>{e.on(t=>{t.intervalId.clear(),uE(t.ghost)}),e.clear()},ri=at,gE=(e,t)=>Fo(e.getBody(),t),tO=e=>{const t=e.selection,n=e.dom,r=e.getBody(),o=((e,t,n,r)=>{const o=Hr();let a,s;const i=nn(e),l=e.dom,d=()=>{(c=>{var u,m;const p=jt(S(c),"*[contentEditable=false],video,audio,embed,object");for(let f=0;f<p.length;f++){const h=p[f].dom;let g=h.previousSibling;if(Ri(g)){const b=g.data;1===b.length?null===(u=g.parentNode)||void 0===u||u.removeChild(g):g.deleteData(b.length-1,1)}g=h.nextSibling,Ni(g)&&(1===g.data.length?null===(m=g.parentNode)||void 0===m||m.removeChild(g):g.deleteData(0,1))}})(t),s&&(No(s),s=null),o.on(c=>{l.remove(c.caret),o.clear()}),a&&(clearInterval(a),a=void 0)};return{show:(c,u)=>{let m;if(d(),o_(u))return null;if(!n(u))return s=((p,f)=>{var h;const g=(null!==(h=p.ownerDocument)&&void 0!==h?h:document).createTextNode(Ht),b=p.parentNode;if(f){const v=p.previousSibling;if(ca(v)){if(En(v))return v;if(Ri(v))return v.splitText(v.data.length-1)}null==b||b.insertBefore(g,p)}else{const v=p.nextSibling;if(ca(v)){if(En(v))return v;if(Ni(v))return v.splitText(1),v}p.nextSibling?null==b||b.insertBefore(g,p.nextSibling):null==b||b.appendChild(g)}return g})(u,c),m=u.ownerDocument.createRange(),Cs(s.nextSibling)?(m.setStart(s,0),m.setEnd(s,0)):(m.setStart(s,1),m.setEnd(s,1)),m;{const p=((g,b,v)=>{var C;const w=(null!==(C=b.ownerDocument)&&void 0!==C?C:document).createElement(g);w.setAttribute("data-mce-caret",v?"before":"after"),w.setAttribute("data-mce-bogus","all"),w.appendChild(_i().dom);const E=b.parentNode;return v?null==E||E.insertBefore(w,b):b.nextSibling?null==E||E.insertBefore(w,b.nextSibling):null==E||E.appendChild(w),w})(i,u,c),f=Sh(t,u,c);l.setStyle(p,"top",f.top),s=p;const h=l.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});l.setStyles(h,{...f}),l.add(t,h),o.set({caret:h,element:u,before:c}),c&&l.addClass(h,"mce-visual-caret-before"),a=setInterval(()=>{o.on(g=>{r()?l.toggleClass(g.caret,"mce-visual-caret-hidden"):l.addClass(g.caret,"mce-visual-caret-hidden")})},500),m=u.ownerDocument.createRange(),m.setStart(p,0),m.setEnd(p,0)}return m},hide:d,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{o.on(c=>{const u=Sh(t,c.element,c.before);l.setStyles(c.caret,{...u})})},destroy:()=>clearInterval(a)}})(e,r,n.isBlock,()=>Po(e)),a="sel-"+n.uniqueId(),s="data-mce-selected";let i;const l=g=>g!==r&&(ri(g)||nr(g))&&n.isChildOf(g,r)&&n.isEditable(g.parentNode),d=(g,b,v,C=!0)=>e.dispatch("ShowCaret",{target:b,direction:g,before:v}).isDefaultPrevented()?null:(C&&t.scrollIntoView(b,-1===g),o.show(v,b)),c=g=>En(g)||Ni(g)||Ri(g),u=g=>c(g.startContainer)||c(g.endContainer),p=(g,b)=>{if(!g)return null;if(g.collapsed){if(!u(g)){const E=b?1:-1,k=Ss(E,r,g),x=k.getNode(!b);if(F(x)){if(ws(x))return d(E,x,!!b&&!k.isAtEnd(),!1);if($r(x)&&at(x.nextSibling)){const I=n.createRng();return I.setStart(x,0),I.setEnd(x,0),I}}const O=k.getNode(b);if(F(O)){if(ws(O))return d(E,O,!b&&!k.isAtEnd(),!1);if($r(O)&&at(O.previousSibling)){const I=n.createRng();return I.setStart(O,1),I.setEnd(O,1),I}}}return null}let v=g.startContainer,C=g.startOffset;const w=g.endOffset;if(K(v)&&0===C&&ri(v.parentNode)&&(v=v.parentNode,C=n.nodeIndex(v),v=v.parentNode),!ue(v))return null;if(w===C+1&&v===g.endContainer){const E=v.childNodes[C];if(l(E))return(k=>{const x=k.cloneNode(!0),O=e.dispatch("ObjectSelected",{target:k,targetClone:x});if(O.isDefaultPrevented())return null;const I=((_,T)=>{const N=S(e.getBody()),B=e.getDoc(),Q=Ja(N,"#"+a).getOrThunk(()=>{const re=Ya('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',B);return Bt(re,"id",a),yt(N,re),re}),G=n.createRng();ia(Q),po(Q,[ra(_t,B),S(T),ra(_t,B)]),G.setStart(Q.dom.firstChild,1),G.setEnd(Q.dom.lastChild,0),hi(Q,{top:n.getPos(_,e.getBody()).y+"px"}),zb(Q);const Ce=t.getSel();return Ce&&(Ce.removeAllRanges(),Ce.addRange(G)),G})(k,O.targetClone),L=S(k);return V(jt(S(e.getBody()),`*[${s}]`),_=>{Ge(L,_)||Mt(_,s)}),n.getAttrib(k,s)||k.setAttribute(s,"1"),i=k,h(),I})(E)}return null},f=()=>{i&&i.removeAttribute(s),Ja(S(e.getBody()),"#"+a).each(lt),i=null},h=()=>{o.hide()};return cr(e)||(e.on("click",g=>{n.isEditable(g.target)||(g.preventDefault(),e.focus())}),e.on("blur NewBlock",f),e.on("ResizeWindow FullscreenStateChanged",o.reposition),e.on("tap",g=>{const b=g.target,v=gE(e,b);ri(v)?(g.preventDefault(),qs(e,v).each(p)):l(b)&&qs(e,b).each(p)},!0),e.on("mousedown",g=>{const b=g.target;if(b!==r&&"HTML"!==b.nodeName&&!n.isChildOf(b,r)||!((C,w,E)=>{const k=S(C.getBody()),x=C.inline?k:S(wr(k).dom.documentElement),O=((I,L,_,T)=>{const N=L.dom.getBoundingClientRect();return{x:_-(I?N.left+L.dom.clientLeft+NN(L):0),y:T-(I?N.top+L.dom.clientTop+AN(L):0)}})(C.inline,x,w,E);return((I,L,_)=>{const T=SN(I),N=_N(I);return L>=0&&_>=0&&L<=T&&_<=N})(x,O.x,O.y)})(e,g.clientX,g.clientY))return;f(),h();const v=gE(e,b);ri(v)?(g.preventDefault(),qs(e,v).each(p)):rE(r,g.clientX,g.clientY).each(C=>{var w;g.preventDefault(),(w=d(1,C.node,C.position===Ia.Before,!1))&&t.setRng(w),ue(v)?v.focus():e.getBody().focus()})}),e.on("keypress",g=>{ge.modifierPressed(g)||ri(t.getNode())&&g.preventDefault()}),e.on("GetSelectionRange",g=>{let b=g.range;if(i){if(!i.parentNode)return void(i=null);b=b.cloneRange(),b.selectNode(i),g.range=b}}),e.on("SetSelectionRange",g=>{g.range=(g=>{const b=e.schema.getVoidElements(),v=n.createRng(),C=g.startContainer,w=g.startOffset,E=g.endContainer,k=g.endOffset;return Ie(b,C.nodeName.toLowerCase())?0===w?v.setStartBefore(C):v.setStartAfter(C):v.setStart(C,w),Ie(b,E.nodeName.toLowerCase())?0===k?v.setEndBefore(E):v.setEndAfter(E):v.setEnd(E,k),v})(g.range);const b=p(g.range,g.forward);b&&(g.range=b)}),e.on("AfterSetSelectionRange",g=>{const b=g.range,v=b.startContainer.parentElement;var C,w;u(b)||ue(C=v)&&"mcepastebin"===C.id||h(),F(w=v)&&n.hasClass(w,"mce-offscreen-selection")||f()}),(e=>{const t=Hr(),n=et.DOM,r=document,o=(l=t,d=e,c=>{if(0===c.button){const u=bt(d.dom.getParents(c.target),ZT).getOr(null);if(F(u)&&(m=d.dom,p=d.getBody(),sE(f=u)&&f!==p&&m.isEditable(f.parentElement))){const m=d.dom.getPos(u),p=d.getBody(),f=d.getDoc().documentElement;l.set({element:u,dataTransfer:uf(),dragging:!1,screenX:c.screenX,screenY:c.screenY,maxX:(d.inline?p.scrollWidth:f.offsetWidth)-2,maxY:(d.inline?p.scrollHeight:f.offsetHeight)-2,relX:c.pageX-m.x,relY:c.pageY-m.y,width:u.offsetWidth,height:u.offsetHeight,ghost:QT(d,u,u.offsetWidth,u.offsetHeight),intervalId:_x(100)})}}var m,p,f}),a=((e,t)=>{const n=Mi((o,a)=>{return i=o,l=a,(s=t)._selectionOverrides.hideFakeCaret(),void rE(s.getBody(),i,l).fold(()=>s.selection.placeCaretAt(i,l),d=>{const c=s._selectionOverrides.showCaret(1,d.node,d.position===Ia.Before,!1);c?s.selection.setRng(c):s.selection.placeCaretAt(i,l)});var s,i,l},0);t.on("remove",n.cancel);const r=e;return o=>e.on(a=>{const s=Math.max(Math.abs(o.screenX-a.screenX),Math.abs(o.screenY-a.screenY));if(!a.dragging&&s>10){const d=ni(t,"dragstart",a.element,a.dataTransfer,o);if(F(d.dataTransfer)&&(a.dataTransfer=d.dataTransfer),d.isDefaultPrevented())return;a.dragging=!0,t.focus()}if(a.dragging){const d=o.currentTarget===t.getDoc().documentElement,c=((u,m)=>({pageX:m.pageX-u.relX,pageY:m.pageY+5}))(a,(m=o,p=(g=u=t).inline?oE(g.getBody()):{left:0,top:0},f=(g=>{const b=g.getBody();return g.inline?{left:b.scrollLeft,top:b.scrollTop}:{left:0,top:0}})(u),h=((g,b)=>{if(b.target.ownerDocument!==g.getDoc()){const v=oE(g.getContentAreaContainer()),C=(w=>{const E=w.getBody(),k=w.getDoc().documentElement;return w.inline?{left:E.scrollLeft,top:E.scrollTop}:{left:E.scrollLeft||k.scrollLeft,top:E.scrollTop||k.scrollTop}})(g);return{left:b.pageX-v.left+C.left,top:b.pageY-v.top+C.top}}return{left:b.pageX,top:b.pageY}})(u,m),{pageX:h.left-p.left+f.left,pageY:h.top-p.top+f.top}));i=a.ghost,l=t.getBody(),i.parentNode!==l&&l.appendChild(i),((u,m,p,f,h,g,b,v,C,w,E,k)=>{let x=0,O=0;u.style.left=m.pageX+"px",u.style.top=m.pageY+"px",m.pageX+p>h&&(x=m.pageX+p-h),m.pageY+f>g&&(O=m.pageY+f-g),u.style.width=p-x+"px",u.style.height=f-O+"px";const I=C.clientHeight,L=C.clientWidth,_=b+C.getBoundingClientRect().top,T=v+C.getBoundingClientRect().left;E.on(N=>{N.intervalId.clear(),N.dragging&&k&&(b+8>=I?N.intervalId.set(cE(w)):b-8<=0?N.intervalId.set(dE(w)):v+8>=L?N.intervalId.set(lE(w)):v-8<=0?N.intervalId.set(iE(w)):_+16>=window.innerHeight?N.intervalId.set(cE(window)):_-16<=0?N.intervalId.set(dE(window)):T+16>=window.innerWidth?N.intervalId.set(lE(window)):T-16<=0&&N.intervalId.set(iE(window)))})})(a.ghost,c,a.width,a.height,a.maxX,a.maxY,o.clientY,o.clientX,t.getContentAreaContainer(),t.getWin(),r,d),n.throttle(o.clientX,o.clientY)}var u,m,g,p,f,h,i,l})})(t,e),s=((l,d)=>c=>{l.on(u=>{var m,p,f,h;if(u.intervalId.clear(),u.dragging){if(p=d,f=(p=>{const f=p.getSel();if(F(f)){const h=f.getRangeAt(0).startContainer;return K(h)?h.parentNode:h}return null})(d.selection),h=u.element,!ie(f)&&f!==h&&!p.dom.isChildOf(f,h)&&p.dom.isEditable(f)){const p=null!==(m=d.getDoc().elementFromPoint(c.clientX,c.clientY))&&void 0!==m?m:d.getBody();ni(d,"drop",p,u.dataTransfer,c).isDefaultPrevented()||d.undoManager.transact(()=>{((f,h)=>{const g=f.getParent(h.parentNode,f.isBlock);uE(h),g&&g!==f.getRoot()&&f.isEmpty(g)&&Ur(S(g))})(d.dom,u.element),(f=>{const h=f.getData("text/html");return""===h?y.none():y.some(h)})(u.dataTransfer).each(f=>d.insertContent(f)),d._selectionOverrides.hideFakeCaret()})}ni(d,"dragend",d.getBody(),u.dataTransfer,c)}}),fE(l)})(t,e),i=((l,d)=>c=>mE(l,d,y.some(c)))(t,e);var l,d;e.on("mousedown",o),e.on("mousemove",a),e.on("mouseup",s),n.bind(r,"mousemove",a),n.bind(r,"mouseup",i),e.on("remove",()=>{n.unbind(r,"mousemove",a),n.unbind(r,"mouseup",i)}),e.on("keydown",l=>{l.keyCode===ge.ESC&&mE(t,e,y.none())})})(g=e),kS(g)&&(b=>{const v=E=>{if(!E.isDefaultPrevented()){const k=E.dataTransfer;k&&(qe(k.types,"Files")||k.files.length>0)&&(E.preventDefault(),"drop"===E.type&&Nl(b,"Dropped file type is not supported"))}},C=E=>{il(b,E.target)&&v(E)},w=()=>{const E=et.DOM,k=b.dom,x=document,O=b.inline?b.getBody():b.getDoc(),I=["drop","dragover"];V(I,L=>{E.bind(x,L,C),k.bind(O,L,v)}),b.on("remove",()=>{V(I,L=>{E.unbind(x,L,C),k.unbind(O,L,v)})})};b.on("init",()=>{_n.setEditorTimeout(b,w,0)})})(g),(g=>{const b=Mi(()=>{if(!g.removed&&g.getBody().contains(document.activeElement)){const v=g.selection.getRng();if(v.collapsed){const C=wm(g,v,!1);g.selection.setRng(C)}}},0);g.on("focus",()=>{b.throttle()}),g.on("blur",()=>{b.cancel()})})(e),(g=>{g.on("init",()=>{g.on("focusin",b=>{const v=b.target;if(nr(v)){const C=Fo(g.getBody(),v),w=at(C)?C:v;g.selection.getNode()!==w&&qs(g,w).each(E=>g.selection.setRng(E))}})})})(e)),{showCaret:d,showBlockCaretContainer:g=>{g.hasAttribute("data-mce-caret")&&(Gd(g),t.scrollIntoView(g))},hideFakeCaret:h,destroy:()=>{o.destroy(),i=null}};var g},nO=(e,t)=>{let n=t;for(let r=e.previousSibling;K(r);r=r.previousSibling)n+=r.data.length;return n},pE=(e,t,n,r,o)=>{if(K(n)&&(r<0||r>n.data.length))return[];const a=o&&K(n)?[nO(n,r)]:[r];let s=n;for(;s!==t&&s.parentNode;)a.push(e.nodeIndex(s,o)),s=s.parentNode;return s===t?a.reverse():[]},Cf=(e,t,n,r,o,a,s=!1)=>({start:pE(e,t,n,r,s),end:pE(e,t,o,a,s)}),hE=(e,t)=>{const n=t.slice(),r=n.pop();return xe(r)?Gt(n,(o,a)=>o.bind(s=>y.from(s.childNodes[a])),y.some(e)).bind(o=>K(o)&&(r<0||r>o.data.length)?y.none():y.some({node:o,offset:r})):y.none()},bE=(e,t)=>hE(e,t.start).bind(({node:n,offset:r})=>hE(e,t.end).map(({node:o,offset:a})=>{const s=document.createRange();return s.setStart(n,r),s.setEnd(o,a),s})),Ma=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const r=t.parentNode;e.remove(t),Ma(e,r,n)}},rd=(e,t,n,r=!0)=>{const o=t.startContainer.parentNode,a=t.endContainer.parentNode;t.deleteContents(),r&&!n(t.startContainer)&&(K(t.startContainer)&&0===t.startContainer.data.length&&e.remove(t.startContainer),K(t.endContainer)&&0===t.endContainer.data.length&&e.remove(t.endContainer),Ma(e,o,n),o!==a&&Ma(e,a,n))},wf=(e,t)=>y.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),vE=(e,t,n)=>{const r=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:eh(r).concat(e.blockPatterns),inlinePatterns:th(r).concat(e.inlinePatterns)}},yE=(e,t,n,r)=>{const o=e.createRng();return o.setStart(t,0),o.setEnd(n,r),o.toString()},CE=(e,t,n)=>{((r,o,a)=>{if(K(r)&&0>=r.length)return y.some(Wn(r,0));{const s=So(Fl);return y.from(s.forwards(r,0,Ul(r),a)).map(i=>Wn(i.container,0))}})(t,0,t).each(r=>{const o=r.container;Dw(o,n.start.length,t).each(i=>{const l=e.createRng();l.setStart(o,0),l.setEnd(i.container,i.offset),rd(e,l,d=>d===t)});const a=S(o),s=ki(a);var i,l;/^\s[^\s]/.test(s)&&(i=a,l=s.slice(1),Hd.set(i,l))})},wE=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),od=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},EE=(e,t,n)=>{const r=bE(e.getRoot(),n).getOrDie("Unable to resolve path range"),o=r.startContainer,a=r.endContainer,s=0===r.endOffset?a:a.splitText(r.endOffset),i=0===r.startOffset?o:o.splitText(r.startOffset),l=i.parentNode;return{prefix:t,end:s.parentNode.insertBefore(wE(e,t+"-end"),s),start:l.insertBefore(wE(e,t+"-start"),i)}},kE=(e,t,n)=>{Ma(e,e.get(t.prefix+"-end"),n),Ma(e,e.get(t.prefix+"-start"),n)},Ef=e=>0===e.start.length,xE=(e,t,n,r)=>{const o=t.start;var a;return Hm(e,r.container,r.offset,(a=o,(s,i)=>{const l=s.data.substring(0,i),d=l.lastIndexOf(a.charAt(a.length-1)),c=l.lastIndexOf(a);return-1!==c?c+a.length:-1!==d?d+1:-1}),n).bind(s=>{var i,l;const d=null!==(l=null===(i=n.textContent)||void 0===i?void 0:i.indexOf(o))&&void 0!==l?l:-1;if(-1!==d&&s.offset>=d+o.length){const c=e.createRng();return c.setStart(s.container,s.offset-o.length),c.setEnd(s.container,s.offset),y.some(c)}return jm(s.container,s.offset-o.length,n).map(u=>{const m=e.createRng();return m.setStart(u.container,u.offset),m.setEnd(s.container,s.offset),m}).filter(u=>u.toString()===o).orThunk(()=>xE(e,t,n,Wn(s.container,0)))})},rO=(e,t,n,r)=>{const o=e.dom,a=o.getRoot(),s=n.pattern,i=n.position.container,l=n.position.offset;return jm(i,l-n.pattern.end.length,t).bind(d=>{const c=Cf(o,a,d.container,d.offset,i,l,r);if(Ef(s))return y.some({matches:[{pattern:s,startRng:c,endRng:c}],position:d});{const u=ad(e,n.remainingPatterns,d.container,d.offset,t,r),m=u.getOr({matches:[],position:d}),p=m.position;return((h,g,b,v,C,w=!1)=>{if(0===g.start.length&&!w){const E=h.createRng();return E.setStart(b,v),E.setEnd(b,v),y.some(E)}return zm(b,v,C).bind(E=>xE(h,g,C,E).bind(k=>{var x;return w&&(k.endContainer===E.container&&k.endOffset===E.offset||0===E.offset&&(null===(x=k.endContainer.textContent)||void 0===x?void 0:x.length)===k.endOffset)?y.none():y.some(k)}))})(o,s,p.container,p.offset,t,u.isNone()).map(h=>{const g=((b,v,C,w=!1)=>Cf(b,v,C.startContainer,C.startOffset,C.endContainer,C.endOffset,w))(o,a,h,r);return{matches:m.matches.concat([{pattern:s,startRng:g,endRng:c}]),position:Wn(h.startContainer,h.startOffset)}})}})},ad=(e,t,n,r,o,a)=>{const s=e.dom;return zm(n,r,s.getRoot()).bind(i=>{const l=yE(s,o,n,r);for(let d=0;d<t.length;d++){const c=t[d];if(!kd(l,c.end))continue;const u=t.slice();u.splice(d,1);const m=rO(e,o,{pattern:c,remainingPatterns:u,position:i},a);if(m.isNone()&&r>0)return ad(e,t,n,r-1,o,a);if(m.isSome())return m}return y.none()})},SE=(e,t,n)=>{e.selection.setRng(n),"inline-format"===t.type?V(t.format,r=>{e.formatter.apply(r)}):e.execCommand(t.cmd,!1,t.value)},_E=(e,t,n,r,o,a)=>{var s;return((i,l)=>{const d=Xn(i,c=>st(l,u=>c.pattern.start===u.pattern.start&&c.pattern.end===u.pattern.end));return i.length===l.length?d?i:l:i.length>l.length?i:l})(ad(e,o.inlinePatterns,n,r,t,a).fold(()=>[],i=>i.matches),ad(e,(s=o.inlinePatterns,U(s,(i,l)=>l.end.length-i.end.length)),n,r,t,a).fold(()=>[],i=>i.matches))},AE=(e,t)=>{if(0===t.length)return;const n=e.dom,r=e.selection.getBookmark(),o=((a,s)=>{const i=fs("mce_textpattern"),l=oo(s,(d,c)=>{const u=EE(a,i+`_end${d.length}`,c.endRng);return d.concat([{...c,endMarker:u}])},[]);return oo(l,(d,c)=>{const u=l.length-d.length-1,m=Ef(c.pattern)?c.endMarker:EE(a,i+`_start${u}`,c.startRng);return d.concat([{...c,startMarker:m}])},[])})(n,t);V(o,a=>{const s=n.getParent(a.startMarker.start,n.isBlock),i=l=>l===s;Ef(a.pattern)?((l,d,c,u)=>{const m=od(l.dom,c);rd(l.dom,m,u),SE(l,d,m)})(e,a.pattern,a.endMarker,i):((l,d,c,u,m)=>{const p=l.dom,f=od(p,u),h=od(p,c);rd(p,h,m),rd(p,f,m);const b=od(p,{prefix:c.prefix,start:c.end,end:u.start});SE(l,d,b)})(e,a.pattern,a.startMarker,a.endMarker,i),kE(n,a.endMarker,i),kE(n,a.startMarker,i)}),e.selection.moveToBookmark(r)},NE=(e,t,n)=>{for(let r=0;r<e.length;r++)if(n(e[r],t))return!0;return!1},kf=et.DOM,sO=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,xf=e=>Ha(e,t=>!1===ne(t)),RE=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return xf({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_fonts_to_spans:t("convert_fonts_to_spans"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:sO(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},TE=e=>{const t=e.options.get;return xf({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},OE=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,BE=e=>{const t=OE(e),n=mh(e),r=e.contentCSS,o=()=>{t.unloadAll(r),e.inline||e.ui.styleSheetLoader.unloadAll(n)},a=()=>{e.removed?o():e.on("remove",o)};if(e.contentStyles.length>0){let l="";X.each(e.contentStyles,d=>{l+=d+"\r\n"}),e.dom.addStyle(l)}const s=Promise.all(((l,d,c)=>{const u=[OE(l).loadAll(d)];return l.inline?u:u.concat([l.ui.styleSheetLoader.loadAll(c)])})(e,r,n)).then(a).catch(a),i=nS(e);return i&&((l,d)=>{const c=S(l.getBody()),u=Id(Pr(c)),m=Dt("style");Bt(m,"type","text/css"),yt(m,ra(d)),yt(u,m),l.on("remove",()=>{lt(m)})})(e,i),s},Sf=e=>{var t;!0!==e.removed&&(cr(t=e)||t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),(t=>{t.bindPendingEventDelegates(),t.initialized=!0,t.dispatch("Init"),t.focus(!0),(r=>{const o=r.dom.getRoot();r.inline||Zi(r)&&r.selection.getStart(!0)!==o||Xt(o).each(a=>{const s=a.getNode(),i=xr(s)?Xt(s).getOr(a):a;r.selection.setRng(i.toRange())})})(t),t.nodeChanged({initial:!0});const n=NS(t);we(n)&&n.call(t,t),(r=>{const o=TS(r);o&&_n.setEditorTimeout(r,()=>{let a;a=!0===o?r:r.editorManager.get(o),a&&!a.destroyed&&(a.focus(),a.selection.scrollIntoView())},100)})(t)})(e))},DE=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(kf.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const r=e.getBody();var s;r.disabled=!0,e.readonly=ph(e),e._editableRoot=wS(e),!e.readonly&&e.hasEditableRoot()&&(e.inline&&"static"===kf.getStyle(r,"position",!0)&&(r.style.position="relative"),r.contentEditable="true"),r.disabled=!1,e.editorUpload=(e=>{const t=(()=>{let h=[];const g=C=>{if(!C.blob||!C.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const w=C.id||"blobid"+TN+++(()=>{const O=()=>Math.round(4294967295*Math.random()).toString(36);return"s"+(new Date).getTime().toString(36)+O()+O()+O()})(),E=C.name||w,k=C.blob;var x;return{id:ee(w),name:ee(E),filename:ee(C.filename||E+"."+(x=k.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[x.toLowerCase()]||"dat")),blob:ee(k),base64:ee(C.base64),blobUri:ee(C.blobUri||URL.createObjectURL(k)),uri:ee(C.uri)}},b=C=>bt(h,C).getOrUndefined(),v=C=>b(w=>w.id()===C);return{create:(C,w,E,k,x)=>{if(ae(C))return g({id:C,name:k,filename:x,blob:w,base64:E});if(Fe(C))return g(C);throw new Error("Unknown input type")},add:C=>{v(C.id())||h.push(C)},get:v,getByUri:C=>b(w=>w.blobUri()===C),getByData:(C,w)=>b(E=>E.base64()===C&&E.blob().type===w),findFirst:b,removeByUri:C=>{h=Re(h,w=>w.blobUri()!==C||(URL.revokeObjectURL(w.blobUri()),!1))},destroy:()=>{V(h,C=>{URL.revokeObjectURL(C.blobUri())}),h=[]}}})();let n,r;const o=Vy(),a=[],s=h=>g=>e.selection?h(g):[],i=(h,g,b)=>{let v=0;do{v=h.indexOf(g,v),-1!==v&&(h=h.substring(0,v)+b+h.substr(v+g.length),v+=b.length-g.length+1)}while(-1!==v);return h},l=(h,g,b)=>(h=i(h,`src="${g}"`,`src="${b}"${b===He.transparentSrc?' data-mce-placeholder="1"':""}`),i(h,'data-mce-src="'+g+'"','data-mce-src="'+b+'"')),d=(h,g)=>{V(e.undoManager.data,b=>{"fragmented"===b.type?b.fragments=ze(b.fragments,v=>l(v,h,g)):b.content=l(b.content,h,g)})},c=()=>(n||(n=Gy(e,o)),p().then(s(h=>{const g=ze(h,b=>b.blobInfo);return n.upload(g,Wy(e)).then(s(b=>{const v=[];let C=!1;const w=ze(b,(E,k)=>{const{blobInfo:x,image:O}=h[k];let I=!1;return E.status&&Wx(e)?(E.url&&!zt(O.src,E.url)&&(C=!0),t.removeByUri(O.src),cr(e)||((L,_)=>{const T=e.convertURL(_,"src");var N;d(L.src,_),Lr(S(L),{src:lh(e)?(N=_,N+(-1===N.indexOf("?")?"?":"&")+(new Date).getTime()):_,"data-mce-src":T})})(O,E.url)):E.error&&(E.error.remove&&(d(O.src,He.transparentSrc),v.push(O),I=!0),Nl(e,zn.translate(["Failed to upload image: {0}",E.error.message]))),{element:O,status:E.status,uploadUri:E.url,blobInfo:x,removed:I}});return v.length>0&&!cr(e)?e.undoManager.transact(()=>{V(Md(v),E=>{const k=Dn(E);var x;lt(E),k.each((x=e,O=>{var I,L;(I=x).dom.isEmpty((L=O).dom)&&F(I.schema.getTextBlockElements()[ot(L)])&&yt(O,Ya('<br data-mce-bogus="1" />'))})),t.removeByUri(E.dom.src)})}):C&&e.undoManager.dispatchChange(),w}))}))),u=()=>ih(e)?c():Promise.resolve([]),m=h=>Xn(a,g=>g(h)),p=()=>(r||(r=((e,t)=>{const n={};return{findAll:(r,o=rt)=>{const a=Re((i=r)?Se(i.getElementsByTagName("img")):[],i=>{const l=i.src;return!i.hasAttribute("data-mce-bogus")&&!i.hasAttribute("data-mce-placeholder")&&!(!l||l===He.transparentSrc)&&(It(l,"blob:")?!e.isUploaded(l)&&o(i):!!It(l,"data:")&&o(i))}),s=ze(a,i=>{const l=i.src;if(Ie(n,l))return n[l].then(d=>ae(d)?d:{image:i,blobInfo:d.blobInfo});{const d=((c,u)=>{const m=()=>Promise.reject("Invalid data URI");if(It(u,"blob:")){const h=c.getByUri(u);return F(h)?Promise.resolve(h):(p=u,It(p,"blob:")?(g=p,fetch(g).then(b=>b.ok?b.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${g} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"}))):It(p,"data:")?(f=p,new Promise((g,b)=>{Zu(f).bind(({type:v,data:C,base64Encoded:w})=>Gv(v,C,w)).fold(()=>b("Invalid data URI"),g)})):Promise.reject("Unknown URI format")).then(g=>Kv(g).then(b=>Yv(b,!1,v=>y.some(Xv(c,g,v))).getOrThunk(m)))}var g,p,f;return It(u,"data:")?Zv(c,u).fold(m,h=>Promise.resolve(h)):Promise.reject("Unknown image data format")})(t,l).then(c=>(delete n[l],{image:i,blobInfo:c})).catch(c=>(delete n[l],c));return n[l]=d,d}});var i;return Promise.all(s)}}})(o,t)),r.findAll(e.getBody(),m).then(s(h=>{const g=Re(h,b=>ae(b)?(Nl(e,b),!1):"blob"!==b.uriType);return cr(e)||V(g,b=>{d(b.image.src,b.blobInfo.blobUri()),b.image.src=b.blobInfo.blobUri(),b.image.removeAttribute("data-mce-src")}),g}))),f=h=>h.replace(/src="(blob:[^"]+)"/g,(g,b)=>{const v=o.getResultUri(b);if(v)return'src="'+v+'"';let C=t.getByUri(b);return C||(C=Gt(e.editorManager.get(),(w,E)=>w||E.editorUpload&&E.editorUpload.blobCache.getByUri(b),void 0)),C?'src="data:'+C.blob().type+";base64,"+C.base64()+'"':g});return e.on("SetContent",()=>{ih(e)?u():p()}),e.on("RawSaveContent",h=>{h.content=f(h.content)}),e.on("GetContent",h=>{h.source_view||"raw"===h.format||"tree"===h.format||(h.content=f(h.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",h=>{V(h,g=>{const b=g.attr("src");if(!b||t.getByUri(b))return;const v=o.getResultUri(b);v&&g.attr("src",v)})})}),{blobCache:t,addFilter:h=>{a.push(h)},uploadImages:c,uploadImagesAuto:u,scanForImages:p,destroy:()=>{t.destroy(),o.destroy(),r=n=null}}})(e),e.schema=jr(TE(e)),e.dom=et(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:Qx(e),referrerPolicy:wc(e),onSetAttrib:s=>{e.dispatch("SetAttrib",s)}}),e.parser=(s=>{const i=Aa(RE(s),s.schema);return i.addAttributeFilter("src,href,style,tabindex",(l,d)=>{const c=s.dom,u="data-mce-"+d;let m=l.length;for(;m--;){const p=l[m];let f=p.attr(d);if(f&&!p.attr(u)){if(0===f.indexOf("data:")||0===f.indexOf("blob:"))continue;"style"===d?(f=c.serializeStyle(c.parseStyle(f),p.name),f.length||(f=null),p.attr(u,f),p.attr(d,f)):"tabindex"===d?(p.attr(u,f),p.attr(d,null)):p.attr(u,s.convertURL(f,d,p.name))}}}),i.addNodeFilter("script",l=>{let d=l.length;for(;d--;){const c=l[d],u=c.attr("type")||"no/type";0!==u.indexOf("mce-")&&c.attr("type","mce-"+u)}}),KS(s)&&i.addNodeFilter("#cdata",l=>{var d;let c=l.length;for(;c--;){const u=l[c];u.type=8,u.name="#comment",u.value="[CDATA["+s.dom.encode(null!==(d=u.value)&&void 0!==d?d:"")+"]]"}}),i.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",l=>{let d=l.length;const c=s.schema.getNonEmptyElements();for(;d--;){const u=l[d];u.isEmpty(c)&&0===u.getAll("br").length&&u.append(new on("br",1))}}),i})(e),e.serializer=Py((s=>{const i=s.options.get;return{...RE(s),...TE(s),...xf({remove_trailing_brs:i("remove_trailing_brs"),url_converter:i("url_converter"),url_converter_scope:i("url_converter_scope"),element_format:i("element_format"),entities:i("entities"),entity_encoding:i("entity_encoding"),indent:i("indent"),indent_after:i("indent_after"),indent_before:i("indent_before")})}})(e),e),e.selection=Ly(e.dom,e.getWin(),e.serializer,e),e.annotator=gb(e),e.formatter=Xy(e),e.undoManager=Qy(e),e._nodeChangeDispatcher=new ET(e),e._selectionOverrides=tO(e),(s=>{const i=Hr(),l=At(!1),d=cc(c=>{s.dispatch("longpress",{...c,type:"longpress"}),l.set(!0)},400);s.on("touchstart",c=>{rw(c).each(u=>{d.cancel();const m={x:u.clientX,y:u.clientY,target:c.target};d.throttle(c),l.set(!1),i.set(m)})},!0),s.on("touchmove",c=>{d.cancel(),rw(c).each(u=>{i.on(m=>{((p,f)=>{const h=Math.abs(p.clientX-f.x),g=Math.abs(p.clientY-f.y);return h>5||g>5})(u,m)&&(i.clear(),l.set(!1),s.dispatch("longpresscancel"))})})},!0),s.on("touchend touchcancel",c=>{d.cancel(),"touchcancel"!==c.type&&i.get().filter(u=>u.target.isEqualNode(c.target)).each(()=>{l.get()?c.preventDefault():s.dispatch("tap",{...c,type:"tap"})})},!0)})(e),(e=>{var t;(t=e).on("click",n=>{t.dom.getParent(n.target,"details")&&n.preventDefault()}),(t=>{t.parser.addNodeFilter("details",n=>{const r=QS(t);V(n,o=>{"expanded"===r?o.attr("open","open"):"collapsed"===r&&o.attr("open",null)})}),t.serializer.addNodeFilter("details",n=>{const r=JS(t);V(n,o=>{"expanded"===r?o.attr("open","open"):"collapsed"===r&&o.attr("open",null)})})})(e),(t=>{t.on("keydown",n=>{n.keyCode!==ge.BACKSPACE&&n.keyCode!==ge.DELETE||((r,o)=>{const a=y.from(r.getParent(o.startContainer,"details")),s=y.from(r.getParent(o.endContainer,"details"));if(a.isSome()||s.isSome()){const i=a.bind(l=>y.from(r.select("summary",l)[0]));return y.some({startSummary:i,startDetails:a,endDetails:s})}return y.none()})(t.dom,t.selection.getRng()).fold(()=>{((r,o)=>{const{dom:a,selection:s}=r,i=r.getBody();if(r.selection.isCollapsed()){const l=P.fromRangeStart(s.getRng()),d=a.getParent(l.container(),a.isBlock);if(d&&a.isEmpty(d))if(W(d.nextSibling)){const c=rn(i,l).filter(u=>vf(a,u));if(c.isSome())return c.each(u=>{o||Q1(r,u)}),!0}else if(W(d.previousSibling)&&Yt(i,l).filter(c=>vf(a,c)))return!0;return _s(o,i,l).fold($e,c=>!!vf(a,c)&&(d&&a.isEmpty(d)&&r.dom.remove(d),o||Q1(r,c),!0))}return!1})(t,n.keyCode===ge.DELETE)&&n.preventDefault()},r=>{((e,t,n)=>{const r=e.selection,o=r.getNode(),a=r.getRng(),s=n.keyCode===ge.BACKSPACE,i=n.keyCode===ge.DELETE,l=e.selection.isCollapsed(),d=P.fromRangeStart(a),c=e.getBody();return!((l||!((u,m)=>{const p=m.startSummary.exists(g=>g.contains(u.startContainer)),f=m.startSummary.exists(g=>g.contains(u.endContainer)),h=m.startDetails.forall(g=>m.endDetails.forall(b=>g!==b));return(p||f)&&!(p&&f)||h})(a,t))&&!(l&&s&&(u=d,m=t,m.startSummary.exists(p=>{return f=u,Xt(p).exists(g=>g.isEqual(f));var f})))&&!(l&&i&&((u,m)=>m.startSummary.exists(p=>{return f=u,Pn(h=p).exists(g=>ft(g.getNode())&&rn(h,g).exists(b=>b.isEqual(f))||g.isEqual(f));var f,h}))(d,t))&&!(l&&s&&((u,m)=>m.startDetails.exists(p=>rn(p,u).forall(f=>m.startSummary.exists(h=>!h.contains(u.container())&&h.contains(f.container())))))(d,t))&&!(l&&i&&((u,m,p)=>p.startDetails.exists(f=>Yt(u,m).forall(h=>!f.contains(h.container()))))(c,d,t))&&(!$T||!Vk(o)||(!l&&K1(a,o)||F0(i,d,o)?W1(o):e.undoManager.transact(()=>{const u=r.getSel();let{anchorNode:m,anchorOffset:p,focusNode:f,focusOffset:h}=null!=u?u:{};const g=()=>{F(m)&&F(p)&&F(f)&&F(h)&&(null==u||u.setBaseAndExtent(m,p,f,h))},b=(C,w)=>{V(C.childNodes,E=>{Ns(E)&&w.appendChild(E)})},v=e.dom.create("span",{"data-mce-bogus":"all"});b(o,v),o.appendChild(v),g(),l&&(Z1&&(n.altKey||s&&n.metaKey)||!Z1&&n.ctrlKey)&&(null==u||u.modify("extend",s?"left":"right",n.metaKey?"line":"word")),!r.isCollapsed()&&K1(r.getRng(),v)?W1(o):(e.execCommand(s?"Delete":"ForwardDelete"),m=null==u?void 0:u.anchorNode,p=null==u?void 0:u.anchorOffset,f=null==u?void 0:u.focusNode,h=null==u?void 0:u.focusOffset,b(v,o),g()),e.dom.remove(v)}),0)));var u,m})(t,r,n)&&n.preventDefault()})})})(e)})(e),(s=>{const i="contenteditable",l=" "+X.trim(WS(s))+" ",d=" "+X.trim(vh(s))+" ",c=sw(l),u=sw(d),m=GS(s);m.length>0&&s.on("BeforeSetContent",p=>{((f,h,g)=>{let b=h.length,v=g.content;if("raw"!==g.format){for(;b--;)v=v.replace(h[b],wR(f,v,vh(f)));g.content=v}})(s,m,p)}),s.parser.addAttributeFilter("class",p=>{let f=p.length;for(;f--;){const h=p[f];c(h)?h.attr(i,"true"):u(h)&&h.attr(i,"false")}}),s.serializer.addAttributeFilter(i,p=>{let f=p.length;for(;f--;){const h=p[f];(c(h)||u(h))&&(m.length>0&&h.attr("data-mce-content")?(h.name="#text",h.type=3,h.raw=!0,h.value=h.attr("data-mce-content")):h.attr(i,null))}})})(e),cr(e)||((s=e).on("mousedown",i=>{i.detail>=3&&(i.preventDefault(),(e=>{const t=((n,r)=>{const o=P.fromRangeStart(n).getNode(),a=(c=r,fo(S(o),u=>$n(u.dom)||wn(u),eE(c)).getOr(S(c)).dom),s=nE(o,a,!1),i=nE(o,a,!0),l=document.createRange();var c;return tE(s,a).fold(()=>{J1(s)?l.setStart(s,0):l.setStartBefore(s)},d=>l.setStartBefore(d.dom)),tE(i,a).fold(()=>{J1(i)?l.setEnd(i,i.data.length):l.setEndAfter(i)},d=>l.setEndAfter(d.dom)),l})(e.selection.getRng(),e.getBody());e.selection.setRng(Pu(t))})(s))}),(s=>{(i=>{const l=[",",".",";",":","!","?"],d=[32],c=()=>{return p=qS(i),f=VS(i),{inlinePatterns:th(p),blockPatterns:eh(p),dynamicPatternsLookup:f};var p,f},u=()=>i.options.isSet("text_patterns_lookup");i.on("keydown",p=>{if(13===p.keyCode&&!ge.modifierPressed(p)&&i.selection.isCollapsed()){const f=c();(f.inlinePatterns.length>0||f.blockPatterns.length>0||u())&&((e,t)=>{const n=e.selection.getRng();return wf(e,n).map(r=>{var o;const a=Math.max(0,n.startOffset),s=vE(t,r,null!==(o=r.textContent)&&void 0!==o?o:""),i=_E(e,r,n.startContainer,a,s,!0),l=((d,c,u,m)=>{var p;const f=d.dom,h=nn(d);if(!f.is(c,h))return[];const g=null!==(p=c.textContent)&&void 0!==p?p:"";return((b,v)=>{const C=U(b,(k,x)=>x.start.length-k.start.length),w=v.replace(_t," ");return bt(C,E=>0===v.indexOf(E.start)||0===w.indexOf(E.start))})(u.blockPatterns,g).map(b=>X.trim(g).length===b.start.length?[]:[{pattern:b,range:Cf(f,f.getRoot(),c,0,c,0,!0)}]).getOr([])})(e,r,s);return(l.length>0||i.length>0)&&(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{e.insertContent("\ufeff"),AE(e,i),((u,m)=>{if(0===m.length)return;const p=u.selection.getBookmark();V(m,f=>((h,g)=>{const v=g.pattern,C=bE(h.dom.getRoot(),g.range).getOrDie("Unable to resolve path range");return wf(h,C).each(w=>{"block-format"===v.type?((E,k)=>{const x=k.get(E);return q(x)&&te(x).exists(O=>Ie(O,"block"))})(v.format,h.formatter)&&h.undoManager.transact(()=>{CE(h.dom,w,v),h.formatter.apply(v.format)}):"block-command"===v.type&&h.undoManager.transact(()=>{CE(h.dom,w,v),h.execCommand(v.cmd,!1,v.value)})}),!0})(u,f)),u.selection.moveToBookmark(p)})(e,l);const d=e.selection.getRng(),c=zm(d.startContainer,d.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),c.each(u=>{const m=u.container;"\ufeff"===m.data.charAt(u.offset-1)&&(m.deleteData(u.offset-1,1),Ma(e.dom,m.parentNode,p=>p===e.dom.getRoot()))})}),!0)}).getOr(!1)})(i,f)&&p.preventDefault()}},!0);const m=()=>{if(i.selection.isCollapsed()){const p=c();(p.inlinePatterns.length>0||u())&&((f,h)=>{const g=f.selection.getRng();wf(f,g).map(b=>{const v=Math.max(0,g.startOffset-1),C=yE(f.dom,b,g.startContainer,v),w=vE(h,b,C),E=_E(f,b,g.startContainer,v,w,!1);E.length>0&&f.undoManager.transact(()=>{AE(f,E)})})})(i,p)}};i.on("keyup",p=>{NE(d,p,(f,h)=>f===h.keyCode&&!ge.modifierPressed(h))&&m()}),i.on("keypress",p=>{NE(l,p,(f,h)=>f.charCodeAt(0)===h.charCode)&&_n.setEditorTimeout(i,m)})})(s)})(e));const o=wT(e);((e,t)=>{e.addCommand("delete",()=>{var n;nw(n=e,t,!1).fold(()=>{wu(n),Eu(n)},Jt)}),e.addCommand("forwardDelete",()=>{var n;nw(n=e,t,!0).fold(()=>M0(n,"ForwardDelete"),Jt)})})(e,o),(s=>{s.on("NodeChange",ce(CR,s))})(e),(s=>{var i;const l=s.dom,d=nn(s),c=null!==(i=sS(s))&&void 0!==i?i:"",u=(m,p)=>{if((g=>{if(eC(g)){const b=g.keyCode;return!tC(g)&&(ge.metaKeyPressed(g)||g.altKey||b>=112&&b<=123||qe(MN,b))}return!1})(m))return;const f=s.getBody(),h=!(eC(g=m)&&!(tC(g)||"keyup"===g.type&&229===g.keyCode))&&((g,b,v)=>{if(Ct(S(b),!1)){const C=b.firstElementChild;return!C||!g.getStyle(b.firstElementChild,"padding-left")&&!g.getStyle(b.firstElementChild,"padding-right")&&v===C.nodeName.toLowerCase()}return!1})(l,f,d);var g;(""!==l.getAttrib(f,Jy)!==h||p)&&(l.setAttrib(f,Jy,h?c:null),l.setAttrib(f,"aria-placeholder",h?c:null),((g,b)=>{g.dispatch("PlaceholderToggle",{state:b})})(s,h),s.on(h?"keydown":"keyup",u),s.off(h?"keyup":"keydown",u))};Zn(c)&&s.on("init",m=>{u(m,!0),s.on("change SetContent ExecCommand",u),s.on("paste",p=>_n.setEditorTimeout(s,()=>u(p)))})})(e),(e=>{const t=At(!1),n=At(zS(e)?"text":"html"),r=(o=>{const a=At(null);return{create:()=>((s,i)=>{const{dom:l,selection:d}=s,c=s.getBody();i.set(d.getRng());const u=l.add(s.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},T1);He.browser.isFirefox()&&l.setStyle(u,"left","rtl"===l.getStyle(c,"direction",!0)?65535:-65535),l.bind(u,"beforedeactivate focusin focusout",m=>{m.stopPropagation()}),u.focus(),d.select(u,!0)})(o,a),remove:()=>((s,i)=>{const l=s.dom;if(ff(s)){let d;const c=i.get();for(;d=ff(s);)l.remove(d),l.unbind(d);c&&s.selection.setRng(c)}i.set(null)})(o,a),getEl:()=>ff(o),getHtml:()=>(s=>{const i=s.dom,l=(m,p)=>{m.appendChild(p),i.remove(p,!0)},[d,...c]=Re(s.getBody().childNodes,TT);V(c,m=>{l(d,m)});const u=i.select("div[id=mcepastebin]",d);for(let m=u.length-1;m>=0;m--){const p=i.create("div");d.insertBefore(p,u[m]),l(p,u[m])}return d?d.innerHTML:""})(o),getLastRng:a.get}})(e);var o,a,s;o=e,(He.browser.isChromium()||He.browser.isSafari())&&(s=MT,(a=o).on("PastePreProcess",i=>{i.content=s(a,i.content,i.internal)})),((o,a)=>{o.addCommand("mceTogglePlainTextPaste",()=>{((s,i)=>{"text"===i.get()?(i.set("html"),wb(s,!1)):(i.set("text"),wb(s,!0)),s.focus()})(o,a)}),o.addCommand("mceInsertClipboardContent",(s,i)=>{i.html&&td(o,i.html,i.internal,!1),i.text&&hf(o,i.text,!1)})})(e,n),(o=>{const a=l=>d=>{l(o,d)},s=LS(o);we(s)&&o.on("PastePreProcess",a(s));const i=PS(o);we(i)&&o.on("PastePostProcess",a(i))})(e),e.on("PreInit",()=>{(o=>{o.on("cut",(a=>s=>{!s.isDefaultPrevented()&&j1(a)&&U1(s,z1(a),$1(a),()=>{if(He.browser.isChromium()||He.browser.isFirefox()){const i=a.selection.getRng();_n.setEditorTimeout(a,()=>{a.selection.setRng(i),a.execCommand("Delete")},0)}else a.execCommand("Delete")})})(o)),o.on("copy",(a=>s=>{!s.isDefaultPrevented()&&j1(a)&&U1(s,z1(a),$1(a),Ee)})(o))})(e),((o,a)=>{DS(o)&&o.on("dragend dragover draggesture dragdrop drop drag",s=>{s.preventDefault(),s.stopPropagation()}),Hi(o)||o.on("drop",s=>{const i=s.dataTransfer;i&&st(i.files,d=>/^image\//.test(d.type))&&s.preventDefault()}),o.on("drop",s=>{if(s.isDefaultPrevented())return;const i=H1(o,s);if(ie(i))return;const l=I1(s.dataTransfer),d=eo(l,ed());if((!M1(l)||(p=>{const f=p["text/plain"];return!!f&&0===f.indexOf("file://")})(l))&&F1(o,s,i))return;const c=l[ed()],u=c||l["text/html"]||l["text/plain"],m=((p,f,h,g)=>{const b=p.getParent(h,v=>Co(f,v));if(b&&Ie(g,"text/html")){const v=(new DOMParser).parseFromString(g["text/html"],"text/html").body;return!W(v.querySelector(b.nodeName.toLowerCase()))}return!1})(o.dom,o.schema,i.startContainer,l);a.get()&&!m||u&&(s.preventDefault(),_n.setEditorTimeout(o,()=>{o.undoManager.transact(()=>{c&&o.execCommand("Delete"),q1(o,i);const p=D1(u);l["text/html"]?td(o,p,d,!0):hf(o,p,!0)})}))}),o.on("dragstart",s=>{a.set(!0)}),o.on("dragover dragend",s=>{Hi(o)&&!a.get()&&(s.preventDefault(),q1(o,H1(o,s))),"dragend"===s.type&&a.set(!1)})})(e,t),((e,t,n)=>{((r,o,a)=>{let s;r.on("keydown",i=>{var l;(ge.metaKeyPressed(l=i)&&86===l.keyCode||l.shiftKey&&45===l.keyCode)&&!i.isDefaultPrevented()&&(s=i.shiftKey&&86===i.keyCode)}),r.on("paste",i=>{if(i.isDefaultPrevented()||(c=i,He.os.isAndroid()&&0===(null===(m=null===(u=c.clipboardData)||void 0===u?void 0:u.items)||void 0===m?void 0:m.length)))return;var c,u,m;const l="text"===a.get()||s;s=!1;const d=I1(i.clipboardData);!M1(d)&&F1(r,i,o.getLastRng()||r.selection.getRng())||(eo(d,"text/html")?(i.preventDefault(),bf(r,d,d["text/html"],l,!0)):eo(d,"text/plain")&&eo(d,"text/uri-list")?(i.preventDefault(),bf(r,d,d["text/plain"],l,!0)):(o.create(),_n.setEditorTimeout(r,()=>{const c=o.getHtml();o.remove(),bf(r,d,c,l,!1)},0)))})})(e,t,n),(r=>{const o=s=>It(s,"webkit-fake-url"),a=s=>It(s,"data:");r.parser.addNodeFilter("img",(s,i,l)=>{if(!Hi(r)&&!0===(null===(c=l.data)||void 0===c?void 0:c.paste))for(const d of s){const c=d.attr("src");ae(c)&&!d.attr("data-mce-object")&&c!==He.transparentSrc&&(o(c)||!HS(r)&&a(c))&&d.remove()}var c})})(e)})(e,r,n)})})(e);const a=(s=>{const i=s;return(l=s,it(l.plugins,"rtc").bind(d=>y.from(d.setup))).fold(()=>(i.rtcInstance=Ny(s),y.none()),l=>(i.rtcInstance=(()=>{const d=ee(null),c=ee("");return{init:{bindEvents:Ee},undoManager:{beforeChange:Ee,add:d,undo:d,redo:d,clear:Ee,reset:Ee,hasUndo:$e,hasRedo:$e,transact:d,ignore:Ee,extra:Ee},formatter:{match:$e,matchAll:ee([]),matchNode:ee(void 0),canApply:$e,closest:c,apply:Ee,remove:Ee,toggle:Ee,formatChanged:ee({unbind:Ee})},editor:{getContent:c,setContent:ee({content:"",html:""}),insertContent:ee(""),addVisual:Ee},selection:{getContent:c},autocompleter:{addDecoration:Ee,removeDecoration:Ee},raw:{getModel:ee(y.none())}}})(),y.some(()=>l().then(d=>(i.rtcInstance=(c=>{const u=C=>Fe(C)?C:{},{init:m,undoManager:p,formatter:f,editor:h,selection:g,autocompleter:b,raw:v}=c;return{init:{bindEvents:m.bindEvents},undoManager:{beforeChange:p.beforeChange,add:p.add,undo:p.undo,redo:p.redo,clear:p.clear,reset:p.reset,hasUndo:p.hasUndo,hasRedo:p.hasRedo,transact:(C,w,E)=>p.transact(E),ignore:(C,w)=>p.ignore(w),extra:(C,w,E,k)=>p.extra(E,k)},formatter:{match:(C,w,E,k)=>f.match(C,u(w),k),matchAll:f.matchAll,matchNode:f.matchNode,canApply:C=>f.canApply(C),closest:C=>f.closest(C),apply:(C,w,E)=>f.apply(C,u(w)),remove:(C,w,E,k)=>f.remove(C,u(w)),toggle:(C,w,E)=>f.toggle(C,u(w)),formatChanged:(C,w,E,k,x)=>f.formatChanged(w,E,k,x)},editor:{getContent:C=>h.getContent(C),setContent:(C,w)=>({content:h.setContent(C,w),html:""}),insertContent:(C,w)=>(h.insertContent(C),""),addVisual:h.addVisual},selection:{getContent:(C,w)=>g.getContent(w)},autocompleter:{addDecoration:b.addDecoration,removeDecoration:b.removeDecoration},raw:{getModel:()=>y.some(v.getRawModel())}}})(d),d.rtc.isRemote)))));var l})(e);(s=>{const i=s.getDoc(),l=s.getBody();s.dispatch("PreInit"),OS(s)||(i.body.spellcheck=!1,kf.setAttrib(l,"spellcheck","false")),s.quirks=(e=>{const t=X.each,n=ge.BACKSPACE,r=ge.DELETE,o=e.dom,a=e.selection,s=e.parser,i=He.browser,l=i.isFirefox(),d=i.isChromium()||i.isSafari(),c=He.deviceType.isiPhone()||He.deviceType.isiPad(),u=He.os.isMacOS()||He.os.isiOS(),m=(_,T)=>{try{e.getDoc().execCommand(_,!1,String(T))}catch{}},p=_=>_.isDefaultPrevented(),f=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},h=()=>{e.inline||o.bind(e.getDoc(),"mousedown mouseup",_=>{let T;if(_.target===e.getDoc().documentElement)if(T=a.getRng(),e.getBody().focus(),"mousedown"===_.type){if(En(T.startContainer))return;a.placeCaretAt(_.clientX,_.clientY)}else a.setRng(T)})},g=()=>{Range.prototype.getClientRects||e.on("mousedown",_=>{if(!p(_)&&"HTML"===_.target.nodeName){const T=e.getBody();T.blur(),_n.setEditorTimeout(e,()=>{T.focus()})}})},b=()=>{const _=bh(e);e.on("click",T=>{const N=T.target;/^(IMG|HR)$/.test(N.nodeName)&&o.isEditable(N.parentNode)&&(T.preventDefault(),e.selection.select(N),e.nodeChanged()),"A"===N.nodeName&&o.hasClass(N,_)&&0===N.childNodes.length&&o.isEditable(N.parentNode)&&(T.preventDefault(),a.select(N))})},v=()=>{e.on("keydown",_=>{if(!p(_)&&_.keyCode===n&&a.isCollapsed()&&0===a.getRng().startOffset){const T=a.getNode().previousSibling;if(T&&T.nodeName&&"table"===T.nodeName.toLowerCase())return _.preventDefault(),!1}return!0})},C=()=>{ph(e)||e.on("BeforeExecCommand mousedown",()=>{m("StyleWithCSS",!1),m("enableInlineTableEditing",!1),fh(e)||m("enableObjectResizing",!1)})},w=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},E=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},k=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",_=>{let T;"HTML"===_.target.nodeName&&(T=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(T),e.selection.normalize(),e.nodeChanged())}))},x=()=>{u&&e.on("keydown",_=>{!ge.metaKeyPressed(_)||_.shiftKey||37!==_.keyCode&&39!==_.keyCode||(_.preventDefault(),e.selection.getSel().modify("move",37===_.keyCode?"backward":"forward","lineboundary"))})},O=()=>{e.on("click",_=>{let T=_.target;do{if("A"===T.tagName)return void _.preventDefault()}while(T=T.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},I=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",_=>{_.preventDefault()})})},L=Ee;return cr(e)?(d&&(h(),b(),I(),f(),c&&(E(),k(),O())),l&&(g(),C(),w(),x())):(e.on("keydown",_=>{if(p(_)||_.keyCode!==ge.BACKSPACE)return;let T=a.getRng();const N=T.startContainer,B=T.startOffset,Q=o.getRoot();let G=N;if(T.collapsed&&0===B){for(;G.parentNode&&G.parentNode.firstChild===G&&G.parentNode!==Q;)G=G.parentNode;"BLOCKQUOTE"===G.nodeName&&(e.formatter.toggle("blockquote",void 0,G),T=o.createRng(),T.setStart(N,0),T.setEnd(N,0),a.setRng(T))}}),(()=>{const _=T=>{const N=o.create("body"),B=T.cloneContents();return N.appendChild(B),a.serializer.serialize(N,{format:"html"})};e.on("keydown",T=>{const N=T.keyCode;if(!p(T)&&(N===r||N===n)&&e.selection.isEditable()){const B=e.selection.isCollapsed(),Q=e.getBody();if(B&&!o.isEmpty(Q)||!B&&!(G=>{const Ce=_(G),re=o.createRng();return re.selectNode(e.getBody()),Ce===_(re)})(e.selection.getRng()))return;T.preventDefault(),e.setContent(""),Q.firstChild&&o.isBlock(Q.firstChild)?e.selection.setCursorLocation(Q.firstChild,0):e.selection.setCursorLocation(Q,0),e.nodeChanged()}})})(),He.windowsPhone||e.on("keyup focusin mouseup",_=>{ge.modifierPressed(_)||(T=>{const N=T.getBody(),B=T.selection.getRng();return B.startContainer===B.endContainer&&B.startContainer===N&&0===B.startOffset&&B.endOffset===N.childNodes.length})(e)||a.normalize()},!0),d&&(h(),b(),e.on("init",()=>{m("DefaultParagraphSeparator",nn(e))}),I(),v(),s.addNodeFilter("br",_=>{let T=_.length;for(;T--;)"Apple-interchange-newline"===_[T].attr("class")&&_[T].remove()}),c?(E(),k(),O()):f()),l&&(e.on("keydown",_=>{if(!p(_)&&_.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(a.isCollapsed()&&0===a.getRng().startOffset){const T=a.getNode(),N=T.previousSibling;if("HR"===T.nodeName)return o.remove(T),void _.preventDefault();N&&N.nodeName&&"hr"===N.nodeName.toLowerCase()&&(o.remove(N),_.preventDefault())}}}),g(),(()=>{const _=()=>{const N=o.getAttribs(a.getStart().cloneNode(!1));return()=>{const B=a.getStart();B!==e.getBody()&&(o.setAttrib(B,"style",null),t(N,Q=>{B.setAttributeNode(Q.cloneNode(!0))}))}},T=()=>!a.isCollapsed()&&o.getParent(a.getStart(),o.isBlock)!==o.getParent(a.getEnd(),o.isBlock);e.on("keypress",N=>{let B;return!(!(p(N)||8!==N.keyCode&&46!==N.keyCode)&&T()&&(B=_(),e.getDoc().execCommand("delete",!1),B(),N.preventDefault(),1))}),o.bind(e.getDoc(),"cut",N=>{if(!p(N)&&T()){const B=_();_n.setEditorTimeout(e,()=>{B()})}})})(),C(),e.on("SetContent ExecCommand",_=>{"setcontent"!==_.type&&"mceInsertLink"!==_.command||t(o.select("a:not([data-mce-block])"),T=>{var N;let B=T.parentNode;const Q=o.getRoot();if((null==B?void 0:B.lastChild)===T){for(;B&&!o.isBlock(B);){if((null===(N=B.parentNode)||void 0===N?void 0:N.lastChild)!==B||B===Q)return;B=B.parentNode}o.add(B,"br",{"data-mce-bogus":1})}})}),w(),x(),v(),e.on("drop",_=>{var T;const N=null===(T=_.dataTransfer)||void 0===T?void 0:T.getData("text/html");ae(N)&&/^<img[^>]*>$/.test(N)&&e.dispatch("dragend",new window.DragEvent("dragend",_))}))),{refreshContentEditable:L,isHidden:()=>{if(!l||e.removed)return!1;const _=e.selection.getSel();return!_||!_.rangeCount||0===_.rangeCount}}})(s),s.dispatch("PostRender");const d=rS(s);void 0!==d&&(l.dir=d);const c=BS(s);c&&s.on("BeforeSetContent",u=>{X.each(c,m=>{u.content=u.content.replace(m,p=>"\x3c!--mce:protected "+escape(p)+"--\x3e")})}),s.on("SetContent",()=>{s.addVisual(s.getBody())}),s.on("compositionstart compositionend",u=>{s.composing="compositionstart"===u.type})})(e),a.fold(()=>{BE(e).then(()=>Sf(e))},s=>{e.setProgressState(!0),BE(e).then(()=>{s().then(i=>{e.setProgressState(!1),Sf(e),Ry(e)},i=>{e.notificationManager.open({type:"error",text:String(i)}),Sf(e),Ry(e)})})})},iO=rt,_f=et.DOM,LE=et.DOM,PE=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),IE=e=>{const t=e.getElement();return e.inline?PE(null):(n=>{const r=LE.create("div");return LE.insertAfter(r,n),PE(r,r)})(t)},lO=async e=>{e.dispatch("ScriptsLoaded"),(n=>{const r=X.trim(dh(n)),o=n.ui.registry.getAll().icons,a={...Al.get("default").icons,...Al.get(r).icons};ve(a,(s,i)=>{Ie(o,i)||n.ui.registry.addIcon(i,s)})})(e),(n=>{const r=ha(n);if(ae(r)){const o=jo.get(r);n.theme=o(n,jo.urls[r])||{},we(n.theme.init)&&n.theme.init(n,jo.urls[r]||n.documentBaseUrl.replace(/\/$/,""))}else n.theme={}})(e),(n=>{const r=Ec(n),o=Na.get(r);n.model=o(n,Na.urls[r])})(e),(n=>{const r=[];V(ji(n),o=>{((a,s,i)=>{const l=Ra.get(i),d=Ra.urls[i]||a.documentBaseUrl.replace(/\/$/,"");if(i=X.trim(i),l&&-1===X.inArray(s,i)){if(a.plugins[i])return;try{const c=l(a,d)||{};a.plugins[i]=c,we(c.init)&&(c.init(a,d),s.push(i))}catch(c){((u,m,p)=>{const f=zn.translate(["Failed to initialize plugin: {0}",m]);hb(u,"PluginLoadError",{message:f}),Rl(f,p),Nl(u,f)})(a,i,c)}}})(n,r,o.replace(/^\-/,""))})})(e);const t=await(n=>{const r=n.getElement();return n.orgDisplay=r.style.display,ae(ha(n))?(o=>{const a=o.theme.renderUI;return a?a():IE(o)})(n):we(ha(n))?(o=>{const a=o.getElement(),s=ha(o)(o,a);return s.editorContainer.nodeType&&(s.editorContainer.id=s.editorContainer.id||o.id+"_parent"),s.iframeContainer&&s.iframeContainer.nodeType&&(s.iframeContainer.id=s.iframeContainer.id||o.id+"_iframecontainer"),s.height=s.iframeHeight?s.iframeHeight:a.offsetHeight,s})(n):IE(n)})(e);var n,r;((n,r)=>{const o={show:y.from(r.show).getOr(Ee),hide:y.from(r.hide).getOr(Ee),isEnabled:y.from(r.isEnabled).getOr(rt),setEnabled:a=>{n.mode.isReadOnly()||y.from(r.setEnabled).each(s=>s(a))}};n.ui={...n.ui,...o}})(e,y.from(t.api).getOr({})),e.editorContainer=t.editorContainer,(n=e).contentCSS=n.contentCSS.concat(qy(r=n,tS(r)),(r=>qy(r,mh(r)))(n)),e.inline?DE(e):((n,r)=>{((o,a)=>{const s=o.translate("Rich Text Area"),i=yr(S(o.getElement()),"tabindex").bind(fi),l=((d,c,u,m)=>{const p=Dt("iframe");return m.each(f=>Bt(p,"tabindex",f)),Lr(p,u),Lr(p,{id:d+"_ifr",frameBorder:"0",allowTransparency:"true",title:c}),ta(p,"tox-edit-area__iframe"),p})(o.id,s,Ix(o),i).dom;l.onload=()=>{l.onload=null,o.dispatch("load")},o.contentAreaContainer=a.iframeContainer,o.iframeElement=l,o.iframeHTML=(d=>{let c=Mx(d)+"<html><head>";ah(d)!==d.documentBaseUrl&&(c+='<base href="'+d.documentBaseURI.getURI()+'" />'),c+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const u=Fx(d),m=Ux(d),p=d.translate(_S(d));return sh(d)&&(c+='<meta http-equiv="Content-Security-Policy" content="'+sh(d)+'" />'),c+=`</head><body id="${u}" class="mce-content-body ${m}" data-id="${d.id}" aria-label="${p}"><br></body></html>`,c})(o),_f.add(a.iframeContainer,l)})(n,r),r.editorContainer&&(r.editorContainer.style.display=n.orgDisplay,n.hidden=_f.isHidden(r.editorContainer)),n.getElement().style.display="none",_f.setAttrib(n.id,"aria-hidden","true"),n.getElement().style.visibility=n.orgVisibility,(o=>{const a=o.iframeElement,s=()=>{o.contentDocument=a.contentDocument,DE(o)};if(XS(o)||He.browser.isFirefox()){const l=o.getDoc();l.open(),l.write(o.iframeHTML),l.close(),s()}else{const l=((e,t,n,r)=>((o,a,s,i,l)=>{const d=(c=s,u=i,m=>{c(m)&&u((p=>{const f=S(kg(p).getOr(p.target)),h=()=>p.stopPropagation(),g=()=>p.preventDefault(),b=St(g,h);return{target:f,x:p.clientX,y:p.clientY,stop:h,prevent:g,kill:b,raw:p}})(m))});var c,u;return o.dom.addEventListener(a,d,!1),{unbind:ce($k,o,a,d,!1)}})(e,"load",n,()=>{l.unbind(),s()}))(S(a),0,iO);a.srcdoc=o.iframeHTML}})(n)})(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},Ho=et.DOM,ME=e=>"-"===e.charAt(0),FE=(e,t,n)=>y.from(t).filter(r=>Zn(r)&&!Al.has(r)).map(r=>({url:`${e.editorManager.baseURL}/icons/${r}/icons${n}.js`,name:y.some(r)})),UE=Qn().deviceType,$E=UE.isPhone(),cO=UE.isTablet(),oi=e=>{if(ie(e))return[];{const t=q(e)?e:e.split(/[ ,]/),n=ze(t,Qo);return Re(n,Zn)}},Af=(e,t)=>Ie(e.sections(),t),mO=(e,t)=>({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:it(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1,...t?{menubar:!1}:{}}),fO=(e,t)=>{var n;const r=null!==(n=t.external_plugins)&&void 0!==n?n:{};return e&&e.external_plugins?X.extend({},e.external_plugins,r):r},hO=(e,t)=>{const n=e.selection,r=e.dom;return/^ | $/.test(t)?((o,a,s)=>{const i=S(o.getRoot());return s=Ps(i,P.fromRangeStart(a))?s.replace(/^ /,"&nbsp;"):s.replace(/^&nbsp;/," "),Is(i,P.fromRangeEnd(a))?s.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):s.replace(/&nbsp;(<br( \/)?>)?$/," ")})(r,n.getRng(),t):t},sd=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:r}=(o=>{if("string"!=typeof o){const a=X.extend({paste:o.paste,data:{paste:o.paste}},o);return{content:o.content,details:a}}return{content:o,details:{}}})(t);lm(e,{...r,content:hO(e,n),format:"html",set:!1,selection:!0}).each(o=>{const a=(i=o.content,l=r,pm(e).editor.insertContent(i,l));var i,l;dm(e,a,o),e.addVisual()})}},bO={"font-size":"size","font-family":"face"},vO=Nd("font"),zE=e=>(t,n)=>y.from(n).map(S).filter(dn).bind(r=>{return(o=e,a=t,s=r.dom,Uu(S(s),i=>{return bi(l=i,o).orThunk(()=>vO(l)?it(bO,o).bind(d=>yr(l,d)):y.none());var l},i=>Ge(S(a),i))).or(((o,a)=>y.from(et.DOM.getStyle(a,o,!0)))(e,r.dom));var o,a,s}).getOr(""),yO=zE("font-size"),CO=St(e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),zE("font-family")),wO=e=>Xt(e.getBody()).bind(t=>{const n=t.container();return y.from(K(n)?n.parentNode:n)}),Nf=(e,t)=>{return n=e,r=Yn(y.some,t),(o=n,y.from(o.selection.getRng()).bind(a=>{const s=o.getBody();return a.startContainer===s&&0===a.startOffset?y.none():y.from(o.selection.getStart(!0))})).orThunk(ce(wO,n)).map(S).filter(dn).bind(r);var n,r,o},jE=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const r=X.explode(e.options.get("font_size_style_values")),o=X.explode(e.options.get("font_size_classes"));return o.length>0?o[n-1]||t:r[n-1]||t}return t}return t},EO=e=>{const t=e.split(/\s*,\s*/);return ze(t,n=>-1===n.indexOf(" ")||It(n,'"')||It(n,"'")?n:`'${n}'`).join(",")},xO=["toggleview"],HE=e=>qe(xO,e.toLowerCase());class qE{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n=!1,r,o){const a=this.editor,s=t.toLowerCase(),i=null==o?void 0:o.skip_focus;if(a.removed||("mcefocus"!==s&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(s)||i?ru(d=a).each(c=>d.selection.setRng(c)):a.focus()),a.dispatch("BeforeExecCommand",{command:t,ui:n,value:r}).isDefaultPrevented()))return!1;var d;const l=this.commands.exec[s];return!!we(l)&&(l(s,n,r),a.dispatch("ExecCommand",{command:t,ui:n,value:r}),!0)}queryCommandState(t){if(!HE(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),r=this.commands.state[n];return!!we(r)&&r(n)}queryCommandValue(t){if(!HE(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),r=this.commands.value[n];return we(r)?r(n):""}addCommands(t,n="exec"){const r=this.commands;ve(t,(o,a)=>{V(a.toLowerCase().split(","),s=>{r[n][s]=o})})}addCommand(t,n,r){const o=t.toLowerCase();this.commands.exec[o]=(a,s,i)=>n.call(null!=r?r:this.editor,s,i)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,r){this.commands.state[t.toLowerCase()]=()=>n.call(null!=r?r:this.editor)}addQueryValueHandler(t,n,r){this.commands.value[t.toLowerCase()]=()=>n.call(null!=r?r:this.editor)}}const qo="data-mce-contenteditable",Rf=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},id=(e,t)=>{e.dom.contentEditable=t?"true":"false"},Vo=e=>e.readonly,VE=e=>{e.parser.addAttributeFilter("contenteditable",t=>{Vo(e)&&V(t,n=>{n.attr(qo,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(qo,t=>{Vo(e)&&V(t,n=>{n.attr("contenteditable",n.attr(qo))})}),e.serializer.addTempAttr(qo)},_O=["copy"],AO=X.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class Tf{static isNative(t){return!!AO[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||$e}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const r=t.toLowerCase(),o=ac(r,null!=n?n:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(o);const a=this.bindings[r];if(a)for(let s=0,i=a.length;s<i;s++){const l=a[s];if(!l.removed){if(l.once&&this.off(r,l.func),o.isImmediatePropagationStopped())return o;if(!1===l.func.call(this.scope,o))return o.preventDefault(),o}}return o}on(t,n,r,o){if(!1===n&&(n=$e),n){const a={func:n,removed:!1};o&&X.extend(a,o);const s=t.toLowerCase().split(" ");let i=s.length;for(;i--;){const l=s[i];let d=this.bindings[l];d||(d=[],this.toggleEvent(l,!0)),d=r?[a,...d]:[...d,a],this.bindings[l]=d}}return this}off(t,n){if(t){const r=t.toLowerCase().split(" ");let o=r.length;for(;o--;){const a=r[o];let s=this.bindings[a];if(!a)return ve(this.bindings,(i,l)=>{this.toggleEvent(l,!1),delete this.bindings[l]}),this;if(s){if(n){const i=On(s,l=>l.func===n);s=i.fail,this.bindings[a]=s,V(i.pass,l=>{l.removed=!0})}else s.length=0;s.length||(this.toggleEvent(t,!1),delete this.bindings[a])}}}else ve(this.bindings,(r,o)=>{this.toggleEvent(o,!1)}),this.bindings={};return this}once(t,n,r){return this.on(t,n,r,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||0===n.length)}}const ai=e=>(e._eventDispatcher||(e._eventDispatcher=new Tf({scope:e,toggleEvent:(t,n)=>{Tf.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),Of={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const r=this;if(r.removed&&"remove"!==e&&"detach"!==e)return ac(e.toLowerCase(),null!=t?t:{},r);const o=ai(r).dispatch(e,t);if(!1!==n&&r.parent){let a=r.parent();for(;a&&!o.isPropagationStopped();)a.dispatch(e,o,!1),a=a.parent?a.parent():void 0}return o},on(e,t,n){return ai(this).on(e,t,n)},off(e,t){return ai(this).off(e,t)},once(e,t){return ai(this).once(e,t)},hasEventListeners(e){return ai(this).has(e)}},ld=et.DOM;let Wo;const dd=(e,t)=>{if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=gh(e);return n?(e.eventRoot||(e.eventRoot=ld.select(n)[0]),e.eventRoot):e.getBody()},WE=(e,t,n)=>{var r;(r=e).hidden||Vo(r)?Vo(e)&&((r,o)=>{if("click"!==o.type||ge.metaKeyPressed(o))qe(_O,o.type)&&r.dispatch(o.type,o);else{const a=S(o.target);(s=r,i=a,go(i,"a",l=>Ge(l,S(s.getBody()))).bind(l=>yr(l,"href"))).each(s=>{if(o.preventDefault(),/^#/.test(s)){const i=r.dom.select(`${s},[name="${Hf(s,"#")}"]`);i.length&&r.selection.scrollIntoView(i[0],!0)}else window.open(s,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}var s,i})(e,n):e.dispatch(t,n)},GE=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=dd(e,t);if(gh(e)){if(Wo||(Wo={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Wo&&(ve(Wo,(o,a)=>{e.dom.unbind(dd(e,a))}),Wo=null)})),Wo[t])return;const r=o=>{const a=o.target,s=e.editorManager.get();let i=s.length;for(;i--;){const l=s[i].getBody();(l===a||ld.isChildOf(a,l))&&WE(s[i],t,o)}};Wo[t]=r,ld.bind(n,t,r)}else{const r=o=>{WE(e,t,o)};ld.bind(n,t,r),e.delegates[t]=r}},KE={...Of,bindPendingEventDelegates(){const e=this;X.each(e._pendingNativeEvents,t=>{GE(e,t)})},toggleNativeEvent(e,t){const n=this;"focus"!==e&&"blur"!==e&&(n.removed||(t?n.initialized?GE(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(dd(n,e),e,n.delegates[e]),delete n.delegates[e])))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(ve(e.delegates,(r,o)=>{e.dom.unbind(dd(e,o),o,r)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},NO=e=>ae(e)?{value:e.split(/[ ,]/),valid:!0}:je(e,ae)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},YE=(e,t)=>e+(Wa(t.message)?"":`. ${t.message}`),XE=e=>e.valid,Bf=(e,t,n="")=>{const r=t(e);return le(r)?r?{value:e,valid:!0}:{valid:!1,message:n}:r},RO=["design","readonly"],ZE=(e,t,n,r)=>{const o=n[t.get()],a=n[r];try{a.activate()}catch(s){return void console.error(`problem while activating editor mode ${r}:`,s)}var s;o.deactivate(),o.editorReadOnly!==a.editorReadOnly&&((e,t)=>{const n=S(e.getBody());var r,o,a;a=t,Td(r=n,o="mce-content-readonly")&&!a?na(r,o):a&&ta(r,o),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),(r=>{y.from(r.selection.getNode()).each(o=>{o.removeAttribute("data-mce-selected")})})(e),e.readonly=!0,id(n,!1),V(jt(n,'*[contenteditable="true"]'),r=>{Bt(r,qo,"true"),id(r,!1)})):(e.readonly=!1,e.hasEditableRoot()&&id(n,!0),V(jt(n,`*[${qo}="true"]`),r=>{Mt(r,qo),id(r,!0)}),Rf(e,"StyleWithCSS",!1),Rf(e,"enableInlineTableEditing",!1),Rf(e,"enableObjectResizing",!1),(r=>Po(r)||(o=>{const a=Pr(S(o.getElement()));return tu(a).filter(s=>!au(s.dom)&&il(o,s.dom)).isSome()})(r))(e)&&e.focus(),(r=>{r.selection.setRng(r.selection.getRng())})(e),e.nodeChanged())})(e,a.editorReadOnly),t.set(r),(s=e).dispatch("SwitchMode",{mode:r})},Df=X.each,Lf=X.explode,TO={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},QE=X.makeMap("alt,ctrl,shift,meta,access"),OO=e=>{const t={},n=He.os.isMacOS()||He.os.isiOS();Df(Lf(e.toLowerCase(),"+"),a=>{a in QE?t[a]=!0:/^[0-9]{2,}$/.test(a)?t.keyCode=parseInt(a,10):(t.charCode=a.charCodeAt(0),t.keyCode=TO[a]||a.toUpperCase().charCodeAt(0))});const r=[t.keyCode];let o;for(o in QE)t[o]?r.push(o):t[o]=!1;return t.id=r.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class JE{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",r=>{!n.hasModifier(r)&&!n.isFunctionKey(r)||r.isDefaultPrevented()||(Df(n.shortcuts,o=>{n.matchShortcut(r,o)&&(n.pendingPatterns=o.subpatterns.slice(0),"keydown"===r.type&&n.executeShortcutAction(o))}),n.matchShortcut(r,n.pendingPatterns[0])&&(1===n.pendingPatterns.length&&"keydown"===r.type&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,r,o){const a=this,s=a.normalizeCommandFunc(r);return Df(Lf(X.trim(t)),i=>{const l=a.createShortcut(i,n,s,o);a.shortcuts[l.id]=l}),!0}remove(t){const n=this.createShortcut(t);return!!this.shortcuts[n.id]&&(delete this.shortcuts[n.id],!0)}normalizeCommandFunc(t){const n=this,r=t;return"string"==typeof r?()=>{n.editor.execCommand(r,!1,null)}:X.isArray(r)?()=>{n.editor.execCommand(r[0],r[1],r[2])}:r}createShortcut(t,n,r,o){const a=X.map(Lf(t,">"),OO);return a[a.length-1]=X.extend(a[a.length-1],{func:r,scope:o||this.editor}),X.extend(a[0],{desc:this.editor.translate(n),subpatterns:a.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return"keydown"===t.type&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!!n&&n.ctrl===t.ctrlKey&&n.meta===t.metaKey&&n.alt===t.altKey&&n.shift===t.shiftKey&&!!(t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode)&&(t.preventDefault(),!0)}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const BO=()=>{const e=(()=>{const t={},n={},r={},o={},a={},s={},i={},l={},d=(c,u)=>(m,p)=>{c[m.toLowerCase()]={...p,type:u}};return{addButton:d(t,"button"),addGroupToolbarButton:d(t,"grouptoolbarbutton"),addToggleButton:d(t,"togglebutton"),addMenuButton:d(t,"menubutton"),addSplitButton:d(t,"splitbutton"),addMenuItem:d(n,"menuitem"),addNestedMenuItem:d(n,"nestedmenuitem"),addToggleMenuItem:d(n,"togglemenuitem"),addAutocompleter:d(r,"autocompleter"),addContextMenu:d(a,"contextmenu"),addContextToolbar:d(s,"contexttoolbar"),addContextForm:d(s,"contextform"),addSidebar:d(i,"sidebar"),addView:d(l,"views"),addIcon:(c,u)=>o[c.toLowerCase()]=u,getAll:()=>({buttons:t,menuItems:n,icons:o,popups:r,contextMenus:a,contextToolbars:s,sidebars:i,views:l})}})();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,getAll:e.getAll}},Go=et.DOM,ek=X.extend,DO=X.each;class cd{constructor(t,n,r){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,ek(this,KE);const o=this;this.id=t,this.hidden=!1;const a=((e,t,n,r,o)=>{var a;const s=e?{mobile:mO(null!==(a=o.mobile)&&void 0!==a?a:{},t)}:{},i=((e,t)=>{const n=((a,s)=>{const i={},l={};return ja(a,(d,c)=>qe(e,c),Bn(i),Bn(l)),{t:i,f:l}})(t);return o=n.f,{sections:ee(n.t),options:ee(o)};var o})(["mobile"],Gm(s,o)),l=X.extend(n,r,i.options(),e&&Af(i,"mobile")?((d,c,u={})=>{const m=d.sections(),p=it(m,c).getOr({});return X.extend({},u,p)})(i,"mobile"):{},{external_plugins:fO(r,i.options())});return((d,c,u,m)=>{const p=oi(u.forced_plugins),f=oi(m.plugins),h=Af(v=c,"mobile")?v.sections().mobile:{},g=((v,C,w,E)=>v&&Af(C,"mobile")?E:w)(d,c,f,h.plugins?oi(h.plugins):f),b=((v,C)=>[...oi(v),...oi(C)])(p,g);var v;return X.extend(m,{forced_plugins:p,plugins:b})})(e,i,r,l)})($E||cO,$E,f=n,r.defaultOptions,f);var f;this.options=((p,f)=>{const h={},g={},b=(C,w,E)=>{const k=Bf(w,E);return XE(k)?(g[C]=k.value,!0):(console.warn(YE(`Invalid value passed for the ${C} option`,k)),!1)},v=C=>Ie(h,C);return{register:(C,w)=>{const E=ae(w.processor)?(x=>{const O=(()=>{switch(x){case"array":return q;case"boolean":return le;case"function":return we;case"number":return xe;case"object":return Fe;case"string":return ae;case"string[]":return NO;case"object[]":return I=>je(I,Fe);case"regexp":return I=>$t(I,RegExp);default:return rt}})();return I=>Bf(I,O,`The value must be a ${x}.`)})(w.processor):w.processor,k=((x,O,I)=>{if(!ne(O)){const L=Bf(O,I);if(XE(L))return L.value;console.error(YE(`Invalid default value passed for the "${x}" option`,L))}})(C,w.default,E);h[C]={...w,default:k,processor:E},it(g,C).orThunk(()=>it(f,C)).each(x=>b(C,x,E))},isRegistered:v,get:C=>it(g,C).orThunk(()=>it(h,C).map(w=>w.default)).getOrUndefined(),set:(C,w)=>{if(v(C)){const E=h[C];return E.immutable?(console.error(`"${C}" is an immutable option and cannot be updated`),!1):b(C,w,E.processor)}return console.warn(`"${C}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:C=>{const w=v(C);return w&&delete g[C],w},isSet:C=>Ie(g,C)}})(0,a),(p=>{const f=p.options.register;f("id",{processor:"string",default:p.id}),f("selector",{processor:"string"}),f("target",{processor:"object"}),f("suffix",{processor:"string"}),f("cache_suffix",{processor:"string"}),f("base_url",{processor:"string"}),f("referrer_policy",{processor:"string",default:""}),f("language_load",{processor:"boolean",default:!0}),f("inline",{processor:"boolean",default:!1}),f("iframe_attrs",{processor:"object",default:{}}),f("doctype",{processor:"string",default:"<!DOCTYPE html>"}),f("document_base_url",{processor:"string",default:p.documentBaseUrl}),f("body_id",{processor:oh(p,"tinymce"),default:"tinymce"}),f("body_class",{processor:oh(p),default:""}),f("content_security_policy",{processor:"string",default:""}),f("br_in_pre",{processor:"boolean",default:!0}),f("forced_root_block",{processor:h=>{const g=ae(h)&&Zn(h);return g?{value:h,valid:g}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),f("forced_root_block_attrs",{processor:"object",default:{}}),f("newline_behavior",{processor:h=>{const g=qe(["block","linebreak","invert","default"],h);return g?{value:h,valid:g}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),f("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),f("no_newline_selector",{processor:"string",default:""}),f("keep_styles",{processor:"boolean",default:!0}),f("end_container_on_empty_block",{processor:h=>le(h)||ae(h)?{valid:!0,value:h}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),f("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),f("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),f("font_size_classes",{processor:"string",default:""}),f("automatic_uploads",{processor:"boolean",default:!0}),f("images_reuse_filename",{processor:"boolean",default:!1}),f("images_replace_blob_uris",{processor:"boolean",default:!0}),f("icons",{processor:"string",default:""}),f("icons_url",{processor:"string",default:""}),f("images_upload_url",{processor:"string",default:""}),f("images_upload_base_path",{processor:"string",default:""}),f("images_upload_credentials",{processor:"boolean",default:!1}),f("images_upload_handler",{processor:"function"}),f("language",{processor:"string",default:"en"}),f("language_url",{processor:"string",default:""}),f("entity_encoding",{processor:"string",default:"named"}),f("indent",{processor:"boolean",default:!0}),f("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),f("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),f("indent_use_margin",{processor:"boolean",default:!1}),f("indentation",{processor:"string",default:"40px"}),f("content_css",{processor:h=>{const g=!1===h||ae(h)||je(h,ae);return g?ae(h)?{value:ze(h.split(","),Qo),valid:g}:q(h)?{value:h,valid:g}:!1===h?{value:[],valid:g}:{value:h,valid:g}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:kc(p)?[]:["default"]}),f("content_style",{processor:"string"}),f("content_css_cors",{processor:"boolean",default:!1}),f("font_css",{processor:h=>{const g=ae(h)||je(h,ae);return g?{value:q(h)?h:ze(h.split(","),Qo),valid:g}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),f("inline_boundaries",{processor:"boolean",default:!0}),f("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),f("object_resizing",{processor:h=>{const g=le(h)||ae(h);return g?!1===h||yc.isiPhone()||yc.isiPad()?{value:"",valid:g}:{value:!0===h?"table,img,figure.image,div,video,iframe":h,valid:g}:{valid:!1,message:"Must be boolean or a string"}},default:!Lx}),f("resize_img_proportional",{processor:"boolean",default:!0}),f("event_root",{processor:"object"}),f("service_message",{processor:"string"}),f("theme",{processor:h=>!1===h||ae(h)||we(h),default:"silver"}),f("theme_url",{processor:"string"}),f("formats",{processor:"object"}),f("format_empty_lines",{processor:"boolean",default:!1}),f("format_noneditable_selector",{processor:"string",default:""}),f("preview_styles",{processor:h=>{const g=!1===h||ae(h);return g?{value:!1===h?"":h,valid:g}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),f("custom_ui_selector",{processor:"string",default:""}),f("hidden_input",{processor:"boolean",default:!0}),f("submit_patch",{processor:"boolean",default:!0}),f("encoding",{processor:"string"}),f("add_form_submit_trigger",{processor:"boolean",default:!0}),f("add_unload_trigger",{processor:"boolean",default:!0}),f("custom_undo_redo_levels",{processor:"number",default:0}),f("disable_nodechange",{processor:"boolean",default:!1}),f("readonly",{processor:"boolean",default:!1}),f("editable_root",{processor:"boolean",default:!0}),f("plugins",{processor:"string[]",default:[]}),f("external_plugins",{processor:"object"}),f("forced_plugins",{processor:"string[]"}),f("model",{processor:"string",default:p.hasPlugin("rtc")?"plugin":"dom"}),f("model_url",{processor:"string"}),f("block_unsupported_drop",{processor:"boolean",default:!0}),f("visual",{processor:"boolean",default:!0}),f("visual_table_class",{processor:"string",default:"mce-item-table"}),f("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),f("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),f("setup",{processor:"function"}),f("init_instance_callback",{processor:"function"}),f("url_converter",{processor:"function",default:p.convertURL}),f("url_converter_scope",{processor:"object",default:p}),f("urlconverter_callback",{processor:"function"}),f("allow_conditional_comments",{processor:"boolean",default:!1}),f("allow_html_data_urls",{processor:"boolean",default:!1}),f("allow_svg_data_urls",{processor:"boolean"}),f("allow_html_in_named_anchor",{processor:"boolean",default:!1}),f("allow_script_urls",{processor:"boolean",default:!1}),f("allow_unsafe_link_target",{processor:"boolean",default:!1}),f("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),f("fix_list_elements",{processor:"boolean",default:!1}),f("preserve_cdata",{processor:"boolean",default:!1}),f("remove_trailing_brs",{processor:"boolean",default:!0}),f("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),f("element_format",{processor:"string",default:"html"}),f("entities",{processor:"string"}),f("schema",{processor:"string",default:"html5"}),f("convert_urls",{processor:"boolean",default:!0}),f("relative_urls",{processor:"boolean",default:!0}),f("remove_script_host",{processor:"boolean",default:!0}),f("custom_elements",{processor:"string"}),f("extended_valid_elements",{processor:"string"}),f("invalid_elements",{processor:"string"}),f("invalid_styles",{processor:Cc}),f("valid_children",{processor:"string"}),f("valid_classes",{processor:Cc}),f("valid_elements",{processor:"string"}),f("valid_styles",{processor:Cc}),f("verify_html",{processor:"boolean",default:!0}),f("auto_focus",{processor:h=>ae(h)||!0===h}),f("browser_spellcheck",{processor:"boolean",default:!1}),f("protect",{processor:"array"}),f("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),f("deprecation_warnings",{processor:"boolean",default:!0}),f("a11y_advanced_options",{processor:"boolean",default:!1}),f("api_key",{processor:"string"}),f("paste_block_drop",{processor:"boolean",default:!1}),f("paste_data_images",{processor:"boolean",default:!0}),f("paste_preprocess",{processor:"function"}),f("paste_postprocess",{processor:"function"}),f("paste_webkit_styles",{processor:"string",default:"none"}),f("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),f("paste_merge_formats",{processor:"boolean",default:!0}),f("smart_paste",{processor:"boolean",default:!0}),f("paste_as_text",{processor:"boolean",default:!1}),f("paste_tab_spaces",{processor:"number",default:4}),f("text_patterns",{processor:h=>je(h,Fe)||!1===h?{value:nh(!1===h?[]:h),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),f("text_patterns_lookup",{processor:h=>{return we(h)?{value:(g=h,b=>{const v=g(b);return nh(v)}),valid:!0}:{valid:!1,message:"Must be a single function"};var g},default:h=>[]}),f("noneditable_class",{processor:"string",default:"mceNonEditable"}),f("editable_class",{processor:"string",default:"mceEditable"}),f("noneditable_regexp",{processor:h=>je(h,rh)?{value:h,valid:!0}:rh(h)?{value:[h],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),f("table_tab_navigation",{processor:"boolean",default:!0}),f("highlight_on_focus",{processor:"boolean",default:!1}),f("xss_sanitization",{processor:"boolean",default:!0}),f("details_initial_state",{processor:h=>{const g=qe(["inherited","collapsed","expanded"],h);return g?{value:h,valid:g}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),f("details_serialized_state",{processor:h=>{const g=qe(["inherited","collapsed","expanded"],h);return g?{value:h,valid:g}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),f("init_content_sync",{processor:"boolean",default:!1}),f("newdocument_content",{processor:"string",default:""}),p.on("ScriptsLoaded",()=>{f("directionality",{processor:"string",default:zn.isRtl()?"rtl":void 0}),f("placeholder",{processor:"string",default:Px.getAttrib(p.getElement(),"placeholder")})})})(o);const s=this.options.get;s("deprecation_warnings")&&((p,f)=>{((h,g)=>{const b=(e=>{const t=My(e,bN),n=e.forced_root_block;return!1!==n&&""!==n||t.push("forced_root_block (false only)"),U(t)})(h),v=(e=>Fy(e,yN))(g),C=v.length>0,w=b.length>0,E="mobile"===g.theme;if(C||w||E){const k="\n- ",x=E?`\n\nThemes:${k}mobile`:"",O=C?`\n\nPlugins:${k}${v.join(k)}`:"",I=w?`\n\nOptions:${k}${b.join(k)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+x+O+I)}})(p,f),((h,g)=>{const b=(e=>My(e,vN))(h),v=(e=>Fy(e,Iy.map(t=>t.name)))(g),C=v.length>0,w=b.length>0;if(C||w){const E="\n- ",k=C?`\n\nPlugins:${E}${v.map(xN).join(E)}`:"",x=w?`\n\nOptions:${E}${b.join(E)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+k+x)}})(p,f)})(n,a);const i=s("suffix");i&&(r.suffix=i),this.suffix=r.suffix;const l=s("base_url");l&&r._setBaseUrl(l),this.baseUri=r.baseURI;const d=wc(o);d&&(_r.ScriptLoader._setReferrerPolicy(d),et.DOM.styleSheetLoader._setReferrerPolicy(d));const c=hh(o);F(c)&&et.DOM.styleSheetLoader._setContentCssCors(c),Kt.languageLoad=s("language_load"),Kt.baseURL=r.baseURL,this.setDirty(!1),this.documentBaseURI=new Vn(ah(o),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=kc(o),this.hasVisual=xS(o),this.shortcuts=new JE(this),this.editorCommands=new qE(this),(e=>{var t;(e=>{(t=>{const n=r=>()=>{V("left,center,right,justify".split(","),o=>{r!==o&&t.formatter.remove("align"+o)}),"none"!==r&&(t.formatter.toggle("align"+r,void 0),t.nodeChanged())};t.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})})(e),(t=>{const n=r=>()=>{const o=t.selection,a=o.isCollapsed()?[t.dom.getParent(o.getNode(),t.dom.isBlock)]:o.getSelectedBlocks();return st(a,s=>F(t.formatter.matchNode(s,r)))};t.editorCommands.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify")},"state")})(e)})(e),(t=e).editorCommands.addCommands({"Cut,Copy,Paste":n=>{const r=t.getDoc();let o;try{r.execCommand(n)}catch{o=!0}if("paste"!==n||r.queryCommandEnabled(n)||(o=!0),o||!r.queryCommandSupported(n)){let a=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(He.os.isMacOS()||He.os.isiOS())&&(a=a.replace(/Ctrl\+/g,"\u2318+")),t.notificationManager.open({text:a,type:"error"})}}}),(t=>{t.editorCommands.addCommands({mceAddUndoLevel:()=>{t.undoManager.add()},mceEndUndoLevel:()=>{t.undoManager.add()},Undo:()=>{t.undoManager.undo()},Redo:()=>{t.undoManager.redo()}})})(e),(t=>{t.editorCommands.addCommands({mceSelectNodeDepth:(n,r,o)=>{let a=0;t.dom.getParent(t.selection.getNode(),s=>!ue(s)||a++!==o||(t.selection.select(s),!1),t.getBody())},mceSelectNode:(n,r,o)=>{t.selection.select(o)},selectAll:()=>{const n=t.dom.getParent(t.selection.getStart(),$n);if(n){const r=t.dom.createRng();r.selectNodeContents(n),t.selection.setRng(r)}}})})(e),(t=>{t.editorCommands.addCommands({mceCleanup:()=>{const n=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(n)},insertImage:(n,r,o)=>{sd(t,t.dom.createHTML("img",{src:o}))},insertHorizontalRule:()=>{t.execCommand("mceInsertContent",!1,"<hr>")},insertText:(n,r,o)=>{sd(t,t.dom.encode(o))},insertHTML:(n,r,o)=>{sd(t,o)},mceInsertContent:(n,r,o)=>{sd(t,o)},mceSetContent:(n,r,o)=>{t.setContent(o)},mceReplaceContent:(n,r,o)=>{t.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceNewDocument:()=>{t.setContent(IS(t))}})})(e),(t=>{const n=(r,o,a)=>{const s=ae(a)?{href:a}:a,i=t.dom.getParent(t.selection.getNode(),"a");Fe(s)&&ae(s.href)&&(s.href=s.href.replace(/ /g,"%20"),i&&s.href||t.formatter.remove("link"),s.href&&t.formatter.apply("link",s,i))};t.editorCommands.addCommands({unlink:()=>{if(t.selection.isEditable()){if(t.selection.isCollapsed()){const r=t.dom.getParent(t.selection.getStart(),"a");return void(r&&t.dom.remove(r,!0))}t.formatter.remove("link")}},mceInsertLink:n,createLink:n})})(e),(t=>{t.editorCommands.addCommands({Indent:()=>{JC(t,"indent")},Outdent:()=>{ew(t)}}),t.editorCommands.addCommands({Outdent:()=>XC(t)},"state")})(e),(t=>{t.editorCommands.addCommands({insertParagraph:()=>{Zl(o1,t)},mceInsertNewLine:(n,r,o)=>{u1(t,o)},InsertLineBreak:(n,r,o)=>{Zl(i1,t)}})})(e),(t=>{var n;(n=t).editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":r=>{n.getDoc().execCommand(r);const o=n.dom.getParent(n.selection.getNode(),"ol,ul");if(o){const a=o.parentNode;if(a&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(a.nodeName)){const s=n.selection.getBookmark();n.dom.split(a,o),n.selection.moveToBookmark(s)}}}}),(n=>{n.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":r=>{const o=n.dom.getParent(n.selection.getNode(),"ul,ol");return o&&("insertunorderedlist"===r&&"UL"===o.tagName||"insertorderedlist"===r&&"OL"===o.tagName)}},"state")})(t)})(e),(t=>{(n=>{const r=(o,a)=>{n.formatter.toggle(o,a),n.nodeChanged()};n.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>{r(o)},"ForeColor,HiliteColor":(o,a,s)=>{r(o,{value:s})},BackColor:(o,a,s)=>{r("hilitecolor",{value:s})},FontName:(o,a,s)=>{((i,l)=>{const d=jE(i,l);i.formatter.toggle("fontname",{value:EO(d)}),i.nodeChanged()})(n,s)},FontSize:(o,a,s)=>{var i;(i=n).formatter.toggle("fontsize",{value:jE(i,s)}),i.nodeChanged()},LineHeight:(o,a,s)=>{var i;(i=n).formatter.toggle("lineheight",{value:String(s)}),i.nodeChanged()},Lang:(o,a,s)=>{var i;r(o,{value:s.code,customValue:null!==(i=s.customCode)&&void 0!==i?i:null})},RemoveFormat:o=>{n.formatter.remove(o)},mceBlockQuote:()=>{r("blockquote")},FormatBlock:(o,a,s)=>{r(ae(s)?s:"p")},mceToggleFormat:(o,a,s)=>{r(s)}})})(t),(n=>{const r=o=>n.formatter.match(o);n.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":o=>r(o),mceBlockQuote:()=>r("blockquote")},"state"),n.editorCommands.addQueryValueHandler("FontName",()=>{return Nf(o=n,a=>CO(o.getBody(),a.dom)).getOr("");var o}),n.editorCommands.addQueryValueHandler("FontSize",()=>{return Nf(o=n,a=>yO(o.getBody(),a.dom)).getOr("");var o}),n.editorCommands.addQueryValueHandler("LineHeight",()=>{return Nf(o=n,a=>{const s=S(o.getBody());return Uu(a,l=>bi(l,"line-height"),ce(Ge,s)).getOrThunk(()=>{const l=parseFloat(tr(a,"line-height")),d=parseFloat(tr(a,"font-size"));return String(l/d)})}).getOr("");var o})})(t)})(e),(t=>{t.editorCommands.addCommands({mceRemoveNode:(n,r,o)=>{const a=null!=o?o:t.selection.getNode();if(a!==t.getBody()){const s=t.selection.getBookmark();t.dom.remove(a,!0),t.selection.moveToBookmark(s)}},mcePrint:()=>{t.getWin().print()},mceFocus:(n,r,o)=>{var a;(a=t).removed||(!0===o?lu(a):(i=>{const l=i.selection,d=i.getBody();let c=l.getRng();i.quirks.refreshContentEditable(),F(i.bookmark)&&!Po(i)&&ru(i).each(m=>{i.selection.setRng(m),c=m});const u=(m=i,p=l.getNode(),m.dom.getParent(p,f=>"true"===m.dom.getContentEditable(f)));var m,p;if(u&&i.dom.isChildOf(u,d))return iu(u),Gb(i,c),void lu(i);i.inline||(He.browser.isOpera()||iu(d),i.getWin().focus()),(He.browser.isFirefox()||i.inline)&&(iu(d),Gb(i,c)),lu(i)})(a))},mceToggleVisualAid:()=>{t.hasVisual=!t.hasVisual,t.addVisual()}})})(e)})(this);const u=s("cache_suffix");u&&(He.cacheSuffix=u.replace(/^[\?\&]+/,"")),this.ui={registry:BO(),styleSheetLoader:void 0,show:Ee,hide:Ee,setEnabled:Ee,isEnabled:rt},this.mode=(p=>{const f=At("design"),h=At({design:{activate:Ee,deactivate:Ee,editorReadOnly:!1},readonly:{activate:Ee,deactivate:Ee,editorReadOnly:!0}});return(g=p).serializer?VE(g):g.on("PreInit",()=>{VE(g)}),(g=>{g.on("ShowCaret",b=>{Vo(g)&&b.preventDefault()}),g.on("ObjectSelected",b=>{Vo(g)&&b.preventDefault()})})(p),{isReadOnly:()=>Vo(p),set:g=>((b,v,C,w)=>{if(w!==C.get()){if(!Ie(v,w))throw new Error(`Editor mode '${w}' is invalid`);b.initialized?ZE(b,C,v,w):b.on("init",()=>ZE(b,C,v,w))}})(p,h.get(),f,g),get:()=>f.get(),register:(g,b)=>{h.set(((v,C,w)=>{if(qe(RO,C))throw new Error(`Cannot override default mode ${C}`);return{...v,[C]:{...w,deactivate:()=>{try{w.deactivate()}catch(E){console.error(`problem while deactivating editor mode ${C}:`,E)}}}}})(h.get(),g,b))}};var g})(o),r.dispatch("SetupEditor",{editor:this});const m=AS(o);we(m)&&m.call(o,o)}render(){(t=>{const n=t.id;zn.setCode(ch(t));const r=()=>{Ho.unbind(window,"ready",r),t.render()};if(!Eo.Event.domLoaded)return void Ho.bind(window,"ready",r);if(!t.getElement())return;const o=S(t.getElement()),a=ug(o);var l;t.on("remove",()=>{br(o.dom.attributes,i=>Mt(o,i.name)),Lr(o,a)}),t.ui.styleSheetLoader=ap.forElement(o,{contentCssCors:hh(l=t),referrerPolicy:wc(l)}),kc(t)?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");const s=t.getElement().form||Ho.getParent(n,"form");s&&(t.formElement=s,pS(t)&&!$d(t.getElement())&&(Ho.insertAfter(Ho.create("input",{type:"hidden",name:n}),n),t.hasHiddenInput=!0),t.formEventDelegate=i=>{t.dispatch(i.type,i)},Ho.bind(s,"submit reset",t.formEventDelegate),t.on("reset",()=>{t.resetContent()}),!hS(t)||s.submit.nodeType||s.submit.length||s._mceOldSubmit||(s._mceOldSubmit=s.submit,s.submit=()=>(t.editorManager.triggerSave(),t.setDirty(!1),s._mceOldSubmit(s)))),t.windowManager=jy(t),t.notificationManager=zy(t),"xml"===t.options.get("encoding")&&t.on("GetContent",i=>{i.save&&(i.content=Ho.encode(i.content))}),bS(t)&&t.on("submit",()=>{t.initialized&&t.save()}),vS(t)&&(t._beforeUnload=()=>{!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),((e,t)=>{const n=_r.ScriptLoader,r=()=>{!e.removed&&(o=>{const a=ha(o);return!ae(a)||F(jo.get(a))})(e)&&(o=>{const a=Ec(o);return F(Na.get(a))})(e)&&lO(e)};((o,a)=>{const s=ha(o);if(ae(s)&&!ME(s)&&!Ie(jo.urls,s)){const i=lS(o),l=i?o.documentBaseURI.toAbsolute(i):`themes/${s}/theme${a}.js`;jo.load(s,l).catch(()=>{js(o,"ThemeLoadError",Hs("theme",l,s))})}})(e,t),((o,a)=>{const s=Ec(o);if("plugin"!==s&&!Ie(Na.urls,s)){const i=dS(o),l=ae(i)?o.documentBaseURI.toAbsolute(i):`models/${s}/model${a}.js`;Na.load(s,l).catch(()=>{js(o,"ModelLoadError",Hs("model",l,s))})}})(e,t),((o,a)=>{const s=ch(a),i=Jx(a);if(!zn.hasCode(s)&&"en"!==s){const l=Zn(i)?i:`${a.editorManager.baseURL}/langs/${s}.js`;o.add(l).catch(()=>{js(a,"LanguageLoadError",Hs("language",l,s))})}})(n,e),((o,a,s)=>{const i=FE(a,"default",s),l=(d=a,y.from(Gx(d)).filter(Zn).map(c=>({url:c,name:y.none()}))).orThunk(()=>FE(a,dh(a),""));var d;V((d=>{const c=[],u=m=>{c.push(m)};for(let m=0;m<d.length;m++)d[m].each(u);return c})([i,l]),d=>{o.add(d.url).catch(()=>{var c,u,m;c=a,u=d.url,m=d.name.getOrUndefined(),js(c,"IconsLoadError",Hs("icons",u,m))})})})(n,e,t),((o,a)=>{const s=(i,l)=>{Ra.load(i,l).catch(()=>{js(o,"PluginLoadError",Hs("plugin",l,i))})};ve(ES(o),(i,l)=>{s(l,i),o.options.set("plugins",ji(o).concat(l))}),V(ji(o),i=>{!(i=X.trim(i))||Ra.urls[i]||ME(i)||s(i,`plugins/${i}/plugin${a}.js`)})})(e,t),n.loadQueue().then(r,r)})(t,t.suffix)})(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return Po(this)}translate(t){return zn.translate(t)}getParam(t,n,r){const o=this.options;return o.isRegistered(t)||(F(r)?o.register(t,{processor:r,default:n}):o.register(t,{processor:rt,default:n})),o.isSet(t)||ne(n)?o.get(t):n}hasPlugin(t,n){return!(!qe(ji(this),t)||n&&void 0===Ra.get(t))}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,r){this.editorCommands.addCommand(t,n,r)}addQueryStateHandler(t,n,r){this.editorCommands.addQueryStateHandler(t,n,r)}addQueryValueHandler(t,n,r){this.editorCommands.addQueryValueHandler(t,n,r)}addShortcut(t,n,r,o){this.shortcuts.add(t,n,r,o)}execCommand(t,n,r,o){return this.editorCommands.execCommand(t,n,r,o)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(Go.show(t.getContainer()),Go.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(Go.hide(t.getContainer()),Go.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,r=n.getElement();if(n.removed)return"";if(r){const o={...t,load:!0},a=$d(r)?r.value:r.innerHTML,s=n.setContent(a,o);return o.no_events||n.dispatch("LoadContent",{...o,element:r}),s}return""}save(t={}){const n=this;let r=n.getElement();if(!r||!n.initialized||n.removed)return"";const o={...t,save:!0,element:r};let a=n.getContent(o);const s={...o,content:a};if(s.no_events||n.dispatch("SaveContent",s),"raw"===s.format&&n.dispatch("RawSaveContent",s),a=s.content,$d(r))r.value=a;else{!t.is_removing&&n.inline||(r.innerHTML=a);const i=Go.getParent(n.id,"form");i&&DO(i.elements,l=>l.name!==n.id||(l.value=a,!1))}return s.element=o.element=r=null,!1!==s.set_dirty&&n.setDirty(!1),a}setContent(t,n){return hm(this,t,n)}getContent(t){return((n,r={})=>{const o=(a=r,s=r.format?r.format:"html",{...a,format:s,get:!0,getInner:!0});var a,s;return hy(n,o).fold(ut,a=>{const s=(l=a,pm(n).editor.getContent(l));var l;return by(n,s,a)})})(this,t)}insertContent(t,n){n&&(t=ek({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){void 0===t?hm(this,this.startContent,{format:"raw"}):hm(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||Go.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=Go.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){var t,n;const r=this.getDoc();return null!==(n=null!==(t=this.bodyElement)&&void 0!==t?t:null==r?void 0:r.body)&&void 0!==n?n:null}convertURL(t,n,r){const o=this,a=o.options.get,s=RS(o);return we(s)?s.call(o,t,r,!0,n):!a("convert_urls")||"link"===r||Fe(r)&&"LINK"===r.nodeName||0===t.indexOf("file:")||0===t.length?t:a("relative_urls")?o.documentBaseURI.toRelative(t):t=o.documentBaseURI.toAbsolute(t,a("remove_script_host"))}addVisual(t){((n,r)=>{var a;a=r,pt(this).editor.addVisual(a)})(0,t)}setEditableRoot(t){var n,r;(n=this)._editableRoot!==(r=t)&&(n._editableRoot=r,n.readonly||(n.getBody().contentEditable=String(n.hasEditableRoot()),n.nodeChanged()),n.dispatch("EditableRootStateChange",{state:r}))}hasEditableRoot(){return this._editableRoot}remove(){(t=>{if(!t.removed){const{_selectionOverrides:n,editorUpload:r}=t,o=t.getBody(),a=t.getElement();o&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&F(null==a?void 0:a.nextSibling)&&Sl.remove(a.nextSibling),t.dispatch("remove"),t.editorManager.remove(t),!t.inline&&o&&Sl.setStyle((s=t).id,"display",s.orgDisplay),(s=>{s.dispatch("detach")})(t),Sl.remove(t.getContainer()),_l(n),_l(r),t.destroy()}var s})(this)}destroy(t){((n,r)=>{const{selection:o,dom:a}=n;n.destroyed||(r||n.removed?(r||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),_l(o),_l(a)),(s=>{const i=s.formElement;i&&(i._mceOldSubmit&&(i.submit=i._mceOldSubmit,delete i._mceOldSubmit),Sl.unbind(i,"submit reset",s.formEventDelegate))})(n),(s=>{const i=s;i.contentAreaContainer=i.formElement=i.container=i.editorContainer=null,i.bodyElement=i.contentDocument=i.contentWindow=null,i.iframeElement=i.targetElm=null;const l=s.selection;l&&(i.selection=l.win=l.dom=l.dom.doc=null)})(n),n.destroyed=!0):n.remove())})(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const Fa=et.DOM,ud=X.each;let md,tk=!1,an=[];const fd=e=>{const t=e.type;ud(to.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e)}})},nk=e=>{if(e!==tk){const t=et.DOM;e?(t.bind(window,"resize",fd),t.bind(window,"scroll",fd)):(t.unbind(window,"resize",fd),t.unbind(window,"scroll",fd)),tk=e}},rk=e=>{const t=an;return an=Re(an,n=>e!==n),to.activeEditor===e&&(to.activeEditor=an.length>0?an[0]:null),to.focusedEditor===e&&(to.focusedEditor=null),t.length!==an.length},LO="CSS1Compat"!==document.compatMode,to={...Of,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"6.0",releaseDate:"2023-07-12",i18n:zn,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",r=Vn.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));const o=window.tinymce||window.tinyMCEPreInit;if(o)t=o.base||o.baseURL,n=o.suffix;else{const s=document.getElementsByTagName("script");for(let i=0;i<s.length;i++){const l=s[i].src||"";if(""===l)continue;const d=l.substring(l.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(l)){-1!==d.indexOf(".min")&&(n=".min"),t=l.substring(0,l.lastIndexOf("/"));break}}if(!t&&document.currentScript){const i=document.currentScript.src;-1!==i.indexOf(".min")&&(n=".min"),t=i.substring(0,i.lastIndexOf("/"))}}var a;e.baseURL=new Vn(r).toAbsolute(t),e.documentBaseURL=r,e.baseURI=new Vn(e.baseURL),e.suffix=n,(a=e).on("AddEditor",ce(z_,a)),a.on("RemoveEditor",ce(j_,a))},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const r=e.plugin_base_urls;void 0!==r&&ve(r,(o,a)=>{Kt.PluginManager.urls[a]=o})},init(e){const t=this;let n;const r=X.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let o=s=>{n=s};const a=()=>{let s=0;const i=[];let l;var d;Fa.unbind(window,"ready",a),(d=>{const c=e.onpageload;c&&c.apply(t,[])})(),l=((d,c)=>{const u=[],m=we(c)?p=>st(u,f=>c(f,p)):p=>qe(u,p);for(let p=0,f=d.length;p<f;p++){const h=d[p];m(h)||u.push(h)}return u})((d=e,He.browser.isIE()||He.browser.isEdge()?(Rl("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):LO?(Rl("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):ae(d.selector)?Fa.select(d.selector):F(d.target)?[d.target]:[])),X.each(l,d=>{var c;(c=t.get(d.id))&&c.initialized&&!(c.getContainer()||c.getBody()).parentNode&&(rk(c),c.unbindAllNativeEvents(),c.destroy(!0),c.removed=!0)}),l=X.grep(l,d=>!t.get(d.id)),0===l.length?o([]):ud(l,d=>{e.inline&&d.tagName.toLowerCase()in r?Rl("Could not initialize inline editor on invalid inline target element",d):((c,u,m)=>{const p=new cd(c,u,t);i.push(p),p.on("init",()=>{++s===l.length&&o(i)}),p.targetElm=p.targetElm||m,p.render()})((c=>{let u=c.id;return u||(u=it(c,"name").filter(m=>!Fa.get(m)).getOrThunk(Fa.uniqueId),c.setAttribute("id",u)),u})(d),e,d)})};return Fa.bind(window,"ready",a),new Promise(s=>{n?s(n):o=i=>{s(i)}})},get(e){return 0===arguments.length?an.slice(0):ae(e)?bt(an,t=>t.id===e).getOr(null):xe(e)&&an[e]?an[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(null===n&&an.push(e),nk(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),md||(md=r=>{const o=t.dispatch("BeforeUnload");if(o.returnValue)return r.preventDefault(),r.returnValue=o.returnValue,o.returnValue},window.addEventListener("beforeunload",md))),e},createEditor(e,t){return this.add(new cd(e,t,this))},remove(e){const t=this;let n;if(e){if(!ae(e))return n=e,W(t.get(n.id))?null:(rk(n)&&t.dispatch("RemoveEditor",{editor:n}),0===an.length&&window.removeEventListener("beforeunload",md),n.remove(),nk(an.length>0),n);ud(Fa.select(e),r=>{n=t.get(r.id),n&&t.remove(n)})}else for(let r=an.length-1;r>=0;r--)t.remove(an[r])},execCommand(e,t,n){var r;const o=this,a=Fe(n)?null!==(r=n.id)&&void 0!==r?r:n.index:n;switch(e){case"mceAddEditor":return o.get(a)||new cd(a,n.options,o).render(),!0;case"mceRemoveEditor":{const s=o.get(a);return s&&s.remove(),!0}case"mceToggleEditor":{const s=o.get(a);return s?(s.isHidden()?s.show():s.hide(),!0):(o.execCommand("mceAddEditor",!1,n),!0)}}return!!o.activeEditor&&o.activeEditor.execCommand(e,t,n)},triggerSave:()=>{ud(an,e=>{e.save()})},addI18n:(e,t)=>{zn.add(e,t)},translate:e=>zn.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new Vn(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Vn(this.baseURL)}};to.setup();const PO=(()=>{const e=Hr();return{FakeClipboardItem:t=>({items:t,types:Me(t),getType:n=>it(t,n).getOrUndefined()}),write:t=>{e.set(t)},read:()=>e.get().getOrUndefined(),clear:e.clear}})(),ok=Math.min,Ua=Math.max,gd=Math.round,ak=(e,t,n)=>{let r=t.x,o=t.y;const a=e.w,s=e.h,i=t.w,l=t.h,d=(n||"").split("");return"b"===d[0]&&(o+=l),"r"===d[1]&&(r+=i),"c"===d[0]&&(o+=gd(l/2)),"c"===d[1]&&(r+=gd(i/2)),"b"===d[3]&&(o-=s),"r"===d[4]&&(r-=a),"c"===d[3]&&(o-=gd(s/2)),"c"===d[4]&&(r-=gd(a/2)),$a(r,o,a,s)},$a=(e,t,n,r)=>({x:e,y:t,w:n,h:r}),IO={inflate:(e,t,n)=>$a(e.x-t,e.y-n,e.w+2*t,e.h+2*n),relativePosition:ak,findBestRelativePosition:(e,t,n,r)=>{for(let o=0;o<r.length;o++){const a=ak(e,t,r[o]);if(a.x>=n.x&&a.x+a.w<=n.w+n.x&&a.y>=n.y&&a.y+a.h<=n.h+n.y)return r[o]}return null},intersect:(e,t)=>{const n=Ua(e.x,t.x),r=Ua(e.y,t.y),o=ok(e.x+e.w,t.x+t.w),a=ok(e.y+e.h,t.y+t.h);return o-n<0||a-r<0?null:$a(n,r,o-n,a-r)},clamp:(e,t,n)=>{let r=e.x,o=e.y,a=e.x+e.w,s=e.y+e.h;const i=t.x+t.w,l=t.y+t.h,d=Ua(0,t.x-r),c=Ua(0,t.y-o),u=Ua(0,a-i),m=Ua(0,s-l);return r+=d,o+=c,n&&(a+=d,s+=c,r-=u,o-=m),a-=u,s-=m,$a(r,o,a-r,s-o)},create:$a,fromClientRect:e=>$a(e.left,e.top,e.width,e.height)},MO=(()=>{const e={},t={};return{load:(n,r)=>{const o=`Script at URL "${r}" failed to load`,a=`Script at URL "${r}" did not call \`tinymce.Resource.add('${n}', data)\` within 1 second`;if(void 0!==e[n])return e[n];{const s=new Promise((i,l)=>{const d=((c,u,m=1e3)=>{let p=!1,f=null;const h=v=>(...C)=>{p||(p=!0,null!==f&&(clearTimeout(f),f=null),v.apply(null,C))},g=h(c),b=h(u);return{start:(...v)=>{p||null!==f||(f=setTimeout(()=>b.apply(null,v),m))},resolve:g,reject:b}})(i,l);t[n]=d.resolve,_r.ScriptLoader.loadScript(r).then(()=>d.start(a),()=>d.reject(o))});return e[n]=s,s}},add:(n,r)=>{void 0!==t[n]&&(t[n](r),delete t[n]),e[n]=Promise.resolve(r)},unload:n=>{delete e[n]}}})();let si;try{const e="__storage_test__";si=window.localStorage,si.setItem(e,e),si.removeItem(e)}catch{si=(()=>{let t={},n=[];const r={getItem:o=>t[o]||null,setItem:(o,a)=>{n.push(o),t[o]=String(a)},key:o=>n[o],removeItem:o=>{n=n.filter(a=>a===o),delete t[o]},clear:()=>{n=[],t={}},length:0};return Object.defineProperty(r,"length",{get:()=>n.length,configurable:!1,enumerable:!1}),r})()}const FO={geom:{Rect:IO},util:{Delay:_n,Tools:X,VK:ge,URI:Vn,EventDispatcher:Tf,Observable:Of,I18n:zn,LocalStorage:si,ImageUploader:e=>{const t=Vy(),n=Gy(e,t);return{upload:(r,o=!0)=>n.upload(r,o?Wy(e):void 0)}}},dom:{EventUtils:Eo,TreeWalker:kt,TextSeeker:So,DOMUtils:et,ScriptLoader:_r,RangeUtils:Lo,Serializer:Py,StyleSheetLoader:op,ControlSelection:kb,BookmarkManager:Ts,Selection:Ly,Event:Eo.Event},html:{Styles:oc,Entities:zr,Node:on,Schema:jr,DomParser:Aa,Writer:i0,Serializer:Kr},Env:He,AddOnManager:Kt,Annotator:gb,Formatter:Xy,UndoManager:Qy,EditorCommands:qE,WindowManager:jy,NotificationManager:zy,EditorObservable:KE,Shortcuts:JE,Editor:cd,FocusManager:Wb,EditorManager:to,DOM:et.DOM,ScriptLoader:_r.ScriptLoader,PluginManager:Ra,ThemeManager:jo,ModelManager:Na,IconManager:Al,Resource:MO,FakeClipboard:PO,trim:X.trim,isArray:X.isArray,is:X.is,toArray:X.toArray,makeMap:X.makeMap,each:X.each,map:X.map,grep:X.grep,inArray:X.inArray,extend:X.extend,walk:X.walk,resolve:X.resolve,explode:X.explode,_addCacheSuffix:X._addCacheSuffix},sk=X.extend(to,FO);(e=>{window.tinymce=e,window.tinyMCE=e})(sk),(e=>{if("object"==typeof module)try{module.exports=e}catch{}})(sk)}();var _self=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},Prism=function(H){var J=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,fe=0,De={},pe={manual:H.Prism&&H.Prism.manual,disableWorkerMessageHandler:H.Prism&&H.Prism.disableWorkerMessageHandler,util:{encode:function q(W){return W instanceof Ue?new Ue(W.type,q(W.content),W.alias):Array.isArray(W)?W.map(q):W.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(q){return Object.prototype.toString.call(q).slice(8,-1)},objId:function(q){return q.__id||Object.defineProperty(q,"__id",{value:++fe}),q.__id},clone:function q(W,le){var ne,ie;switch(le=le||{},pe.util.type(W)){case"Object":if(ie=pe.util.objId(W),le[ie])return le[ie];for(var F in le[ie]=ne={},W)W.hasOwnProperty(F)&&(ne[F]=q(W[F],le));return ne;case"Array":return ie=pe.util.objId(W),le[ie]?le[ie]:(le[ie]=ne=[],W.forEach(function(we,xe){ne[xe]=q(we,le)}),ne);default:return W}},getLanguage:function(q){for(;q;){var W=J.exec(q.className);if(W)return W[1].toLowerCase();q=q.parentElement}return"none"},setLanguage:function(q,W){q.className=q.className.replace(RegExp(J,"gi"),""),q.classList.add("language-"+W)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(ne){var q=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(ne.stack)||[])[1];if(q){var W=document.getElementsByTagName("script");for(var le in W)if(W[le].src==q)return W[le]}return null}},isActive:function(q,W,le){for(var ne="no-"+W;q;){var ie=q.classList;if(ie.contains(W))return!0;if(ie.contains(ne))return!1;q=q.parentElement}return!!le}},languages:{plain:De,plaintext:De,text:De,txt:De,extend:function(q,W){var le=pe.util.clone(pe.languages[q]);for(var ne in W)le[ne]=W[ne];return le},insertBefore:function(q,W,le,ne){var ie=(ne=ne||pe.languages)[q],F={};for(var we in ie)if(ie.hasOwnProperty(we)){if(we==W)for(var xe in le)le.hasOwnProperty(xe)&&(F[xe]=le[xe]);le.hasOwnProperty(we)||(F[we]=ie[we])}var je=ne[q];return ne[q]=F,pe.languages.DFS(pe.languages,function(Ee,St){St===je&&Ee!=q&&(this[Ee]=F)}),F},DFS:function q(W,le,ne,ie){ie=ie||{};var F=pe.util.objId;for(var we in W)if(W.hasOwnProperty(we)){le.call(W,we,W[we],ne||we);var xe=W[we],je=pe.util.type(xe);"Object"!==je||ie[F(xe)]?"Array"===je&&!ie[F(xe)]&&(ie[F(xe)]=!0,q(xe,le,we,ie)):(ie[F(xe)]=!0,q(xe,le,null,ie))}}},plugins:{},highlightAll:function(q,W){pe.highlightAllUnder(document,q,W)},highlightAllUnder:function(q,W,le){var ne={callback:le,container:q,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};pe.hooks.run("before-highlightall",ne),ne.elements=Array.prototype.slice.apply(ne.container.querySelectorAll(ne.selector)),pe.hooks.run("before-all-elements-highlight",ne);for(var F,ie=0;F=ne.elements[ie++];)pe.highlightElement(F,!0===W,ne.callback)},highlightElement:function(q,W,le){var ne=pe.util.getLanguage(q),ie=pe.languages[ne];pe.util.setLanguage(q,ne);var F=q.parentElement;F&&"pre"===F.nodeName.toLowerCase()&&pe.util.setLanguage(F,ne);var xe={element:q,language:ne,grammar:ie,code:q.textContent};function je(St){xe.highlightedCode=St,pe.hooks.run("before-insert",xe),xe.element.innerHTML=xe.highlightedCode,pe.hooks.run("after-highlight",xe),pe.hooks.run("complete",xe),le&&le.call(xe.element)}if(pe.hooks.run("before-sanity-check",xe),(F=xe.element.parentElement)&&"pre"===F.nodeName.toLowerCase()&&!F.hasAttribute("tabindex")&&F.setAttribute("tabindex","0"),!xe.code)return pe.hooks.run("complete",xe),void(le&&le.call(xe.element));if(pe.hooks.run("before-highlight",xe),xe.grammar)if(W&&H.Worker){var Ee=new Worker(pe.filename);Ee.onmessage=function(St){je(St.data)},Ee.postMessage(JSON.stringify({language:xe.language,code:xe.code,immediateClose:!0}))}else je(pe.highlight(xe.code,xe.grammar,xe.language));else je(pe.util.encode(xe.code))},highlight:function(q,W,le){var ne={code:q,grammar:W,language:le};if(pe.hooks.run("before-tokenize",ne),!ne.grammar)throw new Error('The language "'+ne.language+'" has no grammar.');return ne.tokens=pe.tokenize(ne.code,ne.grammar),pe.hooks.run("after-tokenize",ne),Ue.stringify(pe.util.encode(ne.tokens),ne.language)},tokenize:function(q,W){var le=W.rest;if(le){for(var ne in le)W[ne]=le[ne];delete W.rest}var ie=new We;return Qe(ie,ie.head,q),Xe(q,ie,W,ie.head,0),function $t(q){for(var W=[],le=q.head.next;le!==q.tail;)W.push(le.value),le=le.next;return W}(ie)},hooks:{all:{},add:function(q,W){var le=pe.hooks.all;le[q]=le[q]||[],le[q].push(W)},run:function(q,W){var le=pe.hooks.all[q];if(le&&le.length)for(var ie,ne=0;ie=le[ne++];)ie(W)}},Token:Ue};function Ue(q,W,le,ne){this.type=q,this.content=W,this.alias=le,this.length=0|(ne||"").length}function Ye(q,W,le,ne){q.lastIndex=W;var ie=q.exec(le);if(ie&&ne&&ie[1]){var F=ie[1].length;ie.index+=F,ie[0]=ie[0].slice(F)}return ie}function Xe(q,W,le,ne,ie,F){for(var we in le)if(le.hasOwnProperty(we)&&le[we]){var xe=le[we];xe=Array.isArray(xe)?xe:[xe];for(var je=0;je<xe.length;++je){if(F&&F.cause==we+","+je)return;var Ee=xe[je],St=Ee.inside,Yn=!!Ee.lookbehind,ee=!!Ee.greedy,ut=Ee.alias;if(ee&&!Ee.pattern.global){var hr=Ee.pattern.toString().match(/[imsuy]*$/)[0];Ee.pattern=RegExp(Ee.pattern.source,hr+"g")}for(var ce=Ee.pattern||Ee,dt=ne.next,Pt=ie;dt!==W.tail&&!(F&&Pt>=F.reach);Pt+=dt.value.length,dt=dt.next){var Qt=dt.value;if(W.length>q.length)return;if(!(Qt instanceof Ue)){var $e,Jt=1;if(ee){if(!($e=Ye(ce,Pt,q,Yn))||$e.index>=q.length)break;var fn=$e.index,rt=$e.index+$e[0].length,y=Pt;for(y+=dt.value.length;fn>=y;)y+=(dt=dt.next).value.length;if(Pt=y-=dt.value.length,dt.value instanceof Ue)continue;for(var ht=dt;ht!==W.tail&&(y<rt||"string"==typeof ht.value);ht=ht.next)Jt++,y+=ht.value.length;Jt--,Qt=q.slice(Pt,y),$e.index-=Pt}else if(!($e=Ye(ce,0,Qt,Yn)))continue;var mt=$e[0],Dr=Qt.slice(0,fn=$e.index),qe=Qt.slice(fn+mt.length),st=Pt+Qt.length;F&&st>F.reach&&(F.reach=st);var ze=dt.prev;if(Dr&&(ze=Qe(W,ze,Dr),Pt+=Dr.length),Wt(W,ze,Jt),dt=Qe(W,ze,new Ue(we,St?pe.tokenize(mt,St):mt,ut,mt)),qe&&Qe(W,dt,qe),Jt>1){var br={cause:we+","+je,reach:st};Xe(q,W,le,dt.prev,Pt,br),F&&br.reach>F.reach&&(F.reach=br.reach)}}}}}}function We(){var q={value:null,prev:null,next:null},W={value:null,prev:q,next:null};q.next=W,this.head=q,this.tail=W,this.length=0}function Qe(q,W,le){var ne=W.next,ie={value:le,prev:W,next:ne};return W.next=ie,ne.prev=ie,q.length++,ie}function Wt(q,W,le){for(var ne=W.next,ie=0;ie<le&&ne!==q.tail;ie++)ne=ne.next;W.next=ne,ne.prev=W,q.length-=ie}if(H.Prism=pe,Ue.stringify=function q(W,le){if("string"==typeof W)return W;if(Array.isArray(W)){var ne="";return W.forEach(function(je){ne+=q(je,le)}),ne}var ie={type:W.type,content:q(W.content,le),tag:"span",classes:["token",W.type],attributes:{},language:le},F=W.alias;F&&(Array.isArray(F)?Array.prototype.push.apply(ie.classes,F):ie.classes.push(F)),pe.hooks.run("wrap",ie);var we="";for(var xe in ie.attributes)we+=" "+xe+'="'+(ie.attributes[xe]||"").replace(/"/g,"&quot;")+'"';return"<"+ie.tag+' class="'+ie.classes.join(" ")+'"'+we+">"+ie.content+"</"+ie.tag+">"},!H.document)return H.addEventListener&&(pe.disableWorkerMessageHandler||H.addEventListener("message",function(q){var W=JSON.parse(q.data),le=W.language,ie=W.immediateClose;H.postMessage(pe.highlight(W.code,pe.languages[le],le)),ie&&H.close()},!1)),pe;var ae=pe.util.currentScript();function Fe(){pe.manual||pe.highlightAll()}if(ae&&(pe.filename=ae.src,ae.hasAttribute("data-manual")&&(pe.manual=!0)),!pe.manual){var nt=document.readyState;"loading"===nt||"interactive"===nt&&ae&&ae.defer?document.addEventListener("DOMContentLoaded",Fe):window.requestAnimationFrame?window.requestAnimationFrame(Fe):window.setTimeout(Fe,16)}return pe}(_self);typeof module<"u"&&module.exports&&(module.exports=Prism),typeof global<"u"&&(global.Prism=Prism),Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(H){"entity"===H.type&&(H.attributes.title=H.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(J,fe){var De={};De["language-"+fe]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[fe]},De.cdata=/^<!\[CDATA\[|\]\]>$/i;var pe={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:De}};pe["language-"+fe]={pattern:/[\s\S]+/,inside:Prism.languages[fe]};var Ue={};Ue[J]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return J}),"i"),lookbehind:!0,greedy:!0,inside:pe},Prism.languages.insertBefore("markup","cdata",Ue)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(H,J){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+H+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[J,"language-"+J],inside:Prism.languages[J]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,function(H){var J=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;H.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+J.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+J.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+J.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+J.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:J,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},H.languages.css.atrule.inside.rest=H.languages.css;var fe=H.languages.markup;fe&&(fe.tag.addInlined("style","css"),fe.tag.addAttribute("style","css"))}(Prism),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript,function(){if(!(typeof Prism>"u"||typeof document>"u")){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var De={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},pe="data-src-status",Ue="loading",We="pre[data-src]:not(["+pe+'="loaded"]):not(['+pe+'="'+Ue+'"])';Prism.hooks.add("before-highlightall",function(ae){ae.selector+=", "+We}),Prism.hooks.add("before-sanity-check",function(ae){var Fe=ae.element;if(Fe.matches(We)){ae.code="",Fe.setAttribute(pe,Ue);var nt=Fe.appendChild(document.createElement("CODE"));nt.textContent="Loading\u2026";var q=Fe.getAttribute("data-src"),W=ae.language;if("none"===W){var le=(/\.(\w+)$/.exec(q)||[,"none"])[1];W=De[le]||le}Prism.util.setLanguage(nt,W),Prism.util.setLanguage(Fe,W);var ne=Prism.plugins.autoloader;ne&&ne.loadLanguages(W),function Qe(ae,Fe,nt){var q=new XMLHttpRequest;q.open("GET",ae,!0),q.onreadystatechange=function(){4==q.readyState&&(q.status<400&&q.responseText?Fe(q.responseText):nt(q.status>=400?function(ae,Fe){return"\u2716 Error "+ae+" while fetching file: "+Fe}(q.status,q.statusText):"\u2716 Error: File does not exist or is empty"))},q.send(null)}(q,function(ie){Fe.setAttribute(pe,"loaded");var F=function Wt(ae){var Fe=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(ae||"");if(Fe){var nt=Number(Fe[1]),W=Fe[3];return Fe[2]?W?[nt,Number(W)]:[nt,void 0]:[nt,nt]}}(Fe.getAttribute("data-range"));if(F){var we=ie.split(/\r\n?|\n/g),xe=F[0],je=null==F[1]?we.length:F[1];xe<0&&(xe+=we.length),xe=Math.max(0,Math.min(xe-1,we.length)),je<0&&(je+=we.length),je=Math.max(0,Math.min(je,we.length)),ie=we.slice(xe,je).join("\n"),Fe.hasAttribute("data-start")||Fe.setAttribute("data-start",String(xe+1))}nt.textContent=ie,Prism.highlightElement(nt)},function(ie){Fe.setAttribute(pe,"failed"),nt.textContent=ie})}}),Prism.plugins.fileHighlight={highlight:function(Fe){for(var W,nt=(Fe||document).querySelectorAll(We),q=0;W=nt[q++];)Prism.highlightElement(W)}};var $t=!1;Prism.fileHighlight=function(){$t||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),$t=!0),Prism.plugins.fileHighlight.highlight.apply(this,arguments)}}}(),Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean,function(H){var J=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,fe="\\b(?!<keyword>)\\w+(?:\\s*\\.\\s*\\w+)*\\b".replace(/<keyword>/g,function(){return J.source});H.languages.cpp=H.languages.extend("c",{"class-name":[{pattern:RegExp("(\\b(?:class|concept|enum|struct|typename)\\s+)(?!<keyword>)\\w+".replace(/<keyword>/g,function(){return J.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:J,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),H.languages.insertBefore("cpp","string",{module:{pattern:RegExp('(\\b(?:import|module)\\s+)(?:"(?:\\\\(?:\r\n|[^])|[^"\\\\\r\n])*"|<[^<>\r\n]*>|'+"<mod-name>(?:\\s*:\\s*<mod-name>)?|:\\s*<mod-name>".replace(/<mod-name>/g,function(){return fe})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),H.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:H.languages.cpp}}}}),H.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),H.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:H.languages.extend("cpp",{})}}),H.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},H.languages.cpp["base-clause"])}(Prism),Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python,Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(H){"entity"===H.type&&(H.attributes.title=H.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(H,J){var fe={};fe["language-"+J]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[J]},fe.cdata=/^<!\[CDATA\[|\]\]>$/i;var De={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:fe}};De["language-"+J]={pattern:/[\s\S]+/,inside:Prism.languages[J]};var pe={};pe[H]={pattern:RegExp("(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[^])*?(?=</__>)".replace(/__/g,function(){return H}),"i"),lookbehind:!0,greedy:!0,inside:De},Prism.languages.insertBefore("markup","cdata",pe)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(H,J){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp("(^|[\"'\\s])(?:"+H+")\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))","i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[J,"language-"+J],inside:Prism.languages[J]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,function(H){var J=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;H.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:[^;{\\s\"']|\\s+(?!\\s)|"+J.source+")*?(?:;|(?=\\s*\\{))"),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+J.source+"|(?:[^\\\\\r\n()\"']|\\\\[^])*)\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+J.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+J.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:J,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},H.languages.css.atrule.inside.rest=H.languages.css;var fe=H.languages.markup;fe&&(fe.tag.addInlined("style","css"),fe.tag.addAttribute("style","css"))}(Prism),function(H){function J(y,ht){return y.replace(/<<(\d+)>>/g,function(fn,mt){return"(?:"+ht[+mt]+")"})}function fe(y,ht,fn){return RegExp(J(y,ht),fn||"")}function De(y,ht){for(var fn=0;fn<ht;fn++)y=y.replace(/<<self>>/g,function(){return"(?:"+y+")"});return y.replace(/<<self>>/g,"[^\\s\\S]")}var pe="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",Ue="class enum interface record struct",Ye="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",Xe="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function We(y){return"\\b(?:"+y.trim().replace(/ /g,"|")+")\\b"}var Qe=We(Ue),Wt=RegExp(We(pe+" "+Ue+" "+Ye+" "+Xe)),$t=We(Ue+" "+Ye+" "+Xe),ae=We(pe+" "+Ue+" "+Xe),Fe=De("<(?:[^<>;=+\\-*/%&|^]|<<self>>)*>",2),nt=De("\\((?:[^()]|<<self>>)*\\)",2),q="@?\\b[A-Za-z_]\\w*\\b",W=J("<<0>>(?:\\s*<<1>>)?",[q,Fe]),le=J("(?!<<0>>)<<1>>(?:\\s*\\.\\s*<<1>>)*",[$t,W]),ne="\\[\\s*(?:,\\s*)*\\]",ie=J("<<0>>(?:\\s*(?:\\?\\s*)?<<1>>)*(?:\\s*\\?)?",[le,ne]),F=J("[^,()<>[\\];=+\\-*/%&|^]|<<0>>|<<1>>|<<2>>",[Fe,nt,ne]),we=J("\\(<<0>>+(?:,<<0>>+)+\\)",[F]),xe=J("(?:<<0>>|<<1>>)(?:\\s*(?:\\?\\s*)?<<2>>)*(?:\\s*\\?)?",[we,le,ne]),je={keyword:Wt,punctuation:/[<>()?,.:[\]]/},Ee="'(?:[^\r\n'\\\\]|\\\\.|\\\\[Uux][\\da-fA-F]{1,8})'",St='"(?:\\\\.|[^\\\\"\r\n])*"';H.languages.csharp=H.languages.extend("clike",{string:[{pattern:fe("(^|[^$\\\\])<<0>>",['@"(?:""|\\\\[^]|[^\\\\"])*"(?!")']),lookbehind:!0,greedy:!0},{pattern:fe("(^|[^@$\\\\])<<0>>",[St]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:fe("(\\busing\\s+static\\s+)<<0>>(?=\\s*;)",[le]),lookbehind:!0,inside:je},{pattern:fe("(\\busing\\s+<<0>>\\s*=\\s*)<<1>>(?=\\s*;)",[q,xe]),lookbehind:!0,inside:je},{pattern:fe("(\\busing\\s+)<<0>>(?=\\s*=)",[q]),lookbehind:!0},{pattern:fe("(\\b<<0>>\\s+)<<1>>",[Qe,W]),lookbehind:!0,inside:je},{pattern:fe("(\\bcatch\\s*\\(\\s*)<<0>>",[le]),lookbehind:!0,inside:je},{pattern:fe("(\\bwhere\\s+)<<0>>",[q]),lookbehind:!0},{pattern:fe("(\\b(?:is(?:\\s+not)?|as)\\s+)<<0>>",[ie]),lookbehind:!0,inside:je},{pattern:fe("\\b<<0>>(?=\\s+(?!<<1>>|with\\s*\\{)<<2>>(?:\\s*[=,;:{)\\]]|\\s+(?:in|when)\\b))",[xe,ae,q]),inside:je}],keyword:Wt,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),H.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),H.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:fe("([(,]\\s*)<<0>>(?=\\s*:)",[q]),lookbehind:!0,alias:"punctuation"}}),H.languages.insertBefore("csharp","class-name",{namespace:{pattern:fe("(\\b(?:namespace|using)\\s+)<<0>>(?:\\s*\\.\\s*<<0>>)*(?=\\s*[;{])",[q]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:fe("(\\b(?:default|sizeof|typeof)\\s*\\(\\s*(?!\\s))(?:[^()\\s]|\\s(?!\\s)|<<0>>)*(?=\\s*\\))",[nt]),lookbehind:!0,alias:"class-name",inside:je},"return-type":{pattern:fe("<<0>>(?=\\s+(?:<<1>>\\s*(?:=>|[({]|\\.\\s*this\\s*\\[)|this\\s*\\[))",[xe,le]),inside:je,alias:"class-name"},"constructor-invocation":{pattern:fe("(\\bnew\\s+)<<0>>(?=\\s*[[({])",[xe]),lookbehind:!0,inside:je,alias:"class-name"},"generic-method":{pattern:fe("<<0>>\\s*<<1>>(?=\\s*\\()",[q,Fe]),inside:{function:fe("^<<0>>",[q]),generic:{pattern:RegExp(Fe),alias:"class-name",inside:je}}},"type-list":{pattern:fe("\\b((?:<<0>>\\s+<<1>>|record\\s+<<1>>\\s*<<5>>|where\\s+<<2>>)\\s*:\\s*)(?:<<3>>|<<4>>|<<1>>\\s*<<5>>|<<6>>)(?:\\s*,\\s*(?:<<3>>|<<4>>|<<6>>))*(?=\\s*(?:where|[{;]|=>|$))",[Qe,W,q,xe,Wt.source,nt,"\\bnew\\s*\\(\\s*\\)"]),lookbehind:!0,inside:{"record-arguments":{pattern:fe("(^(?!new\\s*\\()<<0>>\\s*)<<1>>",[W,nt]),lookbehind:!0,greedy:!0,inside:H.languages.csharp},keyword:Wt,"class-name":{pattern:RegExp(xe),greedy:!0,inside:je},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var Yn=St+"|"+Ee,ee=J("/(?![*/])|//[^\r\n]*[\r\n]|/\\*(?:[^*]|\\*(?!/))*\\*/|<<0>>",[Yn]),ut=De(J("[^\"'/()]|<<0>>|\\(<<self>>*\\)",[ee]),2),hr="\\b(?:assembly|event|field|method|module|param|property|return|type)\\b",ce=J("<<0>>(?:\\s*\\(<<1>>*\\))?",[le,ut]);H.languages.insertBefore("csharp","class-name",{attribute:{pattern:fe("((?:^|[^\\s\\w>)?])\\s*\\[\\s*)(?:<<0>>\\s*:\\s*)?<<1>>(?:\\s*,\\s*<<1>>)*(?=\\s*\\])",[hr,ce]),lookbehind:!0,greedy:!0,inside:{target:{pattern:fe("^<<0>>(?=\\s*:)",[hr]),alias:"keyword"},"attribute-arguments":{pattern:fe("\\(<<0>>*\\)",[ut]),inside:H.languages.csharp},"class-name":{pattern:RegExp(le),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var dt=":[^}\r\n]+",Pt=De(J("[^\"'/()]|<<0>>|\\(<<self>>*\\)",[ee]),2),Qt=J("\\{(?!\\{)(?:(?![}:])<<0>>)*<<1>>?\\}",[Pt,dt]),Jt=De(J("[^\"'/()]|/(?!\\*)|/\\*(?:[^*]|\\*(?!/))*\\*/|<<0>>|\\(<<self>>*\\)",[Yn]),2),$e=J("\\{(?!\\{)(?:(?![}:])<<0>>)*<<1>>?\\}",[Jt,dt]);function rt(y,ht){return{interpolation:{pattern:fe("((?:^|[^{])(?:\\{\\{)*)<<0>>",[y]),lookbehind:!0,inside:{"format-string":{pattern:fe("(^\\{(?:(?![}:])<<0>>)*)<<1>>(?=\\}$)",[ht,dt]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:H.languages.csharp}}},string:/[\s\S]+/}}H.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:fe('(^|[^\\\\])(?:\\$@|@\\$)"(?:""|\\\\[^]|\\{\\{|<<0>>|[^\\\\{"])*"',[Qt]),lookbehind:!0,greedy:!0,inside:rt(Qt,Pt)},{pattern:fe('(^|[^@\\\\])\\$"(?:\\\\.|\\{\\{|<<0>>|[^\\\\"{])*"',[$e]),lookbehind:!0,greedy:!0,inside:rt($e,Jt)}],char:{pattern:RegExp(Ee),greedy:!0}}),H.languages.dotnet=H.languages.cs=H.languages.csharp}(Prism),Prism.languages.csv={value:/[^\r\n,"]+|"(?:[^"]|"")*"(?!")/,punctuation:/,/},function(H){var J=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],fe="(^|[^\\w.])(?:[a-z]\\w*\\s*\\.\\s*)*(?:[A-Z]\\w*\\s*\\.\\s*)*",De={pattern:RegExp(fe+"[A-Z](?:[\\d_A-Z]*[a-z]\\w*)?\\b"),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};H.languages.dart=H.languages.extend("clike",{"class-name":[De,{pattern:RegExp(fe+"[A-Z]\\w*(?=\\s+\\w+\\s*[;,=()])"),lookbehind:!0,inside:De.inside}],keyword:J,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),H.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:H.languages.dart}}},string:/[\s\S]+/}},string:void 0}),H.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),H.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":De,keyword:J,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})}(Prism),function(H){var J="(?:[ \t]+(?![ \t])(?:<SP_BS>)?|<SP_BS>)".replace(/<SP_BS>/g,function(){return"\\\\[\r\n](?:\\s|\\\\[\r\n]|#.*(?!.))*(?![\\s#]|\\\\[\r\n])"}),fe="\"(?:[^\"\\\\\r\n]|\\\\(?:\r\n|[^]))*\"|'(?:[^'\\\\\r\n]|\\\\(?:\r\n|[^]))*'",De="--[\\w-]+=(?:<STR>|(?![\"'])(?:[^\\s\\\\]|\\\\.)+)".replace(/<STR>/g,function(){return fe}),pe={pattern:RegExp(fe),greedy:!0},Ue={pattern:/(^[ \t]*)#.*/m,lookbehind:!0,greedy:!0};function Ye(Xe,We){return Xe=Xe.replace(/<OPT>/g,function(){return De}).replace(/<SP>/g,function(){return J}),RegExp(Xe,We)}H.languages.docker={instruction:{pattern:/(^[ \t]*)(?:ADD|ARG|CMD|COPY|ENTRYPOINT|ENV|EXPOSE|FROM|HEALTHCHECK|LABEL|MAINTAINER|ONBUILD|RUN|SHELL|STOPSIGNAL|USER|VOLUME|WORKDIR)(?=\s)(?:\\.|[^\r\n\\])*(?:\\$(?:\s|#.*$)*(?![\s#])(?:\\.|[^\r\n\\])*)*/im,lookbehind:!0,greedy:!0,inside:{options:{pattern:Ye("(^(?:ONBUILD<SP>)?\\w+<SP>)<OPT>(?:<SP><OPT>)*","i"),lookbehind:!0,greedy:!0,inside:{property:{pattern:/(^|\s)--[\w-]+/,lookbehind:!0},string:[pe,{pattern:/(=)(?!["'])(?:[^\s\\]|\\.)+/,lookbehind:!0}],operator:/\\$/m,punctuation:/=/}},keyword:[{pattern:Ye("(^(?:ONBUILD<SP>)?HEALTHCHECK<SP>(?:<OPT><SP>)*)(?:CMD|NONE)\\b","i"),lookbehind:!0,greedy:!0},{pattern:Ye("(^(?:ONBUILD<SP>)?FROM<SP>(?:<OPT><SP>)*(?!--)[^ \t\\\\]+<SP>)AS","i"),lookbehind:!0,greedy:!0},{pattern:Ye("(^ONBUILD<SP>)\\w+","i"),lookbehind:!0,greedy:!0},{pattern:/^\w+/,greedy:!0}],comment:Ue,string:pe,variable:/\$(?:\w+|\{[^{}"'\\]*\})/,operator:/\\$/m}},comment:Ue},H.languages.dockerfile=H.languages.docker}(Prism),Prism.languages["excel-formula"]={comment:{pattern:/(\bN\(\s*)"(?:[^"]|"")*"(?=\s*\))/i,lookbehind:!0,greedy:!0},string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},reference:{pattern:/(?:'[^']*'|(?:[^\s()[\]{}<>*?"';,$&]*\[[^^\s()[\]{}<>*?"']+\])?\w+)!/,greedy:!0,alias:"string",inside:{operator:/!$/,punctuation:/'/,sheet:{pattern:/[^[\]]+$/,alias:"function"},file:{pattern:/\[[^[\]]+\]$/,inside:{punctuation:/[[\]]/}},path:/[\s\S]+/}},"function-name":{pattern:/\b[A-Z]\w*(?=\()/i,alias:"builtin"},range:{pattern:/\$?\b(?:[A-Z]+\$?\d+:\$?[A-Z]+\$?\d+|[A-Z]+:\$?[A-Z]+|\d+:\$?\d+)\b/i,alias:"selector",inside:{operator:/:/,cell:/\$?[A-Z]+\$?\d+/i,column:/\$?[A-Z]+/i,row:/\$?\d+/}},cell:{pattern:/\b[A-Z]+\d+\b|\$[A-Za-z]+\$?\d+\b|\b[A-Za-z]+\$\d+\b/,alias:"selector"},number:/(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e[+-]?\d+)?\b/i,boolean:/\b(?:FALSE|TRUE)\b/i,operator:/[-+*/^%=&,]|<[=>]?|>=?/,punctuation:/[[\]();{}|]/},Prism.languages.xlsx=Prism.languages.xls=Prism.languages["excel-formula"],Prism.languages.git={comment:/^#.*/m,deleted:/^[-\u2013].*/m,inserted:/^\+.*/m,string:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,command:{pattern:/^.*\$ git .*$/m,inside:{parameter:/\s--?\w+/}},coord:/^@@.*@@$/m,"commit-sha1":/^commit \w{40}$/m},function(H){function J(fe,De){return"___"+fe.toUpperCase()+De+"___"}Object.defineProperties(H.languages["markup-templating"]={},{buildPlaceholders:{value:function(fe,De,pe,Ue){if(fe.language===De){var Ye=fe.tokenStack=[];fe.code=fe.code.replace(pe,function(Xe){if("function"==typeof Ue&&!Ue(Xe))return Xe;for(var We,Qe=Ye.length;-1!==fe.code.indexOf(We=J(De,Qe));)++Qe;return Ye[Qe]=Xe,We}),fe.grammar=H.languages.markup}}},tokenizePlaceholders:{value:function(fe,De){if(fe.language===De&&fe.tokenStack){fe.grammar=H.languages[De];var pe=0,Ue=Object.keys(fe.tokenStack);!function Ye(Xe){for(var We=0;We<Xe.length&&!(pe>=Ue.length);We++){var Qe=Xe[We];if("string"==typeof Qe||Qe.content&&"string"==typeof Qe.content){var Wt=Ue[pe],$t=fe.tokenStack[Wt],ae="string"==typeof Qe?Qe:Qe.content,Fe=J(De,Wt),nt=ae.indexOf(Fe);if(nt>-1){++pe;var q=ae.substring(0,nt),W=new H.Token(De,H.tokenize($t,fe.grammar),"language-"+De,$t),le=ae.substring(nt+Fe.length),ne=[];q&&ne.push.apply(ne,Ye([q])),ne.push(W),le&&ne.push.apply(ne,Ye([le])),"string"==typeof Qe?Xe.splice.apply(Xe,[We,1].concat(ne)):Qe.content=ne}}else Qe.content&&Ye(Qe.content)}return Xe}(fe.tokens)}}}})}(Prism),function(H){var J=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,fe=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],De=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,pe=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,Ue=/[{}\[\](),:;]/;H.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:J,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:fe,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:De,operator:pe,punctuation:Ue};var Ye={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:H.languages.php},Xe=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:Ye}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:Ye}}];H.languages.insertBefore("php","variable",{string:Xe,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:J,string:Xe,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:fe,number:De,operator:pe,punctuation:Ue}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),H.hooks.add("before-tokenize",function(We){/<\?/.test(We.code)&&H.languages["markup-templating"].buildPlaceholders(We,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)}),H.hooks.add("after-tokenize",function(We){H.languages["markup-templating"].tokenizePlaceholders(We,"php")})}(Prism),function(H){var J=/\$(?:\w[a-z\d]*(?:_[^\x00-\x1F\s"'\\()$]*)?|\{[^}\s"'\\]+\})/i;Prism.languages.nginx={comment:{pattern:/(^|[\s{};])#.*/,lookbehind:!0,greedy:!0},directive:{pattern:/(^|\s)\w(?:[^;{}"'\\\s]|\\.|"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\s+(?:#.*(?!.)|(?![#\s])))*?(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:{string:{pattern:/((?:^|[^\\])(?:\\\\)*)(?:"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')/,lookbehind:!0,greedy:!0,inside:{escape:{pattern:/\\["'\\nrt]/,alias:"entity"},variable:J}},comment:{pattern:/(\s)#.*/,lookbehind:!0,greedy:!0},keyword:{pattern:/^\S+/,greedy:!0},boolean:{pattern:/(\s)(?:off|on)(?!\S)/,lookbehind:!0},number:{pattern:/(\s)\d+[a-z]*(?!\S)/i,lookbehind:!0},variable:J}},punctuation:/[{};]/}}(),function(H){H.languages.kotlin=H.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete H.languages.kotlin["class-name"];var J={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:H.languages.kotlin}};H.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:J},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:J},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete H.languages.kotlin.string,H.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),H.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),H.languages.kt=H.languages.kotlin,H.languages.kts=H.languages.kotlin}(Prism),Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json,function(H){var J=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,fe="(?:[a-z]\\w*\\s*\\.\\s*)*(?:[A-Z]\\w*\\s*\\.\\s*)*",De={pattern:RegExp("(^|[^\\w.])"+fe+"[A-Z](?:[\\d_A-Z]*[a-z]\\w*)?\\b"),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};H.languages.java=H.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[De,{pattern:RegExp("(^|[^\\w.])"+fe+"[A-Z]\\w*(?=\\s+\\w+\\s*[;,=()]|\\s*(?:\\[[\\s,]*\\]\\s*)?::\\s*new\\b)"),lookbehind:!0,inside:De.inside},{pattern:RegExp("(\\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\\s+)"+fe+"[A-Z]\\w*\\b"),lookbehind:!0,inside:De.inside}],keyword:J,function:[H.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),H.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),H.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":De,keyword:J,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp("(\\bimport\\s+)"+fe+"(?:[A-Z]\\w*|\\*)(?=\\s*;)"),lookbehind:!0,inside:{namespace:De.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp("(\\bimport\\s+static\\s+)"+fe+"(?:\\w+|\\*)(?=\\s*;)"),lookbehind:!0,alias:"static",inside:{namespace:De.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp("(\\b(?:exports|import(?:\\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\\s+)(?!<keyword>)[a-z]\\w*(?:\\.[a-z]\\w*)*\\.?".replace(/<keyword>/g,function(){return J.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism),function(H){var J={pattern:/((?:^|[^\\$])(?:\\{2})*)\$(?:\w+|\{[^{}]*\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}};H.languages.gradle=H.languages.extend("clike",{string:{pattern:/'''(?:[^\\]|\\[\s\S])*?'''|'(?:\\.|[^\\'\r\n])*'/,greedy:!0},keyword:/\b(?:apply|def|dependencies|else|if|implementation|import|plugin|plugins|project|repositories|repository|sourceSets|tasks|val)\b/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?\d+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.\.(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),H.languages.insertBefore("gradle","string",{shebang:{pattern:/#!.+/,alias:"comment",greedy:!0},"interpolation-string":{pattern:/"""(?:[^\\]|\\[\s\S])*?"""|(["/])(?:\\.|(?!\1)[^\\\r\n])*\1|\$\/(?:[^/$]|\$(?:[/$]|(?![/$]))|\/(?!\$))*\/\$/,greedy:!0,inside:{interpolation:J,string:/[\s\S]+/}}}),H.languages.insertBefore("gradle","punctuation",{"spock-block":/\b(?:and|cleanup|expect|given|setup|then|when|where):/}),H.languages.insertBefore("gradle","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0,alias:"punctuation"}}),J.inside.expression.inside=H.languages.gradle}(Prism),function(H){var J={pattern:/((?:^|[^\\$])(?:\\{2})*)\$(?:\w+|\{[^{}]*\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}};H.languages.groovy=H.languages.extend("clike",{string:{pattern:/'''(?:[^\\]|\\[\s\S])*?'''|'(?:\\.|[^\\'\r\n])*'/,greedy:!0},keyword:/\b(?:abstract|as|assert|boolean|break|byte|case|catch|char|class|const|continue|def|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|in|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|trait|transient|try|void|volatile|while)\b/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?\d+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.\.(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),H.languages.insertBefore("groovy","string",{shebang:{pattern:/#!.+/,alias:"comment",greedy:!0},"interpolation-string":{pattern:/"""(?:[^\\]|\\[\s\S])*?"""|(["/])(?:\\.|(?!\1)[^\\\r\n])*\1|\$\/(?:[^/$]|\$(?:[/$]|(?![/$]))|\/(?!\$))*\/\$/,greedy:!0,inside:{interpolation:J,string:/[\s\S]+/}}}),H.languages.insertBefore("groovy","punctuation",{"spock-block":/\b(?:and|cleanup|expect|given|setup|then|when|where):/}),H.languages.insertBefore("groovy","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0,alias:"punctuation"}}),J.inside.expression.inside=H.languages.groovy}(Prism),Prism.languages.go=Prism.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),Prism.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete Prism.languages.go["class-name"],function(H){var J=Prism.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};J.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:J},boolean:J.boolean,variable:J.variable}}(),Prism.languages.scss=Prism.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),Prism.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),Prism.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),Prism.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),Prism.languages.scss.atrule.inside.rest=Prism.languages.scss,Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(H){H.languages.typescript=H.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),H.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete H.languages.typescript.parameter,delete H.languages.typescript["literal-property"];var J=H.languages.extend("typescript",{});delete J["class-name"],H.languages.typescript["class-name"].inside=J,H.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:J}}}}),H.languages.ts=H.languages.typescript}(Prism),Prism.languages.uri={scheme:{pattern:/^[a-z][a-z0-9+.-]*:/im,greedy:!0,inside:{"scheme-delimiter":/:$/}},fragment:{pattern:/#[\w\-.~!$&'()*+,;=%:@/?]*/,inside:{"fragment-delimiter":/^#/}},query:{pattern:/\?[\w\-.~!$&'()*+,;=%:@/?]*/,inside:{"query-delimiter":{pattern:/^\?/,greedy:!0},"pair-delimiter":/[&;]/,pair:{pattern:/^[^=][\s\S]*/,inside:{key:/^[^=]+/,value:{pattern:/(^=)[\s\S]+/,lookbehind:!0}}}}},authority:{pattern:RegExp("^//(?:[\\w\\-.~!$&'()*+,;=%:]*@)?(?:\\[(?:[0-9a-fA-F:.]{2,48}|v[0-9a-fA-F]+\\.[\\w\\-.~!$&'()*+,;=]+)\\]|[\\w\\-.~!$&'()*+,;=%]*)(?::\\d*)?","m"),inside:{"authority-delimiter":/^\/\//,"user-info-segment":{pattern:/^[\w\-.~!$&'()*+,;=%:]*@/,inside:{"user-info-delimiter":/@$/,"user-info":/^[\w\-.~!$&'()*+,;=%:]+/}},"port-segment":{pattern:/:\d*$/,inside:{"port-delimiter":/^:/,port:/^\d+/}},host:{pattern:/[\s\S]+/,inside:{"ip-literal":{pattern:/^\[[\s\S]+\]$/,inside:{"ip-literal-delimiter":/^\[|\]$/,"ipv-future":/^v[\s\S]+/,"ipv6-address":/^[\s\S]+/}},"ipv4-address":/^(?:(?:[03-9]\d?|[12]\d{0,2})\.){3}(?:[03-9]\d?|[12]\d{0,2})$/}}}},path:{pattern:/^[\w\-.~!$&'()*+,;=%:@/]+/m,inside:{"path-separator":/\//}}},Prism.languages.url=Prism.languages.uri,function(H){var J=/[*&][^\s[\]{},]+/,fe=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,De="(?:"+fe.source+"(?:[ \t]+"+J.source+")?|"+J.source+"(?:[ \t]+"+fe.source+")?)",pe="(?:[^\\s\\x00-\\x08\\x0e-\\x1f!\"#%&'*,\\-:>?@[\\]`{|}\\x7f-\\x84\\x86-\\x9f\\ud800-\\udfff\\ufffe\\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*".replace(/<PLAIN>/g,function(){return"[^\\s\\x00-\\x08\\x0e-\\x1f,[\\]{}\\x7f-\\x84\\x86-\\x9f\\ud800-\\udfff\\ufffe\\uffff]"}),Ue="\"(?:[^\"\\\\\r\n]|\\\\.)*\"|'(?:[^'\\\\\r\n]|\\\\.)*'";function Ye(Xe,We){We=(We||"").replace(/m/g,"")+"m";var Qe="([:\\-,[{]\\s*(?:\\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\\]|\\}|(?:[\r\n]\\s*)?#))".replace(/<<prop>>/g,function(){return De}).replace(/<<value>>/g,function(){return Xe});return RegExp(Qe,We)}H.languages.yaml={scalar:{pattern:RegExp("([\\-:]\\s*(?:\\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\\S[^\r\n]*(?:\\2[^\r\n]+)*)".replace(/<<prop>>/g,function(){return De})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp("((?:^|[:\\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\\s*:\\s)".replace(/<<prop>>/g,function(){return De}).replace(/<<key>>/g,function(){return"(?:"+pe+"|"+Ue+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:Ye("\\d{4}-\\d\\d?-\\d\\d?(?:[tT]|[ \t]+)\\d\\d?:\\d{2}:\\d{2}(?:\\.\\d*)?(?:[ \t]*(?:Z|[-+]\\d\\d?(?::\\d{2})?))?|\\d{4}-\\d{2}-\\d{2}|\\d\\d?:\\d{2}(?::\\d{2}(?:\\.\\d*)?)?"),lookbehind:!0,alias:"number"},boolean:{pattern:Ye("false|true","i"),lookbehind:!0,alias:"important"},null:{pattern:Ye("null|~","i"),lookbehind:!0,alias:"important"},string:{pattern:Ye(Ue),lookbehind:!0,greedy:!0},number:{pattern:Ye("[+-]?(?:0x[\\da-f]+|0o[0-7]+|(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?|\\.inf|\\.nan)","i"),lookbehind:!0},tag:fe,important:J,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},H.languages.yml=H.languages.yaml}(Prism);