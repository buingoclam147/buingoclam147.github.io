"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[557],{58398:(q,S,s)=>{s.r(S),s.d(S,{BtcDetailTimeConfigAutoComponent:()=>Qe,BtcListTimeConfigAutoComponent:()=>De});var d=s(36895),o=s(24006),x=s(10908),A=s(83700),E=s(88516),u=s(72506),_=s(44143),k=s(74713),C=s(76331),v=s(48373),p=s(67534),D=s(77296),y=s(28746),e=s(94650),$=s(62733),X=s(82761),ee=s(80529),ae=s(88001),te=s(50494),ie=s(54004),m=s(97582),g=s(87067),I=s(43429);let re=(()=>{class n{}return(0,m.gn)([(0,g.C)()],n.prototype,"listDayOfWeekExclude",void 0),n})(),se=(()=>{class n{}return(0,m.gn)([(0,g.C)()],n.prototype,"startTimeOfDayExclude",void 0),(0,m.gn)([(0,g.C)()],n.prototype,"endTimeOfDayExclude",void 0),n})(),ce=(()=>{class n{}return(0,m.gn)([(0,g.C)()],n.prototype,"startTimeExclude",void 0),(0,m.gn)([(0,g.C)()],n.prototype,"endTimeExclude",void 0),n})();const ue={SUNDAY:"Ch\u1ee7 nh\u1eadt",MONDAY:"Th\u1ee9 hai",TUESDAY:"Th\u1ee9 ba",WEDNESDAY:"Th\u1ee9 t\u01b0",THURSDAY:"Th\u1ee9 n\u0103m",FRIDAY:"Th\u1ee9 s\xe1u",SATURDAY:"Th\u1ee9 b\u1ea3y"};let ne=(()=>{class n{get createdTimeDate(){return new Date(this.createdTime)}get listDayOfWeekExcludeStr(){var t;return null!==(t=this.dayOfWeekExclude)&&void 0!==t&&t.listDayOfWeekExclude?this.dayOfWeekExclude.listDayOfWeekExclude.split(",").map(i=>ue[i.trim()]||i).join(", "):""}}return(0,m.gn)([(0,g.C)()],n.prototype,"id",void 0),(0,m.gn)([(0,g.C)()],n.prototype,"airline",void 0),(0,m.gn)([(0,g.C)()],n.prototype,"startTime",void 0),(0,m.gn)([(0,g.C)()],n.prototype,"endTime",void 0),(0,m.gn)([(0,g.C)()],n.prototype,"createdTime",void 0),(0,m.gn)([(0,I.D)(()=>re),(0,g.C)()],n.prototype,"dayOfWeekExclude",void 0),(0,m.gn)([(0,I.D)(()=>se),(0,g.C)()],n.prototype,"listTimeOfDayExclude",void 0),(0,m.gn)([(0,I.D)(()=>ce),(0,g.C)()],n.prototype,"listTimeExclude",void 0),(0,m.gn)([(0,g.C)()],n.prototype,"disabled",void 0),n})(),de=(()=>{class n{}return(0,m.gn)([(0,g.C)()],n.prototype,"status",void 0),(0,m.gn)([(0,I.D)(()=>ne),(0,g.C)()],n.prototype,"data",void 0),(0,m.gn)([(0,g.C)()],n.prototype,"objectError",void 0),(0,m.gn)([(0,g.C)()],n.prototype,"traceId",void 0),(0,m.gn)([(0,g.C)()],n.prototype,"success",void 0),(0,m.gn)([(0,g.C)()],n.prototype,"errorCode",void 0),n})(),pe=(()=>{class n{}return(0,m.gn)([(0,g.C)()],n.prototype,"status",void 0),(0,m.gn)([(0,I.D)(()=>ne),(0,g.C)()],n.prototype,"data",void 0),(0,m.gn)([(0,g.C)()],n.prototype,"objectError",void 0),(0,m.gn)([(0,g.C)()],n.prototype,"traceId",void 0),(0,m.gn)([(0,g.C)()],n.prototype,"success",void 0),(0,m.gn)([(0,g.C)()],n.prototype,"errorCode",void 0),n})();const F={headers:new ee.WM({"Content-Type":"application/json"})};let oe=(()=>{class n{constructor(t,i){this.http=t,this.appConfig=i}createConfigBtcAutoIssuedTime(t){return this.http.post(this.appConfig.apiUrl+"bc-server/create-config-bc-auto-issued-time",JSON.stringify(t),F)}getListConfigBtcAutoIssuedTime(t){return this.http.post(this.appConfig.apiUrl+"bc-server/get-list-config-bc-auto-issued-time",JSON.stringify(t),F).pipe((0,ie.U)(i=>(0,te.yE)(de,i,{excludeExtraneousValues:!0})))}getDetailConfigBtcAutoIssuedTime(t){return this.http.post(this.appConfig.apiUrl+"bc-server/get-detail-config-bc-auto-issued-time",{id:t},F).pipe((0,ie.U)(i=>(0,te.yE)(pe,i,{excludeExtraneousValues:!0})))}updateConfigBtcAutoIssuedTime(t){return this.http.put(this.appConfig.apiUrl+"bc-server/update-detail-config-bc-auto-issued-time",JSON.stringify(t),F)}updateDisableConfigBtcAutoIssuedTime(t,i){return this.http.put(this.appConfig.apiUrl+"bc-server/update-disable-config-bc-auto-issued-time",{id:t,disabled:i},F)}deleteConfigBtcAutoIssuedTime(t){return this.http.delete(`${this.appConfig.apiUrl}bc-server/delete-config-bc-auto-issued-time?id=${t}`,F)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ee.eN),e.LFG(ae.qB))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var le=s(62331),me=s(97579);function ge(n,c){1&n&&e._UZ(0,"cf-input-hint",29),2&n&&e.Q6J("hint","Th\u1eddi gian kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function fe(n,c){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=c.$implicit,i=c.index;e.xp6(1),e.lnq(" ",0!=i?",":""," ",t.startTimeOfDayExclude," - ",t.endTimeOfDayExclude," ")}}function he(n,c){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=c.$implicit,i=c.index;e.xp6(1),e.lnq(" ",0!=i?",":""," ",t.startTimeExclude," - ",t.endTimeExclude," ")}}function _e(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"tr",30)(1,"td",31),e._uU(2),e.qZA(),e.TgZ(3,"td",32),e._uU(4),e.qZA(),e.TgZ(5,"td",32),e._uU(6),e.qZA(),e.TgZ(7,"td",33),e.YNc(8,fe,2,3,"ng-container",34),e.qZA(),e.TgZ(9,"td",32),e._uU(10),e.qZA(),e.TgZ(11,"td",33),e.YNc(12,he,2,3,"ng-container",34),e.qZA(),e.TgZ(13,"td",32),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td",35)(17,"cf-icon",36),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.editConfig(a))}),e.qZA(),e.TgZ(18,"cf-icon",37),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.deleteConfig(a))}),e.qZA(),e.TgZ(19,"cf-switch",38),e.NdJ("checkedChange",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onSwitchChange(a))}),e.qZA()()()}if(2&n){const t=c.$implicit,i=e.oxw();e.xp6(2),e.hij(" ",t.airline||"N/A"," "),e.xp6(2),e.hij(" ",t.startTime||"--/--/---"," "),e.xp6(2),e.hij(" ",t.endTime||"--/--/---"," "),e.xp6(2),e.Q6J("ngForOf",t.listTimeOfDayExclude),e.xp6(2),e.hij(" ",t.listDayOfWeekExcludeStr," "),e.xp6(2),e.Q6J("ngForOf",t.listTimeExclude),e.xp6(2),e.Oqu(e.xi3(15,11,t.createdTimeDate,"dd/MM/yyyy")),e.xp6(2),e.Q6J("sticky","right"),e.xp6(3),e.Q6J("checked",!t.disabled)("color","#277FFF")("disabled",i.isLoadingSwitch)}}function Te(n,c){1&n&&e._UZ(0,"cf-spinner")}const Ce=function(){return{num:25}},ye=function(){return{num:50}},xe=function(){return{num:75}},ve=function(){return{num:100}},Ee=function(n,c,t,i){return[n,c,t,i]};let De=(()=>{class n{constructor(t,i,l,a,r,f,T){this._flightDataService=l,this._route=a,this.btcTimeConfigAutoTicketSvc=r,this._toastService=f,this._modal=T,this.airlineSelectOption=[],this.pageSize=25,this.currentPage=1,this.dataSource=[],this.TICKET_INFINITE_SCROLL_DEFAULT=10,this.TICKET_INFINITE_OFSET_INCREASE=10,this.ticketInfiniteScrollCount=this.TICKET_INFINITE_SCROLL_DEFAULT,this.dateRangeStr="",this.isLoading=!1,this.invalidTimeFilter=!1,this.numberOfDateFilter=6,this.isLoadingSwitch=!1,this.searchChange=(O,Z)=>Z,this.sortChange=(O,Z)=>Z,t.registerIcons([u.wvd,u.esH,u.n78,u.PlV,u.LdZ,u.D7,u.xbi,u.fXw,u.poJ,u.iK7,u.TM4,u.Lxr,u.Hge]);const B=new Date,b=new Date;b.setMonth(b.getMonth()+1),b.setDate(0);const M=(0,d.p6)(B,"dd/MM/yyyy","vi-VN"),N=(0,d.p6)(b,"dd/MM/yyyy","vi-VN");this.dateRangeStr=M+" - "+N,this.searchForm=i.group({startTime:[B,o.kI.required],endTime:[b,o.kI.required],airline:[""]}),this.search()}ngOnInit(){this.airlineSelectOption=[{name:"T\u1ea5t c\u1ea3 h\xe3ng bay",value:"",logo:this._flightDataService.getAirlineLogoByCode("")},{name:"Vietnam Airlines",value:"VN",logo:this._flightDataService.getAirlineLogoByCode("VN")},{name:"Bamboo Airways",value:"QH",logo:this._flightDataService.getAirlineLogoByCode("QH")},{name:"Vietjet Air",value:"VJ",logo:this._flightDataService.getAirlineLogoByCode("VJ")},{name:"Vietravel Airlines",value:"VU",logo:this._flightDataService.getAirlineLogoByCode("VU")}]}fromDateChange(t){t&&(this.minToDate=new E.Ao(t.getFullYear(),t.getMonth()+1,t.getDate()))}resetRangeDate(t,i){t.setValue(""),i.setValue("")}onDateSelection(t,i,l,a){if(i.value||l.value)if(i.value&&!l.value&&t&&t.getTime()>=i.value.getTime()){l.setValue(t),a.close(),this.startDate=i.value;const r=(0,d.p6)(t,"dd/MM/yyyy","vi-VN");this.dateRangeStr+=r}else{l.setValue(null),i.setValue(t);const r=(0,d.p6)(t,"dd/MM/yyyy","vi-VN");this.dateRangeStr=r+" - "}else{i.setValue(t),l.setValue(null);const r=(0,d.p6)(t,"dd/MM/yyyy","vi-VN");this.dateRangeStr=r+" - "}this.invalidTimeFilter=i.invalid||l.invalid}search(){if(this.searchForm.valid){console.log(this.searchForm);const t={airline:this.searchForm.controls.airline.value,startTime:(0,d.p6)(this.searchForm.controls.startTime.value,"dd/MM/yyyy","vi-VN"),endTime:(0,d.p6)(this.searchForm.controls.endTime.value,"dd/MM/yyyy","vi-VN")};console.log(t),this.isLoading=!0,this.btcTimeConfigAutoTicketSvc.getListConfigBtcAutoIssuedTime(t).pipe((0,y.x)(()=>this.isLoading=!1)).subscribe({next:i=>{i.data&&(this.dataSource=[...i.data],this.reloadScroll())}}),sessionStorage.setItem("manageBookingFilter",JSON.stringify(this.searchForm.value))}this.searchForm.markAllAsTouched()}reloadScroll(){this.ticketInfiniteScrollCount=this.TICKET_INFINITE_SCROLL_DEFAULT}removeAccents(t){return t?t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D"):""}checkChange(t){this.pageSize=parseInt(t)}ticketTrackByFn(t,i){return i.bookingCode}onScrollDown(){this.ticketInfiniteScrollCount+=this.TICKET_INFINITE_OFSET_INCREASE}editConfig(t){this._route.navigate(["admin/btc-detail-time-config-auto",t.id])}deleteConfig(t){this._modal.open(p.V0,{title:"X\xf3a c\u1ea5u h\xecnh n\xe0y?",body:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a c\u1ea5u h\xecnh n\xe0y? Vi\u1ec7c n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c, vui l\xf2ng ki\u1ec3m tra k\u0129 tr\u01b0\u1edbc khi thao t\xe1c."}).afterClosed$.subscribe({next:l=>{l.data&&this.btcTimeConfigAutoTicketSvc.deleteConfigBtcAutoIssuedTime(t.id).subscribe({next:a=>{"OK"===a.status?(this.search(),this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"X\xf3a c\u1ea5u h\xecnh th\xe0nh c\xf4ng",sticky:!1})):this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"X\xf3a c\u1ea5u h\xecnh th\u1ea5t b\u1ea1i",sticky:!0})}})}})}createConfig(){this._route.navigate(["admin/btc-detail-time-config-auto"])}onSwitchChange(t){this.isLoadingSwitch=!0,this.btcTimeConfigAutoTicketSvc.updateDisableConfigBtcAutoIssuedTime(t.id,!t.disabled).pipe((0,y.x)(()=>this.isLoadingSwitch=!1)).subscribe({next:i=>{i.success?(this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i th\xe0nh c\xf4ng"}),this.dataSource=[...this.dataSource.map(l=>(l.id===t.id&&(l.disabled=!t.disabled),l))]):(this.dataSource=[...this.dataSource.map(l=>(l.id===t.id&&(l.disabled=!t.disabled),l))],this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i th\u1ea5t b\u1ea1i"}))}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.KNP),e.Y36(o.qu),e.Y36($.G),e.Y36(X.F0),e.Y36(oe),e.Y36(le.BX),e.Y36(me.oE))},n.\u0275cmp=e.Xpm({type:n,selectors:[["btc-list-time-config-auto"]],standalone:!0,features:[e.jDz],decls:51,vars:31,consts:[[1,"flex","flex-col","py-4","px-[30px]","bg-white","w-full","md:py-3","md:pl-4","md:pr-0"],[1,"text-heading-lg","font-medium","text-neutral-gray-6","mb-3"],[1,"flex","w-full","gap-x-2","md:flex-col"],[1,"flex","mr-2"],[1,"grow",3,"status"],["cfHeadIcon","","icon","calendar","size","small"],["cfLabel",""],["cf-input","","type","text","size","medium","placeholder","Ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh",1,"py-[7px]",3,"ngModel","click","ngModelChange"],[1,"hidden"],["cfHint","",3,"hint",4,"ngIf"],["cfDatepicker","","type","text","outsideDays","hidden",1,"w-0","m-0","mr-2","bottom-0",3,"secondaryCalendar","displayMonths","rangeSelection","containerWidth","startDate","canReset","fromDate","toDate","dateSelect"],["dateRange","cfDatepicker"],["textField","name","valueField","value","size","medium",1,"grow-[180]","mr-4",3,"formControl","data","allowSearch"],[1,"flex-1","flex","flex-col","w-full","justify-end"],["cf-button","","type","secondary","size","medium",1,"justify-center","min-w-[100px]","max-w-[140px]",3,"click"],["cfHeadIcon","","icon","search","size","small",1,"mr-2"],[1,"py-4","px-[30px]","rounded-lg"],[1,"bg-neutral-white","rounded-lg","shadow-cf-md"],[1,"p-4","flex","justify-between","items-center"],[1,"text-heading-sm"],["cf-button","",3,"click"],["icon","plus","size","small",1,"mr-2"],[3,"fnSort","fnSearch","pageSizeList","listData","pageSize"],["managerTable",""],["cf-thead",""],["cf-th","",1,"whitespace-nowrap"],["cf-th","",3,"sticky"],["ngFor","",3,"ngForOf"],[4,"ngIf"],["cfHint","",3,"hint"],[1,"border-b","border-neutral-gray-1"],[1,"py-2","px-3","text-body-md"],[1,"py-2","px-3","text-body-sm"],[1,"py-2","px-3","text-body-sm","whitespace-nowrap"],[4,"ngFor","ngForOf"],["cf-td","",1,"py-2","px-3","flex","gap-2","items-center","text-body-sm","whitespace-nowrap","text-right",3,"sticky"],["icon","edit","size","small",1,"cursor-pointer",3,"click"],["icon","delete","size","small",1,"cursor-pointer","ml-2",3,"click"],[3,"checked","color","disabled","checkedChange"]],template:function(t,i){if(1&t){const l=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Time xu\u1ea5t v\xe9 t\u1ef1 \u0111\u1ed9ng"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"cf-input-group",4),e._UZ(6,"cf-icon",5),e.TgZ(7,"label",6),e._uU(8,"Th\u1eddi gian"),e.qZA(),e.TgZ(9,"input",7),e.NdJ("click",function(){e.CHM(l);const r=e.MAs(13);return e.KtG(r.open())})("ngModelChange",function(r){return i.dateRangeStr=r}),e.qZA(),e.TgZ(10,"div",8),e.YNc(11,ge,1,1,"cf-input-hint",9),e.qZA()(),e.TgZ(12,"input",10,11),e.NdJ("dateSelect",function(r){e.CHM(l);const f=e.MAs(13);return e.KtG(i.onDateSelection(r,i.searchForm.controls.startTime,i.searchForm.controls.endTime,f))}),e.qZA()(),e.TgZ(14,"cf-select",12)(15,"label",6),e._uU(16,"H\xe3ng bay"),e.qZA()(),e.TgZ(17,"div",13)(18,"button",14),e.NdJ("click",function(){return i.search()}),e._UZ(19,"cf-icon",15),e._uU(20," T\xecm ki\u1ebfm "),e.qZA()()()(),e.TgZ(21,"div",16)(22,"div",17)(23,"div",18)(24,"div",19),e._uU(25,"Qu\u1ea3n l\xfd danh s\xe1ch time xu\u1ea5t v\xe9 t\u1ef1 \u0111\u1ed9ng"),e.qZA(),e.TgZ(26,"button",20),e.NdJ("click",function(){return i.createConfig()}),e._UZ(27,"cf-icon",21),e._uU(28," T\u1ea1o config "),e.qZA()(),e.TgZ(29,"cf-table",22,23)(31,"thead",24)(32,"th",25),e._uU(33,"H\xe3ng bay"),e.qZA(),e.TgZ(34,"th",25),e._uU(35,"Ng\xe0y b\u1eaft \u0111\u1ea7u"),e.qZA(),e.TgZ(36,"th",25),e._uU(37,"Ng\xe0y k\u1ebft th\xfac"),e.qZA(),e.TgZ(38,"th",25),e._uU(39,"Lo\u1ea1i tr\u1eeb theo gi\u1edd"),e.qZA(),e.TgZ(40,"th",25),e._uU(41,"Lo\u1ea1i tr\u1eeb theo th\u1ee9"),e.qZA(),e.TgZ(42,"th",25),e._uU(43,"Lo\u1ea1i tr\u1eeb ng\xe0y c\u1ee5 th\u1ec3"),e.qZA(),e.TgZ(44,"th",25),e._uU(45,"Ng\xe0y t\u1ea1o"),e.qZA(),e.TgZ(46,"th",26),e._uU(47," Ch\u1ee9c n\u0103ng"),e.qZA()(),e.TgZ(48,"tbody"),e.YNc(49,_e,20,14,"ng-template",27),e.qZA()()()(),e.YNc(50,Te,1,0,"cf-spinner",28)}2&t&&(e.xp6(5),e.Q6J("status",i.invalidTimeFilter?"error":"default"),e.xp6(4),e.Q6J("ngModel",i.dateRangeStr),e.xp6(2),e.Q6J("ngIf",i.invalidTimeFilter),e.xp6(1),e.Q6J("secondaryCalendar","lunar")("displayMonths",2)("rangeSelection",!0)("containerWidth",600)("startDate",i.startDate)("canReset",!1)("fromDate",i.searchForm.controls.startTime.value)("toDate",i.searchForm.controls.endTime.value),e.xp6(2),e.Q6J("formControl",i.searchForm.controls.airline)("data",i.airlineSelectOption)("allowSearch",!1),e.xp6(15),e.Q6J("fnSort",i.sortChange)("fnSearch",i.searchChange)("pageSizeList",e.l5B(26,Ee,e.DdM(22,Ce),e.DdM(23,ye),e.DdM(24,xe),e.DdM(25,ve)))("listData",i.dataSource)("pageSize",i.pageSize),e.xp6(17),e.Q6J("sticky","right"),e.xp6(3),e.Q6J("ngForOf",i.dataSource),e.xp6(1),e.Q6J("ngIf",i.isLoading))},dependencies:[k.q,o.u5,o.Fj,o.JJ,o.On,o.UX,o.oH,_.j$,_.ND,_.BN,_.v2,d.ez,d.sg,d.O5,d.uU,u.AxE,u.Sm8,E.Cs,A.N8,A.Xq,v.rC,v.E_,v.qS,v.zs,D.Rq,p.OR,x.DW,C.I],encapsulation:2}),n})();var Ae=s(17736),ke=s(34541),be=s(80429),w=s(54801),U=s(47910);function Se(n,c){1&n&&e._UZ(0,"cf-input-hint",27),2&n&&e.Q6J("hint","Vui l\xf2ng ch\u1ecdn h\xe3ng bay")}function Ze(n,c){1&n&&e._UZ(0,"cf-input-hint",27),2&n&&e.Q6J("hint","Vui l\xf2ng ch\u1ecdn t\u1eeb ng\xe0y")}function Fe(n,c){1&n&&e._UZ(0,"cf-input-hint",27),2&n&&e.Q6J("hint","Vui l\xf2ng ch\u1ecdn ng\xe0y \u0111\u1ebfn")}function Be(n,c){1&n&&e._UZ(0,"cf-input-hint",27),2&n&&e.Q6J("hint","Vui l\xf2ng ch\u1ecdn th\u1ee9 trong tu\u1ea7n ")}function Ie(n,c){if(1&n&&(e.ynx(0),e.TgZ(1,"cf-multi-select",34)(2,"label",35),e._uU(3," Ch\u1ecdn th\u1ee9 "),e.qZA(),e.YNc(4,Be,1,1,"cf-input-hint",7),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit,i=e.oxw();let l,a;e.xp6(1),e.Q6J("status",null!=(l=t.get("dayPicker"))&&l.invalid&&(null!=(l=t.get("dayPicker"))&&l.dirty||null!=(l=t.get("dayPicker"))&&l.touched)?"error":"default")("data",i.dayPickerOptions)("allowSearch",!1)("size","small"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",(null==(a=t.get("dayPicker"))||null==a.errors?null:a.errors.required)&&((null==(a=t.get("dayPicker"))?null:a.dirty)||(null==(a=t.get("dayPicker"))?null:a.touched)))}}function Me(n,c){1&n&&e._UZ(0,"cf-input-hint",27),2&n&&e.Q6J("hint","Vui l\xf2ng ch\u1ecdn ng\xe0y b\u1eaft \u0111\u1ea7u")}function Ne(n,c){1&n&&e._UZ(0,"cf-input-hint",27),2&n&&e.Q6J("hint","Vui l\xf2ng ch\u1ecdn ng\xe0y k\u1ebft th\xfac")}function Oe(n,c){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"cf-input-group",10),e._UZ(2,"cf-icon",11),e.TgZ(3,"label",5),e._uU(4," T\u1eeb ng\xe0y "),e.qZA(),e.TgZ(5,"input",36,13),e.NdJ("input",function(){e.CHM(t);const l=e.MAs(6);return e.KtG(l.close())})("dateSelect",function(){e.CHM(t);const l=e.MAs(6);return e.KtG(l.close())}),e.qZA(),e.YNc(7,Me,1,1,"cf-input-hint",7),e.qZA(),e.TgZ(8,"cf-input-group",10),e._UZ(9,"cf-icon",14),e.TgZ(10,"label",5),e._uU(11," \u0110\u1ebfn ng\xe0y "),e.qZA(),e.TgZ(12,"input",37,16),e.NdJ("input",function(){e.CHM(t);const l=e.MAs(13);return e.KtG(l.close())})("dateSelect",function(){e.CHM(t);const l=e.MAs(13);return e.KtG(l.close())}),e.ALo(14,"mapper"),e.qZA(),e.YNc(15,Ne,1,1,"cf-input-hint",7),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit,i=e.oxw();let l,a,r,f,T;e.xp6(1),e.Q6J("status",null!=(l=t.get("startDate"))&&l.invalid&&(null!=(l=t.get("startDate"))&&l.dirty||null!=(l=t.get("startDate"))&&l.touched)?"error":"default")("status","default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",i.minDate),e.xp6(2),e.Q6J("ngIf",(null==(a=t.get("startDate"))||null==a.errors?null:a.errors.required)&&((null==(a=t.get("startDate"))?null:a.dirty)||(null==(a=t.get("startDate"))?null:a.touched))),e.xp6(1),e.Q6J("status",null!=(r=t.get("endDate"))&&r.invalid&&(null!=(r=t.get("endDate"))&&r.dirty||null!=(r=t.get("endDate"))&&r.touched)?"error":"default")("status","default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("minDate",e.xi3(14,13,null==(f=t.get("startDate"))?null:f.value,i.mapperDateToCfDate))("secondaryCalendar","lunar"),e.xp6(3),e.Q6J("ngIf",(null==(T=t.get("endDate"))||null==T.errors?null:T.errors.required)&&((null==(T=t.get("endDate"))?null:T.dirty)||(null==(T=t.get("endDate"))?null:T.touched)))}}function we(n,c){1&n&&e._UZ(0,"cf-input-hint",42),2&n&&e.Q6J("hint","Vui l\xf2ng ch\u1ecdn gi\u1edd b\u1eaft \u0111\u1ea7u ")}function Ue(n,c){1&n&&e._UZ(0,"cf-input-hint",42),2&n&&e.Q6J("hint","Vui l\xf2ng ch\u1ecdn gi\u1edd k\u1ebft th\xfac")}function Je(n,c){if(1&n&&(e.ynx(0),e.TgZ(1,"div",38)(2,"label",5),e._uU(3,"Gi\u1edd b\u1eaft \u0111\u1ea7u"),e.qZA(),e._UZ(4,"time-picker",39),e.YNc(5,we,1,1,"cf-input-hint",40),e.qZA(),e.TgZ(6,"div",38)(7,"label",5),e._uU(8,"Gi\u1edd k\u1ebft th\xfac"),e.qZA(),e._UZ(9,"time-picker",41),e.YNc(10,Ue,1,1,"cf-input-hint",40),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;let i,l,a,r,f;e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("error",(null==(i=t.get("startTime"))?null:i.hasError("required"))&&((null==(i=t.get("startTime"))?null:i.touched)||(null==(i=t.get("startTime"))?null:i.dirty))),e.xp6(1),e.Q6J("ngIf",(null==(l=t.get("startTime"))||null==l.errors?null:l.errors.required)&&((null==(l=t.get("startTime"))?null:l.dirty)||(null==(l=t.get("startTime"))?null:l.touched))),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("disabledTimes",null==(a=t.get("startTime"))?null:a.value)("error",(null==(r=t.get("endTime"))?null:r.hasError("required"))&&((null==(r=t.get("endTime"))?null:r.touched)||(null==(r=t.get("endTime"))?null:r.dirty))),e.xp6(1),e.Q6J("ngIf",(null==(f=t.get("endTime"))||null==f.errors?null:f.errors.required)&&((null==(f=t.get("endTime"))?null:f.dirty)||(null==(f=t.get("endTime"))?null:f.touched)))}}function qe(n,c){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",28)(2,"cf-select",29),e.NdJ("selectedChange",function(){const l=e.CHM(t),a=l.index,r=l.$implicit,f=e.oxw();return e.KtG(f.onExceptTypeChange(a,r.value.type))}),e.TgZ(3,"label",5),e._uU(4," Type "),e.qZA()(),e.ynx(5,30),e.YNc(6,Ie,5,6,"ng-container",31),e.YNc(7,Oe,16,16,"ng-container",31),e.YNc(8,Je,11,7,"ng-container",32),e.BQk(),e.TgZ(9,"cf-icon",33),e.NdJ("click",function(){const a=e.CHM(t).index,r=e.oxw();return e.KtG(r.removeExcept(a))}),e.qZA()(),e.BQk()}if(2&n){const t=c.$implicit,i=c.index,l=e.oxw();let a;e.xp6(1),e.Q6J("formGroupName",i),e.xp6(1),e.Q6J("status",null!=(a=t.get("type"))&&a.invalid&&(null!=(a=t.get("type"))&&a.dirty||null!=(a=t.get("type"))&&a.touched)?"error":"default")("data",l.exceptTypeOptions)("allowSearch",!1),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngSwitch",t.value.type),e.xp6(1),e.Q6J("ngSwitchCase","day"),e.xp6(1),e.Q6J("ngSwitchCase","date")}}let Qe=(()=>{class n{constructor(t,i,l,a,r,f){this.fb=t,this.calendar=l,this._toastService=a,this.btcTimeConfigAutoTicketSvc=r,this.route=f,this.exceptTypeOptions=[{value:"time",text:"Theo gi\u1edd"},{value:"day",text:"Theo th\u1ee9"},{value:"date",text:"Ng\xe0y c\u1ee5 th\u1ec3"}],this.airlineOptions=[{value:"VN",text:"Vietnam Airlines"},{value:"VJ",text:"VietJet Air"},{value:"QH",text:"Bamboo Airways"},{value:"VU",text:"Vietravel Airlines"}],this.dayPickerOptions=[{value:"MONDAY",text:"Th\u1ee9 2"},{value:"TUESDAY",text:"Th\u1ee9 3"},{value:"WEDNESDAY",text:"Th\u1ee9 4"},{value:"THURSDAY",text:"Th\u1ee9 5"},{value:"FRIDAY",text:"Th\u1ee9 6"},{value:"SATURDAY",text:"Th\u1ee9 7"},{value:"SUNDAY",text:"Ch\u1ee7 nh\u1eadt"}],this.mapperDateToCfDate=T=>(console.log(T),T?{year:T.getFullYear(),month:T.getMonth()+1,day:T.getDate()}:this.minDate),this.minDate=this.calendar.getToday(),i.registerIcons([u.n78,u.fqi,u.UNF,u.NNX]),this.form=this.fb.group({id:[null],airline:[null,o.kI.required],startTime:[null,o.kI.required],endTime:[null,o.kI.required],excepts:this.fb.array([])})}get excepts(){return this.form.get("excepts")}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");t&&this.loadDetail(t)}loadDetail(t){this.btcTimeConfigAutoTicketSvc.getDetailConfigBtcAutoIssuedTime(t).subscribe(i=>{i.success&&i.data&&this.patchForm(i.data)})}patchForm(t){if(this.form.patchValue({id:t.id,airline:t.airline,startTime:(0,w.Z)(t.startTime,"dd/MM/yyyy",new Date),endTime:(0,w.Z)(t.endTime,"dd/MM/yyyy",new Date)}),this.excepts.clear(),t.listTimeOfDayExclude&&t.listTimeOfDayExclude.length)for(const i of t.listTimeOfDayExclude){const l=this.fb.group({type:["time",o.kI.required],startDate:[null],endDate:[null],startTime:[i.startTimeOfDayExclude,o.kI.required],endTime:[i.endTimeOfDayExclude,o.kI.required],dayPicker:[null]});this.excepts.push(l)}if(t.listTimeExclude&&t.listTimeExclude.length)for(const i of t.listTimeExclude){const l=this.fb.group({type:["date",o.kI.required],startDate:[(0,w.Z)(i.startTimeExclude,"dd/MM/yyyy",new Date),o.kI.required],endDate:[(0,w.Z)(i.endTimeExclude,"dd/MM/yyyy",new Date),o.kI.required],startTime:[null],endTime:[null],dayPicker:[null]});this.excepts.push(l)}if(t.dayOfWeekExclude&&t.dayOfWeekExclude.listDayOfWeekExclude){const i=this.fb.group({type:["day",o.kI.required],startDate:[null],endDate:[null],startTime:[null],endTime:[null],dayPicker:[t.dayOfWeekExclude.listDayOfWeekExclude.split(",")]});this.excepts.push(i)}}createExcept(){return this.fb.group({type:["time",o.kI.required],startDate:[null],endDate:[null],startTime:[null,o.kI.required],endTime:[null,o.kI.required],dayPicker:[null]})}addExcept(){this.excepts.push(this.createExcept()),console.log(this.excepts)}removeExcept(t){this.excepts.removeAt(t)}onExceptTypeChange(t,i){var l,a,r,f,T,B,b,M,N,O,Z,Q,L,V,Y,z,R,P,H,W,j;const J=[];if(this.excepts.controls.forEach((K,Le)=>{var G;"day"===(null===(G=K.get("type"))||void 0===G?void 0:G.value)&&J.push(Le)}),J.length>1){const K=J[J.length-1];setTimeout(()=>{this.excepts.at(K).patchValue({type:"time"})}),this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"Ch\u1ec9 \u0111\u01b0\u1ee3c t\u1ed1i \u0111a 1 lo\u1ea1i tr\u1eeb theo th\u1ee9",sticky:!0})}const h=this.excepts.at(t);null===(l=h.get("type"))||void 0===l||l.setValue(i),"time"===i?(null===(a=h.get("startDate"))||void 0===a||a.clearValidators(),null===(r=h.get("endDate"))||void 0===r||r.clearValidators(),null===(f=h.get("dayPicker"))||void 0===f||f.clearValidators(),null===(T=h.get("startTime"))||void 0===T||T.setValidators([o.kI.required]),null===(B=h.get("endTime"))||void 0===B||B.setValidators([o.kI.required])):"day"===i?(null===(b=h.get("startDate"))||void 0===b||b.clearValidators(),null===(M=h.get("endDate"))||void 0===M||M.clearValidators(),null===(N=h.get("dayPicker"))||void 0===N||N.setValidators([o.kI.required]),null===(O=h.get("startTime"))||void 0===O||O.clearValidators(),null===(Z=h.get("endTime"))||void 0===Z||Z.clearValidators()):(null===(Q=h.get("startDate"))||void 0===Q||Q.setValidators([o.kI.required]),null===(L=h.get("endDate"))||void 0===L||L.setValidators([o.kI.required]),null===(V=h.get("startTime"))||void 0===V||V.clearValidators(),null===(Y=h.get("endTime"))||void 0===Y||Y.clearValidators(),null===(z=h.get("dayPicker"))||void 0===z||z.clearValidators()),null===(R=h.get("startDate"))||void 0===R||R.updateValueAndValidity(),null===(P=h.get("endDate"))||void 0===P||P.updateValueAndValidity(),null===(H=h.get("dayPicker"))||void 0===H||H.updateValueAndValidity(),null===(W=h.get("startTime"))||void 0===W||W.updateValueAndValidity(),null===(j=h.get("endTime"))||void 0===j||j.updateValueAndValidity()}onSubmit(){if(this.form.markAllAsTouched(),this.form.invalid)return;const t=this.form.value;t.id?this.btcTimeConfigAutoTicketSvc.updateConfigBtcAutoIssuedTime(Object.assign(Object.assign({},this.transformData(t)),{id:t.id})).subscribe(i=>{var l,a;this._toastService.add(i.success?{severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"C\u1eadp nh\u1eadt c\u1ea5u h\xecnh th\xe0nh c\xf4ng"}:{severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:null===(a=null===(l=i.objectError)||void 0===l?void 0:l.errorDescription)||void 0===a?void 0:a.vi})}):(this.btcTimeConfigAutoTicketSvc.createConfigBtcAutoIssuedTime(this.transformData(t)).subscribe(i=>{var l,a;this._toastService.add(i.success?{severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"T\u1ea1o c\u1ea5u h\xecnh th\xe0nh c\xf4ng"}:{severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:null===(a=null===(l=i.objectError)||void 0===l?void 0:l.errorDescription)||void 0===a?void 0:a.vi})}),console.log(this.transformData(t)))}transformData(t){console.log(t);const i={airline:t.airline,startTime:(0,U.Z)(t.startTime,"dd/MM/yyyy"),endTime:(0,U.Z)(t.endTime,"dd/MM/yyyy"),createdTime:(new Date).toISOString().slice(0,19),dayOfWeekExclude:{listDayOfWeekExclude:""},listTimeOfDayExclude:[],listTimeExclude:[]},l=[];for(const a of t.excepts)switch(a.type){case"day":a.dayPicker&&l.push(...a.dayPicker);break;case"time":i.listTimeOfDayExclude.push({startTimeOfDayExclude:a.startTime,endTimeOfDayExclude:a.endTime});break;case"date":i.listTimeExclude.push({startTimeExclude:(0,U.Z)(a.startDate,"dd/MM/yyyy"),endTimeExclude:(0,U.Z)(a.endDate,"dd/MM/yyyy")})}return l.length>0&&(i.dayOfWeekExclude.listDayOfWeekExclude=l.join(",")),console.log(i),i}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(o.qu),e.Y36(u.KNP),e.Y36(E.jH),e.Y36(le.BX),e.Y36(oe),e.Y36(X.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["btc-detail-time-config-auto"]],standalone:!0,features:[e.jDz],decls:47,vars:24,consts:[[1,"flex","flex-col","gap-4","p-6",3,"formGroup"],[1,"w-full","max-w-[764px]","bg-white","rounded-lg","shadow-md","p-6","flex","flex-col","gap-3","mx-auto"],[1,"text-gray-6","font-medium","text-heading-sm"],[1,"text-neutral-gray-4","text-heading-xs"],[1,"text-espressive-md","text-neutral-gray-5","mb-1.5","empty:!m-0"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5",3,"CfRequired"],["textField","text","valueField","value","size","medium","placeholder","Nh\u1eadp h\xe3ng","formControlName","airline",1,"!w-full","!max-w-full",3,"status","data"],["cfHint","",3,"hint",4,"ngIf"],[1,"w-full","flex","gap-4"],[1,"w-full","flex-1","flex","gap-2"],[1,"grow-[400]","flex-1",3,"status"],["cfHeadIcon","","icon","calendar","size","small"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","formControlName","startTime","placeholder","T\u1eeb ng\xe0y",1,"py-[7px]",3,"secondaryCalendar","displayMonths","minDate","input","dateSelect"],["dateFrom","cfDatepicker"],["cfHeadIcon","","icon","clock","size","small"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","formControlName","endTime","placeholder","\u0110\u1ebfn ng\xe0y",1,"py-[7px]",3,"displayMonths","secondaryCalendar","minDate","input","dateSelect"],["dateTo","cfDatepicker"],[1,"flex","justify-between","items-center"],[1,"text-neutral-gray-6","font-medium","text-body-sm"],["icon","chevron_down","size","small",1,"cursor-pointer"],[1,"flex","flex-col","gap-4"],["formArrayName","excepts"],[4,"ngFor","ngForOf"],[1,"text-blue-4","font-bold","text-body-sm","cursor-pointer",3,"click"],[1,"flex","justify-end","mx-auto","items-center","w-full","max-w-[764px]"],["cf-button","",1,"min-w-[100px]","justify-center","text-white",3,"click"],["icon","check","size","small",1,"mr-1.5"],["cfHint","",3,"hint"],[1,"flex","gap-4","w-full",3,"formGroupName"],["textField","text","valueField","value","placeholder","type","formControlName","type",1,"w-full","max-w-[220px]",3,"status","data","allowSearch","selectedChange"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["icon","close","size","small",1,"cursor-pointer","h-full","mt-10",3,"click"],["textField","text","valueField","value","placeholder","Ch\u1ecdn th\u1ee9 trong tu\u1ea7n","formControlName","dayPicker",1,"flex-1","w-full","max-w-full",3,"status","data","allowSearch","size"],["cfLabel","",1,"text-express-sm","text-black",3,"CfRequired"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","formControlName","startDate","placeholder","T\u1eeb ng\xe0y",1,"py-[7px]",3,"secondaryCalendar","displayMonths","minDate","input","dateSelect"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","formControlName","endDate","placeholder","\u0110\u1ebfn ng\xe0y",1,"py-[7px]",3,"minDate","secondaryCalendar","input","dateSelect"],[1,"flex-1","gap-1","mt-1","flex","flex-col"],["formControlName","startTime",1,"flex-1",3,"error"],["cfHint","","class","text-primary-1-4 text-body-sm",3,"hint",4,"ngIf"],["formControlName","endTime",1,"flex-1",3,"disabledTimes","error"],["cfHint","",1,"text-primary-1-4","text-body-sm",3,"hint"]],template:function(t,i){if(1&t){const l=e.EpF();e.TgZ(0,"form",0)(1,"div",1)(2,"div",2),e._uU(3," H\xe3ng bay "),e.qZA(),e.TgZ(4,"div",3),e._uU(5," Ch\u1ec9 \u0111\u1ecbnh h\xe3ng bay \u0111\u01b0\u1ee3c xu\u1ea5t v\xe9 t\u1ef1 \u0111\u1ed9ng "),e.qZA(),e.TgZ(6,"div")(7,"div",4)(8,"label",5),e._uU(9," Ch\u1ecdn h\xe3ng "),e.qZA()(),e.TgZ(10,"cf-select",6),e.YNc(11,Se,1,1,"cf-input-hint",7),e.qZA()()(),e.TgZ(12,"div",1)(13,"div",2),e._uU(14," Th\u1eddi gian xu\u1ea5t v\xe9 t\u1ef1 \u0111\u1ed9ng "),e.qZA(),e.TgZ(15,"div",3),e._uU(16," Th\u1eddi gian \xe1p d\u1ee5ng xu\u1ea5t v\xe9 t\u1ef1 \u0111\u1ed9ng "),e.qZA(),e.TgZ(17,"div",8)(18,"div",9)(19,"cf-input-group",10),e._UZ(20,"cf-icon",11),e.TgZ(21,"label",5),e._uU(22," T\u1eeb ng\xe0y "),e.qZA(),e.TgZ(23,"input",12,13),e.NdJ("input",function(){e.CHM(l);const r=e.MAs(24);return e.KtG(r.close())})("dateSelect",function(){e.CHM(l);const r=e.MAs(24);return e.KtG(r.close())}),e.qZA(),e.YNc(25,Ze,1,1,"cf-input-hint",7),e.qZA(),e.TgZ(26,"cf-input-group",10),e._UZ(27,"cf-icon",14),e.TgZ(28,"label",5),e._uU(29," \u0110\u1ebfn ng\xe0y "),e.qZA(),e.TgZ(30,"input",15,16),e.NdJ("input",function(){e.CHM(l);const r=e.MAs(31);return e.KtG(r.close())})("dateSelect",function(){e.CHM(l);const r=e.MAs(31);return e.KtG(r.close())}),e.ALo(32,"mapper"),e.qZA(),e.YNc(33,Fe,1,1,"cf-input-hint",7),e.qZA()()(),e.TgZ(34,"div",17)(35,"div",18),e._uU(36," Tu\u1ef3 ch\u1ec9nh th\u1eddi gian lo\u1ea1i tr\u1eeb "),e.qZA(),e._UZ(37,"cf-icon",19),e.qZA(),e.TgZ(38,"div",20),e.ynx(39,21),e.YNc(40,qe,10,8,"ng-container",22),e.BQk(),e.qZA(),e.TgZ(41,"div",23),e.NdJ("click",function(){return i.addExcept()}),e._uU(42," Th\xeam th\u1eddi gian lo\u1ea1i tr\u1eeb "),e.qZA()(),e.TgZ(43,"div",24)(44,"button",25),e.NdJ("click",function(){return i.onSubmit()}),e._UZ(45,"cf-icon",26),e._uU(46),e.qZA()()()}2&t&&(e.Q6J("formGroup",i.form),e.xp6(8),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",i.form.controls.airline.invalid&&(i.form.controls.airline.dirty||i.form.controls.airline.touched)?"error":"default")("data",i.airlineOptions),e.xp6(1),e.Q6J("ngIf",(null==i.form.controls.airline.errors?null:i.form.controls.airline.errors.required)&&(i.form.controls.airline.dirty||i.form.controls.airline.touched)),e.xp6(8),e.Q6J("status",i.form.controls.startTime.invalid&&(i.form.controls.startTime.dirty||i.form.controls.startTime.touched)?"error":"default")("status","default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",i.minDate),e.xp6(2),e.Q6J("ngIf",(null==i.form.controls.startTime.errors?null:i.form.controls.startTime.errors.required)&&(i.form.controls.startTime.dirty||i.form.controls.startTime.touched)),e.xp6(1),e.Q6J("status",i.form.controls.endTime.invalid&&(i.form.controls.endTime.dirty||i.form.controls.endTime.touched)?"error":"default")("status","default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("displayMonths",1)("secondaryCalendar","lunar")("minDate",e.xi3(32,21,i.form.controls.startTime.value,i.mapperDateToCfDate)),e.xp6(3),e.Q6J("ngIf",(null==i.form.controls.endTime.errors?null:i.form.controls.endTime.errors.required)&&(i.form.controls.endTime.dirty||i.form.controls.endTime.touched)),e.xp6(7),e.Q6J("ngForOf",i.excepts.controls),e.xp6(6),e.hij(" ",i.form.value.id?"C\u1eadp nh\u1eadt":"T\u1ea1o m\u1edbi"," "))},dependencies:[d.ez,d.sg,d.O5,d.RF,d.n9,d.ED,o.UX,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,o.x0,o.CE,u.AxE,u.Sm8,k.q,ke.C,_.j$,_.ND,_.BN,_.v2,E.Cs,p.eQ,Ae.U,be.q,A.N8,A.Xq],encapsulation:2}),n})()},80429:(q,S,s)=>{s.d(S,{q:()=>o});var d=s(94650);let o=(()=>{class x{transform(E,u,..._){return u(E,..._)}}return x.\u0275fac=function(E){return new(E||x)},x.\u0275pipe=d.Yjl({name:"mapper",type:x,pure:!0,standalone:!0}),x})()},4688:(q,S,s)=>{s.d(S,{b:()=>u});var d=s(36895),o=s(94650),x=s(72506);function A(_,k){if(1&_){const C=o.EpF();o.TgZ(0,"cf-icon",3),o.NdJ("click",function(p){o.CHM(C);const D=o.oxw();return o.KtG(D.close(p))}),o.qZA()}}const E=["*"];let u=(()=>{class _{constructor(C,v,p){this.renderer=C,this.elementRef=v,this.mode="default",this.type="solid",this.size="medium",this.color="red",this.onClose=new o.vpe,p.registerIcons([x.UNF])}ngOnChanges(C){this.loadClasses()}ngOnInit(){this.loadClasses()}loadClasses(){this.classes="rounded inline-flex justify-center items-center gap-x-1 "+this.getSizeClass()+" "+this.getModeClass()}getSizeClass(){return"small"===this.size?"py-1 px-2 text-express-sm":"xsmall"===this.size?"py-[2px] px-1 text-express-sm":"py-1.5 px-3 text-express-md"}getModeClass(){return"outline"===this.type?`bg-white bordertext-${this.color}-4 border-${this.color}-4`:"inverted"===this.type?`bg-${this.color}-1 text-${this.color}-4`:"gray-2"===this.color?"text-neutral-gray-6 bg-neutral-gray-2":`text-neutral-white bg-${this.color}-4`}close(C){this.onClose.emit(C),C.defaultPrevented||this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}}return _.\u0275fac=function(C){return new(C||_)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(x.KNP))},_.\u0275cmp=o.Xpm({type:_,selectors:[["cf-label"]],hostVars:2,hostBindings:function(C,v){2&C&&o.Tol(v.classes)},inputs:{mode:"mode",type:"type",size:"size",color:"color"},outputs:{onClose:"onClose"},standalone:!0,features:[o.TTD,o.jDz],ngContentSelectors:E,decls:4,vars:1,consts:[[1,"flex","justify-between","items-center","gap-x-2"],[1,"text-ellipsis","overflow-hidden","whitespace-normal","flex","items-center"],["icon","close","size","small","class","cursor-pointer",3,"click",4,"ngIf"],["icon","close","size","small",1,"cursor-pointer",3,"click"]],template:function(C,v){1&C&&(o.F$t(),o.TgZ(0,"div",0)(1,"div",1),o.Hsn(2),o.qZA(),o.YNc(3,A,1,0,"cf-icon",2),o.qZA()),2&C&&(o.xp6(3),o.Q6J("ngIf","closeable"===v.mode))},dependencies:[d.ez,d.O5,x.AxE,x.Sm8],encapsulation:2,changeDetection:0}),_})()},76331:(q,S,s)=>{s.d(S,{I:()=>v});var d=s(36895),o=s(94650),x=s(24006);function A(p,D){if(1&p&&(o.ynx(0),o._uU(1),o.BQk()),2&p){const y=o.oxw(2);o.xp6(1),o.hij(" ",y.checkedChildren," ")}}function E(p,D){if(1&p&&o._uU(0),2&p){const y=o.oxw(2);o.hij(" ",y.unCheckedChildren," ")}}function u(p,D){if(1&p&&(o.ynx(0),o.YNc(1,A,2,1,"ng-container",2),o.YNc(2,E,1,1,"ng-template",null,3,o.W1O),o.BQk()),2&p){const y=o.MAs(3),e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.checked)("ngIfElse",y)}}function _(p,D){1&p&&(o.ynx(0),o.Hsn(1,0,["class","text-body-lg text-neutral-gray-6"]),o.BQk())}const k=function(p,D){return{"checked !pl-2 !pr-[28px] !text-neutral-white":p,"opacity-50 pointer-events-none cursor-default":D}},C=["*"];let v=(()=>{class p{constructor(){this.size="medium",this.disabled=!1,this.checked=!1,this.checkedChildren="",this.unCheckedChildren="",this.type="label",this.checkedChange=new o.vpe,this.color="#fcb40a",this.statusColor=""}ngOnChanges(y){(y.checked||y.color)&&this.statusColorChange()}onToggleSwitch(){this.disabled||(this.checked=!this.checked,this.checkedChange.emit(this.checked),this.statusColorChange())}statusColorChange(){this.statusColor=this.checked?this.color:"#ccc"}}return p.\u0275fac=function(y){return new(y||p)},p.\u0275cmp=o.Xpm({type:p,selectors:[["cf-switch"]],hostAttrs:[1,"flex","gap-x-3","items-center","inline-flex"],inputs:{size:"size",disabled:"disabled",checked:"checked",checkedChildren:"checkedChildren",unCheckedChildren:"unCheckedChildren",type:"type",color:"color"},outputs:{checkedChange:"checkedChange"},standalone:!0,features:[o.TTD,o.jDz],ngContentSelectors:C,decls:3,vars:8,consts:[["type","button","id","switch-toggle",1,"cursor-pointer","min-w-[44px]","h-[24px]","pl-[28px]","pr-2","text-express-md","text-neutral-gray-6","bg-[#ccc]","block","rounded-full","relative","after:bg-neutral-white",3,"ngClass","click"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["uncheckTemplate",""]],template:function(y,e){1&y&&(o.F$t(),o.TgZ(0,"button",0),o.NdJ("click",function(){return e.onToggleSwitch()}),o.YNc(1,u,4,2,"ng-container",1),o.qZA(),o.YNc(2,_,2,0,"ng-container",1)),2&y&&(o.Udp("background-color",e.statusColor),o.Q6J("ngClass",o.WLB(5,k,e.checked,e.disabled)),o.xp6(1),o.Q6J("ngIf","inside"===e.type),o.xp6(1),o.Q6J("ngIf","label"===e.type))},dependencies:[d.ez,d.mk,d.O5,x.u5],styles:['#switch-toggle[_ngcontent-%COMP%]:after{content:"";position:absolute;top:2px;left:3px;width:20px;height:20px;border-radius:20px;transition:.3s}#switch-toggle.checked[_ngcontent-%COMP%]:after{left:calc(100% - 5px);transform:translate(-90%)}#switch-toggle[_ngcontent-%COMP%]:active:after{width:20px}']}),p})()}}]);