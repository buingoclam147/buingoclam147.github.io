"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[1678],{51678:(le,kt,f)=>{f.r(kt),f.d(kt,{BtcResultBookingComponent:()=>kn,BtcResultDepositComponent:()=>Jn,BtcResultListComponent:()=>$s,BtcResultPaxComponent:()=>du,BtcResultPaymentComponent:()=>mu,BtcResultSearchComponent:()=>fu});var _=f(36895),S=f(37094),I=f(83700),p=f(72506),Y=f(76978),j=f(80429),t=f(94650);let lt=(()=>{class n{transform(e){const i={Mon:"Th2",Tue:"Th3",Wed:"Th4",Thu:"Th5",Fri:"Th6",Sat:"Th7",Sun:"CN"};return(0,_.p6)(e,"EEE, dd/MM/yyyy","en-US").replace(/Mon|Tue|Wed|Thu|Fri|Sat|Sun/g,a=>i[a])}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"formatVietnameseDate",type:n,pure:!0,standalone:!0}),n})();var tt=f(97579),et=f(28490);function se(n,o){if(1&n&&(t.TgZ(0,"div",66),t._UZ(1,"cf-icon",67),t.TgZ(2,"span",68),t._uU(3),t.ALo(4,"mapper"),t.qZA()()),2&n){const e=t.oxw().$implicit,i=t.oxw(4);t.xp6(3),t.lnq(" D\u1eebng t\u1ea1i: ",t.xi3(4,3,e.startPoint,i.getLocationData)," (",e.startPoint,"). Th\u1eddi gian d\u1eebng: ",e.delaySt," ")}}function ue(n,o){1&n&&t._UZ(0,"div",69)}function pe(n,o){if(1&n&&(t.TgZ(0,"span",70)(1,"span",71),t._uU(2),t.qZA(),t.TgZ(3,"span",72),t._uU(4),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.hij("",e.name,":\xa0"),t.xp6(2),t.Oqu(e.value)}}function de(n,o){1&n&&(t.TgZ(0,"div",73),t._uU(1," Chi\u1ec1u \u0111i"),t.qZA())}function _e(n,o){1&n&&(t.TgZ(0,"div",73),t._uU(1," Chi\u1ec1u v\u1ec1"),t.qZA())}function ge(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3).ngIf;t.xp6(1),t.hij("\xa0(",null==e.fareCur?null:e.fareCur.fareClass,")")}}function me(n,o){if(1&n&&(t.TgZ(0,"span",61)(1,"span",74),t._uU(2),t.qZA(),t.YNc(3,ge,2,1,"span",8),t.qZA()),2&n){const e=t.oxw(2).ngIf;t.xp6(2),t.Oqu(null==e.fareCur?null:e.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.fareCur?null:e.fareCur.fareClass)}}function fe(n,o){if(1&n&&(t.TgZ(0,"span",61),t._uU(1),t.qZA()),2&n){const e=t.oxw(3).ngIf;t.xp6(1),t.hij("H\u1ea1ng ch\u1ed7: ",null==e.fareCur?null:e.fareCur.fareClass,"")}}function he(n,o){if(1&n&&t.YNc(0,fe,2,1,"span",75),2&n){const e=t.oxw(2).ngIf;t.Q6J("ngIf",null==e.fareCur?null:e.fareCur.fareClass)}}function xe(n,o){1&n&&(t.TgZ(0,"div",21),t._uU(1,"H\xe0nh l\xfd k\xfd g\u1eedi:\xa0"),t.qZA())}function ve(n,o){1&n&&(t.TgZ(0,"div",21),t._uU(1,"H\xe0nh l\xfd x\xe1ch tay:\xa0"),t.qZA())}function Ce(n,o){if(1&n&&(t.TgZ(0,"div",60),t.YNc(1,xe,2,0,"div",77),t.YNc(2,ve,2,0,"div",77),t.TgZ(3,"div",61),t._uU(4),t.qZA()()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf","CHECKED_BAGGAGE"===e.cate),t.xp6(1),t.Q6J("ngIf","HAND_BAGGAGE"===e.cate),t.xp6(2),t.Oqu(e.value)}}function ye(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Ce,5,3,"div",76),t.BQk()),2&n){const e=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngForOf",e.fareRuleClassesObj[e.IDF])}}function Te(n,o){1&n&&(t.TgZ(0,"div",60)(1,"div",21),t._uU(2,"H\xe0nh l\xfd k\xfd g\u1eedi:\xa0"),t.qZA(),t.TgZ(3,"div",61),t._uU(4,"N/A"),t.qZA()(),t.TgZ(5,"div",60)(6,"div",21),t._uU(7,"H\xe0nh l\xfd x\xe1ch tay:\xa0"),t.qZA(),t.TgZ(8,"div",61),t._uU(9,"N/A"),t.qZA()())}const Qt=function(){return[]};function be(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",11),t.YNc(2,se,5,6,"div",12),t.TgZ(3,"div",13)(4,"div",14),t.YNc(5,ue,1,0,"div",15),t.qZA(),t.TgZ(6,"div",16)(7,"div",17)(8,"div"),t._UZ(9,"img",18),t.qZA(),t.TgZ(10,"div",19)(11,"div",20),t._uU(12),t.qZA(),t.TgZ(13,"div",21),t._uU(14),t.qZA()(),t.TgZ(15,"div",22),t._uU(16),t.qZA()(),t.TgZ(17,"div",23)(18,"div",24)(19,"div",25)(20,"div",26),t._UZ(21,"cf-icon",27),t.TgZ(22,"div"),t._uU(23),t.ALo(24,"date"),t.qZA()(),t.TgZ(25,"div",28),t._UZ(26,"div",29)(27,"div",30)(28,"cf-icon",31),t.qZA()(),t.TgZ(29,"div",32),t._UZ(30,"cf-icon",33),t.TgZ(31,"div",34),t._uU(32),t.ALo(33,"formatVietnameseDate"),t.qZA()(),t.TgZ(34,"div",35),t._UZ(35,"cf-icon",36),t.TgZ(36,"div",37)(37,"span",38),t._uU(38),t.qZA(),t.TgZ(39,"span",39),t._uU(40),t.ALo(41,"mapper"),t.qZA()()()(),t.TgZ(42,"div")(43,"div",40),t._UZ(44,"cf-icon",27),t.TgZ(45,"div"),t._uU(46),t.ALo(47,"date"),t.qZA()(),t.TgZ(48,"div",32),t._UZ(49,"cf-icon",33),t.TgZ(50,"div",34),t._uU(51),t.ALo(52,"formatVietnameseDate"),t.qZA()(),t.TgZ(53,"div",35),t._UZ(54,"cf-icon",36),t.TgZ(55,"div",37)(56,"span",38),t._uU(57),t.qZA(),t.TgZ(58,"span",39),t._uU(59),t.ALo(60,"mapper"),t.qZA()()()()()(),t.TgZ(61,"div",41),t.YNc(62,pe,5,2,"span",42),t.ALo(63,"mapper"),t.qZA()()(),t.TgZ(64,"div",43)(65,"div",44)(66,"div",45)(67,"div",35),t._UZ(68,"img",46),t.TgZ(69,"div",47)(70,"div",48),t._uU(71),t.qZA(),t.TgZ(72,"div",49),t._uU(73),t.qZA()()(),t.YNc(74,de,2,0,"div",50),t.YNc(75,_e,2,0,"div",50),t.qZA(),t.TgZ(76,"div",51)(77,"div",52)(78,"div",53)(79,"div",48),t._uU(80),t.ALo(81,"date"),t.qZA(),t.TgZ(82,"div",49),t._uU(83),t.ALo(84,"date"),t.qZA()(),t.TgZ(85,"div",53)(86,"div",48),t._uU(87),t.ALo(88,"date"),t.qZA(),t.TgZ(89,"div",49),t._uU(90),t.ALo(91,"date"),t.qZA()()(),t.TgZ(92,"div",54),t._UZ(93,"div",55)(94,"div",56)(95,"cf-icon",57),t.qZA(),t.TgZ(96,"div",52)(97,"div",47)(98,"div",48),t._uU(99),t.ALo(100,"mapper"),t.qZA()(),t.TgZ(101,"div",47)(102,"div",48),t._uU(103),t.ALo(104,"mapper"),t.qZA()()()()(),t.TgZ(105,"div",58)(106,"div",59)(107,"div",60)(108,"div",21),t._uU(109,"Th\u1eddi gian bay:\xa0"),t.qZA(),t.TgZ(110,"div",61),t._uU(111),t.qZA()(),t.TgZ(112,"div",60)(113,"div",21),t._uU(114,"Lo\u1ea1i m\xe1y bay:\xa0"),t.qZA(),t.TgZ(115,"div",61),t._uU(116),t.qZA()(),t.TgZ(117,"div",60)(118,"div",21),t._uU(119,"H\u1ea1ng ch\u1ed7:\xa0"),t.qZA(),t.YNc(120,me,4,2,"span",62),t.YNc(121,he,1,1,"ng-template",null,63,t.W1O),t.qZA(),t.YNc(123,ye,2,1,"ng-container",64),t.YNc(124,Te,10,0,"ng-template",null,65,t.W1O),t.qZA()()(),t.BQk()),2&n){const e=o.$implicit,i=t.MAs(122),c=t.MAs(125),a=t.oxw().ngIf,r=t.oxw(3);t.xp6(2),t.Q6J("ngIf",e.delaySt),t.xp6(3),t.Q6J("ngForOf",t.DdM(74,Qt).constructor(6)),t.xp6(4),t.Q6J("src",e.logoAirline,t.LSH),t.xp6(3),t.hij("",e.operating," - "),t.xp6(2),t.hij("\xa0",e.operatingName,""),t.xp6(2),t.hij(" ",e.flightNumber," "),t.xp6(7),t.Oqu(t.xi3(24,35,e.startTime,"HH:mm")),t.xp6(9),t.hij(" ",t.lcZ(33,38,e.departure.localTime)," "),t.xp6(6),t.hij("",e.startPoint," - "),t.xp6(2),t.Oqu(t.xi3(41,40,e.startPoint,r.getLocationData)),t.xp6(6),t.hij(" ",t.xi3(47,43,e.endTime,"HH:mm")," "),t.xp6(5),t.hij("",t.lcZ(52,46,e.arrival.localTime)," "),t.xp6(6),t.hij("",e.endPoint," - "),t.xp6(2),t.Oqu(t.xi3(60,48,e.endPoint,r.getLocationData)),t.xp6(3),t.Q6J("ngForOf",t.gM2(63,51,e,r.formatRuleBySegment,r.ticketCur,r.index)),t.xp6(6),t.Q6J("src","assets/airline-logo/"+e.operating+".png",t.LSH),t.xp6(3),t.AsE("",e.airline,"",e.flightNumber,""),t.xp6(2),t.Oqu(e.airlineName),t.xp6(1),t.Q6J("ngIf",0===r.index),t.xp6(1),t.Q6J("ngIf",1===r.index),t.xp6(5),t.Oqu(t.xi3(81,56,e.startTime,"HH:mm")),t.xp6(3),t.Oqu(t.xi3(84,59,e.startTime,"dd/MM/yyy")),t.xp6(4),t.Oqu(t.xi3(88,62,e.endTime,"HH:mm")),t.xp6(3),t.Oqu(t.xi3(91,65,e.endTime,"dd/MM/yyy")),t.xp6(9),t.AsE("",t.xi3(100,68,e.startPoint,r.getLocationData)," - ",e.startPoint," "),t.xp6(4),t.AsE("",t.xi3(104,71,e.endPoint,r.getLocationData)," - ",e.endPoint," "),t.xp6(8),t.Oqu(e.durationStrMobile),t.xp6(5),t.Oqu(e.modelAirplaneName),t.xp6(4),t.Q6J("ngIf",(null==a.fareCur?null:a.fareCur.cabinName)&&"null"!=(null==a.fareCur?null:a.fareCur.cabinName))("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",a.fareRuleClassesObj&&a.IDF)("ngIfElse",c)}}function ke(n,o){if(1&n&&(t.TgZ(0,"div")(1,"div",9),t._UZ(2,"cf-icon",10),t.TgZ(3,"span",3),t._uU(4),t.ALo(5,"mapper"),t.ALo(6,"mapper"),t.qZA()(),t.YNc(7,be,126,75,"ng-container",5),t.qZA()),2&n){const e=o.ngIf,i=t.oxw(3);t.xp6(4),t.AsE("Chuy\u1ebfn bay: ",t.xi3(5,3,null==e||null==e.departure||null==e.departure.airport?null:e.departure.airport.code,i.getLocationData)," - ",t.xi3(6,6,null==e||null==e.arrival||null==e.arrival.airport?null:e.arrival.airport.code,i.getLocationData),""),t.xp6(3),t.Q6J("ngForOf",e.segments)}}function Ze(n,o){1&n&&(t.TgZ(0,"th",80),t._uU(1," Chi\u1ebft kh\u1ea5u"),t.qZA())}function Ae(n,o){if(1&n&&(t.TgZ(0,"td",92),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" (",t.Dn7(2,1,t.lcZ(3,5,e.discountAmount),",","."),") ")}}function Ee(n,o){if(1&n&&(t.TgZ(0,"td",93),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.totalFare-e.discountAmount*e.quantity),",",".")," ")}}function De(n,o){if(1&n&&(t.TgZ(0,"td",93),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.totalFare),",",".")," ")}}function Be(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td",88),t._uU(2),t.qZA(),t.TgZ(3,"td",88),t._uU(4),t.ALo(5,"number"),t.qZA(),t.TgZ(6,"td",88),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"td",88),t._uU(10),t.ALo(11,"number"),t.qZA(),t.YNc(12,Ae,4,7,"td",89),t.ALo(13,"mapper"),t.YNc(14,Ee,4,7,"td",90),t.ALo(15,"mapper"),t.YNc(16,De,4,7,"ng-template",null,91,t.W1O),t.qZA()),2&n){const e=o.$implicit,i=t.MAs(17),c=t.oxw(3).$implicit,a=t.oxw();t.xp6(2),t.Oqu(e.type),t.xp6(2),t.Oqu(t.lcZ(5,7,e.quantity)),t.xp6(3),t.Oqu(t.lcZ(8,9,e.baseFare)),t.xp6(3),t.Oqu(t.lcZ(11,11,e.surCharge)),t.xp6(2),t.Q6J("ngIf",t.xi3(13,13,c.ticketPriceList,a.isDiscountAmount)),t.xp6(2),t.Q6J("ngIf",t.xi3(15,16,c.ticketPriceList,a.isDiscountAmount))("ngIfElse",i)}}function we(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.totalFare-e.discountAmount*e.quantity),",","."),"\u0111 ")}}function Ie(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("",t.Dn7(2,1,t.lcZ(3,5,e.totalFare),",","."),"\u0111")}}function Se(n,o){if(1&n&&(t.TgZ(0,"div",98)(1,"div",96),t._uU(2,"Chi\u1ebft kh\u1ea5u"),t.qZA(),t.TgZ(3,"div",99),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(4),t.AsE(" ",t.Dn7(5,2,t.lcZ(6,6,e.discountAmount),",",".")," X ",e.quantity,"")}}function Fe(n,o){if(1&n&&(t.TgZ(0,"div",47)(1,"div",94)(2,"div",95),t._uU(3),t.qZA(),t.TgZ(4,"div",95),t.YNc(5,we,4,7,"span",64),t.ALo(6,"mapper"),t.YNc(7,Ie,4,7,"ng-template",null,91,t.W1O),t.qZA()(),t.TgZ(9,"div",94)(10,"div",96),t._uU(11,"Gi\xe1 v\xe9 m\xe1y bay"),t.qZA(),t.TgZ(12,"div",96),t._uU(13),t.ALo(14,"replace"),t.ALo(15,"number"),t.qZA()(),t.TgZ(16,"div",94)(17,"div",96),t._uU(18,"Thu\u1ebf & ph\xed"),t.qZA(),t.TgZ(19,"div",96),t._uU(20),t.ALo(21,"replace"),t.ALo(22,"number"),t.qZA()(),t.YNc(23,Se,7,8,"div",97),t.ALo(24,"mapper"),t.qZA()),2&n){const e=o.$implicit,i=t.MAs(8),c=t.oxw(3).$implicit,a=t.oxw();t.xp6(3),t.Oqu(e.type),t.xp6(2),t.Q6J("ngIf",t.xi3(6,8,c.ticketPriceList,a.isDiscountAmount))("ngIfElse",i),t.xp6(8),t.AsE("",t.Dn7(14,11,t.lcZ(15,15,e.baseFare),",","."),"\u0111 x ",e.quantity,""),t.xp6(7),t.AsE("",t.Dn7(21,17,t.lcZ(22,21,e.surCharge),",","."),"\u0111 x ",e.quantity,""),t.xp6(3),t.Q6J("ngIf",t.xi3(24,23,c.ticketPriceList,a.isDiscountAmount))}}function Ne(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",11)(2,"div",9),t._UZ(3,"cf-icon",10),t.TgZ(4,"span",3),t._uU(5,"Gi\xe1 v\xe9"),t.qZA()(),t.TgZ(6,"table",78)(7,"thead")(8,"tr",79)(9,"th",80),t._uU(10,"H\xe0nh kh\xe1ch"),t.qZA(),t.TgZ(11,"th",80),t._uU(12,"S\u1ed1 l\u01b0\u1ee3ng"),t.qZA(),t.TgZ(13,"th",80),t._uU(14,"Gi\xe1 v\xe9"),t.qZA(),t.TgZ(15,"th",80),t._uU(16,"Thu\u1ebf ph\xed"),t.qZA(),t.YNc(17,Ze,2,0,"th",81),t.ALo(18,"mapper"),t.TgZ(19,"th",82),t._uU(20,"T\u1ed5ng chi ph\xed"),t.qZA()()(),t.TgZ(21,"tbody"),t.YNc(22,Be,18,19,"tr",5),t.qZA()(),t.TgZ(23,"div",83)(24,"div",20),t._uU(25,"T\u1ed5ng chi ph\xed"),t.qZA(),t.TgZ(26,"div",84),t._uU(27),t.ALo(28,"number"),t.ALo(29,"mapper"),t.qZA()()(),t.TgZ(30,"div",85)(31,"div",86),t.YNc(32,Fe,25,26,"div",87),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(17),t.Q6J("ngIf",t.xi3(18,4,e.ticketPriceList,i.isDiscountAmount)),t.xp6(5),t.Q6J("ngForOf",e.ticketPriceList||t.DdM(12,Qt)),t.xp6(5),t.hij(" ",t.lcZ(28,7,t.xi3(29,9,e.ticketPriceList,i.sumPriceTicket))," \u0111"),t.xp6(5),t.Q6J("ngForOf",e.ticketPriceList)}}function qe(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("",e.name,": ")}}function Oe(n,o){if(1&n&&(t.TgZ(0,"div",21),t.YNc(1,qe,2,1,"span",8),t._UZ(2,"span",107),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.name),t.xp6(1),t.Q6J("innerHTML",e.value,t.oJD)}}function Je(n,o){if(1&n&&(t.TgZ(0,"div",103)(1,"div",104),t._uU(2),t.qZA(),t.TgZ(3,"div",105),t.YNc(4,Oe,3,2,"div",106),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.hij("",e.desc.vn,":"),t.xp6(2),t.Q6J("ngForOf",null==e?null:e.items)}}function Ue(n,o){if(1&n&&(t.TgZ(0,"div",101),t.YNc(1,Je,5,2,"div",102),t.qZA()),2&n){const e=o.ngIf;t.xp6(1),t.Q6J("ngForOf",e.fareRulesObj[e.IDF])}}function Le(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Ue,2,1,"div",100),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.ticketCur.ticketSelected[e.index].ticketData)}}function Re(n,o){1&n&&(t.TgZ(0,"div",20),t._uU(1," Li\xean h\u1ec7 booker \u0111\u1ec3 bi\u1ebft th\xf4ng tin ch\xednh x\xe1c"),t.qZA())}function Qe(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Re,2,0,"div",108),t.BQk()),2&n){const e=o.ngIf;t.xp6(1),t.Q6J("ngIf",!e.fareRulesObj||!e.fareRulesObj[e.IDF])}}function Pe(n,o){if(1&n&&(t.TgZ(0,"div",7),t.YNc(1,ke,8,9,"div",8),t.YNc(2,Ne,33,13,"ng-container",8),t.YNc(3,Le,2,1,"ng-container",8),t.YNc(4,Qe,2,1,"ng-container",8),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ticketData),t.xp6(1),t.Q6J("ngIf",e.ticketPriceList),t.xp6(1),t.Q6J("ngIf",i.ticketCur.ticketSelected&&i.ticketCur.ticketSelected.length&&e.ticketData.fareRulesObj),t.xp6(1),t.Q6J("ngIf",e.ticketData)}}function Me(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Pe,5,4,"div",6),t.BQk()),2&n){const e=o.$implicit,i=o.index,c=t.oxw();t.xp6(1),t.Q6J("ngIf",c.index===i&&e.ticketData)}}let st=(()=>{class n{constructor(e,i,c,a,r,u,g){this.ref=e,this.cfIconRegister=i,this._cdr=c,this._locationDataSvc=a,this._bottomSheetService=r,this.bottomSheetData=u,this.bottomSheetRef=g,this.index=0,this.sumPriceTicket=m=>m.reduce((h,T)=>h+T.totalFare-T.discountAmount*T.quantity,0),this.isDiscountAmount=m=>m.find(h=>h.discountAmount),this.getLocationData=m=>this._locationDataSvc.getCityNameByCode(m),this.formatRuleBySegment=(m,h,T)=>{var Z,d,y,k;const A=null===(d=null===(Z=h.ticketSelected)||void 0===Z?void 0:Z.find((N,O)=>O===T))||void 0===d?void 0:d.ticketData,w=A.fareRuleClassesObj?null===(y=A.fareRuleClassesObj[A.IDF])||void 0===y?void 0:y.find(N=>"CHECKED_BAGGAGE"===N.cate):null,F=A.fareRuleClassesObj?null===(k=A.fareRuleClassesObj[A.IDF])||void 0===k?void 0:k.find(N=>"HAND_BAGGAGE"===N.cate):null;return[{name:"Th\u1eddi gian bay",value:m.durationStr},{name:"Lo\u1ea1i m\xe1y bay",value:m.modelAirplane},{name:"H\u1ea1ng ch\u1ed7",value:null!=A&&A.fareCur?A.fareCur.fareName+(A.fareCur.fareClass?`(${A.fareCur.fareClass})`:"N/A"):"N/A"},{name:"H\xe0nh l\xfd k\xfd g\u1eedi",value:w?w.value:"N/A"},{name:"H\xe0nh l\xfd x\xe1ch tay",value:F?F.value:"N/A"}]},i.registerIcons([p.UNF,p.Xlt,p.qDv,p.s5C,p.okA,p.B2I]),null!=e&&e.data&&(this.dataSearch=e.data.dataSearch,this.ticketCur=e.data.ticketCur,this.index=e.data.index),u&&(this.dataSearch=u.dataSearch,this.ticketCur=u.ticketCur,this.index=u.index),console.log(this.ticketCur.ticketSelected),console.log(this.dataSearch)}onClose(){this.ref&&this.ref.close(!1),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!1)}ok(){this.ref&&this.ref.close(!0),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(tt.gb,8),t.Y36(p.KNP),t.Y36(t.sBO),t.Y36(et._),t.Y36(S.a2),t.Y36(S.Rr,8),t.Y36(S.Zu,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-info-modal"]],standalone:!0,features:[t.jDz],decls:7,vars:1,consts:[[1,"w-[800px]","h-[600px]","rounded-lg","bg-neutral-white","overflow-hidden","md:w-full"],[1,"w-full","h-full","flex","flex-col","max-h-[600px]"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-neutral-gray-1","md:hidden"],[1,"text-heading-sm","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[4,"ngFor","ngForOf"],["class","flow-auto w-ful h-full overflow-auto py-4 px-6 flex flex-col gap-y-6",4,"ngIf"],[1,"flow-auto","w-ful","h-full","overflow-auto","py-4","px-6","flex","flex-col","gap-y-6"],[4,"ngIf"],[1,"mb-4","flex","items-center","gap-x-2"],["icon","circle_information","size","small",1,"cf-icon-small"],[1,"md:hidden"],["class","w-full bg-[#F0EAF4] rounded flex items-center  gap-x-2 py-1.5 px-3 my-3",4,"ngIf"],[1,"flex","md:flex-col","justify-between","items-center","border","border-neutral-gray-2","rounded","shadow-cf-journey-booking-success","relative"],[1,"absolute","md:hidden","-translate-x-[18%]","top-0","h-full","flex","flex-col","justify-between","py-3.5"],["class","w-1.5 h-3 border border-l-0 bg-neutral-white border-neutral-gray-2 rounded-r-full",4,"ngFor","ngForOf"],[1,"px-6","pt-4","pb-6","flex","flex-1","md:flex-col","justify-between","gap-x-8","gap-y-4","md:items-start","md:px-0"],[1,"flex","flex-col","items-center","justify-center"],[1,"w-[120px]","h-[60px]","object-contain",3,"src"],[1,"flex","items-center","mt-1.5"],[1,"text-espressive-sm"],[1,"text-body-sm"],[1,"py-[2px]","px-2","bg-neutral-gray-1","rounded","text-espressive-sm","text-neutral-black","mt-2"],[1,"flex","justify-between","gap-x-3"],[1,""],[1,"flex","items-center","gap-x-[20px]","mb-3"],[1,"text-heading-lg","text-neutral-black","flex","gap-x-2","items-center"],["icon","clock","size","small"],[1,"flex","items-center","w-[50px]","py-1","px-2.5"],[1,"w-1.5","h-1.5","bg-neutral-gray-2","rounded-full"],[1,"w-full","h-[1px]","bg-neutral-gray-2"],["icon","plane","size","small",1,"text-[#ccc]"],[1,"flex","items-center","gap-x-2","mb-2"],["icon","calendar","size","small"],[1,"text-body-md","text-neutral-black"],[1,"flex","items-center","gap-x-2"],["icon","location","size","small"],[1,"text-neutral-black"],[1,"text-espressive-md"],[1,"text-body-md"],[1,"text-heading-lg","text-neutral-black","mb-3","flex","gap-x-2","items-center"],[1,"py-6","px-[18px]","max-w-[232px]","md:max-w-full","md:w-full","border-l","md:border-l-0","md:border-t","border-dashed","border-neutral-gray-2","flex","flex-col","justify-between","gap-y-2"],["class","flex flex-nowrap",4,"ngFor","ngForOf"],[1,"md:flex","border","border-neutral-gray-2","hidden","py-4","md:w-full","bg-white","flex-col","rounded-lg","gap-3"],[1,"flex","flex-1","gap-x-9","px-3","flex-col"],[1,"flex","justify-between"],[1,"w-9","h-9","object-contain",3,"src"],[1,"flex","flex-col","gap-y-1"],[1,"text-heading-xs","text-neutral-gray-6"],[1,"text-espressive-xs","text-neutral-gray-4"],["class","h-fit py-1 px-2 text-neutral-white text-espressive-sm bg-secondary-5-3 rounded ",4,"ngIf"],[1,"flex","mt-2","gap-x-4"],[1,"flex","flex-col","gap-y-4"],[1,"flex","flex-col","items-center","gap-y-1"],[1,"flex","flex-col","items-center","justify-between","py-3"],[1,"w-1","h-1","rounded-full","bg-neutral-gray-3"],[1,"border-r","border-r-neutral-gray-3","h-full"],["icon","plane","size","small",1,"text-neutral-gray-3"],[1,"w-full","pt-4","px-4"],[1,"w-full","border-t","pt-3","border-dashed","border-neutral-gray-2","flex","justify-between","gap-y-2","flex-col"],[1,"flex","flex-nowrap","items-center"],[1,"text-espressive-sm","text-neutral-black","font-semibold"],["class","text-espressive-sm text-neutral-black font-semibold",4,"ngIf","ngIfElse"],["noncabinTemplate",""],[4,"ngIf","ngIfElse"],["emptyFareRuleTpl",""],[1,"w-full","bg-[#F0EAF4]","rounded","flex","items-center","gap-x-2","py-1.5","px-3","my-3"],["icon","circle_information","size","small",1,"text-secondary-2-4"],[1,"text-express-md","text-neutral-gray-6"],[1,"w-1.5","h-3","border","border-l-0","bg-neutral-white","border-neutral-gray-2","rounded-r-full"],[1,"flex","flex-nowrap"],[1,"whitespace-nowrap","text-body-sm"],[1,"text-espressive-sm","text-neutral-black"],[1,"h-fit","py-1","px-2","text-neutral-white","text-espressive-sm","bg-secondary-5-3","rounded"],[1,"capitalize"],["class","text-espressive-sm text-neutral-black font-semibold",4,"ngIf"],["class","flex flex-nowrap items-center",4,"ngFor","ngForOf"],["class","text-body-sm",4,"ngIf"],[1,"table-auto","w-full"],[1,"border-b","border-neutral-gray-1"],[1,"text-left","text-espressive-sm","text-neutral-gray-4","py-3"],["class","text-left text-espressive-sm text-neutral-gray-4 py-3",4,"ngIf"],[1,"text-right","text-espressive-sm","text-neutral-gray-4","py-3"],[1,"flex","justify-end","items-center","gap-x-6","bg-secondary-3-1","py-1","px-2"],[1,"text-heading-md"],[1,"hidden","md:flex","flex-col","gap-y-4","border","border-neutral-gray-2","rounded-lg"],[1,"flex","flex-col","bg-neutral-white","rounded-lg","p-4","gap-y-2"],["class","flex flex-col gap-y-1",4,"ngFor","ngForOf"],[1,"text-body-md","text-neutral-black","py-3"],["class","text-body-md text-secondary-5-3 py-3",4,"ngIf"],["class","text-right text-body-md text-neutral-black py-3",4,"ngIf","ngIfElse"],["noDiscountTempl",""],[1,"text-body-md","text-secondary-5-3","py-3"],[1,"text-right","text-body-md","text-neutral-black","py-3"],[1,"flex","justify-between","items-center"],[1,"text-heading-xs","text-neutral-black"],[1,"text-body-sm","text-neutral-gray-4"],["class","flex justify-between items-center pb-3",4,"ngIf"],[1,"flex","justify-between","items-center","pb-3"],[1,"text-body-sm","text-secondary-5-3"],["class","flex flex-col gap-y-2",4,"ngIf"],[1,"flex","flex-col","gap-y-2"],["class","border border-neutral-gray-2 rounded-lg p-4",4,"ngFor","ngForOf"],[1,"border","border-neutral-gray-2","rounded-lg","p-4"],[1,"text-express-md","mb-2"],[1,"text-body-sm","flex","flex-col","gap-y-2"],["class","text-body-sm",4,"ngFor","ngForOf"],[3,"innerHTML"],["class","text-espressive-sm",4,"ngIf"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"Th\xf4ng tin chuy\u1ebfn bay"),t.qZA(),t.TgZ(5,"cf-icon",4),t.NdJ("click",function(){return i.onClose()}),t.qZA()(),t.YNc(6,Me,2,1,"ng-container",5),t.qZA()()),2&e&&(t.xp6(6),t.Q6J("ngForOf",i.ticketCur.ticketSelected))},dependencies:[_.ez,_.sg,_.O5,_.JJ,_.uU,p.AxE,p.Sm8,I.N8,lt,j.q,S.DW,Y.AS],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();var ut=f(87683),Zt=f(31380);function je(n,o){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"formatVietnameseDate"),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.departDate),"")}}function Ye(n,o){if(1&n&&(t.TgZ(0,"div",5)(1,"div",6)(2,"div",7),t._uU(3),t.qZA()(),t.TgZ(4,"div",8),t.YNc(5,je,3,3,"div",9),t.TgZ(6,"div",10),t._uU(7),t.ALo(8,"mapper"),t.ALo(9,"mapper"),t.qZA()()()),2&n){const e=t.oxw(),i=e.index,c=e.$implicit,a=t.oxw();t.xp6(1),t.ekj("!text-primary-2-4",a.ticketCur.idxTicketSelected===i)("!bg-primary-2-1",a.ticketCur.idxTicketSelected===i),t.xp6(2),t.hij(" ",i+1," "),t.xp6(2),t.Q6J("ngIf",c.departDate),t.xp6(2),t.AsE("",t.xi3(8,8,c.startPoint,a.convertCodeToCity)," - ",t.xi3(9,11,c.endPoint,a.convertCodeToCity),"")}}function He(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",31),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(4).index,a=t.oxw();return t.KtG(a.onShowTicketDetail(c))}),t._uU(1," Chi ti\u1ebft "),t.qZA()}}function Ve(n,o){1&n&&(t.TgZ(0,"div",24),t._uU(1,"Bay th\u1eb3ng "),t.qZA())}function Ge(n,o){if(1&n&&(t.TgZ(0,"div",24),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngIf;t.xp6(1),t.hij(" ",e.numOfStops," \u0111i\u1ec3m d\u1eebng")}}function ze(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",16),t._UZ(2,"img",17),t.TgZ(3,"div",18)(4,"div",10),t._uU(5),t.qZA(),t.TgZ(6,"div",19),t._uU(7),t.qZA()(),t.YNc(8,He,2,0,"div",20),t.qZA(),t.TgZ(9,"div",21)(10,"div",22)(11,"div",23),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"div",24),t._uU(15),t.qZA()(),t.TgZ(16,"div",25)(17,"div",24),t._uU(18),t.qZA(),t.TgZ(19,"div",26),t._UZ(20,"div",27)(21,"div",28),t.qZA(),t.YNc(22,Ve,2,0,"div",29),t.YNc(23,Ge,2,1,"div",29),t.qZA(),t._UZ(24,"cf-icon",30),t.TgZ(25,"div",22)(26,"div",23),t._uU(27),t.ALo(28,"date"),t.qZA(),t.TgZ(29,"div",24),t._uU(30),t.qZA()()(),t.BQk()),2&n){const e=o.ngIf,i=t.oxw(4);t.xp6(2),t.Q6J("src",e.logoAirline,t.LSH),t.xp6(3),t.AsE("",e.segments[0].airline," ",e.segments[0].flightNumber,""),t.xp6(2),t.Oqu(e.airlineName),t.xp6(1),t.Q6J("ngIf",i.hiddenBtn),t.xp6(4),t.hij("",t.xi3(13,12,e.departure.localTime,"HH:mm")," "),t.xp6(3),t.Oqu(e.departure.airport.code),t.xp6(3),t.Oqu(e.durationStr),t.xp6(4),t.Q6J("ngIf",0===e.numOfStops),t.xp6(1),t.Q6J("ngIf",e.numOfStops>0),t.xp6(4),t.Oqu(t.xi3(28,15,e.arrival.localTime,"HH:mm")),t.xp6(3),t.Oqu(e.arrival.airport.code)}}function $e(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",32)(1,"button",33),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(3).index,a=t.oxw();return t.KtG(a.reselectTicket(c))}),t._UZ(2,"cf-icon",34),t._uU(3," Ch\u1ecdn l\u1ea1i "),t.qZA(),t.TgZ(4,"button",33),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(3).index,a=t.oxw();return t.KtG(a.onShowTicketDetail(c))}),t._UZ(5,"cf-icon",35),t._uU(6," Chi ti\u1ebft "),t.qZA()()}}function Ke(n,o){if(1&n&&(t.TgZ(0,"div",13)(1,"div",14),t.YNc(2,ze,31,18,"ng-container",4),t.qZA(),t.YNc(3,$e,7,0,"div",15),t.qZA()),2&n){const e=t.oxw(2).index,i=t.oxw();t.xp6(2),t.Q6J("ngIf",i.ticketCur.ticketSelected[e].ticketData),t.xp6(1),t.Q6J("ngIf",!i.hiddenBtn)}}function We(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Ke,4,2,"div",12),t.BQk()),2&n){const e=t.oxw().index,i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.ticketCur.ticketSelected[e]&&i.ticketCur.ticketSelected[e].ticketData)}}function Xe(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"cf-collapse-panel",2),t.NdJ("collapsePanelClick",function(){const a=t.CHM(e).index,r=t.oxw();return t.KtG(r.onCollapsePanelClick(a))}),t.YNc(1,Ye,10,14,"ng-template",null,3,t.W1O),t.YNc(3,We,2,1,"ng-container",4),t.qZA()}if(2&n){const e=o.index,i=t.MAs(2),c=t.oxw();t.Q6J("title",i)("active",!!c.collapseByTicketCur&&c.collapseByTicketCur[e])("contentClass","!p-0 "),t.xp6(3),t.Q6J("ngIf",c.ticketCur)}}let ht=(()=>{class n{constructor(e,i,c){this.cfIconRegister=e,this.locationDataSvc=i,this._helper=c,this.hiddenBtn=!1,this.reselectClick=new t.vpe,this.showDetail=new t.vpe,this.convertCodeToCity=a=>this.locationDataSvc.getCityNameByCode(a),e.registerIcons([p.$S,p.okA,p.D7])}ngOnChanges(e){e.ticketCur&&e.ticketCur.currentValue&&(this.collapseByTicketCur=this.ticketCur.ticketSelected.map(i=>!!i.ticketData))}onShowTicketDetail(e){this.showDetail.emit(e)}onCollapsePanelClick(e){this.collapseByTicketCur[e]=!this.collapseByTicketCur[e]}reselectTicket(e){this.reselectClick.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.KNP),t.Y36(et._),t.Y36(Zt.J))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-sticky-selected"]],inputs:{searchInput:"searchInput",ticketCur:"ticketCur",hiddenBtn:"hiddenBtn"},outputs:{reselectClick:"reselectClick",showDetail:"showDetail"},standalone:!0,features:[t.TTD,t.jDz],decls:2,vars:1,consts:[[1,"w-full"],["class","  p-0  md:z-0 md:!shadow-none group relative overflow-hidden bg-transparent [&>*>*>*:nth-child(2)]:z-10 [&>*]:bg-transparent !border-0",3,"title","active","contentClass","collapsePanelClick",4,"ngFor","ngForOf"],[1,"p-0","md:z-0","md:!shadow-none","group","relative","overflow-hidden","bg-transparent","[&>*>*>*:nth-child(2)]:z-10","[&>*]:bg-transparent","!border-0",3,"title","active","contentClass","collapsePanelClick"],["titleTemplate",""],[4,"ngIf"],[1,"flex","gap-x-4","items-center"],[1,"flex","justify-center","items-center","min-w-10","!w-10","!h-10","rounded-full","bg-neutral-gray-1","text-neutral-gray-4","text-heading-md","select-none"],[1,"z-10"],[1,"flex","flex-col","z-20"],["class","text-body-md text-neutral-black",4,"ngIf"],[1,"text-heading-xs","text-neutral-black"],[1,"text-body-md","text-neutral-black"],["class","flex flex-col gap-3  m-4 z-20",4,"ngIf"],[1,"flex","flex-col","gap-3","m-4","z-20"],[1,"flex","flex-col","gap-y-4","p-4","border","border-neutral-gray-2","rounded","z-20"],["class","flex w-full justify-between items-center gap-4",4,"ngIf"],[1,"flex","justify-between","items-center","gap-x-4"],[1,"w-10","h-10","object-contain",3,"src"],[1,"flex","flex-col","items-start","grow"],[1,"text-body-sm","text-neutral-gray-4"],["class","text-espressive-md text-secondary-3-4 font-medium cursor-pointer",3,"click",4,"ngIf"],[1,"flex","justify-between","items-center","pr-2.5"],[1,"flex","flex-col","items-center","gap-y-1"],[1,"text-heading-sm","text-neutral-black"],[1,"text-espressive-sm","text-neutral-gray-4"],[1,"flex","flex-col","items-center","grow"],[1,"flex","items-center","w-full","py-1","px-2.5"],[1,"w-1.5","h-1.5","bg-neutral-gray-2","rounded-full"],[1,"w-full","h-[1px]","bg-neutral-gray-2"],["class","text-espressive-sm text-neutral-gray-4",4,"ngIf"],["icon","plane","size","small",1,"text-[#ccc]","mr-2"],[1,"text-espressive-md","text-secondary-3-4","font-medium","cursor-pointer",3,"click"],[1,"flex","w-full","justify-between","items-center","gap-4"],["cf-button","","size","small","type","secondary",1,"w-full","flex","justify-center","flex-1",3,"click"],["icon","refresh","size","small",1,"mr-2.5"],["icon","document","size","small",1,"mr-2.5"]],template:function(e,i){1&e&&(t.TgZ(0,"cf-collapse",0),t.YNc(1,Xe,4,4,"cf-collapse-panel",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",i.searchInput.journey))},dependencies:[_.ez,_.sg,_.O5,_.uU,ut.K,ut.B,p.AxE,p.Sm8,j.q,lt,I.N8,I.Xq],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();function tn(n,o){if(1&n&&(t.TgZ(0,"div",11)(1,"div",5),t._uU(2),t.qZA(),t.TgZ(3,"div",6),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.AsE(" ",e.name," (","ADT"===e.type?"Ng\u01b0\u1eddi l\u1edbn":"CHD"===e.type?"Tr\u1ebb em":"Em b\xe9",") "),t.xp6(2),t.hij(" ",t.Dn7(5,3,t.lcZ(6,7,e.price),",","."),"\u0111 ")}}function en(n,o){if(1&n&&(t.TgZ(0,"div",11)(1,"div",5),t._uU(2," T\u1ed5ng chi\u1ebft kh\u1ea5u "),t.qZA(),t.TgZ(3,"div",6),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.hij(" -",t.Dn7(5,1,t.lcZ(6,5,e.amountDiscount),",","."),"\u0111 ")}}let nn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-sticky-booking"]],inputs:{bookingContact:"bookingContact",bookingPassengers:"bookingPassengers",amountDiscount:"amountDiscount"},standalone:!0,features:[t.jDz],decls:21,vars:4,consts:[[1,"flex","flex-col","gap-3"],[1,"flex","flex-col","bg-white","rounded-lg","shadow-lg"],[1,"border-b","border-neutral-gray-1","rounded-t-lg","py-3","px-4","text-neutral-gray-6","font-medium","text-body-sm"],[1,"p-4","flex","flex-col","gap-4"],[1,"flex","gap-4","items-center","text-heading-xs"],[1,"min-w-[82px]","text-neutral-gray-5"],[1,"font-medium","text-neutral-gray-6"],[1,"font-medium","text-neutral-gray-6","text-wrap","break-all"],[1,"flex","flex-col","bg-white","rounded-t-lg","shadow"],["class","flex gap-4 items-center  text-heading-xs justify-between",4,"ngFor","ngForOf"],["class","flex gap-4 items-center  text-heading-xs justify-between",4,"ngIf"],[1,"flex","gap-4","items-center","text-heading-xs","justify-between"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3," Th\xf4ng tin li\xean h\u1ec7 "),t.qZA(),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5),t._uU(7," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i "),t.qZA(),t.TgZ(8,"div",6),t._uU(9),t.qZA()(),t.TgZ(10,"div",4)(11,"div",5),t._uU(12," Email "),t.qZA(),t.TgZ(13,"div",7),t._uU(14),t.qZA()()()(),t.TgZ(15,"div",8)(16,"div",2),t._uU(17," Th\xf4ng tin h\xe0nh kh\xe1ch "),t.qZA(),t.TgZ(18,"div",3),t.YNc(19,tn,7,9,"div",9),t.YNc(20,en,7,7,"div",10),t.qZA()()()),2&e&&(t.xp6(9),t.hij(" ",i.bookingContact.phone," "),t.xp6(5),t.hij(" ",i.bookingContact.email," "),t.xp6(5),t.Q6J("ngForOf",i.bookingPassengers),t.xp6(1),t.Q6J("ngIf",i.amountDiscount))},dependencies:[_.ez,_.sg,_.O5,_.JJ,Y.AS],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();var Pt=f(39300),on=f(18505),cn=f(39841),it=f(9381),M=f(64070),At=f(15439);let ot=(()=>{class n{initTicketCur(e){return{ticketSelected:e===M.VB.OneWay?[{ticketData:null,ticketPriceList:null,priceTotalByPassenger:0}]:[{ticketData:null,ticketPriceList:null,priceTotalByPassenger:0},{ticketData:null,ticketPriceList:null,priceTotalByPassenger:0}],totalPrice:0,idxTicketSelected:0}}convertSearchInputToRequest({adultCount:e,childCount:i,infantCount:c,journey:a,promotionGroupFilters:r}){var u,g,m,h;return{adultCount:e||1,childCount:i||0,infantCount:c||0,flightsRequest:null!=a&&a.length?a.map(T=>Object.assign(Object.assign({},T),{departDate:At(T.departDate).format("YYYY-MM-DD"),providers:T.airline||"VN,VJ,QH,VU,FLY_ONE,GDS,BSP,AIR_1G"})):[{startPoint:"",endPoint:"",departDate:"",providers:"VN,VJ,QH,VU,FLY_ONE,GDS,BSP,AIR_1G",leg:0}],promoCodeQH:(null===(u=r.find(T=>"QH"===T.airline))||void 0===u?void 0:u.selectedCode)||"",promoCodeVJ:(null===(g=r.find(T=>"VJ"===T.airline))||void 0===g?void 0:g.selectedCode)||"",promoCodeVN:(null===(m=r.find(T=>"VN"===T.airline))||void 0===m?void 0:m.selectedCode)||"",promoCodeGDS:(null===(h=r.find(T=>"GDS"===T.airline))||void 0===h?void 0:h.selectedCode)||"",paxType:null!=a&&a.length?a[0].paxType:"",cabin:null!=a&&a.length?a[0].cabin:"ECONOMY"}}sumPriceTicket(e){return e.reduce((i,c)=>i+c.totalFare,0)}progressPriceList(e,i){let c=[];const{adultCount:a,childCount:r,infantCount:u}=e,g={ADULT:a,CHILD:r,INFANT:u};for(const m in g){const h=g[m];if(h){const T=i.map(Z=>{var d;return null===(d=Z.fareCur)||void 0===d?void 0:d.fareAmountBreakdowns.find(y=>y.type===`${m}`)});if(T.length){const Z=T.reduce((y,k)=>y+(k?this.getBaseFare(k,i[0].airline):0),0),d=T.reduce((y,k)=>y+(k?this.getSurCharge(k):0),0);c.push({type:"ADULT"===m?"Ng\u01b0\u1eddi l\u1edbn (ADT)":"CHILD"===m?"Tr\u1ebb em (CHD)":"Em b\xe9 (INF)",code:"ADULT"===m?"ADT":"CHILD"===m?"CHD":"INF",quantity:h,baseFare:Z,surCharge:d,discountAmount:i[0].discountData?"ADULT"===m?Math.floor(Z*(i[0].discountData.adtPercentage>0?i[0].discountData.adtPercentage/100:0))+i[0].discountData.adtAmount:"CHILD"===m?Math.floor(Z*(i[0].discountData.chdPercentage>0?i[0].discountData.chdPercentage/100:0))+i[0].discountData.chdAmount:Math.floor(Z*(i[0].discountData.infPercentage>0?i[0].discountData.infPercentage/100:0))+i[0].discountData.infAmount:0,totalFare:h*(Z+d)})}}}return c}getBaseFare(e,i){let c=0;return c+=((null==e?void 0:e.charges.filter(r=>"FARE"===r.chargeType.code))||[]).reduce((r,u)=>r+u.charge.base,0),c}getSurCharge(e){let i=0;const c=(null==e?void 0:e.charges.filter(r=>"FARE"!==r.chargeType.code))||[],a=(null==e?void 0:e.charges.filter(r=>"FARE"===r.chargeType.code))||[];return i+=c.reduce((r,u)=>r+u.charge.total,0),i+=a.reduce((r,u)=>r+(u.charge.total-u.charge.base),0),i}initModelAirPlanceOptions(e){const i=new Map;return e.forEach(({segments:c})=>{c.forEach(a=>{a.modelAirplaneName&&a.modelAirplane&&!i.has(a.modelAirplane)&&i.set(a.modelAirplane,{code:a.modelAirplane,name:a.modelAirplaneName,actived:!1})})}),Array.from(i.values())}initFareClassFilters(e){const i=new Map;return e.forEach(c=>{c.chosenFares.forEach(a=>{a.cabinName&&!i.has(a.cabinName.toUpperCase())&&i.set(a.cabinName.toUpperCase(),{code:a.cabinName.toUpperCase(),name:a.cabinName.toUpperCase(),actived:!1})})}),Array.from(i.values())}initTimeFilters(e,i){const c=i.map(a=>{const r=new Date(a.departure.localTime);return 60*r.getHours()+r.getMinutes()});return e.map(a=>Object.assign(Object.assign({},a),{disabled:!c.some(r=>r>=a.startTime&&r<=a.endTime),actived:!1}))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Et=(()=>{class n{get btcResultData(){return JSON.parse(sessionStorage.getItem("btcResultData"))}set btcResultData(e){sessionStorage.setItem("btcResultData",JSON.stringify(e))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var L=f(80529),R=f(88001),P=f(50494),H=f(54004),l=f(97582),s=f(87067);let an=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"traceId",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"status",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"data",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"objectError",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"errorCode",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"success",void 0),n})();const rn={headers:new L.WM({"Content-Type":"application/json"})};let Mt=(()=>{class n{constructor(e,i){this.http=e,this.appConfig=i}bookingPayment(e){return this.http.post(this.appConfig.apiB2cUrl+"payment/create-topup-session",JSON.stringify(e),rn).pipe((0,H.U)(i=>(0,P.yE)(an,i,{excludeExtraneousValues:!0})))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(L.eN),t.LFG(R.qB))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ln=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"traceId",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"status",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"data",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"objectError",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"success",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"errorCode",void 0),n})();const sn={headers:new L.WM({"Content-Type":"application/json"})};let un=(()=>{class n{constructor(e,i){this.http=e,this.appConfig=i}getExtraInfoOrder(e){return this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/get-extra-info-order",JSON.stringify({orderId:e}),sn).pipe((0,H.U)(i=>(0,P.yE)(ln,i,{excludeExtraneousValues:!0})))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(L.eN),t.LFG(R.qB))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pn=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"traceId",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"status",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"data",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"objectError",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"errorCode",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"success",void 0),n})();const dn={headers:new L.WM({"Content-Type":"application/json"})};let _n=(()=>{class n{constructor(e,i){this.http=e,this.appConfig=i}getOrderById(e){return this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/get-order-detail",JSON.stringify({orderId:e}),dn).pipe((0,H.U)(i=>(0,P.yE)(pn,i,{excludeExtraneousValues:!0})))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(L.eN),t.LFG(R.qB))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var pt=f(82761);function gn(n,o){if(1&n&&(t.TgZ(0,"div",107),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.bookingData.booking.orderId," ")}}function mn(n,o){if(1&n&&(t.TgZ(0,"div",107),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.bookingData.booking.totalPrice),",",".")," \u0111 ")}}function fn(n,o){if(1&n&&(t.TgZ(0,"div",110),t._UZ(1,"cf-icon",111),t.TgZ(2,"span",112),t._uU(3),t.qZA()()),2&n){const e=o.ngIf;t.Q6J("ngClass",e.bgColor),t.xp6(1),t.Q6J("icon",e.icon),t.xp6(2),t.hij(" ",e.name," ")}}function hn(n,o){if(1&n&&(t.TgZ(0,"div",108),t.YNc(1,fn,4,3,"div",109),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.configStatus[e.bookingData.booking.state])}}function xn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9),t._UZ(2,"img",10),t.TgZ(3,"div",11),t._uU(4,"Chi ti\u1ebft \u0111\u01a1n h\xe0ng"),t.qZA()(),t.TgZ(5,"div",12),t._UZ(6,"cf-icon",13),t._uU(7," T\u1ed5ng quan \u0111\u01a1n h\xe0ng "),t.qZA(),t.TgZ(8,"div",14)(9,"div",15)(10,"div",16),t._UZ(11,"cf-icon",13),t._uU(12," T\u1ed5ng quan \u0111\u01a1n h\xe0ng "),t.qZA(),t.TgZ(13,"div",17)(14,"div",18)(15,"div",19),t._uU(16," M\xe3 \u0111\u01a1n h\xe0ng "),t.qZA(),t.YNc(17,gn,2,1,"div",20),t.qZA(),t.TgZ(18,"div",21)(19,"div",19),t._uU(20," T\u1ed5ng ti\u1ec1n (\u0111\xe3 g\u1ed3m VAT) "),t.qZA(),t.YNc(21,mn,4,7,"div",20),t.qZA(),t.TgZ(22,"div",22)(23,"div",19),t._uU(24," T\xecnh tr\u1ea1ng "),t.qZA(),t.YNc(25,hn,2,1,"div",23),t.qZA()(),t.TgZ(26,"div",24)(27,"div"),t._uU(28," 1. Qu\xfd kh\xe1ch vui l\xf2ng \u0111\u1ec3 \xfd \u0111i\u1ec7n tho\u1ea1i, Gi\u1ea5c M\u01a1 Bay R\u1ebb s\u1ebd li\xean h\u1ec7 \u0111\u1ec3 x\xe1c nh\u1eadn \u0111\u01a1n h\xe0ng trong th\u1eddi gian s\u1edbm nh\u1ea5t. "),t.qZA(),t.TgZ(29,"div"),t._uU(30," 2. Vui l\xf2ng ki\u1ec3m tra email \u0111\u1ec3 xem chi ti\u1ebft \u0111\u01a1n h\xe0ng. "),t.qZA(),t.TgZ(31,"div"),t._uU(32," 3. M\xe3 \u0111\u01a1n h\xe0ng kh\xf4ng c\xf3 gi\xe1 tr\u1ecb \u0111\u1ec3 bay. "),t.qZA(),t.TgZ(33,"div"),t._uU(34," 4. Li\xean h\u1ec7 0915522425 (Ms. Th\u01b0\u1edfng) \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 khi c\u1ea7n thi\u1ebft. "),t.qZA()()()(),t.TgZ(35,"div",25)(36,"div",26)(37,"div",27),t._uU(38," L\u1ee2I \xcdCH KHI TR\u1ede TH\xc0NH \u0110\u1ed0I T\xc1C C\u1ee6A GMBR "),t.qZA(),t.TgZ(39,"div",28)(40,"div",29)(41,"div",30)(42,"div",31)(43,"div",32)(44,"div",33),t._uU(45," 3 "),t.qZA(),t.TgZ(46,"div",34),t._uU(47," Kh\xf4ng "),t.qZA(),t.TgZ(48,"div",35),t._uU(49," K\xfd qu\u1ef9 - C\u1ecdc ch\u1ebft- \xc1p doanh s\u1ed1 "),t.qZA()(),t.TgZ(50,"div",36)(51,"div",37)(52,"div",38),t.O4$(),t.TgZ(53,"svg",39),t._UZ(54,"path",40),t.qZA(),t.kcU(),t.TgZ(55,"div",41),t._uU(56," D\u01b0\u1edbi "),t.TgZ(57,"b"),t._uU(58,"1 ph\xfat"),t.qZA()()(),t.TgZ(59,"div",42),t._uU(60," L\xe0 cam k\u1ebft tr\u1ea3 l\u1eddi b\u1edfi \u0111\u1ed9i ng\u0169 Booker "),t.qZA()(),t.TgZ(61,"div",43)(62,"div",44),t.O4$(),t.TgZ(63,"svg",39),t._UZ(64,"path",45),t.qZA(),t.kcU(),t.TgZ(65,"div",41)(66,"b"),t._uU(67,"24/7"),t.qZA()()(),t.TgZ(68,"div",42),t._uU(69," Hotline & T\u1ed5ng \u0111\xe0i h\u1ed7 tr\u1ee3 ri\xeang 24/7 "),t.qZA()()()(),t.TgZ(70,"div",46,47)(72,"div",48)(73,"div",49),t.O4$(),t.TgZ(74,"svg",50),t._UZ(75,"path",51),t.qZA(),t.kcU(),t.TgZ(76,"div",52),t._uU(77," Chi\u1ebft kh\u1ea5u "),t.qZA(),t.TgZ(78,"div",53),t._uU(79," \u0110\u1ea3m b\u1ea3o chi\u1ebft kh\u1ea5u cao nh\u1ea5t th\u1ecb tr\u01b0\u1eddng "),t.qZA()()(),t.TgZ(80,"div",54)(81,"div",55)(82,"div",56),t.O4$(),t.TgZ(83,"svg",39),t._UZ(84,"path",57),t.qZA(),t.kcU(),t.TgZ(85,"div",41),t._uU(86," L\u1ea5y "),t.TgZ(87,"b"),t._uU(88,"Gi\xe1 th\u1ea5p"),t.qZA()()(),t.TgZ(89,"div",42),t._uU(90," T\u1eeb chuy\u1ebfn bay gi\xe1 cao "),t.qZA()(),t.TgZ(91,"div",58)(92,"div",56),t.O4$(),t.TgZ(93,"svg",39),t._UZ(94,"path",59),t.qZA(),t.kcU(),t.TgZ(95,"div",41),t._uU(96," V\xe9 \u0111o\xe0n "),t.qZA()(),t.TgZ(97,"div",42),t._uU(98," L\u1ea5y nhanh v\u1edbi gi\xe1 c\u1ea1nh tranh "),t.qZA()()()()(),t.TgZ(99,"div",60)(100,"div",61)(101,"div",62),t.O4$(),t.TgZ(102,"svg",63),t._UZ(103,"path",64),t.qZA(),t.kcU(),t.TgZ(104,"div",65),t._uU(105," 600 H\xe3ng H\xe0ng Kh\xf4ng "),t.qZA()(),t.TgZ(106,"div",66),t._uU(107," Check v\xe9 n\u1ed9i \u0111\u1ecba v\xe0 qu\u1ed1c t\u1ebf trong v\xf2ng 5 ph\xfat "),t.qZA()(),t.TgZ(108,"div",67,68)(110,"div",69)(111,"div",62),t.O4$(),t.TgZ(112,"svg",39)(113,"g",70),t._UZ(114,"path",71),t.qZA(),t.TgZ(115,"defs")(116,"clipPath",72),t._UZ(117,"rect",73),t.qZA()()(),t.kcU(),t.TgZ(118,"div",65),t._uU(119," H\u1ebft ch\u1ed7 "),t.qZA()(),t.TgZ(120,"div",66),t._uU(121," V\u1eabn c\xf3 th\u1ec3 l\u1ea5y k\u1ec3 c\u1ea3 khi \u0111\u1ebfn gi\u1edd ch\xf3t "),t.qZA()(),t.TgZ(122,"div",74)(123,"div",62),t.O4$(),t.TgZ(124,"svg",39),t._UZ(125,"path",75),t.qZA(),t.kcU(),t.TgZ(126,"div",65),t._uU(127," \xc1p d\u1ee5ng AI "),t.qZA()(),t.TgZ(128,"div",66),t._uU(129," S\u0103n v\xe9 h\u1ebft ch\u1ed7 "),t.qZA()()()()()()(),t.TgZ(130,"div",76)(131,"div",77),t._UZ(132,"img",78),t.qZA(),t.TgZ(133,"div",79)(134,"div",80),t._uU(135," L\xc3NH \u0110\u1ea0O T\xc0I GI\u1eceI, T\xc2M HUY\u1ebeT "),t.qZA(),t.TgZ(136,"div",81),t._uU(137," GMBR \u0111\u01b0\u1ee3c d\u1eabn d\u1eaft b\u1edfi CEO Nguy\u1ec5n M\u1ea1nh Th\u01b0\u1edfng - Ng\u01b0\u1eddi c\xf3 h\u01a1n 10 n\u0103m kinh nghi\u1ec7m trong l\u0129nh v\u1ef1c h\xe0ng kh\xf4ng v\xe0 l\xe0 gi\u1ea3ng vi\xean \u0111\xe0o t\u1ea1o h\u01a1n 1000 \u0110\u1ea1i l\xfd v\xe9 m\xe1y bay tr\xean to\xe0n qu\u1ed1c. Sau 5 n\u0103m ho\u1ea1t \u0111\u1ed9ng, GMBR t\u1ef1 h\xe0o l\xe0 \u0111\u1ea1i l\xfd F1 uy t\xedn, chuy\xean ph\xe2n ph\u1ed1i v\xe9 m\xe1y bay Qu\u1ed1c n\u1ed9i v\xe0 Qu\u1ed1c t\u1ebf h\xe0ng \u0111\u1ea7u t\u1ea1i Vi\u1ec7t Nam. "),t.qZA()()(),t.TgZ(138,"div",82)(139,"div",83),t._uU(140," Li\xean h\u1ec7 "),t.qZA(),t.TgZ(141,"div",84)(142,"div",62),t.O4$(),t.TgZ(143,"svg",85)(144,"g",86),t._UZ(145,"rect",87)(146,"path",88)(147,"path",89),t.qZA(),t.TgZ(148,"defs")(149,"clipPath",90),t._UZ(150,"rect",91),t.qZA()()(),t.kcU(),t.TgZ(151,"div")(152,"div",92),t._uU(153," Website "),t.qZA(),t.TgZ(154,"div",93),t._uU(155," giacmobayre.vn "),t.qZA()()(),t.TgZ(156,"div",62),t.O4$(),t.TgZ(157,"svg",50)(158,"g",94),t._UZ(159,"rect",95)(160,"path",96),t.qZA(),t.TgZ(161,"defs")(162,"clipPath",97),t._UZ(163,"rect",98),t.qZA()()(),t.kcU(),t.TgZ(164,"div",29)(165,"div")(166,"div",92),t._uU(167," Mr Duy (Tr\u01b0\u1edfng ph\xf2ng kinh doanh) "),t.qZA(),t.TgZ(168,"div",93),t._uU(169," 0938150738 "),t.qZA()(),t.TgZ(170,"div")(171,"div",92),t._uU(172," Ms Tuy\u1ec1n (Tr\u01b0\u1edfng b\u1ed9 ph\u1eadn CSKH) "),t.qZA(),t.TgZ(173,"div",93),t._uU(174," 0823212095 "),t.qZA()()()(),t.TgZ(175,"div",62),t.O4$(),t.TgZ(176,"svg",85)(177,"g",99),t._UZ(178,"rect",87)(179,"path",100),t.qZA(),t.TgZ(180,"defs")(181,"clipPath",101),t._UZ(182,"rect",91),t.qZA()()(),t.kcU(),t.TgZ(183,"div")(184,"div",92),t._uU(185," Email "),t.qZA(),t.TgZ(186,"div",93),t._uU(187," info@giacmobayre.vn "),t.qZA()()()()(),t.TgZ(188,"div",102)(189,"button",103),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.openNewTab("https://zalo.me/3323580350383162398"))}),t._uU(190," T\u01b0 v\u1ea5n cho t\xf4i "),t.O4$(),t.TgZ(191,"svg",50),t._UZ(192,"path",104),t.qZA()(),t.kcU(),t.TgZ(193,"button",105),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.openNewTab("https://zalo.me/3323580350383162398"))}),t._uU(194," Nh\u1eadn nh\u1eefng ch\u01b0\u01a1ng tr\xecnh h\u1ee3p t\xe1c, \u01b0u \u0111\xe3i v\xe0 tin t\u1ee9c t\u1eeb GMBR "),t.O4$(),t.TgZ(195,"svg",50),t._UZ(196,"path",106),t.qZA()()()()()}if(2&n){const e=t.MAs(71),i=t.MAs(109),c=t.oxw(),a=t.MAs(11);t.xp6(17),t.Q6J("ngIf",null==c.bookingData?null:c.bookingData.booking)("ngIfElse",a),t.xp6(4),t.Q6J("ngIf",null==c.bookingData?null:c.bookingData.booking)("ngIfElse",a),t.xp6(4),t.Q6J("ngIf",null==c.bookingData?null:c.bookingData.booking)("ngIfElse",a),t.xp6(47),t.Udp("height",null==e?null:e.offsetHeight,"px"),t.xp6(50),t.Udp("height",i.offsetHeight,"px")}}function vn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"btc-ticket-sticky-selected",123),t.NdJ("showDetail",function(c){t.CHM(e);const a=t.oxw(3);return t.KtG(a.showDetail(c))}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("searchInput",e.searchData)("ticketCur",e.ticketCur)("hiddenBtn",!0)}}function Cn(n,o){if(1&n&&t._UZ(0,"btc-ticket-sticky-booking",124),2&n){const e=t.oxw(3);t.Q6J("bookingContact",e.bookingData.bookingContact)("bookingPassengers",e.bookingData.bookingPassengers)("amountDiscount",e.amountDiscount)}}function yn(n,o){if(1&n&&(t.TgZ(0,"div",115)(1,"div",116)(2,"div",117)(3,"div",118),t._uU(4,"Chuy\u1ebfn bay c\u1ee7a b\u1ea1n"),t.qZA()(),t.TgZ(5,"div"),t.YNc(6,vn,1,3,"btc-ticket-sticky-selected",119),t.qZA()(),t.TgZ(7,"div"),t.YNc(8,Cn,1,3,"btc-ticket-sticky-booking",120),t.TgZ(9,"div",121)(10,"div",118),t._uU(11,"T\u1ed5ng chi ph\xed:"),t.qZA(),t.TgZ(12,"div",122),t._uU(13),t.ALo(14,"replace"),t.ALo(15,"number"),t.qZA()()()()),2&n){const e=t.oxw(2);t.xp6(6),t.Q6J("ngIf",e.ticketCur),t.xp6(2),t.Q6J("ngIf",e.bookingData),t.xp6(5),t.hij(" ",t.Dn7(14,3,t.lcZ(15,7,((null==e.ticketCur?null:e.ticketCur.totalPrice)||0)-e.amountDiscount),",",".")," \u0111 ")}}function Tn(n,o){if(1&n&&(t.TgZ(0,"div",113),t.YNc(1,yn,16,9,"div",114),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ticketCur&&e.searchData)}}function bn(n,o){1&n&&t._UZ(0,"div",125)}var xt=(()=>{return(n=xt||(xt={}))[n.Order=0]="Order",n[n.Pas=1]="Pas",xt;var n})();let kn=(()=>{class n{constructor(e,i,c,a,r,u,g,m,h,T){this._detectMobileSvc=e,this._bottomSheetSvc=i,this._modal=c,this.cfIconRegister=a,this._helperResultSvc=r,this._sessionStorageSvc=u,this._createTopupSessionSvc=g,this.route=m,this._getExtraInfoOrderSvc=h,this._getOrderDetailSvc=T,this.amountDiscount=0,this.configStatus={PAYMENT_PROCESSING:{name:"Ch\u01b0a thanh to\xe1n",icon:"money",bgColor:"bg-orange-3"},PAYMENT_SUCCESS:{name:"\u0110\xe3 thanh to\xe1n(\u0111ang x\u1eed l\xfd)",icon:"money",bgColor:"bg-blue-3"},CANCELLED:{name:"\u0110\xe3 h\u1ee7y",icon:"clicle-error",bgColor:"bg-gray-4"},SUCCESS:{name:"Xu\u1ea5t v\xe9 th\xe0nh c\xf4ng",icon:"circle-check",bgColor:"bg-green-3"},FAILED:{name:"Xu\u1ea5t v\xe9 th\u1ea5t b\u1ea1i",icon:"circle-warning",bgColor:"bg-red-3"},REFUNDED:{name:"\u0110\xe3 ho\xe0n ti\u1ec1n",icon:"profit",bgColor:"bg-purple-3"}},this.StepMobile=xt,this.stepMobile=xt.Order,this.isMobile=!1,this.cfIconRegister.registerIcons([p.gW0,p.qDv,p.o1t,p.P5K,p.PcQ,p.PcQ,p.Gey,p.B2I,p.UNF,p.glu])}ngOnChanges(e){}ngOnInit(){this.isMobile=this._detectMobileSvc.isMobile(),this.route.paramMap.pipe((0,Pt.h)(e=>e.has("id")),(0,on.b)(e=>this.orderId=e.get("id"))).subscribe(e=>{const i=e.get("id");i&&(0,cn.a)({extraInfoOrder:this._getExtraInfoOrderSvc.getExtraInfoOrder(i),orderDataDetail:this._getOrderDetailSvc.getOrderById(i)}).subscribe({next:c=>{this.progressDataExtraInfo(c.extraInfoOrder),this.progressDataOrderDetail(c.orderDataDetail)},error:c=>{console.error("Error fetching order details:",c)}})})}progressDataExtraInfo(e){if(console.log(JSON.parse(e.data.extraInfoText)),e.data.extraInfoText){const{dataBooking:i,search:c,ticketCur:a}=JSON.parse(e.data.extraInfoText);this.searchData=c,this.ticketCur=a,this.bookingData=i,this.progressAmountDiscount()}}progressDataOrderDetail(e){this.bookingData.booking=e.data}showDetail(e){this._detectMobileSvc.isMobile()?this._bottomSheetSvc.open(st,{headerTitle:"Th\xf4ng tin chuy\u1ebfn bay",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",data:{ticketCur:this.ticketCur,dataSearch:this.searchData,index:e}}).containerInstance._rightButtonClick.subscribe(()=>this._bottomSheetSvc.dismiss()):this._modal.open(st,{ticketCur:this.ticketCur,dataSearch:this.searchData,index:e})}stepMobileChange(e){this.stepMobile=e}openNewTab(e){window.open(e,"_blank")}progressAmountDiscount(){const e=this.ticketCur.ticketSelected.filter(i=>i.ticketData).map(i=>i.ticketData);this.amountDiscount=this._helperResultSvc.progressPriceList(this.searchData,e).filter(i=>i.discountAmount).reduce((i,c)=>i+c.discountAmount*c.quantity,0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(it.L),t.Y36(S.a2),t.Y36(tt.oE),t.Y36(p.KNP),t.Y36(ot),t.Y36(Et),t.Y36(Mt),t.Y36(pt.gz),t.Y36(un),t.Y36(_n))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-result-booking"]],standalone:!0,features:[t.TTD,t.jDz],decls:12,vars:18,consts:[[1,"w-full","h-screen","pb-8","overflow-auto","bg-neutral-gray-1"],[1,"gap-x-1.5","hidden","md:flex","w-full","bg-white","py-2","px-4"],[1,"flex","justify-around","w-full","gap-x-4"],[1,"px-4","py-1.5","rounded-full","text-body-md-short","text-neutral-gray-4","border","border-transparent","w-fit","flex","justify-center",3,"click"],[1,"w-full","max-w-[1366px]","mx-auto","relative","flex","md:flex-col","pt-6","gap-6","md:gap-0"],["class","flex-1 flex flex-col gap-6 md:gap-4",4,"ngIf"],["class","min-w-[248px] max-w-[302px] w-full mr-auto md:max-w-full rounded-xl  md:px-2",4,"ngIf"],["emptyTabComboItemTpl",""],[1,"flex-1","flex","flex-col","gap-6","md:gap-4"],[1,"px-4","md:px-3","flex","gap-x-[10px]","md:hidden"],["src","/assets/images/flight-minimum.svg"],[1,"text-heading-md","uppercase","font-bold","text-red-4"],[1,"px-4","md:px-3","hidden","gap-2","items-center","text-neutral-gray-6","text-heading-sm","font-medium","md:flex"],["icon","circle_information","size","small"],[1,"flex","flex-col","gap-2","w-full","md:px-3"],[1,"bg-white","shadow-lg","rounded","py-4","px-6","md:px-3","md:py-3","flex","flex-col","gap-4"],[1,"flex","gap-2","items-center","text-neutral-gray-6","text-heading-sm","font-medium","md:hidden"],[1,"flex","md:bg-white"],[1,"flex","flex-col","justify-between","pr-[30px]","md:pr-2","border-r","border-dashed","border-neutral-gray-3"],[1,"text-body-md","md:text-body-xs"],["class","font-semibold text-heading-lg md:text-heading-md",4,"ngIf","ngIfElse"],[1,"flex","flex-col","justify-between","px-[30px]","md:px-2","border-r","border-dashed","border-neutral-gray-3"],[1,"flex-1","flex","flex-col","justify-between","pl-[30px]","md:pl-2"],["class","font-semibold text-heading-lg md:text-body-sm",4,"ngIf","ngIfElse"],[1,"w-full","rounded","md:text-body-md","bg-purple-1","py-[6px]","px-3","text-neutral-gray-6"],[1,"flex","flex-col","gap-6","p-6","md:p-3","bg-white","rounded","px-4","md:px-0","shadow-lg"],[1,"flex","flex-col","gap-4","md:px-3"],[1,"font-bold","text-heading-lg","md:text-heading-md"],[1,"bg-[url('/assets/images/contact-boss/bg.png')]","py-6","px-[21px]","md:p-2","max-w-[800px]","mx-auto","rounded-lg","bg-cover"],[1,"flex","flex-col","gap-3"],[1,"flex","gap-3","md:flex-col"],[1,"flex","gap-2"],[1,"flex","flex-col","pt-2","pb-4","px-3","md:px-2","gap-1","bg-white","rounded-lg","items-center","justify-center","text-center"],[1,"bg-red-4","rounded-full","flex","text-white","items-center","justify-center","text-center","text-heading-xl","font-semibold","w-[52px]","h-[52px]"],[1,"text-red-4","text-heading-sm","font-semibold"],[1,"text-espressive-sm","font-normal","text-gray-5","max-w-[102px]","md:max-w-[84px]"],[1,"flex","flex-col","md:gap-2","gap-3","md:flex-1"],[1,"bg-white","md:h-full","flex-1","rounded-lg","px-3","py-2","flex","flex-col","text-center","justify-between","items-center"],[1,"text-red-4","flex","gap-2","md:gap-1","items-center"],["width","25","height","25","viewBox","0 0 25 25","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M9.70412 4.63575C10.592 4.38462 11.5297 4.25 12.5 4.25C13.4703 4.25 14.408 4.38462 15.2959 4.63575C15.6945 4.74849 16.109 4.51676 16.2217 4.11818C16.3344 3.71961 16.1027 3.30511 15.7041 3.19238C14.6847 2.90405 13.6097 2.75 12.5 2.75C11.3903 2.75 10.3153 2.90405 9.29588 3.19238C8.8973 3.30511 8.66558 3.71961 8.77831 4.11818C8.89104 4.51676 9.30554 4.74849 9.70412 4.63575ZM21 14C21 18.6944 17.1944 22.5 12.5 22.5C7.80558 22.5 4 18.6944 4 14C4 9.30558 7.80558 5.5 12.5 5.5C17.1944 5.5 21 9.30558 21 14ZM13.25 9.5C13.25 9.08579 12.9142 8.75 12.5 8.75C12.0858 8.75 11.75 9.08579 11.75 9.5V13.2007C11.3016 13.46 11 13.9448 11 14.5C11 15.3284 11.6716 16 12.5 16C13.3284 16 14 15.3284 14 14.5C14 13.9448 13.6984 13.46 13.25 13.2007V9.5Z","fill","#E03C31"],[1,"text-heading-sm","font-semibold"],[1,"text-gray-5","text-body-sm"],[1,"bg-white","md:px-2","flex-1","rounded-lg","px-3","py-2","flex","flex-col","justify-between","items-center"],[1,"text-red-4","flex","md:gap-1","gap-2","items-center"],["fill-rule","evenodd","clip-rule","evenodd","d","M12.5 3.25C8.02436 3.25 4.38113 6.81395 4.25346 11.2587C4.75789 10.9366 5.35715 10.75 6 10.75C7.79493 10.75 9.25 12.2051 9.25 14V16C9.25 17.7949 7.79493 19.25 6 19.25C4.20507 19.25 2.75 17.7949 2.75 16V14.25V14V11.5C2.75 6.11522 7.11522 1.75 12.5 1.75C17.8848 1.75 22.25 6.11522 22.25 11.5V14V14.25V14.5V16V16.5C22.25 20.2279 19.2279 23.25 15.5 23.25H12.5C12.0858 23.25 11.75 22.9142 11.75 22.5C11.75 22.0858 12.0858 21.75 12.5 21.75H15.5C17.4676 21.75 19.1824 20.6676 20.0814 19.0658C19.7431 19.1851 19.3791 19.25 19 19.25C17.2051 19.25 15.75 17.7949 15.75 16V14C15.75 12.2051 17.2051 10.75 19 10.75C19.6428 10.75 20.2421 10.9366 20.7465 11.2587C20.6189 6.81395 16.9756 3.25 12.5 3.25Z","fill","#E03C31"],[1,"flex","gap-2","items-center","justify-center","text-center","md:w-full"],["parent",""],[1,"h-full"],[1,"flex","flex-col","pt-2","items-center","h-full","justify-between","text-center","pb-4","px-3","gap-1","bg-white","rounded-lg"],["width","25","height","24","viewBox","0 0 25 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M19.0943 4.71193C19.0893 4.69998 19.0841 4.68821 19.0786 4.67664L18.3712 2.96866C18.0887 2.287 17.5471 1.74544 16.8654 1.46306C16.1839 1.18078 15.4176 1.1809 14.7361 1.4629L12.9911 2.1826L12.9896 2.18322C12.6756 2.31351 12.3225 2.31369 12.0083 2.18396L10.2649 1.46182C9.58311 1.17939 8.81702 1.17939 8.1352 1.46182C7.45338 1.74425 6.91168 2.28597 6.62927 2.96781L5.90667 4.71238C5.77611 5.02591 5.52612 5.27504 5.21228 5.40481L3.46834 6.1272C3.13064 6.26699 2.82379 6.47194 2.56531 6.73035C2.30678 6.98881 2.1017 7.29568 1.96181 7.63343C1.82191 7.97118 1.74994 8.33318 1.75 8.69875C1.75006 9.06414 1.82229 9.42645 1.96215 9.76401L2.68356 11.5107C2.81385 11.8247 2.81403 12.1779 2.6843 12.4922L1.962 14.236C1.68016 14.9177 1.68055 15.6835 1.96306 16.3649C2.24558 17.0463 2.78712 17.5877 3.46864 17.87L5.21322 18.5927C5.52727 18.7231 5.77686 18.9733 5.90681 19.2876L6.63008 21.0338C6.91269 21.7149 7.45408 22.256 8.13535 22.5382C8.81662 22.8204 9.58212 22.8206 10.2636 22.5388L12.0095 21.8166C12.3236 21.6863 12.6766 21.686 12.9909 21.8159L14.7342 22.538C15.416 22.8204 16.1821 22.8204 16.8639 22.538C17.5458 22.2556 18.0874 21.7139 18.3699 21.032L19.0927 19.2868C19.2232 18.973 19.4733 18.7236 19.7874 18.5938L21.5311 17.8715C21.8689 17.7317 22.1758 17.5267 22.4343 17.2682C22.6929 17.0098 22.8979 16.7029 23.0378 16.3652C23.1777 16.0274 23.2497 15.6654 23.2496 15.2998C23.2496 14.9343 23.1775 14.5723 23.0375 14.2346L22.3166 12.4917L22.316 12.4901C22.1856 12.1768 22.1854 11.8236 22.3158 11.5088L23.0382 9.76481C23.3206 9.08298 23.3206 8.31689 23.0382 7.63506C22.7558 6.95322 22.2141 6.4115 21.5323 6.12907L19.7876 5.40637C19.4736 5.27594 19.2242 5.02617 19.0943 4.71193ZM17.0303 8.53033C17.3232 8.23744 17.3232 7.76256 17.0303 7.46967C16.7374 7.17678 16.2626 7.17678 15.9697 7.46967L7.96967 15.4697C7.67678 15.7626 7.67678 16.2374 7.96967 16.5303C8.26256 16.8232 8.73744 16.8232 9.03033 16.5303L17.0303 8.53033ZM9.5 7.75C8.80964 7.75 8.25 8.30964 8.25 9C8.25 9.69036 8.80964 10.25 9.5 10.25C10.1904 10.25 10.75 9.69036 10.75 9C10.75 8.30964 10.1904 7.75 9.5 7.75ZM15.5 13.75C14.8096 13.75 14.25 14.3096 14.25 15C14.25 15.6904 14.8096 16.25 15.5 16.25C16.1904 16.25 16.75 15.6904 16.75 15C16.75 14.3096 16.1904 13.75 15.5 13.75Z","fill","#ECA705"],[1,"text-yellow-4","text-heading-sm","font-semibold"],[1,"text-espressive-sm","font-normal","text-gray-5","max-w-[113px]"],[1,"flex","flex-col","gap-3","md:gap-2","h-full","shrink-1"],[1,"bg-white","rounded-lg","gap-1","flex-1","h-full","px-3","py-2","flex","flex-col","justify-between","items-center"],[1,"text-yellow-4","flex","gap-2","items-center"],["fill-rule","evenodd","clip-rule","evenodd","d","M22.5 12.5C22.5 18.0228 18.0228 22.5 12.5 22.5C6.97715 22.5 2.5 18.0228 2.5 12.5C2.5 6.97715 6.97715 2.5 12.5 2.5C18.0228 2.5 22.5 6.97715 22.5 12.5ZM12.5 11.75C11.8096 11.75 11.25 11.1904 11.25 10.5C11.25 9.80964 11.8096 9.25 12.5 9.25C13.1904 9.25 13.75 9.80964 13.75 10.5C13.75 10.9142 14.0858 11.25 14.5 11.25C14.9142 11.25 15.25 10.9142 15.25 10.5C15.25 9.24122 14.4043 8.17998 13.25 7.85352V7C13.25 6.58579 12.9142 6.25 12.5 6.25C12.0858 6.25 11.75 6.58579 11.75 7V7.85352C10.5957 8.17998 9.75 9.24122 9.75 10.5C9.75 12.0188 10.9812 13.25 12.5 13.25C13.1904 13.25 13.75 13.8096 13.75 14.5C13.75 15.1904 13.1904 15.75 12.5 15.75C11.8096 15.75 11.25 15.1904 11.25 14.5C11.25 14.0858 10.9142 13.75 10.5 13.75C10.0858 13.75 9.75 14.0858 9.75 14.5C9.75 15.7588 10.5957 16.82 11.75 17.1465V18C11.75 18.4142 12.0858 18.75 12.5 18.75C12.9142 18.75 13.25 18.4142 13.25 18V17.1465C14.4043 16.82 15.25 15.7588 15.25 14.5C15.25 12.9812 14.0188 11.75 12.5 11.75Z","fill","#ECA705"],[1,"bg-white","rounded-lg","flex-1","h-full","px-3","py-2","flex","flex-col","justify-between","items-center"],["fill-rule","evenodd","clip-rule","evenodd","d","M6.5 21.5C4.29086 21.5 2.5 19.7091 2.5 17.5V16.5C2.5 15.9477 2.96 15.5163 3.48189 15.3356C4.65653 14.9289 5.5 13.813 5.5 12.5C5.5 11.187 4.65653 10.0711 3.48189 9.66437C2.96 9.48368 2.5 9.05228 2.5 8.5V7.5C2.5 5.29086 4.29086 3.5 6.5 3.5H10.5H18.5C20.7091 3.5 22.5 5.29086 22.5 7.5V8.5C22.5 9.05228 22.04 9.48368 21.5181 9.66437C20.3435 10.0711 19.5 11.187 19.5 12.5C19.5 13.813 20.3435 14.9289 21.5181 15.3356C22.04 15.5163 22.5 15.9477 22.5 16.5V17.5C22.5 19.7091 20.7091 21.5 18.5 21.5H10.5H6.5ZM11.25 6.5C11.25 6.08579 10.9142 5.75 10.5 5.75C10.0858 5.75 9.75 6.08579 9.75 6.5V8.5C9.75 8.91421 10.0858 9.25 10.5 9.25C10.9142 9.25 11.25 8.91421 11.25 8.5V6.5ZM10.5 15.75C10.9142 15.75 11.25 16.0858 11.25 16.5V18.5C11.25 18.9142 10.9142 19.25 10.5 19.25C10.0858 19.25 9.75 18.9142 9.75 18.5V16.5C9.75 16.0858 10.0858 15.75 10.5 15.75ZM11.25 11.5C11.25 11.0858 10.9142 10.75 10.5 10.75C10.0858 10.75 9.75 11.0858 9.75 11.5V13.5C9.75 13.9142 10.0858 14.25 10.5 14.25C10.9142 14.25 11.25 13.9142 11.25 13.5V11.5Z","fill","#ECA705"],[1,"flex","w-full","gap-3","md:gap-2","md:flex-col"],[1,"bg-white","rounded-lg","justify-center","items-center","gap-1","flex","flex-col","px-4","py-2","text-center"],[1,"flex","gap-[10px]"],["width","24","height","25","viewBox","0 0 24 25","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.02841 12.1181C2.41572 11.7257 3.01299 11.5647 3.79337 11.4983L3.03312 8.06167C2.9593 7.87135 3.04175 7.79326 3.21144 7.77472L4.02346 7.84011C4.15192 7.87135 4.25738 7.93577 4.32353 8.05387L6.44417 11.0913L10.8733 10.9117L9.26753 2.43869C9.21576 2.23567 9.28862 2.14002 9.51487 2.17321L10.8024 2.32059L15.455 10.7604L19.4106 10.6257C20.607 10.7136 21.4785 11.0952 21.8389 11.7023C22.0374 12.0371 22.0518 12.2118 21.8859 12.5466C21.559 13.2015 20.6617 13.6154 19.4106 13.7081L15.455 13.5734L10.8024 22.0132L9.51488 22.1606C9.28958 22.1928 9.21672 22.0972 9.26753 21.8951L10.8714 13.4221L6.44321 13.2415L4.32257 16.279C4.25738 16.3961 4.15288 16.4615 4.0225 16.4927L3.21048 16.5581C3.04175 16.5406 2.95834 16.4615 3.03216 16.2712L3.79241 12.8345C3.00915 12.7672 2.41188 12.6061 2.02361 12.2108C1.9891 12.1737 1.99389 12.1532 2.02841 12.1181Z","fill","#009BA1"],[1,"text-cyan-4","font-semibold","text-heading-sm"],[1,"text-espressive-sm","font-normal","text-gray-5"],[1,"flex","items-center","flex-1","md:gap-2","gap-3"],["parentCyEl",""],[1,"bg-white","rounded-lg","gap-1","justify-center","items-center","text-center","md:flex-1","flex","flex-col","px-4","py-2"],["clip-path","url(#clip0_1_140299)"],["d","M8.65227 21.0906H16.035V23.5515H8.65227C5.25622 23.5515 2.5 20.7953 2.5 17.3993V6.32517H4.96091V17.3993C4.96091 19.4418 6.60972 21.0906 8.65227 21.0906ZM10.3995 4.36875C11.3593 3.40899 11.3593 1.84632 10.3995 0.886563C9.43976 -0.0731904 7.87708 -0.0731904 6.91733 0.886563C5.95758 1.84632 5.95758 3.40899 6.91733 4.36875C7.87708 5.34081 9.42746 5.34081 10.3995 4.36875ZM11.7284 8.78608C11.7284 7.43258 10.621 6.32517 9.2675 6.32517H8.65227C7.29877 6.32517 6.19136 7.43258 6.19136 8.78608V16.1688C6.19136 18.2114 7.84017 19.8602 9.88272 19.8602H16.1211L20.4277 24.1667L22.1873 22.4072L15.9489 16.1688H11.7284V8.78608Z","fill","#009BA1"],["id","clip0_1_140299"],["width","24","height","24","fill","white","transform","translate(0.5 0.166748)"],[1,"bg-white","rounded-lg","gap-1","justify-center","text-center","md:flex-1","flex","flex-col","px-4","py-2"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.1112 18.5418H7.655C7.24922 18.5418 6.86006 18.3806 6.57313 18.0936C6.2862 17.8067 6.125 17.4175 6.125 17.0118V7.32175C6.125 6.91597 6.2862 6.52681 6.57313 6.23988C6.86006 5.95295 7.24922 5.79175 7.655 5.79175H17.345C17.7508 5.79175 18.1399 5.95295 18.4269 6.23988C18.7138 6.52681 18.875 6.91597 18.875 7.32175V12.1668C18.8784 12.269 18.9221 12.3658 18.9966 12.4361C19.071 12.5063 19.1702 12.5443 19.2725 12.5418C19.5918 12.5408 19.9069 12.614 20.1931 12.7555C20.2525 12.786 20.3188 12.8005 20.3855 12.7978C20.4522 12.795 20.5171 12.7749 20.5738 12.7396C20.6304 12.7043 20.677 12.6549 20.7088 12.5962C20.7407 12.5376 20.7568 12.4716 20.7556 12.4049V7.32175C20.7556 6.87413 20.6674 6.4309 20.4959 6.01742C20.3244 5.60393 20.0731 5.22832 19.7563 4.91206C19.4396 4.59581 19.0635 4.34511 18.6498 4.17433C18.236 4.00354 17.7926 3.91601 17.345 3.91675H7.655C6.75194 3.91675 5.88586 4.27549 5.2473 4.91405C4.60874 5.55262 4.25 6.41869 4.25 7.32175V17.0118C4.25 17.9148 4.60874 18.7809 5.2473 19.4195C5.88586 20.058 6.75194 20.4168 7.655 20.4168H13.8988C13.9755 20.4168 14.0505 20.3942 14.1144 20.3517C14.1782 20.3092 14.228 20.2487 14.2575 20.1778C14.287 20.107 14.2949 20.029 14.2801 19.9538C14.2653 19.8785 14.2285 19.8093 14.1744 19.7549C13.8826 19.4872 13.6463 19.1649 13.4788 18.8061C13.4519 18.7298 13.4023 18.6635 13.3366 18.6162C13.2708 18.5689 13.1922 18.5429 13.1112 18.5418ZM7.56873 15.3843L9.81873 8.36426C9.83488 8.3119 9.86713 8.26595 9.91089 8.23297C9.95465 8.19998 10.0077 8.18162 10.0625 8.18051H11.0975C11.1536 8.18098 11.2082 8.19944 11.253 8.23319C11.2979 8.26694 11.3308 8.31419 11.3469 8.36801L13.5969 15.388C13.6096 15.4273 13.6129 15.469 13.6064 15.5097C13.5999 15.5505 13.5838 15.5891 13.5594 15.6224C13.5351 15.6557 13.5032 15.6828 13.4663 15.7014C13.4295 15.7199 13.3887 15.7295 13.3475 15.7293H12.7175C12.6612 15.7291 12.6066 15.7107 12.5616 15.6769C12.5167 15.6432 12.4839 15.5957 12.4681 15.5418L12.1043 14.4168H9.04435L8.69185 15.5418C8.67608 15.5957 8.64327 15.6432 8.59832 15.6769C8.55338 15.7107 8.49871 15.7291 8.44248 15.7293H7.81248C7.77125 15.7288 7.73071 15.7186 7.6942 15.6994C7.65769 15.6803 7.62625 15.6527 7.60245 15.619C7.57866 15.5854 7.5632 15.5465 7.55734 15.5057C7.55147 15.4649 7.55538 15.4233 7.56873 15.3843ZM10.58 9.67864L9.41935 13.2918H11.75L10.58 9.67864ZM15.575 8.18237H16.175C16.32 8.18237 16.4375 8.2999 16.4375 8.44487V15.4649C16.4375 15.6098 16.32 15.7274 16.175 15.7274H15.575C15.43 15.7274 15.3125 15.6098 15.3125 15.4649V8.44487C15.3125 8.2999 15.43 8.18237 15.575 8.18237ZM23.1481 18.5849L21.4494 19.2543C21.1487 19.3732 20.8755 19.5525 20.6469 19.7811C20.4182 20.0098 20.2389 20.2829 20.12 20.5836L19.4506 22.2711C19.437 22.3064 19.4131 22.3367 19.382 22.3581C19.3509 22.3795 19.314 22.391 19.2763 22.3911C19.2385 22.391 19.2016 22.3795 19.1705 22.3581C19.1394 22.3367 19.1155 22.3064 19.1019 22.2711L18.4325 20.5836C18.3139 20.2828 18.1347 20.0095 17.906 19.7808C17.6773 19.5521 17.404 19.3729 17.1031 19.2543L15.4156 18.5849C15.3807 18.5711 15.3507 18.547 15.3295 18.516C15.3084 18.4849 15.2971 18.4481 15.2971 18.4105C15.2971 18.3729 15.3084 18.3362 15.3295 18.3051C15.3507 18.274 15.3807 18.25 15.4156 18.2361L17.1031 17.5668C17.404 17.4482 17.6773 17.2689 17.906 17.0402C18.1347 16.8116 18.3139 16.5383 18.4325 16.2374L19.1019 14.5499C19.1158 14.515 19.1398 14.4851 19.1709 14.464C19.202 14.443 19.2387 14.4317 19.2763 14.4318C19.3138 14.4317 19.3505 14.443 19.3816 14.464C19.4127 14.4851 19.4367 14.515 19.4506 14.5499L20.12 16.2374C20.2389 16.5381 20.4182 16.8112 20.6469 17.0399C20.8755 17.2685 21.1487 17.4479 21.4494 17.5668L23.1481 18.2361C23.1831 18.25 23.2131 18.274 23.2343 18.3051C23.2554 18.3362 23.2667 18.3729 23.2667 18.4105C23.2667 18.4481 23.2554 18.4849 23.2343 18.516C23.2131 18.547 23.1831 18.5711 23.1481 18.5849Z","fill","#009BA1"],[1,"flex","md:flex-col"],[1,"rounded-md","md:p-3"],["src","/assets/images/contact-boss/avatar.png","alt","avatar",1,"rounded-md"],[1,"flex-1","w-full","px-6","py-4","md:-order-1","md:px-4"],[1,"text-heading-lg","font-bold","md:text-heading-md","mb-4"],[1,"text-heading-md","font-normal","md:text-body-md"],[1,"flex","flex-col","gap-4","md:px-4"],[1,"text-heading-lg","font-bold","uppercase","md:text-heading-md"],[1,"flex","justify-between","md:flex-col","md:gap-3"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_148999)"],["x","0.5","y","12","width","16","height","16","rx","2","transform","rotate(-45 0.5 12)","fill","#FFECEB"],["d","M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z","stroke","#E03C31","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M12 22C16 18 20 14.4183 20 10C20 5.58172 16.4183 2 12 2C7.58172 2 4 5.58172 4 10C4 14.4183 8 18 12 22Z","stroke","#E03C31","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["id","clip0_1_148999"],["width","24","height","24","fill","white"],[1,"text-body-md","font-semibold","text-neutral-gray-5"],[1,"text-neutral-gray-6","text-heading-md","font-medium"],["clip-path","url(#clip0_1_149004)"],["x","1","y","12","width","16","height","16","rx","2","transform","rotate(-45 1 12)","fill","#FFECEB"],["d","M14.5497 6C15.5264 6.19057 16.424 6.66826 17.1277 7.37194C17.8314 8.07561 18.3091 8.97326 18.4997 9.95M14.5497 2C16.5789 2.22544 18.4713 3.13417 19.9159 4.57701C21.3606 6.01984 22.2717 7.91101 22.4997 9.94M10.7266 13.8631C9.52506 12.6615 8.57627 11.3028 7.88028 9.85323C7.82041 9.72854 7.79048 9.66619 7.76748 9.5873C7.68576 9.30695 7.74446 8.96269 7.91447 8.72526C7.96231 8.65845 8.01947 8.60129 8.13378 8.48698C8.48338 8.13737 8.65819 7.96257 8.77247 7.78679C9.20347 7.1239 9.20347 6.26932 8.77247 5.60643C8.65819 5.43065 8.48338 5.25585 8.13378 4.90624L7.93891 4.71137C7.40747 4.17993 7.14174 3.91421 6.85636 3.76987C6.2888 3.4828 5.61854 3.4828 5.05098 3.76987C4.7656 3.91421 4.49987 4.17993 3.96843 4.71137L3.8108 4.86901C3.28117 5.39863 3.01636 5.66344 2.81411 6.02348C2.58969 6.42298 2.42833 7.04347 2.4297 7.5017C2.43092 7.91464 2.51103 8.19687 2.67124 8.76131C3.53221 11.7947 5.15668 14.6571 7.54466 17.045C9.93264 19.433 12.795 21.0575 15.8284 21.9185C16.3928 22.0787 16.6751 22.1588 17.088 22.16C17.5462 22.1614 18.1667 22 18.5662 21.7756C18.9263 21.5733 19.1911 21.3085 19.7207 20.7789L19.8783 20.6213C20.4098 20.0898 20.6755 19.8241 20.8198 19.5387C21.1069 18.9712 21.1069 18.3009 20.8198 17.7333C20.6755 17.448 20.4098 17.1822 19.8783 16.6508L19.6835 16.4559C19.3339 16.1063 19.1591 15.9315 18.9833 15.8172C18.3204 15.3862 17.4658 15.3862 16.8029 15.8172C16.6271 15.9315 16.4523 16.1063 16.1027 16.4559C15.9884 16.5702 15.9313 16.6274 15.8644 16.6752C15.627 16.8453 15.2828 16.904 15.0024 16.8222C14.9235 16.7992 14.8612 16.7693 14.7365 16.7094C13.2869 16.0134 11.9282 15.0646 10.7266 13.8631Z","stroke","#E03C31","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["id","clip0_1_149004"],["width","24","height","24","fill","white","transform","translate(0.5)"],["clip-path","url(#clip0_1_149013)"],["d","M2 7L10.1649 12.7154C10.8261 13.1783 11.1567 13.4097 11.5163 13.4993C11.8339 13.5785 12.1661 13.5785 12.4837 13.4993C12.8433 13.4097 13.1739 13.1783 13.8351 12.7154L22 7M6.8 20H17.2C18.8802 20 19.7202 20 20.362 19.673C20.9265 19.3854 21.3854 18.9265 21.673 18.362C22 17.7202 22 16.8802 22 15.2V8.8C22 7.11984 22 6.27976 21.673 5.63803C21.3854 5.07354 20.9265 4.6146 20.362 4.32698C19.7202 4 18.8802 4 17.2 4H6.8C5.11984 4 4.27976 4 3.63803 4.32698C3.07354 4.6146 2.6146 5.07354 2.32698 5.63803C2 6.27976 2 7.11984 2 8.8V15.2C2 16.8802 2 17.7202 2.32698 18.362C2.6146 18.9265 3.07354 19.3854 3.63803 19.673C4.27976 20 5.11984 20 6.8 20Z","stroke","#E03C31","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["id","clip0_1_149013"],[1,"flex","gap-6","md:flex-col","md:px-4"],["cf-button","","type","solid",1,"min-w-[100px]","md:w-full","justify-center","gap-2","!bg-neutral-gray-5","!h-[48px]","flex","items-center","text-center","text-white","hover:bg-neutral-gray-5",3,"click"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.75 12C1.75 6.61522 6.11522 2.25 11.5 2.25H13.5C18.8848 2.25 23.25 6.61522 23.25 12C23.25 17.3848 18.8848 21.75 13.5 21.75H6.5C3.87665 21.75 1.75 19.6234 1.75 17V12ZM11.5 3.75C6.94365 3.75 3.25 7.44365 3.25 12V17C3.25 18.7949 4.70507 20.25 6.5 20.25H13.5C18.0564 20.25 21.75 16.5563 21.75 12C21.75 7.44365 18.0564 3.75 13.5 3.75H11.5ZM7.75 10C7.75 9.58579 8.08579 9.25 8.5 9.25H16.5C16.9142 9.25 17.25 9.58579 17.25 10C17.25 10.4142 16.9142 10.75 16.5 10.75H8.5C8.08579 10.75 7.75 10.4142 7.75 10ZM7.75 14C7.75 13.5858 8.08579 13.25 8.5 13.25H12.5C12.9142 13.25 13.25 13.5858 13.25 14C13.25 14.4142 12.9142 14.75 12.5 14.75H8.5C8.08579 14.75 7.75 14.4142 7.75 14Z","fill","white"],["cf-button","","type","solid",1,"md:text-justify","min-w-[100px]","w-full","flex-1","justify-center","gap-2","!h-[48px]","flex","items-center","text-center","text-white",3,"click"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.75 7C1.75 4.37665 3.87665 2.25 6.5 2.25H18.5C21.1234 2.25 23.25 4.37665 23.25 7V17C23.25 19.6234 21.1234 21.75 18.5 21.75H6.5C3.87665 21.75 1.75 19.6234 1.75 17V7ZM6.5 3.75C4.70507 3.75 3.25 5.20507 3.25 7V17C3.25 18.7949 4.70507 20.25 6.5 20.25H18.5C20.2949 20.25 21.75 18.7949 21.75 17V7C21.75 5.20507 20.2949 3.75 18.5 3.75H6.5ZM5.87596 7.58397C6.10573 7.23933 6.57138 7.1462 6.91603 7.37596L10.6972 9.89676C11.7889 10.6245 13.2111 10.6245 14.3028 9.89676L18.084 7.37596C18.4286 7.1462 18.8943 7.23933 19.124 7.58397C19.3538 7.92862 19.2607 8.39427 18.916 8.62404L15.1348 11.1448C13.5393 12.2085 11.4607 12.2085 9.86518 11.1448L6.08397 8.62404C5.73933 8.39427 5.6462 7.92862 5.87596 7.58397Z","fill","white"],[1,"font-semibold","text-heading-lg","md:text-heading-md"],[1,"font-semibold","text-heading-lg","md:text-body-sm"],["class","py-1 px-2 rounded-full w-fit gap-1 h-fit flex items-center justify-center",3,"ngClass",4,"ngIf"],[1,"py-1","px-2","rounded-full","w-fit","gap-1","h-fit","flex","items-center","justify-center",3,"ngClass"],["size","small",1,"md:hidden","text-white",3,"icon"],[1,"text-neutral-white","text-body-sm"],[1,"min-w-[248px]","max-w-[302px]","w-full","mr-auto","md:max-w-full","rounded-xl","md:px-2"],["class","min-w-[248px] w-full max-w-[302px] flex-shrink-0 flex flex-col gap-4 rounded-xl  h-fit md:static md:max-w-full sticky top-2",4,"ngIf"],[1,"min-w-[248px]","w-full","max-w-[302px]","flex-shrink-0","flex","flex-col","gap-4","rounded-xl","h-fit","md:static","md:max-w-full","sticky","top-2"],[1,"bg-neutral-white","rounded-xl","shadow-lg","rounded-b-xl"],[1,"flex","justify-between","items-center","py-3","px-4","border-b","border-neutral-gray-2"],[1,"text-espressive-sm","text-neutral-black"],["class","rounded-b-xl",3,"searchInput","ticketCur","hiddenBtn","showDetail",4,"ngIf"],[3,"bookingContact","bookingPassengers","amountDiscount",4,"ngIf"],[1,"flex","justify-between","items-center","py-3","px-4","md:rounded-none","rounded-b-xl","bg-white","border-t","border-neutral-gray-1"],[1,"text-heading-md","text-neutral-black"],[1,"rounded-b-xl",3,"searchInput","ticketCur","hiddenBtn","showDetail"],[3,"bookingContact","bookingPassengers","amountDiscount"],[1,"w-28","bg-neutral-gray-2","h-8","mt-1","rounded-md","animate-pulse"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.NdJ("click",function(){return i.stepMobileChange(i.StepMobile.Order)}),t._uU(4," Chi ti\u1ebft \u0111\u01a1n h\xe0ng "),t.qZA(),t.TgZ(5,"div",3),t.NdJ("click",function(){return i.stepMobileChange(i.StepMobile.Pas)}),t._uU(6," Th\xf4ng tin h\xe0nh kh\xe1ch "),t.qZA()()(),t.TgZ(7,"div",4),t.YNc(8,xn,197,10,"div",5),t.YNc(9,Tn,2,1,"div",6),t.qZA()(),t.YNc(10,bn,1,0,"ng-template",null,7,t.W1O)),2&e&&(t.xp6(3),t.ekj("text-secondary-3-4",i.stepMobile===i.StepMobile.Order)("!border-secondary-3-4",i.stepMobile===i.StepMobile.Order)("bg-secondary-3-1",i.stepMobile===i.StepMobile.Order)("!text-espressive-md-short",i.stepMobile===i.StepMobile.Order),t.xp6(2),t.ekj("text-secondary-3-4",i.stepMobile===i.StepMobile.Pas)("!border-secondary-3-4",i.stepMobile===i.StepMobile.Pas)("bg-secondary-3-1",i.stepMobile===i.StepMobile.Pas)("!text-espressive-md-short",i.stepMobile===i.StepMobile.Pas),t.xp6(3),t.Q6J("ngIf",i.stepMobile===i.StepMobile.Order),t.xp6(1),t.Q6J("ngIf",i.stepMobile===i.StepMobile.Pas||!i.isMobile))},dependencies:[_.ez,_.mk,_.O5,_.JJ,ht,Y.AS,p.AxE,p.Sm8,I.N8,I.Xq,nn,S.DW],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var Zn=f(23674),An=f(29604),Nt=f(94327),qt=f(74710),jt=f(3259),En=f.t(jt,2),Dt=f(63900),Ot=f(82805),Jt=f(22529),Dn=f(64425),Yt=f(62331);const Bn=["htmlContent"];function wn(n,o){1&n&&(t.O4$(),t.TgZ(0,"svg",40),t._UZ(1,"path",41),t.qZA())}function In(n,o){if(1&n&&t._UZ(0,"img",42),2&n){const e=t.oxw();t.Q6J("src",e.qrcodeSrc,t.LSH)}}function Sn(n,o){if(1&n&&(t.TgZ(0,"div",43),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.depositData.amount?t.lcZ(2,1,e.depositData.amount)+" \u0111":"--","")}}function Fn(n,o){if(1&n&&(t.TgZ(0,"div")(1,"span",44),t._uU(2,"H\u1ebft h\u1ea1n sau: "),t.qZA(),t.TgZ(3,"span",45),t._uU(4),t.ALo(5,"formatTime"),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,1,e.countdown))}}function Nn(n,o){1&n&&(t.TgZ(0,"div",46),t._uU(1," M\xe3 QR h\u1ebft h\u1ea1n. Vui l\xf2ng t\u1ea1o m\xe3 m\u1edbi "),t.qZA())}function qn(n,o){if(1&n&&(t.TgZ(0,"div",46),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.objectError.errorMessage," ")}}function On(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",47)(1,"div",48),t._uU(2,"\u0110\xe3 x\u1eed l\xfd chia s\u1ebb th\xe0nh c\xf4ng"),t.qZA(),t.TgZ(3,"button",49),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.webShareCall())}),t._uU(4,"Chia s\u1ebb"),t.qZA()()}}let Jn=(()=>{class n{constructor(e,i,c,a,r,u,g){this.clipboard=e,this._toastService=i,this._cdr=c,this._createTopupSessionSvc=a,this.route=r,this._mobileDetectService=u,this._bottomSheetService=g,this.bankAccountOptions=[],this.countdown=600,this.isExpired=!1,this.objectError={error:!1,errorMessage:"C\xf3 l\u1ed7i x\u1ea3y ra. Vui l\xf2ng t\u1ea1o l\u1ea1i m\xe3 QR"},this.isLoading=!1}ngOnInit(){this.route.paramMap.pipe((0,Pt.h)(e=>e.has("id")),(0,Dt.w)(e=>{const i=e.get("id");return this._createTopupSessionSvc.bookingPayment({orderId:i,paymentMethod:"ACB"})})).subscribe(e=>{console.log(e.data),e.data&&this.initDepositData(e.data)})}initDepositData(e){this.timeRemaining$&&this.timeRemaining$.unsubscribe(),this.depositData=Object.assign(Object.assign({},this.depositData),e),this.objectError.error=!1,this.fileNameQR=`${e.content}.jpeg`;const i=new An.b;i.setBeneficiaryOrganization(this.getBinBank(e.bankName),e.bankNumber).setTransactionAmount(e.amount.toString()).setAdditionalDataFieldTemplate(e.content),jt.toDataURL(i.build(),{margin:0}).then(c=>{console.log(c);const a=this.calculateTimeDifferenceInSeconds(e.dateExpire);this.qrcodeSrc=c;const u=(0,Ot.H)(0,1e3).pipe((0,H.U)(g=>a-g),(0,Jt.o)(g=>g>=0));this.timeRemaining$=u.subscribe({next:g=>{this.countdown=g,g>0?this.isExpired=!1:(this.isExpired=!0,this.qrcodeSrc=""),this._cdr.markForCheck()}}),this._cdr.markForCheck()}).catch(c=>{console.error(c),this.objectError.error=!0,this.objectError.errorMessage="C\xf3 l\u1ed7i x\u1ea3y ra. Vui l\xf2ng t\u1ea1o l\u1ea1i m\xe3 QR"}),console.log(this.qrcodeSrc),console.log(En)}calculateTimeDifferenceInSeconds(e){const i=At(e),c=At();return Math.abs(c.diff(i,"seconds"))}getBinBank(e){var i;return(null===(i=this.bankAccountOptions.find(c=>c.code.toUpperCase()===e.toUpperCase()))||void 0===i?void 0:i.bin)||""}onCopy(e){this.clipboard.copy(null==e?void 0:e.toString()),this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"Sao ch\xe9p th\xe0nh c\xf4ng",sticky:!1})}onConfirmTopup(){}exportJPEG(e){this.isLoading=!0;const i=this.htmlContent.nativeElement;(0,qt.C0)(i,{fetch:{bypassingCache:!0},drawImageInterval:1e3}).then(c=>{(0,qt.C0)(i,{fetch:{bypassingCache:!0},drawImageInterval:1e3}).then(a=>{this.isLoading=!0,(0,qt.C0)(i,{fetch:{bypassingCache:!0},drawImageInterval:1e3}).then(r=>{if(this.isLoading=!1,this._mobileDetectService.isMobile())if(this.image=new File([r],this.fileNameQR,{type:null==r?void 0:r.type}),navigator.canShare)if(navigator.canShare({files:[this.image]})){const u=this._bottomSheetService.open(e,{headerTitle:"Chia s\u1ebb"});u.containerInstance._rightButtonClick.subscribe(g=>u.dismiss())}else Nt(r,this.fileNameQR);else Nt(r,this.fileNameQR);else Nt(r,this.fileNameQR);this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"T\u1ea1o file QR chuy\u1ec3n kho\u1ea3n th\xe0nh c\xf4ng. Vui l\xf2ng ki\u1ec3m tra k\u1ebft qu\u1ea3.",sticky:!1})}).catch(r=>{this.isLoading=!1,this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"T\u1ea1o file QR chuy\u1ec3n kho\u1ea3n th\u1ea5t b\u1ea1i. Vui l\xf2ng th\u1eed l\u1ea1i.",sticky:!1})})})})}webShareCall(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Dn.TU),t.Y36(Yt.BX),t.Y36(t.sBO),t.Y36(Mt),t.Y36(pt.gz),t.Y36(it.L),t.Y36(S.a2))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-result-deposit"]],viewQuery:function(e,i){if(1&e&&t.Gf(Bn,5),2&e){let c;t.iGM(c=t.CRH())&&(i.htmlContent=c.first)}},standalone:!0,features:[t.jDz],decls:88,vars:19,consts:[[1,"w-full","h-screen","pb-20","pt-6","overflow-auto","bg-neutral-gray-1"],["htmlContent",""],[1,"px-4","w-full","max-w-[764px]","mx-auto","relative","flex","gap-6"],[1,"flex-1","flex","flex-col","gap-8"],[1,"flex","gap-x-[10px]"],["src","/assets/images/flight-minimum.svg"],[1,"text-heading-md","uppercase","font-bold","text-red-4"],[1,"flex","flex-col","gap-4","w-full"],[1,"bg-white","shadow-lg","rounded","py-4","px-6","flex","items-center","justify-center","gap-4"],[1,"w-fit","p-2","rounded-lg","flex","flex-col","items-center","gap-y-2","cursor-pointer","hover:bg-yellow-1","bg-yellow-1"],[3,"src","alt"],[1,"text-express-sm","text-neutral-gray-6"],[1,"flex","gap-6","w-full"],[1,"bg-white","shadow-lg","rounded","pt-4","flex","flex-col","justify-between","flex-1"],[1,"flex","flex-col","gap-y-4","md:flex-row","md:gap-x-6","px-6","items-center","md:w-full"],[1,"w-[200px]","h-[200px]","md:w-[160px]","md:h-[160px]"],["viewBox","0 0 200 200","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["class","w-[200px] h-auto","alt","",3,"src",4,"ngIf"],[1,"flex","flex-col","gap-y-1","items-center","md:flex-1"],["class","text-heading-lg text-secondary-5-3 md:text-express-xl",4,"ngIf"],[4,"ngIf"],["class","text-body-md-short text-primary-1-4",4,"ngIf"],[1,"w-full","min-h-[38px]","px-6"],["cf-button","","size","medium","type","secondary",1,"bg-white","w-full","justify-center",3,"disabled","click"],["icon","download",1,"mr-2"],[1,"p-4","bg-neutral-gray-0.5","text-body-md-short","text-neutral-gray-6","rounded-b"],[1,"bg-white","shadow-lg","rounded","py-4","px-6","flex-1"],[1,"flex","flex-col","gap-y-4"],[1,"flex","flex-col","gap-y-1"],[1,"text-body-md-short","text-neutral-gray-5"],[1,"text-express-md","text-neutral-gray-6"],[1,"flex","justify-between","items-center","gap-x-2.5"],["cf-button","","size","small","type","secondary",1,"bg-white","whitespace-nowrap",3,"disabled","click"],[1,"text-express-md","text-secondary-5-3"],[1,"bg-yellow-1","rounded-lg","text-yellow-5","py-2","px-4"],[1,"text-express-md","font-medium"],[1,"list-disc","pl-4"],[1,"text-espressive-md"],[1,"mt-6"],["mobileConfirmShare",""],["viewBox","0 0 200 200","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M0 0H75V75H0V0ZM12.5 62.5H62.5V12.5H12.5V62.5ZM50 25H25V50H50V25ZM75 200V125H0V200H75ZM12.5 137.5H62.5V187.5H12.5V137.5ZM50 150H25V175H50V150ZM200 0H125V75H200V0ZM187.5 62.5H137.5V12.5H187.5V62.5ZM175 25H150V50H175V25ZM0 87.5V112.5H37.5V100H62.5V112.5H87.5V137.5H112.5V150H87.5V162.5H100V175H87.5V200H100V175H112.5V200H137.5V175H150V200H162.5V175H150V162.5H175V200H200V175H187.5V162.5H175V150H150V162.5H137.5V150H125V137.5H162.5V112.5H137.5V87.5H100V75H112.5V50H100V37.5H112.5V12.5H100V0H87.5V50H100V75H87.5V87.5H75V100H62.5V87.5H37.5V100H25V87.5H0ZM87.5 87.5H100V100H112.5V112.5H87.5V87.5ZM112.5 112.5H137.5V125H125V137.5H112.5V112.5ZM125 150H112.5V162.5V175H137.5V162.5H125V150ZM175 125V137.5H187.5V150H200V125H187.5H175ZM150 100V87.5H175H200V112.5H175V100H150Z","fill","#F2F2F2"],["alt","",1,"w-[200px]","h-auto",3,"src"],[1,"text-heading-lg","text-secondary-5-3","md:text-express-xl"],[1,"text-body-md-short"],[1,"text-express-md"],[1,"text-body-md-short","text-primary-1-4"],[1,"pt-5","p-4","flex","flex-col","w-full"],[1,"flex","justify-center","text-body-md"],["cf-button","",1,"w-full","justify-center","mt-6",3,"click"]],template:function(e,i){if(1&e){const c=t.EpF();t.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4),t._UZ(5,"img",5),t.TgZ(6,"div",6),t._uU(7,"Thanh to\xe1n"),t.qZA()(),t.TgZ(8,"div",7)(9,"div",8)(10,"div",9),t._UZ(11,"img",10),t.TgZ(12,"div",11),t._uU(13,"ACB"),t.qZA()()()(),t.TgZ(14,"div",12)(15,"div",13)(16,"div",14)(17,"div",15),t.YNc(18,wn,2,0,"svg",16),t.YNc(19,In,1,1,"img",17),t.qZA(),t.TgZ(20,"div",18),t.YNc(21,Sn,3,3,"div",19),t.YNc(22,Fn,6,3,"div",20),t.YNc(23,Nn,2,0,"div",21),t.YNc(24,qn,2,1,"div",21),t.qZA()(),t.TgZ(25,"div",22)(26,"button",23),t.NdJ("click",function(){t.CHM(c);const r=t.MAs(87);return t.KtG(i.exportJPEG(r))}),t._UZ(27,"cf-icon",24),t.TgZ(28,"span"),t._uU(29,"T\u1ea3i m\xe3 QR"),t.qZA()()(),t.TgZ(30,"div",25)(31,"p"),t._uU(32,"1. M\u1edf \u1ee9ng d\u1ee5ng ng\xe2n h\xe0ng tr\xean \u0111i\u1ec7n tho\u1ea1i"),t.qZA(),t.TgZ(33,"p"),t._uU(34,"2. Tr\xean \u1ee9ng d\u1ee5ng ch\u1ecdn t\xednh n\u0103ng "),t.TgZ(35,"strong"),t._uU(36,"Qu\xe9t m\xe3 QR"),t.qZA()(),t.TgZ(37,"p"),t._uU(38,"3. Qu\xe9t m\xe3 QR t\u1eeb trang n\xe0y v\xe0 thanh to\xe1n"),t.qZA()()(),t.TgZ(39,"div",26)(40,"div",27)(41,"div",28)(42,"div",29),t._uU(43,"Ch\u1ee7 t\xe0i kho\u1ea3n"),t.qZA(),t.TgZ(44,"div",30),t._uU(45),t.qZA()(),t.TgZ(46,"div",31)(47,"div",28)(48,"div",29),t._uU(49,"S\u1ed1 t\xe0i kho\u1ea3n"),t.qZA(),t.TgZ(50,"div",30),t._uU(51),t.qZA()(),t.TgZ(52,"div")(53,"button",32),t.NdJ("click",function(){return i.onCopy(i.depositData.bankNumber)}),t._uU(54," Sao ch\xe9p "),t.qZA()()(),t.TgZ(55,"div",31)(56,"div",28)(57,"div",29),t._uU(58,"S\u1ed1 ti\u1ec1n"),t.qZA(),t.TgZ(59,"div",33),t._uU(60),t.ALo(61,"number"),t.qZA()(),t.TgZ(62,"div")(63,"button",32),t.NdJ("click",function(){return i.onCopy(i.depositData.amount)}),t._uU(64," Sao ch\xe9p "),t.qZA()()(),t.TgZ(65,"div",31)(66,"div",28)(67,"div",29),t._uU(68,"N\u1ed9i dung"),t.qZA(),t.TgZ(69,"div",30),t._uU(70),t.qZA()(),t.TgZ(71,"div")(72,"button",32),t.NdJ("click",function(){return i.onCopy(i.depositData.content)}),t._uU(73," Sao ch\xe9p "),t.qZA()()(),t.TgZ(74,"div",34)(75,"span",35),t._uU(76,"L\u01b0u \xfd: "),t.qZA(),t.TgZ(77,"ul",36)(78,"li",37),t._uU(79,"B\u1ea1n s\u1ebd kh\xf4ng t\u1ea1o \u0111\u01b0\u1ee3c h\u1ee3p \u0111\u1ed3ng n\u1ebfu thi\u1ebfu ho\u1eb7c sai n\u1ed9i dung chuy\u1ec3n kho\u1ea3n."),t.qZA(),t.TgZ(80,"li",37),t._uU(81,"Thanh to\xe1n kh\xf4ng \u0111\u1ee7 ti\u1ec1n, \u0111\u01a1n h\xe0ng s\u1ebd r\u01a1i v\xe0o tr\u1ea1ng th\xe1i \u0111ang x\u1eed l\xfd -> h\u1ed7 tr\u1ee3 sau 24 ti\u1ebfng"),t.qZA()()()(),t.TgZ(82,"div",38)(83,"button",23),t.NdJ("click",function(){return i.onConfirmTopup()}),t.TgZ(84,"span"),t._uU(85,"T\xf4i \u0111\xe3 chuy\u1ec3n kho\u1ea3n"),t.qZA()()()()()()()(),t.YNc(86,On,5,0,"ng-template",null,39,t.W1O)}2&e&&(t.xp6(11),t.Q6J("src","assets/bank-logo/ACB.svg",t.LSH)("alt","ACB"),t.xp6(7),t.Q6J("ngIf",!i.qrcodeSrc),t.xp6(1),t.Q6J("ngIf",i.qrcodeSrc),t.xp6(2),t.Q6J("ngIf",i.qrcodeSrc),t.xp6(1),t.Q6J("ngIf",i.qrcodeSrc&&!i.isExpired),t.xp6(1),t.Q6J("ngIf",i.isExpired),t.xp6(1),t.Q6J("ngIf",i.objectError.error),t.xp6(2),t.Q6J("disabled",!i.qrcodeSrc),t.xp6(19),t.Oqu((null==i.depositData?null:i.depositData.bankAccountName)||"--"),t.xp6(6),t.Oqu((null==i.depositData?null:i.depositData.bankNumber)||"--"),t.xp6(2),t.Q6J("disabled",!(null!=i.depositData&&i.depositData.bankNumber)),t.xp6(7),t.hij(" ",null!=i.depositData&&i.depositData.amount?t.lcZ(61,17,i.depositData.amount)+" \u0111":"--"," "),t.xp6(3),t.Q6J("disabled",!(null!=i.depositData&&i.depositData.amount)),t.xp6(7),t.Oqu((null==i.depositData?null:i.depositData.content)||"--"),t.xp6(2),t.Q6J("disabled",!(null!=i.depositData&&i.depositData.content)),t.xp6(11),t.Q6J("disabled",!(null!=i.depositData&&i.depositData.id)))},dependencies:[_.ez,_.O5,_.JJ,I.N8,I.Xq,Zn.Q,p.AxE,p.Sm8,S.DW],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();var ct=f(37340),D=f(24006);const Ht=[{name:"00:00 - 06:00",actived:!1,describe:"S\xe1ng s\u1edbm",start:"00:00",end:"05:59",disabled:!1,startTime:0,endTime:360},{name:"06:00 - 12:00",actived:!1,describe:"Bu\u1ed5i s\xe1ng",start:"06:00",end:"11:59",disabled:!1,startTime:360,endTime:720},{name:"12:00 - 18:00",actived:!1,describe:"Bu\u1ed5i chi\u1ec1u",start:"12:00",end:"17:59",disabled:!1,startTime:720,endTime:1080},{name:"18:00 - 00:00",actived:!1,describe:"Bu\u1ed5i t\u1ed1i",start:"18:00",end:"23:59",disabled:!1,startTime:1080,endTime:1440}],Un={showDiscountFare:!0,showNetPrice:!1,hideFareClass:!1,showDuration:!0},Ln={showDiscountFare:!0,showTotalPrice:!1},Vt={direct:!1,oneRoute:!1,moreRoute:!1},Rn=[{name:"Nam",code:"male"},{name:"N\u1eef",code:"female"}],Gt=[{name:"LCC",code:"lcc",actived:!1},{name:"NDC",code:"ndc",actived:!1},{name:"Private Fare",code:"privateFare",actived:!1}],Qn=[{code:"inland",name:"C\xe1c h\xe3ng n\u1ed9i \u0111\u1ecba",actived:!1},{code:"BSP",name:"H\u1ec7 th\u1ed1ng 1A",actived:!1},{code:"AIR_1G",name:"H\u1ec7 th\u1ed1ng 1G",actived:!1},{code:"Lcc",name:"H\u1ec7 th\u1ed1ng LCC",actived:!1}],zt={min_price:"Gi\xe1 (th\u1ea5p nh\u1ea5t)",max_price:"Gi\xe1 (cao nh\u1ea5t)",min_flight:"Bay (ng\u1eafn nh\u1ea5t)",max_flight:"Bay (d\xe0i nh\u1ea5t)",earliest_departure:"Kh\u1edfi h\xe0nh (s\u1edbm nh\u1ea5t)",late_departure:"Kh\u1edfi h\xe0nh (mu\u1ed9n nh\u1ea5t)",earliest_arrival:"H\u1ea1 c\xe1nh (s\u1edbm nh\u1ea5t)",late_arrival:"H\u1ea1 c\xe1nh (mu\u1ed9n nh\u1ea5t)"};var B=f(43429),Pn=f(31061);function dt(n,o={}){return function(e,i){Pn.m.addTransformMetadata({target:e.constructor,propertyName:i,transformFn:n,options:o})}}var vt=(()=>{return(n=vt||(vt={}))[n.LIST=0]="LIST",n[n.PASSENGER=1]="PASSENGER",n[n.BOOKING=2]="BOOKING",vt;var n})();let Mn=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"status",void 0),(0,l.gn)([(0,B.D)(()=>jn),(0,s.C)()],n.prototype,"data",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"objectError",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"errorCode",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"success",void 0),n})(),jn=(()=>{class n{}return(0,l.gn)([(0,s.C)(),(0,B.D)(()=>Yn),dt(({value:o,obj:e})=>(null==o||o.forEach(i=>{var c;i.comboInfo&&(i.comboInfo.discountPercentageDetail=e.discountPercentageDetail),null===(c=i.journeys)||void 0===c||c.forEach(a=>{a.discountPercentageDetail=e.discountPercentageDetail,a.fareRuleClassesObj=e.fareRuleClasses.reduce((r,u)=>Object.assign(Object.assign({},r),{[`${u.airline}-${u.fareClass}`]:u.rules}),{}),a.fareRulesObj=e.fareRules.reduce((r,u)=>Object.assign(Object.assign({},r),{[`${u.airline}-${u.fareClass}`]:u.rules}),{})})}),o))],n.prototype,"flightOptions",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"itinerary",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"session",void 0),(0,l.gn)([(0,B.D)(()=>Vn),(0,s.C)()],n.prototype,"fareRules",void 0),(0,l.gn)([(0,B.D)(()=>zn),(0,s.C)()],n.prototype,"fareRuleClasses",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"discountPercentageDetail",void 0),n})(),Yn=(()=>{class n{}return(0,l.gn)([(0,s.C)(),(0,B.D)(()=>Ut),dt(({value:o,obj:e})=>o?(o.provider=e.provider,o.flightType=e.flightType,o):null)],n.prototype,"comboInfo",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"flightType",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"provider",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"type",void 0),(0,l.gn)([(0,s.C)(),(0,B.D)(()=>at),dt(({value:o,obj:e})=>o?(null==o||o.forEach(i=>{i.provider=e.provider,i.flightType=e.flightType}),o):null)],n.prototype,"journeys",void 0),n})(),Hn=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"en",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"vn",void 0),n})(),Vn=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"airline",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"fareClass",void 0),(0,l.gn)([(0,B.D)(()=>Gn),(0,s.C)()],n.prototype,"rules",void 0),n})(),Gn=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"cateCode",void 0),(0,l.gn)([(0,B.D)(()=>Hn),(0,s.C)()],n.prototype,"desc",void 0),(0,l.gn)([(0,B.D)(()=>$t),(0,s.C)()],n.prototype,"items",void 0),n})(),$t=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"name",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"value",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"cate",void 0),n})(),zn=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"airline",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"fareClass",void 0),(0,l.gn)([(0,B.D)(()=>$t),(0,s.C)()],n.prototype,"rules",void 0),n})(),$n=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"type",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"code",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"quantity",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"baseFare",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"surCharge",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"totalFare",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"discountAmount",void 0),n})(),at=(()=>{class n{constructor(){this.idxSelected=null}get ndcTimeLimit(){var e;return(null===(e=this.fareOptions[0])||void 0===e?void 0:e.ndcTimeLimit)||0}get IDF(){var e,i,c,a,r;return["VN","BL"].includes(this.airline)?this.airline+"-"+(null===(i=null===(e=this.fareOptions[0])||void 0===e?void 0:e.fareInfos[0])||void 0===i?void 0:i.fareClass.toUpperCase()):this.airline+"-"+(null===(r=null===(a=null===(c=this.fareOptions[0])||void 0===c?void 0:c.fareInfos[0])||void 0===a?void 0:a.fareType.code)||void 0===r?void 0:r.toUpperCase())}get durationStr(){return yt(this.duration)}get startPoint(){return this.departure.airport.code}get endPoint(){return this.arrival.airport.code}get flightNumber(){return`${this.airline} ${this.segments[0].flightNumber}`}get refundableFare(){var e;return!(null===(e=this.fareOptions.find(i=>i.refundableFare))||void 0===e||!e.refundableFare)||!1}get food(){return!1}get totalPrice(){var e;return Ct((null===(e=this.fareCur)||void 0===e?void 0:e.fareAmountBreakdowns)||[])}get netPrice(){var e;const i=null===(e=this.fareCur)||void 0===e?void 0:e.fareAmountBreakdowns.find(r=>"ADULT"===r.type);let c=0;return c+=((null==i?void 0:i.charges.filter(r=>"FARE"===r.chargeType.code))||[]).reduce((r,u)=>r+u.charge.base,0),c}get discountData(){var e;const i=null===(e=this.fareCur)||void 0===e?void 0:e.key;return i&&this.discountPercentageDetail?this.discountPercentageDetail[i]:null}get chosenFares(){return this.fareOptions.every(e=>0===e.seatRemain)?this.fareOptions:Kn(this.fareOptions)}get fareCur(){return this.chosenFares.every(e=>0===e.seatRemain)?this.chosenFares[0]:Wn(this.chosenFares,this.idxSelected)}get bookedInfo(){var e;return(null===(e=this.segments.find(i=>i.bookedInfo))||void 0===e?void 0:e.bookedInfo)||null}get returnDateTooltip(){return"H\u1ea1 c\xe1nh ng\xe0y "+(0,_.p6)(new Date(this.arrival.localTime),"dd/MM/yyyy","vi-VN")}get isNdcFare(){var e;return(null===(e=this.fareCur)||void 0===e?void 0:e.ndcFare)||!1}get isLccFare(){var e;return(null===(e=this.fareCur)||void 0===e?void 0:e.lccFare)||!1}get privateFare(){var e;return(null===(e=this.fareCur)||void 0===e?void 0:e.privateFare)||!1}get is1A(){return"BSP"===this.provider}get is1G(){return"AIR_1G"===this.provider}get isGDS(){return"GDS"===this.provider}get logoAirline(){return"assets/airline-logo/"+this.operating+".png"}}return(0,l.gn)([(0,s.C)()],n.prototype,"airline",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"cancel",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"airlineName",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"duration",void 0),(0,l.gn)([(0,B.D)(()=>ti),(0,s.C)()],n.prototype,"fareOptions",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"key",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"leg",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"numOfStops",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"operating",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"operatingName",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"fareRuleClassesObj",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"fareRulesObj",void 0),(0,l.gn)([(0,s.C)(),(0,B.D)(()=>si),dt(({value:o,obj:e})=>{if("VN"===e.airline&&Array.isArray(o)){for(let i=0;i<o.length-1;i++)o[i+1].delaySt=yt(o[i].delay),o[i].delaySt="";return o}return o.forEach(i=>{i.delaySt=i.delay?yt(i.delay):""}),o})],n.prototype,"segments",void 0),(0,l.gn)([(0,B.D)(()=>Bt),(0,s.C)()],n.prototype,"departure",void 0),(0,l.gn)([(0,B.D)(()=>Bt),(0,s.C)()],n.prototype,"arrival",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"dataChange",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"typeChange",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"expireTime",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"stopOvernight",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"fareClass",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"status",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"numberStop",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"fareRulesData",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"fareRuleClassesData",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"provider",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"flightType",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"discountPercentageDetail",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"idxSelected",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"ndcTimeLimit",null),(0,l.gn)([(0,s.C)()],n.prototype,"IDF",null),(0,l.gn)([(0,s.C)()],n.prototype,"durationStr",null),(0,l.gn)([(0,s.C)()],n.prototype,"startPoint",null),(0,l.gn)([(0,s.C)()],n.prototype,"endPoint",null),(0,l.gn)([(0,s.C)()],n.prototype,"flightNumber",null),(0,l.gn)([(0,s.C)()],n.prototype,"refundableFare",null),(0,l.gn)([(0,s.C)()],n.prototype,"food",null),(0,l.gn)([(0,s.C)()],n.prototype,"totalPrice",null),(0,l.gn)([(0,s.C)()],n.prototype,"netPrice",null),(0,l.gn)([(0,s.C)()],n.prototype,"discountData",null),(0,l.gn)([(0,s.C)()],n.prototype,"chosenFares",null),(0,l.gn)([(0,s.C)()],n.prototype,"fareCur",null),(0,l.gn)([(0,s.C)()],n.prototype,"bookedInfo",null),(0,l.gn)([(0,s.C)()],n.prototype,"returnDateTooltip",null),(0,l.gn)([(0,s.C)()],n.prototype,"isNdcFare",null),(0,l.gn)([(0,s.C)()],n.prototype,"isLccFare",null),(0,l.gn)([(0,s.C)()],n.prototype,"privateFare",null),(0,l.gn)([(0,s.C)()],n.prototype,"is1A",null),(0,l.gn)([(0,s.C)()],n.prototype,"is1G",null),(0,l.gn)([(0,s.C)()],n.prototype,"isGDS",null),(0,l.gn)([(0,s.C)()],n.prototype,"logoAirline",null),n})();const Kn=n=>{const o=n.filter(e=>e.seatRemain>0).reduce((e,i)=>Object.assign(Object.assign({},e),{[i.cabinName.toUpperCase()]:e[i.cabinName.toUpperCase()]?[...e[i.cabinName.toUpperCase()],i]:[i]}),{});return Object.values(o).map(e=>e.reduce((i,c)=>Ct(c.fareAmountBreakdowns)<Ct(i.fareAmountBreakdowns)?c:i))},Wn=(n,o)=>o?n[o]:n.reduce((e,i)=>{var c;return null!==(c=i.fareInfos[0])&&void 0!==c&&c.seatRemain&&(!e||Ct(i.fareAmountBreakdowns)<Ct(e.fareAmountBreakdowns))?i:e},null),Ct=n=>{var o;return(null===(o=n.find(e=>"ADULT"===e.type))||void 0===o?void 0:o.charges.reduce((e,i)=>e+i.charge.total,0))||0},yt=n=>{if(n<60)return`${n}p`;const o=Math.floor(n/60);return`${o}h ${n-60*o}p`};let ti=(()=>{class n{get seatRemain(){var e;return(null===(e=this.fareInfos[0])||void 0===e?void 0:e.seatRemain)||0}get cabinName(){var e,i;return(null===(i=null===(e=this.fareInfos[0])||void 0===e?void 0:e.cabin)||void 0===i?void 0:i.name)||""}get fareClass(){var e;return(null===(e=this.fareInfos[0])||void 0===e?void 0:e.fareClass)||""}get cabinCode(){var e,i;return(null===(i=null===(e=this.fareInfos[0])||void 0===e?void 0:e.cabin)||void 0===i?void 0:i.code)||""}get fareCode(){var e;return(null===(e=this.fareInfos[0])||void 0===e?void 0:e.fareType.code)||""}get fareName(){var e;return(null===(e=this.fareInfos[0])||void 0===e?void 0:e.fareType.description)||""}get getTotalAmount(){var e;let i=0;const c=null===(e=this.fareAmountBreakdowns)||void 0===e?void 0:e.find(a=>"ADULT"===a.type);return i+=c?c.getTotalCharge:0,i}}return(0,l.gn)([(0,s.C)()],n.prototype,"key",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"comboRefs",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"journeyFareClass",void 0),(0,l.gn)([(0,B.D)(()=>ni),(0,s.C)()],n.prototype,"fareAmountBreakdowns",void 0),(0,l.gn)([(0,B.D)(()=>ei),(0,s.C)()],n.prototype,"fareInfos",void 0),(0,l.gn)([(0,B.D)(()=>Kt),(0,s.C)()],n.prototype,"currency",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"rules",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"privateFare",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"lccFare",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"ndcFare",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"refundableFare",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"ndcTimeLimit",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"seatRemain",null),(0,l.gn)([(0,s.C)()],n.prototype,"cabinName",null),(0,l.gn)([(0,s.C)()],n.prototype,"fareClass",null),(0,l.gn)([(0,s.C)()],n.prototype,"cabinCode",null),(0,l.gn)([(0,s.C)()],n.prototype,"fareCode",null),(0,l.gn)([(0,s.C)()],n.prototype,"fareName",null),(0,l.gn)([(0,s.C)()],n.prototype,"getTotalAmount",null),n})(),ei=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"fareClass",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"seatRemain",void 0),(0,l.gn)([(0,B.D)(()=>li),(0,s.C)()],n.prototype,"cabin",void 0),(0,l.gn)([(0,B.D)(()=>ri),(0,s.C)()],n.prototype,"fareType",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"checkedBags",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"carryOnBags",void 0),n})(),ni=(()=>{class n{get getTotalCharge(){return this.charges.map(e=>e.charge.total).reduce((e,i)=>e+i)}}return(0,l.gn)([(0,s.C)()],n.prototype,"type",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"changeType",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"dataChange",void 0),(0,l.gn)([(0,B.D)(()=>ii),(0,s.C)()],n.prototype,"charges",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"totalFare",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"change",void 0),n})(),ii=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"key",void 0),(0,l.gn)([(0,B.D)(()=>ci),(0,s.C)()],n.prototype,"chargeType",void 0),(0,l.gn)([(0,B.D)(()=>oi),(0,s.C)()],n.prototype,"charge",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"description",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"extra",void 0),n})(),oi=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"base",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"tax",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"applied",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"surCharge",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"total",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"discount",void 0),(0,l.gn)([(0,B.D)(()=>Kt),(0,s.C)()],n.prototype,"currency",void 0),n})(),Kt=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"baseCurrency",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"code",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"description",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"exchangeRate",void 0),n})(),ci=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"code",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"type",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"category",void 0),(0,l.gn)([(0,B.D)(()=>ai),(0,s.C)()],n.prototype,"description",void 0),n})(),ai=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"en",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"vi",void 0),n})(),ri=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"code",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"description",void 0),n})(),li=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"code",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"description",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"name",void 0),n})(),si=(()=>{class n{get durationStr(){return yt(this.duration)}get durationStrMobile(){return(n=>{if(n<60)return`${n} ph\xfat`;const o=Math.floor(n/60);return`${o} gi\u1edd ${n-60*o} ph\xfat`})(this.duration)}get startTime(){return this.departure.localTime}get endTime(){return this.arrival.localTime}get startPoint(){return this.departure.airport.code}get endPoint(){return this.arrival.airport.code}get logoAirline(){return"assets/airline-logo/"+this.operating+".png"}}return(0,l.gn)([(0,s.C)()],n.prototype,"key",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"cancel",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"index",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"airline",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"airlineName",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"duration",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"delay",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"delaySt",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"flightNumber",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"operating",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"operatingName",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"stopPoint",void 0),(0,l.gn)([(0,B.D)(()=>Bt),(0,s.C)()],n.prototype,"departure",void 0),(0,l.gn)([(0,B.D)(()=>Bt),(0,s.C)()],n.prototype,"arrival",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"bookingClassArr",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"bookedInfo",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"fareType",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"modelAirplane",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"modelAirplaneName",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"codeAirline",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"durationStr",null),(0,l.gn)([(0,s.C)()],n.prototype,"durationStrMobile",null),(0,l.gn)([(0,s.C)()],n.prototype,"startTime",null),(0,l.gn)([(0,s.C)()],n.prototype,"endTime",null),(0,l.gn)([(0,s.C)()],n.prototype,"startPoint",null),(0,l.gn)([(0,s.C)()],n.prototype,"endPoint",null),(0,l.gn)([(0,s.C)()],n.prototype,"logoAirline",null),n})(),Bt=(()=>{class n{}return(0,l.gn)([(0,B.D)(()=>ui),(0,s.C)()],n.prototype,"airport",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"scheduleTime",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"dataChange",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"typeChange",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"localTime",void 0),n})(),ui=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"code",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"name",void 0),(0,l.gn)([(0,B.D)(()=>pi),(0,s.C)()],n.prototype,"utcOffset",void 0),n})(),pi=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"iso",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"zone",void 0),n})(),Wt=(()=>{class n{}return(0,l.gn)([(0,B.D)(()=>di),(0,s.C)()],n.prototype,"ticketSelected",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"totalPrice",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"idxTicketSelected",void 0),n})(),di=(()=>{class n{}return(0,l.gn)([(0,B.D)(()=>$n),(0,s.C)()],n.prototype,"ticketPriceList",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"ticketData",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"priceTotalByPassenger",void 0),n})(),Ut=(()=>{class n{get totalPrice(){return this.departJourneys[0].totalPrice+this.arriveJourneys[0].totalPrice}get durationStr(){return yt(this.departJourneys[0].duration)}}return(0,l.gn)([(0,s.C)(),(0,B.D)(()=>at),dt(({value:o,obj:e})=>o?(o.forEach(i=>{i.discountPercentageDetail=e.discountPercentageDetail,i.provider=e.provider,i.flightType=e.flightType}),o):null)],n.prototype,"departJourneys",void 0),(0,l.gn)([(0,s.C)(),(0,B.D)(()=>at),dt(({value:o,obj:e})=>o?(o.forEach(i=>{i.discountPercentageDetail=e.discountPercentageDetail,i.provider=e.provider,i.flightType=e.flightType}),o):null)],n.prototype,"arriveJourneys",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"lowestComboOption",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"score",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"cheapest",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"bestChoice",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"fastest",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"flightType",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"provider",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"discountPercentageDetail",void 0),n})();function _i(n,o){1&n&&(t.TgZ(0,"div",30),t._uU(1,"Bay th\u1eb3ng"),t.qZA())}function gi(n,o){if(1&n&&(t.TgZ(0,"div",30),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngIf;t.xp6(1),t.hij(" ",e.numOfStops," \u0111i\u1ec3m d\u1eebng")}}function mi(n,o){if(1&n&&(t.TgZ(0,"div",23)(1,"div",24)(2,"div",25),t._uU(3),t.qZA()(),t.TgZ(4,"div",26),t._UZ(5,"img",27),t.qZA(),t.TgZ(6,"div",28)(7,"div",29),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"div",30),t._uU(11),t.ALo(12,"date"),t.qZA()(),t.TgZ(13,"div",28)(14,"div",29),t._uU(15),t.ALo(16,"date"),t.ALo(17,"date"),t.qZA(),t.TgZ(18,"div",30),t._uU(19),t.qZA()(),t.TgZ(20,"div",28)(21,"div",29),t._uU(22),t.qZA(),t.TgZ(23,"div",31),t._uU(24),t.qZA()(),t.TgZ(25,"div",28)(26,"div",29),t._uU(27),t.qZA(),t.YNc(28,_i,2,0,"div",32),t.YNc(29,gi,2,1,"div",32),t.qZA()()),2&n){const e=o.ngIf,i=t.oxw().index;t.xp6(3),t.hij(" ",i+1," "),t.xp6(2),t.Q6J("src",e.logoAirline,t.LSH),t.xp6(3),t.hij(" ",t.xi3(9,13,e.departure.localTime,"dd/MM/yyyy"),""),t.xp6(3),t.hij(" ",t.xi3(12,16,e.departure.localTime,"EEEE"),""),t.xp6(4),t.AsE(" ",t.xi3(16,19,e.departure.localTime,"HH:mm")," - ",t.xi3(17,22,e.arrival.localTime,"HH:mm"),""),t.xp6(4),t.hij(" ",e.airlineName,""),t.xp6(3),t.hij("",e.durationStr," "),t.xp6(2),t.AsE(" ",e.departure.airport.code," - ",e.arrival.airport.code,""),t.xp6(3),t.hij(" ",e.segments[0].modelAirplaneName,""),t.xp6(1),t.Q6J("ngIf",0===e.numOfStops),t.xp6(1),t.Q6J("ngIf",e.numOfStops>0)}}function fi(n,o){if(1&n&&(t.TgZ(0,"div",21),t.YNc(1,mi,30,25,"div",22),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.ticketData)}}function hi(n,o){1&n&&(t.TgZ(0,"div",42),t._uU(1,"Bay th\u1eb3ng"),t.qZA())}function xi(n,o){if(1&n&&(t.TgZ(0,"div",42),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngIf;t.xp6(1),t.hij(" ",e.numOfStops," \u0111i\u1ec3m d\u1eebng")}}function vi(n,o){if(1&n&&(t.TgZ(0,"div",34)(1,"div",35),t._UZ(2,"img",36),t.TgZ(3,"div",37)(4,"div",2),t._uU(5),t.qZA(),t.TgZ(6,"div",38),t._uU(7),t.qZA()(),t.TgZ(8,"div",38),t._uU(9),t.ALo(10,"date"),t.qZA()(),t.TgZ(11,"div",39)(12,"div",40)(13,"div",41),t._uU(14),t.ALo(15,"date"),t.qZA(),t.TgZ(16,"div",42),t._uU(17),t.qZA()(),t.TgZ(18,"div",43)(19,"div",42),t._uU(20),t.qZA(),t.TgZ(21,"div",44),t._UZ(22,"div",45)(23,"div",46),t.qZA(),t.YNc(24,hi,2,0,"div",47),t.YNc(25,xi,2,1,"div",47),t.qZA(),t._UZ(26,"cf-icon",48),t.TgZ(27,"div",40)(28,"div",41),t._uU(29),t.ALo(30,"date"),t.qZA(),t.TgZ(31,"div",42),t._uU(32),t.qZA()()()()),2&n){const e=o.ngIf;t.xp6(2),t.Q6J("src",e.logoAirline,t.LSH),t.xp6(3),t.hij(" ",e.segments[0].airline+" "+e.segments[0].flightNumber," "),t.xp6(2),t.Oqu(e.airlineName),t.xp6(2),t.hij(" ",t.xi3(10,11,e.departure.localTime,"EEEE, dd/MM/yyyy")," "),t.xp6(5),t.Oqu(t.xi3(15,14,e.departure.localTime,"HH:mm")),t.xp6(3),t.Oqu(e.departure.airport.code),t.xp6(3),t.Oqu(e.duration),t.xp6(4),t.Q6J("ngIf",0===e.numOfStops),t.xp6(1),t.Q6J("ngIf",e.numOfStops>0),t.xp6(4),t.Oqu(t.xi3(30,17,e.arrival.localTime,"HH:mm")),t.xp6(3),t.Oqu(e.arrival.airport.code)}}function Ci(n,o){if(1&n&&(t.ynx(0),t.YNc(1,vi,33,20,"div",33),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.ticketData)}}function yi(n,o){if(1&n&&(t.TgZ(0,"div",49)(1,"div",50),t._uU(2,"T\u1ed5ng chi ph\xed:"),t.qZA(),t.TgZ(3,"div",51),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.hij("",t.Dn7(5,1,t.lcZ(6,5,e.ticketCur.totalPrice),",",".")," \u0111")}}let Xt=(()=>{class n{constructor(e,i,c,a,r,u){this.ref=e,this.cfIconRegister=i,this._cdr=c,this._helperResultSvc=a,this.data=r,this.bottomSheetRef=u,this.amountDiscount=0,i.registerIcons([p.UNF,p.Xlt]),e&&(this.ticketCur=e.data.ticketCur,this.dataSearch=e.data.dataSearch),r&&(this.ticketCur=r.ticketCur,this.dataSearch=r.dataSearch),console.log(this.ticketCur);const g=this.ticketCur.ticketSelected.filter(m=>m.ticketData).map(m=>m.ticketData);this.amountDiscount=this._helperResultSvc.progressPriceList(this.dataSearch,g).filter(m=>m.discountAmount).reduce((m,h)=>m+h.discountAmount*h.quantity,0)}close(){this.ref&&this.ref.close(!1),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!1)}ok(){this.ref&&this.ref.close(!0),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(tt.gb,8),t.Y36(p.KNP),t.Y36(t.sBO),t.Y36(ot),t.Y36(S.Rr,8),t.Y36(S.Zu,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-confirm-modal"]],standalone:!0,features:[t.jDz],decls:31,vars:10,consts:[[1,"w-[800px]","flex","flex-col","rounded-lg","bg-neutral-white","md:hidden"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"flex","flex-col","py-6","px-4"],["class","border border-neutral-gray-2 rounded p-4 mb-2 mx-2",4,"ngFor","ngForOf"],[1,"flex","mt-4","justify-between","items-center","mr-2"],[1,"flex","text-espressive-sm","text-secondary-3-4"],[1,"flex","justify-between","items-center"],[1,"text-espressive-sm","text-neutral-black","mr-4"],[1,"text-heading-md","text-neutral-black"],[1,"flex","justify-end","items-center","mt-8","mx-2"],[1,"flex","gap-x-4"],["cf-button","","size","medium","type","secondary",3,"click"],["cf-button","","size","medium","type","solid","color","primary-1",3,"click"],[1,"hidden","md:flex","w-screen","flex-col","gap-y-4","p-4"],[4,"ngFor","ngForOf"],[1,"hidden","fixed","bottom-0","left-0","w-screen","bg-white","shadow-cf-large-top","p-3","md:flex","items-center","justify-between","z-100"],[1,"flex","flex-col"],["class","flex items-center gap-x-1",4,"ngIf"],["cf-button","",1,"w-24","justify-center",3,"click"],[1,"border","border-neutral-gray-2","rounded","p-4","mb-2","mx-2"],["class","flex gap-y-2",4,"ngIf"],[1,"flex","gap-y-2"],[1,"flex","items-center","mr-4"],[1,"flex","justify-center","items-center","w-[22px]","h-[22px]","rounded-full","bg-neutral-gray-1","text-neutral-gray-4","text-heading-sm"],[1,"w-[80px]","flex-shrink-0","border-l","border-neutral-gray-1","px-4"],[1,"w-[80px]","h-[40px]","object-contain",3,"src"],[1,"flex","flex-col","items-center","border-l","border-neutral-gray-1","px-4"],[1,"text-heading-sm","text-neutral-black","whitespace-nowrap"],[1,"text-espressive-sm","text-neutral-gray-4","whitespace-nowrap"],[1,"text-express-sm","text-secondary-3-4","whitespace-nowrap"],["class","text-espressive-sm text-neutral-gray-4 whitespace-nowrap",4,"ngIf"],["class","flex flex-col gap-y-4 p-4 border border-neutral-gray-2 rounded",4,"ngIf"],[1,"flex","flex-col","gap-y-4","p-4","border","border-neutral-gray-2","rounded"],[1,"flex","justify-between","items-center","gap-x-4"],[1,"w-10","h-10","object-contain",3,"src"],[1,"flex","flex-col","items-start","grow"],[1,"text-body-sm","text-neutral-gray-4"],[1,"flex","justify-between","items-center","pr-2.5"],[1,"flex","flex-col","items-center","gap-y-1"],[1,"text-heading-sm","text-neutral-black"],[1,"text-espressive-sm","text-neutral-gray-4"],[1,"flex","flex-col","items-center","grow"],[1,"flex","items-center","w-full","py-1","px-2.5"],[1,"w-1.5","h-1.5","bg-neutral-gray-2","rounded-full"],[1,"w-full","h-[1px]","bg-neutral-gray-2"],["class","text-espressive-sm text-neutral-gray-4",4,"ngIf"],["icon","plane","size","small",1,"text-[#ccc]","mr-2"],[1,"flex","items-center","gap-x-1"],[1,"text-express-xs","text-neutral-gray-4","mt-1"],[1,"text-heading-sm","text-neutral-gray-6"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"X\xe1c nh\u1eadn chuy\u1ebfn bay \u0111\xe3 ch\u1ecdn"),t.qZA(),t.TgZ(4,"cf-icon",3),t.NdJ("click",function(){return i.close()}),t.qZA()(),t.TgZ(5,"div",4),t.YNc(6,fi,2,1,"div",5),t.TgZ(7,"div",6),t._UZ(8,"div",7),t.TgZ(9,"div")(10,"div",8)(11,"div",9),t._uU(12,"T\u1ed5ng chi ph\xed:"),t.qZA(),t.TgZ(13,"div",10),t._uU(14),t.ALo(15,"replace"),t.ALo(16,"number"),t.qZA()()()(),t.TgZ(17,"div",11)(18,"div",12)(19,"button",13),t.NdJ("click",function(){return i.close()}),t._uU(20," H\u1ee7y b\u1ecf "),t.qZA(),t.TgZ(21,"button",14),t.NdJ("click",function(){return i.ok()}),t._uU(22," \u0110\u1eb7t v\xe9 "),t.qZA()()()()(),t.TgZ(23,"div",15),t.YNc(24,Ci,2,1,"ng-container",16),t.qZA(),t.TgZ(25,"div",17)(26,"div",18),t.YNc(27,yi,7,7,"div",19),t.qZA(),t.TgZ(28,"div")(29,"button",20),t.NdJ("click",function(){return i.ok()}),t._uU(30,"\u0110\u1eb7t v\xe9"),t.qZA()()()),2&e&&(t.xp6(6),t.Q6J("ngForOf",i.ticketCur.ticketSelected),t.xp6(8),t.hij(" ",t.Dn7(15,4,t.lcZ(16,8,i.ticketCur.totalPrice-i.amountDiscount),",",".")," \u0111 "),t.xp6(10),t.Q6J("ngForOf",i.ticketCur.ticketSelected),t.xp6(3),t.Q6J("ngIf",i.ticketCur.totalPrice>0))},dependencies:[_.ez,_.sg,_.O5,_.JJ,_.uU,p.AxE,p.Sm8,I.N8,I.Xq,Y.AS,S.DW],styles:["[_nghost-%COMP%]{display:block}"]}),n})(),Ti=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-skeleton"]],standalone:!0,features:[t.jDz],decls:10,vars:0,consts:[[1,"w-full","h-[138px]","bg-neutral-white","rounded-xl"],[1,"flex","justify-between","items-center","gap-x-4","h-full","animate-pulse","p-4"],[1,"w-full","flex","flex-row","items-center","h-full","justify-start","gap-x-3"],[1,"w-12","bg-neutral-gray-2","h-12","rounded-full"],[1,"flex","flex-col","space-y-3"],[1,"w-48","bg-neutral-gray-2","h-6","rounded-md","md:max-w-[192px]","md:w-24"],[1,"w-36","bg-neutral-gray-2","h-6","rounded-md","md:max-w-[144px]","md:w-18"],[1,"w-[150px]","flex","flex-col","space-y-3","md:px-3","md:hidden"],[1,"w-32","bg-neutral-gray-2","h-6","rounded-md","md:max-w-[128px]","md:w-full"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"div",4),t._UZ(5,"div",5)(6,"div",6),t.qZA()(),t.TgZ(7,"div",7),t._UZ(8,"div",8)(9,"div",8),t.qZA()()())},dependencies:[_.ez],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();var bi=f(27898);function ki(n,o){1&n&&t.GkF(0)}function Zi(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"cf-checkbox",12),t.NdJ("checkChange",function(c){const r=t.CHM(e).$implicit,u=t.oxw(3);return t.KtG(u.ticketTypeChange(c,r.code))}),t._uU(2),t.qZA()()}if(2&n){const e=o.$implicit;t.xp6(1),t.Q6J("checked",e.actived),t.xp6(1),t.Oqu(e.name)}}function Ai(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",8)(2,"div",18),t._uU(3,"Lo\u1ea1i v\xe9"),t.qZA(),t.YNc(4,Zi,3,2,"div",19),t.qZA(),t._UZ(5,"div",20),t.BQk()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",e.optionsTicketType)}}function Ei(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",23),t.NdJ("checkChange",function(c){t.CHM(e);const a=t.oxw(3);return t.KtG(a.onSelectedOptionChange({showNetPrice:c}))}),t._uU(2,"Hi\u1ec3n th\u1ecb gi\xe1 NET"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("checked",e.viewConfig.showNetPrice)}}function Di(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",23),t.NdJ("checkChange",function(c){t.CHM(e);const a=t.oxw(3);return t.KtG(a.onSelectedOptionChange({hideFareClass:c}))}),t._uU(2,"\u1ea8n h\u1ea1ng gh\u1ebf"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("checked",e.viewConfig.hideFareClass)}}function Bi(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",23),t.NdJ("checkChange",function(c){t.CHM(e);const a=t.oxw(3);return t.KtG(a.onSelectedOptionChange({showDuration:c}))}),t._uU(2,"Hi\u1ec3n th\u1ecb th\u1eddi gian bay"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("checked",e.viewConfig.showDuration)}}function wi(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",23),t.NdJ("checkChange",function(c){t.CHM(e);const a=t.oxw(3);return t.KtG(a.onSelectedOptionChange({showTotalPrice:c}))}),t._uU(2,"Hi\u1ec3n th\u1ecb gi\xe1 t\u1ed5ng"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("checked",e.viewConfig.showTotalPrice)}}function Ii(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",22)(2,"div",18),t._uU(3,"Tu\u1ef3 ch\u1ec9nh hi\u1ec3n th\u1ecb"),t.qZA(),t.TgZ(4,"div",21),t.ynx(5),t.TgZ(6,"cf-checkbox",23),t.NdJ("checkChange",function(c){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onSelectedOptionChange({showDiscountFare:c}))}),t._uU(7,"Hi\u1ec3n th\u1ecb gi\xe1 Chi\u1ebft kh\u1ea5u"),t.qZA(),t.BQk(),t.YNc(8,Ei,3,1,"ng-container",7),t.YNc(9,Di,3,1,"ng-container",7),t.YNc(10,Bi,3,1,"ng-container",7),t.YNc(11,wi,3,1,"ng-container",7),t.qZA()(),t._UZ(12,"div",13),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(6),t.Q6J("checked",e.viewConfig.showDiscountFare),t.xp6(2),t.Q6J("ngIf",null!=e.viewConfig.showNetPrice),t.xp6(1),t.Q6J("ngIf",null!=e.viewConfig.hideFareClass),t.xp6(1),t.Q6J("ngIf",null!=e.viewConfig.showDuration),t.xp6(1),t.Q6J("ngIf",null!=e.viewConfig.showTotalPrice)}}function Si(n,o){1&n&&(t.TgZ(0,"div",28)(1,"div",29),t._uU(2,"H\xe3ng bay"),t.qZA()())}function Fi(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",12),t.NdJ("checkChange",function(c){const r=t.CHM(e).$implicit,u=t.oxw(3);return t.KtG(u.airlineSelectChange(c,r.code))}),t._uU(2),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit;t.xp6(1),t.Q6J("checked",e.actived),t.xp6(1),t.AsE("",e.name,"(",e.code,")")}}function Ni(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(3);return t.KtG(c.limitAirLineOption=(null==c.airlineOptions?null:c.airlineOptions.length)||0)}),t._uU(1,"Hi\u1ec7n t\u1ea5t c\u1ea3"),t.qZA()}}function qi(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(3);return t.KtG(c.limitAirLineOption=5)}),t._uU(1,"\u1ea8n b\u1edbt"),t.qZA()}}function Oi(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"cf-collapse",8)(2,"cf-collapse-panel",9),t.YNc(3,Si,3,0,"ng-template",null,24,t.W1O),t.TgZ(5,"div",11),t.YNc(6,Fi,3,3,"ng-container",25),t.ALo(7,"slice"),t.YNc(8,Ni,2,0,"button",26),t.YNc(9,qi,2,0,"button",27),t.qZA()()(),t._UZ(10,"div",13),t.BQk()),2&n){const e=t.MAs(4),i=t.oxw(2);t.xp6(2),t.Q6J("panelClass","flex flex-col pt-4 bg-transparent cursor-pointer")("contentClass","p-0")("active",!0)("title",e),t.xp6(4),t.Q6J("ngForOf",t.Dn7(7,7,i.airlineOptions,0,i.limitAirLineOption)),t.xp6(2),t.Q6J("ngIf",i.airlineOptions.length>=5&&5===i.limitAirLineOption),t.xp6(1),t.Q6J("ngIf",i.airlineOptions.length>=5&&i.limitAirLineOption>5)}}function Ji(n,o){1&n&&(t.TgZ(0,"div",28)(1,"div",29),t._uU(2,"S\u1ed1 \u0111i\u1ec3m d\u1eebng"),t.qZA()())}function Ui(n,o){1&n&&(t.TgZ(0,"div",28)(1,"div",29),t._uU(2,"Gi\u1edd kh\u1edfi h\xe0nh"),t.qZA()())}const Li=function(n,o){return{"bg-yellow-4":n,"bg-neutral-white":o}},Ri=function(n,o,e){return{"text-neutral-white ":n,"text-neutral-gray-4":o,"text-neutral-gray-3":e}},Qi=function(n,o,e){return{"text-neutral-white ":n,"text-neutral-gray-6":o,"text-neutral-gray-4":e}};function Pi(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",35),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(3);return t.KtG(!a.disabled&&r.activeTimeFilter(a,!a.actived))}),t.TgZ(1,"div",36),t._uU(2),t.qZA(),t.TgZ(3,"div",37),t._uU(4),t.qZA()()}if(2&n){const e=o.$implicit;t.Q6J("ngClass",t.WLB(5,Li,e.actived,!e.actived)),t.xp6(1),t.Q6J("ngClass",t.kEZ(8,Ri,e.actived,!e.actived&&!e.disabled,e.disabled)),t.xp6(1),t.hij(" ",e.describe," "),t.xp6(1),t.Q6J("ngClass",t.kEZ(12,Qi,e.actived,!e.actived&&!e.disabled,e.disabled)),t.xp6(1),t.hij(" ",e.name," ")}}function Mi(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"cf-collapse",8)(2,"cf-collapse-panel",9),t.YNc(3,Ui,3,0,"ng-template",null,32,t.W1O),t.TgZ(5,"div",33),t.YNc(6,Pi,5,16,"div",34),t.qZA()()(),t._UZ(7,"div",13),t.BQk()),2&n){const e=t.MAs(4),i=t.oxw(2);t.xp6(2),t.Q6J("panelClass","flex flex-col py-4 bg-transparent cursor-pointer")("contentClass","p-0")("active",!0)("title",e),t.xp6(4),t.Q6J("ngForOf",i.timeFlightOptions)}}function ji(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",42),t.NdJ("click",function(c){t.CHM(e);const a=t.oxw(4);return t.KtG(a.resetTypeFilter(c))}),t._uU(1," X\xf3a t\u1ea5t c\u1ea3"),t.qZA()}}function Yi(n,o){if(1&n&&(t.TgZ(0,"div",40)(1,"div",29),t._uU(2,"Khoang h\u1ea1ng"),t.qZA(),t.YNc(3,ji,2,0,"div",41),t.ALo(4,"mapper"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(3),t.Q6J("ngIf",t.xi3(4,1,e.filterFareTypeOptions,e.hasTypeActive))}}function Hi(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",23),t.NdJ("checkChange",function(){const a=t.CHM(e).$implicit,r=t.oxw(3);return t.KtG(r.activeTypeFilter(a,!a.actived))}),t._uU(2),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit;t.xp6(1),t.Q6J("checked",e.actived),t.xp6(1),t.Oqu(e.name)}}function Vi(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"cf-collapse",8)(2,"cf-collapse-panel",9),t.YNc(3,Yi,5,4,"ng-template",null,38,t.W1O),t.TgZ(5,"div",39),t.YNc(6,Hi,3,2,"ng-container",25),t.qZA()()(),t._UZ(7,"div",13),t.BQk()),2&n){const e=t.MAs(4),i=t.oxw(2);t.xp6(2),t.Q6J("panelClass","flex flex-col py-4 bg-transparent cursor-pointer")("contentClass","p-0")("active",!0)("title",e),t.xp6(4),t.Q6J("ngForOf",i.filterFareTypeOptions)}}function Gi(n,o){1&n&&(t.TgZ(0,"div",28)(1,"div",29),t._uU(2,"Kh\xe1c"),t.qZA()())}function zi(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",12),t.NdJ("checkChange",function(c){const r=t.CHM(e).$implicit,u=t.oxw(3);return t.KtG(u.airlinePlanSelectChange(c,r.code))}),t._uU(2),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit;t.xp6(1),t.Q6J("checked",e.actived),t.xp6(1),t.Oqu(e.name)}}function $i(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(3);return t.KtG(c.limitAirPlaneOption=(null==c.modelAirPlaneOptions?null:c.modelAirPlaneOptions.length)||0)}),t._uU(1,"Hi\u1ec7n t\u1ea5t c\u1ea3"),t.qZA()}}function Ki(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(3);return t.KtG(c.limitAirPlaneOption=5)}),t._uU(1,"\u1ea8n b\u1edbt"),t.qZA()}}function Wi(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",43)(2,"div",44),t._uU(3,"Lo\u1ea1i m\xe1y bay"),t.qZA()(),t.TgZ(4,"div",11),t.YNc(5,zi,3,2,"ng-container",25),t.ALo(6,"slice"),t.YNc(7,$i,2,0,"button",26),t.YNc(8,Ki,2,0,"button",27),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("ngForOf",t.Dn7(6,3,e.modelAirPlaneOptions,0,e.limitAirPlaneOption)),t.xp6(2),t.Q6J("ngIf",e.modelAirPlaneOptions.length>=5&&5===e.limitAirPlaneOption),t.xp6(1),t.Q6J("ngIf",e.modelAirPlaneOptions.length>=5&&e.limitAirPlaneOption>5)}}function Xi(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",12),t.NdJ("checkChange",function(c){const r=t.CHM(e).$implicit,u=t.oxw(3);return t.KtG(u.bookingSystemChange(c,r.code))}),t._uU(2),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit;t.xp6(1),t.Q6J("checked",e.actived),t.xp6(1),t.Oqu(e.name)}}function to(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(3);return t.KtG(c.limitAirPlaneOption=(null==c.bookingSystemList?null:c.bookingSystemList.length)||0)}),t._uU(1,"Hi\u1ec7n t\u1ea5t c\u1ea3"),t.qZA()}}function eo(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(3);return t.KtG(c.limitAirPlaneOption=5)}),t._uU(1,"\u1ea8n b\u1edbt"),t.qZA()}}function no(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",43)(2,"div",44),t._uU(3,"H\u1ec7 th\u1ed1ng \u0111\u1eb7t ch\u1ed7"),t.qZA()(),t.TgZ(4,"div",11),t.YNc(5,Xi,3,2,"ng-container",25),t.ALo(6,"slice"),t.YNc(7,to,2,0,"button",26),t.YNc(8,eo,2,0,"button",27),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("ngForOf",t.Dn7(6,3,e.bookingSystemList,0,e.limitAirPlaneOption)),t.xp6(2),t.Q6J("ngIf",e.bookingSystemList.length>=5&&5===e.limitAirPlaneOption),t.xp6(1),t.Q6J("ngIf",e.bookingSystemList.length>=5&&e.limitAirPlaneOption>5)}}function io(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6),t.YNc(2,Ai,6,1,"ng-container",7),t.YNc(3,Ii,13,5,"ng-container",7),t.YNc(4,Oi,11,11,"ng-container",7),t.TgZ(5,"cf-collapse",8)(6,"cf-collapse-panel",9),t.YNc(7,Ji,3,0,"ng-template",null,10,t.W1O),t.TgZ(9,"div",11)(10,"cf-checkbox",12),t.NdJ("checkChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.onSelectedStopChange({direct:c}))}),t._uU(11,"Bay th\u1eb3ng"),t.qZA(),t.TgZ(12,"cf-checkbox",12),t.NdJ("checkChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.onSelectedStopChange({oneRoute:c}))}),t._uU(13,"1 \u0111i\u1ec3m d\u1eebng"),t.qZA(),t.TgZ(14,"cf-checkbox",12),t.NdJ("checkChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.onSelectedStopChange({moreRoute:c}))}),t._uU(15,"2+ \u0111i\u1ec3m d\u1eebng"),t.qZA()()()(),t._UZ(16,"div",13),t.YNc(17,Mi,8,5,"ng-container",7),t.YNc(18,Vi,8,5,"ng-container",7),t.TgZ(19,"cf-collapse",8)(20,"cf-collapse-panel",9),t.YNc(21,Gi,3,0,"ng-template",null,14,t.W1O),t.YNc(23,Wi,9,7,"ng-container",7),t.YNc(24,no,9,7,"ng-container",7),t.qZA()()(),t.TgZ(25,"div",15)(26,"button",16),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.resetFilter.emit())}),t._uU(27,"X\xf3a b\u1ed9 l\u1ecdc"),t.qZA(),t.TgZ(28,"button",17),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.closeBotomSheet())}),t._uU(29,"\xc1p d\u1ee5ng"),t.qZA()()()}if(2&n){const e=t.MAs(8),i=t.MAs(22),c=t.oxw();t.xp6(2),t.Q6J("ngIf",c.optionsTicketType.length>1),t.xp6(1),t.Q6J("ngIf",c.viewConfig),t.xp6(1),t.Q6J("ngIf",c.airlineOptions.length>1),t.xp6(2),t.Q6J("panelClass","flex flex-col pt-4 bg-transparent cursor-pointer")("contentClass","p-0")("active",!0)("title",e),t.xp6(4),t.Q6J("checked",c.ticketFilterNumStop.direct),t.xp6(2),t.Q6J("checked",c.ticketFilterNumStop.oneRoute),t.xp6(2),t.Q6J("checked",c.ticketFilterNumStop.moreRoute),t.xp6(3),t.Q6J("ngIf",null==c.timeFlightOptions?null:c.timeFlightOptions.length),t.xp6(1),t.Q6J("ngIf",null==c.filterFareTypeOptions?null:c.filterFareTypeOptions.length),t.xp6(2),t.Q6J("panelClass","flex flex-col pt-4 bg-transparent cursor-pointer")("contentClass","p-0")("active",!0)("title",i),t.xp6(3),t.Q6J("ngIf",c.modelAirPlaneOptions.length),t.xp6(1),t.Q6J("ngIf",c.bookingSystemList.length)}}let oo=(()=>{class n{constructor(e,i,c){this.bottomSheetService=e,this._mobileDetectService=i,this.cfIconRegister=c,this.viewConfigChange=new t.vpe,this.airlineList={},this.airlineOptionsChange=new t.vpe,this.limitAirLineOption=5,this.ticketFilterNumStopChange=new t.vpe,this.timeFlightOptionsChange=new t.vpe,this.filterFareTypeOptionsChange=new t.vpe,this.modelAirPlaneOptionsChange=new t.vpe,this.optionsTicketTypeChange=new t.vpe,this.resetFilter=new t.vpe,this.bookingSystemList=[],this.bookingSystemListChange=new t.vpe,this.limitAirPlaneOption=5,this.isMobile=!1,this.hasTypeActive=a=>a.some(r=>r.actived),c.registerIcons([p.iK7])}ngOnInit(){this._mobileDetectService.mobileSubject.subscribe(e=>{this.isMobile=e})}onSelectedOptionChange(e){this.viewConfig=Object.assign(Object.assign({},this.viewConfig),e),this.viewConfigChange.emit(this.viewConfig)}airlineSelectChange(e,i){const c=this.airlineOptions.map(a=>Object.assign(Object.assign({},a),{actived:a.code===i?e:a.actived}));this.airlineOptionsChange.emit(c)}onSelectedStopChange(e){this.ticketFilterNumStop=Object.assign(Object.assign({},this.ticketFilterNumStop),e),this.ticketFilterNumStopChange.emit(this.ticketFilterNumStop)}activeTimeFilter(e,i){const c=this.timeFlightOptions.map(a=>Object.assign(Object.assign({},a),{actived:a.name===e.name?i:a.actived}));this.timeFlightOptionsChange.emit(c)}resetTypeFilter(e){e.stopPropagation(),this.filterFareTypeOptionsChange.emit(this.filterFareTypeOptions.map(i=>Object.assign(Object.assign({},i),{actived:!1})))}activeTypeFilter(e,i){const c=this.filterFareTypeOptions.map(a=>Object.assign(Object.assign({},a),{actived:a.code===e.code?i:a.actived}));this.filterFareTypeOptionsChange.emit(c)}airlinePlanSelectChange(e,i){const c=this.modelAirPlaneOptions.map(a=>Object.assign(Object.assign({},a),{actived:a.code===i?e:a.actived}));this.modelAirPlaneOptionsChange.emit(c)}ticketTypeChange(e,i){const c=this.optionsTicketType.map(a=>Object.assign(Object.assign({},a),{actived:a.code===i?e:a.actived}));this.optionsTicketTypeChange.emit(c)}bookingSystemChange(e,i){const c=this.bookingSystemList.map(a=>Object.assign(Object.assign({},a),{actived:a.code===i?e:a.actived}));this.bookingSystemListChange.emit(c)}openBottomSheet(e){this.bottomSheetService.open(e,{headerTitle:"B\u1ed9 l\u1ecdc",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"}).containerInstance._rightButtonClick.subscribe(()=>this.bottomSheetService.dismiss())}closeBotomSheet(){this.bottomSheetService.dismiss()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.a2),t.Y36(it.L),t.Y36(p.KNP))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-result-filter"]],inputs:{viewConfig:"viewConfig",airlineList:"airlineList",airlineOptions:"airlineOptions",ticketFilterNumStop:"ticketFilterNumStop",timeFlightOptions:"timeFlightOptions",filterFareTypeOptions:"filterFareTypeOptions",modelAirPlaneOptions:"modelAirPlaneOptions",optionsTicketType:"optionsTicketType",bookingSystemList:"bookingSystemList"},outputs:{viewConfigChange:"viewConfigChange",airlineOptionsChange:"airlineOptionsChange",ticketFilterNumStopChange:"ticketFilterNumStopChange",timeFlightOptionsChange:"timeFlightOptionsChange",filterFareTypeOptionsChange:"filterFareTypeOptionsChange",modelAirPlaneOptionsChange:"modelAirPlaneOptionsChange",optionsTicketTypeChange:"optionsTicketTypeChange",resetFilter:"resetFilter",bookingSystemListChange:"bookingSystemListChange"},standalone:!0,features:[t.jDz],decls:7,vars:2,consts:[[1,"gap-x-1.5","items-center","border","w-fit","border-neutral-gray-3","rounded-full","px-4","py-[5px]","hidden","md:flex",3,"click"],[1,"text-body-md","whitespace-nowrap"],["icon","filter_alt","size","small",1,"text-neutral-gray-5"],[4,"ngIf","ngIfElse"],["desktopTpl",""],[1,"flex","flex-col","md:w-full"],[1,"flex","flex-col","pt-2","md:pt-5","md:px-4","md:max-h-[70vh]","md:overflow-y-auto","md:pb-4"],[4,"ngIf"],[1,"w-full"],[1,"!border-b-0",3,"panelClass","contentClass","active","title"],["stopTitleTemplate",""],[1,"flex","flex-col","mt-2"],["size","medium",1,"pt-2",3,"checked","checkChange"],[1,"border-b-neutral-gray-2","w-full","border-b","mt-5"],["planeModelTemplate",""],[1,"p-4","gap-x-4","hidden","shadow-cf-large-top","md:flex"],["cf-button","","type","secondary",1,"w-full","justify-center",3,"click"],["cf-button","",1,"w-full","justify-center",3,"click"],[1,"text-espressive-sm","text-neutral-gray-6","mb-3"],["class","flex flex-col gap-y-[11px] select-none",4,"ngFor","ngForOf"],[1,"bg-neutral-gray-2","w-full","h-[1px]","my-5"],[1,"flex","flex-col","gap-y-[11px]","select-none"],[1,""],["size","medium",3,"checked","checkChange"],["airlineTitleTemplate",""],[4,"ngFor","ngForOf"],["class","w-full text-left !pt-2 !outline-none !outline-transparent !text-express-md !text-blue-4","type","secondary",3,"click",4,"ngIf"],["class","w-full text-left !pt-2 !outline-none !outline-transparent !text-express-md text-blue-4","type","secondary",3,"click",4,"ngIf"],[1,"flex","gap-x-4","items-center"],[1,"text-espressive-sm","text-neutral-gray-6"],["type","secondary",1,"w-full","text-left","!pt-2","!outline-none","!outline-transparent","!text-express-md","!text-blue-4",3,"click"],["type","secondary",1,"w-full","text-left","!pt-2","!outline-none","!outline-transparent","!text-express-md","text-blue-4",3,"click"],["departTimeTemplate",""],[1,"flex","gap-2","flex-wrap","justify-center"],["class","cursor-pointer gap-1 w-[92px] h-12 flex flex-col items-center justify-center rounded",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"cursor-pointer","gap-1","w-[92px]","h-12","flex","flex-col","items-center","justify-center","rounded",3,"ngClass","click"],[1,"text-espressive-xs","font-semibold",3,"ngClass"],[1,"text-espressive-sm","font-semibold",3,"ngClass"],["fareclassTemplate",""],[1,"flex","flex-col","gap-3","w-full"],[1,"flex-1","mr-2","flex","gap-x-4","items-center","justify-between"],["class","text-express-sm text-primary-1-4",3,"click",4,"ngIf"],[1,"text-express-sm","text-primary-1-4",3,"click"],[1,"flex","gap-x-4","items-center","pt-4"],[1,"text-espressive-sm","text-neutral-gray-4","font-medium"]],template:function(e,i){if(1&e){const c=t.EpF();t.TgZ(0,"div",0),t.NdJ("click",function(){t.CHM(c);const r=t.MAs(6);return t.KtG(i.openBottomSheet(r))}),t.TgZ(1,"div",1),t._uU(2,"B\u1ed9 l\u1ecdc"),t.qZA(),t._UZ(3,"cf-icon",2),t.qZA(),t.YNc(4,ki,1,0,"ng-container",3),t.YNc(5,io,30,18,"ng-template",null,4,t.W1O)}if(2&e){const c=t.MAs(6);t.xp6(4),t.Q6J("ngIf",i.isMobile)("ngIfElse",c)}},dependencies:[_.ez,_.mk,_.sg,_.O5,_.OU,bi.u,p.AxE,p.Sm8,I.N8,I.Xq,D.u5,ut.B,ut.K,j.q],styles:[":host{display:block}.appear{animation:fade-in 1s cubic-bezier(.39,.575,.565,1) both}@keyframes fade-in{0%{opacity:0}to{opacity:1}}\n"],encapsulation:2,changeDetection:0}),n})();var wt=f(24513),G=f(50518),_t=f(17489);function co(n,o){if(1&n&&(t.TgZ(0,"div",55),t._UZ(1,"cf-icon",56),t.TgZ(2,"span",57),t._uU(3),t.ALo(4,"mapper"),t.qZA()()),2&n){const e=t.oxw().$implicit,i=t.oxw();t.xp6(3),t.lnq(" D\u1eebng t\u1ea1i: ",t.xi3(4,3,e.startPoint,i.getLocationData)," (",e.startPoint,"). Th\u1eddi gian d\u1eebng: ",e.delaySt," ")}}function ao(n,o){if(1&n&&(t.TgZ(0,"span",58),t._UZ(1,"cf-icon",59),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"mapper"),t.ALo(5,"mapper"),t.qZA()()),2&n){const e=t.oxw().$implicit,i=t.oxw();t.xp6(3),t.AsE("Chuy\u1ebfn bay: ",t.xi3(4,2,e.startPoint,i.getLocationData)," - ",t.xi3(5,5,e.endPoint,i.getLocationData),"")}}function ro(n,o){1&n&&(t.TgZ(0,"div",11),t._uU(1,"H\xe0nh l\xfd k\xfd g\u1eedi:\xa0"),t.qZA())}function lo(n,o){1&n&&(t.TgZ(0,"div",11),t._uU(1,"H\xe0nh l\xfd x\xe1ch tay:\xa0"),t.qZA())}function so(n,o){if(1&n&&(t.TgZ(0,"div",31),t.YNc(1,ro,2,0,"div",61),t.YNc(2,lo,2,0,"div",61),t.TgZ(3,"div",32),t._uU(4),t.qZA()()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf","CHECKED_BAGGAGE"===e.cate),t.xp6(1),t.Q6J("ngIf","HAND_BAGGAGE"===e.cate),t.xp6(2),t.Oqu(e.value)}}function uo(n,o){if(1&n&&(t.ynx(0),t.YNc(1,so,5,3,"div",60),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.ticket.fareRuleClassesObj[e.ticket.IDF])}}function po(n,o){1&n&&(t.TgZ(0,"div",31)(1,"div",11),t._uU(2,"H\xe0nh l\xfd k\xfd g\u1eedi:\xa0"),t.qZA(),t.TgZ(3,"div",32),t._uU(4,"N/A"),t.qZA()(),t.TgZ(5,"div",31)(6,"div",11),t._uU(7,"H\xe0nh l\xfd x\xe1ch tay:\xa0"),t.qZA(),t.TgZ(8,"div",32),t._uU(9,"N/A"),t.qZA()())}function _o(n,o){1&n&&(t.TgZ(0,"div",62),t._uU(1," Chi\u1ec1u \u0111i"),t.qZA())}function go(n,o){1&n&&(t.TgZ(0,"div",62),t._uU(1," Chi\u1ec1u v\u1ec1"),t.qZA())}function mo(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("\xa0(",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,")")}}function fo(n,o){if(1&n&&(t.TgZ(0,"span",52)(1,"span",63),t._uU(2),t.qZA(),t.YNc(3,mo,2,1,"span",64),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(null==e.ticket.fareCur?null:e.ticket.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function ho(n,o){if(1&n&&(t.TgZ(0,"span",52),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("H\u1ea1ng ch\u1ed7: ",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,"")}}function xo(n,o){if(1&n&&t.YNc(0,ho,2,1,"span",65),2&n){const e=t.oxw(2);t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function vo(n,o){1&n&&(t.TgZ(0,"div",11),t._uU(1,"H\xe0nh l\xfd k\xfd g\u1eedi:\xa0"),t.qZA())}function Co(n,o){1&n&&(t.TgZ(0,"div",11),t._uU(1,"H\xe0nh l\xfd x\xe1ch tay:\xa0"),t.qZA())}function yo(n,o){if(1&n&&(t.TgZ(0,"div",31),t.YNc(1,vo,2,0,"div",61),t.YNc(2,Co,2,0,"div",61),t.TgZ(3,"div",52),t._uU(4),t.qZA()()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf","CHECKED_BAGGAGE"===e.cate),t.xp6(1),t.Q6J("ngIf","HAND_BAGGAGE"===e.cate),t.xp6(2),t.Oqu(e.value)}}function To(n,o){if(1&n&&(t.ynx(0),t.YNc(1,yo,5,3,"div",60),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.ticket.fareRuleClassesObj[e.ticket.IDF])}}function bo(n,o){1&n&&(t.TgZ(0,"div",31)(1,"div",11),t._uU(2,"H\xe0nh l\xfd k\xfd g\u1eedi:\xa0"),t.qZA(),t.TgZ(3,"div",52),t._uU(4,"N/A"),t.qZA()(),t.TgZ(5,"div",31)(6,"div",11),t._uU(7,"H\xe0nh l\xfd x\xe1ch tay:\xa0"),t.qZA(),t.TgZ(8,"div",52),t._uU(9,"N/A"),t.qZA()())}function ko(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",2),t.YNc(2,co,5,6,"div",3),t.qZA(),t.YNc(3,ao,6,8,"span",4),t.TgZ(4,"div",5)(5,"div",6)(6,"div",7)(7,"div"),t._UZ(8,"img",8),t.qZA(),t.TgZ(9,"div",9)(10,"div",10),t._uU(11),t.qZA(),t.TgZ(12,"div",11),t._uU(13),t.qZA()(),t.TgZ(14,"div",12),t._uU(15),t.qZA()(),t.TgZ(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16),t._uU(20),t.ALo(21,"date"),t.qZA(),t.TgZ(22,"div",17),t._UZ(23,"div",18)(24,"div",19)(25,"cf-icon",20),t.qZA()(),t.TgZ(26,"div",21),t._UZ(27,"cf-icon",22),t.TgZ(28,"div",23),t._uU(29),t.ALo(30,"formatVietnameseDate"),t.qZA()(),t.TgZ(31,"div",24),t._UZ(32,"cf-icon",25),t.TgZ(33,"div",26)(34,"span",27),t._uU(35),t.qZA(),t.TgZ(36,"span",28),t._uU(37),t.ALo(38,"mapper"),t.qZA()()()(),t.TgZ(39,"div")(40,"div",29),t._uU(41),t.ALo(42,"date"),t.qZA(),t.TgZ(43,"div",21),t._UZ(44,"cf-icon",22),t.TgZ(45,"div",23),t._uU(46),t.ALo(47,"formatVietnameseDate"),t.qZA()(),t.TgZ(48,"div",24),t._UZ(49,"cf-icon",25),t.TgZ(50,"div",26)(51,"span",27),t._uU(52),t.qZA(),t.TgZ(53,"span",28),t._uU(54),t.ALo(55,"mapper"),t.qZA()()()()()(),t.TgZ(56,"div",30)(57,"div",31)(58,"div",11),t._uU(59,"Th\u1eddi gian bay:\xa0"),t.qZA(),t.TgZ(60,"div",32),t._uU(61),t.qZA()(),t.TgZ(62,"div",31)(63,"div",11),t._uU(64,"Lo\u1ea1i m\xe1y bay:\xa0"),t.qZA(),t.TgZ(65,"div",32),t._uU(66),t.qZA()(),t.TgZ(67,"div",31)(68,"div",11),t._uU(69,"H\u1ea1ng ch\u1ed7:\xa0"),t.qZA(),t.TgZ(70,"div",32),t._uU(71),t.qZA()(),t.YNc(72,uo,2,1,"ng-container",33),t.YNc(73,po,10,0,"ng-template",null,34,t.W1O),t.qZA()(),t.TgZ(75,"div",35)(76,"div",36)(77,"div",37)(78,"div",24),t._UZ(79,"img",38),t.TgZ(80,"div",39)(81,"div",40),t._uU(82),t.qZA(),t.TgZ(83,"div",41),t._uU(84),t.qZA()()(),t.YNc(85,_o,2,0,"div",42),t.YNc(86,go,2,0,"div",42),t.qZA(),t.TgZ(87,"div",43)(88,"div",44)(89,"div",45)(90,"div",40),t._uU(91),t.ALo(92,"date"),t.qZA(),t.TgZ(93,"div",41),t._uU(94),t.ALo(95,"date"),t.qZA()(),t.TgZ(96,"div",45)(97,"div",40),t._uU(98),t.ALo(99,"date"),t.qZA(),t.TgZ(100,"div",41),t._uU(101),t.ALo(102,"date"),t.qZA()()(),t.TgZ(103,"div",46),t._UZ(104,"div",47)(105,"div",48)(106,"cf-icon",49),t.qZA(),t.TgZ(107,"div",44)(108,"div",39)(109,"div",40),t._uU(110),t.ALo(111,"mapper"),t.qZA()(),t.TgZ(112,"div",39)(113,"div",40),t._uU(114),t.ALo(115,"mapper"),t.qZA()()()()(),t.TgZ(116,"div",50)(117,"div",51)(118,"div",31)(119,"div",11),t._uU(120,"Th\u1eddi gian bay:\xa0"),t.qZA(),t.TgZ(121,"div",52),t._uU(122),t.qZA()(),t.TgZ(123,"div",31)(124,"div",11),t._uU(125,"Lo\u1ea1i m\xe1y bay:\xa0"),t.qZA(),t.TgZ(126,"div",52),t._uU(127),t.qZA()(),t.TgZ(128,"div",31)(129,"div",11),t._uU(130,"H\u1ea1ng ch\u1ed7:\xa0"),t.qZA(),t.YNc(131,fo,4,2,"span",53),t.YNc(132,xo,1,1,"ng-template",null,54,t.W1O),t.qZA(),t.YNc(134,To,2,1,"ng-container",33),t.YNc(135,bo,10,0,"ng-template",null,34,t.W1O),t.qZA()()(),t.BQk()),2&n){const e=o.$implicit,i=o.index,c=t.MAs(74),a=t.MAs(133),r=t.oxw();t.xp6(2),t.Q6J("ngIf",e.delaySt),t.xp6(1),t.Q6J("ngIf",r.isShowTrip&&!e.delaySt),t.xp6(5),t.Q6J("src",e.logoAirline,t.LSH),t.xp6(3),t.hij("",e.operating," - "),t.xp6(2),t.hij("\xa0",e.operatingName,""),t.xp6(2),t.AsE(" ",e.operating,"",e.flightNumber," "),t.xp6(5),t.Oqu(t.xi3(21,40,e.startTime,"HH:mm")),t.xp6(9),t.Oqu(t.lcZ(30,43,e.departure.localTime)),t.xp6(6),t.hij("",e.startPoint," - "),t.xp6(2),t.Oqu(t.xi3(38,45,e.startPoint,r.getLocationData)),t.xp6(4),t.hij(" ",t.xi3(42,48,e.endTime,"HH:mm")," "),t.xp6(5),t.Oqu(t.lcZ(47,51,e.arrival.localTime)),t.xp6(6),t.hij("",e.endPoint," - "),t.xp6(2),t.Oqu(t.xi3(55,53,e.endPoint,r.getLocationData)),t.xp6(7),t.Oqu(e.durationStr),t.xp6(5),t.Oqu(e.modelAirplaneName),t.xp6(5),t.Oqu((null==r.ticket.fareCur?null:r.ticket.fareCur.fareClass)||"N/A"),t.xp6(1),t.Q6J("ngIf",r.ticket.fareRuleClassesObj&&r.ticket.IDF)("ngIfElse",c),t.xp6(7),t.Q6J("src","assets/airline-logo/"+e.operating+".png",t.LSH),t.xp6(3),t.AsE("",e.airline,"",e.flightNumber,""),t.xp6(2),t.Oqu(e.airlineName),t.xp6(1),t.Q6J("ngIf",0===i),t.xp6(1),t.Q6J("ngIf",1===i),t.xp6(5),t.Oqu(t.xi3(92,56,e.startTime,"HH:mm")),t.xp6(3),t.Oqu(t.xi3(95,59,e.startTime,"dd/MM/yyy")),t.xp6(4),t.Oqu(t.xi3(99,62,e.endTime,"HH:mm")),t.xp6(3),t.Oqu(t.xi3(102,65,e.endTime,"dd/MM/yyy")),t.xp6(9),t.AsE("",t.xi3(111,68,e.startPoint,r.getLocationData)," - ",e.startPoint," "),t.xp6(4),t.AsE("",t.xi3(115,71,e.endPoint,r.getLocationData)," - ",e.endPoint," "),t.xp6(8),t.Oqu(e.durationStrMobile),t.xp6(5),t.Oqu(e.modelAirplaneName),t.xp6(4),t.Q6J("ngIf",(null==r.ticket.fareCur?null:r.ticket.fareCur.cabinName)&&"null"!=(null==r.ticket.fareCur?null:r.ticket.fareCur.cabinName))("ngIfElse",a),t.xp6(3),t.Q6J("ngIf",r.ticket.fareRuleClassesObj&&r.ticket.IDF)("ngIfElse",c)}}let te=(()=>{class n{constructor(e,i){this.cfIconRegister=e,this.locationDataSvc=i,this.isShowTrip=!1,this.getLocationData=c=>this.locationDataSvc.getCityNameByCode(c),e.registerIcons([p.UNF,p.B2I,p.okA,p.wvd,p.bHT])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.KNP),t.Y36(et._))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-detail-item"]],inputs:{ticket:"ticket",isShowTrip:"isShowTrip"},standalone:!0,features:[t.jDz],decls:2,vars:1,consts:[[1,"flex","flex-col","md:w-full"],[4,"ngFor","ngForOf"],[1,"px-[20px]","md:p-0"],["class","w-full bg-[#F0EAF4] rounded flex items-center  gap-x-2 py-1.5 px-3 my-3",4,"ngIf"],["class","text-heading-sm text-neutral-black flex items-center md:hidden",4,"ngIf"],[1,"flex","justify-between","items-center","py-6","md:hidden"],[1,"flex","flex-1","gap-x-9","px-[10px]"],[1,"flex","flex-col","items-center","justify-center","pl-[20px]"],[1,"w-[120px]","h-[60px]","object-contain",3,"src"],[1,"flex","items-center","mt-1.5"],[1,"text-espressive-sm"],[1,"text-body-sm"],[1,"py-[2px]","px-2","bg-neutral-gray-1","rounded","text-espressive-sm","text-neutral-black","mt-2"],[1,"flex","justify-between","gap-x-3"],[1,""],[1,"flex","items-center","gap-x-[20px]","mb-3"],[1,"text-heading-lg","text-neutral-black"],[1,"flex","items-center","w-[50px]","py-1","px-2.5"],[1,"w-1.5","h-1.5","bg-neutral-gray-2","rounded-full"],[1,"w-full","h-[1px]","bg-neutral-gray-2"],["icon","plane","size","small",1,"text-[#ccc]"],[1,"flex","items-center","gap-x-2","mb-2"],["icon","calendar","size","small"],[1,"text-body-md","text-neutral-black"],[1,"flex","items-center","gap-x-2"],["icon","commute","size","small"],[1,"text-neutral-black"],[1,"text-espressive-md"],[1,"text-body-md"],[1,"text-heading-lg","text-neutral-black","mb-3"],[1,"w-[192px]","pl-4","border-l","border-dashed","border-neutral-gray-2","flex","flex-col","justify-between","gap-y-2"],[1,"flex","flex-nowrap","items-center"],[1,"text-espressive-sm","text-neutral-black"],[4,"ngIf","ngIfElse"],["emptyFareRuleTpl",""],[1,"md:flex","hidden","py-4","md:w-full","bg-white","flex-col","rounded-lg","gap-3"],[1,"flex","flex-1","gap-x-9","px-3","flex-col"],[1,"flex","justify-between"],[1,"w-9","h-9","object-contain",3,"src"],[1,"flex","flex-col","gap-y-1"],[1,"text-heading-xs","text-neutral-gray-6"],[1,"text-espressive-xs","text-neutral-gray-4"],["class","h-fit py-1 px-2 text-neutral-white text-espressive-sm bg-secondary-5-3 rounded ",4,"ngIf"],[1,"flex","mt-2","gap-x-4"],[1,"flex","flex-col","gap-y-4"],[1,"flex","flex-col","items-center","gap-y-1"],[1,"flex","flex-col","items-center","justify-between","py-3"],[1,"w-1","h-1","rounded-full","bg-neutral-gray-3"],[1,"border-r","border-r-neutral-gray-3","h-full"],["icon","plane","size","small",1,"text-neutral-gray-3"],[1,"w-full","pt-4","px-4"],[1,"w-full","border-t","pt-3","border-dashed","border-neutral-gray-2","flex","justify-between","gap-y-2","flex-col"],[1,"text-espressive-sm","text-neutral-black","font-semibold"],["class","text-espressive-sm text-neutral-black font-semibold",4,"ngIf","ngIfElse"],["noncabinTemplate",""],[1,"w-full","bg-[#F0EAF4]","rounded","flex","items-center","gap-x-2","py-1.5","px-3","my-3"],["icon","circle_information","size","small",1,"text-secondary-2-4"],[1,"text-express-md","text-neutral-gray-6"],[1,"text-heading-sm","text-neutral-black","flex","items-center","md:hidden"],["icon","circle_information","size","small",1,"mr-2.5"],["class","flex flex-nowrap items-center",4,"ngFor","ngForOf"],["class","text-body-sm",4,"ngIf"],[1,"h-fit","py-1","px-2","text-neutral-white","text-espressive-sm","bg-secondary-5-3","rounded"],[1,"capitalize"],[4,"ngIf"],["class","text-espressive-sm text-neutral-black font-semibold",4,"ngIf"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,ko,137,74,"ng-container",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",i.ticket.segments))},dependencies:[_.ez,_.sg,_.O5,_.uU,p.AxE,p.Sm8,j.q,lt],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();function Zo(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td",23)(2,"div",24),t._UZ(3,"img",25),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"mapper"),t.ALo(7,"mapper"),t.qZA()()(),t.TgZ(8,"td",23),t._uU(9),t.qZA(),t.TgZ(10,"td",23),t._uU(11),t.qZA(),t.TgZ(12,"td",23),t._uU(13),t.qZA()()),2&n){const e=o.$implicit,i=t.oxw(2);t.xp6(3),t.Q6J("src","assets/airline-logo/"+e.airlineLogo+".png",t.LSH),t.xp6(2),t.AsE("",t.xi3(6,6,e.startPoint,i.getLocationData)," - ",t.xi3(7,9,e.endPoint,i.getLocationData),""),t.xp6(4),t.hij(" ",i.hasAdtPax?e.fareClass+" - "+e.fareBasis:"-"," "),t.xp6(2),t.hij(" ",i.hasChdPax?e.fareClass+" - "+e.fareBasis:"-"," "),t.xp6(2),t.hij(" ",i.hasInfPax?e.fareClass+" - "+e.fareBasis:"-"," ")}}function Ao(n,o){if(1&n&&(t.TgZ(0,"div",2)(1,"div",3),t._UZ(2,"cf-icon",4),t.TgZ(3,"div",5),t._uU(4,"H\u1ea1ng ch\u1ed7 - Fare Basis"),t.qZA()(),t.TgZ(5,"div")(6,"table",6)(7,"thead")(8,"tr",7)(9,"th",8),t._uU(10,"Ch\u1eb7ng bay"),t.qZA(),t.TgZ(11,"th",8),t._uU(12,"Ng\u01b0\u1eddi l\u1edbn (ADT)"),t.qZA(),t.TgZ(13,"th",8),t._uU(14,"Tr\u1ebb em (CHD)"),t.qZA(),t.TgZ(15,"th",8),t._uU(16,"Em b\xe9 (INF)"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,Zo,14,12,"tr",11),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(18),t.Q6J("ngForOf",e.fareBasisInfos)}}function Eo(n,o){1&n&&(t.TgZ(0,"th",8),t._uU(1," Chi\u1ebft kh\u1ea5u"),t.qZA())}function Do(n,o){if(1&n&&(t.TgZ(0,"td",29),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" (",t.Dn7(2,1,t.lcZ(3,5,e.discountAmount),",","."),") ")}}function Bo(n,o){if(1&n&&(t.TgZ(0,"td",30),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.totalFare-e.discountAmount*e.quantity),",",".")," ")}}function wo(n,o){if(1&n&&(t.TgZ(0,"td",30),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.totalFare),",",".")," ")}}function Io(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td",23),t._uU(2),t.qZA(),t.TgZ(3,"td",23),t._uU(4),t.qZA(),t.TgZ(5,"td",23),t._uU(6),t.ALo(7,"replace"),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"td",23),t._uU(10),t.ALo(11,"replace"),t.ALo(12,"number"),t.qZA(),t.YNc(13,Do,4,7,"td",26),t.ALo(14,"mapper"),t.YNc(15,Bo,4,7,"td",27),t.ALo(16,"mapper"),t.YNc(17,wo,4,7,"ng-template",null,28,t.W1O),t.qZA()),2&n){const e=o.$implicit,i=t.MAs(18),c=t.oxw();t.xp6(2),t.Oqu(e.type),t.xp6(2),t.Oqu(e.quantity),t.xp6(2),t.Oqu(t.Dn7(7,7,t.lcZ(8,11,e.baseFare),",",".")),t.xp6(4),t.Oqu(t.Dn7(11,13,t.lcZ(12,17,e.surCharge),",",".")||0),t.xp6(3),t.Q6J("ngIf",t.xi3(14,19,c.ticketPriceList,c.isDiscountAmount)&&c.showDiscountFare),t.xp6(2),t.Q6J("ngIf",t.xi3(16,22,c.ticketPriceList,c.isDiscountAmount)&&c.showDiscountFare)("ngIfElse",i)}}function So(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.totalFare-e.discountAmount*e.quantity),",","."),"\u0111 ")}}function Fo(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("",t.Dn7(2,1,t.lcZ(3,5,e.totalFare),",","."),"\u0111")}}function No(n,o){if(1&n&&(t.TgZ(0,"div",37)(1,"div",35),t._uU(2,"Chi\u1ebft kh\u1ea5u"),t.qZA(),t.TgZ(3,"div",38),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(4),t.AsE(" ",t.Dn7(5,2,t.lcZ(6,6,e.discountAmount),",",".")," X ",e.quantity,"")}}function qo(n,o){if(1&n&&(t.TgZ(0,"div",31)(1,"div",32)(2,"div",33),t._uU(3),t.qZA(),t.TgZ(4,"div",33),t.YNc(5,So,4,7,"span",34),t.ALo(6,"mapper"),t.YNc(7,Fo,4,7,"ng-template",null,28,t.W1O),t.qZA()(),t.TgZ(9,"div",32)(10,"div",35),t._uU(11,"Gi\xe1 v\xe9 m\xe1y bay"),t.qZA(),t.TgZ(12,"div",35),t._uU(13),t.ALo(14,"replace"),t.ALo(15,"number"),t.qZA()(),t.TgZ(16,"div",32)(17,"div",35),t._uU(18,"Thu\u1ebf & ph\xed"),t.qZA(),t.TgZ(19,"div",35),t._uU(20),t.ALo(21,"replace"),t.ALo(22,"number"),t.qZA()(),t.YNc(23,No,7,8,"div",36),t.ALo(24,"mapper"),t.qZA()),2&n){const e=o.$implicit,i=t.MAs(8),c=t.oxw();t.xp6(3),t.Oqu(e.type),t.xp6(2),t.Q6J("ngIf",t.xi3(6,8,c.ticketPriceList,c.isDiscountAmount)&&c.showDiscountFare)("ngIfElse",i),t.xp6(8),t.AsE("",t.Dn7(14,11,t.lcZ(15,15,e.baseFare),",","."),"\u0111 x ",e.quantity,""),t.xp6(7),t.AsE("",t.Dn7(21,17,t.lcZ(22,21,e.surCharge),",","."),"\u0111 x ",e.quantity,""),t.xp6(3),t.Q6J("ngIf",t.xi3(24,23,c.ticketPriceList,c.isDiscountAmount)&&c.showDiscountFare)}}let ee=(()=>{class n{constructor(e){this.locationDataSvc=e,this.ticketPriceList=[],this.fareBasisInfos=[],this.hasAdtPax=!1,this.hasChdPax=!1,this.hasInfPax=!1,this.sumPriceTicket=i=>i.reduce((c,a)=>c+a.totalFare-a.discountAmount*a.quantity,0),this.getLocationData=i=>this.locationDataSvc.getCityNameByCode(i),this.isDiscountAmount=i=>i.find(c=>c.discountAmount)}ngOnChanges(e){e.ticketPriceList&&e.ticketPriceList.currentValue&&this.ticketPriceList.forEach(i=>{i.type.includes("ADT")&&(this.hasAdtPax=!0),i.type.includes("CHD")&&(this.hasChdPax=!0),i.type.includes("INF")&&(this.hasInfPax=!0)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(et._))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-info-item"]],inputs:{ticketPriceList:"ticketPriceList",fareBasisInfos:"fareBasisInfos",showDiscountFare:"showDiscountFare"},standalone:!0,features:[t.TTD,t.jDz],decls:45,vars:13,consts:[[1,"md:hidden","p-6","flex","flex-col","gap-y-4"],["class","flex flex-col gap-y-4",4,"ngIf"],[1,"flex","flex-col","gap-y-4"],[1,"flex","items-center","gap-x-2"],["icon","circle_information","size","small"],[1,"text-heading-sm"],[1,"table-auto","w-full"],[1,"border-b","border-neutral-gray-1"],[1,"text-left","text-espressive-sm","text-neutral-gray-4","py-3"],["class","text-left text-espressive-sm text-neutral-gray-4 py-3",4,"ngIf"],[1,"text-right","text-espressive-sm","text-neutral-gray-4","py-3"],[4,"ngFor","ngForOf"],[1,"flex","justify-end","items-center","gap-x-6","bg-secondary-3-1","py-1","px-2"],[1,"text-espressive-sm"],[1,"text-heading-md"],[1,"hidden","md:flex","flex-col","gap-y-4"],[1,"flex","flex-col","bg-neutral-white","rounded-lg","p-4","gap-y-2"],["class","flex flex-col gap-y-1",4,"ngFor","ngForOf"],[1,"px-6","pb-6","md:p-0","md:pt-4"],[1,"w-full","py-1.5","px-3","bg-functional-1-1","rounded","flex","gap-x-2"],["icon","info","size","small",1,"text-functional-1-3"],[1,"text-express-md"],[1,"text-body-md-short"],[1,"text-body-md","text-neutral-black","py-3"],[1,"flex","gap-x-2","items-center"],[1,"w-[80px]","h-[40px]","object-contain","md:w-9","md:h-9",3,"src"],["class","text-body-md text-secondary-5-3 py-3",4,"ngIf"],["class","text-right text-body-md text-neutral-black py-3",4,"ngIf","ngIfElse"],["noDiscountTempl",""],[1,"text-body-md","text-secondary-5-3","py-3"],[1,"text-right","text-body-md","text-neutral-black","py-3"],[1,"flex","flex-col","gap-y-1"],[1,"flex","justify-between","items-center"],[1,"text-heading-xs","text-neutral-black"],[4,"ngIf","ngIfElse"],[1,"text-body-sm","text-neutral-gray-4"],["class","flex justify-between items-center pb-3",4,"ngIf"],[1,"flex","justify-between","items-center","pb-3"],[1,"text-body-sm","text-secondary-5-3"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Ao,19,1,"div",1),t.TgZ(2,"div",2)(3,"div",3),t._UZ(4,"cf-icon",4),t.TgZ(5,"div",5),t._uU(6,"Gi\xe1 v\xe9"),t.qZA()(),t.TgZ(7,"table",6)(8,"thead")(9,"tr",7)(10,"th",8),t._uU(11,"H\xe0nh kh\xe1ch"),t.qZA(),t.TgZ(12,"th",8),t._uU(13,"S\u1ed1 l\u01b0\u1ee3ng"),t.qZA(),t.TgZ(14,"th",8),t._uU(15,"Gi\xe1 v\xe9"),t.qZA(),t.TgZ(16,"th",8),t._uU(17,"Thu\u1ebf ph\xed"),t.qZA(),t.YNc(18,Eo,2,0,"th",9),t.ALo(19,"mapper"),t.TgZ(20,"th",10),t._uU(21,"T\u1ed5ng chi ph\xed"),t.qZA()()(),t.TgZ(22,"tbody"),t.YNc(23,Io,19,25,"tr",11),t.qZA()(),t.TgZ(24,"div",12)(25,"div",13),t._uU(26,"T\u1ed5ng chi ph\xed"),t.qZA(),t.TgZ(27,"div",14),t._uU(28),t.ALo(29,"number"),t.ALo(30,"mapper"),t.qZA()()()(),t.TgZ(31,"div",15)(32,"div",16),t.YNc(33,qo,25,26,"div",17),t.qZA()(),t.TgZ(34,"div",18)(35,"div",19),t._UZ(36,"cf-icon",20),t.TgZ(37,"div")(38,"div",21),t._uU(39,"L\u01b0u \xfd:"),t.qZA(),t.TgZ(40,"div",22)(41,"div"),t._uU(42,"Gi\xe1 v\xe9 c\xf3 th\u1ec3 thay \u0111\u1ed5i t\xf9y theo th\u1eddi \u0111i\u1ec3m \u0111\u1eb7t v\xe9, t\u1ef7 gi\xe1 v\xe0 ch\xednh s\xe1ch c\u1ee7a h\xe3ng h\xe0ng kh\xf4ng. Qu\xfd kh\xe1ch ch\xfa \xfd ki\u1ec3m tra l\u1ea1i gi\xe1 v\xe9 m\u1edbi nh\u1ea5t t\u1ea1i b\u01b0\u1edbc \u0111\u1eb7t v\xe9"),t.qZA(),t.TgZ(43,"div"),t._uU(44,"H\xe0nh tr\xecnh kh\u1edfi h\xe0nh ngo\xe0i Vi\u1ec7t Nam ch\u1ec9 \u0111\u01b0\u1ee3c b\u1ea3o \u0111\u1ea3m gi\xe1 t\u1ea1i th\u1eddi \u0111i\u1ec3m \u0111\u1eb7t v\xe9"),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("ngIf",i.fareBasisInfos.length),t.xp6(17),t.Q6J("ngIf",t.xi3(19,5,i.ticketPriceList,i.isDiscountAmount)&&i.showDiscountFare),t.xp6(5),t.Q6J("ngForOf",i.ticketPriceList),t.xp6(5),t.hij(" ",t.lcZ(29,8,t.xi3(30,10,i.ticketPriceList,i.sumPriceTicket))," \u0111"),t.xp6(5),t.Q6J("ngForOf",i.ticketPriceList))},dependencies:[_.ez,_.sg,_.O5,_.JJ,p.AxE,p.Sm8,j.q,Y.AS,I.N8],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();var Lt=f(94700);let Oo=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"status",void 0),(0,l.gn)([(0,B.D)(()=>Jo),(0,s.C)()],n.prototype,"data",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"objectError",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"success",void 0),n})(),Jo=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"departure",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"arrival",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"fareBasic",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"qualifier",void 0),(0,l.gn)([(0,B.D)(()=>Uo),(0,s.C)()],n.prototype,"rules",void 0),n})(),Uo=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"header",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"details",void 0),n})();const Lo={headers:new L.WM({"Content-Type":"application/json"})};let Ro=(()=>{class n{constructor(e,i){this.http=e,this.appConfig=i}getFareRule(e){return this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/get-fare-rules",JSON.stringify(e),Lo).pipe((0,H.U)(i=>(0,P.yE)(Oo,i,{excludeExtraneousValues:!0})))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(L.eN),t.LFG(R.qB))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qo(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("",e.name,": ")}}function Po(n,o){if(1&n&&(t.TgZ(0,"div",10),t.YNc(1,Qo,2,1,"span",1),t._UZ(2,"span",11),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.name),t.xp6(1),t.Q6J("innerHTML",e.value,t.oJD)}}function Mo(n,o){if(1&n&&(t.TgZ(0,"div",6)(1,"div",7),t._uU(2),t.qZA(),t.TgZ(3,"div",8),t.YNc(4,Po,3,2,"div",9),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.hij("",e.desc.vn,":"),t.xp6(2),t.Q6J("ngForOf",null==e?null:e.items)}}function jo(n,o){if(1&n&&(t.TgZ(0,"div")(1,"div",4),t.YNc(2,Mo,5,2,"div",5),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.fareRule)}}function Yo(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"cf-icon",20),t.NdJ("click",function(){t.CHM(e);const c=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.onChange(c))}),t.qZA()}}function Ho(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"cf-icon",21),t.NdJ("click",function(){t.CHM(e);const c=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.onChange(c))}),t.qZA()}}function Vo(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.header)}}function Go(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.headerVi)}}function zo(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",22),t._uU(2),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ",e," ")}}function $o(n,o){if(1&n&&(t.ynx(0),t.YNc(1,zo,3,1,"ng-container",16),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",e.details)}}function Ko(n,o){1&n&&t._UZ(0,"div",25)}function Wo(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Ko,1,0,"div",23),t.TgZ(2,"pre",24),t._uU(3),t.qZA(),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",e.isLoading),t.xp6(2),t.Oqu(e.detailsVI)}}function Xo(n,o){if(1&n&&(t.ynx(0),t.YNc(1,$o,2,1,"ng-container",1),t.YNc(2,Wo,4,2,"ng-container",1),t.BQk()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf","ORIGIN"==e.translateMode),t.xp6(1),t.Q6J("ngIf","VI"==e.translateMode)}}function tc(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",17),t.YNc(2,Yo,1,0,"cf-icon",18),t.YNc(3,Ho,1,0,"cf-icon",19),t.YNc(4,Vo,2,1,"span",1),t.YNc(5,Go,2,1,"span",1),t.qZA(),t.YNc(6,Xo,3,2,"ng-container",1),t.BQk()),2&n){const e=o.$implicit,i=t.oxw(3);t.xp6(2),t.Q6J("ngIf",!e.isShowDetail),t.xp6(1),t.Q6J("ngIf",e.isShowDetail),t.xp6(1),t.Q6J("ngIf","ORIGIN"==i.translateMode),t.xp6(1),t.Q6J("ngIf","VI"==i.translateMode),t.xp6(1),t.Q6J("ngIf",e.isShowDetail)}}function ec(n,o){if(1&n&&(t.TgZ(0,"div",12)(1,"div",14)(2,"div",15),t._uU(3),t.qZA()(),t.TgZ(4,"div",4),t.YNc(5,tc,7,5,"ng-container",16),t.qZA()()),2&n){const e=o.$implicit;t.xp6(3),t.HOy(" ",e.departure," ",e.arrival," ",e.qualifier," Fare Basis ",e.fareBasic," "),t.xp6(2),t.Q6J("ngForOf",e.rules)}}function nc(n,o){if(1&n&&(t.TgZ(0,"div",12),t.YNc(1,ec,6,5,"div",13),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.dataJourneyInfo)}}function ic(n,o){1&n&&(t.TgZ(0,"div")(1,"div",26)(2,"div",27)(3,"div",28),t._UZ(4,"div",29)(5,"div",30),t.qZA()()()())}function oc(n,o){1&n&&(t.TgZ(0,"div",31),t._uU(1,"Li\xean h\u1ec7 booker \u0111\u1ec3 bi\u1ebft th\xf4ng tin ch\xednh x\xe1c "),t.qZA())}let ne=(()=>{class n{set journeyInfo(e){this.isLoadingFareRule=!0,this.recaptchaV3Service.execute("importantAction").pipe((0,Dt.w)(i=>this.fareRuleBtcSvc.getFareRule(Object.assign(Object.assign({},e),{recaptcha:i})))).subscribe({next:i=>{this.dataJourneyInfo=[...i.data.map(c=>Object.assign(Object.assign({},c),{rules:c.rules.map(a=>Object.assign(Object.assign({},a),{isShowDetail:!1,headerVi:"",detailsVI:"",isLoading:!1}))}))]},error:i=>console.error(i),complete:()=>{this.isLoadingFareRule=!1,this.cdr.detectChanges()}})}constructor(e,i,c,a){this.recaptchaV3Service=e,this.fareRuleBtcSvc=i,this.cdr=a,this.translateMode="ORIGIN",this.isLoadingFareRule=!1,c.registerIcons([p.kPk,p.mAV,p.$S])}onChange(e){e.isShowDetail=!e.isShowDetail,e.isShowDetail&&"VI"===this.translateMode&&""==e.detailsVI&&this.translateRule(e)}translate(){}collapseAllDetais(){for(let e=0;e<this.dataJourneyInfo.length;e++)for(let i=0;i<this.dataJourneyInfo[e].rules.length;i++)this.dataJourneyInfo[e].rules[i].isShowDetail=!1}translateHeaders(){}translateRule(e){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Lt.YC),t.Y36(Ro),t.Y36(p.KNP),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-rule-item"]],inputs:{fareRule:"fareRule",journeyInfo:"journeyInfo"},standalone:!0,features:[t.jDz],decls:5,vars:4,consts:[[1,"p-6","md:bg-neutral-white","md:rounded-lg"],[4,"ngIf"],["class","flex flex-col gap-y-4 w-full",4,"ngIf"],["class","text-espressive-sm",4,"ngIf"],[1,"flex","flex-col","gap-y-2"],["class","border border-neutral-gray-2 rounded-lg p-4",4,"ngFor","ngForOf"],[1,"border","border-neutral-gray-2","rounded-lg","p-4"],[1,"text-express-md","mb-2"],[1,"text-body-sm","flex","flex-col","gap-y-2"],["class","text-body-sm",4,"ngFor","ngForOf"],[1,"text-body-sm"],[3,"innerHTML"],[1,"flex","flex-col","gap-y-4","w-full"],["class","flex flex-col gap-y-4 w-full",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","w-full"],[1,"text-heading-sm","text-neutral-gray-6"],[4,"ngFor","ngForOf"],[1,"text-body-md","flex","gap-x-2","items-center"],["class","text-neutral-gray-6 cursor-pointer","size","medium","icon","caret_right",3,"click",4,"ngIf"],["class","text-neutral-gray-6 cursor-pointer","size","medium","icon","caret_down",3,"click",4,"ngIf"],["size","medium","icon","caret_right",1,"text-neutral-gray-6","cursor-pointer",3,"click"],["size","medium","icon","caret_down",1,"text-neutral-gray-6","cursor-pointer",3,"click"],[1,"text-body-md","pl-12"],["class","w-full bg-neutral-gray-2 h-4 rounded-md animate-pulse",4,"ngIf"],[1,"text-body-md","pl-8","whitespace-pre-wrap"],[1,"w-full","bg-neutral-gray-2","h-4","rounded-md","animate-pulse"],[1,"flex","justify-between","items-center","gap-x-4","h-full","animate-pulse"],[1,"w-full","flex","flex-row","items-center","h-full","justify-start","gap-x-3"],[1,"flex","flex-col","space-y-3"],[1,"w-48","bg-neutral-gray-2","h-6","rounded-md","md:max-w-[192px]","md:w-24"],[1,"w-36","bg-neutral-gray-2","h-6","rounded-md","md:max-w-[144px]","md:w-18"],[1,"text-espressive-sm"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,jo,3,1,"div",1),t.YNc(2,nc,2,1,"div",2),t.YNc(3,ic,6,0,"div",1),t.YNc(4,oc,2,0,"div",3),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",i.fareRule),t.xp6(1),t.Q6J("ngIf",(null==i.dataJourneyInfo?null:i.dataJourneyInfo.length)&&!i.isLoadingFareRule),t.xp6(1),t.Q6J("ngIf",i.isLoadingFareRule),t.xp6(1),t.Q6J("ngIf",!(i.fareRule||null!=i.dataJourneyInfo&&i.dataJourneyInfo.length||i.isLoadingFareRule)))},dependencies:[_.ez,_.sg,_.O5,p.AxE,p.Sm8],styles:["[_nghost-%COMP%]{display:block}"]}),n})();function cc(n,o){1&n&&(t.TgZ(0,"div",60),t._UZ(1,"cf-icon",61),t.TgZ(2,"div"),t._uU(3,"Hot"),t.qZA()())}function ac(n,o){1&n&&(t.TgZ(0,"div",62),t._UZ(1,"cf-icon",63),t.TgZ(2,"div"),t._uU(3,"GDS"),t.qZA()())}function rc(n,o){1&n&&(t.TgZ(0,"div",62),t._UZ(1,"cf-icon",63),t.TgZ(2,"div"),t._uU(3,"1A"),t.qZA()())}function lc(n,o){1&n&&(t.TgZ(0,"div",62),t._UZ(1,"cf-icon",63),t.TgZ(2,"div"),t._uU(3,"1G"),t.qZA()())}function sc(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.ALo(3,"async"),t.ALo(4,"mapper"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" c\xf2n ",t.xi3(2,1,t.lcZ(3,4,t.xi3(4,6,e.ticket,e.ndcTimeLimitCountDown$)),"m")," ph\xfat")}}function uc(n,o){if(1&n&&(t.TgZ(0,"div",64),t._UZ(1,"cf-icon",61),t.TgZ(2,"div"),t._uU(3,"NDC "),t.YNc(4,sc,5,9,"span",33),t.ALo(5,"mapper"),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",t.xi3(5,1,e.ticket,e.ndcTimeLimitCountDown$))}}function pc(n,o){1&n&&(t.TgZ(0,"div",64),t._UZ(1,"cf-icon",61),t.TgZ(2,"div"),t._uU(3,"LCC"),t.qZA()())}function dc(n,o){if(1&n&&(t.TgZ(0,"div",64),t._UZ(1,"cf-icon",65),t.TgZ(2,"div"),t._uU(3),t.ALo(4,"mapper"),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.xi3(4,1,e.searchData,e.getPaxTypeDisplay))}}function _c(n,o){1&n&&(t.TgZ(0,"div",64),t._UZ(1,"cf-icon",66),t.TgZ(2,"div"),t._uU(3,"Private Fare"),t.qZA()())}function gc(n,o){if(1&n&&(t.TgZ(0,"div",67)(1,"div",17),t._uU(2),t.qZA(),t.TgZ(3,"div",18),t._uU(4),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(e.ticket.durationStr),t.xp6(2),t.AsE("",e.ticket.startPoint," - ",e.ticket.endPoint,"")}}function mc(n,o){1&n&&(t.TgZ(0,"div",18),t._uU(1," Bay th\u1eb3ng "),t.qZA())}function fc(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.AsE("",e.delaySt," t\u1ea1i ",e.stopPoint||e.startPoint," ")}}function hc(n,o){if(1&n&&(t.ynx(0),t.YNc(1,fc,2,2,"div",33),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.delay)}}function xc(n,o){if(1&n&&t.YNc(0,hc,2,1,"ng-container",71),2&n){const e=t.oxw(2);t.Q6J("ngForOf",e.ticket.segments)}}function vc(n,o){if(1&n&&(t.TgZ(0,"div",68,69),t._uU(2),t.YNc(3,xc,1,1,"ng-template",null,70,t.W1O),t.qZA()),2&n){const e=t.MAs(4),i=t.oxw();t.Q6J("placement","bottomCenter")("cfTooltip",e),t.xp6(2),t.hij(" ",i.ticket.numOfStops," \u0111i\u1ec3m d\u1eebng ")}}function Cc(n,o){if(1&n&&(t.TgZ(0,"div",56)(1,"span",76,69),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("placement","topCenter")("cfTooltip","C\xf2n "+((null==e.ticket.fareCur?null:e.ticket.fareCur.seatRemain)||0)+" ch\u1ed7 tr\u1ed1ng"),t.xp6(2),t.Oqu(null==e.ticket.fareCur?null:e.ticket.fareCur.seatRemain)}}function yc(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("\xa0(",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,")")}}function Tc(n,o){if(1&n&&(t.TgZ(0,"span")(1,"span",77),t._uU(2),t.qZA(),t.YNc(3,yc,2,1,"span",33),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(null==e.ticket.fareCur?null:e.ticket.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function bc(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("H\u1ea1ng ch\u1ed7: ",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,"")}}function kc(n,o){if(1&n&&t.YNc(0,bc,2,1,"span",33),2&n){const e=t.oxw(2);t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function Zc(n,o){if(1&n&&(t.TgZ(0,"div",72),t.YNc(1,Cc,4,3,"div",73),t.TgZ(2,"div",74),t.YNc(3,Tc,4,2,"span",31),t.YNc(4,kc,1,1,"ng-template",null,75,t.W1O),t.qZA()()),2&n){const e=t.MAs(5),i=t.oxw();t.xp6(1),t.Q6J("ngIf","GDS"!==i.ticket.provider&&"BSP"!==i.ticket.provider&&"FLY_ONE"!==i.ticket.provider),t.xp6(2),t.Q6J("ngIf",(null==i.ticket.fareCur?null:i.ticket.fareCur.cabinName)&&"null"!=(null==i.ticket.fareCur?null:i.ticket.fareCur.cabinName))("ngIfElse",e)}}function Ac(n,o){1&n&&t._UZ(0,"cf-icon",84)}function Ec(n,o){1&n&&t._UZ(0,"cf-icon",85)}function Dc(n,o){1&n&&t._UZ(0,"cf-icon",86)}function Bc(n,o){1&n&&t._UZ(0,"cf-icon",87)}function wc(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij("\xa0(",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,")")}}function Ic(n,o){if(1&n&&(t.TgZ(0,"span")(1,"span",77),t._uU(2),t.qZA(),t.YNc(3,wc,2,1,"span",33),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(null==e.ticket.fareCur?null:e.ticket.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function Sc(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij("H\u1ea1ng ch\u1ed7: ",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,"")}}function Fc(n,o){if(1&n&&t.YNc(0,Sc,2,1,"span",33),2&n){const e=t.oxw(3);t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function Nc(n,o){if(1&n&&(t.TgZ(0,"div",90),t._UZ(1,"cf-icon",84),t.TgZ(2,"div",91),t._uU(3),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(3),t.hij("K\xfd g\u1eedi: ",null==e.ticket.bookedInfo?null:e.ticket.bookedInfo.checkedBaggage,"")}}function qc(n,o){if(1&n&&(t.TgZ(0,"div",90),t._UZ(1,"cf-icon",85),t.TgZ(2,"div",91),t._uU(3),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(3),t.hij("X\xe1ch tay: ",e.ticket.bookedInfo.handBaggage,"")}}function Oc(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Nc,4,1,"div",89),t.YNc(2,qc,4,1,"div",89),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.ticket.bookedInfo.checkedBaggage),t.xp6(1),t.Q6J("ngIf",e.ticket.bookedInfo.handBaggage)}}function Jc(n,o){if(1&n&&(t.TgZ(0,"div",90),t._UZ(1,"cf-icon",86),t.TgZ(2,"div",91),t._uU(3),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(3),t.hij("Su\u1ea5t \u0103n: ",e.ticket.food?"C\xf3":"Kh\xf4ng","")}}function Uc(n,o){if(1&n&&(t.TgZ(0,"div",90),t._UZ(1,"cf-icon",87),t.TgZ(2,"div",91),t._uU(3),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(3),t.hij("Ho\xe0n ti\u1ec1n: ",e.ticket.refundableFare?"C\xf3":"Kh\xf4ng","")}}function Lc(n,o){if(1&n&&(t.TgZ(0,"div",16)(1,"div",88),t._uU(2),t.YNc(3,Ic,4,2,"span",31),t.YNc(4,Fc,1,1,"ng-template",null,75,t.W1O),t.qZA(),t.YNc(6,Oc,3,2,"ng-container",33),t.YNc(7,Jc,4,1,"div",89),t.YNc(8,Uc,4,1,"div",89),t.qZA()),2&n){const e=t.MAs(5),i=t.oxw(2);t.xp6(2),t.AsE("",i.ticket.startPoint," - ",i.ticket.endPoint,": "),t.xp6(1),t.Q6J("ngIf",(null==i.ticket.fareCur?null:i.ticket.fareCur.cabinName)&&"null"!=(null==i.ticket.fareCur?null:i.ticket.fareCur.cabinName))("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",i.ticket.bookedInfo),t.xp6(1),t.Q6J("ngIf",i.ticket.food),t.xp6(1),t.Q6J("ngIf",i.ticket.refundableFare)}}function Rc(n,o){if(1&n&&(t.TgZ(0,"div",78,69),t.ynx(2),t.TgZ(3,"div",79),t.YNc(4,Ac,1,0,"cf-icon",80),t.YNc(5,Ec,1,0,"cf-icon",81),t.YNc(6,Dc,1,0,"cf-icon",82),t.YNc(7,Bc,1,0,"cf-icon",83),t.qZA(),t.BQk(),t.YNc(8,Lc,9,7,"ng-template",null,70,t.W1O),t.qZA()),2&n){const e=t.MAs(9),i=t.oxw();t.Q6J("placement","bottomCenter")("cfTooltip",e),t.xp6(4),t.Q6J("ngIf",null==i.ticket.bookedInfo?null:i.ticket.bookedInfo.checkedBaggage),t.xp6(1),t.Q6J("ngIf",null==i.ticket.bookedInfo?null:i.ticket.bookedInfo.handBaggage),t.xp6(1),t.Q6J("ngIf",i.ticket.food),t.xp6(1),t.Q6J("ngIf",i.ticket.refundableFare)}}function Qc(n,o){1&n&&t._UZ(0,"div",94)}function Pc(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",92),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.onChangeMode(a.key))}),t._uU(1),t.YNc(2,Qc,1,0,"div",93),t.qZA()}if(2&n){const e=o.$implicit,i=t.oxw();t.xp6(1),t.hij(" ",e.value," "),t.xp6(1),t.Q6J("ngIf",e.key===i.mode)}}function Mc(n,o){if(1&n&&(t.TgZ(0,"div",95),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.ticket.totalPrice),",",".")," \u0111 ")}}function jc(n,o){if(1&n&&(t.TgZ(0,"span",98),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.ALo(4,"mapper"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.ticket.totalPrice-t.xi3(4,7,e.ticketPriceList,e.adultDiscountAmount)),",",".")," ")}}function Yc(n,o){if(1&n&&(t.TgZ(0,"span",98),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.Dn7(2,1,t.lcZ(3,5,e.ticket.totalPrice),",","."))}}function Hc(n,o){if(1&n&&(t.ynx(0),t.YNc(1,jc,5,10,"span",96),t.YNc(2,Yc,4,7,"ng-template",null,97,t.W1O),t.BQk()),2&n){const e=t.MAs(3),i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.ticket.discountData&&i.ticket.totalPrice)("ngIfElse",e)}}function Vc(n,o){if(1&n&&(t.TgZ(0,"span",98),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(t.Dn7(2,1,t.lcZ(3,5,e.ticket.netPrice),",","."))}}function Gc(n,o){1&n&&(t.ynx(0),t.TgZ(1,"div",99)(2,"button",100),t._uU(3," H\u1ebft ch\u1ed7 "),t.qZA()(),t.BQk()),2&n&&(t.xp6(1),t.Q6J("cfTooltip","Chuy\u1ebfn bay \u0111\xe3 h\u1ebft ch\u1ed7. Ch\u1ee7 \u0111\u1ea1i l\xfd t\u1ef1 ch\u1ee7 \u0111\u1ed9ng canh gh\u1ebf nh\u1ea3 ch\u1ed7"),t.xp6(1),t.Q6J("disabled",!0))}function zc(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",101),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.onTicketSelected())}),t._uU(2," Ch\u1ecdn "),t.qZA(),t.BQk()}}function $c(n,o){if(1&n&&t._UZ(0,"btc-ticket-detail-item",108),2&n){const e=t.oxw(2);t.Q6J("ticket",e.ticket)}}function Kc(n,o){if(1&n&&t._UZ(0,"btc-ticket-info-item",109),2&n){const e=t.oxw(2);t.Q6J("ticketPriceList",e.ticketPriceList)("showDiscountFare",e.viewConfig.showDiscountFare)}}function Wc(n,o){if(1&n&&t._UZ(0,"btc-ticket-rule-item",110),2&n){const e=t.oxw(2);t.Q6J("fareRule",e.ticket.fareRulesObj[e.ticket.IDF])}}function Xc(n,o){1&n&&t._UZ(0,"div")}function ta(n,o){if(1&n&&(t.TgZ(0,"div",102)(1,"ngcontainer",103),t.YNc(2,$c,1,1,"btc-ticket-detail-item",104),t.YNc(3,Kc,1,2,"btc-ticket-info-item",105),t.YNc(4,Wc,1,1,"btc-ticket-rule-item",106),t.YNc(5,Xc,1,0,"div",107),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngSwitch",e.mode),t.xp6(1),t.Q6J("ngSwitchCase","flight"),t.xp6(1),t.Q6J("ngSwitchCase","ticket"),t.xp6(1),t.Q6J("ngSwitchCase","rule")}}function ea(n,o){1&n&&(t.TgZ(0,"div",44),t._uU(1," Bay th\u1eb3ng "),t.qZA())}function na(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.AsE("",e.delaySt," t\u1ea1i ",e.stopPoint||e.startPoint,"")}}function ia(n,o){if(1&n&&(t.ynx(0),t.YNc(1,na,2,2,"div",33),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.delay)}}function oa(n,o){if(1&n&&t.YNc(0,ia,2,1,"ng-container",71),2&n){const e=t.oxw(2);t.Q6J("ngForOf",e.ticket.segments)}}function ca(n,o){if(1&n&&(t.TgZ(0,"div",111,69),t._uU(2),t.YNc(3,oa,1,1,"ng-template",null,70,t.W1O),t.qZA()),2&n){const e=t.MAs(4),i=t.oxw();t.Q6J("placement","bottomCenter")("cfTooltip",e),t.xp6(2),t.hij(" ",i.ticket.numOfStops," \u0111i\u1ec3m d\u1eebng ")}}function aa(n,o){if(1&n&&(t.TgZ(0,"div",56)(1,"span",76,69),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("placement","topCenter")("cfTooltip","C\xf2n "+((null==e.ticket.fareCur?null:e.ticket.fareCur.seatRemain)||0)+" ch\u1ed7 tr\u1ed1ng"),t.xp6(2),t.Oqu(null==e.ticket.fareCur?null:e.ticket.fareCur.seatRemain)}}function ra(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("\xa0(",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,")")}}function la(n,o){if(1&n&&(t.TgZ(0,"span")(1,"span",77),t._uU(2),t.qZA(),t.YNc(3,ra,2,1,"span",33),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(null==e.ticket.fareCur?null:e.ticket.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function sa(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("H\u1ea1ng ch\u1ed7: ",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,"")}}function ua(n,o){if(1&n&&t.YNc(0,sa,2,1,"span",33),2&n){const e=t.oxw(2);t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function pa(n,o){if(1&n&&(t.TgZ(0,"div",72),t.YNc(1,aa,4,3,"div",73),t.TgZ(2,"div",112),t.YNc(3,la,4,2,"span",31),t.YNc(4,ua,1,1,"ng-template",null,75,t.W1O),t.qZA()()),2&n){const e=t.MAs(5),i=t.oxw();t.xp6(1),t.Q6J("ngIf","GDS"!==i.ticket.provider&&"BSP"!==i.ticket.provider&&"FLY_ONE"!==i.ticket.provider),t.xp6(2),t.Q6J("ngIf",(null==i.ticket.fareCur?null:i.ticket.fareCur.cabinName)&&"null"!=(null==i.ticket.fareCur?null:i.ticket.fareCur.cabinName))("ngIfElse",e)}}function da(n,o){1&n&&t._UZ(0,"cf-icon",84)}function _a(n,o){1&n&&t._UZ(0,"cf-icon",85)}function ga(n,o){1&n&&t._UZ(0,"cf-icon",86)}function ma(n,o){1&n&&t._UZ(0,"cf-icon",87)}function fa(n,o){if(1&n&&(t.TgZ(0,"div",113),t.ynx(1),t.TgZ(2,"div",79),t.YNc(3,da,1,0,"cf-icon",80),t.YNc(4,_a,1,0,"cf-icon",81),t.YNc(5,ga,1,0,"cf-icon",82),t.YNc(6,ma,1,0,"cf-icon",83),t.qZA(),t.BQk(),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",null==e.ticket.bookedInfo?null:e.ticket.bookedInfo.checkedBaggage),t.xp6(1),t.Q6J("ngIf",null==e.ticket.bookedInfo?null:e.ticket.bookedInfo.handBaggage),t.xp6(1),t.Q6J("ngIf",e.ticket.food),t.xp6(1),t.Q6J("ngIf",e.ticket.refundableFare)}}function ha(n,o){if(1&n&&(t.TgZ(0,"div",43),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.ticket.totalPrice),",",".")," \u0111 ")}}function xa(n,o){if(1&n&&(t.TgZ(0,"div",43),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.ticket.netPrice),",",".")," \u0111")}}function va(n,o){1&n&&(t.ynx(0),t.TgZ(1,"div",99)(2,"button",114),t._uU(3," H\u1ebft ch\u1ed7 "),t.qZA()(),t.BQk()),2&n&&(t.xp6(1),t.Q6J("cfTooltip","Chuy\u1ebfn bay \u0111\xe3 h\u1ebft ch\u1ed7. Ch\u1ee7 \u0111\u1ea1i l\xfd t\u1ef1 ch\u1ee7 \u0111\u1ed9ng canh gh\u1ebf nh\u1ea3 ch\u1ed7"),t.xp6(1),t.Q6J("disabled",!0))}function Ca(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",115),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.onTicketSelected())}),t._uU(2," Ch\u1ecdn "),t.qZA(),t.BQk()}}function ya(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",116),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.reselectClick.emit())}),t.TgZ(2,"div"),t._uU(3,"Ch\u1ecdn l\u1ea1i"),t.qZA()(),t.BQk()}}const Ta=function(n){return{"!text-secondary-3-4 !bg-secondary-3-1 !border-secondary-3-4":n}};function ba(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",121),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.onChangeMode(a.key))}),t._uU(1),t.qZA()}if(2&n){const e=o.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.VKq(2,Ta,e.key===i.mode)),t.xp6(1),t.hij(" ",e.valueMobile," ")}}function ka(n,o){if(1&n&&t._UZ(0,"btc-ticket-detail-item",108),2&n){const e=t.oxw(3);t.Q6J("ticket",e.ticket)}}function Za(n,o){if(1&n&&t._UZ(0,"btc-ticket-info-item",109),2&n){const e=t.oxw(3);t.Q6J("ticketPriceList",e.ticketPriceList)("showDiscountFare",e.viewConfig.showDiscountFare)}}function Aa(n,o){if(1&n&&t._UZ(0,"btc-ticket-rule-item",110),2&n){const e=t.oxw(3);t.Q6J("fareRule",e.ticket.fareRulesObj[e.ticket.IDF])}}function Ea(n,o){1&n&&t._UZ(0,"div")}function Da(n,o){if(1&n&&(t.TgZ(0,"div",102)(1,"ngcontainer",103),t.YNc(2,ka,1,1,"btc-ticket-detail-item",104),t.YNc(3,Za,1,2,"btc-ticket-info-item",105),t.YNc(4,Aa,1,1,"btc-ticket-rule-item",106),t.YNc(5,Ea,1,0,"div",107),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngSwitch",e.mode),t.xp6(1),t.Q6J("ngSwitchCase","flight"),t.xp6(1),t.Q6J("ngSwitchCase","ticket"),t.xp6(1),t.Q6J("ngSwitchCase","rule")}}function Ba(n,o){if(1&n&&(t.TgZ(0,"div",117)(1,"div",118),t.YNc(2,ba,2,4,"div",119),t.qZA(),t.TgZ(3,"div",120),t.YNc(4,Da,6,4,"div",34),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.modeOptions),t.xp6(2),t.Q6J("ngIf",e.mode)}}const wa=function(n){return{"border-secondary-3-2 border ":n}},Ia=function(n){return{" !bg-secondary-3-1":n}};let Sa=(()=>{class n{getPaxTypeDisplay(e){var i;return(null===(i=null==G.S?void 0:G.S.find(c=>c.value&&c.value===e.journey[0].paxType))||void 0===i?void 0:i.name)||""}constructor(e,i,c,a,r,u){this.cfIconRegister=e,this._helperSvc=i,this._helperResultSvc=c,this._cdr=a,this.bottomSheetService=r,this._mobileDetectService=u,this.selectTicket=new t.vpe,this.reselectClick=new t.vpe,this.isMobile=!1,this.ticketSelectedMobile=!1,this.ticketPriceList=[],this.mode="",this.modeOptions=(0,_t.cloneDeep)(G.Mf),this.hasFareRule=g=>!["Kh\xf4ng","0 kg","0 KG","0 Kg"].includes(g.trim()),this.ndcTimeLimitCountDown$=g=>{let m=0;return(0,Ot.H)(0,1e3).pipe((0,H.U)(()=>(m++,1e3*(g.fareOptions[0].ndcTimeLimit-m))),(0,Jt.o)(h=>h>=0))},this.adultDiscountAmount=g=>{var m;return(null===(m=g.find(h=>h.type.includes("ADT")))||void 0===m?void 0:m.discountAmount)||0},e.registerIcons([p._7G,p.JbC,p.d7d,p.Npe,p.Gey,p.YwC,p.KYu,p.ILM,p.D7,p.o1t])}ngOnChanges(e){var i;null!==(i=e.ticket)&&void 0!==i&&i.currentValue&&(this.ticket=this.formatTicketData(this.ticket))}ngOnInit(){var e;this.isMobile=this._mobileDetectService.isMobile(),(null===(e=this.ticketPriceList)||void 0===e||!e.length)&&this.progressDataForDetailItem(this.ticket)}formatTicketData(e){var i,c,a,r;const u=null===(c=null===(i=e.fareRuleClassesObj[e.IDF])||void 0===i?void 0:i.find(h=>"CHECKED_BAGGAGE"===h.cate))||void 0===c?void 0:c.value,g=null===(r=null===(a=e.fareRuleClassesObj[e.IDF])||void 0===a?void 0:a.find(h=>"HAND_BAGGAGE"===h.cate))||void 0===r?void 0:r.value,m=Object.assign(Object.assign({},e),{segments:e.segments.map(h=>{var T,Z,d,y,k,A;return Object.assign(Object.assign({},h),{bookedInfo:Object.assign(Object.assign({},e.bookedInfo),{checkedBaggage:u&&this.hasFareRule(u)?u:null!==(T=h.bookedInfo)&&void 0!==T&&T.checkedBaggage&&this.hasFareRule(null===(Z=h.bookedInfo)||void 0===Z?void 0:Z.checkedBaggage)?null===(d=h.bookedInfo)||void 0===d?void 0:d.checkedBaggage:"",handBaggage:g&&this.hasFareRule(g)?g:null!==(y=h.bookedInfo)&&void 0!==y&&y.handBaggage&&this.hasFareRule(null===(k=h.bookedInfo)||void 0===k?void 0:k.handBaggage)?null===(A=h.bookedInfo)||void 0===A?void 0:A.handBaggage:""})})})});return(0,P.yE)(at,m,{excludeExtraneousValues:!0})}cardClick(e){console.log(e)}onTicketSelected(){this.selectTicket.emit(this.ticket)}onChangeMode(e){this.mode=this.mode===e?"":e}progressDataForDetailItem(e){this.ticketPriceList=[...this._helperResultSvc.progressPriceList(this.searchData,[e])]}onTicketDetailMobile(e,i){e.stopPropagation(),this.mode="flight",this.bottomSheetService.open(i,{headerTitle:"Th\xf4ng tin chuy\u1ebfn bay",containerFullHeigh:!0,rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"}).containerInstance._rightButtonClick.subscribe(()=>{this.bottomSheetService.dismiss(),this.mode=""})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.KNP),t.Y36(Zt.J),t.Y36(ot),t.Y36(t.sBO),t.Y36(S.a2),t.Y36(it.L))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-item"]],inputs:{ticket:"ticket",searchData:"searchData",viewConfig:"viewConfig",ticketSelectedMobile:"ticketSelectedMobile"},outputs:{selectTicket:"selectTicket",reselectClick:"reselectClick"},standalone:!0,features:[t.TTD,t.jDz],decls:94,vars:64,consts:[[1,"bg-white","rounded-xl","shadow-md","md:hidden"],[1,"justify-between","flex-col","flex"],[1,"flex","flex-col","justify-between","flex-1","pt-4","gap-4","relative"],[1,"float-right","w-fit","md:hidden","absolute","right-0","top-0"],["class","px-2 py-1 bg-primary-1-4 text-body-sm text-neutral-white rounded flex gap-x-1 items-center",4,"ngIf"],["class","flex gap-x-1 items-center py-1 px-2 bg-secondary-3-1 rounded-bl-lg text-secondary-3-4 text-body-sm",4,"ngIf"],[1,"flex","justify-between"],[1,"flex","flex-col","gap-y-4","px-4"],[1,"flex","gap-x-2"],["class","px-2 py-1 bg-secondary-3-1 text-body-sm text-secondary-3-4 rounded flex gap-x-1 items-center",4,"ngIf"],[1,"flex","flex-1","justify-between","gap-3"],[1,"flex-shrink-0","items-center","flex","flex-col","gap-[10px]","max-w-[110px]"],[1,"w-[100px]","h-[40px]","object-contain",3,"src"],[1,"text-body-md-short","text-neutral-gray-4","text-center"],[1,"flex-1","flex","items-center"],[1,"flex-1","px-2"],[1,"flex","flex-col","gap-y-2"],[1,"text-heading-sm","text-neutral-black","whitespace-nowrap"],[1,"text-body-md-short","text-neutral-gray-4","whitespace-nowrap"],["class","flex-1 flex flex-col gap-y-2 px-2",4,"ngIf"],[1,"flex","flex-col","flex-1","gap-y-2","px-2"],["class","text-body-md-short text-neutral-gray-4 whitespace-nowrap",4,"ngIf"],["class","text-body-md-short text-secondary-3-4 hover:text-secondary-7-4 cursor-default whitespace-nowrap",3,"placement","cfTooltip",4,"ngIf"],["class","flex gap-x-1 items-center",4,"ngIf"],["class","w-fit flex gap-2 hover:text-secondary-7-4",3,"placement","cfTooltip",4,"ngIf"],[1,"flex","text-espressive-sm","text-secondary-3-4","md:hidden"],["class","relative flex items-center mr-3 px-0.5 pb-4 pt-1.5 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"p-4","border-l","border-neutral-gray-1","flex","flex-col","justify-between","w-full","min-w-[168px]","max-w-[192px]","md:hidden"],[1,"flex","flex-col","mb-3"],[1,"flex","flex-col","items-end"],["class","visible line-through mb-4 text-neutral-gray-4 text-body-sm whitespace-nowrap font-semibold",4,"ngIf"],[4,"ngIf","ngIfElse"],["netPriceTpl",""],[4,"ngIf"],["class","border-t border-neutral-gray-1",4,"ngIf"],[1,"w-full","rounded-lg","shadow-lg","hidden","flex-col","md:flex",3,"ngClass"],[1,"bg-white","w-full","flex","justify-between","rounded-t-lg",3,"ngClass"],[1,"flex-1","flex"],[1,"flex","flex-col","p-4","gap-3","justify-between","flex-1"],[1,"flex","gap-3"],[1,"flex-shrink-0","items-center","flex","flex-col","gap-[10px]","max-w-[36px]"],[1,"w-[36px]","h-[36px]","object-contain",3,"src"],[1,"flex","flex-col","text-center"],[1,"text-heading-xs","text-neutral-black","whitespace-nowrap"],[1,"text-express-xs","text-neutral-gray-4","whitespace-nowrap"],[1,"flex","flex-col","flex-1","items-center"],[1,"text-express-xs","text-neutral-gray-4"],[1,"flex-1","w-full","flex","items-center","justify-between"],[1,"flex-1","h-[1px]","bg-neutral-gray-4"],[1,"w-1","h-1","border-[2px]","border-t-neutral-gray-4","border-r-neutral-gray-4","border-b-transparent","border-l-transparent","rotate-45"],["class","text-express-xs text-neutral-gray-4 whitespace-nowrap",4,"ngIf"],["class","text-express-xs text-secondary-3-4 hover:text-secondary-7-4 cursor-default whitespace-nowrap",3,"placement","cfTooltip",4,"ngIf"],[1,"flex","flex-1","gap-2"],["class","w-fit flex gap-2 hover:text-secondary-7-4",4,"ngIf"],[1,"flex","flex-col","justify-center","items-center","gap-2","pl-2","pr-3","pb-3","border-l","border-neutral-gray-1"],[1,"flex","flex-col","font-medium"],[1,"flex","justify-end","items-center","gap-x-2"],["class","text-heading-xs text-neutral-black whitespace-nowrap",4,"ngIf"],[1,"w-full","rounded-b-lg","bg-blue-1","py-2","px-4","flex","text-center","justify-center","items-center","text-blue-4","text-body-sm","font-medium",3,"click"],["detailTicketMobileTpl",""],[1,"px-2","py-1","bg-primary-1-4","text-body-sm","text-neutral-white","rounded","flex","gap-x-1","items-center"],["icon","ticket","size","small"],[1,"flex","gap-x-1","items-center","py-1","px-2","bg-secondary-3-1","rounded-bl-lg","text-secondary-3-4","text-body-sm"],["icon","document","size","small"],[1,"px-2","py-1","bg-secondary-3-1","text-body-sm","text-secondary-3-4","rounded","flex","gap-x-1","items-center"],["icon","user","size","small"],["icon","money","size","small"],[1,"flex-1","flex","flex-col","gap-y-2","px-2"],[1,"text-body-md-short","text-secondary-3-4","hover:text-secondary-7-4","cursor-default","whitespace-nowrap",3,"placement","cfTooltip"],["tooltip",""],["toolTipTemplate",""],[4,"ngFor","ngForOf"],[1,"flex","gap-x-1","items-center"],["class","flex justify-end items-center gap-x-2",4,"ngIf"],[1,"text-heading-sm","text-neutral-black"],["noncabinTemplate",""],[1,"text-espressive-sm","py-0.5","px-2","rounded-[4px]","bg-neutral-gray-1","cursor-default","hover:bg-secondary-7-1","hover:text-secondary-7-4",3,"placement","cfTooltip"],[1,"capitalize"],[1,"w-fit","flex","gap-2","hover:text-secondary-7-4",3,"placement","cfTooltip"],[1,"flex","items-center","gap-x-3"],["icon","luggage","size","small",4,"ngIf"],["icon","office","size","small",4,"ngIf"],["icon","food","size","small",4,"ngIf"],["icon","profit","size","small",4,"ngIf"],["icon","luggage","size","small"],["icon","office","size","small"],["icon","food","size","small"],["icon","profit","size","small"],[1,"text-express-sm"],["class","flex item-center gap-x-2 ",4,"ngIf"],[1,"flex","item-center","gap-x-2"],[1,"text-body-sm"],[1,"relative","flex","items-center","mr-3","px-0.5","pb-4","pt-1.5","cursor-pointer",3,"click"],["class","absolute bottom-0 w-full h-[3px] bg-primary-2-3 rounded",4,"ngIf"],[1,"absolute","bottom-0","w-full","h-[3px]","bg-primary-2-3","rounded"],[1,"visible","line-through","mb-4","text-neutral-gray-4","text-body-sm","whitespace-nowrap","font-semibold"],["class","text-heading-lg font-medium",4,"ngIf","ngIfElse"],["noDiscountTpl",""],[1,"text-heading-lg","font-medium"],["color","black",3,"cfTooltip"],["cf-button","","size","small","type","solid",1,"w-40","justify-center","py-[5px]","!bg-neutral-black","opacity-50",3,"disabled"],["cf-button","","size","small","color","primary-1","type","solid",1,"min-w-[130px]","justify-center","py-[5px]",3,"click"],[1,"border-t","border-neutral-gray-1"],[3,"ngSwitch"],[3,"ticket",4,"ngSwitchCase"],[3,"ticketPriceList","showDiscountFare",4,"ngSwitchCase"],[3,"fareRule",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ticket"],[3,"ticketPriceList","showDiscountFare"],[3,"fareRule"],[1,"text-express-xs","text-secondary-3-4","hover:text-secondary-7-4","cursor-default","whitespace-nowrap",3,"placement","cfTooltip"],[1,"text-express-sm","text-neutral-black","whitespace-nowrap"],[1,"w-fit","flex","gap-2","hover:text-secondary-7-4"],["cf-button","","size","small","type","solid",1,"w-[82px]","justify-center","py-[5px]","!bg-neutral-black","opacity-50",3,"disabled"],["cf-button","","size","small","color","primary-1","type","solid",1,"w-[82px]","justify-center","py-[5px]",3,"click"],["type","secondary","cf-button","","size","small",1,"w-[82px]","justify-center","bg-neutral-white",3,"click"],[1,"w-full","h-full","flex","flex-col"],[1,"flex","text-espressive-md","gap-2","px-4","py-2"],["class","relative border flex font-medium items-center text-neutral-gray-4 px-4 py-1.5 border-white cursor-pointer rounded-full",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-4","bg-neutral-gray-1","h-full","overflow-y-scroll","gap-3","flex","flex-col"],[1,"relative","border","flex","font-medium","items-center","text-neutral-gray-4","px-4","py-1.5","border-white","cursor-pointer","rounded-full",3,"ngClass","click"]],template:function(e,i){if(1&e){const c=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,cc,4,0,"div",4),t.YNc(5,ac,4,0,"div",5),t.YNc(6,rc,4,0,"div",5),t.YNc(7,lc,4,0,"div",5),t.qZA(),t.TgZ(8,"div",6)(9,"div",7)(10,"div",8),t.YNc(11,uc,6,4,"div",9),t.YNc(12,pc,4,0,"div",9),t.YNc(13,dc,5,4,"div",9),t.ALo(14,"mapper"),t.YNc(15,_c,4,0,"div",9),t.qZA(),t.TgZ(16,"div",10)(17,"div",11),t._UZ(18,"img",12),t.TgZ(19,"div",13),t._uU(20),t.qZA()(),t.TgZ(21,"div",14)(22,"div",15)(23,"div",16)(24,"div",17),t._uU(25),t.ALo(26,"date"),t.ALo(27,"date"),t.qZA(),t.TgZ(28,"div",18),t._uU(29),t.ALo(30,"formatVietnameseDate"),t.qZA()()(),t.YNc(31,gc,5,3,"div",19),t.TgZ(32,"div",20)(33,"div",17),t._uU(34),t.qZA(),t.YNc(35,mc,2,0,"div",21),t.YNc(36,vc,5,3,"div",22),t.qZA(),t.TgZ(37,"div",20),t.YNc(38,Zc,6,3,"div",23),t.YNc(39,Rc,10,6,"div",24),t.qZA()()(),t.TgZ(40,"div",25),t.YNc(41,Pc,3,2,"div",26),t.qZA()(),t.TgZ(42,"div",27)(43,"div",28)(44,"div",29),t.YNc(45,Mc,4,7,"div",30),t.YNc(46,Hc,4,2,"ng-container",31),t.YNc(47,Vc,4,7,"ng-template",null,32,t.W1O),t.qZA()(),t.YNc(49,Gc,4,2,"ng-container",33),t.YNc(50,zc,3,0,"ng-container",33),t.qZA()()(),t.YNc(51,ta,6,4,"div",34),t.qZA()(),t.TgZ(52,"div",35)(53,"div",36)(54,"div",37)(55,"div",38)(56,"div",39)(57,"div",40),t._UZ(58,"img",41),t.qZA(),t.TgZ(59,"div",42)(60,"div",43),t._uU(61),t.ALo(62,"date"),t.qZA(),t.TgZ(63,"div",44),t._uU(64),t.qZA()(),t.TgZ(65,"div",45)(66,"div",46),t._uU(67),t.qZA(),t.TgZ(68,"div",47),t._UZ(69,"div",48)(70,"div",49),t.qZA(),t.YNc(71,ea,2,0,"div",50),t.YNc(72,ca,5,3,"div",51),t.qZA(),t.TgZ(73,"div",42)(74,"div",43),t._uU(75),t.ALo(76,"date"),t.qZA(),t.TgZ(77,"div",44),t._uU(78),t.qZA()()(),t.TgZ(79,"div",52),t.YNc(80,pa,6,3,"div",23),t.YNc(81,fa,7,4,"div",53),t.qZA()(),t.TgZ(82,"div",54)(83,"div",55)(84,"div",56),t.YNc(85,ha,4,7,"div",57),t.YNc(86,xa,4,7,"div",57),t.qZA()(),t.YNc(87,va,4,2,"ng-container",33),t.YNc(88,Ca,3,0,"ng-container",33),t.YNc(89,ya,4,0,"ng-container",33),t.qZA()()(),t.TgZ(90,"div",58),t.NdJ("click",function(r){t.CHM(c);const u=t.MAs(93);return t.KtG(i.onTicketDetailMobile(r,u))}),t._uU(91," Chi ti\u1ebft "),t.qZA()(),t.YNc(92,Ba,5,2,"ng-template",null,59,t.W1O)}if(2&e){const c=t.MAs(48);t.xp6(4),t.Q6J("ngIf","IVS"===i.ticket.provider),t.xp6(1),t.Q6J("ngIf","GDS"===i.ticket.provider),t.xp6(1),t.Q6J("ngIf","BSP"===i.ticket.provider),t.xp6(1),t.Q6J("ngIf","AIR_1G"===i.ticket.provider),t.xp6(4),t.Q6J("ngIf",i.ticket.isNdcFare),t.xp6(1),t.Q6J("ngIf",i.ticket.isLccFare),t.xp6(1),t.Q6J("ngIf",("BSP"===i.ticket.provider||"AIR_1G"===i.ticket.provider)&&t.xi3(14,43,i.searchData,i.getPaxTypeDisplay)),t.xp6(2),t.Q6J("ngIf",i.ticket.privateFare),t.xp6(3),t.Q6J("src",i.ticket.logoAirline,t.LSH),t.xp6(2),t.hij(" ",i.ticket.operatingName?i.ticket.operatingName:i.ticket.airlineName,""),t.xp6(5),t.AsE("",t.xi3(26,46,i.ticket.departure.localTime,"HH:mm")," - ",t.xi3(27,49,i.ticket.arrival.localTime,"HH:mm"),""),t.xp6(4),t.hij(" ",t.lcZ(30,52,i.ticket.departure.localTime),""),t.xp6(2),t.Q6J("ngIf",i.viewConfig.showDuration),t.xp6(3),t.Oqu(i.ticket.flightNumber),t.xp6(1),t.Q6J("ngIf",0===i.ticket.numOfStops),t.xp6(1),t.Q6J("ngIf",i.ticket.numOfStops>0),t.xp6(2),t.Q6J("ngIf",!i.viewConfig.hideFareClass),t.xp6(1),t.Q6J("ngIf",i.ticket.fareRuleClassesData||i.ticket.refundableFare||i.ticket.food||i.ticket.bookedInfo),t.xp6(2),t.Q6J("ngForOf",i.modeOptions),t.xp6(4),t.Q6J("ngIf",i.viewConfig.showDiscountFare&&i.ticket.discountData&&i.ticket.totalPrice),t.xp6(1),t.Q6J("ngIf",!i.viewConfig.showNetPrice)("ngIfElse",c),t.xp6(3),t.Q6J("ngIf",0===(null==i.ticket.fareCur?null:i.ticket.fareCur.seatRemain)),t.xp6(1),t.Q6J("ngIf",0!==(null==i.ticket.fareCur?null:i.ticket.fareCur.seatRemain)),t.xp6(1),t.Q6J("ngIf",i.mode),t.xp6(1),t.Q6J("ngClass",t.VKq(60,wa,i.ticketSelectedMobile)),t.xp6(1),t.Q6J("ngClass",t.VKq(62,Ia,i.ticketSelectedMobile)),t.xp6(5),t.Q6J("src",i.ticket.logoAirline,t.LSH),t.xp6(3),t.Oqu(t.xi3(62,54,i.ticket.departure.localTime,"HH:mm")),t.xp6(3),t.Oqu(i.ticket.startPoint),t.xp6(3),t.Oqu(i.ticket.durationStr),t.xp6(4),t.Q6J("ngIf",0===i.ticket.numOfStops),t.xp6(1),t.Q6J("ngIf",i.ticket.numOfStops>0),t.xp6(3),t.Oqu(t.xi3(76,57,i.ticket.arrival.localTime,"HH:mm")),t.xp6(3),t.Oqu(i.ticket.endPoint),t.xp6(2),t.Q6J("ngIf",!i.viewConfig.hideFareClass),t.xp6(1),t.Q6J("ngIf",i.ticket.fareRuleClassesData||i.ticket.refundableFare||i.ticket.food||i.ticket.bookedInfo),t.xp6(4),t.Q6J("ngIf",!i.viewConfig.showNetPrice),t.xp6(1),t.Q6J("ngIf",i.viewConfig.showNetPrice),t.xp6(1),t.Q6J("ngIf",0===(null==i.ticket.fareCur?null:i.ticket.fareCur.seatRemain)),t.xp6(1),t.Q6J("ngIf",0!==(null==i.ticket.fareCur?null:i.ticket.fareCur.seatRemain)&&!i.ticketSelectedMobile),t.xp6(1),t.Q6J("ngIf",i.ticketSelectedMobile)}},dependencies:[_.ez,_.mk,_.sg,_.O5,_.RF,_.n9,_.ED,_.Ov,_.JJ,_.uU,lt,wt.Lk,p.AxE,p.Sm8,I.N8,I.Xq,j.q,Y.AS,te,ee,ne],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();var ie=f(74891),gt=f(19123),It=f(98184);function Fa(n,o){1&n&&(t.O4$(),t.TgZ(0,"svg",17),t._UZ(1,"path",18),t.qZA())}const Na=function(n){return{"bg-neutral-gray-1":n}};function qa(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",14),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.onFilterChange(a.key))}),t.TgZ(1,"div",15),t.YNc(2,Fa,2,0,"svg",16),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA()()}if(2&n){const e=o.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.VKq(3,Na,i.sortTypeTemp===e.key)),t.xp6(2),t.Q6J("ngIf",i.sortTypeTemp===e.key),t.xp6(2),t.Oqu(e.value)}}function Oa(n,o){if(1&n&&(t.TgZ(0,"div",6)(1,"div",12),t.YNc(2,qa,5,5,"div",13),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.sortOptions)}}function Ja(n,o){if(1&n&&(t.TgZ(0,"cf-radio",25),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.key),t.xp6(1),t.hij(" ",e.value," ")}}function Ua(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"cf-radio-group",21),t.NdJ("checkChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.onFilterChange(c))})("ngModelChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.sortTypeTemp=c)}),t.YNc(3,Ja,2,2,"cf-radio",22),t.qZA()(),t.TgZ(4,"div",23)(5,"button",24),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.onApply())}),t._uU(6,"X\xe1c nh\u1eadn"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngModel",e.sortTypeTemp),t.xp6(1),t.Q6J("ngForOf",e.sortOptions)}}let La=(()=>{class n{constructor(e,i,c){this.bottomSheetService=e,this._mobileDetectService=i,this.cfIconRegister=c,this.sortType="min_price",this.sortTypeChange=new t.vpe,this.OPTIONS_SORT=zt,this.sortOptions=Object.entries(zt).map(([a,r])=>({key:a,value:r})),this.isOpen=!1,this.isMobile=!1,c.registerIcons([p.PlV])}ngOnInit(){this.isMobile=this._mobileDetectService.isMobile()}ngOnChanges(e){e.sortType&&(this.sortTypeTemp=e.sortType.currentValue)}openSelectSort(e){e.stopPropagation(),this.isOpen=!this.isOpen}outsideClick(){this.isOpen=!1}onFilterChange(e){this.isMobile?this.sortTypeTemp=e:(this.sortTypeChange.emit(e),this.isOpen=!1)}openBottomSheet(e){this.bottomSheetService.open(e,{headerTitle:"S\u1eafp x\u1ebfp",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"}).containerInstance._rightButtonClick.subscribe(()=>{this.bottomSheetService.dismiss(),this.sortTypeTemp=this.sortType})}onApply(){this.sortTypeChange.emit(this.sortTypeTemp),this.bottomSheetService.dismiss()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.a2),t.Y36(it.L),t.Y36(p.KNP))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-result-options-sort"]],inputs:{sortType:"sortType"},outputs:{sortTypeChange:"sortTypeChange"},standalone:!0,features:[t.TTD,t.jDz],decls:18,vars:3,consts:[[1,"gap-x-1.5","items-center","border","w-fit","border-neutral-gray-3","rounded-full","px-4","py-[5px]","hidden","md:flex",3,"click"],[1,"text-body-md","whitespace-nowrap"],["icon","sort","size","small",1,"text-neutral-gray-5"],["cdkOverlayOrigin","",1,"min-w-[212px]","md:hidden","bg-white","rounded-2xl","px-4","py-4","flex","justify-between","h-fit",3,"click"],["trigger","","originOverlay","cdkOverlayOrigin","elParent",""],[1,"flex","gap-3","cursor-pointer","items-center","justify-between"],[1,"flex","flex-col"],[1,"text-espressive-lg","font-semibold"],[1,"text-body-md-short"],["icon","chevron_down","size","small",1,"mr-2"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","overlayOutsideClick"],["mobileTpl",""],[1,"shadow-cf-lg","bg-neutral-white","rounded-lg","text-body-md","py-2","px-2","min-w-[232px]","w-[232px]"],["class"," py-3 px-3 flex items-center gap-x-2.5 hover:bg-neutral-gray-1 hover:cursor-pointer rounded-xl",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"py-3","px-3","flex","items-center","gap-x-2.5","hover:bg-neutral-gray-1","hover:cursor-pointer","rounded-xl",3,"ngClass","click"],[1,"w-4","h-4"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.7763 3.5019C14.0514 3.74651 14.0762 4.16789 13.8316 4.44308L6.7205 12.4431C6.59399 12.5854 6.41265 12.6668 6.22223 12.6668C6.0318 12.6668 5.85047 12.5854 5.72396 12.4431L2.1684 8.44308C1.92379 8.16789 1.94858 7.74651 2.22376 7.5019C2.49895 7.25728 2.92033 7.28207 3.16495 7.55726L6.22223 10.9967L12.8351 3.55726C13.0797 3.28207 13.5011 3.25729 13.7763 3.5019Z","fill","#2C2C2C"],[1,"flex","flex-col","md:w-full","gap-4"],[1,"p-4","flex","flex-col","gap-3"],[1,"flex","gap-4","flex-col",3,"ngModel","checkChange","ngModelChange"],["size","medium",3,"value",4,"ngFor","ngForOf"],[1,"p-4","w-full","gap-x-4","hidden","shadow-cf-large-top","md:flex"],["cf-button","",1,"w-full","justify-center",3,"click"],["size","medium",3,"value"]],template:function(e,i){if(1&e){const c=t.EpF();t.TgZ(0,"div",0),t.NdJ("click",function(){t.CHM(c);const r=t.MAs(17);return t.KtG(i.openBottomSheet(r))}),t.TgZ(1,"div",1),t._uU(2,"S\u1eafp x\u1ebfp"),t.qZA(),t._UZ(3,"cf-icon",2),t.qZA(),t.TgZ(4,"div",3,4),t.NdJ("click",function(r){return i.openSelectSort(r)}),t.TgZ(8,"div",5)(9,"div",6)(10,"div",7),t._uU(11," S\u1eafp x\u1ebfp "),t.qZA(),t.TgZ(12,"div",8),t._uU(13),t.qZA()(),t._UZ(14,"cf-icon",9),t.qZA()(),t.YNc(15,Oa,3,1,"ng-template",10),t.NdJ("overlayOutsideClick",function(){return i.outsideClick()}),t.YNc(16,Ua,7,2,"ng-template",null,11,t.W1O)}if(2&e){const c=t.MAs(6);t.xp6(13),t.hij(" ",i.OPTIONS_SORT[i.sortTypeTemp]," "),t.xp6(2),t.Q6J("cdkConnectedOverlayOrigin",c)("cdkConnectedOverlayOpen",i.isOpen)}},dependencies:[_.ez,_.mk,_.sg,_.O5,ie.f,It.pI,It.xu,p.AxE,p.Sm8,I.N8,I.Xq,gt.T,gt.o,D.u5,D.JJ,D.On],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();function Ra(n,o){if(1&n&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.Q6J("cfTooltip",e.journey.returnDateTooltip),t.xp6(1),t.hij("+",e.journey.stopOvernight,"")}}function Qa(n,o){1&n&&(t.TgZ(0,"div",5),t._uU(1," Bay th\u1eb3ng "),t.qZA())}function Pa(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.AsE("",e.delaySt," t\u1ea1i ",e.stopPoint||e.startPoint,"")}}function Ma(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Pa,2,2,"div",22),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.delay)}}function ja(n,o){if(1&n&&t.YNc(0,Ma,2,1,"ng-container",21),2&n){const e=t.oxw(2);t.Q6J("ngForOf",e.journey.segments)}}function Ya(n,o){if(1&n&&(t.TgZ(0,"div",18,19),t._uU(2),t.YNc(3,ja,1,1,"ng-template",null,20,t.W1O),t.qZA()),2&n){const e=t.MAs(4),i=t.oxw();t.Q6J("placement","bottomCenter")("cfTooltip",e),t.xp6(2),t.hij(" ",i.journey.numOfStops," \u0111i\u1ec3m d\u1eebng ")}}function Ha(n,o){if(1&n&&(t.TgZ(0,"div",23)(1,"span",24,19),t._uU(3),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("placement","topCenter")("cfTooltip","C\xf2n "+((null==e.journey.fareCur?null:e.journey.fareCur.seatRemain)||0)+" ch\u1ed7 tr\u1ed1ng"),t.xp6(2),t.Oqu(null==e.journey.fareCur?null:e.journey.fareCur.seatRemain)}}function Va(n,o){if(1&n&&(t.TgZ(0,"span",28),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("(",null==e.journey.fareCur?null:e.journey.fareCur.fareClass,")")}}function Ga(n,o){if(1&n&&(t.TgZ(0,"span",25)(1,"span",26),t._uU(2),t.qZA(),t.YNc(3,Va,2,1,"span",27),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(null==e.journey.fareCur?null:e.journey.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.journey.fareCur?null:e.journey.fareCur.fareClass)}}function za(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("H\u1ea1ng ch\u1ed7: ",null==e.journey.fareCur?null:e.journey.fareCur.fareClass,"")}}function $a(n,o){if(1&n&&t.YNc(0,za,2,1,"span",22),2&n){const e=t.oxw();t.Q6J("ngIf",null==e.journey.fareCur?null:e.journey.fareCur.fareClass)}}function Ka(n,o){1&n&&t._UZ(0,"cf-icon",35)}function Wa(n,o){1&n&&t._UZ(0,"cf-icon",36)}function Xa(n,o){1&n&&t._UZ(0,"cf-icon",37)}function tr(n,o){1&n&&t._UZ(0,"cf-icon",38)}function er(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij("\xa0(",null==e.journey.fareCur?null:e.journey.fareCur.fareClass,")")}}function nr(n,o){if(1&n&&(t.TgZ(0,"span")(1,"span",26),t._uU(2),t.qZA(),t.YNc(3,er,2,1,"span",22),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(null==e.journey.fareCur?null:e.journey.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.journey.fareCur?null:e.journey.fareCur.fareClass)}}function ir(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij("H\u1ea1ng ch\u1ed7: ",null==e.journey.fareCur?null:e.journey.fareCur.fareClass,"")}}function or(n,o){if(1&n&&t.YNc(0,ir,2,1,"span",22),2&n){const e=t.oxw(3);t.Q6J("ngIf",null==e.journey.fareCur?null:e.journey.fareCur.fareClass)}}function cr(n,o){if(1&n&&(t.TgZ(0,"div",43),t._UZ(1,"cf-icon",35),t.TgZ(2,"div",44),t._uU(3),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(3),t.hij("K\xfd g\u1eedi: ",null==e.journey.bookedInfo?null:e.journey.bookedInfo.checkedBaggage,"")}}function ar(n,o){if(1&n&&(t.TgZ(0,"div",43),t._UZ(1,"cf-icon",36),t.TgZ(2,"div",44),t._uU(3),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(3),t.hij("X\xe1ch tay: ",e.journey.bookedInfo.handBaggage,"")}}function rr(n,o){if(1&n&&(t.ynx(0),t.YNc(1,cr,4,1,"div",42),t.YNc(2,ar,4,1,"div",42),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.journey.bookedInfo.checkedBaggage),t.xp6(1),t.Q6J("ngIf",e.journey.bookedInfo.handBaggage)}}function lr(n,o){if(1&n&&(t.TgZ(0,"div",43),t._UZ(1,"cf-icon",37),t.TgZ(2,"div",44),t._uU(3),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(3),t.hij("Su\u1ea5t \u0103n: ",e.journey.food?"C\xf3":"Kh\xf4ng","")}}function sr(n,o){if(1&n&&(t.TgZ(0,"div",43),t._UZ(1,"cf-icon",38),t.TgZ(2,"div",44),t._uU(3),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(3),t.hij("Ho\xe0n ti\u1ec1n: ",e.journey.refundableFare?"C\xf3":"Kh\xf4ng","")}}function ur(n,o){if(1&n&&(t.TgZ(0,"div",39)(1,"div",40),t._uU(2),t.YNc(3,nr,4,2,"span",41),t.YNc(4,or,1,1,"ng-template",null,15,t.W1O),t.qZA(),t.YNc(6,rr,3,2,"ng-container",22),t.YNc(7,lr,4,1,"div",42),t.YNc(8,sr,4,1,"div",42),t.qZA()),2&n){const e=t.MAs(5),i=t.oxw(2);t.xp6(2),t.AsE("",i.journey.startPoint," - ",i.journey.endPoint,": "),t.xp6(1),t.Q6J("ngIf",(null==i.journey.fareCur?null:i.journey.fareCur.cabinName)&&"null"!=(null==i.journey.fareCur?null:i.journey.fareCur.cabinName))("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",i.journey.bookedInfo),t.xp6(1),t.Q6J("ngIf",i.journey.food),t.xp6(1),t.Q6J("ngIf",i.journey.refundableFare)}}function pr(n,o){if(1&n&&(t.TgZ(0,"div",29,19),t.ynx(2),t.TgZ(3,"div",30),t.YNc(4,Ka,1,0,"cf-icon",31),t.YNc(5,Wa,1,0,"cf-icon",32),t.YNc(6,Xa,1,0,"cf-icon",33),t.YNc(7,tr,1,0,"cf-icon",34),t.qZA(),t.BQk(),t.YNc(8,ur,9,7,"ng-template",null,20,t.W1O),t.qZA()),2&n){const e=t.MAs(9),i=t.oxw();t.Q6J("placement","bottomCenter")("cfTooltip",e),t.xp6(4),t.Q6J("ngIf",null==i.journey.bookedInfo?null:i.journey.bookedInfo.checkedBaggage),t.xp6(1),t.Q6J("ngIf",null==i.journey.bookedInfo?null:i.journey.bookedInfo.handBaggage),t.xp6(1),t.Q6J("ngIf",i.journey.food),t.xp6(1),t.Q6J("ngIf",i.journey.refundableFare)}}let dr=(()=>{class n{constructor(e){this.cfIconRegister=e,e.registerIcons([p._7G,p.JbC,p.d7d,p.Npe,p.Gey,p.YwC,p.KYu,p.ILM,p.D7,p.o1t])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.KNP))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-combo-item-journey"]],inputs:{journey:"journey"},standalone:!0,features:[t.jDz],decls:29,vars:22,consts:[[1,"flex","gap-2","w-full","justify-between"],[1,"flex-1","px-2"],[1,"flex","flex-col","gap-y-2","relative"],["class","font-medium leading-[8px] absolute text-express-xs text-neutral-gray-4 right-2 -top-2 translate-x-full cursor-pointer p-1 rounded bg-neutral-gray-1",3,"cfTooltip",4,"ngIf"],[1,"text-heading-sm","text-neutral-black","whitespace-nowrap"],[1,"text-body-md-short","text-neutral-gray-4","whitespace-nowrap"],[1,"flex-1","flex","flex-col","gap-y-2","px-2"],[1,"flex","flex-col","flex-1","gap-y-2","px-2"],["class","text-body-md-short text-neutral-gray-4 whitespace-nowrap",4,"ngIf"],["class","text-body-md-short text-secondary-3-4 hover:text-secondary-7-4 cursor-default whitespace-nowrap",3,"placement","cfTooltip",4,"ngIf"],[1,"flex","flex-col","gap-y-2","px-2"],[1,"flex","gap-x-1","items-center"],["class","flex justify-end items-center gap-x-2",4,"ngIf"],[1,"text-heading-sm","text-neutral-black","max-w-[124px]","whitespace-normal"],["class","inline-block  max-w-[124px]",4,"ngIf","ngIfElse"],["noncabinTemplate",""],["class","w-fit flex gap-2 hover:text-secondary-7-4",3,"placement","cfTooltip",4,"ngIf"],[1,"font-medium","leading-[8px]","absolute","text-express-xs","text-neutral-gray-4","right-2","-top-2","translate-x-full","cursor-pointer","p-1","rounded","bg-neutral-gray-1",3,"cfTooltip"],[1,"text-body-md-short","text-secondary-3-4","hover:text-secondary-7-4","cursor-default","whitespace-nowrap",3,"placement","cfTooltip"],["tooltip",""],["toolTipTemplate",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"flex","justify-end","items-center","gap-x-2"],[1,"text-espressive-sm","py-0.5","px-2","rounded-[4px]","bg-neutral-gray-1","cursor-default","hover:bg-secondary-7-1","hover:text-secondary-7-4",3,"placement","cfTooltip"],[1,"inline-block","max-w-[124px]"],[1,"capitalize"],["class","break-words",4,"ngIf"],[1,"break-words"],[1,"w-fit","flex","gap-2","hover:text-secondary-7-4",3,"placement","cfTooltip"],[1,"flex","items-center","gap-x-3"],["icon","luggage","size","small",4,"ngIf"],["icon","office","size","small",4,"ngIf"],["icon","food","size","small",4,"ngIf"],["icon","profit","size","small",4,"ngIf"],["icon","luggage","size","small"],["icon","office","size","small"],["icon","food","size","small"],["icon","profit","size","small"],[1,"flex","flex-col","gap-y-2"],[1,"text-express-sm"],[4,"ngIf","ngIfElse"],["class","flex item-center gap-x-2 ",4,"ngIf"],[1,"flex","item-center","gap-x-2"],[1,"text-body-sm"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,Ra,2,2,"div",3),t.TgZ(4,"div",4),t._uU(5),t.ALo(6,"date"),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"div",5),t._uU(9),t.ALo(10,"formatVietnameseDate"),t.qZA()()(),t.TgZ(11,"div",6)(12,"div",4),t._uU(13),t.qZA(),t.TgZ(14,"div",5),t._uU(15),t.qZA()(),t.TgZ(16,"div",7)(17,"div",4),t._uU(18),t.qZA(),t.YNc(19,Qa,2,0,"div",8),t.YNc(20,Ya,5,3,"div",9),t.qZA(),t.TgZ(21,"div",10)(22,"div",11),t.YNc(23,Ha,4,3,"div",12),t.TgZ(24,"div",13),t.YNc(25,Ga,4,2,"span",14),t.YNc(26,$a,1,1,"ng-template",null,15,t.W1O),t.qZA()(),t.YNc(28,pr,10,6,"div",16),t.qZA()()),2&e){const c=t.MAs(27);t.xp6(3),t.Q6J("ngIf",i.journey.stopOvernight>0),t.xp6(2),t.AsE("",t.xi3(6,14,i.journey.departure.localTime,"HH:mm")," - ",t.xi3(7,17,i.journey.arrival.localTime,"HH:mm"),""),t.xp6(4),t.hij(" ",t.lcZ(10,20,i.journey.departure.localTime),""),t.xp6(4),t.Oqu(i.journey.durationStr),t.xp6(2),t.AsE("",i.journey.startPoint," - ",i.journey.endPoint,""),t.xp6(3),t.Oqu(i.journey.flightNumber),t.xp6(1),t.Q6J("ngIf",0===i.journey.numOfStops),t.xp6(1),t.Q6J("ngIf",i.journey.numOfStops>0),t.xp6(3),t.Q6J("ngIf","GDS"!==i.journey.provider&&"BSP"!==i.journey.provider&&"FLY_ONE"!==i.journey.provider),t.xp6(2),t.Q6J("ngIf",(null==i.journey.fareCur?null:i.journey.fareCur.cabinName)&&"null"!=(null==i.journey.fareCur?null:i.journey.fareCur.cabinName))("ngIfElse",c),t.xp6(3),t.Q6J("ngIf",i.journey.fareRuleClassesData||i.journey.refundableFare||i.journey.food||i.journey.bookedInfo)}},dependencies:[_.ez,_.sg,_.O5,_.uU,wt.Lk,lt,p.AxE,p.Sm8],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();function _r(n,o){if(1&n&&(t.TgZ(0,"div",16),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.Q6J("cfTooltip",e.returnDateTooltip),t.xp6(1),t.hij(" +",e.stopOvernight,"")}}function gr(n,o){if(1&n&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.AsE(" ",e.durationStr," (",e.numOfStops," \u0111i\u1ec3m d\u1eebng)")}}function mr(n,o){if(1&n&&(t.TgZ(0,"div",18),t._UZ(1,"cf-icon",19),t.TgZ(2,"div",20),t._uU(3),t.ALo(4,"mapper"),t.qZA(),t.TgZ(5,"div",21),t._uU(6),t.ALo(7,"mapper"),t.qZA()()),2&n){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(3),t.Oqu(t.xi3(4,2,e,i.stops)[0].duration),t.xp6(3),t.hij("d\u1eebng t\u1ea1i ",t.xi3(7,5,e,i.stops)[0].airport,"")}}function fr(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"cf-icon",19),t.TgZ(2,"div",21),t._uU(3),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(3),t.Oqu(e.airport)}}function hr(n,o){if(1&n&&(t.TgZ(0,"div",18),t.YNc(1,fr,4,1,"ng-container",22),t.ALo(2,"mapper"),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e,i.stops))}}function xr(n,o){if(1&n&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.getTotalAmount||0),",",".")," \u0111")}}function vr(n,o){if(1&n&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.ALo(4,"mapper"),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw(2);t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,t.gM2(4,7,e,i.getTotalAmountAllPax,i.searchData.adultCount,i.searchData.childCount)),",",".")," \u0111")}}function Cr(n,o){if(1&n&&(t.TgZ(0,"div",26),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",null==e?null:e.seatRemain,"")}}function yr(n,o){if(1&n&&(t.TgZ(0,"div",23),t.YNc(1,xr,4,7,"div",13),t.YNc(2,vr,5,12,"div",13),t.TgZ(3,"div",24),t.YNc(4,Cr,2,1,"div",25),t.TgZ(5,"div",21),t._uU(6),t.qZA()()()),2&n){const e=t.oxw().$implicit,i=t.oxw().$implicit,c=t.oxw();t.xp6(1),t.Q6J("ngIf",!c.showTotalPrice),t.xp6(1),t.Q6J("ngIf",c.showTotalPrice),t.xp6(2),t.Q6J("ngIf",!i.is1A),t.xp6(2),t.Oqu(null==e?null:e.cabinCode)}}function Tr(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){const a=t.CHM(e).index,r=t.oxw().index,u=t.oxw();return t.KtG(u.changeJourneyIdx(r,a))}),t.TgZ(1,"div",8)(2,"div",9),t._uU(3),t.ALo(4,"date"),t.ALo(5,"date"),t.YNc(6,_r,2,2,"div",10),t.qZA(),t.TgZ(7,"div",11),t._uU(8),t.qZA()(),t.TgZ(9,"div",12),t.YNc(10,gr,2,2,"div",13),t.YNc(11,mr,8,8,"div",14),t.YNc(12,hr,3,4,"div",14),t.qZA(),t.YNc(13,yr,7,4,"div",15),t.qZA()}if(2&n){const e=o.$implicit,i=t.oxw().$implicit;t.ekj("border-secondary-3-4",e.key===(null==i.fareCur?null:i.fareCur.key))("md:justify-center",i.isGDS)("md:gap-x-4",i.isGDS)("bg-secondary-3-1",e.key===(null==i.fareCur?null:i.fareCur.key)),t.xp6(3),t.AsE(" ",t.xi3(4,18,i.departure.localTime,"HH:mm")," - ",t.xi3(5,21,i.arrival.localTime,"HH:mm")," "),t.xp6(3),t.Q6J("ngIf",i.stopOvernight>0),t.xp6(2),t.Oqu(i.airlineName),t.xp6(1),t.ekj("items-center",!i.isGDS),t.xp6(1),t.Q6J("ngIf",0===i.numOfStops),t.xp6(1),t.Q6J("ngIf",1===i.numOfStops),t.xp6(1),t.Q6J("ngIf",i.numOfStops>1),t.xp6(1),t.Q6J("ngIf",!i.isGDS)}}function br(n,o){if(1&n&&(t.TgZ(0,"div",2)(1,"div",3),t._UZ(2,"img",4),t.TgZ(3,"div",5),t._uU(4),t.ALo(5,"mapper"),t.ALo(6,"mapper"),t.ALo(7,"date"),t.qZA()(),t.YNc(8,Tr,14,24,"div",6),t.qZA()),2&n){const e=o.$implicit,i=t.oxw();t.xp6(2),t.Q6J("src","assets/airline-logo/"+e.airline+".png",t.LSH)("alt",e.airline),t.xp6(2),t.lnq("",t.xi3(5,6,e.startPoint,i.getLocationData)," \u2192 ",t.xi3(6,9,e.endPoint,i.getLocationData),"\u30fb ",t.xi3(7,12,e.departure.localTime,"EEEE, dd TMMMMM")," "),t.xp6(4),t.Q6J("ngForOf",e.fareOptions)}}let kr=(()=>{class n{constructor(e){this.locationDataSvc=e,this.ticketChange=new t.vpe,this.showTotalPrice=!1,this.getLocationData=i=>this.locationDataSvc.getCityNameByCode(i),this.stops=i=>this.getStopList(i.segments),this.getTotalAmountAllPax=(i,c,a)=>{let r=0;return r+=this.getTotalAmountByType(i.fareAmountBreakdowns,"ADULT")*c,r+=this.getTotalAmountByType(i.fareAmountBreakdowns,"CHILD")*a,r}}ngOnChanges(e){e.ticket&&(this.dataJourney=[this.ticket.departJourneys[0],this.ticket.arriveJourneys[0]])}changeJourneyIdx(e,i){this.dataJourney=[...this.dataJourney.map((c,a)=>a===e?(0,P.yE)(at,Object.assign(Object.assign({},c),{idxSelected:i}),{excludeExtraneousValues:!0}):c)],this.ticket=(0,P.yE)(Ut,Object.assign(Object.assign({},this.ticket),{departJourneys:[this.dataJourney[0]],arriveJourneys:[this.dataJourney[1]]}),{excludeExtraneousValues:!0}),this.ticketChange.emit(this.ticket)}getStopList(e){const i=[];for(let c=1;c<e.length;c++)i.push({airport:"VN"===e[c].airline?e[c].arrival.airport.code:e[c].departure.airport.code,duration:e[c].durationStr});return i}getTotalAmountByType(e,i){const c=null==e?void 0:e.find(a=>a.type===i);return c?c.getTotalCharge:0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(et._))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-detail-option"]],inputs:{ticket:"ticket",searchData:"searchData",showTotalPrice:"showTotalPrice"},outputs:{ticketChange:"ticketChange"},standalone:!0,features:[t.TTD,t.jDz],decls:2,vars:1,consts:[[1,"p-4","bg-white","flex","gap-4","w-full"],["class","flex-1 flex flex-col gap-4",4,"ngFor","ngForOf"],[1,"flex-1","flex","flex-col","gap-4"],[1,"flex","gap-x-3","items-center","bg-neutral-gray-1","py-2.5","px-4","rounded-md","md:hidden"],[1,"w-[48px]","h-[24px]","object-contain",3,"src","alt"],[1,"text-express-sm","text-neutral-gray-6"],["class","flex px-4 py-[18px] rounded-lg border border-neutral-gray-3 justify-between items-center cursor-pointer md:p-3",3,"border-secondary-3-4","md:justify-center","md:gap-x-4","bg-secondary-3-1","click",4,"ngFor","ngForOf"],[1,"flex","px-4","py-[18px]","rounded-lg","border","border-neutral-gray-3","justify-between","items-center","cursor-pointer","md:p-3",3,"click"],[1,"flex","flex-col","items-start","relative","md:hidden"],[1,"text-express-sm","text-neutral-gray-6","whitespace-nowrap","relative"],["class","font-medium leading-[8px] absolute text-express-xs text-neutral-gray-4 right-0 -top-2 translate-x-full cursor-pointer p-1 rounded bg-neutral-gray-1",3,"cfTooltip",4,"ngIf"],[1,"text-body-sm","text-neutral-gray-4","whitespace-nowrap"],[1,"flex","flex-col","items-start","justify-center","md:hidden"],["class","text-express-sm text-neutral-gray-6 whitespace-nowrap",4,"ngIf"],["class","flex items-center gap-x-1",4,"ngIf"],["class","flex flex-col items-end justify-center",4,"ngIf"],[1,"font-medium","leading-[8px]","absolute","text-express-xs","text-neutral-gray-4","right-0","-top-2","translate-x-full","cursor-pointer","p-1","rounded","bg-neutral-gray-1",3,"cfTooltip"],[1,"text-express-sm","text-neutral-gray-6","whitespace-nowrap"],[1,"flex","items-center","gap-x-1"],["icon","plane","size","small"],[1,"text-body-sm","text-neutral-gray-6"],[1,"text-body-sm","text-neutral-gray-4"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","items-end","justify-center"],[1,"flex","gap-x-2","items-center"],["class","flex items-center justify-center text-express-sm text-neutral-gray-6 bg-neutral-gray-1 py-0.5 px-1 rounded",4,"ngIf"],[1,"flex","items-center","justify-center","text-express-sm","text-neutral-gray-6","bg-neutral-gray-1","py-0.5","px-1","rounded"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,br,9,15,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",i.dataJourney))},dependencies:[_.ez,_.sg,_.O5,_.JJ,_.uU,j.q,p.AxE,p.Sm8,wt.Lk,Y.AS],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();function Zr(n,o){1&n&&(t.TgZ(0,"div",40),t._uU(1," R\u1ebb nh\u1ea5t "),t.qZA())}function Ar(n,o){1&n&&(t.TgZ(0,"div",41),t._uU(1," T\u1ed1t nh\u1ea5t"),t.qZA())}function Er(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.ALo(3,"async"),t.qZA()),2&n){const e=o.ngIf;t.xp6(1),t.hij(" c\xf2n ",t.xi3(2,1,t.lcZ(3,4,e),"m")," ph\xfat")}}function Dr(n,o){if(1&n&&(t.TgZ(0,"div",42),t._UZ(1,"cf-icon",43),t.TgZ(2,"div"),t._uU(3,"NDC "),t.YNc(4,Er,4,6,"span",18),t.ALo(5,"mapper"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",t.xi3(5,1,e.ticket,e.ndcTimeLimitCountDown$))}}function Br(n,o){1&n&&(t.TgZ(0,"div",42),t._UZ(1,"cf-icon",43),t.TgZ(2,"div"),t._uU(3,"LCC"),t.qZA()())}function wr(n,o){if(1&n&&(t.TgZ(0,"div",42),t._UZ(1,"cf-icon",43),t.TgZ(2,"div"),t._uU(3),t.ALo(4,"mapper"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(t.xi3(4,1,e.searchData,e.getPaxTypeDisplay))}}function Ir(n,o){if(1&n&&(t.TgZ(0,"div",36),t.YNc(1,Zr,2,0,"div",37),t.YNc(2,Ar,2,0,"div",38),t.YNc(3,Dr,6,4,"div",39),t.YNc(4,Br,4,0,"div",39),t.YNc(5,wr,5,4,"div",39),t.ALo(6,"mapper"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ticket.cheapest),t.xp6(1),t.Q6J("ngIf",e.ticket.bestChoice),t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].isNdcFare),t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].isLccFare),t.xp6(1),t.Q6J("ngIf",(e.ticket.departJourneys[0].is1A||e.ticket.departJourneys[0].is1G)&&t.xi3(6,5,e.searchData,e.getPaxTypeDisplay))}}function Sr(n,o){1&n&&t._UZ(0,"div",46)}function Fr(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",44),t.NdJ("click",function(){t.CHM(e);const c=t.oxw().$implicit,a=t.oxw();return t.KtG(a.onChangeMode(c.key))}),t._uU(1),t.ALo(2,"mapper"),t.YNc(3,Sr,1,0,"div",45),t.qZA()}if(2&n){const e=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.hij(" ","option"===e.key?e.key===i.mode?e.value:"+"+t.xi3(2,2,i.ticket,i.countOrderOption)+" l\u1ef1a ch\u1ecdn kh\xe1c":e.value," "),t.xp6(2),t.Q6J("ngIf",e.key===i.mode)}}function Nr(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Fr,4,5,"div",15),t.ALo(2,"mapper"),t.BQk()),2&n){const e=o.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",!("option"===e.key&&!t.xi3(2,1,i.ticket,i.countOrderOption)))}}function qr(n,o){1&n&&t._UZ(0,"div",46)}function Or(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",44),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.onChangeMode("option"))}),t._uU(1),t.ALo(2,"mapper"),t.YNc(3,qr,1,0,"div",45),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.hij(" ","option"===e.mode?"\u1ea8n t\u1ea5t c\u1ea3 l\u1ef1a ch\u1ecdn":"+"+t.xi3(2,2,e.ticket,e.countOrderOption)+" l\u1ef1a ch\u1ecdn kh\xe1c"," "),t.xp6(2),t.Q6J("ngIf","option"===e.mode)}}function Jr(n,o){if(1&n&&(t.TgZ(0,"div",49)(1,"div",50),t._uU(2),t.ALo(3,"replace"),t.ALo(4,"number"),t.ALo(5,"mapper"),t.qZA(),t.TgZ(6,"div",51),t._uU(7),t.ALo(8,"replace"),t.ALo(9,"number"),t.ALo(10,"mapper"),t.qZA()()),2&n){const e=t.oxw(2);let i,c;t.xp6(2),t.hij(" ",t.Dn7(3,2,t.lcZ(4,6,null!=(i=e.viewConfig)&&i.showTotalPrice?t.xi3(5,8,e.ticketPriceList,e.sumPriceTicket):e.ticket.totalPrice),",",".")," \u0111 "),t.xp6(5),t.hij(" ",t.Dn7(8,11,t.lcZ(9,15,null!=(c=e.viewConfig)&&c.showTotalPrice?e.ticket.totalPrice:t.xi3(10,17,e.ticketPriceList,e.sumPriceTicketHasDiscount)),",",".")," \u0111 ")}}function Ur(n,o){if(1&n&&(t.TgZ(0,"div",52)(1,"div",51),t._uU(2),t.ALo(3,"replace"),t.ALo(4,"number"),t.ALo(5,"mapper"),t.qZA()()),2&n){const e=t.oxw(2);let i;t.xp6(2),t.hij(" ",t.Dn7(3,1,t.lcZ(4,5,null!=(i=e.viewConfig)&&i.showTotalPrice?t.xi3(5,7,e.ticketPriceList,e.sumPriceTicket):e.ticket.totalPrice),",",".")," \u0111 ")}}function Lr(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Jr,11,20,"div",47),t.ALo(2,"mapper"),t.YNc(3,Ur,6,10,"ng-template",null,48,t.W1O),t.BQk()),2&n){const e=t.MAs(4),i=t.oxw();t.xp6(1),t.Q6J("ngIf",t.xi3(2,2,i.ticketPriceList,i.adultDiscountAmount))("ngIfElse",e)}}function Rr(n,o){1&n&&(t.ynx(0),t.TgZ(1,"div",53)(2,"button",54),t._uU(3," H\u1ebft ch\u1ed7 "),t.qZA()(),t.BQk()),2&n&&(t.xp6(1),t.Q6J("cfTooltip","Chuy\u1ebfn bay \u0111\xe3 h\u1ebft ch\u1ed7. Ch\u1ee7 \u0111\u1ea1i l\xfd t\u1ef1 ch\u1ee7 \u0111\u1ed9ng canh gh\u1ebf nh\u1ea3 ch\u1ed7"),t.xp6(1),t.Q6J("disabled",!0))}function Qr(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",55),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.onTicketSelected())}),t._uU(1," Ch\u1ecdn "),t.qZA()}}function Pr(n,o){if(1&n&&(t.TgZ(0,"div",63),t._UZ(1,"btc-ticket-detail-item",64)(2,"btc-ticket-detail-item",64),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ticket",e.ticket.departJourneys[0])("isShowTrip",!0),t.xp6(1),t.Q6J("ticket",e.ticket.arriveJourneys[0])("isShowTrip",!0)}}function Mr(n,o){if(1&n&&t._UZ(0,"btc-ticket-info-item",65),2&n){const e=t.oxw(2);t.Q6J("ticketPriceList",e.ticketPriceList)("fareBasisInfos",e.fareBasisInfos)("showDiscountFare",e.viewConfig.showDiscountFare||!1)}}function jr(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"btc-ticket-detail-option",66),t.NdJ("ticketChange",function(c){t.CHM(e);const a=t.oxw(2);return t.KtG(a.ticket=c)})("ticketChange",function(c){t.CHM(e);const a=t.oxw(2);return t.KtG(a.ticketChange.emit(c))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ticket",e.ticket)}}function Yr(n,o){if(1&n&&t._UZ(0,"btc-ticket-rule-item",67),2&n){const e=t.oxw(2);t.Q6J("journeyInfo",e.journeyInfo)}}function Hr(n,o){1&n&&t._UZ(0,"div")}function Vr(n,o){if(1&n&&(t.TgZ(0,"div",56),t.ynx(1,57),t.YNc(2,Pr,3,4,"div",58),t.YNc(3,Mr,1,3,"btc-ticket-info-item",59),t.YNc(4,jr,1,1,"btc-ticket-detail-option",60),t.YNc(5,Yr,1,1,"btc-ticket-rule-item",61),t.YNc(6,Hr,1,0,"div",62),t.BQk(),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngSwitch",e.mode),t.xp6(1),t.Q6J("ngSwitchCase","flight"),t.xp6(1),t.Q6J("ngSwitchCase","ticket"),t.xp6(1),t.Q6J("ngSwitchCase","option"),t.xp6(1),t.Q6J("ngSwitchCase","rule")}}function Gr(n,o){1&n&&(t.TgZ(0,"div",71),t._uU(1," R\u1ebb nh\u1ea5t "),t.qZA())}function zr(n,o){1&n&&(t.TgZ(0,"div",72),t._uU(1," T\u1ed1t nh\u1ea5t"),t.qZA())}function $r(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.ALo(3,"async"),t.qZA()),2&n){const e=o.ngIf;t.xp6(1),t.hij(" c\xf2n ",t.xi3(2,1,t.lcZ(3,4,e),"m")," ph\xfat")}}function Kr(n,o){if(1&n&&(t.TgZ(0,"div",42),t._UZ(1,"cf-icon",43),t.TgZ(2,"div"),t._uU(3,"NDC "),t.YNc(4,$r,4,6,"span",18),t.ALo(5,"mapper"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",t.xi3(5,1,e.ticket,e.ndcTimeLimitCountDown$))}}function Wr(n,o){1&n&&(t.TgZ(0,"div",42),t._UZ(1,"cf-icon",43),t.TgZ(2,"div"),t._uU(3,"LCC"),t.qZA()())}function Xr(n,o){if(1&n&&(t.TgZ(0,"div",42),t._UZ(1,"cf-icon",43),t.TgZ(2,"div"),t._uU(3),t.ALo(4,"mapper"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(t.xi3(4,1,e.searchData,e.getPaxTypeDisplay))}}function tl(n,o){if(1&n&&(t.TgZ(0,"div",68),t.YNc(1,Gr,2,0,"div",69),t.YNc(2,zr,2,0,"div",70),t.YNc(3,Kr,6,4,"div",39),t.YNc(4,Wr,4,0,"div",39),t.YNc(5,Xr,5,4,"div",39),t.ALo(6,"mapper"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ticket.cheapest),t.xp6(1),t.Q6J("ngIf",e.ticket.bestChoice),t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].isNdcFare),t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].isLccFare),t.xp6(1),t.Q6J("ngIf",(e.ticket.departJourneys[0].is1A||e.ticket.departJourneys[0].is1G)&&t.xi3(6,5,e.searchData,e.getPaxTypeDisplay))}}function el(n,o){1&n&&(t.TgZ(0,"div",78),t._uU(1," Bay th\u1eb3ng "),t.qZA())}function nl(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(2),t.AsE("",e.delaySt," t\u1ea1i ",e.stopPoint,"")}}function il(n,o){if(1&n&&t.YNc(0,nl,3,2,"ng-container",14),2&n){const e=t.oxw(2).$implicit;t.Q6J("ngForOf",e.segments)}}function ol(n,o){if(1&n&&(t.TgZ(0,"div",92,93),t._uU(2),t.YNc(3,il,1,1,"ng-template",null,94,t.W1O),t.qZA()),2&n){const e=t.MAs(4),i=t.oxw().$implicit;t.Q6J("placement","bottomCenter")("cfTooltip",e),t.xp6(2),t.hij(" ",i.numOfStops," \u0111i\u1ec3m d\u1eebng ")}}function cl(n,o){if(1&n&&(t.TgZ(0,"div",31)(1,"span",95,93),t._uU(3),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("placement","topCenter")("cfTooltip","C\xf2n "+((null==e.fareCur?null:e.fareCur.seatRemain)||0)+" ch\u1ed7 tr\u1ed1ng"),t.xp6(2),t.Oqu(null==e.fareCur?null:e.fareCur.seatRemain)}}function al(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij("\xa0(",null==e.fareCur?null:e.fareCur.fareClass,")")}}function rl(n,o){if(1&n&&(t.TgZ(0,"span")(1,"span",96),t._uU(2),t.qZA(),t.YNc(3,al,2,1,"span",18),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(null==e.fareCur?null:e.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.fareCur?null:e.fareCur.fareClass)}}function ll(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij("H\u1ea1ng ch\u1ed7: ",null==e.fareCur?null:e.fareCur.fareClass,"")}}function sl(n,o){if(1&n&&t.YNc(0,ll,2,1,"span",18),2&n){const e=t.oxw().$implicit;t.Q6J("ngIf",null==e.fareCur?null:e.fareCur.fareClass)}}function ul(n,o){1&n&&t._UZ(0,"cf-icon",103)}function pl(n,o){1&n&&t._UZ(0,"cf-icon",104)}function dl(n,o){1&n&&t._UZ(0,"cf-icon",105)}function _l(n,o){1&n&&t._UZ(0,"cf-icon",106)}function gl(n,o){if(1&n&&(t.TgZ(0,"div",97),t.ynx(1),t.TgZ(2,"div",98),t.YNc(3,ul,1,0,"cf-icon",99),t.YNc(4,pl,1,0,"cf-icon",100),t.YNc(5,dl,1,0,"cf-icon",101),t.YNc(6,_l,1,0,"cf-icon",102),t.qZA(),t.BQk(),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",null==e.bookedInfo?null:e.bookedInfo.checkedBaggage),t.xp6(1),t.Q6J("ngIf",null==e.bookedInfo?null:e.bookedInfo.handBaggage),t.xp6(1),t.Q6J("ngIf",e.food),t.xp6(1),t.Q6J("ngIf",e.refundableFare)}}function ml(n,o){if(1&n&&(t.TgZ(0,"div",73)(1,"div",74)(2,"div",75),t._UZ(3,"img",76),t.qZA(),t.TgZ(4,"div",77)(5,"div",32),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"div",78),t._uU(9),t.qZA()(),t.TgZ(10,"div",79)(11,"div",80),t._uU(12),t.qZA(),t.TgZ(13,"div",81),t._UZ(14,"div",82)(15,"div",83),t.qZA(),t.YNc(16,el,2,0,"div",84),t.YNc(17,ol,5,3,"div",85),t.qZA(),t.TgZ(18,"div",77)(19,"div",32),t._uU(20),t.ALo(21,"date"),t.qZA(),t.TgZ(22,"div",78),t._uU(23),t.qZA()()(),t.TgZ(24,"div",86)(25,"div",87),t.YNc(26,cl,4,3,"div",88),t.TgZ(27,"div",89),t.YNc(28,rl,4,2,"span",19),t.YNc(29,sl,1,1,"ng-template",null,90,t.W1O),t.qZA()(),t.YNc(31,gl,7,4,"div",91),t.qZA()()),2&n){const e=o.$implicit,i=t.MAs(30);t.xp6(3),t.Q6J("src",e.logoAirline,t.LSH),t.xp6(3),t.Oqu(t.xi3(7,12,e.departure.localTime,"HH:mm")),t.xp6(3),t.Oqu(e.startPoint),t.xp6(3),t.Oqu(e.durationStr),t.xp6(4),t.Q6J("ngIf",0===e.numOfStops),t.xp6(1),t.Q6J("ngIf",e.numOfStops>0),t.xp6(3),t.Oqu(t.xi3(21,15,e.arrival.localTime,"HH:mm")),t.xp6(3),t.Oqu(e.endPoint),t.xp6(3),t.Q6J("ngIf","GDS"!==e.provider&&"BSP"!==e.provider&&"FLY_ONE"!==e.provider),t.xp6(2),t.Q6J("ngIf",(null==e.fareCur?null:e.fareCur.cabinName)&&"null"!=(null==e.fareCur?null:e.fareCur.cabinName))("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",e.fareRuleClassesData||e.refundableFare||e.food||e.bookedInfo)}}function fl(n,o){1&n&&(t.ynx(0),t.TgZ(1,"div",53)(2,"button",107),t._uU(3," H\u1ebft ch\u1ed7 "),t.qZA()(),t.BQk()),2&n&&(t.xp6(1),t.Q6J("cfTooltip","Chuy\u1ebfn bay \u0111\xe3 h\u1ebft ch\u1ed7. Ch\u1ee7 \u0111\u1ea1i l\xfd t\u1ef1 ch\u1ee7 \u0111\u1ed9ng canh gh\u1ebf nh\u1ea3 ch\u1ed7"),t.xp6(1),t.Q6J("disabled",!0))}function hl(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",55),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.onTicketSelected())}),t._uU(1," Ch\u1ecdn "),t.qZA()}}const xl=function(n){return{"!text-secondary-3-4 !bg-secondary-3-1 !border-secondary-3-4":n}};function vl(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",112),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.onChangeMode(a.key))}),t._uU(1),t.qZA()}if(2&n){const e=o.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.VKq(2,xl,e.key===i.mode)),t.xp6(1),t.hij(" ",e.valueMobile," ")}}function Cl(n,o){if(1&n&&(t.TgZ(0,"div",114),t._UZ(1,"btc-ticket-detail-item",64)(2,"btc-ticket-detail-item",64),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ticket",e.ticket.departJourneys[0])("isShowTrip",!0),t.xp6(1),t.Q6J("ticket",e.ticket.arriveJourneys[0])("isShowTrip",!0)}}function yl(n,o){if(1&n&&t._UZ(0,"btc-ticket-info-item",65),2&n){const e=t.oxw(3);t.Q6J("ticketPriceList",e.ticketPriceList)("fareBasisInfos",e.fareBasisInfos)("showDiscountFare",e.viewConfig.showDiscountFare||!1)}}function Tl(n,o){if(1&n&&t._UZ(0,"btc-ticket-rule-item",67),2&n){const e=t.oxw(3);t.Q6J("journeyInfo",e.journeyInfo)}}function bl(n,o){1&n&&t._UZ(0,"div")}function kl(n,o){if(1&n&&(t.TgZ(0,"div",56)(1,"ngcontainer",57),t.YNc(2,Cl,3,4,"div",113),t.YNc(3,yl,1,3,"btc-ticket-info-item",59),t.YNc(4,Tl,1,1,"btc-ticket-rule-item",61),t.YNc(5,bl,1,0,"div",62),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngSwitch",e.mode),t.xp6(1),t.Q6J("ngSwitchCase","flight"),t.xp6(1),t.Q6J("ngSwitchCase","ticket"),t.xp6(1),t.Q6J("ngSwitchCase","rule")}}function Zl(n,o){if(1&n&&(t.TgZ(0,"div",108)(1,"div",109),t.YNc(2,vl,2,4,"div",110),t.qZA(),t.TgZ(3,"div",111),t.YNc(4,kl,6,4,"div",21),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.modeOptions),t.xp6(2),t.Q6J("ngIf",e.mode)}}function Al(n,o){1&n&&(t.TgZ(0,"div",118),t._UZ(1,"cf-icon",119),t.TgZ(2,"div"),t._uU(3,"GDS"),t.qZA()())}function El(n,o){1&n&&(t.TgZ(0,"div",118),t._UZ(1,"cf-icon",119),t.TgZ(2,"div"),t._uU(3,"1A"),t.qZA()())}function Dl(n,o){1&n&&(t.TgZ(0,"div",118),t._UZ(1,"cf-icon",119),t.TgZ(2,"div"),t._uU(3,"1G"),t.qZA()())}function Bl(n,o){if(1&n&&(t.TgZ(0,"div",116),t.YNc(1,Al,4,0,"div",117),t.YNc(2,El,4,0,"div",117),t.YNc(3,Dl,4,0,"div",117),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].isGDS),t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].is1A),t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].is1G)}}function wl(n,o){if(1&n&&t.YNc(0,Bl,4,3,"div",115),2&n){const e=t.oxw();t.Q6J("ngIf",e.ticket.departJourneys[0].is1A||e.ticket.departJourneys[0].is1G||e.ticket.departJourneys[0].isGDS)}}const Il=function(n,o){return[n,o]};let Sl=(()=>{class n{constructor(e,i){this._helperSvc=e,this.bottomSheetService=i,this.ticketChange=new t.vpe,this.chooseTicketCombo=new t.vpe,this.ticketPriceList=[],this.fareBasisInfos=[],this.modeOptions=(0,_t.cloneDeep)(G.Mf),this.mode="",this.getPaxTypeDisplay=c=>{var a;return(null===(a=null==G.S?void 0:G.S.find(r=>r.value&&r.value===c.journey[0].paxType))||void 0===a?void 0:a.name)||""},this.ndcTimeLimitCountDown$=c=>{let a=0;return(0,Ot.H)(0,1e3).pipe((0,H.U)(()=>{var r;return a++,1e3*(((null===(r=c.departJourneys[0].fareCur)||void 0===r?void 0:r.ndcTimeLimit)||0)-a)}),(0,Jt.o)(r=>r>=0))},this.countOrderOption=c=>c.arriveJourneys[0].fareOptions.length+c.departJourneys[0].fareOptions.length-2,this.adultDiscountAmount=c=>{var a;return(null===(a=c.find(r=>r.type.includes("ADT")))||void 0===a?void 0:a.discountAmount)||0},this.sumPriceTicketHasDiscount=c=>c.reduce((a,r)=>a+("ADT"===r.code?r.totalFare-r.discountAmount*r.quantity:0),0),this.sumPriceTicket=c=>c.reduce((a,r)=>a+("ADT"===r.code?r.totalFare:0),0)}ngOnChanges(e){e.ticket&&e.ticket.currentValue&&(this.journeyInfo={journeyInfo:[{bookingCode:"",journeyKey:this.ticket.departJourneys[0].key,provider:this.ticket.departJourneys[0].provider},{bookingCode:"",journeyKey:this.ticket.arriveJourneys[0].key,provider:this.ticket.arriveJourneys[0].provider}]})}ngOnInit(){var e;this.ticketPriceList.length||this.progressDataForDetailItem([this.ticket.departJourneys[0],this.ticket.arriveJourneys[0]]),((null===(e=this.fareBasisInfos)||void 0===e||!e.length)&&this.ticket.departJourneys[0].is1A||this.ticket.arriveJourneys[0].is1G||this.ticket.departJourneys[0].is1A&&this.ticket.arriveJourneys[0].isGDS)&&this.progressDateFareBasisInfos([this.ticket.departJourneys[0],this.ticket.arriveJourneys[0]])}onTicketSelected(){this.ticket&&this.chooseTicketCombo.emit(this.ticket)}onChangeMode(e){this.mode=this.mode===e?"":e}progressDataForDetailItem(e){this.ticketPriceList=[...this._helperSvc.progressPriceList(this.searchData,e)]}progressDateFareBasisInfos(e){this.fareBasisInfos=[],e.forEach(i=>{null==i||i.segments.forEach(c=>{var a,r;this.fareBasisInfos=[...this.fareBasisInfos,{airline:c.airline||"",airlineLogo:c.operating||"",startCode:c.startPoint||"",startPoint:c.departure.airport.code||"",endCode:c.endPoint||"",endPoint:c.arrival.airport.code||"",fareClass:(null===(a=i.fareCur)||void 0===a?void 0:a.fareClass)||"",fareBasis:(null===(r=i.fareCur)||void 0===r?void 0:r.fareInfos[0].fareType.description)||""}]})})}onTicketDetailMobile(e,i){e.stopPropagation(),this.mode="flight",this.bottomSheetService.open(i,{headerTitle:"Th\xf4ng tin chuy\u1ebfn bay",containerFullHeigh:!0,rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"}).containerInstance._rightButtonClick.subscribe(()=>{this.bottomSheetService.dismiss(),this.mode=""})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ot),t.Y36(S.a2))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-combo-item"]],inputs:{ticket:"ticket",viewConfig:"viewConfig",searchData:"searchData"},outputs:{ticketChange:"ticketChange",chooseTicketCombo:"chooseTicketCombo"},standalone:!0,features:[t.TTD,t.jDz],decls:54,vars:36,consts:[[1,"bg-white","pt-4","px-4","rounded-xl","shadow-lg","relative","md:hidden"],[3,"ngTemplateOutlet"],[1,"flex-1","flex","justify-between"],[1,"flex","flex-col","gap-4","w-fit"],["class","flex justify-start gap-x-2",4,"ngIf"],[1,"flex","gap-3","w-fit"],[1,"flex","flex-col","gap-y-3"],[1,"flex-shrink-0","items-center","flex","flex-col","gap-[10px]","max-w-[100px]"],[1,"w-[100px]","h-[40px]","object-contain",3,"src"],[1,"text-body-md-short","text-neutral-gray-4","text-center"],[1,"flex","flex-col","flex-1"],[3,"journey"],[1,"w-full","h-[1px]","bg-neutral-gray-1","my-4"],[1,"flex","text-espressive-sm","text-secondary-3-4","md:hidden"],[4,"ngFor","ngForOf"],["class","relative flex items-center mr-3 px-0.5 pb-4 pt-1.5 cursor-pointer",3,"click",4,"ngIf"],[1,"p-4","border-l","border-neutral-gray-1","flex","flex-col","justify-between","w-fit","md:hidden"],[1,"flex","flex-col","mb-3"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["ticketSelectTpl",""],["class","border-t border-neutral-gray-1",4,"ngIf"],[1,"w-full","rounded-lg","shadow-lg","hidden","flex-col","md:flex","relative"],[1,"bg-white","w-full","flex","justify-between","rounded-t-lg"],[1,"flex-1","flex"],[1,"flex","flex-col","gap-2"],["class","flex justify-start gap-x-2 pt-3 pl-3",4,"ngIf"],[1,"divide-y","divide-dashed","divide-neutral-gray-3"],["class","flex flex-col  p-4 gap-3 justify-between flex-1",4,"ngFor","ngForOf"],[1,"flex","flex-col","justify-between","items-center","gap-2","pl-2","pr-3","pt-6","pb-3","border-l","border-neutral-gray-1"],[1,"flex","flex-col","font-medium"],[1,"flex","justify-end","items-center","gap-x-2"],[1,"text-heading-xs","text-neutral-black","whitespace-nowrap"],[1,"w-full","rounded-b-lg","bg-blue-1","py-2","px-4","flex","text-center","justify-center","items-center","text-blue-4","text-body-sm","font-medium",3,"click"],["detailTicketMobileTpl",""],["tagProviderTpl",""],[1,"flex","justify-start","gap-x-2"],["class","py-0.5 px-1 bg-secondary-5-1 text-secondary-5-3 rounded text-express-sm flex items-center justify-center text-center",4,"ngIf"],["class","py-0.5 px-1 bg-secondary-3-1 text-secondary-3-4 rounded text-express-sm flex items-center justify-center text-center",4,"ngIf"],["class","px-2 py-1 bg-secondary-3-1 text-body-sm text-secondary-3-4 rounded flex gap-x-1 items-center",4,"ngIf"],[1,"py-0.5","px-1","bg-secondary-5-1","text-secondary-5-3","rounded","text-express-sm","flex","items-center","justify-center","text-center"],[1,"py-0.5","px-1","bg-secondary-3-1","text-secondary-3-4","rounded","text-express-sm","flex","items-center","justify-center","text-center"],[1,"px-2","py-1","bg-secondary-3-1","text-body-sm","text-secondary-3-4","rounded","flex","gap-x-1","items-center"],["icon","ticket","size","small",1,"md:hidden"],[1,"relative","flex","items-center","mr-3","px-0.5","pb-4","pt-1.5","cursor-pointer",3,"click"],["class","absolute bottom-0 w-full h-[3px] bg-primary-2-3 rounded",4,"ngIf"],[1,"absolute","bottom-0","w-full","h-[3px]","bg-primary-2-3","rounded"],["class","flex gap-x-2 flex-col gap-4",4,"ngIf","ngIfElse"],["discountEmptyTpl",""],[1,"flex","gap-x-2","flex-col","gap-4"],[1,"visible","line-through","text-neutral-gray-4","text-body-sm","whitespace-nowrap","font-semibold"],[1,"text-heading-lg","text-neutral-black","whitespace-nowrap"],[1,"flex","items-center","gap-x-2"],["color","black",3,"cfTooltip"],["cf-button","","size","small","type","solid",1,"w-40","justify-center","py-[5px]","!bg-neutral-black","opacity-50",3,"disabled"],["cf-button","","size","small","color","primary-1","type","solid",1,"w-full","justify-center","py-[5px]",3,"click"],[1,"border-t","border-neutral-gray-1"],[3,"ngSwitch"],["class","pt-4 w-full",4,"ngSwitchCase"],[3,"ticketPriceList","fareBasisInfos","showDiscountFare",4,"ngSwitchCase"],[3,"ticket","ticketChange",4,"ngSwitchCase"],[3,"journeyInfo",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"pt-4","w-full"],[3,"ticket","isShowTrip"],[3,"ticketPriceList","fareBasisInfos","showDiscountFare"],[3,"ticket","ticketChange"],[3,"journeyInfo"],[1,"flex","justify-start","gap-x-2","pt-3","pl-3"],["class","py-0.5 px-1 bg-secondary-5-1 text-secondary-5-3 rounded text-express-sm",4,"ngIf"],["class","py-0.5 px-1 bg-secondary-3-1 text-secondary-3-4 rounded text-express-sm",4,"ngIf"],[1,"py-0.5","px-1","bg-secondary-5-1","text-secondary-5-3","rounded","text-express-sm"],[1,"py-0.5","px-1","bg-secondary-3-1","text-secondary-3-4","rounded","text-express-sm"],[1,"flex","flex-col","p-4","gap-3","justify-between","flex-1"],[1,"flex","gap-3"],[1,"flex-shrink-0","items-center","flex","flex-col","gap-[10px]","max-w-[36px]"],[1,"w-[36px]","h-[36px]","object-contain",3,"src"],[1,"flex","flex-col","text-center"],[1,"text-express-xs","text-neutral-gray-4","whitespace-nowrap"],[1,"flex","flex-col","flex-1","items-center"],[1,"text-express-xs","text-neutral-gray-4"],[1,"flex-1","w-full","flex","items-center","justify-between"],[1,"flex-1","h-[1px]","bg-neutral-gray-4"],[1,"w-1","h-1","border-[2px]","border-t-neutral-gray-4","border-r-neutral-gray-4","border-b-transparent","border-l-transparent","rotate-45"],["class","text-express-xs text-neutral-gray-4 whitespace-nowrap",4,"ngIf"],["class","text-express-xs text-secondary-3-4 hover:text-secondary-7-4 cursor-default whitespace-nowrap",3,"placement","cfTooltip",4,"ngIf"],[1,"flex","flex-1","gap-2"],[1,"flex","gap-x-1","items-center"],["class","flex justify-end items-center gap-x-2",4,"ngIf"],[1,"text-express-sm","text-neutral-black","whitespace-nowrap"],["noncabinTemplate",""],["class","w-fit flex gap-2 hover:text-secondary-7-4",4,"ngIf"],[1,"text-express-xs","text-secondary-3-4","hover:text-secondary-7-4","cursor-default","whitespace-nowrap",3,"placement","cfTooltip"],["tooltip",""],["toolTipTemplate",""],[1,"text-espressive-sm","py-0.5","px-2","rounded-[4px]","bg-neutral-gray-1","cursor-default","hover:bg-secondary-7-1","hover:text-secondary-7-4",3,"placement","cfTooltip"],[1,"capitalize"],[1,"w-fit","flex","gap-2","hover:text-secondary-7-4"],[1,"flex","items-center","gap-x-3"],["icon","luggage","size","small",4,"ngIf"],["icon","office","size","small",4,"ngIf"],["icon","food","size","small",4,"ngIf"],["icon","profit","size","small",4,"ngIf"],["icon","luggage","size","small"],["icon","office","size","small"],["icon","food","size","small"],["icon","profit","size","small"],["cf-button","","size","small","type","solid",1,"w-[82px]","justify-center","py-[5px]","!bg-neutral-black","opacity-50",3,"disabled"],[1,"w-full","h-full","flex","flex-col"],[1,"flex","text-espressive-md","gap-2","px-4","py-2"],["class","relative border flex font-medium items-center text-neutral-gray-4 px-4 py-1.5 border-white cursor-pointer rounded-full",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-4","bg-neutral-gray-1","h-full","overflow-y-scroll","gap-3","flex","flex-col"],[1,"relative","border","flex","font-medium","items-center","text-neutral-gray-4","px-4","py-1.5","border-white","cursor-pointer","rounded-full",3,"ngClass","click"],["class","w-full flex flex-col gap-3",4,"ngSwitchCase"],[1,"w-full","flex","flex-col","gap-3"],["class","flex justify-end absolute top-0 right-0",4,"ngIf"],[1,"flex","justify-end","absolute","top-0","right-0"],["class","flex gap-x-1 items-center py-1 px-2 bg-secondary-3-1 rounded-bl-lg text-secondary-3-4 text-body-sm",4,"ngIf"],[1,"flex","gap-x-1","items-center","py-1","px-2","bg-secondary-3-1","rounded-bl-lg","text-secondary-3-4","text-body-sm"],["icon","document","size","small",1,"md:hidden"]],template:function(e,i){if(1&e){const c=t.EpF();t.TgZ(0,"div",0),t.GkF(1,1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",3),t.YNc(5,Ir,7,8,"div",4),t.ALo(6,"mapper"),t.qZA(),t.TgZ(7,"div",5)(8,"div",6)(9,"div",7),t._UZ(10,"img",8),t.TgZ(11,"span",9),t._uU(12),t.qZA()()(),t.TgZ(13,"div",10),t._UZ(14,"btc-ticket-combo-item-journey",11)(15,"div",12)(16,"btc-ticket-combo-item-journey",11),t.qZA()(),t.TgZ(17,"div",13),t.YNc(18,Nr,3,4,"ng-container",14),t.YNc(19,Or,4,5,"div",15),t.ALo(20,"mapper"),t.qZA()(),t.TgZ(21,"div",16)(22,"div",17),t.YNc(23,Lr,5,5,"ng-container",18),t.qZA(),t.YNc(24,Rr,4,2,"ng-container",19),t.ynx(25),t.YNc(26,Qr,2,0,"ng-template",null,20,t.W1O),t.BQk(),t.qZA()(),t.YNc(28,Vr,7,5,"div",21),t.qZA(),t.TgZ(29,"div",22),t.GkF(30,1),t.TgZ(31,"div",23)(32,"div",24)(33,"div",25),t.YNc(34,tl,7,8,"div",26),t.ALo(35,"mapper"),t.TgZ(36,"div",27),t.YNc(37,ml,32,18,"div",28),t.qZA()(),t.TgZ(38,"div",29)(39,"div",30)(40,"div",31)(41,"div",32),t._uU(42),t.ALo(43,"replace"),t.ALo(44,"number"),t.qZA()()(),t.YNc(45,fl,4,2,"ng-container",19),t.YNc(46,hl,2,0,"ng-template",null,20,t.W1O),t.qZA()()(),t.TgZ(48,"div",33),t.NdJ("click",function(r){t.CHM(c);const u=t.MAs(51);return t.KtG(i.onTicketDetailMobile(r,u))}),t._uU(49," Chi ti\u1ebft "),t.qZA()(),t.YNc(50,Zl,5,2,"ng-template",null,34,t.W1O),t.YNc(52,wl,1,1,"ng-template",null,35,t.W1O)}if(2&e){const c=t.MAs(27),a=t.MAs(53);t.xp6(1),t.Q6J("ngTemplateOutlet",a),t.xp6(4),t.Q6J("ngIf",i.ticket.cheapest||i.ticket.bestChoice||i.ticket.departJourneys[0].isNdcFare||i.ticket.departJourneys[0].isLccFare||t.xi3(6,18,i.searchData,i.getPaxTypeDisplay)),t.xp6(5),t.Q6J("src",i.ticket.departJourneys[0].logoAirline,t.LSH),t.xp6(2),t.hij(" ",i.ticket.departJourneys[0].operatingName?i.ticket.departJourneys[0].operatingName:i.ticket.departJourneys[0].airlineName," "),t.xp6(2),t.Q6J("journey",i.ticket.departJourneys[0]),t.xp6(2),t.Q6J("journey",i.ticket.arriveJourneys[0]),t.xp6(2),t.Q6J("ngForOf",i.modeOptions),t.xp6(1),t.Q6J("ngIf",t.xi3(20,21,i.ticket,i.countOrderOption)),t.xp6(4),t.Q6J("ngIf",i.viewConfig.showDiscountFare),t.xp6(1),t.Q6J("ngIf",!(null!=i.ticket.departJourneys[0].fareCur&&i.ticket.departJourneys[0].fareCur.seatRemain&&null!=i.ticket.arriveJourneys[0].fareCur&&i.ticket.arriveJourneys[0].fareCur.seatRemain))("ngIfElse",c),t.xp6(4),t.Q6J("ngIf",i.mode),t.xp6(2),t.Q6J("ngTemplateOutlet",a),t.xp6(4),t.Q6J("ngIf",i.ticket.cheapest||i.ticket.bestChoice||i.ticket.departJourneys[0].isNdcFare||i.ticket.departJourneys[0].isLccFare||t.xi3(35,24,i.searchData,i.getPaxTypeDisplay)),t.xp6(3),t.Q6J("ngForOf",t.WLB(33,Il,i.ticket.departJourneys[0],i.ticket.arriveJourneys[0])),t.xp6(5),t.hij(" ",t.Dn7(43,27,t.lcZ(44,31,i.ticket.totalPrice),",",".")," \u0111 "),t.xp6(3),t.Q6J("ngIf",!(null!=i.ticket.departJourneys[0].fareCur&&i.ticket.departJourneys[0].fareCur.seatRemain&&null!=i.ticket.arriveJourneys[0].fareCur&&i.ticket.arriveJourneys[0].fareCur.seatRemain))("ngIfElse",c)}},dependencies:[_.ez,_.mk,_.sg,_.O5,_.tP,_.RF,_.n9,_.ED,_.Ov,_.JJ,_.uU,I.N8,I.Xq,p.AxE,p.Sm8,j.q,wt.Lk,Y.AS,te,ee,dr,kr,ne],encapsulation:2}),n})();function Fl(n,o){if(1&n&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.AsE(" ",t.lcZ(2,2,e.tabComboDetail.cheapest.price)," \u20ab - ",e.tabComboDetail.cheapest.durationStr," ")}}function Nl(n,o){1&n&&t._UZ(0,"div",13)}function ql(n,o){if(1&n&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.AsE(" ",t.lcZ(2,2,e.tabComboDetail.best.price)," \u20ab - ",e.tabComboDetail.best.durationStr," ")}}function Ol(n,o){1&n&&t._UZ(0,"div",13)}function Jl(n,o){if(1&n&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.AsE(" ",t.lcZ(2,2,e.tabComboDetail.fastest.price)," \u20ab - ",e.tabComboDetail.fastest.durationStr," ")}}function Ul(n,o){1&n&&t._UZ(0,"div",13)}function Ll(n,o){1&n&&t._UZ(0,"div",14)}function Rl(n,o){1&n&&(t.O4$(),t.TgZ(0,"svg",20),t._UZ(1,"path",21),t.qZA())}function Ql(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",17),t.NdJ("click",function(){const a=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.sortTypeChangeHandler(a.value))}),t.TgZ(1,"div",18),t.YNc(2,Rl,2,0,"svg",19),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA()()}if(2&n){const e=o.$implicit,i=t.oxw(2);t.xp6(2),t.Q6J("ngIf",i.sortType===e.value),t.xp6(2),t.Oqu(e.label)}}function Pl(n,o){if(1&n&&(t.TgZ(0,"div",15),t.YNc(1,Ql,5,2,"div",16),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.optionsSortType)}}let Ml=(()=>{class n{constructor(e){this.cfIconRegister=e,this.sortTypeChange=new t.vpe,this.isOpen=!1,this.optionsSortType=[{value:"max_price",label:"Gi\xe1 (cao nh\u1ea5t)"},{value:"max_flight",label:"Bay (d\xe0i nh\u1ea5t)"},{value:"earliest_departure",label:"Kh\u1edfi h\xe0nh (S\u1edbm nh\u1ea5t)"},{value:"late_departure",label:"Kh\u1edfi h\xe0nh (Mu\u1ed9n nh\u1ea5t)"},{value:"earliest_arrival",label:"H\u1ea1 c\xe1nh (S\u1edbm nh\u1ea5t)"},{value:"late_arrival",label:"H\u1ea1 c\xe1nh (Mu\u1ed9n nh\u1ea5t)"}],this.findSortTypeByOptions=(i,c)=>{var a;return(null===(a=c.find(r=>r.value===i))||void 0===a?void 0:a.label)||"C\xe1c l\u1ef1a ch\u1ecdn kh\xe1c"},e.registerIcons([p.LdZ])}sortTypeChangeHandler(e){this.sortType=e,this.sortTypeChange.emit(e)}openSelectSort(e){e.stopPropagation(),this.isOpen=!this.isOpen}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.KNP))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-result-sort-combo"]],inputs:{sortType:"sortType",tabComboDetail:"tabComboDetail"},outputs:{sortTypeChange:"sortTypeChange"},standalone:!0,features:[t.jDz],decls:30,vars:16,consts:[[1,"w-full","bg-white","rounded-2xl","py-4","flex","justify-between","cursor-pointer","divide-x","divide-solid","divide-neutral-gray-1","h-fit"],[1,"w-[200px]","px-6","flex","flex-col","justify-between","relative",3,"click"],[1,"text-body-lg","font-semibold"],["class","text-body-md-short",4,"ngIf","ngIfElse"],["class","absolute -bottom-4 left-4 right-4 h-1 bg-red-4",4,"ngIf"],["cdkOverlayOrigin","",1,"flex-1","px-6","flex","flex-col","justify-between",3,"click"],["trigger","","originOverlay","cdkOverlayOrigin"],[1,"flex","gap-3","items-center"],[1,"flex","flex-col","justify-between"],[1,"text-body-md-short"],["icon","chevron_down","size","small"],["emptyTabComboItemTpl",""],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","overlayOutsideClick"],[1,"absolute","-bottom-4","left-4","right-4","h-1","bg-red-4"],[1,"w-28","bg-neutral-gray-2","h-4","mt-1","rounded-md","animate-pulse"],[1,"shadow-cf-lg","bg-neutral-white","rounded-lg","text-body-md","py-2","px-2","min-w-[232px]"],["class","bg-white py-3 px-3 flex items-center gap-x-2.5 hover:bg-neutral-gray-1 hover:cursor-pointer rounded-xl",3,"click",4,"ngFor","ngForOf"],[1,"bg-white","py-3","px-3","flex","items-center","gap-x-2.5","hover:bg-neutral-gray-1","hover:cursor-pointer","rounded-xl",3,"click"],[1,"w-4","h-4"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.7763 3.5019C14.0514 3.74651 14.0762 4.16789 13.8316 4.44308L6.7205 12.4431C6.59399 12.5854 6.41265 12.6668 6.22223 12.6668C6.0318 12.6668 5.85047 12.5854 5.72396 12.4431L2.1684 8.44308C1.92379 8.16789 1.94858 7.74651 2.22376 7.5019C2.49895 7.25728 2.92033 7.28207 3.16495 7.55726L6.22223 10.9967L12.8351 3.55726C13.0797 3.28207 13.5011 3.25729 13.7763 3.5019Z","fill","#2C2C2C"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return i.sortTypeChangeHandler("min_price")}),t.TgZ(2,"div",2),t._uU(3," R\u1ebb nh\u1ea5t "),t.qZA(),t.YNc(4,Fl,3,4,"div",3),t.YNc(5,Nl,1,0,"div",4),t.qZA(),t.TgZ(6,"div",1),t.NdJ("click",function(){return i.sortTypeChangeHandler("best_choice")}),t.TgZ(7,"div",2),t._uU(8," T\u1ed1t nh\u1ea5t "),t.qZA(),t.YNc(9,ql,3,4,"div",3),t.YNc(10,Ol,1,0,"div",4),t.qZA(),t.TgZ(11,"div",1),t.NdJ("click",function(){return i.sortTypeChangeHandler("min_flight")}),t.TgZ(12,"div",2),t._uU(13," Nhanh nh\u1ea5t "),t.qZA(),t.YNc(14,Jl,3,4,"div",3),t.YNc(15,Ul,1,0,"div",4),t.qZA(),t.TgZ(16,"div",5,6),t.NdJ("click",function(a){return i.openSelectSort(a)}),t.TgZ(19,"div",7)(20,"div",8)(21,"div",2),t._uU(22," S\u1eafp x\u1ebfp kh\xe1c "),t.qZA(),t.TgZ(23,"div",9),t._uU(24),t.ALo(25,"mapper"),t.qZA()(),t._UZ(26,"cf-icon",10),t.qZA()()(),t.YNc(27,Ll,1,0,"ng-template",null,11,t.W1O),t.YNc(29,Pl,2,1,"ng-template",12),t.NdJ("overlayOutsideClick",function(){return i.isOpen=!1})),2&e){const c=t.MAs(18),a=t.MAs(28);t.xp6(4),t.Q6J("ngIf",null==i.tabComboDetail?null:i.tabComboDetail.cheapest)("ngIfElse",a),t.xp6(1),t.Q6J("ngIf","min_price"===i.sortType),t.xp6(4),t.Q6J("ngIf",null==i.tabComboDetail?null:i.tabComboDetail.best)("ngIfElse",a),t.xp6(1),t.Q6J("ngIf","best_choice"===i.sortType),t.xp6(4),t.Q6J("ngIf",null==i.tabComboDetail?null:i.tabComboDetail.fastest)("ngIfElse",a),t.xp6(1),t.Q6J("ngIf","min_flight"===i.sortType),t.xp6(9),t.hij(" ",t.Dn7(25,12,i.sortType,i.findSortTypeByOptions,i.optionsSortType)," "),t.xp6(5),t.Q6J("cdkConnectedOverlayOrigin",c)("cdkConnectedOverlayOpen",i.isOpen)}},dependencies:[_.ez,_.sg,_.O5,_.JJ,p.AxE,p.Sm8,I.N8,j.q,ie.f,It.pI,It.xu],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();function jl(n,o){1&n&&t._UZ(0,"cf-icon",16)}function Yl(n,o){1&n&&t._UZ(0,"cf-icon",17)}function Hl(n,o){if(1&n&&(t.TgZ(0,"div",12)(1,"div",13),t._uU(2),t.ALo(3,"mapper"),t.YNc(4,jl,1,0,"cf-icon",14),t.YNc(5,Yl,1,0,"cf-icon",15),t._uU(6),t.ALo(7,"mapper"),t.qZA()()),2&n){const e=t.oxw().ngIf,i=t.oxw();t.xp6(2),t.hij(" ",t.xi3(3,4,e.startPoint,i.convertCodeToCity)," "),t.xp6(2),t.Q6J("ngIf",1===i.searchData.journey.length),t.xp6(1),t.Q6J("ngIf",2===i.searchData.journey.length),t.xp6(1),t.hij(" ",t.xi3(7,7,e.endPoint,i.convertCodeToCity)," ")}}function Vl(n,o){1&n&&(t.TgZ(0,"div",18),t._uU(1," T\xecm ki\u1ebfm h\xe0nh tr\xecnh "),t.qZA())}function Gl(n,o){if(1&n&&(t.ynx(0),t._uU(1),t.ALo(2,"date"),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" - ",t.xi3(2,1,e.searchData.journey[1].departDate,"dd/MM/yyyy")," ")}}function zl(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"M\u1ed9t chi\u1ec1u"),t.qZA())}function $l(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"Kh\u1ee9 h\u1ed3i"),t.qZA())}function Kl(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",3),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.openSearchInputBottomSheet.emit())}),t.TgZ(1,"div",4),t.YNc(2,Hl,8,10,"div",5),t.YNc(3,Vl,2,0,"ng-template",null,6,t.W1O),t.TgZ(5,"div",7),t._UZ(6,"cf-icon",8),t.qZA()(),t.TgZ(7,"div",4)(8,"div",4)(9,"div",9),t._uU(10),t.ALo(11,"date"),t.YNc(12,Gl,3,4,"ng-container",10),t.qZA()(),t._UZ(13,"div",11),t.TgZ(14,"div",9),t.YNc(15,zl,2,0,"div",10),t.YNc(16,$l,2,0,"div",10),t.qZA()()()}if(2&n){const e=o.ngIf,i=t.MAs(4),c=t.oxw();t.xp6(2),t.Q6J("ngIf",e.startPoint||e.endPoint)("ngIfElse",i),t.xp6(8),t.hij(" ",t.xi3(11,6,e.departDate,"dd/MM/yyyy")," "),t.xp6(2),t.Q6J("ngIf",2===c.searchData.journey.length),t.xp6(3),t.Q6J("ngIf",1===c.searchData.journey.length),t.xp6(1),t.Q6J("ngIf",2===c.searchData.journey.length)}}let Wl=(()=>{class n{constructor(e,i,c){this.locationDataSvc=e,this.cfIconRegister=i,this._bottomSheetService=c,this.searchDataChange=new t.vpe,this.openSearchInputBottomSheet=new t.vpe,this.BtcTypeOfListSearch=M.YI,this.convertCodeToCity=a=>this.locationDataSvc.getCityNameByCode(a),this.initIcon()}initIcon(){this.cfIconRegister.registerIcons([p.Ffn,p.Lxr,p.PlV])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(et._),t.Y36(p.KNP),t.Y36(S.a2))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-search-input-mobile"]],inputs:{searchData:"searchData"},outputs:{searchDataChange:"searchDataChange",openSearchInputBottomSheet:"openSearchInputBottomSheet"},standalone:!0,features:[t.jDz],decls:5,vars:1,consts:[[1,"flex","gap-2","justify-between"],[1,"flex","flex-col","gap-1"],["class","flex flex-col gap-1",3,"click",4,"ngIf"],[1,"flex","flex-col","gap-1",3,"click"],[1,"flex","gap-1","items-center"],["class","text-body-md flex gap-1 items-center text-neutral-black",4,"ngIf","ngIfElse"],["emptyPoint",""],[1,"p-1","rounded-full","bg-secondary-6-1"],["icon","edit","size","small",1,"text-secondary-6-4"],[1,"text-body-sm","text-neutral-gray-5"],[4,"ngIf"],[1,"w-0","border-r","border-r-secondary-7-2","mx-1","h-4"],[1,"text-body-md","flex","gap-1","items-center","text-neutral-black"],[1,"text-espressive-sm","text-neutral-black","flex","items-center"],["class","text-secondary-7-5","icon","arrow_right","size","small",4,"ngIf"],["class","text-secondary-7-5 rotate-90","icon","sort","size","small",4,"ngIf"],["icon","arrow_right","size","small",1,"text-secondary-7-5"],["icon","sort","size","small",1,"text-secondary-7-5","rotate-90"],[1,"text-body-md","flex","gap-1","items-center","text-neutral-black","font-semibold"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div"),t.ynx(3),t.YNc(4,Kl,17,9,"div",2),t.BQk(),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",i.searchData.journey[0]))},dependencies:[_.ez,_.O5,_.uU,p.AxE,p.Sm8,j.q],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();function Xl(n,o){if(1&n&&(t.TgZ(0,"div",11)(1,"span",12),t._uU(2," T\u1ed5ng chi ph\xed: "),t.qZA(),t.TgZ(3,"span",13),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.hij(" ",t.Dn7(5,1,t.lcZ(6,5,(null==e.ticketCur?null:e.ticketCur.totalPrice)||0),",",".")," \u0111 ")}}function ts(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(),a=t.MAs(2);return t.KtG(c.openBottomSheet(a))}),t.TgZ(1,"div",3)(2,"div",4),t.YNc(3,Xl,7,7,"div",5),t.TgZ(4,"div",6)(5,"span",7),t._uU(6),t.ALo(7,"mapper"),t.qZA(),t.TgZ(8,"span",8),t._uU(9,"chuy\u1ebfn bay \u0111\xe3 ch\u1ecdn"),t.qZA(),t._UZ(10,"cf-icon",9),t.qZA()(),t.TgZ(11,"div")(12,"button",10),t.NdJ("click",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.booking(c))}),t.ALo(13,"mapper"),t._uU(14,"\u0110\u1eb7t v\xe9"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",null==e.ticketCur?null:e.ticketCur.totalPrice),t.xp6(3),t.AsE(" ",t.xi3(7,4,e.ticketCur,e.checkCountTicketData),"/",e.ticketCur.ticketSelected.length," "),t.xp6(6),t.Q6J("disabled",t.xi3(13,7,e.ticketCur,e.checkCountTicketData)<e.ticketCur.ticketSelected.length)}}function es(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"btc-ticket-sticky-selected",16),t.NdJ("reselectClick",function(c){t.CHM(e);const a=t.oxw(2);return t.KtG(a.reselectClick.emit(c))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ticketCur",e.ticketCur)("searchInput",e.searchInput)}}function ns(n,o){if(1&n&&(t.TgZ(0,"div",14),t.YNc(1,es,1,2,"btc-ticket-sticky-selected",15),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ticketCur)}}let is=(()=>{class n{constructor(e,i){this.bottomSheetService=e,this.cfIconRegister=i,this.reselectClick=new t.vpe,this.checkCountTicketData=c=>c.ticketSelected.filter(a=>a.ticketData).length,i.registerIcons([p.fqi])}booking(e){e.preventDefault()}openBottomSheet(e){this.bottomSheetRef=this.bottomSheetService.open(e,{headerTitle:"Chuy\u1ebfn bay c\u1ee7a b\u1ea1n",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",containerFullHeigh:!0}),this.bottomSheetRef.containerInstance._rightButtonClick.subscribe(()=>{this.bottomSheetService.dismiss()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.a2),t.Y36(p.KNP))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-search-sticky-selected-mobile"]],inputs:{searchInput:"searchInput",ticketCur:"ticketCur"},outputs:{reselectClick:"reselectClick"},standalone:!0,features:[t.jDz],decls:3,vars:1,consts:[["class"," bg-white shadow-lg py-3 px-4 flex flex-col w-full",3,"click",4,"ngIf"],["bottomSheet",""],[1,"bg-white","shadow-lg","py-3","px-4","flex","flex-col","w-full",3,"click"],[1,"flex","justify-between","items-center"],[1,"flex","flex-col","items-center"],["class","flex items-center gap-1",4,"ngIf"],[1,"flex","items-center","gap-x-1","text-express-xs"],[1,"text-secondary-6-4"],[1,"text-neutral-gray-6"],["icon","chevron_up","size","small",1,"text-neutral-gray-6"],["cf-button","",1,"w-24","justify-center",3,"disabled","click"],[1,"flex","items-center","gap-1"],[1,"text-express-xs","text-neutral-gray-4"],[1,"text-heading-sm","text-neutral-gray-6"],[1,"w-full","flex-shrink-0","rounded","bg-neutral-white","h-full"],[3,"ticketCur","searchInput","reselectClick",4,"ngIf"],[3,"ticketCur","searchInput","reselectClick"]],template:function(e,i){1&e&&(t.YNc(0,ts,15,10,"div",0),t.YNc(1,ns,2,1,"ng-template",null,1,t.W1O)),2&e&&t.Q6J("ngIf",i.ticketCur)},dependencies:[_.ez,_.O5,_.JJ,I.N8,I.Xq,p.AxE,p.Sm8,Y.AS,j.q,ht],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();var os=f(82692),cs=f(53620),as=f(54646),rs=f(53819),ls=f(99137),ss=f(37453),us=f(82858),ps=f(24351),ds=f(28746);const _s={headers:new L.WM({"Content-Type":"application/json"})};let gs=(()=>{class n{constructor(e,i){this.http=e,this.appConfig=i}searchFlight(e){return this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/search",JSON.stringify(e),_s).pipe((0,H.U)(i=>(0,P.yE)(Mn,i,{excludeExtraneousValues:!0})))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(L.eN),t.LFG(R.qB))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ms(n,o){if(1&n&&(t.TgZ(0,"div",39),t._UZ(1,"div",40),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Udp("width",e.progress.percent+"%")}}function fs(n,o){if(1&n&&(t.TgZ(0,"div",50),t._uU(1),t.ALo(2,"formatVietnameseDate"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.departDate)," ")}}function hs(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",46),t.NdJ("click",function(){const a=t.CHM(e).index,r=t.oxw(3);return t.KtG(r.idxTicketSelectedChange(a))}),t.TgZ(1,"div",47),t._uU(2),t.qZA(),t.YNc(3,fs,3,3,"div",48),t._UZ(4,"div",49),t.qZA()}if(2&n){const e=o.$implicit,i=o.index,c=t.oxw(3);t.xp6(2),t.AsE(" ",e.startPoint," - ",e.endPoint," "),t.xp6(1),t.Q6J("ngIf",e.departDate),t.xp6(1),t.Q6J("ngClass",i===c.ticketCur.idxTicketSelected?"flex":"hidden")}}function xs(n,o){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,hs,5,4,"div",45),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.searchDataRaw.journey)}}const vs=function(n){return{"w-full":n}};function Cs(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",41),t.YNc(1,xs,2,1,"div",42),t.TgZ(2,"btc-result-options-sort",43),t.NdJ("sortTypeChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.sortType=c)}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.searchDataRaw.type===e.btcTypeSearch.RoundTrip),t.xp6(1),t.Q6J("sortType",e.sortType)("ngClass",t.VKq(3,vs,e.searchDataRaw.type!==e.btcTypeSearch.RoundTrip))}}function ys(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"btc-result-sort-combo",51),t.NdJ("sortTypeChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.sortType=c)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("sortType",e.sortType)("tabComboDetail",e.tabComboDetail)}}function Ts(n,o){1&n&&t._UZ(0,"btc-ticket-skeleton")}const St=function(){return[]};function bs(n,o){1&n&&(t.TgZ(0,"div",52),t.YNc(1,Ts,1,0,"btc-ticket-skeleton",53),t.qZA()),2&n&&(t.Q6J("@listAnimation",4),t.xp6(1),t.Q6J("ngForOf",t.DdM(2,St).constructor(4)))}function ks(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"btc-ticket-item",57),t.NdJ("selectTicket",function(c){t.CHM(e);const a=t.oxw(5);return t.KtG(a.chooseTicket(c))}),t.qZA()()}if(2&n){const e=o.$implicit,i=t.oxw(5);t.xp6(1),t.Q6J("ticket",e)("searchData",i.searchDataRaw)("viewConfig",i.viewConfig)}}function Zs(n,o){if(1&n&&(t.ynx(0),t.YNc(1,ks,2,3,"div",56),t.ALo(2,"slice"),t.BQk()),2&n){const e=o.ngIf,i=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,2,e,0,i.displayLimit))("ngForTrackBy",i.ticketTrackByFn)}}function As(n,o){if(1&n&&(t.TgZ(0,"div",52),t.YNc(1,Zs,3,6,"ng-container",27),t.ALo(2,"mapper"),t.qZA()),2&n){const e=o.ngIf,i=t.oxw(3);t.Q6J("@listAnimation",e.length),t.xp6(1),t.Q6J("ngIf",t.Dn7(2,2,e,i.sortMapper,i.sortType))}}const oe=function(n,o,e,i,c,a,r,u,g,m,h){return[n,o,e,i,c,a,r,u,g,m,h]};function Es(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",52),t.YNc(2,As,3,6,"div",55),t.ALo(3,"mapper"),t.qZA(),t.BQk()),2&n){const e=t.oxw(2),i=t.MAs(31);t.xp6(2),t.Q6J("ngIf",t.G7q(3,2,t.rFY(15,oe,[e.listTicketDisplay,e.filterMapperModeSingle,e.filterFareTypeOptions,e.timeFlightOptions,e.modelAirPlaneOptions,e.ticketFilterNumStop,e.airlineOptions,e.optionsTicketType,e.bookingSystemList,(null==e.ticketCur?null:e.ticketCur.idxTicketSelected)||0,e.searchData.journey||t.DdM(14,St)])))("ngIfElse",i)}}function Ds(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Es,4,27,"ng-container",54),t.qZA()),2&n){const e=t.oxw(),i=t.MAs(31);t.xp6(1),t.Q6J("ngIf",e.listTicketDisplay)("ngIfElse",i)}}function Bs(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"btc-ticket-combo-item",58),t.NdJ("chooseTicketCombo",function(c){t.CHM(e);const a=t.oxw(4);return t.KtG(a.chooseTicketCombo(c))}),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit,i=t.oxw(4);t.xp6(1),t.Q6J("ticket",e)("searchData",i.searchDataRaw)("viewConfig",i.viewConfig)}}function ws(n,o){if(1&n&&(t.TgZ(0,"div",52),t.YNc(1,Bs,2,3,"ng-container",53),t.ALo(2,"slice"),t.ALo(3,"mapper"),t.qZA()),2&n){const e=o.ngIf,i=t.oxw(3);t.Q6J("@listAnimation",null==i.listTicketComboDisplay?null:i.listTicketComboDisplay.length),t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,2,t.Dn7(3,6,e,i.sortComboMapper,i.sortType),0,i.displayLimit))}}const ce=function(n,o,e,i,c,a){return[n,o,e,i,c,a]};function Is(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",52),t.YNc(2,ws,4,10,"div",55),t.ALo(3,"mapper"),t.qZA(),t.BQk()),2&n){const e=t.oxw(2),i=t.MAs(31);t.xp6(2),t.Q6J("ngIf",t.G7q(3,2,t.HTZ(9,ce,e.listTicketComboDisplay,e.filterMapperModeCombo,e.airlineOptions,e.ticketFilterNumStop,e.bookingSystemList,e.optionsTicketType)))("ngIfElse",i)}}function Ss(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Is,4,16,"ng-container",54),t.qZA()),2&n){const e=t.oxw(),i=t.MAs(31);t.xp6(1),t.Q6J("ngIf",e.listTicketComboDisplay)("ngIfElse",i)}}function Fs(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",61),t._UZ(1,"img",62),t.TgZ(2,"div",63),t._uU(3,"Kh\xf4ng c\xf3 chuy\u1ebfn bay n\xe0o"),t.qZA(),t.TgZ(4,"div",64),t._uU(5," Vui l\xf2ng s\u1eeda \u0111\u1ed5i b\u1ed9 l\u1ecdc ho\u1eb7c thay \u0111\u1ed5i t\xecm ki\u1ebfm c\u1ee7a b\u1ea1n. "),t.qZA(),t.TgZ(6,"button",65),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(3),a=t.MAs(15),r=t.MAs(48);return t.KtG(c.onChangeSearch(a,r))}),t._UZ(7,"cf-icon",66),t._uU(8," Thay \u0111\u1ed5i t\xecm ki\u1ebfm "),t.qZA()()}2&n&&(t.xp6(6),t.Q6J("type","secondary"))}function Ns(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",67),t._UZ(1,"img",62),t.TgZ(2,"div",63),t._uU(3,"Kh\xf4ng c\xf3 chuy\u1ebfn bay n\xe0o ph\xf9 h\u1ee3p"),t.qZA(),t.TgZ(4,"div",68),t._uU(5," Vui l\xf2ng s\u1eeda \u0111\u1ed5i b\u1ed9 l\u1ecdc cho ph\xf9 h\u1ee3p ho\u1eb7c ch\u1ecdn n\xfat b\xean d\u01b0\u1edbi \u0111\u1ec3 h\u1ee7y vi\u1ec7c l\u1ecdc. "),t.qZA(),t.TgZ(6,"button",69),t.NdJ("click",function(){t.CHM(e);const c=t.oxw(3);return t.KtG(c.onResetFilter())}),t._uU(7," H\u1ee7y l\u1ecdc chuy\u1ebfn bay "),t.qZA()()}2&n&&(t.xp6(6),t.Q6J("type","solid"))}function qs(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Fs,9,1,"div",59),t.YNc(2,Ns,8,1,"ng-template",null,60,t.W1O),t.BQk()),2&n){const e=t.MAs(3),i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!(null!=i.listTicketDisplay&&i.listTicketDisplay.length||null!=i.listTicketComboDisplay&&i.listTicketComboDisplay.length))("ngIfElse",e)}}function Os(n,o){if(1&n&&t.YNc(0,qs,4,2,"ng-container",27),2&n){const e=t.oxw();t.Q6J("ngIf",!e.progress.isProgress)}}function Js(n,o){1&n&&t._UZ(0,"btc-ticket-skeleton")}function Us(n,o){1&n&&(t.TgZ(0,"div",79),t.YNc(1,Js,1,0,"btc-ticket-skeleton",53),t.qZA()),2&n&&(t.Q6J("@listAnimation",5),t.xp6(1),t.Q6J("ngForOf",t.DdM(2,St).constructor(5)))}function Ls(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"btc-ticket-item",81),t.NdJ("selectTicket",function(c){t.CHM(e);const a=t.oxw(4);return t.KtG(a.chooseTicket(c))})("reselectClick",function(){t.CHM(e);const c=t.oxw().index,a=t.oxw(3);return t.KtG(a.reselectTicket(c))}),t.qZA()}if(2&n){const e=o.ngIf,i=t.oxw(4);t.Q6J("ticket",e)("searchData",i.searchDataRaw)("viewConfig",i.viewConfig)("ticketSelectedMobile",!0)}}function Rs(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Ls,1,4,"btc-ticket-item",80),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.ticketData)}}function Qs(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"btc-ticket-item",57),t.NdJ("selectTicket",function(c){t.CHM(e);const a=t.oxw(5);return t.KtG(a.chooseTicket(c))}),t.qZA()()}if(2&n){const e=o.$implicit,i=t.oxw(5);t.xp6(1),t.Q6J("ticket",e)("searchData",i.searchDataRaw)("viewConfig",i.viewConfig)}}function Ps(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",52),t.YNc(2,Qs,2,3,"div",56),t.ALo(3,"slice"),t.qZA(),t.BQk()),2&n){const e=o.ngIf,i=t.oxw(4);t.xp6(1),t.Q6J("@listAnimation",null==i.listTicketComboDisplay?null:i.listTicketComboDisplay.length),t.xp6(1),t.Q6J("ngForOf",t.Dn7(3,3,e,0,i.displayLimit))("ngForTrackBy",i.ticketTrackByFn)}}function Ms(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Ps,4,7,"ng-container",27),t.ALo(2,"mapper"),t.BQk()),2&n){const e=o.ngIf,i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",t.Dn7(2,1,e,i.sortMapper,i.sortType))}}function js(n,o){if(1&n&&(t.TgZ(0,"div",52),t.YNc(1,Rs,2,1,"ng-container",53),t.YNc(2,Ms,3,5,"ng-container",54),t.ALo(3,"mapper"),t.qZA()),2&n){const e=t.oxw(2),i=t.MAs(31);t.xp6(1),t.Q6J("ngForOf",e.ticketCur.ticketSelected),t.xp6(1),t.Q6J("ngIf",t.G7q(3,3,t.rFY(16,oe,[e.listTicketDisplay,e.filterMapperModeSingle,e.filterFareTypeOptions,e.timeFlightOptions,e.modelAirPlaneOptions,e.ticketFilterNumStop,e.airlineOptions,e.optionsTicketType,e.bookingSystemList,(null==e.ticketCur?null:e.ticketCur.idxTicketSelected)||0,e.searchData.journey||t.DdM(15,St)])))("ngIfElse",i)}}function Ys(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"btc-ticket-combo-item",58),t.NdJ("chooseTicketCombo",function(c){t.CHM(e);const a=t.oxw(4);return t.KtG(a.chooseTicketCombo(c))}),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit,i=t.oxw(4);t.xp6(1),t.Q6J("ticket",e)("searchData",i.searchDataRaw)("viewConfig",i.viewConfig)}}function Hs(n,o){if(1&n&&(t.TgZ(0,"div",52),t.YNc(1,Ys,2,3,"ng-container",53),t.ALo(2,"slice"),t.ALo(3,"mapper"),t.qZA()),2&n){const e=o.ngIf,i=t.oxw(3);t.Q6J("@listAnimation",null==i.listTicketComboDisplay?null:i.listTicketComboDisplay.length),t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,2,t.Dn7(3,6,e,i.sortComboMapper,i.sortType),0,i.displayLimit))}}function Vs(n,o){if(1&n&&(t.TgZ(0,"div",52),t.YNc(1,Hs,4,10,"div",55),t.ALo(2,"mapper"),t.qZA()),2&n){const e=t.oxw(2),i=t.MAs(31);t.xp6(1),t.Q6J("ngIf",t.G7q(2,2,t.HTZ(9,ce,e.listTicketComboDisplay,e.filterMapperModeCombo,e.airlineOptions,e.ticketFilterNumStop,e.bookingSystemList,e.optionsTicketType)))("ngIfElse",i)}}function Gs(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",70)(1,"div",71)(2,"btc-search-input-mobile",72),t.NdJ("searchDataChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.searchData=c)})("openSearchInputBottomSheet",function(){t.CHM(e);const c=t.oxw(),a=t.MAs(48);return t.KtG(c.openSearchInputBottomSheet(a))}),t.qZA(),t.TgZ(3,"div",73)(4,"btc-result-options-sort",74),t.NdJ("sortTypeChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.sortType=c)}),t.qZA(),t.TgZ(5,"btc-result-filter",75),t.NdJ("viewConfigChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.viewConfig=c)})("airlineOptionsChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.airlineOptions=c)})("ticketFilterNumStopChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.ticketFilterNumStop=c)})("timeFlightOptionsChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.timeFlightOptions=c)})("filterFareTypeOptionsChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.filterFareTypeOptions=c)})("modelAirPlaneOptionsChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.modelAirPlaneOptions=c)})("optionsTicketTypeChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.optionsTicketType=c)})("resetFilter",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.onResetFilter())}),t.qZA()()(),t.TgZ(6,"div",76),t.YNc(7,Us,2,3,"div",77),t.YNc(8,js,4,28,"div",26),t.YNc(9,Vs,3,16,"div",26),t.qZA(),t.TgZ(10,"btc-search-sticky-selected-mobile",78),t.NdJ("reselectClick",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.reselectTicket(c))}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("searchData",e.searchData),t.xp6(2),t.Q6J("sortType",e.sortType),t.xp6(1),t.Q6J("viewConfig",e.viewConfig)("airlineOptions",e.airlineOptions)("ticketFilterNumStop",e.ticketFilterNumStop)("timeFlightOptions",e.timeFlightOptions)("filterFareTypeOptions",e.filterFareTypeOptions)("modelAirPlaneOptions",e.modelAirPlaneOptions)("optionsTicketType",e.optionsTicketType),t.xp6(2),t.Q6J("ngIf",e.progress.isProgress),t.xp6(1),t.Q6J("ngIf",e.searchData.typeOfList===e.btcTypeOfListSearch.Single),t.xp6(1),t.Q6J("ngIf",e.searchData.typeOfList===e.btcTypeOfListSearch.Combo),t.xp6(1),t.Q6J("ticketCur",e.ticketCur)("searchInput",e.searchData)}}function zs(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",82)(1,"div",5)(2,"btc-type-search",6),t.NdJ("typeSearchChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.flightTypeChange(c))}),t.qZA()(),t.TgZ(3,"btc-search-input",83,15),t.NdJ("removeRoute",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.removeRoute(c))})("dataChange",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.searchInputChange())})("dateTypeChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.onDateTypeChange(c))}),t.qZA(),t.TgZ(5,"div",84)(6,"btc-num-of-pas",8),t.NdJ("numberOfPassengerChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.numberOfPassengerChange(c))}),t.qZA(),t.TgZ(7,"btc-airline-filter",9),t.NdJ("airlineFilterChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.airlineFilterChange(c))}),t.qZA(),t._UZ(8,"btc-voucher-selector",10),t.TgZ(9,"btc-cabin-selector",11),t.NdJ("cabinChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.cabinChange(c))}),t.qZA(),t.TgZ(10,"btc-pax-type-selector",12),t.NdJ("paxTypeChange",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.paxTypeChange(c))}),t.qZA()(),t.TgZ(11,"button",85),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.researchFlight())}),t._UZ(12,"cf-icon",17),t._uU(13," T\xecm chuy\u1ebfn bay "),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("flightType",e.searchData.type),t.xp6(1),t.Q6J("formArray",e.journeyFormArr)("type",e.searchData.type||0),t.xp6(3),t.Q6J("adultNumber",e.searchData.adultCount)("childNumber",e.searchData.childCount)("infantNumber",e.searchData.infantCount),t.xp6(1),t.Q6J("airlineList",e.airlineFilters),t.xp6(1),t.Q6J("isShowTooltipFirstTime",!1)("promotionGroupList",e.searchData.promotionGroupFilters),t.xp6(1),t.Q6J("cabinList",e.cabinList)("actived",e.isAirLineInternational),t.xp6(1),t.Q6J("paxTypeList",e.paxTypeList)("actived",e.isAirLineInternational)}}let $s=(()=>{class n{constructor(e,i,c,a,r,u,g,m,h,T,Z,d,y,k){this._helperSvc=e,this._helperResultSvc=i,this._fb=c,this._locationDataService=a,this._cdr=r,this._modal=u,this._cfIconRegister=g,this._searchBtcSvc=m,this.router=h,this.route=T,this._detectMobileService=Z,this._bottomSheetService=d,this.recaptchaV3Service=y,this._sessionStorageSvc=k,this.btcTypeOfListSearch=M.YI,this.btcTypeSearch=M.VB,this.listElTIcketView=[],this.isAirLineInternational=!1,this.cabinList=G.St,this.paxTypeList=G.S,this.airlineFilters=G._q,this.progress={isProgress:!1,percent:0,interval:null},this.airlineOptions=[],this.timeFlightOptions=Ht,this.filterFareTypeOptions=[],this.modelAirPlaneOptions=[],this.ticketFilterNumStop=Vt,this.optionsTicketType=Gt,this.bookingSystemList=[],this.sortType="min_price",this.displayLimit=10,this.isMobile=this._detectMobileService.isMobile(),this.amountDiscount=0,this.filterMapperModeSingle=(A,w,F,N,O,E,J,x,C,q)=>{this.displayLimit=10;let v=[];const Q=w.filter(b=>b.actived).map(b=>b.code.trim());if(null!=Q&&Q.length?A.forEach(b=>{b.chosenFares.forEach(U=>{Q.includes(U.fareInfos[0].cabin.name.toUpperCase().trim())&&(v=[...v,(0,P.yE)(at,Object.assign(Object.assign({},b),{fareOptions:[U]}),{excludeExtraneousValues:!0})])})}):v=A,null!=q&&q.length&&null!=v&&v.length&&!(0,_t.isNil)(C)){const{startPoint:b,endPoint:U}=q[C];v=v.filter(X=>X.departure.airport.code===b&&X.arrival.airport.code===U)}const V=J.filter(b=>b.actived).map(b=>b.code);null!=V&&V.length&&(v=v.filter(b=>{const U=b.fareOptions.some(bt=>bt.lccFare),X=b.fareOptions.some(bt=>bt.privateFare),Ft=b.fareOptions.some(bt=>bt.ndcFare);return V.includes("lcc")&&U||V.includes("privateFare")&&X||V.includes("ndc")&&Ft}));const z=null==E?void 0:E.filter(b=>b.actived);null!=z&&z.length&&(v=null==v?void 0:v.filter(b=>z.some(U=>U.code===b.airline)));const $=null==F?void 0:F.filter(b=>b.actived);if(null!=$&&$.length&&(v=null==v?void 0:v.filter(b=>{const U=new Date(b.departure.localTime),X=60*U.getHours()+U.getMinutes();return null==$?void 0:$.some(Ft=>Ft.startTime<=X&&Ft.endTime>=X)})),null!=x&&x.length){let b=[];null==x||x.filter(U=>U.actived).forEach(U=>{const X="inland"===U.code?["VN","VJ","QH","BL"]:[U.code];b=[...b,...X]}),null!=b&&b.length&&(v=null==v?void 0:v.filter(U=>b.includes(U.provider)))}const nt=N.filter(b=>b.actived).map(b=>b.code);null!=nt&&nt.length&&(v=null==v?void 0:v.filter(b=>nt.includes(b.segments[0].modelAirplane)));const W=Object.entries(O).filter(([b,U])=>U).map(([b,U])=>b);return null!=W&&W.length&&(v=null==v?void 0:v.filter(b=>"direct"===W[0]?0===b.numOfStops:"oneRoute"===W[0]?1===b.numOfStops:b.numOfStops>1)),v},this.sortMapper=(A=[],w)=>{this.displayLimit=10;const F=[...A],O={min_price:(x,C)=>x.totalPrice-C.totalPrice,max_price:(x,C)=>C.totalPrice-x.totalPrice,min_flight:(x,C)=>x.duration-C.duration,max_flight:(x,C)=>C.duration-x.duration,earliest_departure:(x,C)=>new Date(x.departure.localTime).getTime()-new Date(C.departure.localTime).getTime(),late_departure:(x,C)=>new Date(C.departure.localTime).getTime()-new Date(x.departure.localTime).getTime(),earliest_arrival:(x,C)=>new Date(x.arrival.localTime).getTime()-new Date(C.arrival.localTime).getTime(),late_arrival:(x,C)=>new Date(C.arrival.localTime).getTime()-new Date(x.arrival.localTime).getTime()}[w];O&&F.sort(O);const{available:E,unavailable:J}=(F||[]).reduce((x,C)=>{var q;return null!==(q=C.fareCur)&&void 0!==q&&q.seatRemain?x.available.push(C):x.unavailable.push(C),x},{available:[],unavailable:[]});return null!=E&&E.length||null!=J&&J.length?[...E,...J]:null},this.sortComboMapper=(A=[],w)=>{this.displayLimit=10;const F=[...A],O={min_price:(x,C)=>x.totalPrice-C.totalPrice,max_price:(x,C)=>C.totalPrice-x.totalPrice,best_choice:(x,C)=>x.score-C.score,min_flight:(x,C)=>x.departJourneys[0].duration+x.arriveJourneys[0].duration-(C.departJourneys[0].duration+C.arriveJourneys[0].duration),max_flight:(x,C)=>C.departJourneys[0].duration+C.arriveJourneys[0].duration-(x.departJourneys[0].duration+x.arriveJourneys[0].duration),earliest_departure:(x,C)=>x.departJourneys[0].departure.scheduleTime-C.departJourneys[0].departure.scheduleTime,late_departure:(x,C)=>C.departJourneys[0].departure.scheduleTime-x.departJourneys[0].departure.scheduleTime,earliest_arrival:(x,C)=>x.arriveJourneys[0].departure.scheduleTime-C.arriveJourneys[0].departure.scheduleTime,late_arrival:(x,C)=>C.arriveJourneys[0].departure.scheduleTime-x.arriveJourneys[0].departure.scheduleTime}[w];O&&F.sort(O);const{available:E,unavailable:J}=(F||[]).reduce((x,C)=>{var q,v;return null!==(q=C.departJourneys[0].fareCur)&&void 0!==q&&q.seatRemain&&null!==(v=C.arriveJourneys[0].fareCur)&&void 0!==v&&v.seatRemain?x.available.push(C):x.unavailable.push(C),x},{available:[],unavailable:[]});return null!=E&&E.length||null!=J&&J.length?[...E,...J]:null},this.filterMapperModeCombo=(A,w,F,N,O)=>{this.displayLimit=10;let E=A;const J=null==w?void 0:w.filter(v=>v.actived);null!=J&&J.length&&(E=null==E?void 0:E.filter(v=>J.some(Q=>Q.code===v.departJourneys[0].airline)));const x=null==O?void 0:O.filter(v=>v.actived).map(v=>v.code);null!=x&&x.length&&(E=null==E?void 0:E.filter(v=>{const Q=v.departJourneys[0].isLccFare,V=v.departJourneys[0].privateFare,z=v.departJourneys[0].isNdcFare;return x.includes("lcc")&&Q||x.includes("privateFare")&&V||x.includes("ndc")&&z}));const C=Object.entries(F).filter(([v,Q])=>Q).map(([v,Q])=>v);null!=C&&C.length&&(E=null==E?void 0:E.filter(v=>"direct"===C[0]?0===v.departJourneys[0].numOfStops:"oneRoute"===C[0]?1===v.departJourneys[0].numOfStops:v.departJourneys[0].numOfStops>1));let q=[];return null==N||N.filter(v=>v.actived).forEach(v=>{const Q="inland"===v.code?["VN","VJ","QH","BL"]:[v.code];q=[...q,...Q]}),null!=q&&q.length&&(E=null==E?void 0:E.filter(v=>q.includes(v.provider))),E},this._cfIconRegister.registerIcons([p.n78,p.bHT,p.D5L,p.TM4,p.gll,p.TOh,p.KYu,p.tLH,p.IIV,p._hx,p.YwC,p.esH])}ngOnInit(){this.route.queryParams.subscribe(e=>{this.searchData=this._helperSvc.progressQueryToRawData(e),this.ticketCur=(0,P.yE)(Wt,this._helperResultSvc.initTicketCur(+e.t),{excludeExtraneousValues:!0}),this._sessionStorageSvc.btcResultData={search:this.searchData,ticketCur:this.ticketCur,dataBooking:null},this.journeyFormArr||this.initForm(),this.searchData&&(this.searchDataRaw=(0,_t.cloneDeep)(this.searchData),this.initDataSearch(this.searchDataRaw))})}initForm(){this.journeyFormArr=this._fb.array([]),this._helperSvc.addJourney({startPoint:null,endPoint:null,departDate:null},this.journeyFormArr)}initDataSearch(e){var i,c;this._helperSvc.progressJourneyByType(this.journeyFormArr,this.searchData.type,e.journey),this.isAirLineInternational=null!==(i=this.journeyFormArr.controls)&&void 0!==i&&i.length?this.progressInternationalFlight(this.journeyFormArr.controls[0].value):this.progressInternationalFlight({startPoint:null,endPoint:null,departDate:null});const a=e.journey;null!=a&&a.length?(this.progressCabinQuery(this.searchData.journey[0].cabin),this.progressPaxTypeQuery(this.searchData.journey[0].paxType)):(this.progressCabinQuery(null),this.progressPaxTypeQuery(null)),e.isDirectFlight&&(this.ticketFilterNumStop=Object.assign(Object.assign({},this.ticketFilterNumStop),{direct:!0})),null!==(c=null==e?void 0:e.journey)&&void 0!==c&&c.some(r=>r.startPoint&&r.endPoint)&&this.initSearchResultList(e)}progressInternationalFlight(e){var i;let c=!1;if((e.startPoint||e.endPoint)&&(c=!!e.startPoint&&this._locationDataService.checkAirportInternational(e.startPoint)||!!e.endPoint&&this._locationDataService.checkAirportInternational(e.endPoint),!c)){this.cabinList=[...this._helperSvc.resetCabinList(this.cabinList)];const a=this.cabinList.find(u=>u.actived);a&&this.cabinChange(a),this.paxTypeList=[...this._helperSvc.resetPaxTypeList(this.paxTypeList)];const r=this.paxTypeList.find(u=>u.actived);r&&this.paxTypeChange(r)}return this.airlineFilters=[...this._helperSvc.progressAirlineFileByInternational(this.airlineFilters,c,null!==(i=this.searchData.journey)&&void 0!==i&&i.length?this.searchData.journey[0].airline:null)],this.searchData.journey.map(a=>a.airline=this.airlineFilters.filter(r=>r.actived).map(r=>r.value).join(",")),this.initFilterBeforeSearchByInternational(c),c}initFilterBeforeSearchByInternational(e){this.optionsTicketType=e?Gt:[],this.bookingSystemList=e?Qn:[]}progressCabinQuery(e){this.cabinList=[...this.cabinList.map(i=>Object.assign(Object.assign({},i),{actived:e?i.value===e:i.actived}))]}progressPaxTypeQuery(e){this.paxTypeList=[...this.paxTypeList.map(i=>Object.assign(Object.assign({},i),{actived:e?e===i.value:i.actived}))]}initSearchResultList(e=this.searchDataRaw){this.startProgressBar(),this.recaptchaV3Service.execute("importantAction").pipe((0,ps.b)(i=>this._searchBtcSvc.searchFlight(Object.assign(Object.assign({},this._helperResultSvc.convertSearchInputToRequest(e)),{recaptcha:i})).pipe((0,ds.x)(()=>{this.progress.percent=100,setTimeout(()=>{this.progress.isProgress=!1,this._cdr.detectChanges()},1e3)})))).subscribe(i=>{var c,a;if(this.dataRaw=i,e.typeOfList===M.YI.Single){const r=(0,_t.flatMap)(null===(c=null==i?void 0:i.data)||void 0===c?void 0:c.flightOptions,u=>u.journeys);this.listTicketDisplay=r}else if(e.typeOfList===M.YI.Combo){let r=[];((null===(a=i.data)||void 0===a?void 0:a.flightOptions)||[]).map(u=>u.comboInfo).forEach(u=>{var g;null===(g=u.departJourneys)||void 0===g||g.forEach(m=>{var h;null===(h=u.arriveJourneys)||void 0===h||h.forEach(T=>{r.push(Object.assign(Object.assign({},u),{departJourneys:[m],arriveJourneys:[T]}))})})}),this.listTicketComboDisplay=r.map(u=>(0,P.yE)(Ut,u,{excludeExtraneousValues:!0})),this.loadTabDataCombo(this.listTicketComboDisplay)}this.onResetFilter(),this.progressAmountDiscount()})}loadTabDataCombo(e){const i=e.find(r=>r.fastest),c=e.find(r=>r.cheapest),a=e.find(r=>r.bestChoice);this.tabComboDetail={best:{price:a?a.totalPrice:0,durationStr:a?a.durationStr:""},cheapest:{price:c?c.totalPrice:0,durationStr:c?c.durationStr:""},fastest:{price:i?i.totalPrice:0,durationStr:i?i.durationStr:""}}}uniqueAirlines(e){const i=new Map;null==e||e.forEach(c=>{var a;!i.has(c.airline)&&null!==(a=c.fareCur)&&void 0!==a&&a.seatRemain&&i.set(c.airline,{code:c.airline,name:c.airlineName,actived:!1})}),this.airlineOptions=Array.from(i.values())}startProgressBar(){this.progress.isProgress=!0,this.progress.percent=0,this.progress.interval=setInterval(()=>{if(this.progress.percent<99){const e=25*Math.random();this.progress.percent+=e,this.progress.percent>100&&(this.progress.percent=99)}else clearInterval(this.progress.interval);this._cdr.detectChanges()},1500)}flightTypeChange(e){switch(e){case M.VB.OneWay:this._helperSvc.updateJourneyByType(this.journeyFormArr,"ONE_WAY");break;case M.VB.RoundTrip:this._helperSvc.updateJourneyByType(this.journeyFormArr,"ROUND_TRIP");break;case M.VB.MultiWay:this._helperSvc.updateJourneyByType(this.journeyFormArr,"MULTI_WAY")}const{cabin:i,paxType:c,airline:a}=this.searchData.journey[0];this.searchData=Object.assign(Object.assign({},this.searchData),{type:e,journey:this._helperSvc.progressJourneyFormArr(this.journeyFormArr.value,e,{cabin:i,paxType:c,airline:a})})}numberOfPassengerChange({adult:e,child:i,infant:c}){this.searchData=Object.assign(Object.assign({},this.searchData),{adultCount:e,childCount:i,infantCount:c})}airlineFilterChange(e){this.airlineFilters.forEach(i=>i.actived=!1),this.airlineFilters.filter(i=>e.includes(i.value)).forEach(i=>i.actived=!0),this.searchData.journey.map(i=>i.airline=e.join(","))}searchInputChange(){this.isAirLineInternational=this.progressInternationalFlight(this.journeyFormArr.controls[0].value)}onDateTypeChange(e){console.log("date type change",e)}removeRoute(e){console.log("remove route",e)}researchFlight(){this.displayLimit=10,this.bottomSheetRef&&this.bottomSheetRef.dismiss();const{type:e,journey:i,adultCount:c,childCount:a,infantCount:r,promotion:u,promotionGroupFilters:g}=this.searchData,{cabin:m,paxType:h,airline:T}=i[0],Z=this._helperSvc.progressJourneyFormArr(this.journeyFormArr.value,e,{cabin:m,paxType:h,airline:T});this.searchData=Object.assign(Object.assign({},this.searchData),{type:Z.length>1?2===Z.length?M.VB.RoundTrip:M.VB.MultiWay:M.VB.OneWay,journey:Z}),this.ticketCur=this._helperResultSvc.initTicketCur(e),this._sessionStorageSvc.btcResultData={search:this.searchData,ticketCur:this.ticketCur,dataBooking:null},this.dataRaw=null,this.listTicketDisplay=[];const d=this._helperSvc.removeEmptyFields(this._helperSvc.compactInputData({adult:c,child:a,infant:r,isDirectFlight:!1,promotion:u,promotionGroupFilters:g,type:e+"",journey:Z,agentPromotion:null}));this.router.navigate([],{relativeTo:this.route,queryParams:d,queryParamsHandling:"",onSameUrlNavigation:"reload"}),this.ngOnInit()}cabinChange({value:e}){this.searchData.journey.map(i=>i.cabin=e)}paxTypeChange({value:e}){this.paxTypeList=[...this.paxTypeList.map(i=>Object.assign(Object.assign({},i),{actived:!!e&&i.value===e}))],this.searchData.journey.map(i=>i.paxType=e)}searchAndJourneyToTicketSelect(e,i,c){const a=this._helperResultSvc.progressPriceList(e,[c]),r=i.ticketSelected.map((g,m)=>m===i.idxTicketSelected?Object.assign(Object.assign({},g),{ticketPriceList:a,ticketData:c,priceTotalByPassenger:this._helperResultSvc.sumPriceTicket(a)}):g),u=r.findIndex(g=>!g.ticketData);return Object.assign(Object.assign({},i),{ticketSelected:r,idxTicketSelected:u>=0?u:0,totalPrice:r.reduce((g,m)=>g+m.priceTotalByPassenger,0)})}chooseTicketCombo(e){[e.departJourneys[0],e.arriveJourneys[0]].forEach(i=>{this.chooseTicket(i)})}chooseTicket(e){if(this.ticketCur=(0,P.yE)(Wt,this.searchAndJourneyToTicketSelect(this.searchDataRaw,this.ticketCur,e),{excludeExtraneousValues:!0}),this._sessionStorageSvc.btcResultData=Object.assign(Object.assign({},this._sessionStorageSvc.btcResultData),{ticketCur:this.ticketCur}),this.progressAmountDiscount(),!this.ticketCur.ticketSelected.some(i=>!i.ticketData))if(this.isMobile){const i=this._bottomSheetService.open(Xt,{headerTitle:"X\xe1c nh\u1eadn chuy\u1ebfn bay \u0111\xe3 ch\u1ecdn",rightButtonIcon:"close",containerFullHeigh:!0,rightButtonIconClass:"text-neutral-gray-4",data:{ticketCur:this.ticketCur,dataSearch:this.searchDataRaw}});i.containerInstance._rightButtonClick.subscribe(c=>{i.dismiss(),this.ticketCur=this._helperResultSvc.initTicketCur(this.searchDataRaw.type),this._sessionStorageSvc.btcResultData=Object.assign(Object.assign({},this._sessionStorageSvc.btcResultData),{ticketCur:this.ticketCur}),this.progressAmountDiscount()}),i.afterDismissed().subscribe({next:c=>{c?this.router.navigate(["/pax-info"]):(this.ticketCur=this._helperResultSvc.initTicketCur(this.searchDataRaw.type),this._sessionStorageSvc.btcResultData=Object.assign(Object.assign({},this._sessionStorageSvc.btcResultData),{ticketCur:this.ticketCur}),this.progressAmountDiscount())}})}else this._modal.open(Xt,{ticketCur:this.ticketCur,dataSearch:this.searchDataRaw}).afterClosed$.subscribe({next:c=>{c.data?this.router.navigate(["/pax-info"]):(this.ticketCur=this._helperResultSvc.initTicketCur(this.searchDataRaw.type),this._sessionStorageSvc.btcResultData=Object.assign(Object.assign({},this._sessionStorageSvc.btcResultData),{ticketCur:this.ticketCur}),this.progressAmountDiscount())}})}onChangeSearch(e,i){this.isMobile?this.openSearchInputBottomSheet(i):e.focusFirstStartPoint()}onResetFilter(){var e;const i=this.searchData.typeOfList===M.YI.Single;this.viewConfig=i?Un:Ln,this.filterFareTypeOptions=i?this._helperResultSvc.initFareClassFilters(this.listTicketDisplay):[],this.modelAirPlaneOptions=i?this._helperResultSvc.initModelAirPlanceOptions(this.listTicketDisplay):[],this.uniqueAirlines(this.searchData.typeOfList===M.YI.Single?this.listTicketDisplay:null===(e=this.listTicketComboDisplay)||void 0===e?void 0:e.map(c=>c.departJourneys[0])),this.optionsTicketType=this.optionsTicketType.length?this.optionsTicketType.map(c=>Object.assign(Object.assign({},c),{actived:!1})):[],this.ticketFilterNumStop=Vt,this.timeFlightOptions=i?Ht:[],this.bookingSystemList=this.bookingSystemList.length?this.bookingSystemList.map(c=>Object.assign(Object.assign({},c),{actived:!1})):[]}showDetail(e){this._modal.open(st,{ticketCur:this.ticketCur,dataSearch:this.searchData,index:e})}ticketTrackByFn(e,i){return i.key}idxTicketSelectedChange(e){this.ticketCur=Object.assign(Object.assign({},this.ticketCur),{idxTicketSelected:e}),this._sessionStorageSvc.btcResultData=Object.assign(Object.assign({},this._sessionStorageSvc.btcResultData),{ticketCur:this.ticketCur}),this.progressAmountDiscount()}openSearchInputBottomSheet(e){this.bottomSheetRef=this._bottomSheetService.open(e,{headerTitle:"T\xecm ki\u1ebfm",leftButtonIcon:"close",rightButtonIcon:"",leftButtonIconClass:"text-neutral-gray-4",containerFullHeigh:!0}),this.bottomSheetRef.containerInstance._leftButtonClick.subscribe(i=>this.bottomSheetRef.dismiss())}reselectTicket(e){this.ticketCur=Object.assign(Object.assign({},this.ticketCur),{ticketSelected:this.ticketCur.ticketSelected.map((i,c)=>c===e?Object.assign(Object.assign({},i),{ticketData:null}):i),idxTicketSelected:e}),this._sessionStorageSvc.btcResultData=Object.assign(Object.assign({},this._sessionStorageSvc.btcResultData),{ticketCur:this.ticketCur}),this.progressAmountDiscount()}onScroll(e){if(e.target){const i=e.target;i.scrollHeight-i.scrollTop-i.clientHeight<100&&(this.displayLimit+=10)}}progressAmountDiscount(){const e=this.ticketCur.ticketSelected.filter(i=>i.ticketData).map(i=>i.ticketData);this.amountDiscount=this._helperResultSvc.progressPriceList(this.searchData,e).filter(i=>i.discountAmount).reduce((i,c)=>i+c.discountAmount*c.quantity,0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Zt.J),t.Y36(ot),t.Y36(D.qu),t.Y36(et._),t.Y36(t.sBO),t.Y36(tt.oE),t.Y36(p.KNP),t.Y36(gs),t.Y36(pt.F0),t.Y36(pt.gz),t.Y36(it.L),t.Y36(S.a2),t.Y36(Lt.YC),t.Y36(Et))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-result-list"]],standalone:!0,features:[t.jDz],decls:49,vars:38,consts:[[1,"notranslate","flex","w-full","items-stretch","justify-start","bg-neutral-gray-1","h-screen","overflow-auto",3,"scroll","touchmove"],[1,"flex","w-full","h-full","items-stretch","justify-start","flex-col","pt-8","gap-8","md:hidden"],[1,"px-4","w-full","max-w-[1366px]","mx-auto","flex","flex-col","gap-8"],[1,"bg-neutral-white","p-6","rounded-lg","flex-1","w-[1366px]","shadow-cf-md","md:p-4","relative","max-w-[1695px]","mx-auto"],[1,"flex","items-center","justify-between","mb-5"],[1,"md:w-full"],[3,"flightType","typeSearchChange"],[1,"flex","items-center","justify-end","gap-x-4","md:hidden"],[3,"adultNumber","childNumber","infantNumber","numberOfPassengerChange"],[3,"airlineList","airlineFilterChange"],[3,"isShowTooltipFirstTime","promotionGroupList"],[3,"cabinList","actived","cabinChange"],[3,"paxTypeList","actived","paxTypeChange"],[1,"mb-[20px]","md:mb-4","flex","gap-x-2","w-full"],[1,"flex-1",3,"formArray","type","removeRoute","dataChange","dateTypeChange"],["searchFlightEl",""],["cf-button","","size","medium","type","secondary",1,"w-[168px]","!py-[7px]","!h-auto","!max-h-14",3,"disabled","click"],["icon","search","size","small",1,"mr-2.5"],[1,"whitespace-nowrap"],["class","h-1 w-full absolute left-0 right-0 bottom-0",4,"ngIf"],[1,"flex","gap-4","justify-between","relative","pb-6","w-[1366px]","max-w-[1366px]","mx-auto"],[1,"w-[192px]","min-w-[192px]","ml-auto"],[1,"w-full",3,"viewConfig","airlineOptions","ticketFilterNumStop","timeFlightOptions","filterFareTypeOptions","modelAirPlaneOptions","optionsTicketType","bookingSystemList","viewConfigChange","airlineOptionsChange","ticketFilterNumStopChange","timeFlightOptionsChange","filterFareTypeOptionsChange","modelAirPlaneOptionsChange","optionsTicketTypeChange","bookingSystemListChange"],[1,"flex-1","flex","flex-col","gap-6","mx-auto"],["class","flex gap-6",4,"ngIf"],[3,"sortType","tabComboDetail","sortTypeChange",4,"ngIf"],["class","flex flex-col gap-4",4,"ngIf"],[4,"ngIf"],["emptyTicketTpl",""],[1,"w-[280px]","mr-auto","rounded-xl"],[1,"w-[280px]","flex-shrink-0","rounded-xl","shadow-lg","h-fit","md:hidden","sticky","top-2"],[1,"bg-neutral-white","rounded-xl"],[1,"flex","justify-between","items-center","py-3","px-4","border-b","border-neutral-gray-2"],[1,"text-espressive-sm","text-neutral-black"],[3,"searchInput","ticketCur","showDetail","reselectClick"],[1,"flex","justify-between","items-center","py-3","px-4","rounded-b-xl","border-t","border-neutral-gray-1"],[1,"text-heading-md","text-neutral-black"],["class","hidden md:flex h-full flex-col w-full relative overflow-hidden",4,"ngIf"],["searchInputBottomSheet",""],[1,"h-1","w-full","absolute","left-0","right-0","bottom-0"],[1,"h-1","bg-primary-1-4","transition-all","ease-out","duration-1000","rounded-b-full"],[1,"flex","gap-6"],["class","flex-1 rounded-2xl h-fit flex bg-white divide-solid divide-x divide-neutral-gray-1 ",4,"ngIf"],[1,"h-fit",3,"sortType","ngClass","sortTypeChange"],[1,"flex-1","rounded-2xl","h-fit","flex","bg-white","divide-solid","divide-x","divide-neutral-gray-1"],["class"," flex flex-col  py-4 px-6 relative cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"flex","flex-col","py-4","px-6","relative","cursor-pointer",3,"click"],[1,"font-semibold","text-body-lg"],["class","text-body-md text-neutral-gray-4",4,"ngIf"],[1,"absolute","bottom-0","left-4","right-4","h-1","bg-red-4",3,"ngClass"],[1,"text-body-md","text-neutral-gray-4"],[3,"sortType","tabComboDetail","sortTypeChange"],[1,"flex","flex-col","gap-4"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["class","flex flex-col gap-4",4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"ticket","searchData","viewConfig","selectTicket"],[3,"ticket","searchData","viewConfig","chooseTicketCombo"],["class","empty flex items-center text-center mt-20 flex-col",4,"ngIf","ngIfElse"],["emptyByFilterTpl",""],[1,"empty","flex","items-center","text-center","mt-20","flex-col"],["src","assets/images/empty_result.png","alt","empty",1,"w-[160px]","h-160px","object-contain"],[1,"text-heading-md","mt-[30px]"],[1,"text-body-md","mt-2"],["cf-button","","size","medium",1,"w-[200px]","mt-6","justify-center","bg-white",3,"type","click"],["icon","search","size","small",1,"mr-2"],[1,"empty","flex","items-center","mt-20","text-center","flex-col"],[1,"text-body-md","mt-2","text-center"],["cf-button","","color","primary-1","size","medium",1,"w-[200px]","mt-6","justify-center",3,"type","click"],[1,"hidden","md:flex","h-full","flex-col","w-full","relative","overflow-hidden"],[1,"bg-white","shadow-lg","py-3","px-4","flex","flex-col","w-full","gap-2"],[1,"flex-shrink-0",3,"searchData","searchDataChange","openSearchInputBottomSheet"],[1,"flex","gap-2"],[1,"h-fit",3,"sortType","sortTypeChange"],[1,"w-full",3,"viewConfig","airlineOptions","ticketFilterNumStop","timeFlightOptions","filterFareTypeOptions","modelAirPlaneOptions","optionsTicketType","viewConfigChange","airlineOptionsChange","ticketFilterNumStopChange","timeFlightOptionsChange","filterFareTypeOptionsChange","modelAirPlaneOptionsChange","optionsTicketTypeChange","resetFilter"],[1,"flex-1","overflow-y-auto","h-full","p-4"],["class","flex flex-col gap-4 w-full",4,"ngIf"],[1,"flex-shrink-0",3,"ticketCur","searchInput","reselectClick"],[1,"flex","flex-col","gap-4","w-full"],[3,"ticket","searchData","viewConfig","ticketSelectedMobile","selectTicket","reselectClick",4,"ngIf"],[3,"ticket","searchData","viewConfig","ticketSelectedMobile","selectTicket","reselectClick"],[1,"bg-neutral-white","rounded-lg","w-full","shadow-cf-md","p-4","flex","flex-col","gap-4"],[1,"w-full",3,"formArray","type","removeRoute","dataChange","dateTypeChange"],[1,"gap-2","flex","overflow-x-auto","flex-wrap"],["cf-button","","size","medium","color","primary-1","type","solid",1,"md:w-full","md:justify-center",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.NdJ("scroll",function(a){return i.onScroll(a)})("touchmove",function(a){return i.onScroll(a)}),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"btc-type-search",6),t.NdJ("typeSearchChange",function(a){return i.flightTypeChange(a)}),t.qZA()(),t.TgZ(7,"div",7)(8,"btc-num-of-pas",8),t.NdJ("numberOfPassengerChange",function(a){return i.numberOfPassengerChange(a)}),t.qZA(),t.TgZ(9,"btc-airline-filter",9),t.NdJ("airlineFilterChange",function(a){return i.airlineFilterChange(a)}),t.qZA(),t._UZ(10,"btc-voucher-selector",10),t.TgZ(11,"btc-cabin-selector",11),t.NdJ("cabinChange",function(a){return!i.isMobile&&i.cabinChange(a)}),t.qZA(),t.TgZ(12,"btc-pax-type-selector",12),t.NdJ("paxTypeChange",function(a){return!i.isMobile&&i.paxTypeChange(a)}),t.qZA()()(),t.TgZ(13,"div",13)(14,"btc-search-input",14,15),t.NdJ("removeRoute",function(a){return i.removeRoute(a)})("dataChange",function(){return i.searchInputChange()})("dateTypeChange",function(a){return i.onDateTypeChange(a)}),t.qZA(),t.TgZ(16,"button",16),t.NdJ("click",function(){return i.researchFlight()}),t._UZ(17,"cf-icon",17),t.TgZ(18,"div",18),t._uU(19," T\xecm chuy\u1ebfn bay "),t.qZA()()(),t.YNc(20,ms,2,2,"div",19),t.qZA(),t.TgZ(21,"div",20)(22,"div",21)(23,"btc-result-filter",22),t.NdJ("viewConfigChange",function(a){return i.viewConfig=a})("airlineOptionsChange",function(a){return i.airlineOptions=a})("ticketFilterNumStopChange",function(a){return i.ticketFilterNumStop=a})("timeFlightOptionsChange",function(a){return i.timeFlightOptions=a})("filterFareTypeOptionsChange",function(a){return i.filterFareTypeOptions=a})("modelAirPlaneOptionsChange",function(a){return i.modelAirPlaneOptions=a})("optionsTicketTypeChange",function(a){return i.optionsTicketType=a})("bookingSystemListChange",function(a){return i.bookingSystemList=a}),t.qZA()(),t.TgZ(24,"div",23),t.YNc(25,Cs,3,5,"div",24),t.YNc(26,ys,1,2,"btc-result-sort-combo",25),t.YNc(27,bs,2,3,"div",26),t.YNc(28,Ds,2,2,"div",27),t.YNc(29,Ss,2,2,"div",27),t.YNc(30,Os,1,1,"ng-template",null,28,t.W1O),t.qZA(),t.TgZ(32,"div",29)(33,"div",30)(34,"div",31)(35,"div",32)(36,"div",33),t._uU(37,"Chuy\u1ebfn bay c\u1ee7a b\u1ea1n"),t.qZA()(),t.TgZ(38,"btc-ticket-sticky-selected",34),t.NdJ("showDetail",function(a){return i.showDetail(a)})("reselectClick",function(a){return i.reselectTicket(a)}),t.qZA(),t.TgZ(39,"div",35)(40,"div",33),t._uU(41,"T\u1ed5ng chi ph\xed:"),t.qZA(),t.TgZ(42,"div",36),t._uU(43),t.ALo(44,"replace"),t.ALo(45,"number"),t.qZA()()()()()()()(),t.YNc(46,Gs,11,14,"div",37),t.qZA(),t.YNc(47,zs,14,13,"ng-template",null,38,t.W1O)),2&e&&(t.xp6(6),t.Q6J("flightType",i.searchData.type),t.xp6(2),t.Q6J("adultNumber",i.searchData.adultCount)("childNumber",i.searchData.childCount)("infantNumber",i.searchData.infantCount),t.xp6(1),t.Q6J("airlineList",i.airlineFilters),t.xp6(1),t.Q6J("isShowTooltipFirstTime",!0)("promotionGroupList",i.searchData.promotionGroupFilters),t.xp6(1),t.Q6J("cabinList",i.cabinList)("actived",i.isAirLineInternational),t.xp6(1),t.Q6J("paxTypeList",i.paxTypeList)("actived",i.isAirLineInternational),t.xp6(2),t.Q6J("formArray",i.journeyFormArr)("type",i.searchData.type||0),t.xp6(2),t.Q6J("disabled",i.progress.isProgress),t.xp6(4),t.Q6J("ngIf",i.progress.isProgress),t.xp6(3),t.Q6J("viewConfig",i.viewConfig)("airlineOptions",i.airlineOptions)("ticketFilterNumStop",i.ticketFilterNumStop)("timeFlightOptions",i.timeFlightOptions)("filterFareTypeOptions",i.filterFareTypeOptions)("modelAirPlaneOptions",i.modelAirPlaneOptions)("optionsTicketType",i.optionsTicketType)("bookingSystemList",i.bookingSystemList),t.xp6(2),t.Q6J("ngIf",i.searchDataRaw.typeOfList===i.btcTypeOfListSearch.Single),t.xp6(1),t.Q6J("ngIf",i.searchDataRaw.typeOfList===i.btcTypeOfListSearch.Combo),t.xp6(1),t.Q6J("ngIf",i.progress.isProgress),t.xp6(1),t.Q6J("ngIf",i.searchData.typeOfList===i.btcTypeOfListSearch.Single),t.xp6(1),t.Q6J("ngIf",i.searchData.typeOfList===i.btcTypeOfListSearch.Combo),t.xp6(9),t.Q6J("searchInput",i.searchDataRaw)("ticketCur",i.ticketCur),t.xp6(5),t.hij(" ",t.Dn7(44,32,t.lcZ(45,36,((null==i.ticketCur?null:i.ticketCur.totalPrice)||0)-i.amountDiscount),",",".")," \u0111 "),t.xp6(3),t.Q6J("ngIf",i.isMobile))},dependencies:[_.ez,_.mk,_.sg,_.O5,_.OU,_.JJ,os.T,cs.l,as.x,rs.W,ls.w,ss.d,us._,I.N8,I.Xq,p.AxE,p.Sm8,D.UX,Y.AS,j.q,Ti,oo,Sa,ht,La,lt,Sl,Ml,Wl,is],styles:["[_nghost-%COMP%]{display:block}"],data:{animation:[(0,ct.X$)("listAnimation",[(0,ct.eR)("* <=> *",[(0,ct.IO)(":enter",[(0,ct.oB)({opacity:0,transform:"translateY(20px)"}),(0,ct.EY)("200ms",(0,ct.jt)("500ms ease-out",(0,ct.oB)({opacity:1,transform:"translateY(0px)"})))],{optional:!0})])])]}}),n})();var ae=f(88516),rt=f(44143),Ks=f(74713),Ws=f(90900),ft=f(80953),Rt=f(40833);function re(n,o){(0,Rt.Z)(2,arguments);var e=(0,ft.Z)(n),i=(0,ft.Z)(o),c=e.getTime()-i.getTime();return c<0?-1:c>0?1:c}function e1(n,o){return e=>{if(!e.value)return null;const i=new Date(e.value);if(!(0,Ws.Z)(i))return{invalidDate:!0};const c=function t1(n,o){(0,Rt.Z)(2,arguments);var e=(0,ft.Z)(n),i=(0,ft.Z)(o),c=re(e,i),a=Math.abs(function Xs(n,o){(0,Rt.Z)(2,arguments);var e=(0,ft.Z)(n),i=(0,ft.Z)(o);return e.getFullYear()-i.getFullYear()}(e,i));e.setFullYear(1584),i.setFullYear(1584);var r=re(e,i)===-c,u=c*(a-Number(r));return 0===u?0:u}(o,i);switch(n){case"adult":if(c<12)return{ageInvalid:{message:"Ng\u01b0\u1eddi l\u1edbn ph\u1ea3i l\u1edbn h\u01a1n 12 tu\u1ed5i",requiredAge:"> 12",currentAge:c}};break;case"child":if(c<2||c>=12)return{ageInvalid:{message:"Tr\u1ebb em ph\u1ea3i t\u1eeb 2 \u0111\u1ebfn 12 tu\u1ed5i",requiredAge:"2-12",currentAge:c}};break;case"infant":if(c>=2)return{ageInvalid:{message:"Em b\xe9 ph\u1ea3i b\xe9 h\u01a1n 2 tu\u1ed5i",requiredAge:"< 2",currentAge:c}}}return null}}var n1=f(99251);const i1=["inputTextElement"];function o1(n,o){if(1&n&&(t.TgZ(0,"div",20)(1,"div",21),t.GkF(2,8),t.qZA()()),2&n){t.oxw();const e=t.MAs(27);t.xp6(2),t.Q6J("ngTemplateOutlet",e)}}function c1(n,o){1&n&&(t.TgZ(0,"div")(1,"div"),t._uU(2,"\u2022\xa0\xa0Trong \u0111\xf3:"),t.qZA(),t.TgZ(3,"div",27)(4,"span",22),t._uU(5,"\u2022\xa0\xa0Gi\u1edbi t\xednh "),t.qZA(),t._uU(6,"(kh\xf4ng b\u1eaft bu\u1ed9c):"),t.qZA(),t.TgZ(7,"div",28),t._uU(8,"\u2022\xa0\xa0Nam: c\xf3 th\u1ec3 nh\u1eadp 1 trong nh\u1eefng lo\u1ea1i sau: M, Mr, \xd4ng, b\xe9 trai."),t.qZA(),t.TgZ(9,"div",28),t._uU(10,"\u2022\xa0\xa0N\u1eef: c\xf3 th\u1ec3 nh\u1eadp 1 trong nh\u1eefng lo\u1ea1i sau: F, Mrs, Ms, B\xe0, b\xe9 g\xe1i."),t.qZA(),t.TgZ(11,"div",28),t._uU(12,"\u2022\xa0\xa0N\u1ebfu kh\xf4ng nh\u1eadp th\xec m\u1eb7c \u0111\u1ecbnh l\xe0 gi\u1edbi t\xednh Nam."),t.qZA(),t.TgZ(13,"div",27)(14,"span",22),t._uU(15,"\u2022\xa0\xa0T\xean \u0111\u1ea7y \u0111\u1ee7:"),t.qZA(),t._uU(16," theo d\u1ea1ng h\u1ecd t\xean \u0111\u1ea7y \u0111\u1ee7."),t.qZA(),t.TgZ(17,"div",27)(18,"span",22),t._uU(19,"\u2022\xa0\xa0Ng\xe0y sinh "),t.qZA(),t._uU(20,"(ch\u1ec9 b\u1eaft bu\u1ed9c v\u1edbi tr\u1ebb em v\xe0 em b\xe9): \u0111\u1ecbnh d\u1ea1ng ng\xe0y/th\xe1ng/n\u0103m (dd/mm/yyyy). N\u1ebfu h\xe0nh kh\xe1ch l\xe0 ng\u01b0\u1eddi l\u1edbn th\xec \u0111\u1ec3 tr\u1ed1ng. "),t.qZA()())}function a1(n,o){1&n&&(t.TgZ(0,"div",13),t._uU(1," Xem th\xeam quy t\u1eafc n\xe2ng cao "),t._UZ(2,"cf-icon",29),t.qZA())}function r1(n,o){1&n&&(t.TgZ(0,"div",13),t._uU(1," Thu g\u1ecdn quy t\u1eafc n\xe2ng cao "),t._UZ(2,"cf-icon",30),t.qZA())}function l1(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div"),t._uU(2,"\u2022\xa0\xa0Nh\u1eadp m\u1ed7i h\xe0nh kh\xe1ch m\u1ed9t d\xf2ng theo \u0111\u1ecbnh d\u1ea1ng sau:"),t.qZA(),t.TgZ(3,"div",22),t._uU(4," \u2022\xa0\xa0Ng\u01b0\u1eddi l\u1edbn v\xe0 tr\u1ebb em: <Gi\u1edbi t\xednh> <T\xean \u0111\u1ea7y \u0111\u1ee7> <ng\xe0y sinh> "),t.qZA(),t.TgZ(5,"div",23),t._uU(6,"\u2022\xa0\xa0V\xed d\u1ee5: M Nguy\u1ec5n V\u0103n Trung 15/03/1992"),t.qZA(),t.TgZ(7,"div",22),t._uU(8," \u2022\xa0\xa0Em b\xe9: <Gi\u1edbi t\xednh> <T\xean \u0111\u1ea7y \u0111\u1ee7> <ng\xe0y sinh> <T\xean \u0111\u1ea7y \u0111\u1ee7 c\u1ee7a ng\u01b0\u1eddi l\u1edbn> "),t.qZA(),t.TgZ(9,"div",23),t._uU(10,"\u2022\xa0\xa0V\xed d\u1ee5: F Nguy\u1ec5n Th\u1ecb Lan 11/12/2022 Nguy\u1ec5n V\u0103n Trung"),t.qZA(),t.TgZ(11,"div",23),t._uU(12," \u2022\xa0\xa0Trong tr\u01b0\u1eddng h\u1ee3p kh\xf4ng nh\u1eadp t\xean ng\u01b0\u1eddi l\u1edbn t\u01b0\u01a1ng \u1ee9ng th\xec s\u1ebd l\u1ea5y ng\u01b0\u1eddi l\u1edbn \u0111\u1ea7u ti\xean l\xe0m \u0111\u1ea1i di\u1ec7n. "),t.qZA(),t.YNc(13,c1,21,0,"div",24),t.TgZ(14,"div",25),t.NdJ("click",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.onShowMore())}),t.YNc(15,a1,3,0,"div",26),t.YNc(16,r1,3,0,"div",26),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(13),t.Q6J("ngIf",e.isShowMore),t.xp6(2),t.Q6J("ngIf",!e.isShowMore),t.xp6(1),t.Q6J("ngIf",e.isShowMore)}}let s1=(()=>{class n{constructor(e,i,c,a,r,u,g,m,h){this._fb=i,this.cfIconRegister=c,this.quickParsePassenger=a,this._bottomSheetService=r,this.ref=u,this.bottomSheetData=g,this.bottomSheetRef=m,this._modal=h,this.passengersRaws=[],this.isShowMore=!1,this.submitted=!1,u&&(this.passengerText=u.data.passengerText,this.departureTime=u.data.departureTime),g&&(this.passengerText=g.passengerText,this.departureTime=g.departureTime,this.isShowMore=!0),this.cfIconRegister.registerIcons([p.UNF,p.gW0,p.fqi,p.n78])}ngAfterViewInit(){const e=document.getElementById("inputTextElement");null==e||e.focus()}close(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}ok(){this.submitted=!0,this.change(),this.ref&&this.ref.close({passengers:this.passengers,text:this.passengerText,passengerInputRows:this.passengersRaws.length}),this.bottomSheetData&&this.bottomSheetRef.dismiss({passengers:this.passengers,text:this.passengerText,passengerInputRows:this.passengersRaws.length})}onShowRuleMobile(e){const i=this._bottomSheetService.open(e,{containerFullHeigh:!0,headerTitle:"Quy t\u1eafc nh\u1eadp nhanh",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:""});i.containerInstance._leftButtonClick.subscribe(c=>i.dismiss())}change(){this.passengersRaws=this.passengerText.split("\n"),this.passengers=this.passengersRaws.filter(e=>""!=e).map(e=>this.quickParsePassenger.analyzePassengerFromString(e,this.departureTime))}onShowMore(){this.isShowMore=!this.isShowMore}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(_.K0),t.Y36(D.qu),t.Y36(p.KNP),t.Y36(n1.mj),t.Y36(S.a2),t.Y36(tt.gb,8),t.Y36(S.Rr,8),t.Y36(S.Zu,8),t.Y36(tt.oE))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-parse-pas-info"]],viewQuery:function(e,i){if(1&e&&t.Gf(i1,5),2&e){let c;t.iGM(c=t.CRH())&&(i.inputTextElement=c.first)}},standalone:!0,features:[t.jDz],decls:28,vars:2,consts:[[1,"w-[772px]","h-[600px]","overflow-hidden","flex","flex-col","rounded-lg","bg-neutral-white","md:w-screen","md:h-full"],[1,"w-full","h-full","flex","flex-col","max-h-[600px]","md:max-h-none"],[1,"flex","justify-between","items-center","px-6","py-4","border-b","border-b-neutral-gray-1","md:border-none"],[1,"text-heading-xs","text-neutral-black"],["size","small","icon","close",1,"text-neutral-gray-4","cursor-pointer","md:hidden",3,"click"],[1,"flex-auto","flex","flex-col","py-4","px-6","overflow-auto","md:p-0","md:w-full"],[1,"py-3","px-4","bg-functional-1-1","text-body-md","rounded","flex","gap-x-2.5","md:hidden"],["icon","info","size","medium",1,"text-functional-1-3"],[3,"ngTemplateOutlet"],[1,"mt-4","md:m-0","md:px-4"],[1,"!w-full"],["rows","7","cf-input","","size","medium","placeholder","Nh\u1eadp th\xf4ng tin...","id","inputTextElement",3,"ngModel","ngModelChange","input"],[1,"cursor-pointer","text-body-md","text-secondary-3-4","mt-4","hidden","md:block",3,"click"],[1,"flex","items-center"],["icon","chevron_up","size","small",1,"ml-2","rotate-90"],[1,"flex","justify-end","items-center","gap-x-4","py-4","px-6"],["cf-button","","size","medium","type","secondary",1,"md:w-full","justify-center",3,"click"],["cf-button","","size","medium","type","solid","color","primary-1",1,"md:w-full","justify-center",3,"click"],["mobilerule",""],["rule",""],[1,"p-4"],[1,"py-3","px-4","bg-functional-1-1","text-body-md","flex","gap-x-2.5","h-fit","rounded-lg"],[1,"text-express-md"],[1,"pl-4"],[4,"ngIf"],[1,"cursor-pointer","text-body-md","text-secondary-3-4","mt-2","md:hidden",3,"click"],["class","flex items-center",4,"ngIf"],[1,"pl-6"],[1,"pl-10"],["icon","chevron_down","size","small",1,"ml-2.5"],["icon","chevron_up","size","small",1,"ml-2"]],template:function(e,i){if(1&e){const c=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"Nh\u1eadp nhanh th\xf4ng tin h\xe0nh kh\xe1ch"),t.qZA(),t.TgZ(5,"cf-icon",4),t.NdJ("click",function(){return i.close()}),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"div"),t._UZ(9,"cf-icon",7),t.qZA(),t.GkF(10,8),t.qZA(),t.TgZ(11,"div",9)(12,"cf-input-group",10)(13,"textarea",11),t.NdJ("ngModelChange",function(r){return i.passengerText=r})("input",function(){return i.change()}),t._uU(14,"            "),t.qZA()(),t.TgZ(15,"div",12),t.NdJ("click",function(){t.CHM(c);const r=t.MAs(25);return t.KtG(i.onShowRuleMobile(r))}),t.TgZ(16,"div",13),t._uU(17," Xem quy t\u1eafc nh\u1eadp nhanh "),t._UZ(18,"cf-icon",14),t.qZA()()()(),t.TgZ(19,"div",15)(20,"button",16),t.NdJ("click",function(){return i.close()}),t._uU(21," \u0110\xf3ng "),t.qZA(),t.TgZ(22,"button",17),t.NdJ("click",function(){return i.ok()}),t._uU(23," Th\u1ef1c hi\u1ec7n "),t.qZA()()()(),t.YNc(24,o1,3,1,"ng-template",null,18,t.W1O),t.YNc(26,l1,17,3,"ng-template",null,19,t.W1O)}if(2&e){const c=t.MAs(27);t.xp6(10),t.Q6J("ngTemplateOutlet",c),t.xp6(3),t.Q6J("ngModel",i.passengerText)}},dependencies:[_.ez,_.O5,_.tP,p.AxE,p.Sm8,I.N8,I.Xq,rt.j$,rt.ND,rt.BN,D.u5,D.Fj,D.JJ,D.On,S.DW],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();var u1=f(67460),p1=f(34541);let d1=(()=>{class n{constructor(e){this.el=e,this.pattern=".*",this.regex=new RegExp(this.pattern)}ngOnChanges(){this.regex=new RegExp(this.pattern)}onInput(e){const i=e.target,c=i.value;this.regex.test(c)||(i.value=c.slice(0,-1),i.dispatchEvent(new Event("input")))}onPaste(e){var i;e.preventDefault();const c=(null===(i=e.clipboardData)||void 0===i?void 0:i.getData("text"))||"";if(this.regex.test(c)){const a=this.el.nativeElement;a.value=c,a.dispatchEvent(new Event("input"))}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n,selectors:[["","cfRegexInput",""]],hostBindings:function(e,i){1&e&&t.NdJ("input",function(a){return i.onInput(a)})("paste",function(a){return i.onPaste(a)})},inputs:{pattern:["cfRegexInput","pattern"]},standalone:!0,features:[t.TTD]}),n})();var _1=f(3447),K=f(836),g1=f(71884),m1=f(85522),f1=f(4128);let h1=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"status",void 0),(0,l.gn)([(0,B.D)(()=>x1),(0,s.C)()],n.prototype,"data",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"objectError",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"errorCode",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"success",void 0),n})(),x1=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"bookingCodeRandom",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"totalPrice",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"state",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"bookingCode",void 0),n})();const v1={headers:new L.WM({"Content-Type":"application/json"})};let C1=(()=>{class n{constructor(e,i){this.http=e,this.appConfig=i}bookFlight(e){return this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/booking",JSON.stringify(e),v1).pipe((0,H.U)(i=>(0,P.yE)(h1,i,{excludeExtraneousValues:!0})))}sendErrorDataBook(e,i,c){const a="5855284310:AAH4K4xgJwzCRPJRRqNL7vIVAE01cpzEWIc",r=new FormData;r.append("chat_id","-4083387556"),r.append("document",new Blob([e],{type:"application/json"}),"data.json"),r.append("caption",`C\xf3 l\u1ed7i trong khi mapping d\u1eef li\u1ec7u t\u1eeb ${c}`);const u=[];return u.push(this.http.post(`https://api.telegram.org/bot${a}/sendDocument`,r)),u.push(this.http.post(`https://api.telegram.org/bot${a}/sendMessage`,JSON.stringify({chat_id:"-4083387556",text:`[${c}]\n${i}`}),{headers:new L.WM({"Content-Type":"application/json"})})),(0,f1.D)(u)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(L.eN),t.LFG(R.qB))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),y1=(()=>{class n{}return(0,l.gn)([(0,s.C)()],n.prototype,"traceId",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"status",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"data",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"objectError",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"errorCode",void 0),(0,l.gn)([(0,s.C)()],n.prototype,"success",void 0),n})();const T1={headers:new L.WM({"Content-Type":"application/json"})};let b1=(()=>{class n{constructor(e,i){this.http=e,this.appConfig=i}bookingPayment(e){return this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/booking-payment",JSON.stringify(e),T1).pipe((0,H.U)(i=>(0,P.yE)(y1,i,{excludeExtraneousValues:!0})))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(L.eN),t.LFG(R.qB))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const k1={headers:new L.WM({"Content-Type":"application/json"})};let Z1=(()=>{class n{constructor(e,i){this.http=e,this.appConfig=i}addExtraInfoOrder(e){return this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/add-extra-info-order",JSON.stringify(e),k1)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(L.eN),t.LFG(R.qB))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const A1=["parentSelectInfant"];function E1(n,o){if(1&n&&(t.TgZ(0,"div",53),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).index;t.xp6(1),t.hij(" Ng\u01b0\u1eddi l\u1edbn ",e+1," ")}}function D1(n,o){if(1&n&&(t.TgZ(0,"div",53),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;let i;t.xp6(1),t.hij(" ",(null==(i=e.get("firstName"))||null==i.value?null:i.value.toUpperCase())+" "+(null==(i=e.get("lastName"))||null==i.value?null:i.value.toUpperCase())," ")}}function B1(n,o){if(1&n&&(t.YNc(0,E1,2,1,"div",52),t.YNc(1,D1,2,1,"div",52)),2&n){const e=t.oxw().$implicit;let i,c;t.Q6J("ngIf",!(null!=(i=e.get("firstName"))&&i.valid&&null!=(i=e.get("firstName"))&&i.valid)),t.xp6(1),t.Q6J("ngIf",(null==(c=e.get("firstName"))?null:c.valid)&&(null==(c=e.get("firstName"))?null:c.valid))}}function w1(n,o){if(1&n&&(t.TgZ(0,"div",72),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;let i;t.xp6(1),t.AsE(" ","ADT"===(null==(i=e.get("type"))?null:i.value)?"Ng\u01b0\u1eddi l\u1edbn":"CHD"===(null==(i=e.get("type"))?null:i.value)?"Tr\u1ebb em":"Em b\xe9"," ",(null==(i=e.get("indexByType"))?null:i.value)+1," ")}}function I1(n,o){if(1&n&&(t.TgZ(0,"div",72),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;let i;t.xp6(1),t.hij(" ",(null==(i=e.get("lastName"))||null==i.value?null:i.value.toUpperCase())+" "+(null==(i=e.get("firstName"))||null==i.value?null:i.value.toUpperCase())," ")}}function S1(n,o){1&n&&t._UZ(0,"cf-input-hint",73),2&n&&t.Q6J("hint","H\u1ecd kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function F1(n,o){1&n&&t._UZ(0,"cf-input-hint",73),2&n&&t.Q6J("hint","T\xean \u0111\u1ec7m v\xe0 t\xean kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function N1(n,o){if(1&n&&t._UZ(0,"cf-input-hint",73),2&n){const e=t.oxw(2).$implicit;let i;t.Q6J("hint",null==(i=e.get("birthday"))||null==i.errors||null==i.errors.ageInvalid?null:i.errors.ageInvalid.message)}}function q1(n,o){1&n&&t._UZ(0,"cf-input-hint",73),2&n&&t.Q6J("hint","Ng\xe0y sinh kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function O1(n,o){1&n&&t._UZ(0,"cf-input-hint",73),2&n&&t.Q6J("hint","M\u1ed7i ng\u01b0\u1eddi l\u1edbn ch\u1ec9 c\xf3 t\u1ed1i \u0111a 1 em b\xe9 ph\u1ee5 thu\u1ed9c")}function J1(n,o){if(1&n&&(t.TgZ(0,"div",57)(1,"cf-select",74,75),t.ALo(3,"mapper"),t.TgZ(4,"label",64),t._uU(5,"Thu\u1ed9c h\xe0nh kh\xe1ch ng\u01b0\u1eddi l\u1edbn"),t.qZA(),t.YNc(6,O1,1,1,"cf-input-hint",23),t.ALo(7,"mapper"),t.qZA()()),2&n){const e=t.oxw(2),i=e.index,c=e.$implicit,a=t.oxw();t.xp6(1),t.Q6J("status",t.gM2(3,5,a.passengers,a.checkErrorDependentPartner,i,c.value)?"error":"default")("data",a.optionsParent)("allowSearch",!1),t.xp6(3),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("ngIf",t.gM2(7,10,a.passengers,a.checkErrorDependentPartner,i,c.value))}}function U1(n,o){1&n&&t._UZ(0,"cf-input-hint",73),2&n&&t.Q6J("hint","S\u1ed1 CCCD kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function L1(n,o){1&n&&t._UZ(0,"cf-input-hint",73),2&n&&t.Q6J("hint","S\u1ed1 CCCD t\u1ed1i thi\u1ec3u 9 k\xfd t\u1ef1")}function R1(n,o){1&n&&t._UZ(0,"cf-input-hint",73),2&n&&t.Q6J("hint","S\u1ed1 CCCD t\u1ed1i \u0111a 12 k\xfd t\u1ef1")}function Q1(n,o){if(1&n&&(t.TgZ(0,"div")(1,"cf-input-group",28),t._UZ(2,"input",85),t.YNc(3,U1,1,1,"cf-input-hint",23),t.YNc(4,L1,1,1,"cf-input-hint",23),t.YNc(5,R1,1,1,"cf-input-hint",23),t.qZA()()),2&n){const e=t.oxw(3).$implicit;let i,c,a,r;t.xp6(1),t.Q6J("status",null!=(i=e.get("cccdNumber"))&&i.invalid&&(null!=(i=e.get("cccdNumber"))&&i.dirty||null!=(i=e.get("cccdNumber"))&&i.touched)?"error":"default"),t.xp6(2),t.Q6J("ngIf",(null==(c=e.get("cccdNumber"))?null:c.hasError("required"))&&((null==(c=e.get("cccdNumber"))?null:c.touched)||(null==(c=e.get("cccdNumber"))?null:c.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(a=e.get("cccdNumber"))?null:a.hasError("minlength"))&&((null==(a=e.get("cccdNumber"))?null:a.touched)||(null==(a=e.get("cccdNumber"))?null:a.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(r=e.get("cccdNumber"))?null:r.hasError("maxlength"))&&((null==(r=e.get("cccdNumber"))?null:r.touched)||(null==(r=e.get("cccdNumber"))?null:r.dirty)))}}function P1(n,o){1&n&&t._UZ(0,"cf-input-hint",73),2&n&&t.Q6J("hint","S\u1ed1 h\u1ed9 chi\u1ebfu t\u1ed1i \u0111a 9 k\xfd t\u1ef1")}function M1(n,o){1&n&&t._UZ(0,"cf-input-hint",73),2&n&&t.Q6J("hint","S\u1ed1 h\u1ed9 chi\u1ebfu kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function j1(n,o){1&n&&t._UZ(0,"cf-input-hint",73),2&n&&t.Q6J("hint","Qu\u1ed1c t\u1ecbch kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Y1(n,o){1&n&&t._UZ(0,"cf-input-hint",73),2&n&&t.Q6J("hint","Qu\u1ed1c gia kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function H1(n,o){1&n&&t._UZ(0,"cf-input-hint",73),2&n&&t.Q6J("hint","Ng\xe0y c\u1ea5p kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function V1(n,o){1&n&&t._UZ(0,"cf-input-hint",73),2&n&&t.Q6J("hint","Ng\xe0y c\u1ea5p h\u1ed9 chi\u1ebfu ph\u1ea3i tr\u01b0\u1edbc ng\xe0y h\u1ebft h\u1ea1n")}function G1(n,o){1&n&&t._UZ(0,"cf-input-hint",73),2&n&&t.Q6J("hint","Ng\xe0y h\u1ebft h\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function z1(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",86)(1,"cf-input-group",28)(2,"label",64),t._uU(3," S\u1ed1 h\u1ed9 chi\u1ebfu "),t.qZA(),t._UZ(4,"input",87),t.YNc(5,P1,1,1,"cf-input-hint",23),t.YNc(6,M1,1,1,"cf-input-hint",23),t.qZA(),t.TgZ(7,"cf-select",88)(8,"label",64),t._uU(9," Qu\u1ed1c t\u1ecbch "),t.qZA(),t.YNc(10,j1,1,1,"cf-input-hint",23),t.qZA(),t.TgZ(11,"cf-select",89)(12,"label",64),t._uU(13," Qu\u1ed1c gia c\u1ea5p h\u1ed9 chi\u1ebfu "),t.qZA(),t.YNc(14,Y1,1,1,"cf-input-hint",23),t.qZA(),t.TgZ(15,"div")(16,"cf-input-group",28),t._UZ(17,"cf-icon",65),t.TgZ(18,"label",64),t._uU(19," Ng\xe0y c\u1ea5p "),t.qZA(),t.TgZ(20,"input",90,91),t.NdJ("input",function(){t.CHM(e);const c=t.MAs(21);return t.KtG(c.close())})("dateSelect",function(){t.CHM(e);const c=t.MAs(21);return t.KtG(c.close())}),t.qZA(),t.YNc(22,H1,1,1,"cf-input-hint",23),t.YNc(23,V1,1,1,"cf-input-hint",23),t.qZA()(),t.TgZ(24,"div")(25,"cf-input-group",28),t._UZ(26,"cf-icon",65),t.TgZ(27,"label",64),t._uU(28," Ng\xe0y h\u1ebft h\u1ea1n "),t.qZA(),t.TgZ(29,"input",92,93),t.NdJ("input",function(){t.CHM(e);const c=t.MAs(30);return t.KtG(c.close())})("dateSelect",function(){t.CHM(e);const c=t.MAs(30);return t.KtG(c.close())}),t.qZA(),t.YNc(31,G1,1,1,"cf-input-hint",23),t.qZA(),t.TgZ(32,"div",94),t._uU(33," C\xf2n h\u1ea1n tr\xean 6 th\xe1ng so v\u1edbi ng\xe0y b\u1eaft \u0111\u1ea7u h\xe0nh tr\xecnh"),t.qZA()()()}if(2&n){const e=t.oxw(3).$implicit,i=t.oxw();let c,a,r,u,g,m,h,T,Z,d,y,k;t.xp6(1),t.Q6J("status",null!=(c=e.get("number"))&&c.invalid&&(null!=(c=e.get("number"))&&c.dirty||null!=(c=e.get("number"))&&c.touched)?"error":"default"),t.xp6(1),t.Q6J("CfRequired",i.has1GProvider||i.hasFlyOneProvider),t.xp6(3),t.Q6J("ngIf",(null==(a=e.get("number"))?null:a.hasError("maxlength"))&&((null==(a=e.get("number"))?null:a.touched)||(null==(a=e.get("number"))?null:a.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(r=e.get("number"))?null:r.hasError("required"))&&((null==(r=e.get("number"))?null:r.touched)||(null==(r=e.get("number"))?null:r.dirty))),t.xp6(1),t.Q6J("status",null!=(u=e.get("nationality"))&&u.invalid&&(null!=(u=e.get("nationality"))&&u.dirty||null!=(u=e.get("nationality"))&&u.touched)?"error":"default")("data",i.countryOption)("allowSearch",!0),t.xp6(1),t.Q6J("CfRequired",i.has1GProvider||i.hasFlyOneProvider),t.xp6(2),t.Q6J("ngIf",(null==(g=e.get("nationality"))?null:g.hasError("required"))&&((null==(g=e.get("nationality"))?null:g.touched)||(null==(g=e.get("nationality"))?null:g.dirty))),t.xp6(1),t.Q6J("data",i.countryOption)("status",null!=(m=e.get("issuanceCountry"))&&m.invalid&&(null!=(m=e.get("issuanceCountry"))&&m.dirty||null!=(m=e.get("issuanceCountry"))&&m.touched)?"error":"default")("allowSearch",!0),t.xp6(1),t.Q6J("CfRequired",i.has1GProvider||i.hasFlyOneProvider),t.xp6(2),t.Q6J("ngIf",(null==(h=e.get("issuanceCountry"))?null:h.hasError("required"))&&((null==(h=e.get("issuanceCountry"))?null:h.touched)||(null==(h=e.get("issuanceCountry"))?null:h.dirty))),t.xp6(2),t.Q6J("status",null!=(T=e.get("issuanceDate"))&&T.invalid&&(null!=(T=e.get("issuanceDate"))&&T.dirty||null!=(T=e.get("issuanceDate"))&&T.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",i.has1GProvider||i.hasFlyOneProvider),t.xp6(2),t.Q6J("secondaryCalendar","lunar")("displayMonths",1)("maxDate",i.currentDate),t.xp6(2),t.Q6J("ngIf",(null==(Z=e.get("issuanceDate"))?null:Z.hasError("required"))&&((null==(Z=e.get("issuanceDate"))?null:Z.touched)||(null==(Z=e.get("issuanceDate"))?null:Z.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(d=e.get("issuanceDate"))?null:d.hasError("issuanceDateInvalid"))&&((null==(d=e.get("issuanceDate"))?null:d.touched)||(null==(d=e.get("issuanceDate"))?null:d.dirty))),t.xp6(2),t.Q6J("status",null!=(y=e.get("expiryDate"))&&y.invalid&&(null!=(y=e.get("expiryDate"))&&y.dirty||null!=(y=e.get("expiryDate"))&&y.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",i.has1GProvider||i.hasFlyOneProvider),t.xp6(2),t.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",i.currentDate),t.xp6(2),t.Q6J("ngIf",(null==(k=e.get("expiryDate"))?null:k.hasError("required"))&&((null==(k=e.get("expiryDate"))?null:k.touched)||(null==(k=e.get("expiryDate"))?null:k.dirty)))}}function $1(n,o){1&n&&(t.TgZ(0,"div",95),t._uU(1," Khuy\u1ebfn ngh\u1ecb nh\u1eadp CCCD/H\u1ed9 chi\u1ebfu kh\xe1ch h\xe0ng, n\u1ebfu kh\xf4ng h\xe3ng s\u1ebd kh\xf4ng h\u1ed7 tr\u1ee3 khi g\u1eb7p s\u1ef1 c\u1ed1 "),t.qZA())}function K1(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",76)(1,"div",77)(2,"label",78),t._uU(3," Gi\u1ea5y t\u1edd t\xf9y th\xe2n "),t.qZA(),t.TgZ(4,"div")(5,"div",79)(6,"cf-radio-group",80),t.NdJ("checkChange",function(c){t.CHM(e);const a=t.oxw(2).$implicit,r=t.oxw();return t.KtG(r.onIdentityChange(c,a))}),t.TgZ(7,"cf-radio",81),t._uU(8," CCCD/CMND "),t.qZA(),t.TgZ(9,"cf-radio",82),t._uU(10," H\u1ed9 chi\u1ebfu "),t.qZA()(),t.YNc(11,Q1,6,4,"div",43),t.YNc(12,z1,34,27,"div",83),t.YNc(13,$1,2,0,"div",84),t.qZA()()()()}if(2&n){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(5),t.Q6J("disabled",i.hasAirportInternational)("value",i.IDENTIFY_TYPE.CCCD),t.xp6(2),t.Q6J("value",i.IDENTIFY_TYPE.PASSPORT),t.xp6(2),t.Q6J("ngIf",e.value.documentType===i.IDENTIFY_TYPE.CCCD),t.xp6(1),t.Q6J("ngIf",e.value.documentType===i.IDENTIFY_TYPE.PASSPORT),t.xp6(1),t.Q6J("ngIf",e.value.documentType===i.IDENTIFY_TYPE.NON_IDENTIFY)}}function W1(n,o){1&n&&(t.TgZ(0,"div",105),t._UZ(1,"cf-icon",106),t.TgZ(2,"span"),t._uU(3,"Th\xf4ng tin b\u1ed5 sung"),t.qZA()())}function X1(n,o){if(1&n&&(t.TgZ(0,"cf-collapse",96)(1,"cf-collapse-panel",97),t.YNc(2,W1,4,0,"ng-template",null,48,t.W1O),t.TgZ(4,"div",98)(5,"cf-input-group",99)(6,"label",100),t._UZ(7,"img",101),t._uU(8," Bamboo Airways (QH) "),t.qZA(),t._UZ(9,"input",102),t.qZA(),t.TgZ(10,"cf-input-group",99)(11,"label",100),t._UZ(12,"img",103),t._uU(13," Vietnam Airlines (VNA) "),t.qZA(),t._UZ(14,"input",104),t.qZA()()()()),2&n){const e=t.MAs(3);t.xp6(1),t.Q6J("title",e)("active",!1)}}const tu=function(){return["VN","QH"]};function eu(n,o){if(1&n){const e=t.EpF();t.YNc(0,w1,2,2,"div",54),t.YNc(1,I1,2,1,"div",54),t.TgZ(2,"div",55)(3,"div",56)(4,"div",57)(5,"cf-input-group",58)(6,"label",21)(7,"span",22),t._uU(8,"H\u1ecd"),t.qZA()(),t.TgZ(9,"input",59),t.NdJ("blur",function(c){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw();return t.KtG(r.onBlurInput(c,a,"lastName"))}),t.qZA(),t.YNc(10,S1,1,1,"cf-input-hint",23),t.qZA()(),t.TgZ(11,"div",60)(12,"cf-input-group",61)(13,"label",21)(14,"span",22),t._uU(15,"T\xean \u0111\u1ec7m v\xe0 T\xean"),t.qZA()(),t.TgZ(16,"input",62),t.NdJ("blur",function(c){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw();return t.KtG(r.onBlurInput(c,a,"firstName"))}),t.qZA(),t.YNc(17,F1,1,1,"cf-input-hint",23),t.qZA()(),t.TgZ(18,"div",60)(19,"cf-select",63)(20,"label",64),t._uU(21,"Gi\u1edbi t\xednh"),t.qZA()()(),t.TgZ(22,"div",57)(23,"cf-input-group",28),t._UZ(24,"cf-icon",65),t.TgZ(25,"label",21)(26,"span",22),t._uU(27,"Ng\xe0y sinh"),t.qZA(),t._uU(28,"\xa0 "),t.TgZ(29,"span",66),t._uU(30),t.qZA()(),t.TgZ(31,"input",67,68),t.NdJ("input",function(){t.CHM(e);const c=t.MAs(32);return t.KtG(c.close())})("blur",function(){t.CHM(e);const c=t.oxw().$implicit;let a;return t.KtG(null==(a=c.get("birthday"))?null:a.markAsTouched())})("dateSelect",function(){t.CHM(e);const c=t.MAs(32);return t.KtG(c.close())}),t.qZA(),t.YNc(33,N1,1,1,"cf-input-hint",23),t.YNc(34,q1,1,1,"cf-input-hint",23),t.qZA()(),t.YNc(35,J1,8,15,"div",69),t.qZA(),t.YNc(36,K1,14,7,"div",70),t.YNc(37,X1,15,2,"cf-collapse",71),t.ALo(38,"mapper"),t.qZA()}if(2&n){const e=t.oxw().$implicit,i=t.oxw();let c,a,r,u,g,m,h,T,Z,d,y,k,A,w;t.Q6J("ngIf",!(null!=(c=e.get("firstName"))&&c.valid&&null!=(c=e.get("lastName"))&&c.valid)),t.xp6(1),t.Q6J("ngIf",(null==(a=e.get("firstName"))?null:a.valid)&&(null==(a=e.get("lastName"))?null:a.valid)),t.xp6(2),t.Q6J("ngClass","INF"===(null==(r=e.get("type"))?null:r.value)?"grid-cols-3":"grid-cols-2"),t.xp6(2),t.Q6J("cfRegexInput",i.accentedLetters)("status",null!=(u=e.get("lastName"))&&u.invalid&&(null!=(u=e.get("lastName"))&&u.dirty||null!=(u=e.get("lastName"))&&u.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("ngIf",(null==(g=e.get("lastName"))?null:g.errors)&&(null==(g=e.get("lastName"))?null:g.touched)),t.xp6(2),t.Q6J("cfRegexInput",i.accentedLetters)("status",null!=(m=e.get("firstName"))&&m.invalid&&(null!=(m=e.get("firstName"))&&m.dirty||null!=(m=e.get("firstName"))&&m.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("ngIf",(null==(h=e.get("firstName"))?null:h.errors)&&(null==(h=e.get("firstName"))?null:h.touched)),t.xp6(1),t.Q6J("ngClass","INF"===(null==(T=e.get("type"))?null:T.value)?"-order-1":""),t.xp6(1),t.Q6J("status",null!=(Z=e.get("gender"))&&Z.invalid&&(null!=(Z=e.get("gender"))&&Z.dirty||null!=(Z=e.get("gender"))&&Z.touched)?"error":"default")("data",i.optionsGender)("allowSearch",!1),t.xp6(1),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("status",null!=e.controls.birthday&&e.controls.birthday.invalid&&(null!=e.controls.birthday&&e.controls.birthday.dirty||null!=e.controls.birthday&&e.controls.birthday.touched)?"error":"default"),t.xp6(3),t.Q6J("CfRequired",!0),t.xp6(4),t.hij(" ","ADT"===(null==(d=e.get("type"))?null:d.value)?"(L\u1edbn h\u01a1n 12 tu\u1ed5i)":"CHD"===(null==(d=e.get("type"))?null:d.value)?"(T\u1eeb 2 \u0111\u1ebfn 12 tu\u1ed5i)":"(D\u01b0\u1edbi 2 tu\u1ed5i)"," "),t.xp6(1),t.Q6J("secondaryCalendar","lunar")("displayMonths",1),t.xp6(2),t.Q6J("ngIf",(null==(y=e.get("birthday"))||null==y.errors?null:y.errors.ageInvalid)&&((null==(y=e.get("birthday"))?null:y.touched)||(null==(y=e.get("birthday"))?null:y.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(k=e.get("birthday"))||null==k.errors?null:k.errors.required)&&((null==(k=e.get("birthday"))?null:k.touched)||(null==(k=e.get("birthday"))?null:k.dirty))),t.xp6(1),t.Q6J("ngIf","INF"===(null==(A=e.get("type"))?null:A.value)),t.xp6(1),t.Q6J("ngIf",i.hasAirportInternational||i.hasVJAirline&&"ADT"===(null==(w=e.get("type"))?null:w.value)),t.xp6(1),t.Q6J("ngIf",t.Dn7(38,26,i.ticketCur,i.checkAirline,t.DdM(30,tu)))}}function nu(n,o){if(1&n&&(t.TgZ(0,"div",44)(1,"div",45)(2,"cf-collapse",46)(3,"cf-collapse-panel",47),t.YNc(4,B1,2,2,"ng-template",null,48,t.W1O),t.GkF(6,49),t.qZA()(),t.TgZ(7,"div",50),t.GkF(8,49),t.YNc(9,eu,39,31,"ng-template",null,51,t.W1O),t.qZA()()()),2&n){const e=o.index,i=t.MAs(5),c=t.MAs(10);t.xp6(1),t.Q6J("formGroupName",e),t.xp6(2),t.Q6J("title",i)("active",!0),t.xp6(3),t.Q6J("ngTemplateOutlet",c),t.xp6(2),t.Q6J("ngTemplateOutlet",c)}}function iu(n,o){1&n&&t._UZ(0,"cf-input-hint",73),2&n&&t.Q6J("hint","M\xe3 v\xf9ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function ou(n,o){1&n&&t._UZ(0,"cf-input-hint",73),2&n&&t.Q6J("hint","Sdt kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function cu(n,o){1&n&&t._UZ(0,"cf-input-hint",73),2&n&&t.Q6J("hint","\u0110i\u1ec7n tho\u1ea1i di \u0111\u1ed9ng t\u1ed1i thi\u1ec3u 7 s\u1ed1")}function au(n,o){1&n&&t._UZ(0,"cf-input-hint",73),2&n&&t.Q6J("hint","\u0110i\u1ec7n tho\u1ea1i di \u0111\u1ed9ng t\u1ed1i \u0111a 11 s\u1ed1")}function ru(n,o){1&n&&t._UZ(0,"cf-input-hint",73),2&n&&t.Q6J("hint","Email kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function lu(n,o){1&n&&t._UZ(0,"cf-input-hint",73),2&n&&t.Q6J("hint","\u0110\u1ecbnh d\u1ea1ng kh\xf4ng h\u1ee3p l\u1ec7")}function su(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"btc-ticket-sticky-selected",107),t.NdJ("showDetail",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.showDetail(c))})("reselectClick",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.navigateToPaxInfo())}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("searchInput",e.searchData)("ticketCur",e.ticketCur)}}function uu(n,o){1&n&&t._UZ(0,"cf-spinner")}const pu=function(){return["VJ"]};let du=(()=>{class n{constructor(e,i,c,a,r,u,g,m,h,T,Z,d,y,k,A,w,F){this._fb=e,this._modal=i,this._cfIconRegister=c,this._phoneDataSvc=a,this._bottomSheetSvc=r,this._detectMobileSvc=u,this._BtcBookingSvc=g,this._locationDataSvc=m,this._helperSvc=h,this._calendar=T,this._recaptchaV3Service=Z,this._sessionStorageSvc=d,this._router=y,this._location=k,this._bookingPaymentSvc=A,this._toastService=w,this._addExtraInfoOrderSvc=F,this.accentedLetters="^[a-zA-Z\xc0\xc1\xc2\xc3\xc8\xc9\xca\xcc\xcd\xd2\xd3\xd4\xd5\xd9\xda\u0102\u0110\u0128\u0168\u01a0\xe0\xe1\xe2\xe3\xe8\xe9\xea\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\u0103\u0111\u0129\u0169\u01a1\u01af\u0102\u1ea0\u1ea2\u1ea4\u1ea6\u1ea8\u1eaa\u1eac\u1eae\u1eb0\u1eb2\u1eb4\u1eb6\u1eb8\u1eba\u1ebc\u1ec0\u1ec0\u1ec2\u01b0\u0103\u1ea1\u1ea3\u1ea5\u1ea7\u1ea9\u1eab\u1ead\u1eaf\u1eb1\u1eb3\u1eb5\u1eb7\u1eb9\u1ebb\u1ebd\u1ec1\u1ec1\u1ec3\u1ec4\u1ec6\u1ec8\u1eca\u1ecc\u1ece\u1ed0\u1ed2\u1ed4\u1ed6\u1ed8\u1eda\u1edc\u1ede\u1ee0\u1ee2\u1ee4\u1ee6\u1ee8\u1eea\u1ec5\u1ec7\u1ec9\u1ecb\u1ecd\u1ecf\u1ed1\u1ed3\u1ed5\u1ed7\u1ed9\u1edb\u1edd\u1edf\u1ee1\u1ee3\u1ee5\u1ee7\u1ee9\u1eeb\u1eec\u1eee\u1ef0\u1ef2\u1ef4\xdd\u1ef6\u1ef8\u1eed\u1eef\u1ef1\u1ef3\u1ef5\u1ef7\u1ef9\\s]*$",this.optionsGender=Rn,this.optionsParent=[],this.optionsAreaCode=this._phoneDataSvc.optionsAreaCode,this.hasAirportInternational=!1,this.hasBaggageSelected=!1,this.passengerText="",this.isLoading=!1,this.has1GProvider=!1,this.hasFlyOneProvider=!1,this.has1AProvider=!1,this.hasInternationalFlight=!1,this.hasVJAirline=!1,this.countryOption=this._locationDataSvc.getAllCountryOption(),this.currentDate=this._calendar.getToday(),this.amountDiscount=0,this.IDENTIFY_TYPE=R.FV,this.checkAirline=(N,O)=>null==N?void 0:N.ticketSelected.some(E=>E.ticketData&&O.includes(E.ticketData.airline)),this.checkErrorDependentPartner=(N,O,E)=>N.value.filter((x,C)=>C!==O).some(x=>x.parentIndex===N.value[O].parentIndex),this._cfIconRegister.registerIcons([p.ILM,p._7G,p.rks,p._tC])}ngOnInit(){var e;this.searchData=this._sessionStorageSvc.btcResultData.search,this.ticketCur=Object.assign(Object.assign({},this._sessionStorageSvc.btcResultData.ticketCur),{ticketSelected:null===(e=this._sessionStorageSvc.btcResultData.ticketCur)||void 0===e?void 0:e.ticketSelected.map(i=>Object.assign(Object.assign({},i),{ticketData:(0,P.yE)(at,i.ticketData,{excludeExtraneousValues:!0})}))}),this.initDataByTicketCur(),!this.form&&this.initForm(),this.progressAmountDiscount()}initDataByTicketCur(){var e,i,c,a,r;this.ticketCur&&(this.progressInternational(),this.hasInternationalFlight=null===(e=this.ticketCur)||void 0===e?void 0:e.ticketSelected.some(u=>{var g;return["GDS","BSP","AIR_1G","FLY_ONE"].includes(((null===(g=u.ticketData)||void 0===g?void 0:g.provider)||"").toUpperCase())}),this.has1GProvider=null===(i=this.ticketCur)||void 0===i?void 0:i.ticketSelected.some(u=>{var g;return(null===(g=u.ticketData)||void 0===g?void 0:g.provider.toUpperCase())===R.QK.AIR_1G}),this.hasFlyOneProvider=null===(c=this.ticketCur)||void 0===c?void 0:c.ticketSelected.some(u=>{var g;return(null===(g=u.ticketData)||void 0===g?void 0:g.provider.toUpperCase())===R.QK.FLY_ONE}),this.has1AProvider=null===(a=this.ticketCur)||void 0===a?void 0:a.ticketSelected.some(u=>{var g;return(null===(g=u.ticketData)||void 0===g?void 0:g.provider.toUpperCase())===R.QK.BSP}),this.hasVJAirline=null===(r=this.ticketCur)||void 0===r?void 0:r.ticketSelected.some(u=>{var g;return"VJ"===(null===(g=u.ticketData)||void 0===g?void 0:g.provider.toUpperCase())}))}initForm(){this.form=this._fb.group({email:["",[D.kI.required,D.kI.email]],phone:["",[D.kI.required,D.kI.minLength(7),D.kI.maxLength(11)]],phonePrefix:["+84",D.kI.required],passengers:this._fb.array([])}),this.initPassengersForm(this.searchData)}get passengers(){return this.form.get("passengers")}initPassengersForm(e){const{adultCount:i,childCount:c,infantCount:a}=e,r={adult:i,child:c,infant:a};let u;Object.keys(r).forEach(g=>{const m=r[g];for(let h=0;h<m;h++)"infant"!==g&&(u=(0,_t.isNil)(u)?0:++u),this.addPassenger(g,u,h)}),this.optionsParent=[...this.initOptionsParent(this.passengers.value)],this.updateOptionsParent()}addPassenger(e,i,c){var a;const r=this.initDocumentType(e),u=this._fb.group({type:"adult"===e?"ADT":"child"===e?"CHD":"INF",indexByType:c,index:"infant"!==e?i:0,birthday:[null,D.kI.compose([D.kI.required,e1(e,null!==(a=this.searchData.journey)&&void 0!==a&&a.length?new Date(this.searchData.journey[0].departDate):new Date)])],firstName:[null,D.kI.required],lastName:[null,D.kI.required],parentIndex:["infant"===e?c:null],gender:["male"],membershipQH:[null],membershipVN:[null],issuanceDate:[null],expiryDate:[null],issuanceCountry:[null],nationality:[null],number:[null],cccdNumber:[null],documentType:[r]});this.passengers.push(u),r&&this.onIdentityChange(r,u)}initDocumentType(e){return this.hasAirportInternational?this.has1AProvider||this.has1GProvider||this.hasFlyOneProvider||this.hasVJAirline&&"adult"===e?R.FV.PASSPORT:null:this.hasVJAirline&&"adult"===e?R.FV.CCCD:null}initOptionsParent(e){return e.filter(i=>"ADT"===i.type).map((i,c)=>({name:i.firstName&&i.lastName?`${i.lastName} ${i.firstName}`:`Ng\u01b0\u1eddi l\u1edbn ${c+1}`,code:i.indexByType}))}updateOptionsParent(){this.passengers.valueChanges.pipe((0,H.U)(e=>e),(0,g1.x)((e,i)=>e.every((c,a)=>{const r=i[a];return c.firstName===r.firstName&&c.lastName===r.lastName}))).subscribe(e=>{this.optionsParent=[...this.initOptionsParent(e)],this.updateUISelectSelectInfant()})}updateUISelectSelectInfant(){var e;this.parentSelectInfants&&(null===(e=this.parentSelectInfants)||void 0===e||e.forEach(i=>{i.data=this.optionsParent,this.optionsParent.forEach(c=>{i.selectedText&&c.code===i.selectedText.code&&i.writeValue(i.selectedText.code)})}))}progressInternational(){var e;null===(e=this.ticketCur)||void 0===e||e.ticketSelected.forEach(i=>{i.ticketData&&(this._locationDataSvc.checkAirportInternational(i.ticketData.startPoint)||this._locationDataSvc.checkAirportInternational(i.ticketData.endPoint))&&(this.hasAirportInternational=!0)})}onIdentityChange(e,i){e===R.FV.PASSPORT?(["issuanceDate","expiryDate","issuanceCountry","nationality","number"].forEach(c=>{var a,r,u,g;"number"===c?(null===(a=i.get(c))||void 0===a||a.setValidators([D.kI.required,D.kI.maxLength(9)]),null===(r=i.get(c))||void 0===r||r.updateValueAndValidity()):(null===(u=i.get(c))||void 0===u||u.setValidators([D.kI.required]),null===(g=i.get(c))||void 0===g||g.updateValueAndValidity())}),["cccdNumber"].forEach(c=>{var a,r;null===(a=i.get(c))||void 0===a||a.setValidators(null),null===(r=i.get(c))||void 0===r||r.updateValueAndValidity()})):e===R.FV.CCCD?(["cccdNumber"].forEach(c=>{var a,r;null===(a=i.get(c))||void 0===a||a.setValidators([D.kI.required,D.kI.minLength(9),D.kI.maxLength(12)]),null===(r=i.get(c))||void 0===r||r.updateValueAndValidity()}),["issuanceDate","expiryDate","issuanceCountry","nationality","number"].forEach(c=>{var a,r;null===(a=i.get(c))||void 0===a||a.setValidators(null),null===(r=i.get(c))||void 0===r||r.updateValueAndValidity()})):["issuanceDate","expiryDate","issuanceCountry","nationality","number","cccdNumber"].forEach(c=>{var a,r;null===(a=i.get(c))||void 0===a||a.setValidators(null),null===(r=i.get(c))||void 0===r||r.updateValueAndValidity()})}onKeydown(e){e.preventDefault(),e.stopPropagation()}quickParseInfo(){this._modal.open(s1,{passengerText:this.passengerText,departureTime:At(this.searchData.journey[0].departDate).toDate().getTime()}).afterClosed$.subscribe({next:i=>{i.data&&this.processQuickParse(i.data.text,i.data.passengers,i.data.passengerInputRows)}})}processQuickParse(e,i,c){this.passengerText=e;const a=i.map(m=>Object.assign(Object.assign({},m),{type:"ADULT"===m.type?"ADT":"CHILD"===m.type?"CHD":"INF"}));a.forEach(m=>{m.firstName&&(m.firstName=this.unicodeAndUppercase(m.firstName)),m.lastName&&(m.lastName=this.unicodeAndUppercase(m.lastName)),m.parentName&&(m.parentName=this.unicodeAndUppercase(m.parentName))});const r=a.filter(m=>"ADT"===m.type),u=a.filter(m=>"CHD"===m.type),g=a.filter(m=>"INF"===m.type);this.passengers.value.forEach(({type:m,indexByType:h,parentIndex:T},Z)=>{var d;if("ADT"===m){const y=r[h];y&&this.passengers.at(Z).patchValue(y)}else if("CHD"===m){const y=u[h];y&&this.passengers.at(Z).patchValue(y)}else{const y=g[h],k=null===(d=this.optionsParent.find(A=>A.name===(null==y?void 0:y.parentName)))||void 0===d?void 0:d.code;y&&this.passengers.at(Z).patchValue(Object.assign(Object.assign({},y),{parentIndex:k||T}))}})}showDetail(e){this._detectMobileSvc.isMobile()?this._bottomSheetSvc.open(st,{headerTitle:"Th\xf4ng tin chuy\u1ebfn bay",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",data:{ticketCur:this.ticketCur,dataSearch:this.searchData,index:e}}).containerInstance._rightButtonClick.subscribe(()=>this._bottomSheetSvc.dismiss()):this._modal.open(st,{ticketCur:this.ticketCur,dataSearch:this.searchData,index:e})}onBlurInput(e,i,c){var a;const r=this.unicodeAndUppercase(e.target.value);null===(a=i.get(c))||void 0===a||a.setValue(r)}unicodeAndUppercase(e){return e=e.replace(/ +(?= )/g,""),(0,_1.E)(e.trim()).toUpperCase()}onAddBaggage(){}bookTicket(){var e,i,c,a,r;if(this.form.markAllAsTouched(),this.form.updateValueAndValidity(),this.form.invalid||this.checkDuplicates(this.passengers.value.filter(d=>"INF"===d.type)))return;const u=null===(e=this.ticketCur)||void 0===e?void 0:e.ticketSelected.map(d=>d.ticketData),g=null!=u&&u.length?this._helperSvc.progressPriceList(this.searchData,u):[],{email:m,phone:h,phonePrefix:T}=this.form.value,Z={sendEmailInfo:{bookingContact:{email:m,phone:h,phonePrefix:T},bookingFlights:{bookingOptions:null===(i=this.ticketCur)||void 0===i?void 0:i.ticketSelected.map((d,y)=>{var k,A,w,F,N,O,E,J,x,C,q,v,Q,V,z,$,nt,W,b;return{airlineLogo:"https://flychills.com/assets/airline-logo/"+(null===(k=d.ticketData)||void 0===k?void 0:k.airline)+".png",endPoint:null!==(A=d.ticketData)&&void 0!==A&&A.endPoint?`${this._locationDataSvc.getCityNameByCode(null===(w=d.ticketData)||void 0===w?void 0:w.endPoint)} (${null===(F=d.ticketData)||void 0===F?void 0:F.endPoint})`:"",endTime:null!==(N=d.ticketData)&&void 0!==N&&N.arrival.localTime?(0,K.Z)(new Date(null===(O=d.ticketData)||void 0===O?void 0:O.arrival.localTime),"dd/MM/yyyy HH:mm"):"",flightNumber:null!==(E=d.ticketData)&&void 0!==E&&E.flightNumber?`Chuy\u1ebfn bay ${null===(J=d.ticketData)||void 0===J?void 0:J.flightNumber}`:"",startPoint:null!==(x=d.ticketData)&&void 0!==x&&x.startPoint?`${this._locationDataSvc.getCityNameByCode(null===(C=d.ticketData)||void 0===C?void 0:C.startPoint)} (${null===(q=d.ticketData)||void 0===q?void 0:q.startPoint})`:"",startTime:null!==(v=d.ticketData)&&void 0!==v&&v.departure.localTime?(0,K.Z)(new Date(null===(Q=d.ticketData)||void 0===Q?void 0:Q.departure.localTime),"dd/MM/yyyy HH:mm"):"",fareClass:`H\u1ea1ng ch\u1ed7 ${null===(z=null===(V=d.ticketData)||void 0===V?void 0:V.fareCur)||void 0===z?void 0:z.fareClass}`||"",airline:(null===($=d.ticketData)||void 0===$?void 0:$.airline)||"",startPointCode:(null===(nt=d.ticketData)||void 0===nt?void 0:nt.startPoint)||"",endPointCode:(null===(W=d.ticketData)||void 0===W?void 0:W.endPoint)||"",flightNumberCode:(null===(b=d.ticketData)||void 0===b?void 0:b.flightNumber)||""}}),totalPrice:((null===(c=this.ticketCur)||void 0===c?void 0:c.totalPrice)||0)-this.amountDiscount},bookingPassengers:this.passengers.value.map(d=>{var y,k;let A=0;if(null!=g&&g.length){const w=g.find(F=>F.code===d.type);A=((null==w?void 0:w.totalFare)||0)/((null==w?void 0:w.quantity)||1)}return{gender:"male"===d.gender?"\xd4ng":"B\xe0",name:`${d.lastName} ${d.firstName}`,price:A,type:d.type,service:"Gi\xe1 v\xe9",route:null!=u&&u.length?`${this._locationDataSvc.getCityNameByCode(null===(y=u[0])||void 0===y?void 0:y.startPoint)} - ${this._locationDataSvc.getCityNameByCode(null===(k=u[0])||void 0===k?void 0:k.endPoint)}`:"",genderCode:d.gender.toUpperCase(),documentInfo:[{documentType:d.documentType,number:"PASSPORT"===d.documentType?d.number:d.cccdNumber,expiryDate:d.expiryDate?(0,K.Z)(new Date(d.expiryDate),"yyyy-MM-dd"):"",issuanceCountry:d.issuanceCountry,issuanceDate:d.issuanceDate?(0,K.Z)(new Date(d.issuanceDate),"yyyy-MM-dd"):"",nationality:d.nationality}],birthday:d.birthday?(0,K.Z)(new Date(d.birthday),"dd/MM/yyyy"):""}})},ip:"",recaptcha:"",bookingInfo:{bookingContact:{email:m,phone:h,phonePrefix:T},bookingFlights:{bookingOptions:u.map(({airline:d,airlineName:y,fareCur:k,segments:A,endPoint:w,startPoint:F,key:N,provider:O,departure:E,fareClass:J},x)=>({airline:d,airlineName:y,bookingFlightInfo:{optionSelect:{fareOptionKey:(null==k?void 0:k.key)||"",segmentSelect:A.map(({bookedInfo:C,key:q})=>({fareClass:null==C?void 0:C.fareClass,segmentKey:q}))},type:this.searchData.typeOfList===M.YI.Single?"b2c":"combo"},endPoint:w,startPoint:F,provider:O,fareClass:J,flightNumber:A[0].flightNumber,id:"",journeyKey:N,leg:x,route:`${F}${w}`,startTime:E.localTime?(0,K.Z)(new Date(E.localTime),"yyyy-MM-dd"):"",supplier:"",sessionId:""})),mode:"options"},bookingPassengers:this.passengers.value.map(d=>({bookingBaggages:[],bookingSeats:[],bookingServices:[],info:{birthday:d.birthday?(0,K.Z)(new Date(d.birthday),"yyyy-MM-dd"):"",defaultDocumentType:d.documentType,documentInfo:[{documentType:d.documentType,expiryDate:d.expiryDate?(0,K.Z)(new Date(d.expiryDate),"yyyy-MM-dd"):"",issuanceCountry:d.issuanceCountry,issuanceDate:d.issuanceDate?(0,K.Z)(new Date(d.issuanceDate),"yyyy-MM-dd"):"",number:"PASSPORT"===d.documentType?d.number:d.cccdNumber,nationality:d.nationality}],email:"",firstName:d.firstName,lastName:d.lastName,gender:d.gender,index:d.index,parentIndex:d.parentIndex,loyalInfo:[d.membershipQH,d.membershipVN].map(y=>({airline:d.membershipQH?"QH":"VN",membershipID:y})),setDefaultDocument:d.documentType===R.FV.NON_IDENTIFY,type:d.type}}))},totalCharge:{totalDiscount:this.amountDiscount,totalFare:(null===(a=this.ticketCur)||void 0===a?void 0:a.totalPrice)||0,totalPrice:((null===(r=this.ticketCur)||void 0===r?void 0:r.totalPrice)||0)-this.amountDiscount}};this.isLoading=!0,this._recaptchaV3Service.execute("importantAction").pipe((0,Dt.w)(d=>this._bookingPaymentSvc.bookingPayment(Object.assign(Object.assign({},Z),{recaptcha:d}))),(0,Dt.w)(d=>this._addExtraInfoOrderSvc.addExtraInfoOrder({orderId:d.data.orderId,extraInfoText:JSON.stringify({ticketCur:(0,P.ZE)(this.ticketCur),search:this.searchData,dataBooking:{booking:d.data,bookingContact:Z.sendEmailInfo.bookingContact,bookingPassengers:Z.sendEmailInfo.bookingPassengers}})}).pipe((0,H.U)(()=>d)))).subscribe({next:d=>{var y;console.log(d),d&&d.data&&(null!==(y=d.data)&&void 0!==y&&y.orderId?this._router.navigate(["/payment/"+d.data.orderId]):this._router.navigate(["/payment"]))},error:d=>{console.log(d),this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"C\xf3 l\u1ed7i x\u1ea3y ra",sticky:!0}),this.isLoading=!1},complete:()=>{this.isLoading=!1}})}checkDuplicates(e){const i=new Set;return e.some(c=>!!i.has(c.parentIndex)||(i.add(c.parentIndex),!1))}getFormControlInArray(e,i){return e.controls[i]}navigateToPaxInfo(){this._location.back()}progressAmountDiscount(){const e=this.ticketCur.ticketSelected.filter(i=>i.ticketData).map(i=>i.ticketData);this.amountDiscount=this._helperSvc.progressPriceList(this.searchData,e).filter(i=>i.discountAmount).reduce((i,c)=>i+c.discountAmount*c.quantity,0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.qu),t.Y36(tt.oE),t.Y36(p.KNP),t.Y36(m1.l),t.Y36(S.a2),t.Y36(it.L),t.Y36(C1),t.Y36(et._),t.Y36(ot),t.Y36(ae.jH),t.Y36(Lt.YC),t.Y36(Et),t.Y36(pt.F0),t.Y36(_.Ye),t.Y36(b1),t.Y36(Yt.BX),t.Y36(Z1))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-result-pax"]],viewQuery:function(e,i){if(1&e&&t.Gf(A1,5),2&e){let c;t.iGM(c=t.CRH())&&(i.parentSelectInfants=c)}},standalone:!0,features:[t.jDz],decls:79,vars:31,consts:[[1,"w-full","h-screen","pb-20","pt-6","overflow-auto",3,"formGroup"],[1,"px-4","w-full","max-w-[1366px]","mx-auto","relative","flex","md:flex-col","gap-6","md:gap-0"],[1,"flex-1","flex","flex-col","gap-8","md:gap-0","md:shadow-lg"],[1,"flex","flex-col","gap-4","md:gap-0","md:shadow-lg"],[1,"flex","justify-between","items-center","md:bg-neutral-white","md:py-4","md:pr-3","md:mb-0","md:shadow-lg"],[1,"flex","gap-x-[10px]","md:gap-[6px]","pl-2"],["src","/assets/images/flight-minimum.svg"],[1,"text-heading-md","uppercase","font-bold","text-red-4","md:text-espressive-lg","md:normal-case"],["cf-button","","size","medium","type","secondary",1,"bg-white","flex","gap-x-2","md:hidden",3,"click","keydown"],["icon","grouping","size","small"],[1,"items-center","gap-x-0.5","hidden","md:flex",3,"click"],[1,"text-body-md"],[1,"flex","flex-col","gap-2"],["formArrayName","passengers"],["class","bg-white shadow-lg rounded",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","md:bg-neutral-white","md:py-4","md:pr-3","md:mb-0"],[1,"p-6","bg-white","rounded","shadow-cf-md"],[1,"grid","grid-cols-3","gap-4","md:grid-cols-2"],["data-id","phonePrefix",1,"md:start"],["controlElement",""],["textField","name","valueField","code","placeholder","M\xe3 v\xf9ng","formControlName","phonePrefix",3,"status","data","allowSearch"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],[3,"CfRequired"],["cfHint","",3,"hint",4,"ngIf"],["data-id","phone",1,""],[1,"grow-[400]","!w-full",3,"tooltipContent","status"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp \u0111i\u1ec7n tho\u1ea1i","formControlName","phone","CfNumberic",""],["data-id","email",1,"md:col-span-2"],[1,"grow-[400]","!w-full",3,"status"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp email","formControlName","email","formControlName","email"],[1,"min-w-[248px]","max-w-[302px]","w-full","mr-auto","md:max-w-full","rounded-xl","md:rounded-none"],[1,"min-w-[248px]","w-full","max-w-[302px]","flex-shrink-0","md:rounded-none","rounded-xl","shadow-lg","h-fit","md:static","md:max-w-full","sticky","top-0"],[1,"bg-neutral-white","rounded-xl","md:rounded-none"],[1,"flex","justify-between","items-center","py-3","px-4","border-b","border-neutral-gray-2"],[1,"text-espressive-sm","text-neutral-black"],[3,"searchInput","ticketCur","showDetail","reselectClick",4,"ngIf"],[1,"flex","justify-between","items-center","py-3","px-4","md:rounded-none","rounded-b-xl","border-t","border-neutral-gray-1"],[1,"text-heading-md","text-neutral-black"],[1,"fixed","w-full","bg-white","flex","justify-between","bottom-0","left-0","right-0","py-[14px]","px-[30px]","md:gap-4"],["cf-button","","size","medium","type","secondary",1,"whitespace-nowrap","md:flex-1","justify-center",3,"click"],["icon","arrow_left","size","small",1,"mr-2.5"],["cf-button","","size","medium","color","primary-1",1,"whitespace-nowrap","w-[200px]","md:flex-1","justify-center",3,"click"],["icon","switch","size","small",1,"mr-2.5"],[4,"ngIf"],[1,"bg-white","shadow-lg","rounded"],[3,"formGroupName"],[1,"w-full","hidden","md:block"],["contentClass","bg-neutral-white p-4 pt-0",3,"title","active"],["titleTemplate",""],[3,"ngTemplateOutlet"],[1,"p-6","bg-white","rounded","shadow-cf-md","md:hidden"],["adultPax",""],["class","text-heading-xs text-neutral-gray-6",4,"ngIf"],[1,"text-heading-xs","text-neutral-gray-6"],["class","mb-4 text-heading-xs text-black md:hidden",4,"ngIf"],[1,"flex","gap-y-4","flex-col"],[1,"grid","gap-4","md:grid-cols-1",3,"ngClass"],[1,""],[1,"!w-full",3,"cfRegexInput","status"],["cf-input","","size","medium","autocomplete","off","formControlName","lastName","placeholder","Nh\u1eadp h\u1ecd","type","text",3,"blur"],[1,"",3,"ngClass"],[1,"grow-[400]","!w-full",3,"cfRegexInput","status"],["cf-input","","size","medium","autocomplete","off","formControlName","firstName","placeholder","Nh\u1eadp t\xean \u0111\u1ec7m v\xe0 t\xean",3,"blur"],["textField","name","valueField","code","formControlName","gender","placeholder","Ch\u1ecdn gi\u1edbi t\xednh",1,"md:w-full","max-w-full","!w-full","md:max-w-none",3,"status","data","allowSearch"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5",3,"CfRequired"],["cfHeadIcon","","icon","calendar","size","small"],[1,"text-neutral-gray-4","text-espressive-sm"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","formControlName","birthday","placeholder","Nh\u1eadp ng\xe0y sinh",1,"py-[8px]",3,"secondaryCalendar","displayMonths","input","blur","dateSelect"],["dateFrom","cfDatepicker"],["class","",4,"ngIf"],["class","border-t border-neutral-gray-1 mt-4",4,"ngIf"],["class","w-full border border-neutral-gray-3 border-dashed rounded",4,"ngIf"],[1,"mb-4","text-heading-xs","text-black","md:hidden"],["cfHint","",3,"hint"],["textField","name","valueField","code","formControlName","parentIndex","placeholder","Thu\u1ed9c h\xe0nh kh\xe1ch ng\u01b0\u1eddi l\u1edbn",1,"md:w-full","max-w-full","!w-full","md:max-w-none",3,"status","data","allowSearch"],["parentSelectInfant",""],[1,"border-t","border-neutral-gray-1","mt-4"],[1,"flex","flex-col","gap-y-1.5","pt-4"],["cfLabel","",1,"text-espressive-sm","text-black",3,"CfRequired"],[1,"flex","flex-col","gap-y-4"],["formControlName","documentType",1,"flex","items-center","gap-x-8",3,"checkChange"],["size","medium",3,"disabled","value"],["size","medium",3,"value"],["class","grid grid-cols-2 gap-4 md:grid-cols-1",4,"ngIf"],["class","text-body-sm",4,"ngIf"],["cf-input","","size","medium","autocomplete","off","CfNumberic","","formControlName","cccdNumber","placeholder","Nh\u1eadp s\u1ed1 c\u0103n c\u01b0\u1edbc c\xf4ng d\xe2n"],[1,"grid","grid-cols-2","gap-4","md:grid-cols-1"],["cf-input","","size","medium","autocomplete","off","formControlName","number","CfRemoveAccents","","placeholder","Nh\u1eadp s\u1ed1 h\u1ed9 chi\u1ebfu","type","text"],["textField","name","valueField","code","placeholder","Ch\u1ecdn qu\u1ed1c t\u1ecbch","formControlName","nationality",1,"md:w-full","md:max-w-none","!max-w-full",3,"status","data","allowSearch"],["textField","name","valueField","code","placeholder","Ch\u1ecdn n\u01a1i c\u1ea5p","formControlName","issuanceCountry",1,"md:w-full","md:max-w-none","!max-w-full",3,"data","status","allowSearch"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y c\u1ea5p","formControlName","issuanceDate",1,"py-[7px]",3,"secondaryCalendar","displayMonths","maxDate","input","dateSelect"],["issuanceDatepicker","cfDatepicker"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y h\u1ebft h\u1ea1n","formControlName","expiryDate",1,"py-[7px]",3,"secondaryCalendar","displayMonths","minDate","input","dateSelect"],["expiryDatepicker","cfDatepicker"],[1,"text-body-sm","mt-1.5"],[1,"text-body-sm"],[1,"w-full","border","border-neutral-gray-3","border-dashed","rounded"],[3,"title","active"],[1,"flex","gap-x-4"],[1,"grow-[400]","!w-full"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5","flex","gap-1","items-center"],["src","/assets/airline-logo/QH_small.png","alt","logo qh ",1,"w-[32px]","h-[20px]"],["cf-input","","size","medium","autocomplete","off","formControlName","membershipQH","placeholder","Nh\u1eadp th\u1ebb h\xe0nh kh\xe1ch th\u01b0\u1eddng xuy\xean"],["src","/assets/airline-logo/VN_small.png","alt","logo vna ",1,"w-[32px]","h-[20px]"],["cf-input","","size","medium","autocomplete","off","formControlName","membershipVN","placeholder","Nh\u1eadp th\u1ebb h\xe0nh kh\xe1ch th\u01b0\u1eddng xuy\xean"],[1,"text-body-md","flex","gap-x-2","items-center"],["icon","document","size","small"],[3,"searchInput","ticketCur","showDetail","reselectClick"]],template:function(e,i){if(1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._UZ(6,"img",6),t.TgZ(7,"div",7),t._uU(8,"Th\xf4ng tin h\xe0nh kh\xe1ch"),t.qZA()(),t.TgZ(9,"div")(10,"button",8),t.NdJ("click",function(){return i.quickParseInfo()})("keydown",function(a){return i.onKeydown(a)}),t._UZ(11,"cf-icon",9),t.TgZ(12,"span"),t._uU(13,"Nh\u1eadp nhanh th\xf4ng tin"),t.qZA()(),t.TgZ(14,"div",10),t.NdJ("click",function(){return i.quickParseInfo()}),t._UZ(15,"cf-icon",9),t.TgZ(16,"div",11),t._uU(17,"Nh\u1eadp nhanh"),t.qZA()()()(),t.TgZ(18,"div",12),t.ynx(19,13),t.YNc(20,nu,11,5,"div",14),t.BQk(),t.qZA()(),t.TgZ(21,"div",3)(22,"div",15)(23,"div",5),t._UZ(24,"img",6),t.TgZ(25,"div",7),t._uU(26,"Th\xf4ng tin li\xean h\u1ec7"),t.qZA()()(),t.TgZ(27,"div",16)(28,"div",17)(29,"div",18,19)(31,"cf-select",20)(32,"label",21)(33,"span",22),t._uU(34,"M\xe3 v\xf9ng"),t.qZA()(),t.YNc(35,iu,1,1,"cf-input-hint",23),t.qZA()(),t.TgZ(36,"div",24,19)(38,"cf-input-group",25),t.ALo(39,"mapper"),t.TgZ(40,"label",21)(41,"span",22),t._uU(42,"\u0110i\u1ec7n tho\u1ea1i"),t.qZA()(),t._UZ(43,"input",26),t.YNc(44,ou,1,1,"cf-input-hint",23),t.YNc(45,cu,1,1,"cf-input-hint",23),t.YNc(46,au,1,1,"cf-input-hint",23),t.qZA()(),t.TgZ(47,"div",27,19)(49,"cf-input-group",28)(50,"label",21)(51,"span",22),t._uU(52,"Email"),t.qZA()(),t._UZ(53,"input",29),t.YNc(54,ru,1,1,"cf-input-hint",23),t.YNc(55,lu,1,1,"cf-input-hint",23),t.qZA()()()()()(),t.TgZ(56,"div",30)(57,"div",31)(58,"div",32)(59,"div",33)(60,"div",34),t._uU(61,"Chuy\u1ebfn bay c\u1ee7a b\u1ea1n"),t.qZA()(),t.TgZ(62,"div"),t.YNc(63,su,1,2,"btc-ticket-sticky-selected",35),t.qZA(),t.TgZ(64,"div",36)(65,"div",34),t._uU(66,"T\u1ed5ng chi ph\xed:"),t.qZA(),t.TgZ(67,"div",37),t._uU(68),t.ALo(69,"replace"),t.ALo(70,"number"),t.qZA()()()()()(),t.TgZ(71,"div",38)(72,"button",39),t.NdJ("click",function(){return i.navigateToPaxInfo()}),t._UZ(73,"cf-icon",40),t._uU(74," Ch\u1ecdn l\u1ea1i "),t.qZA(),t.TgZ(75,"button",41),t.NdJ("click",function(){return i.bookTicket()}),t._UZ(76,"cf-icon",42),t._uU(77," \u0110\u1eb7t v\xe9 "),t.qZA()()(),t.YNc(78,uu,1,0,"cf-spinner",43)),2&e){let c,a,r;t.Q6J("formGroup",i.form),t.xp6(20),t.Q6J("ngForOf",i.passengers.controls),t.xp6(11),t.Q6J("status",null!=(c=i.form.get("phonePrefix"))&&c.invalid&&(null!=(c=i.form.get("phonePrefix"))&&c.dirty||null!=(c=i.form.get("phonePrefix"))&&c.touched)?"error":"default")("data",i.optionsAreaCode)("allowSearch",!0),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("ngIf",i.form.controls.phonePrefix.hasError("required")&&(i.form.controls.phonePrefix.touched||i.form.controls.phonePrefix.dirty)),t.xp6(3),t.Q6J("tooltipContent",t.Dn7(39,20,i.ticketCur,i.checkAirline,t.DdM(30,pu))?"Theo quy ch\u1ebf ban h\xe0nh b\u1edfi VietJet Air, sdt khi \u0111\u1eb7t v\xe9 b\u1eaft bu\u1ed9c ph\u1ea3i c\u1ee7a kh\xe1ch h\xe0ng":"")("status",i.form.controls.phone.invalid&&(i.form.controls.phone.dirty||i.form.controls.phone.touched)?"error":"default"),t.xp6(3),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("ngIf",i.form.controls.phone.hasError("required")&&(i.form.controls.phone.touched||i.form.controls.phone.dirty)),t.xp6(1),t.Q6J("ngIf",i.form.controls.phone.hasError("minlength")&&(i.form.controls.phone.touched||i.form.controls.phone.dirty)),t.xp6(1),t.Q6J("ngIf",i.form.controls.phone.hasError("maxlength")&&(i.form.controls.phone.touched||i.form.controls.phone.dirty)),t.xp6(3),t.Q6J("status",i.form.controls.email.invalid&&(i.form.controls.email.dirty||i.form.controls.email.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("ngIf",(null==(a=i.form.get("email"))?null:a.hasError("required"))&&((null==(a=i.form.get("email"))?null:a.touched)||(null==(a=i.form.get("email"))?null:a.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(r=i.form.get("email"))?null:r.hasError("email"))&&(null==(r=i.form.get("email"))?null:r.touched)),t.xp6(8),t.Q6J("ngIf",i.ticketCur),t.xp6(5),t.hij(" ",t.Dn7(69,24,t.lcZ(70,28,((null==i.ticketCur?null:i.ticketCur.totalPrice)||0)-i.amountDiscount),",",".")," \u0111 "),t.xp6(10),t.Q6J("ngIf",i.isLoading)}},dependencies:[_.ez,_.mk,_.sg,_.O5,_.tP,_.JJ,I.N8,I.Xq,p.AxE,p.Sm8,ht,Y.AS,D.UX,D._Y,D.Fj,D.JJ,D.JL,D.sg,D.u,D.x0,D.CE,ut.B,ut.K,rt.j$,rt.ND,rt.BN,rt.v2,Ks.q,p1.C,ae.Cs,d1,j.q,u1.OR,gt.T,gt.o,S.DW],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var Tt=(()=>{return(n=Tt||(Tt={})).TRANSFER="TRANSFER",n.ATM="ATM",n.VISA="VISA",Tt;var n})();function _u(n,o){if(1&n&&(t.TgZ(0,"div",43),t._UZ(1,"cf-icon",44),t.TgZ(2,"span",45),t._uU(3),t.qZA()()),2&n){const e=o.ngIf;t.Q6J("ngClass",e.bgColor),t.xp6(1),t.Q6J("icon",e.icon),t.xp6(2),t.hij(" ",e.name," ")}}function gu(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"btc-ticket-sticky-selected",46),t.NdJ("showDetail",function(c){t.CHM(e);const a=t.oxw();return t.KtG(a.showDetail(c))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("searchInput",e.searchData)("ticketCur",e.ticketCur)}}let mu=(()=>{class n{constructor(e,i){this._modal=e,this.cfIconRegister=i,this.changeStep=new t.vpe,this.configStatus={wait:{name:"Ch\u1edd thanh to\xe1n",icon:"clock",bgColor:"bg-yellow-4"},processing:{name:"\u0110\xe3 thanh to\xe1n(\u0111ang x\u1eed l\xfd)",icon:"money",bgColor:"bg-blue-3"},cancel:{name:"\u0110\xe3 h\u1ee7y",icon:"clicle-error",bgColor:"bg-gray-4"},success:{name:"\u0110\u1eb7t v\xe9 th\xe0nh c\xf4ng",icon:"circle-check",bgColor:"bg-green-3"},fail:{name:"\u0110\u1eb7t v\xe9 th\u1ea5t b\u1ea1i",icon:"circle-warning",bgColor:"bg-red-3"},refund:{name:"\u0110\xe3 ho\xe0n ti\u1ec1n",icon:"profit",bgColor:"bg-purple-3"}},this.paymentMethod=Tt.TRANSFER,this.PAYMENT_METHOD_OPTION=Tt,this.cfIconRegister.registerIcons([p.gW0,p.qDv,p.o1t,p.P5K,p.PcQ,p.PcQ,p.Gey,p.B2I,p.UNF,p.glu])}showDetail(e){this._modal.open(st,{ticketCur:this.ticketCur,dataSearch:this.searchData,index:e})}payTicket(){this.changeStep.emit(!0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(tt.oE),t.Y36(p.KNP))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-result-payment"]],inputs:{searchData:"searchData",ticketCur:"ticketCur"},outputs:{changeStep:"changeStep"},standalone:!0,features:[t.jDz],decls:105,vars:20,consts:[[1,"w-full","h-screen","pb-20","pt-6","overflow-auto"],[1,"px-4","w-full","max-w-[1366px]","mx-auto","relative","flex","gap-6"],[1,"flex-1","flex","flex-col","gap-8"],[1,"flex","gap-x-[10px]"],["src","/assets/images/flight-minimum.svg"],[1,"text-heading-md","uppercase","font-bold","text-red-4"],[1,"flex","flex-col","gap-2","w-full"],[1,"bg-white","shadow-lg","rounded","py-4","px-6","flex","flex-col","gap-4"],[1,"flex","gap-2","items-center","text-neutral-gray-6","text-heading-sm","font-medium"],["icon","circle_information","size","small"],[1,"flex"],[1,"flex","flex-col","justify-between","pr-[30px]","border-r","border-dashed","border-neutral-gray-3"],[1,"text-body-md"],[1,"font-semibold","text-heading-lg"],[1,"flex","flex-col","justify-between","px-[30px]","border-r","border-dashed","border-neutral-gray-3"],[1,"flex-1","flex","flex-col","justify-between","pl-[30px]"],["class","py-1 px-2 rounded-full w-fit gap-1 h-fit flex items-center justify-center",3,"ngClass",4,"ngIf"],[1,"w-full","rounded","bg-purple-1","py-[6px]","px-3","text-neutral-gray-6"],[1,"bg-white","shadow-lg","rounded","py-4","px-6","flex","flex-col","gap-6"],[1,"flex","flex-col","gap-x-8","justify-start","gap-y-6",3,"ngModel","ngModelChange"],["size","medium",1,"config-radio",3,"value"],[1,"flex","gap-3"],["src","/assets/bank-logo/qr.svg",1,"w-10","h-10"],[1,"flex","flex-col","gap-2"],[1,"flex","gap-3","items-center","py-3"],[1,"text-white","bg-neutral-gray-4","py-[2px]","px-1","rounded","text-body-sm"],[1,"bg-neutral-gray-2","rounded","py-[6px]","px-3"],["src","/assets/bank-logo/atm.svg",1,"w-10","h-10"],[1,"text-white","bg-blue-3","py-[2px]","px-1","rounded","text-body-sm"],["src","/assets/bank-logo/visa.svg",1,"w-10","h-10"],[1,"min-w-[248px]","max-w-[302px]","w-full","mr-auto","rounded-xl"],[1,"min-w-[248px]","w-full","max-w-[302px]","flex-shrink-0","rounded-xl","shadow-lg","h-fit","md:hidden","sticky","top-0"],[1,"bg-neutral-white","rounded-xl"],[1,"flex","justify-between","items-center","py-3","px-4","border-b","border-neutral-gray-2"],[1,"text-espressive-sm","text-neutral-black"],[3,"searchInput","ticketCur","showDetail",4,"ngIf"],[1,"flex","justify-between","items-center","py-3","px-4","rounded-b-xl"],[1,"text-heading-md","text-neutral-black"],[1,"fixed","w-full","bg-white","flex","justify-between","bottom-0","left-0","right-0","py-[14px]","px-[30px]"],["cf-button","","size","medium","type","secondary",1,"whitespace-nowrap",3,"click"],["icon","close","size","small",1,"mr-2.5"],["cf-button","","size","medium","color","primary-1",1,"whitespace-nowrap","w-[200px]","md:w-full","justify-center",3,"click"],["icon","shopping_cart","size","small",1,"mr-2.5"],[1,"py-1","px-2","rounded-full","w-fit","gap-1","h-fit","flex","items-center","justify-center",3,"ngClass"],["size","small",1,"text-white",3,"icon"],[1,"text-neutral-white","text-body-sm"],[3,"searchInput","ticketCur","showDetail"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.TgZ(5,"div",5),t._uU(6,"Chi ti\u1ebft \u0111\u01a1n h\xe0ng"),t.qZA()(),t.TgZ(7,"div",6)(8,"div",7)(9,"div",8),t._UZ(10,"cf-icon",9),t._uU(11," T\u1ed5ng quan \u0111\u01a1n h\xe0ng "),t.qZA(),t.TgZ(12,"div",10)(13,"div",11)(14,"div",12),t._uU(15," M\xe3 \u0111\u01a1n h\xe0ng "),t.qZA(),t.TgZ(16,"div",13),t._uU(17," HNZFGK "),t.qZA()(),t.TgZ(18,"div",14)(19,"div",12),t._uU(20," T\u1ed5ng ti\u1ec1n (\u0111\xe3 g\u1ed3m VAT) "),t.qZA(),t.TgZ(21,"div",13),t._uU(22),t.ALo(23,"replace"),t.ALo(24,"number"),t.qZA()(),t.TgZ(25,"div",15)(26,"div",12),t._uU(27," T\xecnh tr\u1ea1ng "),t.qZA(),t.TgZ(28,"div",13),t.YNc(29,_u,4,3,"div",16),t.qZA()()(),t.TgZ(30,"div",17)(31,"div"),t._uU(32," 1. Qu\xfd kh\xe1ch vui l\xf2ng ti\u1ebfn h\xe0nh thanh to\xe1n, \u0111\u01a1n h\xe0ng s\u1ebd h\u1ebft h\u1ea1n n\u1ebfu kh\xf4ng thanh to\xe1n tr\u01b0\u1edbc th\u1eddi gian 30/08/2024. "),t.qZA(),t.TgZ(33,"div"),t._uU(34," 2. Vui l\xf2ng ki\u1ec3m tra email b\xf9i ng\u1ecdc l\xe2m \u0111\u1ec3 bi\u1ebft chi ti\u1ebft \u0111\u01a1n h\xe0ng v\xe0 h\u01b0\u1edbng d\u1eabn thanh to\xe1n "),t.qZA(),t.TgZ(35,"div"),t._uU(36," 3. Li\xean h\u1ec7 xxxxx \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 khi c\u1ea7n thi\u1ebft "),t.qZA(),t.TgZ(37,"div"),t._uU(38," 4. Ki\u1ec3m tra t\xecnh tr\u1ea1ng \u0111\u01a1n h\xe0ng t\u1ea1i BMDK "),t.qZA()()()(),t.TgZ(39,"div",6)(40,"div",18)(41,"div",8),t._UZ(42,"cf-icon",9),t._uU(43," Ch\u1ecdn ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n "),t.qZA(),t.TgZ(44,"cf-radio-group",19),t.NdJ("ngModelChange",function(a){return i.paymentMethod=a}),t.TgZ(45,"cf-radio",20)(46,"div",21),t._UZ(47,"img",22),t.TgZ(48,"div",23)(49,"div",24)(50,"div"),t._uU(51," Chuy\u1ec3n kho\u1ea3n ng\xe2n h\xe0ng (QR Code) "),t.qZA(),t.TgZ(52,"div",25),t._uU(53," Kh\xf4ng m\u1ea5t ph\xed "),t.qZA(),t.TgZ(54,"div",25),t._uU(55," Ho\xe0n ti\u1ec1n nhanh ch\xf3ng "),t.qZA()(),t.TgZ(56,"ul",26)(57,"li"),t._uU(58," H\u1ed7 tr\u1ee3 t\u1ea5t c\u1ea3 ng\xe2n h\xe0ng, v\xed \u0111i\u1ec7n t\u1eed (Momo, Zalopay, ...) "),t.qZA(),t.TgZ(59,"li"),t._uU(60," Kh\xf4ng m\u1ea5t ph\xed chuy\u1ec3n ti\u1ec1n "),t.qZA(),t.TgZ(61,"li"),t._uU(62," Ho\xe0n ti\u1ec1n nhanh ch\xf3ng (trong ng\xe0y) khi c\xf3 s\u1ef1 c\u1ed1 "),t.qZA()()()()(),t.TgZ(63,"cf-radio",20)(64,"div",21),t._UZ(65,"img",27),t.TgZ(66,"div",24)(67,"div"),t._uU(68," Th\u1ebb ATM n\u1ed9i \u0111\u1ecba "),t.qZA(),t.TgZ(69,"div",25),t._uU(70," T\u1ea5t c\u1ea3 th\u1ebb n\u1ed9i \u0111\u1ecba "),t.qZA(),t.TgZ(71,"div",28),t._uU(72," Powered by OnePay "),t.qZA()()()(),t.TgZ(73,"cf-radio",20)(74,"div",21),t._UZ(75,"img",29),t.TgZ(76,"div",24)(77,"div"),t._uU(78," Th\u1ebb Qu\u1ed1c t\u1ebf (VISA, MASTER CARD, JCB, AMEX) "),t.qZA(),t.TgZ(79,"div",25),t._uU(80," H\u1ed7 tr\u1ee3 th\u1ebb t\xedn d\u1ee5ng "),t.qZA(),t.TgZ(81,"div",28),t._uU(82," Powered by OnePay "),t.qZA()()()()()()()(),t.TgZ(83,"div",30)(84,"div",31)(85,"div",32)(86,"div",33)(87,"div",34),t._uU(88,"Chuy\u1ebfn bay c\u1ee7a b\u1ea1n"),t.qZA()(),t.TgZ(89,"div"),t.YNc(90,gu,1,2,"btc-ticket-sticky-selected",35),t.qZA(),t.TgZ(91,"div",36)(92,"div",34),t._uU(93,"T\u1ed5ng chi ph\xed:"),t.qZA(),t.TgZ(94,"div",37),t._uU(95),t.ALo(96,"replace"),t.ALo(97,"number"),t.qZA()()()()()(),t.TgZ(98,"div",38)(99,"button",39),t.NdJ("click",function(){return i.changeStep.emit(!1)}),t._UZ(100,"cf-icon",40),t._uU(101," Hu\u1ef7 "),t.qZA(),t.TgZ(102,"button",41),t.NdJ("click",function(){return i.payTicket()}),t._UZ(103,"cf-icon",42),t._uU(104," Thanh to\xe1n "),t.qZA()()()),2&e&&(t.xp6(22),t.hij(" ",t.Dn7(23,8,t.lcZ(24,12,18e5),",",".")," \u0111 "),t.xp6(7),t.Q6J("ngIf",i.configStatus.wait),t.xp6(15),t.Q6J("ngModel",i.paymentMethod),t.xp6(1),t.Q6J("value",i.PAYMENT_METHOD_OPTION.TRANSFER),t.xp6(18),t.Q6J("value",i.PAYMENT_METHOD_OPTION.ATM),t.xp6(10),t.Q6J("value",i.PAYMENT_METHOD_OPTION.VISA),t.xp6(17),t.Q6J("ngIf",i.ticketCur),t.xp6(5),t.hij(" ",t.Dn7(96,14,t.lcZ(97,18,(null==i.ticketCur?null:i.ticketCur.totalPrice)||0),",",".")," \u0111 "))},dependencies:[_.ez,_.mk,_.O5,_.JJ,ht,Y.AS,I.N8,I.Xq,p.AxE,p.Sm8,gt.T,gt.o,D.u5,D.JJ,D.On],styles:[":host{display:block}.config-radio>div{display:flex;align-items:start}.config-radio>div>svg{margin-top:10px}\n"],encapsulation:2,changeDetection:0}),n})(),fu=(()=>{class n{constructor(e,i,c,a){this.route=e,this._helperSearchSvc=i,this._helperSvc=c,this._sessionStorageSvc=a,this.step=vt.LIST,this.BTC_SEARCH_RESULT_STEP=vt}ngOnInit(){this.route.queryParams.subscribe(e=>{this._sessionStorageSvc.btcResultData=Object.assign(Object.assign({},this._sessionStorageSvc.btcResultData),{search:this._helperSearchSvc.progressQueryToRawData(e),ticketCur:this._helperSvc.initTicketCur(+e.t),dataBooking:null})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(pt.gz),t.Y36(Zt.J),t.Y36(ot),t.Y36(Et))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-result-search"]],standalone:!0,features:[t.jDz],decls:2,vars:1,consts:[[1,"w-screen","h-screen","overflow-hidden","bg-neutral-gray-1","flex","flex-col"],[1,"grow","h-0","overflow-auto",3,"ngSwitch"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngSwitch",i.step))},dependencies:[_.ez,_.RF],styles:["[_nghost-%COMP%]{display:block}"]}),n})()},3447:(le,kt,f)=>{f.d(kt,{E:()=>_});const _=S=>S.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D")}}]);