"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[8268],{34541:(y,f,c)=>{c.d(f,{C:()=>u});var e=c(36895),h=c(94650);let u=(()=>{class a{constructor(r,_,g){this.elementRef=r,this.renderer=_,this.document=g}set CfRequired(r){if(r){const _=this.document.createElement("span");_.innerHTML="&nbsp;(*)",_.className="text-primary-1-4 text-espressive-sm",this.renderer.appendChild(this.elementRef.nativeElement,_)}}}return a.\u0275fac=function(r){return new(r||a)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(e.K0))},a.\u0275dir=h.lG2({type:a,selectors:[["","CfRequired",""]],inputs:{CfRequired:"CfRequired"},standalone:!0}),a})()},17736:(y,f,c)=>{c.d(f,{U:()=>Q});var e=c(94650),h=c(74891),u=c(72506),a=c(36895),m=c(88605),r=c(98184),_=c(82722),g=c(77579),S=c(24006),x=c(77296),F=c(4688),w=c(27898);const D=["trigger"],T=["select"],O=["nonSearch"];function M(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"cf-label",19),e.NdJ("onClose",function(){const s=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.onDeleteItem(s))}),e._uU(2),e.qZA()()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("color","gray-2")("mode","closeable")("size","small"),e.xp6(1),e.Oqu(t[i.textField])}}function E(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",14),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.onFocus())}),e.YNc(1,M,3,4,"div",15),e.TgZ(2,"input",16,17),e.NdJ("blur",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.selectBlur())})("input",function(l){e.CHM(t);const s=e.oxw();return e.KtG(s.searchChange(l))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.listSelected),e.xp6(1),e.ekj("!bg-neutral-gray-1",t.disabled),e.Q6J("placeholder",t.placeholder)("value",t.searchText)}}function b(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"cf-label",23),e.NdJ("onClose",function(){const s=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.onDeleteItem(s))}),e._uU(1),e.qZA()}if(2&n){const t=o.$implicit,i=e.oxw(2);e.Q6J("color","gray-2")("mode","closeable")("size","small"),e.xp6(1),e.Oqu(t[i.textField])}}function k(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",20,21),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.onFocus())}),e.YNc(2,b,2,4,"cf-label",22),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.listSelected)}}function I(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"cf-icon",24),e.NdJ("click",function(l){e.CHM(t);const s=e.oxw();return e.KtG(s.onClear(l))}),e.qZA()}}function R(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"cf-icon",25),e.NdJ("click",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.onFocus())}),e.qZA()}}function A(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3).$implicit,i=e.oxw(2);e.xp6(1),e.hij(" ",t[i.textField]," ")}}const P=function(n){return{text:n}},Z=function(n,o){return{item:n,search:o}};function J(n,o){if(1&n&&(e.TgZ(0,"div"),e.GkF(1,32),e.qZA()),2&n){const t=e.oxw(3).$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngTemplateOutlet",i.optionTmp)("ngTemplateOutletContext",e.WLB(4,Z,t,e.VKq(2,P,i.searchText)))}}const K=function(n){return{"!bg-primary-1-1 !text-primary-1-4":n}};function N(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",30),e.NdJ("mousedown",function(l){e.CHM(t);const s=e.oxw(2).$implicit,d=e.oxw(2);return e.KtG(d.itemSelected(l,s))}),e.TgZ(1,"div"),e.YNc(2,A,2,1,"div",28),e.YNc(3,J,2,7,"div",28),e.qZA(),e.TgZ(4,"div"),e._UZ(5,"cf-checkbox",31),e.qZA()()}if(2&n){const t=e.oxw(2),i=t.index,l=t.$implicit,s=e.oxw(2);e.Q6J("ngClass",e.VKq(4,K,s.activedIndex===i)),e.xp6(2),e.Q6J("ngIf",!s.optionTmp),e.xp6(1),e.Q6J("ngIf",s.optionTmp),e.xp6(2),e.Q6J("checked",l.isSelected)}}function H(n,o){if(1&n&&(e.ynx(0),e.YNc(1,N,6,6,"div",29),e.BQk()),2&n){const t=e.oxw().index,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t<i.scrollCount)}}function L(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,H,2,1,"ng-container",28),e.qZA()),2&n){const t=o.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!i.excludes.includes(t[i.valueField]))}}function U(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",26),e.NdJ("scrolled",function(){e.CHM(t);const l=e.oxw();return e.KtG(l.onScrollDown())}),e.YNc(1,L,2,1,"div",27),e.qZA()}if(2&n){const t=e.oxw();e.Udp("max-height",t.maxHeight,"px"),e.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0),e.xp6(1),e.Q6J("ngForOf",t.displayData)}}const B=[[["","cfLabel",""]],[["","cfHint",""]]],W=["[cfLabel]","[cfHint]"];let Q=(()=>{class n{constructor(t,i,l,s,d){this._viewportRuler=i,this._changeDetectorRef=l,this.overlay=s,this.scrollStrategyOptions=d,this.size="medium",this.placeholder="",this.textField="text",this.valueField="value",this.data=[],this.excludes=[],this.allowSearch=!0,this.allowClear=!1,this.allowCustomText=!1,this.isOpen=!1,this.disabled=!1,this.selectedChange=new e.vpe,this.valueChange=new e.vpe,this.status="default",this.showHint=!0,this.maxHeight=352,this.inputText="",this.displayData=[],this.isDirty=!1,this.searchText="",this.overlayWidth=0,this._destroy=new g.x,this.SCROLL_DEFAULT=10,this.OFSET_INCREASE=10,this.scrollCount=this.SCROLL_DEFAULT,this.listSelected=[],this.scrollStrategy=this.overlay.scrollStrategies.reposition(),this.activedIndex=-1,this.onChange=v=>{},this.touched=!1,this.isAddTouch=!1,this.onTouched=()=>{},t.registerIcons([u._7G,u.UNF])}ngOnChanges(t){this.initDataSource()}ngOnInit(){this._viewportRuler.change().pipe((0,_.R)(this._destroy)).subscribe(()=>{this.isOpen&&(this.overlayWidth=this.trigger.nativeElement.getBoundingClientRect().width,this._changeDetectorRef.markForCheck())})}initDataSource(){this.listSelected.map(i=>i[this.valueField]),this.displayData=this.data.map(i=>({...i,isSelected:!1}))}onKeyDown(t){switch(t.code){case"ArrowUp":if(0===this.displayData.length)break;const s=this.displayData.findIndex(p=>p[this.valueField]===this.activatedValue[this.valueField]),v=s>0?s-1:this.displayData.length-1;0===s&&(this.scrollCount=Math.max(0,this.scrollCount-1)),this.activedIndex=v,this.activatedValue=this.displayData[v],t.preventDefault();break;case"ArrowDown":if(this.activatedValue){const C=(this.displayData.findIndex(G=>G[this.valueField]===this.activatedValue[this.valueField])+1)%this.displayData.length;this.activatedValue=this.displayData[C],this.activedIndex=C,C+1>=this.scrollCount&&this.scrollCount++}else this.activedIndex=0,this.activatedValue=this.displayData[0];t.preventDefault();break;case"Enter":var i,l;this.activatedValue&&(this.filterSearch(""),this.updateItemSelected(this.activatedValue),this.onChange(this.listSelected.map(p=>p[this.valueField])),this.isDirty=!0,null===(i=this.cdkConnectedOverlay)||void 0===i||null===(l=i.overlayRef)||void 0===l||l.updatePosition(),this._changeDetectorRef.markForCheck(),t.preventDefault())}}checkItemActive(t){this.displayData.forEach(i=>{i.isSelected=!(!t||t[this.valueField]!==i[this.valueField])})}onFocus(){this.allowSearch?this.select.nativeElement.focus():this.nonSearch.nativeElement.focus(),this.overlayWidth=this.trigger.nativeElement.getBoundingClientRect().width,this.isOpen=!0,this._changeDetectorRef.markForCheck()}selectBlur(){this.activedIndex=-1,this.isOpen=!1,this.markAsTouched()}searchChange(t){this.filterSearch(t.target.value)}filterSearch(t){this.searchText=t,""==t?this.displayData=this.data.map(i=>i):(this.displayData=this.data.filter(this.customSearch?i=>this.customSearch(i,t):i=>i[this.textField].toLowerCase().includes(t.toLowerCase())),this.allowCustomText&&this.displayData.push(this.createObjectFromString(t)))}createObjectFromString(t){return JSON.parse(`{"${this.textField}":"${t}","${this.valueField}":"${t}"}`)}onDeleteItem(t){this.listSelected.map(l=>l[this.valueField]).includes(t[this.valueField])&&(this.listSelected=this.listSelected.filter(l=>l[this.valueField]!==t[this.valueField])),this.displayData.forEach(l=>{l.isSelected=!!this.listSelected.map(d=>d[this.valueField]).includes(l[this.valueField])}),this.onChange(this.listSelected.map(l=>l[this.valueField]))}updateItemSelected(t){this.activedIndex=-1;const i={};for(const s of this.listSelected)i[s[this.valueField]]=s;i[t[this.valueField]]?delete i[t[this.valueField]]:i[t[this.valueField]]={[this.valueField]:t[this.valueField],[this.textField]:t[this.textField]},this.listSelected=Object.values(i),this.displayData.forEach(s=>{s.isSelected=void 0!==i[s[this.valueField]]});const l=this.listSelected.map(s=>s[this.valueField]);this.isDirty=!0,this._changeDetectorRef.markForCheck(),this.onChange(l),this.valueChange.emit(t),this.selectedChange.emit(l)}itemSelected(t,i){var l,s;this.filterSearch(""),this.inputText="",this.placeholder="",this.updateItemSelected(i),null===(l=this.cdkConnectedOverlay)||void 0===l||null===(s=l.overlayRef)||void 0===s||s.updatePosition(),this._changeDetectorRef.markForCheck(),this.isDirty=!0,t.preventDefault()}onClear(t){var i,l;this.listSelected=[],this.initDataSource(),null===(i=this.cdkConnectedOverlay)||void 0===i||null===(l=i.overlayRef)||void 0===l||l.updatePosition(),this._changeDetectorRef.markForCheck(),this.isDirty=!0,this.isOpen=!1,this.onChange(null),this.selectedChange.emit(null),t.preventDefault()}writeValue(t){if(Array.isArray(t)&&t.every(i=>"string"==typeof i)){const i=new Set(t),l=this.displayData.filter(s=>i.has(s[this.valueField]));this.listSelected=[...this.listSelected,...l],this.displayData.forEach(s=>{s.isSelected=i.has(s[this.valueField])}),this.isDirty=!0,this._changeDetectorRef.markForCheck()}else this.listSelected=[],this.initDataSource(),this.isDirty=!1,this._changeDetectorRef.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t,this.isAddTouch=!0}setDisabledState(t){}markAsTouched(){!this.touched&&this.isAddTouch&&(this.onTouched(),this.touched=!0)}onScrollDown(){this.scrollCount+=this.OFSET_INCREASE}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.KNP),e.Y36(m.rL),e.Y36(e.sBO),e.Y36(r.aV),e.Y36(r.uw))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cf-multi-select"]],viewQuery:function(t,i){if(1&t&&(e.Gf(r.pI,7),e.Gf(D,5),e.Gf(T,5),e.Gf(O,5)),2&t){let l;e.iGM(l=e.CRH())&&(i.cdkConnectedOverlay=l.first),e.iGM(l=e.CRH())&&(i.trigger=l.first),e.iGM(l=e.CRH())&&(i.select=l.first),e.iGM(l=e.CRH())&&(i.nonSearch=l.first)}},hostAttrs:[1,"max-w-[320px]","block"],inputs:{size:"size",placeholder:"placeholder",textField:"textField",optionTmp:"optionTmp",valueField:"valueField",data:"data",excludes:"excludes",allowSearch:"allowSearch",allowClear:"allowClear",allowCustomText:"allowCustomText",isOpen:"isOpen",disabled:"disabled",customSearch:"customSearch",status:"status",showHint:"showHint",maxHeight:"maxHeight"},outputs:{selectedChange:"selectedChange",valueChange:"valueChange"},exportAs:["cfMultiSelect"],standalone:!0,features:[e._Bn([{provide:S.JU,multi:!0,useExisting:n}]),e.TTD,e.jDz],ngContentSelectors:W,decls:18,vars:34,consts:[[1,"w-full","items-center"],[1,"text-espressive-md","text-neutral-gray-5","mb-1.5","empty:!m-0"],[1,"flex","border","border-neutral-gray-2","rounded"],["componentContainer",""],["cdkOverlayOrigin","",1,"flex","justify-between","flex-1","items-center","gap-x-2","pl-2","py-2","pr-3","rounded","focus-within:border-neutral-gray-5","focus-within:ring-4","focus:border-neutral-gray-5","focus:ring-4","ring-neutral-gray-1","bg-neutral-white",3,"keydown"],["trigger","","originOverlay","cdkOverlayOrigin"],["tabindex","0",1,"w-full","flex","items-center","flex-wrap","focus:outline-none",3,"blur"],["class","flex-1 flex flex-wrap gap-1 min-h-[24px] cursor-pointer",3,"click",4,"ngIf"],["class","min-h-[24px] flex-1 inline-flex gap-1 flex-wrap cursor-pointer focus:outline-none",3,"click",4,"ngIf"],[1,"pl-2"],["class","cursor-pointer","icon","close",3,"click",4,"ngIf","ngIfElse"],["elseIconTemp",""],[1,"text-body-sm","mt-1.5","empty:!m-0"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayMinWidth","cdkConnectedOverlayScrollStrategy"],[1,"flex-1","flex","flex-wrap","gap-1","min-h-[24px]","cursor-pointer",3,"click"],["class","",4,"ngFor","ngForOf"],["type","text",1,"w-full","text-body-md","outline-none","cursor-pointer","focus:!cursor-auto","placeholder-neutral-gray-4",3,"placeholder","value","blur","input"],["select",""],[1,""],[3,"color","mode","size","onClose"],[1,"min-h-[24px]","flex-1","inline-flex","gap-1","flex-wrap","cursor-pointer","focus:outline-none",3,"click"],["nonSearch",""],["class","",3,"color","mode","size","onClose",4,"ngFor","ngForOf"],[1,"",3,"color","mode","size","onClose"],["icon","close",1,"cursor-pointer",3,"click"],["icon","down",1,"cursor-pointer",3,"click"],["infinite-scroll","",1,"flex","flex-col","py-2","shadow-cf-lg","rounded-lg","w-full","max-h-[352px]","overflow-y-auto",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","fromRoot","alwaysCallback","scrolled"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","cursor-pointer flex justify-between items-center py-1.5 px-3 text-neutral-black text-body-md bg-neutral-white hover:bg-primary-1-1 hover:text-primary-1-4",3,"ngClass","mousedown",4,"ngIf"],[1,"cursor-pointer","flex","justify-between","items-center","py-1.5","px-3","text-neutral-black","text-body-md","bg-neutral-white","hover:bg-primary-1-1","hover:text-primary-1-4",3,"ngClass","mousedown"],["size","small",3,"checked"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){if(1&t&&(e.F$t(B),e.TgZ(0,"div",0)(1,"div",1),e.Hsn(2),e.qZA(),e.TgZ(3,"div",2,3)(5,"div",4,5),e.NdJ("keydown",function(s){return i.onKeyDown(s)}),e.TgZ(8,"div",6),e.NdJ("blur",function(){return i.selectBlur()}),e.YNc(9,E,4,5,"div",7),e.YNc(10,k,3,1,"div",8),e.TgZ(11,"div",9),e.YNc(12,I,1,0,"cf-icon",10),e.YNc(13,R,1,0,"ng-template",null,11,e.W1O),e.qZA()()()(),e.TgZ(15,"div",12),e.Hsn(16,1),e.qZA()(),e.YNc(17,U,2,8,"ng-template",13)),2&t){const l=e.MAs(7),s=e.MAs(14);e.xp6(3),e.ekj("!border-secondary-6-3","error"===i.status),e.xp6(2),e.ekj("!border-secondary-6-3","error"===i.status)("!focus-within:border-secondary-6-3","error"===i.status)("!ring-secondary-6-1","error"===i.status)("!border-secondary-7-3","warning"===i.status)("!focus-within:border-secondary-7-3","warning"===i.status)("!ring-secondary-7-1","warning"===i.status)("!pointer-events-none",i.disabled)("!bg-neutral-gray-1",i.disabled),e.xp6(4),e.Q6J("ngIf",i.allowSearch),e.xp6(1),e.Q6J("ngIf",!i.allowSearch),e.xp6(2),e.Q6J("ngIf",i.listSelected.length)("ngIfElse",s),e.xp6(3),e.ekj("!hidden",!i.showHint)("!m-0",!i.showHint)("text-secondary-6-5","error"===i.status)("text-secondary-7-5","warning"===i.status),e.xp6(2),e.Q6J("cdkConnectedOverlayOrigin",l)("cdkConnectedOverlayOpen",i.isOpen)("cdkConnectedOverlayMinWidth",i.overlayWidth)("cdkConnectedOverlayScrollStrategy",i.scrollStrategy)}},dependencies:[a.ez,a.mk,a.sg,a.O5,a.tP,h.f,r.pI,r.xu,u.AxE,u.Sm8,x.Rq,x.Ry,F.b,w.u],styles:["*[_ngcontent-%COMP%]{scrollbar-width:auto;scrollbar-color:#DFDFE0 #ffffff}*[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}*[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff}*[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#dfdfe0;border-radius:32px;border:0px solid #ffffff}"],changeDetection:0}),n})()}}]);