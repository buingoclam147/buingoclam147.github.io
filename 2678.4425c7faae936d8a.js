"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[2678],{42678:(x,b,a)=>{a.d(b,{zz:()=>U,Cs:()=>m,yL:()=>re,u1:()=>ve,I5:()=>C,FH:()=>ce});var t=a(80529),e=a(88001),g=a(54004),C=(()=>{return(p=C||(C={})).JOURNEY="JOURNEY",p.PASSENGER="PASSENGER",p.CONFIGURATION="CONFIGURATION",C;var p})(),o=a(97582),F=a(97380),n=a(87067),f=a(43429);class m{}(0,o.gn)([(0,n.C)()],m.prototype,"status",void 0),(0,o.gn)([(0,f.D)(()=>P),(0,n.C)()],m.prototype,"data",void 0),(0,o.gn)([(0,n.C)()],m.prototype,"objectError",void 0),(0,o.gn)([(0,n.C)()],m.prototype,"success",void 0);class P extends F.VP{}class d{}(0,o.gn)([(0,n.C)()],d.prototype,"airline",void 0),(0,o.gn)([(0,n.C)()],d.prototype,"flightType",void 0),(0,o.gn)([(0,f.D)(()=>h),(0,n.C)()],d.prototype,"journeys",void 0),(0,o.gn)([(0,f.D)(()=>D),(0,n.C)()],d.prototype,"passengers",void 0),(0,o.gn)([(0,f.D)(()=>c),(0,n.C)()],d.prototype,"priceMonitors",void 0);class c{}(0,o.gn)([(0,n.C)()],c.prototype,"airline",void 0),(0,o.gn)([(0,n.C)()],c.prototype,"airlineLogo",void 0),(0,o.gn)([(0,n.C)()],c.prototype,"targetPrice",void 0);class h{}(0,o.gn)([(0,n.C)()],h.prototype,"leg",void 0),(0,o.gn)([(0,n.C)()],h.prototype,"startPoint",void 0),(0,o.gn)([(0,n.C)()],h.prototype,"endPoint",void 0),(0,o.gn)([(0,n.C)()],h.prototype,"departTime",void 0),(0,o.gn)([(0,n.C)()],h.prototype,"arrivalTime",void 0),(0,o.gn)([(0,n.C)()],h.prototype,"duration",void 0),(0,o.gn)([(0,n.C)()],h.prototype,"segments",void 0),(0,o.gn)([(0,n.C)()],h.prototype,"rangeTime",void 0),(0,o.gn)([(0,n.C)()],h.prototype,"rangeDateTime",void 0);class E{}(0,o.gn)([(0,n.C)()],E.prototype,"fromDate",void 0),(0,o.gn)([(0,n.C)()],E.prototype,"toDate",void 0);class D{}(0,o.gn)([(0,n.C)()],D.prototype,"birthday",void 0),(0,o.gn)([(0,n.C)()],D.prototype,"firstName",void 0),(0,o.gn)([(0,n.C)()],D.prototype,"lastName",void 0),(0,o.gn)([(0,n.C)()],D.prototype,"type",void 0),(0,o.gn)([(0,n.C)()],D.prototype,"key",void 0),(0,o.gn)([(0,n.C)()],D.prototype,"parentKey",void 0),(0,o.gn)([(0,n.C)()],D.prototype,"namePrefix",void 0),(0,o.gn)([(0,n.C)()],D.prototype,"gender",void 0),(0,o.gn)([(0,n.C)()],D.prototype,"index",void 0),(0,o.gn)([(0,n.C)()],D.prototype,"parentIndex",void 0);class r{}(0,o.gn)([(0,n.C)()],r.prototype,"timeCreate",void 0),(0,o.gn)([(0,n.C)()],r.prototype,"timeExpire",void 0),(0,o.gn)([(0,n.C)()],r.prototype,"timeUpdate",void 0),(0,o.gn)([(0,n.C)()],r.prototype,"timeFinished",void 0),(0,o.gn)([(0,f.D)(()=>I),(0,n.C)()],r.prototype,"fareMonitors",void 0),(0,o.gn)([(0,n.C)()],r.prototype,"notifyBeforeExpired",void 0),(0,o.gn)([(0,n.C)()],r.prototype,"targetPrice",void 0);class I{}(0,o.gn)([(0,n.C)()],I.prototype,"onlyCareLowerFare",void 0),(0,o.gn)([(0,n.C)()],I.prototype,"expectLowerFareClass",void 0),(0,o.gn)([(0,n.C)()],I.prototype,"specifyFareClass",void 0),(0,o.gn)([(0,n.C)()],I.prototype,"currentFareClass",void 0),(0,o.gn)([(0,n.C)()],I.prototype,"specifyFareClassInfo",void 0);class V{}(0,o.gn)([(0,n.C)()],V.prototype,"airline",void 0),(0,o.gn)([(0,n.C)()],V.prototype,"originalPnr",void 0),(0,o.gn)([(0,n.C)()],V.prototype,"detectedPnr",void 0),(0,o.gn)([(0,n.C)()],V.prototype,"originalFare",void 0),(0,o.gn)([(0,n.C)()],V.prototype,"detectedFare",void 0),(0,o.gn)([(0,n.C)()],V.prototype,"originalFareClass",void 0),(0,o.gn)([(0,n.C)()],V.prototype,"detectedFareClass",void 0),(0,o.gn)([(0,n.C)()],V.prototype,"higherFare",void 0),(0,o.gn)([(0,n.C)()],V.prototype,"lastTimeUpdate",void 0);class U{}(0,o.gn)([(0,n.C)()],U.prototype,"status",void 0),(0,o.gn)([(0,f.D)(()=>_),(0,n.C)()],U.prototype,"data",void 0),(0,o.gn)([(0,n.C)()],U.prototype,"objectError",void 0),(0,o.gn)([(0,n.C)()],U.prototype,"success",void 0);class _{}(0,o.gn)([(0,n.C)()],_.prototype,"orderId",void 0),(0,o.gn)([(0,n.C)()],_.prototype,"canUpdate",void 0),(0,o.gn)([(0,n.C)()],_.prototype,"code",void 0),(0,o.gn)([(0,n.C)()],_.prototype,"huntFareConditions",void 0),(0,o.gn)([(0,n.C)()],_.prototype,"conditions",void 0),(0,o.gn)([(0,n.C)()],_.prototype,"advanceSetting",void 0),(0,o.gn)([(0,n.C)()],_.prototype,"ticketInfo",void 0),(0,o.gn)([(0,f.D)(()=>F.v_),(0,n.C)()],_.prototype,"availableSlotInfo",void 0),(0,o.gn)([(0,n.C)()],_.prototype,"distributionChannel",void 0);var Z=a(50494),k=a(94650);const H={headers:new t.WM({"Content-Type":"application/json"})};let re=(()=>{class p{constructor(i,v){this.http=i,this.appConfig=v}getLstAirlineFareoptions(){return this.http.post(this.appConfig.apiUrlTPS+"ticket-low-fare/get-list-airline-fare-class",JSON.stringify({airline:"vn,qh,vj"}),H)}registerHuntBooking(i){return this.http.post(this.appConfig.apiUrlTPS+"hunt_for_ticket/register-order",JSON.stringify(i),H)}getPnrOrderDetail(i){return this.http.get(this.appConfig.apiUrlTPS+"hunt_for_ticket/pnr-order_detail/"+i,H).pipe((0,g.U)(v=>(0,Z.yE)(m,v,{excludeExtraneousValues:!0})))}getCurrentConfigOrder(i){return this.http.post(this.appConfig.apiUrlTPS+"hunt_for_ticket/current-config-order",JSON.stringify({orderId:i}),H).pipe((0,g.U)(v=>(0,Z.yE)(U,v,{excludeExtraneousValues:!0})))}updateConfigOrder(i){return this.http.post(this.appConfig.apiUrlTPS+"hunt_for_ticket/update_order_config",JSON.stringify(i),H).pipe((0,g.U)(v=>(0,Z.yE)(m,v,{excludeExtraneousValues:!0})))}}return p.\u0275fac=function(i){return new(i||p)(k.LFG(t.eN),k.LFG(e.qB))},p.\u0275prov=k.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var l=a(24006),j=a(57085),oe=a(35650),w=a(43201),S=a(15439),de=a(77579);const ne=p=>{const R=p.get("targetVNPrice"),i=p.get("targetVJPrice"),v=p.get("targetQHPrice"),y=p.get("fareOptions"),T=p.get("enableTimeStart"),O=p.get("enableFareOption"),B=p.get("enablePriceOption"),N=p.get("startTimeRange");let A={};return null!=T&&T.value&&(null!=N&&N.value&&(null==N?void 0:N.value.length)>0||(A.invalidTimeRanges=!0)),null!=O&&O.value&&(null!=y&&y.value&&(null==y?void 0:y.value.length)>0||(A.invalidFares=!0)),null!=B&&B.value&&(null!=R&&R.value||null!=i&&i.value||null!=v&&v.value?((null==R?void 0:R.value)<0||(null==i?void 0:i.value)<0||(null==v?void 0:v.value)<0)&&(A.negativePrice=!0):A.invalidPrice=!0),!T&&!B&&(A.invalidPriceFareOption=!0),Object.values(A),Object.values(A).length>0?A:null};var ie=a(82761),pe=a(40899),ge=a(9497);let ce=(()=>{class p{constructor(i,v,y,T,O,B){this.route=i,this._route=v,this.fb=y,this._permissionService=T,this._systemService=O,this._bookingHunterService=B,this.optionsAdultPassenger=[],this.numberOfPassenger={adult:1,child:0,infant:0},this.phoneAreaDefault=e.$T,this.hasVJAirline=!1,this.showPriceOption=!1,this.showTimeStartOption=!1,this.showFareOption=!0,this.numberOfPassengerChange$=new de.x,this.isBooker=!this._permissionService.isVNAccount(),this.optionDepartureTime=[{name:"S\xe1ng s\u1edbm",code:"early_morning",start:"00:00",end:"05:59",isActive:!1,disable:!1,startTime:0,endTime:360,totalAvailable:0},{name:"Bu\u1ed5i s\xe1ng",code:"morning",start:"06:00",end:"11:59",isActive:!1,disable:!1,startTime:360,endTime:720,totalAvailable:0},{name:"Bu\u1ed5i chi\u1ec1u",code:"afternoon",start:"12:00",end:"17:59",isActive:!1,disable:!1,startTime:720,endTime:1080,totalAvailable:0},{name:"Bu\u1ed5i t\u1ed1i",code:"evening",start:"18:00",end:"23:59",isActive:!1,disable:!1,startTime:1080,endTime:1439,totalAvailable:0},{name:"T\xf9y ch\u1ecdn",code:"custom",start:"00:00",end:"23:59",isActive:!1,disable:!1,startTime:0,endTime:1439,totalAvailable:0}],this.customRangeItem={rangeValues:[0,1439],startTimeStr:"00:00",endTimeStr:"23:59"},this.checkPhoneRequired=this._systemService.isFeatureEnabled(e.Ke.Web_Features_RulePhoneNumber_RulePhoneNumberVJ_Enable),this.CF_IDENTIFY_TYPE=e.FV,this.departureTime=S().toDate().getTime(),this.earliestDoBChild=(0,w.Z)(this.departureTime,-2),this.earliestDoBChild=(0,oe.Z)(this.earliestDoBChild,-1),this.earliestDoBInfant=S().toDate(),this.lastestDoBChild=(0,w.Z)(this.departureTime,-11),this.lastestDoBInfant=(0,w.Z)(this.departureTime,-2),this.lastestDoBInfant=(0,oe.Z)(this.lastestDoBInfant,1)}initForm(){this.resetDataService(),this.initJourneyForm(),this.initConfigurationForm(),this.initPassengerForm()}preloadForm(i){var v,y,T,O,B,N,A,Y,q,K,W,$,Q,z,X,ee;const M=i.ticketInfo.journeys[0],J="PRICE"===i.huntFareConditions.type;this.showPriceOption=J,this.showFareOption=!J;const me=(null===(y=null===(v=i.huntFareConditions.specifyPriceList)||void 0===v?void 0:v.find(s=>"VN"===s.airline.toUpperCase()))||void 0===y?void 0:y.targetPrice)||0,he=(null===(O=null===(T=i.huntFareConditions.specifyPriceList)||void 0===T?void 0:T.find(s=>"QH"===s.airline.toUpperCase()))||void 0===O?void 0:O.targetPrice)||0,Ce=(null===(N=null===(B=i.huntFareConditions.specifyPriceList)||void 0===B?void 0:B.find(s=>"VJ"===s.airline.toUpperCase()))||void 0===N?void 0:N.targetPrice)||0;let ae=!0;if(M.rangeTime.forEach(s=>{this.optionDepartureTime.forEach(u=>{u.start===s.fromDate&&u.end===s.toDate&&(u.isActive=!0,ae=!1)})}),ae&&M.rangeTime[0]){const s=M.rangeTime[0],u=this.convertTimeRangeStrToMin(s.fromDate),ue=this.convertTimeRangeStrToMin(s.toDate);this.customRangeItem={rangeValues:[u,ue],startTimeStr:s.fromDate,endTimeStr:s.toDate},this.optionDepartureTime[4].isActive=!0,this.optionDepartureTime[4].start=s.fromDate,this.optionDepartureTime[4].end=s.toDate,this.optionDepartureTime[4].startTime=u,this.optionDepartureTime[4].endTime=ue}const te=this.optionDepartureTime.filter(s=>s.isActive),se=te&&te.length>0;this.showTimeStartOption=se;const fe=(null!==(A=S(M.departTime))&&void 0!==A&&A.isBefore(S())?null:S(M.departTime).toDate())||null;this.journeyFormGroup=this.fb.group({startPoint:[M.startPoint,[l.kI.required]],endPoint:[M.endPoint,[l.kI.required]],departDate:[fe,[l.kI.required]],startTimeRange:[te],enablePriceOption:[J],targetVNPrice:[me],targetVJPrice:[he],targetQHPrice:[Ce],enableFareOption:[!J],enableTimeStart:[se],fareOptions:[i.huntFareConditions.specifyFareClassList]},{validators:ne});const le=S(i.advanceSetting.timeExecute).isAfter(S().toDate()),L=le?S(i.advanceSetting.timeExecute).toDate():null,ye=le&&L?`${null==L?void 0:L.getHours().toString().padStart(2,"0")}:${null==L?void 0:L.getMinutes().toString().padStart(2,"0")}`:null;this.configurationFormGroup=this.fb.group({dateExpires:[L,[l.kI.required]],timeExpires:[ye,[l.kI.required]],sendNotify:[i.advanceSetting.notifBeforExpire,[l.kI.required]],agentDisplayName:[null],agentAvatar:[null],agentName:[null],agentPhone:[null,[l.kI.required,l.kI.minLength(7),l.kI.maxLength(11)]],agentPhoneArea:[this.phoneAreaDefault,l.kI.required],agentEmail:[null],agentId:[null,[l.kI.required]]}),this.numberOfPassenger={adult:(null===(q=null===(Y=i.ticketInfo.passengers)||void 0===Y?void 0:Y.filter(s=>{var u;return"ADT"===(null===(u=s.type)||void 0===u?void 0:u.toUpperCase())}))||void 0===q?void 0:q.length)||0,child:(null===(W=null===(K=i.ticketInfo.passengers)||void 0===K?void 0:K.filter(s=>{var u;return"CHD"===(null===(u=s.type)||void 0===u?void 0:u.toUpperCase())}))||void 0===W?void 0:W.length)||0,infant:(null===(Q=null===($=i.ticketInfo.passengers)||void 0===$?void 0:$.filter(s=>{var u;return"INF"===(null===(u=s.type)||void 0===u?void 0:u.toUpperCase())}))||void 0===Q?void 0:Q.length)||0},this.passengerFormGroup=this.fb.group({adultPassenger:this.fb.array([]),childPassenger:this.fb.array([]),infantPassenger:this.fb.array([])},{validator:(0,j.aV)()});const Pe=(null===(z=i.ticketInfo.passengers)||void 0===z?void 0:z.filter(s=>{var u;return"ADT"===(null===(u=s.type)||void 0===u?void 0:u.toUpperCase())}).map(s=>{var u;return{firstName:s.firstName,lastName:s.lastName,gender:(null===(u=s.gender)||void 0===u?void 0:u.toLowerCase())||"male"}}))||[],De=(null===(X=i.ticketInfo.passengers)||void 0===X?void 0:X.filter(s=>{var u;return"CHD"===(null===(u=s.type)||void 0===u?void 0:u.toUpperCase())}).map(s=>{var u;return{firstName:s.firstName,lastName:s.lastName,gender:(null===(u=s.gender)||void 0===u?void 0:u.toLowerCase())||"male",birthday:S(s.birthday).toDate()}}))||[],be=(null===(ee=i.ticketInfo.passengers)||void 0===ee?void 0:ee.filter(s=>{var u;return"INF"===(null===(u=s.type)||void 0===u?void 0:u.toUpperCase())}).map(s=>{var u;return{firstName:s.firstName,lastName:s.lastName,gender:(null===(u=s.gender)||void 0===u?void 0:u.toLowerCase())||"male",birthday:S(s.birthday).toDate(),parentIndex:s.parentIndex+""}}))||[];this.initPassengerForm(),this.initAdultFormGroup(),this.initChildFormGroup(),this.initInfantFormGroup(),this.passengerFormGroup.patchValue({adultPassenger:Pe,childPassenger:De,infantPassenger:be}),this.preInitialFormOrderId=void 0}reloadPassengerForm(){const i=this.passengerFormGroup.value;this.initPassengerForm(),this.initAdultFormGroup(),this.initChildFormGroup(),this.initInfantFormGroup(),this.passengerFormGroup.patchValue(Object.assign({},i))}initJourneyForm(){this.journeyFormGroup=this.fb.group({startPoint:["",[l.kI.required]],endPoint:["",[l.kI.required]],departDate:[null,[l.kI.required]],startTimeRange:[null],enablePriceOption:[!1],targetVNPrice:[0],targetVJPrice:[0],targetQHPrice:[0],enableFareOption:[!0],enableTimeStart:[!1],fareOptions:[null]},{validators:ne})}initConfigurationForm(){this.configurationFormGroup=this.fb.group({dateExpires:[null,[l.kI.required]],timeExpires:[null,[l.kI.required]],sendNotify:[!1,[l.kI.required]],agentDisplayName:[null],agentAvatar:[null],agentName:[null],agentPhone:[null,[l.kI.required,l.kI.minLength(7),l.kI.maxLength(11)]],agentPhoneArea:[this.phoneAreaDefault,l.kI.required],agentEmail:[null],agentId:[null,[l.kI.required]]})}initPassengerForm(){this.passengerFormGroup=this.fb.group({secretRemark:[null],publicRemark:[null],adultPassenger:this.fb.array([]),childPassenger:this.fb.array([]),infantPassenger:this.fb.array([])},{validator:(0,j.aV)()})}initAdultFormGroup(){for(let i=0;i<this.numberOfPassenger.adult;i++){const v=this.fb.group({firstName:[null,[l.kI.required]],lastName:[null,[l.kI.required]],gender:["male",[l.kI.required]],birthday:[null],membershipQH:[null],membershipVN:[null],issuanceDate:[null],expiryDate:[null],issuanceCountry:[null],nationality:[null],number:[null],cccdNumber:[null],documentType:[e.FV.CCCD],type:"ADT"},{validator:(0,j.fJ)("birthday",this.departureTime)});this.getFormArray("adultPassenger").push(v)}}initChildFormGroup(){for(let i=0;i<this.numberOfPassenger.child;i++){const v=this.fb.group({birthday:[null,[l.kI.required]],firstName:[null,[l.kI.required]],lastName:[null,[l.kI.required]],gender:["male",[l.kI.required]],membershipQH:[null],membershipVN:[null],issuanceDate:[null],expiryDate:[null],issuanceCountry:[null],nationality:[null],number:[null],cccdNumber:[null],documentType:[e.FV.CCCD],type:"CHD"},{validator:(0,j.$K)("birthday",this.departureTime)});this.getFormArray("childPassenger").push(v)}}initInfantFormGroup(){for(let i=0;i<this.numberOfPassenger.infant;i++){const v=this.fb.group({birthday:[null,[l.kI.required]],firstName:[null,[l.kI.required]],lastName:[null,[l.kI.required]],gender:["male",[l.kI.required]],parentIndex:[i+"",[l.kI.required]],membershipQH:[null],membershipVN:[null],issuanceDate:[null],expiryDate:[null],issuanceCountry:[null],nationality:[null],number:[null],cccdNumber:[null],documentType:[e.FV.CCCD],type:"INF"},{validator:(0,j.DW)("birthday",this.departureTime)});this.getFormArray("infantPassenger").push(v)}}getNumberOfPassenger(){this.initAdultPassengerOptions()}getFormArray(i){return this.passengerFormGroup.controls[i]}getFormControlInArray(i,v){return i.controls[v]}initAdultPassengerOptions(){for(let i=0;i<this.numberOfPassenger.adult;i++)this.optionsAdultPassenger.push({code:i+"",name:`Ng\u01b0\u1eddi l\u1edbn ${i+1}`})}changeNumberOfPassenger(i){this.numberOfPassenger=i,this.numberOfPassengerChange$.next(i)}numOfPax(){return this.numberOfPassenger}formJourneyData(){return this.journeyFormGroup.value}formPassengerData(){return this.passengerFormGroup.value}formConfigurationData(){return this.configurationFormGroup.value}resetDataService(){this.customRangeItem={rangeValues:[0,1439],startTimeStr:"00:00",endTimeStr:"23:59"},this.showPriceOption=!1,this.showTimeStartOption=!1,this.showFareOption=!0,this.selectedFaresTree=[],this.optionDepartureTime=[{name:"S\xe1ng s\u1edbm",code:"early_morning",start:"00:00",end:"05:59",isActive:!1,disable:!1,startTime:0,endTime:360,totalAvailable:0},{name:"Bu\u1ed5i s\xe1ng",code:"morning",start:"06:00",end:"11:59",isActive:!1,disable:!1,startTime:360,endTime:720,totalAvailable:0},{name:"Bu\u1ed5i chi\u1ec1u",code:"afternoon",start:"12:00",end:"17:59",isActive:!1,disable:!1,startTime:720,endTime:1080,totalAvailable:0},{name:"Bu\u1ed5i t\u1ed1i",code:"evening",start:"18:00",end:"23:59",isActive:!1,disable:!1,startTime:1080,endTime:1439,totalAvailable:0},{name:"T\xf9y ch\u1ecdn",code:"custom",start:"00:00",end:"23:59",isActive:!1,disable:!1,startTime:0,endTime:1439,totalAvailable:0}]}isAgent2Show(){const i=this._permissionService.getCurrentAuthor();return"AGENT2"===(null==i?void 0:i.titleCode.toUpperCase())}getSourceEvent(){switch(this.sourceEvent){case"SEARCH_INPUT":return 0;case"SEARCH_RESULT":return 1;case"HEADER_MANAGE":return 2;case"EMPTY_STATE":return 3;case"REGENERATE":return 4;default:return-1}}convertTimeRangeStrToMin(i){return S.duration(i).asMinutes()}minuteToString(i){const v=Math.floor(i/60),y=i%60;let T=`${v}`,O=`${y}`;return v<10&&(T=`0${v}`),y<10&&(O=`0${y}`),`${T}:${O}`}checkVJAirline(){var i;const v=null===(i=this.selectedFaresTree)||void 0===i?void 0:i.filter(y=>y.isActive).map(y=>y.code.toUpperCase());if(this.journeyFormGroup.value.enableFareOption&&v.includes("VJ")){if(this.hasVJAirline=!0,!this.checkPhoneRequired){const y=this._permissionService.getCurrentUser();this.configurationFormGroup.controls.agentPhone.setValue(y.phone)}this.configurationFormGroup.controls.agentPhone.setValidators([l.kI.required,l.kI.minLength(7),l.kI.maxLength(11)]),this.configurationFormGroup.controls.agentPhoneArea.setValidators([l.kI.required])}else if(this.journeyFormGroup.value.enablePriceOption&&this.journeyFormGroup.value.targetVJPrice){if(this.hasVJAirline=!0,!this.checkPhoneRequired){const y=this._permissionService.getCurrentUser();this.configurationFormGroup.controls.agentPhone.setValue(y.phone)}this.configurationFormGroup.controls.agentPhone.setValidators([l.kI.required,l.kI.minLength(7),l.kI.maxLength(11)]),this.configurationFormGroup.controls.agentPhoneArea.setValidators([l.kI.required])}else this.hasVJAirline=!1,this.configurationFormGroup.controls.agentPhone.setValidators(null),this.configurationFormGroup.controls.agentPhoneArea.setValidators(null)}}return p.\u0275fac=function(i){return new(i||p)(k.LFG(ie.gz),k.LFG(ie.F0),k.LFG(l.qu),k.LFG(pe.$A),k.LFG(ge.o),k.LFG(re))},p.\u0275prov=k.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var G=a(53820);const ve={[G.b.CREATE]:{name:"\u0110ang s\u0103n v\xe9",description:"S\u0103n v\xe9 t\u1ef1 \u0111\u1ed9ng \u0111ang ho\u1ea1t \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[G.b.IN_PROCESS]:{name:"\u0110ang canh v\xe9",description:"Canh v\xe9 r\u1ebb t\u1ef1 \u0111\u1ed9ng \u0111ang ho\u1ea1t \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[G.b.COMPLETED]:{name:"\u0110\xe3 s\u0103n th\xe0nh c\xf4ng",description:"\u0110\xe3 s\u0103n \u0111\u01b0\u1ee3c v\xe9",icon:"check",backgroundColor:"bg-[#07A35D]",textColor:"text-neutral-white"},[G.b.IN_PROCESS_PRICE_UP]:{name:"\u0110ang s\u0103n gi\xe1 t\u0103ng",description:"Gi\xe1 v\xe9 \u0111\xe3 t\u0103ng, vui l\xf2ng c\xe2n nh\u1eafc xu\u1ea5t v\xe9",icon:"arrow_right_up",backgroundColor:"bg-[#ffd1bc]",textColor:"text-primary-1-4"},[G.b.CANCEL]:{name:"\u0110\xe3 h\u1ee7y",description:"\u0110\xe3 h\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9",icon:"coupon_slash",backgroundColor:"bg-[#999999]",textColor:"text-neutral-white"},[G.b.EXPIRED]:{name:"\u0110\xe3 h\u1ebft s\u0103n",description:"H\u1ebft h\u1ea1n s\u0103n v\xe9",icon:"clock",backgroundColor:"bg-[#CCCCCC]",textColor:"text-neutral-gray-6"}}},57085:(x,b,a)=>{a.d(b,{bz:()=>t,fJ:()=>o,$K:()=>g,DW:()=>C,Ab:()=>F,i4:()=>f,aV:()=>n});const t=(m,P)=>m.get(P);var e=a(15439);const g=(m,P)=>d=>{const c=d.controls[m];if(!c.value)return;const h=e(P).startOf("day").add(0,"hours").toDate().getTime(),E=e(c.value).toDate();E.setFullYear(E.getFullYear()+2);const D=E.getTime(),r=e(c.value).toDate();r.setFullYear(r.getFullYear()+12);const I=r.getTime();h<=I&&h>D?c.setErrors(null):h<=I?c.setErrors({DoBChildUnder:!0}):h>D&&c.setErrors({DoBChildUpper:!0})},C=(m,P)=>d=>{const c=d.controls[m];if(!c.value)return;const h=e(P).startOf("day").add(0,"hours").toDate().getTime(),E=e(c.value).toDate().getTime(),D=e(c.value).toDate();D.setFullYear(D.getFullYear()+2);const r=D.getTime();c.setErrors(h<=r&&h>E?null:{DoBInfant:!0})},o=(m,P)=>d=>{const c=d.controls[m];if(!c.value)return;const h=e(P).startOf("day").add(0,"hours").toDate().getTime(),E=e(c.value).toDate().getTime();c.setErrors(h-E>=378683424e3?null:{DoBAdult:!0})},F=m=>P=>{const d=P.controls[m];d.value&&d.setErrors(""!=d.value?null:{required:!0})},n=()=>m=>{let P=[];for(let d=0;d<m.controls.infantPassenger.controls.length;d++){const c=m.controls.infantPassenger.at(d).controls.parentIndex.value;P.push({index:d,parentIndex:c})}for(let d=0;d<m.controls.infantPassenger.controls.length;d++){const c=m.controls.infantPassenger.at(d).controls.parentIndex.value;P.filter(E=>E.parentIndex===c).length>1?m.controls.infantPassenger.at(d).controls.parentIndex.setErrors({ParentInfantDupplicate:!0}):m.controls.infantPassenger.at(d).controls.parentIndex.setErrors(null)}},f=(m,P)=>d=>{const c=d.controls[m],h=d.controls[P];if(!c.value||!h.value)return;const E=e(c.value).startOf("day").add(0,"hours").toDate().getTime();e(h.value).startOf("day").add(0,"hours").toDate().getTime()<=E?c.setErrors({issuanceDateInvalid:!0}):c.setErrors(null)}},49195:(x,b,a)=>{a.d(b,{t:()=>e});var t=a(53820);const e={[t.b.CREATE]:{name:"\u0110ang canh v\xe9",description:"Canh v\xe9 r\u1ebb \u0111ang ho\u1ea1t \u0111\u1ed9ng t\u1ef1 \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[t.b.IN_PROCESS]:{name:"\u0110ang canh v\xe9",description:"Canh v\xe9 r\u1ebb \u0111ang ho\u1ea1t \u0111\u1ed9ng t\u1ef1 \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[t.b.COMPLETED]:{name:"\u0110\xe3 canh th\xe0nh c\xf4ng",description:"\u0110\xe3 canh \u0111\u01b0\u1ee3c gi\xe1 v\xe9 r\u1ebb",icon:"check",backgroundColor:"bg-[#07A35D]",textColor:"text-neutral-white"},[t.b.IN_PROCESS_PRICE_UP]:{name:"\u0110ang canh gi\xe1 t\u0103ng",description:"Gi\xe1 v\xe9 \u0111\xe3 t\u0103ng, vui l\xf2ng c\xe2n nh\u1eafc xu\u1ea5t v\xe9",icon:"arrow_right_up",backgroundColor:"bg-[#ffd1bc]",textColor:"text-primary-1-4"},[t.b.CANCEL]:{name:"\u0110\xe3 h\u1ee7y",description:"\u0110\xe3 h\u1ee7y y\xeau c\u1ea7u canh v\xe9",icon:"delete",backgroundColor:"bg-[#999999]",textColor:"text-neutral-white"},[t.b.EXPIRED]:{name:"\u0110\xe3 h\u1ebft h\u1ea1n",description:"H\u1ebft h\u1ea1n canh v\xe9",icon:"clock",backgroundColor:"bg-[#CCCCCC]",textColor:"text-neutral-gray-6"}}},53820:(x,b,a)=>{a.d(b,{b:()=>t});var t=(()=>{return(e=t||(t={})).CREATE="CREATE",e.IN_PROCESS="IN_PROCESS",e.IN_PROCESS_PRICE_UP="IN_PROCESS_PRICE_UP",e.COMPLETED="COMPLETED",e.EXPIRED="EXPIRED",e.CANCEL="CANCEL",t;var e})()},97380:(x,b,a)=>{a.d(b,{D5:()=>d,VP:()=>m,_r:()=>P,v_:()=>D,xj:()=>F,yI:()=>E});var t=a(97582),e=a(87067),g=a(43429),C=a(49195),o=a(53820);let F=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"status",void 0),(0,t.gn)([(0,g.D)(()=>n),(0,e.C)()],r.prototype,"data",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"objectError",void 0),r})(),n=(()=>{class r{}return(0,t.gn)([(0,g.D)(()=>m),(0,e.C)()],r.prototype,"listOrder",void 0),(0,t.gn)([(0,g.D)(()=>f),(0,e.C)()],r.prototype,"orderTaskStatus",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"pageOffset",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"pageSize",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"total",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"empty",void 0),r})(),f=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"canCreateOrder",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"completeTask",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"inProcessTask",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"maxTask",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"numMaxFree",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"numOrderFree",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"ownerId",void 0),r})(),m=(()=>{class r{get stateDisplay(){switch(this.state){case o.b.CREATE:return C.t[o.b.CREATE].name;case o.b.IN_PROCESS:return C.t[o.b.IN_PROCESS].name;case o.b.COMPLETED:return C.t[o.b.COMPLETED].name;case o.b.CANCEL:return C.t[o.b.CANCEL].name;case o.b.EXPIRED:return C.t[o.b.EXPIRED].name;case o.b.IN_PROCESS_PRICE_UP:return C.t[o.b.IN_PROCESS_PRICE_UP].name;default:return""}}}return(0,t.gn)([(0,e.C)()],r.prototype,"orderId",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"canUpdate",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"code",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"state",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"monitorType",void 0),(0,t.gn)([(0,g.D)(()=>P),(0,e.C)()],r.prototype,"ticketInfo",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"distributionChannel",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"orderInfo",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"fareInfo",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"ownerInfo",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"userActionInfo",void 0),(0,t.gn)([(0,g.D)(()=>D),(0,e.C)()],r.prototype,"availableSlotInfo",void 0),r})(),P=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"leg",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"airline",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"flightType",void 0),(0,t.gn)([(0,g.D)(()=>d),(0,e.C)()],r.prototype,"journeys",void 0),(0,t.gn)([(0,g.D)(()=>E),(0,e.C)()],r.prototype,"passengers",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"totalFare",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"originalPrice",void 0),r})(),d=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"leg",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"startPoint",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"endPoint",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"departTime",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"arrivalTime",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"duration",void 0),(0,t.gn)([(0,g.D)(()=>h),(0,e.C)()],r.prototype,"segments",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"rangeTime",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"rangeDateTime",void 0),r})(),h=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"startPoint",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"endPoint",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"flightNumber",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"fareBasic",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"fareClass",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"departTime",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"departZone",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"arriveTime",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"arriveZone",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"index",void 0),r})(),E=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"birthday",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"firstName",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"lastName",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"type",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"index",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"parentIndex",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"key",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"parentKey",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"namePrefix",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"gender",void 0),r})(),D=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"amountPerPax",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"currency",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"free",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"percent",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"type",void 0),r})()},40833:(x,b,a)=>{function t(e,g){if(g.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+g.length+" present")}a.d(b,{Z:()=>t})},91998:(x,b,a)=>{function t(e){if(null===e||!0===e||!1===e)return NaN;var g=Number(e);return isNaN(g)?g:g<0?Math.ceil(g):Math.floor(g)}a.d(b,{Z:()=>t})},35650:(x,b,a)=>{a.d(b,{Z:()=>C});var t=a(91998),e=a(80953),g=a(40833);function C(o,F){(0,g.Z)(2,arguments);var n=(0,e.Z)(o),f=(0,t.Z)(F);return isNaN(f)?new Date(NaN):(f&&n.setDate(n.getDate()+f),n)}},43201:(x,b,a)=>{a.d(b,{Z:()=>o});var t=a(91998),e=a(80953),g=a(40833);function o(F,n){return(0,g.Z)(2,arguments),function C(F,n){(0,g.Z)(2,arguments);var f=(0,e.Z)(F),m=(0,t.Z)(n);if(isNaN(m))return new Date(NaN);if(!m)return f;var P=f.getDate(),d=new Date(f.getTime());return d.setMonth(f.getMonth()+m+1,0),P>=d.getDate()?d:(f.setFullYear(d.getFullYear(),d.getMonth(),P),f)}(F,12*(0,t.Z)(n))}},80953:(x,b,a)=>{a.d(b,{Z:()=>g});var t=a(86),e=a(40833);function g(C){(0,e.Z)(1,arguments);var o=Object.prototype.toString.call(C);return C instanceof Date||"object"===(0,t.Z)(C)&&"[object Date]"===o?new Date(C.getTime()):"number"==typeof C||"[object Number]"===o?new Date(C):(("string"==typeof C||"[object String]"===o)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},86:(x,b,a)=>{function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(e)}a.d(b,{Z:()=>t})}}]);