"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[2678],{42678:(N,f,a)=>{a.d(f,{yL:()=>ee,u1:()=>pe,I5:()=>v,FH:()=>ue});var t=a(80529),e=a(88001),u=a(54004),v=(()=>{return(g=v||(v={})).JOURNEY="JOURNEY",g.PASSENGER="PASSENGER",g.CONFIGURATION="CONFIGURATION",v;var g})(),i=a(97582),h=a(97380),o=a(87067),p=a(43429);class m{}(0,i.gn)([(0,o.C)()],m.prototype,"status",void 0),(0,i.gn)([(0,p.D)(()=>E),(0,o.C)()],m.prototype,"data",void 0),(0,i.gn)([(0,o.C)()],m.prototype,"objectError",void 0),(0,i.gn)([(0,o.C)()],m.prototype,"success",void 0);class E extends h.VP{}class C{}(0,i.gn)([(0,o.C)()],C.prototype,"airline",void 0),(0,i.gn)([(0,o.C)()],C.prototype,"flightType",void 0),(0,i.gn)([(0,p.D)(()=>y),(0,o.C)()],C.prototype,"journeys",void 0),(0,i.gn)([(0,p.D)(()=>I),(0,o.C)()],C.prototype,"passengers",void 0);class y{}(0,i.gn)([(0,o.C)()],y.prototype,"leg",void 0),(0,i.gn)([(0,o.C)()],y.prototype,"startPoint",void 0),(0,i.gn)([(0,o.C)()],y.prototype,"endPoint",void 0),(0,i.gn)([(0,o.C)()],y.prototype,"departTime",void 0),(0,i.gn)([(0,o.C)()],y.prototype,"arrivalTime",void 0),(0,i.gn)([(0,o.C)()],y.prototype,"duration",void 0),(0,i.gn)([(0,o.C)()],y.prototype,"segments",void 0),(0,i.gn)([(0,o.C)()],y.prototype,"rangeTime",void 0);class I{}(0,i.gn)([(0,o.C)()],I.prototype,"birthday",void 0),(0,i.gn)([(0,o.C)()],I.prototype,"firstName",void 0),(0,i.gn)([(0,o.C)()],I.prototype,"lastName",void 0),(0,i.gn)([(0,o.C)()],I.prototype,"type",void 0),(0,i.gn)([(0,o.C)()],I.prototype,"key",void 0),(0,i.gn)([(0,o.C)()],I.prototype,"parentKey",void 0),(0,i.gn)([(0,o.C)()],I.prototype,"namePrefix",void 0),(0,i.gn)([(0,o.C)()],I.prototype,"gender",void 0),(0,i.gn)([(0,o.C)()],I.prototype,"index",void 0);class D{}(0,i.gn)([(0,o.C)()],D.prototype,"timeCreate",void 0),(0,i.gn)([(0,o.C)()],D.prototype,"timeExpire",void 0),(0,i.gn)([(0,o.C)()],D.prototype,"timeUpdate",void 0),(0,i.gn)([(0,o.C)()],D.prototype,"timeFinished",void 0),(0,i.gn)([(0,p.D)(()=>r),(0,o.C)()],D.prototype,"fareMonitors",void 0),(0,i.gn)([(0,o.C)()],D.prototype,"notifyBeforeExpired",void 0),(0,i.gn)([(0,o.C)()],D.prototype,"targetPrice",void 0);class r{}(0,i.gn)([(0,o.C)()],r.prototype,"onlyCareLowerFare",void 0),(0,i.gn)([(0,o.C)()],r.prototype,"expectLowerFareClass",void 0),(0,i.gn)([(0,o.C)()],r.prototype,"specifyFareClass",void 0),(0,i.gn)([(0,o.C)()],r.prototype,"currentFareClass",void 0),(0,i.gn)([(0,o.C)()],r.prototype,"specifyFareClassInfo",void 0);class b{}(0,i.gn)([(0,o.C)()],b.prototype,"airline",void 0),(0,i.gn)([(0,o.C)()],b.prototype,"originalPnr",void 0),(0,i.gn)([(0,o.C)()],b.prototype,"detectedPnr",void 0),(0,i.gn)([(0,o.C)()],b.prototype,"originalFare",void 0),(0,i.gn)([(0,o.C)()],b.prototype,"detectedFare",void 0),(0,i.gn)([(0,o.C)()],b.prototype,"originalFareClass",void 0),(0,i.gn)([(0,o.C)()],b.prototype,"detectedFareClass",void 0),(0,i.gn)([(0,o.C)()],b.prototype,"higherFare",void 0),(0,i.gn)([(0,o.C)()],b.prototype,"lastTimeUpdate",void 0);class U{}(0,i.gn)([(0,o.C)()],U.prototype,"status",void 0),(0,i.gn)([(0,p.D)(()=>_),(0,o.C)()],U.prototype,"data",void 0),(0,i.gn)([(0,o.C)()],U.prototype,"objectError",void 0),(0,i.gn)([(0,o.C)()],U.prototype,"success",void 0);class _{}(0,i.gn)([(0,o.C)()],_.prototype,"orderId",void 0),(0,i.gn)([(0,o.C)()],_.prototype,"canUpdate",void 0),(0,i.gn)([(0,o.C)()],_.prototype,"code",void 0),(0,i.gn)([(0,o.C)()],_.prototype,"huntFareConditions",void 0),(0,i.gn)([(0,o.C)()],_.prototype,"advanceSetting",void 0),(0,i.gn)([(0,o.C)()],_.prototype,"ticketInfo",void 0),(0,i.gn)([(0,p.D)(()=>h.v_),(0,o.C)()],_.prototype,"availableSlotInfo",void 0);var j=a(50494),x=a(94650);const V={headers:new t.WM({"Content-Type":"application/json"})};let ee=(()=>{class g{constructor(n,c){this.http=n,this.appConfig=c}getLstAirlineFareoptions(){return this.http.post(this.appConfig.apiUrlTPS+"ticket-low-fare/get-list-airline-fare-class",JSON.stringify({airline:"vn,qh,vj"}),V)}registerHuntBooking(n){return this.http.post(this.appConfig.apiUrlTPS+"hunt_for_ticket/register-order",JSON.stringify(n),V)}getPnrOrderDetail(n){return this.http.get(this.appConfig.apiUrlTPS+"hunt_for_ticket/pnr-order_detail/"+n,V).pipe((0,u.U)(c=>(0,j.yE)(m,c,{excludeExtraneousValues:!0})))}getCurrentConfigOrder(n){return this.http.post(this.appConfig.apiUrlTPS+"hunt_for_ticket/current-config-order",JSON.stringify({orderId:n}),V).pipe((0,u.U)(c=>(0,j.yE)(U,c,{excludeExtraneousValues:!0})))}updateConfigOrder(n){return this.http.post(this.appConfig.apiUrlTPS+"hunt_for_ticket/update_order_config",JSON.stringify(n),V).pipe((0,u.U)(c=>(0,j.yE)(m,c,{excludeExtraneousValues:!0})))}}return g.\u0275fac=function(n){return new(n||g)(x.LFG(t.eN),x.LFG(e.qB))},g.\u0275prov=x.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();var l=a(24006),G=a(57085),le=a(77579),te=a(35650),J=a(43201),A=a(15439);const re=g=>{const k=g.get("targetVNPrice"),n=g.get("targetVJPrice"),c=g.get("targetQHPrice"),P=g.get("fareOptions"),T=g.get("enableTimeStart"),O=g.get("enableFareOption"),R=g.get("enablePriceOption"),S=g.get("startTimeRange");let F={};return null!=T&&T.value&&(null!=S&&S.value&&(null==S?void 0:S.value.length)>0||(F.invalidTimeRanges=!0)),null!=O&&O.value&&(null!=P&&P.value&&(null==P?void 0:P.value.length)>0||(F.invalidFares=!0)),null!=R&&R.value&&(null!=k&&k.value||null!=n&&n.value||null!=c&&c.value?((null==k?void 0:k.value)<0||(null==n?void 0:n.value)<0||(null==c?void 0:c.value)<0)&&(F.negativePrice=!0):F.invalidPrice=!0),!T&&!R&&(F.invalidPriceFareOption=!0),Object.values(F),Object.values(F).length>0?F:null};var oe=a(82761),de=a(40899);let ue=(()=>{class g{constructor(n,c,P,T,O){this.route=n,this._route=c,this.fb=P,this._permissionService=T,this._bookingHunterService=O,this.optionsAdultPassenger=[],this.numberOfPassenger={adult:1,child:0,infant:0},this.phoneAreaDefault=e.$T,this.hasVJAirline=!1,this.showPriceOption=!1,this.showTimeStartOption=!1,this.showFareOption=!0,this.numberOfPassengerChange$=new le.x,this.isBooker=!this._permissionService.isVNAccount(),this.optionDepartureTime=[{name:"S\xe1ng s\u1edbm",code:"early_morning",start:"00:00",end:"05:59",isActive:!1,disable:!1,startTime:0,endTime:360,totalAvailable:0},{name:"Bu\u1ed5i s\xe1ng",code:"morning",start:"06:00",end:"11:59",isActive:!1,disable:!1,startTime:360,endTime:720,totalAvailable:0},{name:"Bu\u1ed5i chi\u1ec1u",code:"afternoon",start:"12:00",end:"17:59",isActive:!1,disable:!1,startTime:720,endTime:1080,totalAvailable:0},{name:"Bu\u1ed5i t\u1ed1i",code:"evening",start:"18:00",end:"23:59",isActive:!1,disable:!1,startTime:1080,endTime:1439,totalAvailable:0},{name:"T\xf9y ch\u1ecdn",code:"custom",start:"00:00",end:"23:59",isActive:!1,disable:!1,startTime:0,endTime:1439,totalAvailable:0}],this.customRangeItem={rangeValues:[0,1439],startTimeStr:"00:00",endTimeStr:"23:59"},this.departureTime=A().toDate().getTime(),this.earliestDoBChild=(0,J.Z)(this.departureTime,-2),this.earliestDoBChild=(0,te.Z)(this.earliestDoBChild,-1),this.earliestDoBInfant=A().toDate(),this.lastestDoBChild=(0,J.Z)(this.departureTime,-11),this.lastestDoBInfant=(0,J.Z)(this.departureTime,-2),this.lastestDoBInfant=(0,te.Z)(this.lastestDoBInfant,1)}initForm(){this.resetDataService(),this.initJourneyForm(),this.initConfigurationForm(),this.initPassengerForm()}preloadForm(n){var c,P,T,O,R,S,F,w,Z,Y,K,W,$,q,Q,X;const L=n.ticketInfo.journeys[0],H="PRICE"===n.huntFareConditions.type;this.showPriceOption=H,this.showFareOption=!H;const ge=(null===(P=null===(c=n.huntFareConditions.specifyPriceList)||void 0===c?void 0:c.find(s=>"VN"===s.airline.toUpperCase()))||void 0===P?void 0:P.targetPrice)||0,ce=(null===(O=null===(T=n.huntFareConditions.specifyPriceList)||void 0===T?void 0:T.find(s=>"QH"===s.airline.toUpperCase()))||void 0===O?void 0:O.targetPrice)||0,ve=(null===(S=null===(R=n.huntFareConditions.specifyPriceList)||void 0===R?void 0:R.find(s=>"VJ"===s.airline.toUpperCase()))||void 0===S?void 0:S.targetPrice)||0;let ne=!0;if(L.rangeTime.forEach(s=>{this.optionDepartureTime.forEach(d=>{d.start===s.fromDate&&d.end===s.toDate&&(d.isActive=!0,ne=!1)})}),ne&&L.rangeTime[0]){const s=L.rangeTime[0],d=this.convertTimeRangeStrToMin(s.fromDate),se=this.convertTimeRangeStrToMin(s.toDate);this.customRangeItem={rangeValues:[d,se],startTimeStr:s.fromDate,endTimeStr:s.toDate},this.optionDepartureTime[4].isActive=!0,this.optionDepartureTime[4].start=s.fromDate,this.optionDepartureTime[4].end=s.toDate,this.optionDepartureTime[4].startTime=d,this.optionDepartureTime[4].endTime=se}const z=this.optionDepartureTime.filter(s=>s.isActive),ie=z&&z.length>0;this.showTimeStartOption=ie;const me=(null!==(F=A(L.departTime))&&void 0!==F&&F.isBefore(A())?null:A(L.departTime).toDate())||null;this.journeyFormGroup=this.fb.group({startPoint:[L.startPoint,[l.kI.required]],endPoint:[L.endPoint,[l.kI.required]],departDate:[me,[l.kI.required]],startTimeRange:[z],enablePriceOption:[H],targetVNPrice:[ge],targetVJPrice:[ce],targetQHPrice:[ve],enableFareOption:[!H],enableTimeStart:[ie],fareOptions:[n.huntFareConditions.specifyFareClassList]},{validators:re});const ae=A(n.advanceSetting.timeExecute).isAfter(A().toDate()),B=ae?A(n.advanceSetting.timeExecute).toDate():null,he=ae&&B?`${null==B?void 0:B.getHours().toString().padStart(2,"0")}:${null==B?void 0:B.getMinutes().toString().padStart(2,"0")}`:null;this.configurationFormGroup=this.fb.group({dateExpires:[B,[l.kI.required]],timeExpires:[he,[l.kI.required]],sendNotify:[n.advanceSetting.notifBeforExpire,[l.kI.required]],agentDisplayName:[null],agentAvatar:[null],agentName:[null],agentPhone:[null,[l.kI.required,l.kI.minLength(7),l.kI.maxLength(11)]],agentPhoneArea:[this.phoneAreaDefault,l.kI.required],agentEmail:[null],agentId:[null,[l.kI.required]]}),this.numberOfPassenger={adult:(null===(Z=null===(w=n.ticketInfo.passengers)||void 0===w?void 0:w.filter(s=>{var d;return"ADT"===(null===(d=s.type)||void 0===d?void 0:d.toUpperCase())}))||void 0===Z?void 0:Z.length)||0,child:(null===(K=null===(Y=n.ticketInfo.passengers)||void 0===Y?void 0:Y.filter(s=>{var d;return"CHD"===(null===(d=s.type)||void 0===d?void 0:d.toUpperCase())}))||void 0===K?void 0:K.length)||0,infant:(null===($=null===(W=n.ticketInfo.passengers)||void 0===W?void 0:W.filter(s=>{var d;return"INF"===(null===(d=s.type)||void 0===d?void 0:d.toUpperCase())}))||void 0===$?void 0:$.length)||0},this.passengerFormGroup=this.fb.group({adultPassenger:this.fb.array([]),childPassenger:this.fb.array([]),infantPassenger:this.fb.array([])},{validator:(0,G.aV)()});const fe=(null===(q=n.ticketInfo.passengers)||void 0===q?void 0:q.filter(s=>{var d;return"ADT"===(null===(d=s.type)||void 0===d?void 0:d.toUpperCase())}).map(s=>{var d;return{firstName:s.firstName,lastName:s.lastName,gender:(null===(d=s.gender)||void 0===d?void 0:d.toLowerCase())||"male"}}))||[],Ce=(null===(Q=n.ticketInfo.passengers)||void 0===Q?void 0:Q.filter(s=>{var d;return"CHD"===(null===(d=s.type)||void 0===d?void 0:d.toUpperCase())}).map(s=>{var d;return{firstName:s.firstName,lastName:s.lastName,gender:(null===(d=s.gender)||void 0===d?void 0:d.toLowerCase())||"male",birthday:A(s.birthday).toDate()}}))||[],ye=(null===(X=n.ticketInfo.passengers)||void 0===X?void 0:X.filter(s=>{var d;return"INF"===(null===(d=s.type)||void 0===d?void 0:d.toUpperCase())}).map(s=>{var d;return{firstName:s.firstName,lastName:s.lastName,gender:(null===(d=s.gender)||void 0===d?void 0:d.toLowerCase())||"male",birthday:A(s.birthday).toDate(),parentIndex:s.parentIndex+""}}))||[];this.initPassengerForm(),this.initAdultFormGroup(),this.initChildFormGroup(),this.initInfantFormGroup(),this.passengerFormGroup.patchValue({adultPassenger:fe,childPassenger:Ce,infantPassenger:ye}),this.preInitialFormOrderId=void 0}reloadPassengerForm(){const n=this.passengerFormGroup.value;this.initPassengerForm(),this.initAdultFormGroup(),this.initChildFormGroup(),this.initInfantFormGroup(),this.passengerFormGroup.patchValue(Object.assign({},n))}initJourneyForm(){this.journeyFormGroup=this.fb.group({startPoint:["",[l.kI.required]],endPoint:["",[l.kI.required]],departDate:[null,[l.kI.required]],startTimeRange:[null],enablePriceOption:[!1],targetVNPrice:[0],targetVJPrice:[0],targetQHPrice:[0],enableFareOption:[!0],enableTimeStart:[!1],fareOptions:[null]},{validators:re})}initConfigurationForm(){this.configurationFormGroup=this.fb.group({dateExpires:[null,[l.kI.required]],timeExpires:[null,[l.kI.required]],sendNotify:[!1,[l.kI.required]],agentDisplayName:[null],agentAvatar:[null],agentName:[null],agentPhone:[null,[l.kI.required,l.kI.minLength(7),l.kI.maxLength(11)]],agentPhoneArea:[this.phoneAreaDefault,l.kI.required],agentEmail:[null],agentId:[null,[l.kI.required]]})}initPassengerForm(){this.passengerFormGroup=this.fb.group({secretRemark:[null],publicRemark:[null],adultPassenger:this.fb.array([]),childPassenger:this.fb.array([]),infantPassenger:this.fb.array([])},{validator:(0,G.aV)()})}initAdultFormGroup(){for(let n=0;n<this.numberOfPassenger.adult;n++){const c=this.fb.group({firstName:[null,[l.kI.required]],lastName:[null,[l.kI.required]],gender:["male",[l.kI.required]],membershipQH:[null],membershipVN:[null]});this.getFormArray("adultPassenger").push(c)}}initChildFormGroup(){for(let n=0;n<this.numberOfPassenger.child;n++){const c=this.fb.group({birthday:[null,[l.kI.required]],firstName:[null,[l.kI.required]],lastName:[null,[l.kI.required]],gender:["male",[l.kI.required]],membershipQH:[null],membershipVN:[null]},{validator:(0,G.$K)("birthday",this.departureTime)});this.getFormArray("childPassenger").push(c)}}initInfantFormGroup(){for(let n=0;n<this.numberOfPassenger.infant;n++){const c=this.fb.group({birthday:[null,[l.kI.required]],firstName:[null,[l.kI.required]],lastName:[null,[l.kI.required]],gender:["male",[l.kI.required]],parentIndex:[n+"",[l.kI.required]],membershipQH:[null],membershipVN:[null]},{validator:(0,G.DW)("birthday",this.departureTime)});this.getFormArray("infantPassenger").push(c)}}getNumberOfPassenger(){this.initAdultPassengerOptions()}getFormArray(n){return this.passengerFormGroup.controls[n]}getFormControlInArray(n,c){return n.controls[c]}initAdultPassengerOptions(){for(let n=0;n<this.numberOfPassenger.adult;n++)this.optionsAdultPassenger.push({code:n+"",name:`Ng\u01b0\u1eddi l\u1edbn ${n+1}`})}changeNumberOfPassenger(n){this.numberOfPassenger=n,this.numberOfPassengerChange$.next(n)}numOfPax(){return this.numberOfPassenger}formJourneyData(){return this.journeyFormGroup.value}formPassengerData(){return this.passengerFormGroup.value}formConfigurationData(){return this.configurationFormGroup.value}resetDataService(){this.customRangeItem={rangeValues:[0,1439],startTimeStr:"00:00",endTimeStr:"23:59"},this.showPriceOption=!1,this.showTimeStartOption=!1,this.showFareOption=!0,this.selectedFaresTree=[],this.optionDepartureTime=[{name:"S\xe1ng s\u1edbm",code:"early_morning",start:"00:00",end:"05:59",isActive:!1,disable:!1,startTime:0,endTime:360,totalAvailable:0},{name:"Bu\u1ed5i s\xe1ng",code:"morning",start:"06:00",end:"11:59",isActive:!1,disable:!1,startTime:360,endTime:720,totalAvailable:0},{name:"Bu\u1ed5i chi\u1ec1u",code:"afternoon",start:"12:00",end:"17:59",isActive:!1,disable:!1,startTime:720,endTime:1080,totalAvailable:0},{name:"Bu\u1ed5i t\u1ed1i",code:"evening",start:"18:00",end:"23:59",isActive:!1,disable:!1,startTime:1080,endTime:1439,totalAvailable:0},{name:"T\xf9y ch\u1ecdn",code:"custom",start:"00:00",end:"23:59",isActive:!1,disable:!1,startTime:0,endTime:1439,totalAvailable:0}]}isAgent2Show(){const n=this._permissionService.getCurrentAuthor();return"AGENT2"===(null==n?void 0:n.titleCode.toUpperCase())}getSourceEvent(){switch(this.sourceEvent){case"SEARCH_INPUT":return 0;case"SEARCH_RESULT":return 1;case"HEADER_MANAGE":return 2;case"EMPTY_STATE":return 3;case"REGENERATE":return 4;default:return-1}}convertTimeRangeStrToMin(n){return A.duration(n).asMinutes()}minuteToString(n){const c=Math.floor(n/60),P=n%60;let T=`${c}`,O=`${P}`;return c<10&&(T=`0${c}`),P<10&&(O=`0${P}`),`${T}:${O}`}checkVJAirline(){var n;const c=null===(n=this.selectedFaresTree)||void 0===n?void 0:n.filter(P=>P.isActive).map(P=>P.code.toUpperCase());this.journeyFormGroup.value.enableFareOption&&c.includes("VJ")||this.journeyFormGroup.value.enablePriceOption&&this.journeyFormGroup.value.targetVJPrice?(this.hasVJAirline=!0,this.configurationFormGroup.controls.agentPhone.setValidators([l.kI.required,l.kI.minLength(7),l.kI.maxLength(11)]),this.configurationFormGroup.controls.agentPhoneArea.setValidators([l.kI.required])):(this.hasVJAirline=!1,this.configurationFormGroup.controls.agentPhone.setValidators(null),this.configurationFormGroup.controls.agentPhoneArea.setValidators(null))}}return g.\u0275fac=function(n){return new(n||g)(x.LFG(oe.gz),x.LFG(oe.F0),x.LFG(l.qu),x.LFG(de.$A),x.LFG(ee))},g.\u0275prov=x.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();var M=a(53820);const pe={[M.b.CREATE]:{name:"\u0110ang s\u0103n v\xe9",description:"S\u0103n v\xe9 t\u1ef1 \u0111\u1ed9ng \u0111ang ho\u1ea1t \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[M.b.IN_PROCESS]:{name:"\u0110ang canh v\xe9",description:"Canh v\xe9 r\u1ebb t\u1ef1 \u0111\u1ed9ng \u0111ang ho\u1ea1t \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[M.b.COMPLETED]:{name:"\u0110\xe3 s\u0103n th\xe0nh c\xf4ng",description:"\u0110\xe3 s\u0103n \u0111\u01b0\u1ee3c v\xe9",icon:"check",backgroundColor:"bg-[#07A35D]",textColor:"text-neutral-white"},[M.b.IN_PROCESS_PRICE_UP]:{name:"\u0110ang s\u0103n gi\xe1 t\u0103ng",description:"Gi\xe1 v\xe9 \u0111\xe3 t\u0103ng, vui l\xf2ng c\xe2n nh\u1eafc xu\u1ea5t v\xe9",icon:"arrow_right_up",backgroundColor:"bg-[#ffd1bc]",textColor:"text-primary-1-4"},[M.b.CANCEL]:{name:"\u0110\xe3 h\u1ee7y",description:"\u0110\xe3 h\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9",icon:"coupon_slash",backgroundColor:"bg-[#999999]",textColor:"text-neutral-white"},[M.b.EXPIRED]:{name:"\u0110\xe3 h\u1ebft s\u0103n",description:"H\u1ebft h\u1ea1n s\u0103n v\xe9",icon:"clock",backgroundColor:"bg-[#CCCCCC]",textColor:"text-neutral-gray-6"}}},57085:(N,f,a)=>{a.d(f,{bz:()=>t,$K:()=>u,DW:()=>v,aV:()=>i});const t=(h,o)=>h.get(o);var e=a(15439);const u=(h,o)=>p=>{const m=p.controls[h];if(!m.value)return;const E=e(o).startOf("day").add(0,"hours").toDate().getTime(),C=e(m.value).toDate();C.setFullYear(C.getFullYear()+2);const y=C.getTime(),I=e(m.value).toDate();I.setFullYear(I.getFullYear()+12);const D=I.getTime();E<=D&&E>y?m.setErrors(null):E<=D?m.setErrors({DoBChildUnder:!0}):E>y&&m.setErrors({DoBChildUpper:!0})},v=(h,o)=>p=>{const m=p.controls[h];if(!m.value)return;const E=e(o).startOf("day").add(0,"hours").toDate().getTime(),C=e(m.value).toDate().getTime(),y=e(m.value).toDate();y.setFullYear(y.getFullYear()+2);const I=y.getTime();m.setErrors(E<=I&&E>C?null:{DoBInfant:!0})},i=()=>h=>{let o=[];for(let p=0;p<h.controls.infantPassenger.controls.length;p++){const m=h.controls.infantPassenger.at(p).controls.parentIndex.value;o.push({index:p,parentIndex:m})}for(let p=0;p<h.controls.infantPassenger.controls.length;p++){const m=h.controls.infantPassenger.at(p).controls.parentIndex.value;o.filter(C=>C.parentIndex===m).length>1?h.controls.infantPassenger.at(p).controls.parentIndex.setErrors({ParentInfantDupplicate:!0}):h.controls.infantPassenger.at(p).controls.parentIndex.setErrors(null)}}},49195:(N,f,a)=>{a.d(f,{t:()=>e});var t=a(53820);const e={[t.b.CREATE]:{name:"\u0110ang canh v\xe9",description:"Canh v\xe9 r\u1ebb \u0111ang ho\u1ea1t \u0111\u1ed9ng t\u1ef1 \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[t.b.IN_PROCESS]:{name:"\u0110ang canh v\xe9",description:"Canh v\xe9 r\u1ebb \u0111ang ho\u1ea1t \u0111\u1ed9ng t\u1ef1 \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[t.b.COMPLETED]:{name:"\u0110\xe3 canh th\xe0nh c\xf4ng",description:"\u0110\xe3 canh \u0111\u01b0\u1ee3c gi\xe1 v\xe9 r\u1ebb",icon:"check",backgroundColor:"bg-[#07A35D]",textColor:"text-neutral-white"},[t.b.IN_PROCESS_PRICE_UP]:{name:"\u0110ang canh gi\xe1 t\u0103ng",description:"Gi\xe1 v\xe9 \u0111\xe3 t\u0103ng, vui l\xf2ng c\xe2n nh\u1eafc xu\u1ea5t v\xe9",icon:"arrow_right_up",backgroundColor:"bg-[#ffd1bc]",textColor:"text-primary-1-4"},[t.b.CANCEL]:{name:"\u0110\xe3 h\u1ee7y",description:"\u0110\xe3 h\u1ee7y y\xeau c\u1ea7u canh v\xe9",icon:"delete",backgroundColor:"bg-[#999999]",textColor:"text-neutral-white"},[t.b.EXPIRED]:{name:"\u0110\xe3 h\u1ebft h\u1ea1n",description:"H\u1ebft h\u1ea1n canh v\xe9",icon:"clock",backgroundColor:"bg-[#CCCCCC]",textColor:"text-neutral-gray-6"}}},53820:(N,f,a)=>{a.d(f,{b:()=>t});var t=(()=>{return(e=t||(t={})).CREATE="CREATE",e.IN_PROCESS="IN_PROCESS",e.IN_PROCESS_PRICE_UP="IN_PROCESS_PRICE_UP",e.COMPLETED="COMPLETED",e.EXPIRED="EXPIRED",e.CANCEL="CANCEL",t;var e})()},97380:(N,f,a)=>{a.d(f,{D5:()=>C,VP:()=>m,_r:()=>E,v_:()=>D,xj:()=>h,yI:()=>I});var t=a(97582),e=a(87067),u=a(43429),v=a(53820),i=a(49195);let h=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"status",void 0),(0,t.gn)([(0,u.D)(()=>o),(0,e.C)()],r.prototype,"data",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"objectError",void 0),r})(),o=(()=>{class r{}return(0,t.gn)([(0,u.D)(()=>m),(0,e.C)()],r.prototype,"listOrder",void 0),(0,t.gn)([(0,u.D)(()=>p),(0,e.C)()],r.prototype,"orderTaskStatus",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"pageOffset",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"pageSize",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"total",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"empty",void 0),r})(),p=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"completeTask",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"inProcessTask",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"maxTask",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"numMaxFree",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"numOrderFree",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"ownerId",void 0),r})(),m=(()=>{class r{get stateDisplay(){switch(this.state){case v.b.CREATE:return i.t[v.b.CREATE].name;case v.b.IN_PROCESS:return i.t[v.b.IN_PROCESS].name;case v.b.COMPLETED:return i.t[v.b.COMPLETED].name;case v.b.CANCEL:return i.t[v.b.CANCEL].name;case v.b.EXPIRED:return i.t[v.b.EXPIRED].name;case v.b.IN_PROCESS_PRICE_UP:return i.t[v.b.IN_PROCESS_PRICE_UP].name;default:return""}}}return(0,t.gn)([(0,e.C)()],r.prototype,"orderId",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"canUpdate",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"code",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"state",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"monitorType",void 0),(0,t.gn)([(0,u.D)(()=>E),(0,e.C)()],r.prototype,"ticketInfo",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"orderInfo",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"fareInfo",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"ownerInfo",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"userActionInfo",void 0),(0,t.gn)([(0,u.D)(()=>D),(0,e.C)()],r.prototype,"availableSlotInfo",void 0),r})(),E=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"leg",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"airline",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"flightType",void 0),(0,t.gn)([(0,u.D)(()=>C),(0,e.C)()],r.prototype,"journeys",void 0),(0,t.gn)([(0,u.D)(()=>I),(0,e.C)()],r.prototype,"passengers",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"totalFare",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"originalPrice",void 0),r})(),C=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"leg",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"startPoint",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"endPoint",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"departTime",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"arrivalTime",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"duration",void 0),(0,t.gn)([(0,u.D)(()=>y),(0,e.C)()],r.prototype,"segments",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"rangeTime",void 0),r})(),y=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"startPoint",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"endPoint",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"flightNumber",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"fareBasic",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"fareClass",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"departTime",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"departZone",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"arriveTime",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"arriveZone",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"index",void 0),r})(),I=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"birthday",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"firstName",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"lastName",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"type",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"index",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"parentIndex",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"key",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"parentKey",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"namePrefix",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"gender",void 0),r})(),D=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"amountPerPax",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"currency",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"free",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"percent",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"type",void 0),r})()},40833:(N,f,a)=>{function t(e,u){if(u.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+u.length+" present")}a.d(f,{Z:()=>t})},91998:(N,f,a)=>{function t(e){if(null===e||!0===e||!1===e)return NaN;var u=Number(e);return isNaN(u)?u:u<0?Math.ceil(u):Math.floor(u)}a.d(f,{Z:()=>t})},35650:(N,f,a)=>{a.d(f,{Z:()=>v});var t=a(91998),e=a(80953),u=a(40833);function v(i,h){(0,u.Z)(2,arguments);var o=(0,e.Z)(i),p=(0,t.Z)(h);return isNaN(p)?new Date(NaN):(p&&o.setDate(o.getDate()+p),o)}},43201:(N,f,a)=>{a.d(f,{Z:()=>i});var t=a(91998),e=a(80953),u=a(40833);function i(h,o){return(0,u.Z)(2,arguments),function v(h,o){(0,u.Z)(2,arguments);var p=(0,e.Z)(h),m=(0,t.Z)(o);if(isNaN(m))return new Date(NaN);if(!m)return p;var E=p.getDate(),C=new Date(p.getTime());return C.setMonth(p.getMonth()+m+1,0),E>=C.getDate()?C:(p.setFullYear(C.getFullYear(),C.getMonth(),E),p)}(h,12*(0,t.Z)(o))}},80953:(N,f,a)=>{a.d(f,{Z:()=>u});var t=a(86),e=a(40833);function u(v){(0,e.Z)(1,arguments);var i=Object.prototype.toString.call(v);return v instanceof Date||"object"===(0,t.Z)(v)&&"[object Date]"===i?new Date(v.getTime()):"number"==typeof v||"[object Number]"===i?new Date(v):(("string"==typeof v||"[object String]"===i)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},86:(N,f,a)=>{function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(e)}a.d(f,{Z:()=>t})}}]);