"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[5826],{27849:(B,J,p)=>{p.d(J,{h:()=>t});var D=p(94650);let t=(()=>{class y{constructor(){}getBookingDetailReroutingData(){return JSON.parse(sessionStorage.getItem("bookingDetailReroutingData"))}setBookingDetailReroutingData(F){sessionStorage.setItem("bookingDetailReroutingData",JSON.stringify(F)),this.bookingDetailReroutingData=F}}return y.\u0275fac=function(F){return new(F||y)},y.\u0275prov=D.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},51716:(B,J,p)=>{p.d(J,{M:()=>I});var D=p(80529),t=p(88001),y=p(50494),e=p(54004),F=p(56322),C=p(97582),Z=p(87067);let N=(()=>{class b{}return(0,C.gn)([(0,Z.C)()],b.prototype,"status",void 0),(0,C.gn)([(0,Z.C)()],b.prototype,"data",void 0),(0,C.gn)([(0,Z.C)()],b.prototype,"objectError",void 0),(0,C.gn)([(0,Z.C)()],b.prototype,"success",void 0),b})();var h=p(94650);const L={headers:new D.WM({"Content-Type":"application/json"})};let I=(()=>{class b{constructor(E,M){this.http=E,this.appConfig=M}getListJourneyUpdate(E){return this.http.post(this.appConfig.apiUrl+"flight/get-list-update-journey",JSON.stringify(E),L).pipe((0,e.U)(M=>(0,y.yE)(F.sH,M,{excludeExtraneousValues:!0})))}quotationJourneyUpdate(E){return this.http.post(this.appConfig.apiUrl+"ticket/quotation-update-journey",JSON.stringify(E),L)}updateJourney(E){return this.http.post(this.appConfig.apiUrl+"ticket/update-journey-reservation",JSON.stringify(E),L).pipe((0,e.U)(M=>(0,y.yE)(N,M,{excludeExtraneousValues:!0})))}}return b.\u0275fac=function(E){return new(E||b)(h.LFG(D.eN),h.LFG(t.qB))},b.\u0275prov=h.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},67411:(B,J,p)=>{p.d(J,{r:()=>ve});var D=p(36895),t=p(94650),y=p(24006),e=p(72506),F=p(57598),C=p(48042),Z=p(34120),N=p(40899),h=p(15439),I=p(77296),b=p(61135),w=p(77579),E=p(82722),M=p(28746),U=p(17489),m=p(39840),x=p(83700),l=p(97579),S=p(51716),R=p(27849),Q=p(9381),W=p(37094),$=p(62733),V=p(28490),G=p(85114);function z(s,v){if(1&s){const i=t.EpF();t.TgZ(0,"button",43),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.onQuotation())}),t._UZ(1,"cf-icon",44),t.TgZ(2,"span"),t._uU(3,"B\xe1o gi\xe1"),t.qZA()()}}function j(s,v){if(1&s){const i=t.EpF();t.TgZ(0,"app-ticket-item",49),t.NdJ("ticketSelected",function(n){t.CHM(i);const r=t.oxw(4);return t.KtG(r.chooseTicket(n))}),t.qZA()}if(2&s){const i=t.oxw().$implicit,a=t.oxw(3);t.Q6J("ticket",i)("listFareRule",a.listFareRule)("listFareRuleClasses",a.listFareRuleClasses)}}function X(s,v){if(1&s&&(t.ynx(0),t.YNc(1,j,1,3,"app-ticket-item",48),t.BQk()),2&s){const i=v.$implicit,a=v.index,n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",a<n.ticketInfiniteScrollCount&&i.seatRemain>0)}}function ee(s,v){if(1&s){const i=t.EpF();t.TgZ(0,"div",46),t.NdJ("scrolled",function(){t.CHM(i);const n=t.oxw(2);return t.KtG(n.onScrollDown())}),t.YNc(1,X,2,1,"ng-container",47),t.qZA()}if(2&s){const i=t.oxw(2);t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("infiniteScrollContainer",".main-scroll-bar")("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0),t.xp6(1),t.Q6J("ngForOf",i.listTicketDisplay)("ngForTrackBy",i.ticketTrackByFn)}}function te(s,v){if(1&s&&(t.TgZ(0,"div"),t.YNc(1,ee,2,8,"div",45),t.qZA()),2&s){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.listTicketDisplay.length)}}function ie(s,v){if(1&s){const i=t.EpF();t.TgZ(0,"agent-ticket-item",49),t.NdJ("ticketSelected",function(n){t.CHM(i);const r=t.oxw(4);return t.KtG(r.chooseAgentTicket(n))}),t.qZA()}if(2&s){const i=t.oxw().$implicit,a=t.oxw(3);t.Q6J("ticket",i)("listFareRule",a.listFareRule)("listFareRuleClasses",a.listFareRuleClasses)}}function ae(s,v){if(1&s&&(t.ynx(0),t.YNc(1,ie,1,3,"agent-ticket-item",48),t.BQk()),2&s){const i=v.index,a=t.oxw(3);t.xp6(1),t.Q6J("ngIf",i<a.ticketInfiniteScrollCount)}}function re(s,v){if(1&s){const i=t.EpF();t.TgZ(0,"div",46),t.NdJ("scrolled",function(){t.CHM(i);const n=t.oxw(2);return t.KtG(n.onScrollDown())}),t.YNc(1,ae,2,1,"ng-container",50),t.qZA()}if(2&s){const i=t.oxw(2);t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("infiniteScrollContainer",".main-scroll-bar")("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0),t.xp6(1),t.Q6J("ngForOf",i.listTicketAgentDisplay)}}function ne(s,v){if(1&s&&(t.TgZ(0,"div"),t.YNc(1,re,2,7,"div",45),t.qZA()),2&s){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.listTicketAgentDisplay.length)}}function oe(s,v){if(1&s){const i=t.EpF();t.TgZ(0,"cf-icon",51),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.onShare())}),t.qZA()}}function le(s,v){if(1&s&&(t.TgZ(0,"div",22)(1,"div",23),t._uU(2,"T\u1ed5ng chi ph\xed:"),t.qZA(),t.TgZ(3,"div",52),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&s){const i=t.oxw();t.xp6(4),t.hij(" ",t.Dn7(5,1,t.lcZ(6,5,i.totalPrice||0),",",".")," \u0111 ")}}function se(s,v){if(1&s){const i=t.EpF();t.TgZ(0,"app-ticket-item",49),t.NdJ("ticketSelected",function(n){t.CHM(i);const r=t.oxw(4);return t.KtG(r.chooseTicket(n))}),t.qZA()}if(2&s){const i=t.oxw().$implicit,a=t.oxw(3);t.Q6J("ticket",i)("listFareRule",a.listFareRule)("listFareRuleClasses",a.listFareRuleClasses)}}function ce(s,v){if(1&s&&(t.ynx(0),t.YNc(1,se,1,3,"app-ticket-item",48),t.BQk()),2&s){const i=v.$implicit,a=v.index,n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",a<n.ticketInfiniteScrollCount&&i.seatRemain>0)}}function de(s,v){if(1&s){const i=t.EpF();t.TgZ(0,"div",46),t.NdJ("scrolled",function(){t.CHM(i);const n=t.oxw(2);return t.KtG(n.onScrollDown())}),t.YNc(1,ce,2,1,"ng-container",47),t.qZA()}if(2&s){const i=t.oxw(2);t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("infiniteScrollContainer",".main-scroll-bar")("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0),t.xp6(1),t.Q6J("ngForOf",i.listTicketDisplay)("ngForTrackBy",i.ticketTrackByFn)}}function ue(s,v){if(1&s&&(t.TgZ(0,"div"),t.YNc(1,de,2,8,"div",45),t.qZA()),2&s){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.listTicketDisplay.length)}}function pe(s,v){if(1&s){const i=t.EpF();t.TgZ(0,"agent-ticket-item",49),t.NdJ("ticketSelected",function(n){t.CHM(i);const r=t.oxw(4);return t.KtG(r.chooseAgentTicket(n))}),t.qZA()}if(2&s){const i=t.oxw().$implicit,a=t.oxw(3);t.Q6J("ticket",i)("listFareRule",a.listFareRule)("listFareRuleClasses",a.listFareRuleClasses)}}function he(s,v){if(1&s&&(t.ynx(0),t.YNc(1,pe,1,3,"agent-ticket-item",48),t.BQk()),2&s){const i=v.index,a=t.oxw(3);t.xp6(1),t.Q6J("ngIf",i<a.ticketInfiniteScrollCount)}}function me(s,v){if(1&s){const i=t.EpF();t.TgZ(0,"div",46),t.NdJ("scrolled",function(){t.CHM(i);const n=t.oxw(2);return t.KtG(n.onScrollDown())}),t.YNc(1,he,2,1,"ng-container",50),t.qZA()}if(2&s){const i=t.oxw(2);t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("infiniteScrollContainer",".main-scroll-bar")("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0),t.xp6(1),t.Q6J("ngForOf",i.listTicketAgentDisplay)}}function fe(s,v){if(1&s&&(t.TgZ(0,"div"),t.YNc(1,me,2,7,"div",45),t.qZA()),2&s){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.listTicketAgentDisplay.length)}}function ge(s,v){1&s&&t._UZ(0,"cf-spinner")}function _e(s,v){if(1&s){const i=t.EpF();t.TgZ(0,"div",53)(1,"div",54),t._UZ(2,"div",55)(3,"div",56),t.qZA(),t.TgZ(4,"div",57),t._UZ(5,"cf-search-flight-input",7),t.qZA(),t._UZ(6,"div",58),t.TgZ(7,"div",59)(8,"div",60),t._UZ(9,"div",61),t.qZA(),t.TgZ(10,"button",62),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.onResearchFlight())}),t._UZ(11,"cf-icon",9),t._uU(12," T\xecm chuy\u1ebfn bay "),t.qZA()()()}if(2&s){const i=t.oxw();t.xp6(5),t.Q6J("formArray",i.searchInputForm)}}let ve=(()=>{class s{constructor(i,a,n,r,d,o,c,_,u,T,A){this._fb=a,this._modal=n,this._reroutingService=r,this._permissionService=d,this._detectMobileService=o,this._bottomSheetService=c,this._flightDataService=_,this._locationDataService=u,this._searchInputService=T,this._requestReroutingService=A,this.ticketSelected=new t.vpe,this.totalPrice=0,this.isLoading=!1,this.TICKET_INFINITE_SCROLL_DEFAULT=10,this.TICKET_INFINITE_OFSET_INCREASE=10,this.ticketInfiniteScrollCount=this.TICKET_INFINITE_SCROLL_DEFAULT,this.sortDefault="min_price",this.sortState="min_price",this.currentMode="retail",this.isHiddenTotalCharge=!1,this.numberOfPassenger={adult:1,child:0,infant:0},this.filterStateInit={showAirline:[],direct:this._searchInputService.isDirectFlight,oneRoute:!1,moreRoute:!1,departTime:[],arriveTime:[],fareclass:[],bookingSystem:[],plane:[],comboTime:{departStartTime:{from:0,to:1440},arriveStartTime:{from:0,to:1440},departEndTime:{from:0,to:1440},arriveEndTime:{from:0,to:1440}},comboDuration:{from:0,to:50},comboPrice:{from:void 0,to:void 0}},this.listTicketSelected=[],this.airlineList=[],this.ticketDisplayState=new b.X({showNetPrice:!1,showSalePrice:!1,hideFareClass:!1,showDuration:!0,showTotalComboPrice:!1}),this.fareclassList=[],this.planModelList=[],this.selectedFare={value:""},this.departureTimeList=[],this.arrivalTimeList=[],this.durationFilter=[0,50],this.minDuration=0,this.maxDuration=50,this.departTimeComboList=[],this.arriveTimeComboList=[],this.minFareClss="",this.priceFilter=[0,0],this.minPrice=0,this.maxPrice=0,this.bookingSystemList=[],this.listTicket=[],this.listTicketDisplay=[],this.listTicketAgent=[],this.listTicketAgentDisplay=[],this.canEditHeader=this._permissionService.hasPermission(N.or.EditShareFlightSelectedHeader),this.showQuotation=this._permissionService.hasPermission(N.or.CreateFlightTicketQuote),this.destroy$=new w.x,this.bookingDetailReroutingData=this._requestReroutingService.getBookingDetailReroutingData(),this.numberOfPassenger={adult:this.bookingDetailReroutingData.passengers.filter(g=>"ADULT"===g.type).length,child:this.bookingDetailReroutingData.passengers.filter(g=>"CHILD"===g.type).length,infant:this.bookingDetailReroutingData.passengers.filter(g=>"INFANT"===g.type).length},T.flightType="ONE_WAY",this.createInstanceSearchForm()}ngOnChanges(i){this.reroutingJourneySeleceted&&(this.searchInputForm.at(0).patchValue({startPoint:this.reroutingJourneySeleceted.startPointCode,endPoint:this.reroutingJourneySeleceted.endPointCode,departDate:new Date(this.reroutingJourneySeleceted.startTime)}),this.onResearchFlight())}ngOnInit(){this.ticketFilterState=new b.X(this.filterStateInit),this.ticketFilterState.pipe((0,E.R)(this.destroy$)).subscribe({next:()=>{this.loadTicketFilter()}}),this.ticketDisplayState.pipe((0,E.R)(this.destroy$)).subscribe({next:()=>this.loadTicketDisplay()})}createInstanceSearchForm(){this.searchInputForm=this._fb.array([this._fb.group({startPoint:["",y.kI.required],endPoint:["",y.kI.required],departDate:["",y.kI.required]})])}onResearchFlight(){var i;this.bottomSheetRef&&this.bottomSheetRef.dismiss(),this.listTicketSelected=[],this.ticketSelected.emit(this.listTicketSelected),this.totalPrice=0;const a=this.searchInputForm.value[0],n={airline:this.bookingDetailReroutingData.airline,bookingCode:this.bookingDetailReroutingData.bookingCode,journeyKey:(null===(i=this.reroutingJourneySeleceted)||void 0===i?void 0:i.journeyKey)||"",flightUpdate:{departDate:a.departDate?h(a.departDate).format("YYYY-MM-DD"):"",startPoint:(null==a?void 0:a.startPoint)||"",endPoint:(null==a?void 0:a.endPoint)||""}};this.isLoading=!0,this._reroutingService.getListJourneyUpdate(n).pipe((0,M.x)(()=>this.isLoading=!1)).subscribe({next:r=>{var d,o;console.log(r),this.searchFlightData=r.data,this.listFareRule=null===(d=r.data)||void 0===d?void 0:d.fareRules,this.listFareRuleClasses=null===(o=r.data)||void 0===o?void 0:o.fareRuleClasses,this.convertTicket(),this.convertAgentTicket(),this.initFilterAirline()}})}initFilterAirline(){var i;let a=[{name:"Early Morning",code:"early_morning",start:"00:00",end:"06:00",isActive:!1,disable:!1,startTime:0,endTime:360,totalAvailable:0},{name:"Morning",code:"morning",start:"06:00",end:"12:00",isActive:!1,disable:!1,startTime:360,endTime:720,totalAvailable:0},{name:"Afternoon",code:"afternoon",start:"12:00",end:"18:00",isActive:!1,disable:!1,startTime:720,endTime:1080,totalAvailable:0},{name:"Evening",code:"evening",start:"18:00",end:"24:00",isActive:!1,disable:!1,startTime:1080,endTime:1440,totalAvailable:0}],n=[{name:"Early Morning",code:"early_morning",start:"00:00",end:"06:00",isActive:!1,disable:!1,startTime:0,endTime:360,totalAvailable:0},{name:"Morning",code:"morning",start:"06:00",end:"12:00",isActive:!1,disable:!1,startTime:360,endTime:720,totalAvailable:0},{name:"Afternoon",code:"afternoon",start:"12:00",end:"18:00",isActive:!1,disable:!1,startTime:720,endTime:1080,totalAvailable:0},{name:"Evening",code:"evening",start:"18:00",end:"24:00",isActive:!1,disable:!1,startTime:1080,endTime:1440,totalAvailable:0}],r=[];this.searchFlightData.flightOptions.length&&"COMBO"!==this.searchFlightData.flightOptions[0].type&&(r=this.searchFlightData.flightOptions.flatMap(u=>u.journeys).map(u=>({airline:u.airline,airlineName:u.airlineName})).filter((u,T,A)=>A.findIndex(g=>g.airline===u.airline)===T));let d=new Map,o=Number.MAX_SAFE_INTEGER,c=new Set,_=new Map;this.searchFlightData.flightOptions.length&&"COMBO"!==this.searchFlightData.flightOptions[0].type&&this.searchFlightData.flightOptions.forEach(u=>{c.add(u.provider),u.journeys.forEach(T=>T.fareOptions.forEach(A=>{A.fareInfos.forEach(g=>{var f,k,P,O,q,K,Y;A.getTotalAmount()<o&&(o=A.getTotalAmount(),g.cabin&&!(null===(f=g.cabin)||void 0===f)&&f.name&&(this.minFareClss=g.cabin.name.toUpperCase())),d.set(null===(P=null===(k=g.cabin)||void 0===k?void 0:k.name)||void 0===P?void 0:P.toUpperCase(),Object.assign(Object.assign({},g.cabin),{description:null===(q=null===(O=g.cabin)||void 0===O?void 0:O.description)||void 0===q?void 0:q.toUpperCase(),name:null===(Y=null===(K=g.cabin)||void 0===K?void 0:K.name)||void 0===Y?void 0:Y.toUpperCase(),isActive:!1,isDisable:!1}))}),T.segments.forEach(g=>{_.set(g.modelAirplane,{code:g.modelAirplane,name:g.modelAirplaneName,isActive:!1,isDisable:!1})}),a.forEach(g=>{const f=h(T.departure.localTime).toDate(),k=60*f.getHours()+f.getMinutes();k>=g.startTime&&k<=g.endTime&&(g.totalAvailable=++g.totalAvailable)}),n.forEach(g=>{const f=h(T.arrival.localTime).toDate(),k=60*f.getHours()+f.getMinutes();k>=g.startTime&&k<=g.endTime&&(g.totalAvailable=++g.totalAvailable)})}))}),this.fareclassList=[...d.values()].filter(u=>u.name).map(u=>u),this.selectedFare.value=(null===(i=this.fareclassList.find(u=>u.isActive))||void 0===i?void 0:i.name)||"",this.planModelList=[..._.values()],this.departTimeComboList=this.bookingDetailReroutingData.journeys.map(u=>({departCode:`${u.startPointCode} (${u.startPointName})`,departTime:u.startTime})),this.arriveTimeComboList=this.bookingDetailReroutingData.journeys.map(u=>({departCode:`${u.endPointCode} (${u.endPointName})`,departTime:u.startTime})),this.airlineList=r.map(u=>({code:u.airline,name:u.airlineName,actived:!1})),this.airlineList.filter(u=>u.actived).length===this.airlineList.length?this.airlineList.forEach(u=>u.actived=!1):0!==this.airlineList.filter(u=>u.actived).length&&this.ticketFilterState.next(Object.assign(Object.assign({},this.ticketFilterState.value),{showAirline:this.airlineList.filter(u=>u.actived).map(u=>u.code)}))}convertTicket(){let i=0;this.listTicket=this.searchFlightData.flightOptions.flatMap(a=>a.journeys.flatMap(n=>{if(!n.fareOptions)return[];const r=n.fareOptions.map(c=>{var _,u,T,A;i++;const g=this.getFareRuleClass(n.airline,c.fareInfos[0].fareClass,null===(_=c.fareInfos[0].fareType)||void 0===_?void 0:_.code);return{indexForTracking:i,provider:a.provider,airline:n.airline,airlineLogo:this._flightDataService.getAirlineLogoByCode(n.airline),mobileAirlineLogo:["VJ","VN","QH"].includes(n.airline)?"assets/airline-logo/"+n.airline+"_small.png":"assets/airline-logo/"+n.airline+".png",airlineName:n.airlineName,flightNumber:`${n.airline} ${n.segments[0].flightNumber}`,operating:n.operating,operatingName:n.operatingName,stopStatus:n.numOfStops,duration:n.duration,durationStr:n.getDurationString(),startPoint:n.departure.airport.code,endPoint:n.arrival.airport.code,startTime:h(n.departure.localTime).toDate(),endTime:h(n.arrival.localTime).toDate(),expireTime:n.expireTime,totalPrice:c.getTotalAmount(),netPrice:c.getNetAmount(this.numberOfPassenger.adult,this.numberOfPassenger.child),serviceFee:c.getServiceFee(),promotionalPrice:0!==c.getDiscount()?c.getTotalAmount()+c.getDiscount():void 0,currency:c.currency?c.currency.code:"VN\u0110",fareClass:c.fareInfos[0].fareClass,fareType:null===(u=c.fareInfos[0].fareType)||void 0===u?void 0:u.code,journeyFareClass:c.journeyFareClass,handBag:g.handBag,checkedBag:g.checkedBag,seatRemain:c.fareInfos[0].seatRemain,cabin:null===(T=c.fareInfos[0].cabin)||void 0===T?void 0:T.description,cabinName:(null===(A=c.fareInfos[0].cabin)||void 0===A?void 0:A.name)||"undefined",isLowestFare:!1,isLowestFareAvailable:!1,leg:n.leg,departure:{scheduleTime:h(1e3*n.departure.scheduleTime).toDate(),airport:n.departure.airport.code,localTime:h(n.departure.localTime).toDate()},arrival:{scheduleTime:h(1e3*n.arrival.scheduleTime).toDate(),airport:n.arrival.airport.code,localTime:h(n.arrival.localTime).toDate()},journeyKey:n.key,fareOptionKey:c.key,segments:n.segments.map((f,k)=>{var P;const O=f.getDelayString();return{segmentKey:f.key,fareClass:c.fareInfos[k].fareClass,fareType:(null===(P=c.fareInfos[k].fareType)||void 0===P?void 0:P.description)||"",airline:f.airline,airlineName:f.airlineName,mobileAirlineLogo:["VJ","VN","QH"].includes(f.airline)?"assets/airline-logo/"+f.airline+"_small.png":"assets/airline-logo/"+f.airline+".png",operating:f.operating,operatingName:f.operatingName,airlineLogo:this._flightDataService.getAirlineLogoByCode(f.operating),jetCode:"N/A",startCode:f.departure.airport.code,endCode:f.arrival.airport.code,startPoint:this._locationDataService.getCityNameByCode(f.departure.airport.code),endPoint:this._locationDataService.getCityNameByCode(f.arrival.airport.code),departDate:h(f.departure.localTime).toDate(),arrivalDate:h(f.arrival.localTime).toDate(),flightNumber:f.flightNumber,duration:f.getDurationString(),modelAirplane:f.modelAirplane,modelAirplaneName:f.modelAirplaneName,delay:f.getDelayString(),stopPoint:O?`D\u1eebng t\u1ea1i: ${this._locationDataService.getAirportNameByCode(f.departure.airport.code)} (${f.departure.airport.code}). Th\u1eddi gian d\u1eebng: ${O}`:""}}),showSalePrice:this.ticketDisplayState.value.showSalePrice,showNetPrice:this.ticketDisplayState.value.showNetPrice,hideFareClass:this.ticketDisplayState.value.hideFareClass,showDuration:this.ticketDisplayState.value.showDuration,ticketDetail:this.getTicketDetail(c,n.airline)}}),d=U.groupBy(r,"cabinName");for(const c of Object.keys(d)){const u=Math.min(...d[c].map(T=>T.totalPrice));r.filter(T=>T.cabinName===c).forEach(T=>{T.isLowestFare=T.totalPrice===u})}const o=Math.min(...r.filter(c=>c.seatRemain).map(c=>c.totalPrice));return r.forEach(c=>{c.isLowestFareAvailable=c.totalPrice===o}),r})).sort((a,n)=>a.totalPrice-n.totalPrice).sort((a,n)=>a.stopStatus-n.stopStatus),this.listTicketDisplay=this.listTicket}convertAgentTicket(i=""){this.listTicketAgent=this.searchFlightData.flightOptions.flatMap((a,n)=>a.journeys.flatMap((r,d)=>({indexForTracking:`${r.airline}_${n}_${d}`,provider:a.provider,airline:r.airline,airlineName:this._flightDataService.getAirlineNameByCode(r.airline),airlineLogo:this._flightDataService.getAirlineLogoByCode(r.airline),mobileAirlineLogo:["VJ","VN","QH"].includes(r.airline)?"assets/airline-logo/"+r.airline+"_small.png":"assets/airline-logo/"+r.airline+".png",operating:r.operating,operatingName:r.operatingName,flightNumber:`${r.airline} ${r.segments[0].flightNumber}`,departure:{scheduleTime:h(1e3*r.departure.scheduleTime).toDate(),airport:r.departure.airport.code,localTime:h(r.departure.localTime).toDate()},arrival:{scheduleTime:h(1e3*r.arrival.scheduleTime).toDate(),airport:r.arrival.airport.code,localTime:h(r.arrival.localTime).toDate()},startPoint:r.departure.airport.code,endPoint:r.arrival.airport.code,duration:r.duration,expireTime:r.expireTime,durationStr:r.getDurationString(),numOfStop:r.numOfStops,numberOfSegment:r.segments.length,leg:r.leg,journeyKey:r.key,lookupSeatReamin:"VN"===r.airline,fareRule:this.listFareRule.find(o=>o.airline===r.airline)||null,segmentDetails:r.segments.map((o,c,_)=>{const u=o.getDelayString();return{segmentKey:o.key,airline:o.airline,airlineName:this._flightDataService.getAirlineNameByCode(o.airline),airlineLogo:this._flightDataService.getAirlineLogoByCode(r.airline),mobileAirlineLogo:["VJ","VN","QH"].includes(o.airline)?"assets/airline-logo/"+o.airline+"_small.png":"assets/airline-logo/"+o.airline+".png",jetCode:"N/A",startCode:o.departure.airport.code,endCode:o.arrival.airport.code,startPoint:this._locationDataService.getCityNameByCode(o.departure.airport.code),endPoint:this._locationDataService.getCityNameByCode(o.arrival.airport.code),departDate:h(o.departure.localTime).toDate(),arrivalDate:h(o.arrival.localTime).toDate(),flightNumber:o.flightNumber,duration:o.duration,durationStr:o.getDurationString(),modelAirplane:o.modelAirplane,modelAirplaneName:o.modelAirplaneName,operating:o.operating,operatingName:o.operatingName,stopPoint:u?`D\u1eebng t\u1ea1i: ${this._locationDataService.getAirportNameByCode(o.departure.airport.code)} (${o.departure.airport.code}). Th\u1eddi gian d\u1eebng: ${u}`:""}}),segmentsDisplay:["VJ","QH","VU"].includes(r.airline)?[{airline:r.airline,airlineLogo:this._flightDataService.getAirlineLogoByCode(r.airline),flightNumber:`${r.airline} ${r.segments[0].flightNumber}`,jetCode:"N/A",operating:r.operating,startPoint:r.departure.airport.code,endPoint:r.arrival.airport.code,segmentKey:void 0,fareClasses:r.fareOptions.map(o=>({totalPrice:o.getTotalAmount(),isExistPrice:!0,currency:o.currency?o.currency.code:"VN\u0110",segmentIndex:0,fareType:o.fareInfos[0].fareType.description,seatRemain:o.fareInfos[0].seatRemain,fareClass:o.fareInfos[0].fareClass,isSelected:!1,fareOptionKey:o.key,ticketPriceDetail:this.getTicketDetail(o,r.airline)})),departure:{scheduleTime:h(1e3*r.departure.scheduleTime).toDate(),airport:r.departure.airport.code,localTime:h(r.departure.localTime).toDate()},arrival:{scheduleTime:h(1e3*r.arrival.scheduleTime).toDate(),airport:r.arrival.airport.code,localTime:h(r.arrival.localTime).toDate()}}]:r.segments.map(o=>{var c;return{airline:o.airline,airlineLogo:this._flightDataService.getAirlineLogoByCode(o.airline),flightNumber:`${o.airline} ${o.flightNumber}`,jetCode:"N/A",operating:o.operating,startPoint:o.departure.airport.code,endPoint:o.arrival.airport.code,segmentKey:o.key,fareClasses:(null===(c=o.bookingClassArr)||void 0===c?void 0:c.reverse().map(_=>{const u=r.fareOptions&&r.fareOptions.length?r.fareOptions.find(T=>{var A;return(null===(A=T.fareInfos[0])||void 0===A?void 0:A.fareClass)===_.fareClass}):null;return{totalPrice:r.fareOptions&&-1!=r.fareOptions.findIndex(T=>T.fareInfos[0].fareClass===_.fareClass)?r.fareOptions.find(T=>T.fareInfos[0].fareClass===_.fareClass).getTotalAmount():0,isExistPrice:!(!r.fareOptions||-1==r.fareOptions.findIndex(T=>T.fareInfos[0].fareClass===_.fareClass)),currency:r.fareOptions?r.fareOptions[0].currency.code:"VN\u0110",fareType:"",segmentIndex:o.index,seatRemain:_.available,fareClass:_.fareClass,isSelected:!1,fareOptionKey:u?u.key:""}}))||[],departure:{scheduleTime:h(1e3*o.departure.scheduleTime).toDate(),airport:o.departure.airport.code,localTime:h(o.departure.localTime).toDate()},arrival:{scheduleTime:h(1e3*o.arrival.scheduleTime).toDate(),airport:o.arrival.airport.code,localTime:h(o.arrival.localTime).toDate()}}})}))),this.listTicketAgentDisplay=this.listTicketAgent,console.log(this.listTicketAgentDisplay)}filterChange(i){this.ticketFilterState.next(Object.assign(Object.assign({},this.ticketFilterState.value),i))}displayChange(i){this.ticketDisplayState.next(Object.assign(Object.assign({},this.ticketDisplayState.value),i))}modeChange(i){this.currentMode=i}onQuotation(){const i=this.searchInputForm.value[0],a={startPoint:i.startPoint,startPointName:this._locationDataService.getCityNameByCode(i.startPoint),endPoint:i.endPoint,endPointName:this._locationDataService.getCityNameByCode(i.endPoint),departDate:(0,D.p6)(new Date(i.departDate),"EEEE, dd/MM/yyyy","vi-VN"),departDateQuotation:i.departDate,mobileDepartDate:(0,D.p6)(new Date(i.departDate),"EEEE, dd/MM/yyyy","vi-VN"),leg:0,active:!0};this._modal.open(F.QuotationModalComponent,{isHiddenNetPrice:this.ticketDisplayState.value.showNetPrice,isHiddenCabin:this.ticketDisplayState.value.hideFareClass,listTicketDisplay:this.listTicketDisplay.filter(n=>n.seatRemain>0),journey:a,currentLeg:0,canEditHeader:this._permissionService.hasPermission(N.or.EditFlightTicketQuoteHeader)})}onSortChange(i){this.sortState=i,this.processSort(),this.ticketInfiniteScrollCount=this.TICKET_INFINITE_SCROLL_DEFAULT}processSort(){var i,a;switch(this.sortState){case"min_price":this.listTicketDisplay.sort(this.ticketDisplayState.value.showNetPrice?(n,r)=>n.netPrice-r.netPrice:(n,r)=>n.totalPrice-r.totalPrice);break;case"max_price":this.listTicketDisplay.sort(this.ticketDisplayState.value.showNetPrice?(n,r)=>r.netPrice-n.netPrice:(n,r)=>r.totalPrice-n.totalPrice);break;case"min_flight":this.listTicketDisplay.sort((n,r)=>n.duration-r.duration),this.listTicketAgentDisplay.sort((n,r)=>n.duration-r.duration);break;case"max_flight":this.listTicketDisplay.sort((n,r)=>r.duration-n.duration),this.listTicketAgentDisplay.sort((n,r)=>r.duration-n.duration);break;case"earliest_departure":this.listTicketDisplay.sort((n,r)=>n.departure.localTime.getTime()-r.departure.localTime.getTime()),this.listTicketAgentDisplay.sort((n,r)=>n.departure.localTime.getTime()-r.departure.localTime.getTime());break;case"late_departure":this.listTicketDisplay.sort((n,r)=>r.departure.localTime.getTime()-n.departure.localTime.getTime()),this.listTicketAgentDisplay.sort((n,r)=>r.departure.localTime.getTime()-n.departure.localTime.getTime());break;case"earliest_arrival":this.listTicketDisplay.sort((n,r)=>n.arrival.localTime.getTime()-r.arrival.localTime.getTime()),this.listTicketAgentDisplay.sort((n,r)=>n.arrival.localTime.getTime()-r.arrival.localTime.getTime());break;case"late_arrival":this.listTicketDisplay.sort((n,r)=>r.arrival.localTime.getTime()-n.arrival.localTime.getTime()),this.listTicketAgentDisplay.sort((n,r)=>r.arrival.localTime.getTime()-n.arrival.localTime.getTime())}null===(i=this.listTicketDisplay)||void 0===i||i.sort((n,r)=>Number(0===n.seatRemain)-Number(0===r.seatRemain)),null===(a=this.listTicketAgentDisplay)||void 0===a||a.sort((n,r)=>{const d=n.segmentsDisplay.some(c=>c.fareClasses.every(_=>!_.seatRemain))?0:1;return(r.segmentsDisplay.some(c=>c.fareClasses.every(_=>!_.seatRemain))?0:1)-d})}onShare(){this._modal.open(C.eP,{ticketsSelected:this.listTicketSelected.filter(i=>i.journeyKey),canEditHeader:this.canEditHeader,totalPrice:this.totalPrice,isHiddenTotalCharge:this.isHiddenTotalCharge})}onShowDetailInfo(i){const a=this.listTicketSelected[i],n={airline:a.airline,airlineName:a.airlineName,airlineLogo:a.airlineLogo,operating:a.operating,operatingName:a.operatingName,flightNumber:a.flight,journeyName:`Chuy\u1ebfn bay: ${a.startPoint} - ${a.endPoint}`,numOfStop:a.numOfStop,departureDate:h(a.startTime).format("HH:mm DD/MM/YYYY"),startPoint:a.startCode,startPointName:a.startPoint,endPoint:a.endCode,endPointName:a.endPoint,price:a.totalPrice,handBag:"Kh\xf4ng",segments:a.segments.map((r,d)=>({airline:r.airline,airlineSystem:r.airline,airlineName:r.airlineName,airlineLogo:r.airlineLogo,operating:r.operating,operatingName:r.operatingName,mobileAirlineLogo:["VJ","VN","QH"].includes(r.airline)?"assets/airline-logo/"+r.airline+"_small.png":"assets/airline-logo/"+r.airline+".png",flightNumber:r.airline+r.flightNumber,startTime:h(r.departDate).format("HH:mm"),startDate:h(r.departDate).format("DD/MM/YYYY"),startPoint:r.startCode,startPointName:r.startPoint,startAirport:this._locationDataService.getAirportNameByCode(r.startPoint),endTime:h(r.arrivalDate).format("HH:mm"),endDate:h(r.arrivalDate).format("DD/MM/YYYY"),endPoint:r.endCode,endPointName:r.endPoint,endAirport:this._locationDataService.getAirportNameByCode(r.endPoint),stopPoint:r.stopPoint,modelAirplane:r.modelAirplane,rules:[{name:"Th\u1eddi gian bay",value:r.duration},{name:"Lo\u1ea1i m\xe1y bay",value:r.modelAirplane},{name:"H\u1ea1ng ch\u1ed7",value:r.fareClass},{name:"H\xe0nh l\xfd k\xfd g\u1eedi",value:a.checkedBag||"N/A"},{name:"H\xe0nh l\xfd x\xe1ch tay",value:a.handBag||"N/A"}]})),ticketPrice:a.ticketPrice,fareRule:a.fareRule};this._detectMobileService.isMobile()?this._bottomSheetService.open(C._8,{containerFullHeigh:!0,headerTitle:"Th\xf4ng tin chuy\u1ebfn bay",leftButtonIcon:"arrow_left",rightButtonIcon:""}):this._modal.open(C.Zk,{flightInfo:n})}onReselected(i){this.listTicketSelected=[],this.ticketSelected.emit(this.listTicketSelected)}ticketTrackByFn(i,a){return a.indexForTracking}onScrollDown(){this.ticketInfiniteScrollCount+=this.TICKET_INFINITE_OFSET_INCREASE}chooseTicket(i){this.listTicketSelected=[{startPoint:this._locationDataService.getCityNameByCode(i.startPoint),endPoint:this._locationDataService.getCityNameByCode(i.endPoint),departDate:(0,D.p6)(i.startTime,"EEEE, dd/MM/yyyy","vi-VN"),startCode:i.startPoint,endCode:i.endPoint,airlineLogo:i.airlineLogo,provider:i.provider,airline:i.airline,airlineName:i.airlineName,operating:i.operating,operatingName:i.operatingName,flight:i.flightNumber,startTime:i.startTime,endTime:i.endTime,expireTime:i.expireTime,duration:i.durationStr,highlight:!0,selected:!0,actived:!0,numOfStop:i.stopStatus,totalPrice:i.ticketDetail.totalCharge,journeyKey:i.journeyKey,journeyFareClass:i.journeyFareClass,fareOptionKey:i.fareOptionKey,sessionId:"",segments:i.segments,bookingType:"b2c",leg:i.leg,isHiddenTotalCharge:0===i.ticketDetail.totalCharge&&"VN"===i.airline&&"agency"===this.currentMode,bagCharge:0,seatCharge:0,comboRefs:[],ticketPrice:i.ticketDetail}],this.totalPrice=i.ticketDetail.totalCharge,this._detectMobileService.isMobile()?this._bottomSheetService.open(C.GM,{headerTitle:"X\xe1c nh\u1eadn chuy\u1ebfn bay \u0111\xe3 ch\u1ecdn",rightButtonIcon:"close",containerFullHeigh:!0,rightButtonIconClass:"text-neutral-gray-4",data:{ticketsSelected:this.listTicketSelected,totalPrice:this.totalPrice}}).afterDismissed().subscribe(n=>{n&&this.ticketSelected.emit(this.listTicketSelected)}):this.ticketSelected.emit(this.listTicketSelected)}chooseAgentTicket(i){var a,n;this.listTicketSelected=[{startPoint:i.startPoint,endPoint:i.endPoint,departDate:"",startCode:i.startPoint,endCode:i.endPoint,airlineLogo:i.airlineLogo,provider:i.provider,airline:i.airline,airlineName:i.airlineName,operating:i.operating,operatingName:i.operatingName,flight:i.segmentsDisplay[0].flightNumber,startTime:i.departure.localTime,endTime:i.arrival.localTime,expireTime:i.expireTime,duration:i.durationStr,highlight:!0,leg:i.leg,sessionId:"",actived:!0,numOfStop:i.numOfStop,ticketPrice:i.ticketDetail,selected:!0,bookingType:"b2b",fareRule:i.fareRule,journeyFareClass:(null===(a=null==i?void 0:i.fareRule)||void 0===a?void 0:a.fareClass)||"",totalPrice:(null===(n=i.ticketDetail)||void 0===n?void 0:n.totalCharge)||0,journeyKey:"",fareOptionKey:i.journeyKey,segments:i.segmentDetails.map((r,d)=>{var o,c;return{segmentKey:r.segmentKey,fareClass:"VJ"===i.airline||"QH"===i.airline?null===(o=i.segmentsDisplay[0].fareClasses.find(_=>_.isSelected))||void 0===o?void 0:o.fareClass:null===(c=i.segmentsDisplay[d].fareClasses.find(_=>_.isSelected))||void 0===c?void 0:c.fareClass,airline:r.airline,airlineName:r.airlineName,airlineLogo:this._flightDataService.getAirlineLogoByCode(r.airline),operating:r.operating,operatingName:r.operatingName,jetCode:r.jetCode,startCode:r.startCode,endCode:r.endCode,startPoint:r.startPoint,endPoint:r.endPoint,departDate:r.departDate,arrivalDate:r.arrivalDate,flightNumber:r.flightNumber,modelAirplane:r.modelAirplane,modelAirplaneName:r.modelAirplaneName,stopPoint:r.stopPoint,duration:r.durationStr}}),bagCharge:0,seatCharge:0}],this.ticketSelected.emit(this.listTicketSelected)}getFareRuleClass(i,a,n){let r;r=this.listFareRuleClasses.find(c=>{var _;return i===c.airline&&(null==n?void 0:n.toLocaleUpperCase())===(null===(_=c.fareClass)||void 0===_?void 0:_.toLocaleUpperCase())})||null;const d=(null==r?void 0:r.rules.find(c=>"HAND_BAGGAGE"===c.cate))||null,o=(null==r?void 0:r.rules.find(c=>"CHECKED_BAGGAGE"===c.cate))||null;return{handBag:null==d?void 0:d.value,checkedBag:null==o?void 0:o.value}}getTicketDetail(i,a){const n=[];if(this.numberOfPassenger.adult){const d={type:"Ng\u01b0\u1eddi l\u1edbn (ADT)",quantity:this.numberOfPassenger.adult,baseFare:i.getBaseFare("ADULT",a),surCharge:i.getSurCharge("ADULT",a),totalFare:i.getTotalAmountByType("ADULT")*this.numberOfPassenger.adult};n.push(d)}if(this.numberOfPassenger.child){const d={type:"Tr\u1ebb em (CHD)",quantity:this.numberOfPassenger.child,baseFare:i.getBaseFare("CHILD",a),surCharge:i.getSurCharge("CHILD",a),totalFare:i.getTotalAmountByType("CHILD")*this.numberOfPassenger.child};n.push(d)}if(this.numberOfPassenger.infant){const d={type:"Em b\xe9 (INF)",quantity:this.numberOfPassenger.infant,baseFare:i.getBaseFare("INFANT",a),surCharge:i.getSurCharge("INFANT",a),totalFare:i.getTotalAmountByType("INFANT")*this.numberOfPassenger.infant};n.push(d)}return{totalCharge:n.reduce((d,o)=>d+o.totalFare,0),details:n}}loadTicketFilter(){this.listTicketDisplay=this.listTicket.filter(i=>0===this.ticketFilterState.value.showAirline.length||this.ticketFilterState.value.showAirline.includes(i.airline)).filter(i=>!!(!this.ticketFilterState.value.direct&&!this.ticketFilterState.value.oneRoute&&!this.ticketFilterState.value.moreRoute||this.ticketFilterState.value.direct&&0===i.stopStatus||this.ticketFilterState.value.oneRoute&&1===i.stopStatus||this.ticketFilterState.value.moreRoute&&i.stopStatus>1)).filter(i=>{if(0===i.leg){const a=60*i.departure.localTime.getHours()+i.departure.localTime.getMinutes();if(a<this.ticketFilterState.value.comboTime.departStartTime.from||a>this.ticketFilterState.value.comboTime.departStartTime.to)return!1;const n=60*i.arrival.localTime.getHours()+i.arrival.localTime.getMinutes();if(n<this.ticketFilterState.value.comboTime.departEndTime.from||n>this.ticketFilterState.value.comboTime.departEndTime.to)return!1}if(1===i.leg){const a=60*i.departure.localTime.getHours()+i.departure.localTime.getMinutes(),n=60*i.arrival.localTime.getHours()+i.arrival.localTime.getMinutes();if(a<this.ticketFilterState.value.comboTime.arriveStartTime.from||a>this.ticketFilterState.value.comboTime.arriveStartTime.to||n<this.ticketFilterState.value.comboTime.arriveEndTime.from||n>this.ticketFilterState.value.comboTime.arriveEndTime.to)return!1}return!0}).filter(i=>{var a,n;return this.ticketFilterState.value.fareclass.length>0&&"GDS"!==i.provider?this.ticketFilterState.value.fareclass.indexOf(null===(a=i.cabinName)||void 0===a?void 0:a.toUpperCase())>=0&&i.isLowestFare:null!==(n=this.ticketFilterState.value.fareclass)&&void 0!==n&&n.length||"GDS"===i.provider?i.isLowestFare:i.isLowestFareAvailable}).filter(i=>!(this.ticketFilterState.value.plane.length>0)||i.segments.map(a=>this.ticketFilterState.value.plane.indexOf(a.modelAirplane.toUpperCase())>=0).reduce((a,n)=>a||n,!1)).filter(i=>!(this.ticketFilterState.value.bookingSystem.length>0)||this.ticketFilterState.value.bookingSystem.map(a=>"GDS"===a?a===i.provider:"DOMESTIC"===a&&("VN"===i.provider||"VJ"===i.provider||"QH"===i.provider)).reduce((a,n)=>a||n,!1)).map(i=>Object.assign(Object.assign({},i),{showSalePrice:this.ticketDisplayState.value.showSalePrice,showNetPrice:this.ticketDisplayState.value.showNetPrice,hideFareClass:this.ticketDisplayState.value.hideFareClass,showDuration:this.ticketDisplayState.value.showDuration})),this.listTicketAgentDisplay=this.listTicketAgent.filter(i=>{const a=this.airlineList.map(n=>n.code.toLocaleLowerCase());return 0===a.length||a.includes(i.airline.toLowerCase())}).filter(i=>0===this.ticketFilterState.value.showAirline.length||this.ticketFilterState.value.showAirline.includes(i.airline)).filter(i=>!!(!this.ticketFilterState.value.direct&&!this.ticketFilterState.value.oneRoute&&!this.ticketFilterState.value.moreRoute||this.ticketFilterState.value.direct&&0===i.numOfStop||this.ticketFilterState.value.oneRoute&&1===i.numOfStop||this.ticketFilterState.value.moreRoute&&i.numOfStop>1)).filter(i=>{if(0===i.leg){const a=60*i.departure.localTime.getHours()+i.departure.localTime.getMinutes();if(a<this.ticketFilterState.value.comboTime.departStartTime.from||a>this.ticketFilterState.value.comboTime.departStartTime.to)return!1;const n=60*i.arrival.localTime.getHours()+i.arrival.localTime.getMinutes();if(n<this.ticketFilterState.value.comboTime.departEndTime.from||n>this.ticketFilterState.value.comboTime.departEndTime.to)return!1}if(1===i.leg){const a=60*i.departure.localTime.getHours()+i.departure.localTime.getMinutes(),n=60*i.arrival.localTime.getHours()+i.arrival.localTime.getMinutes();if(a<this.ticketFilterState.value.comboTime.arriveStartTime.from||a>this.ticketFilterState.value.comboTime.arriveStartTime.to||n<this.ticketFilterState.value.comboTime.arriveEndTime.from||n>this.ticketFilterState.value.comboTime.arriveEndTime.to)return!1}return!0}).filter(i=>{if(!this.ticketFilterState.value.plane.length)return!0;const a=i.segmentDetails.map(r=>r.modelAirplane);return!!this.ticketFilterState.value.plane.some(r=>a.includes(r))}),this.listTicketAgentDisplay=[...this.listTicketAgentDisplay],this.processSort(),this.ticketInfiniteScrollCount=this.TICKET_INFINITE_SCROLL_DEFAULT}loadTicketDisplay(){this.loadClientTicketDisplay()}loadClientTicketDisplay(){this.listTicketDisplay=(this.listTicketDisplay?this.listTicketDisplay:this.listTicket).map(i=>Object.assign(Object.assign({},i),{showSalePrice:this.ticketDisplayState.value.showSalePrice,showNetPrice:this.ticketDisplayState.value.showNetPrice,hideFareClass:this.ticketDisplayState.value.hideFareClass,showDuration:this.ticketDisplayState.value.showDuration}))}openSearchInputBottomSheet(i){this.bottomSheetRef=this._bottomSheetService.open(i,{headerTitle:"T\xecm ki\u1ebfm",leftButtonIcon:"close",rightButtonIcon:"",leftButtonIconClass:"text-neutral-gray-4",containerFullHeigh:!0}),this.bottomSheetRef.containerInstance._leftButtonClick.subscribe(a=>this.bottomSheetRef.dismiss())}}return s.\u0275fac=function(i){return new(i||s)(t.Y36(e.KNP),t.Y36(y.qu),t.Y36(l.oE),t.Y36(S.M),t.Y36(N.$A),t.Y36(Q.L),t.Y36(W.a2),t.Y36($.G),t.Y36(V._),t.Y36(G.v),t.Y36(R.h))},s.\u0275cmp=t.Xpm({type:s,selectors:[["search-journey-modify"]],inputs:{reroutingJourneySeleceted:"reroutingJourneySeleceted"},outputs:{ticketSelected:"ticketSelected"},standalone:!0,features:[t.TTD,t.jDz],decls:64,vars:61,consts:[[1,"flex","flex-col","gap-y-6","h-full","md:hidden"],[1,"bg-neutral-white","p-6","rounded"],[1,"flex","gap-x-2","items-center","mb-6"],["icon","plane","size","small"],[1,"text-heading-xs"],[1,"flex","gap-x-2"],[1,"flex-1"],[3,"formArray"],["cf-button","","size","medium","type","secondary",1,"w-[168px]","!py-[7px]","!h-auto","!max-h-14",3,"click"],["icon","search","size","small",1,"mr-2.5"],[1,"whitespace-nowrap"],[1,"flex-1","flex","gap-x-4"],[1,"w-[252px]","flex-shrink-0"],[3,"currentMode","airlineList","ticketFilter","ticketDisplay","fareclassList","planeModelList","selectedFare","departureTimeList","arrivalTimeList","durationFilter","minDuration","maxDuration","departTimeComboList","arriveTimeComboList","minFareClss","priceFilter","minPrice","maxPrice","bookingSystemList","ticketFilterChange","ticketDisplayChange"],[1,"mb-4","flex","justify-between","items-center"],[3,"modeView","disableAgencyMode","modeChange"],[1,"flex","gap-x-3"],["cf-button","","size","medium","type","secondary","class","bg-white flex gap-x-2",3,"click",4,"ngIf"],[1,"md:hidden",3,"sortDefault","sortChange"],[4,"ngIf"],[1,"mt-[56px]","w-[302px]","flex-shrink-0","rounded","h-fit","md:hidden","sticky","top-0"],[1,"bg-neutral-white"],[1,"flex","justify-between","items-center","py-3","px-4"],[1,"text-espressive-sm","text-neutral-black"],["class","cursor-pointer","icon","share","size","small",3,"click",4,"ngIf"],[3,"ticketsSelected","showDetail","reselect"],["class","flex justify-between items-center py-3 px-4",4,"ngIf"],[1,"hidden","md:flex","flex-col","gap-y-4"],[1,"flex-col","w-full","hidden","md:flex","sticky","top-0","z-[5]"],[1,"px-4","pt-3","pb-2","hidden","md:block","bg-white"],[1,"flex","items-center","justify-between","w-full"],[1,"flex","flex-col","grow-1","gap-y-1"],[1,"flex","items-center","gap-x-1"],[1,"text-espressive-sm","text-neutral-gray-6"],["icon","arrow_right","size","small",1,"text-secondary-7-5"],[1,"p-1","rounded-full","bg-secondary-6-1"],["icon","edit","size","small",1,"text-secondary-6-4",3,"click"],[1,"flex","items-center"],[1,"text-body-sm","text-neutral-gray-5"],[1,"w-0","border-r","border-r-secondary-7-2","mx-1","h-4"],[1,"pl-4","pt-0","hidden","md:block","bg-white","shadow-cf-md"],[1,"flex","items-center","gap-x-2","overflow-y-auto","pr-4","pb-3"],["searchInputBottomSheet",""],["cf-button","","size","medium","type","secondary",1,"bg-white","flex","gap-x-2",3,"click"],["icon","document","size","small",1,"text-heading-xs","text-neutral-black","mr-1.5"],["class","flex flex-col gap-y-3","infinite-scroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","scrollWindow","fromRoot","alwaysCallback","scrolled",4,"ngIf"],["infinite-scroll","",1,"flex","flex-col","gap-y-3",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","scrollWindow","fromRoot","alwaysCallback","scrolled"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"ticket","listFareRule","listFareRuleClasses","ticketSelected",4,"ngIf"],[3,"ticket","listFareRule","listFareRuleClasses","ticketSelected"],[4,"ngFor","ngForOf"],["icon","share","size","small",1,"cursor-pointer",3,"click"],[1,"text-heading-md","text-neutral-black"],[1,"bg-neutral-white","p-6","rounded-lg","w-full","shadow-cf-md","md:p-4"],[1,"flex","items-center","justify-between","mb-5"],[1,"md:w-full"],[1,"flex","items-center","justify-end","gap-x-4","md:hidden"],[1,"mb-[20px]","md:mb-4"],[1,"h-0","border-b","border-b-neutral-gray-2","my-4","hidden","md:block"],[1,"flex","justify-between","items-center","md:flex-col","md:items-start","md:gap-y-4"],[1,"flex","justify-start","gap-x-[34px]"],[1,"flex","items-center","gap-3"],["cf-button","","size","medium","color","primary-1","type","solid",1,"md:w-full","md:justify-center",3,"click"]],template:function(i,a){if(1&i){const n=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"cf-icon",3),t.TgZ(4,"div",4),t._uU(5,"Ch\u1ecdn h\xe0nh tr\xecnh m\u1edbi"),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6),t._UZ(8,"cf-search-flight-input",7),t.qZA(),t.TgZ(9,"button",8),t.NdJ("click",function(){return a.onResearchFlight()}),t._UZ(10,"cf-icon",9),t.TgZ(11,"div",10),t._uU(12," T\xecm chuy\u1ebfn bay "),t.qZA()()()(),t.TgZ(13,"div",11)(14,"div",12)(15,"app-filter-flight",13),t.NdJ("ticketFilterChange",function(d){return a.filterChange(d)})("ticketDisplayChange",function(d){return a.displayChange(d)}),t.qZA()(),t.TgZ(16,"div",6)(17,"div",14)(18,"app-switch-mode",15),t.NdJ("modeChange",function(d){return a.modeChange(d)}),t.qZA(),t.TgZ(19,"div",16),t.YNc(20,z,4,0,"button",17),t.TgZ(21,"app-sort-flight",18),t.NdJ("sortChange",function(d){return a.onSortChange(d)}),t.qZA()()(),t.YNc(22,te,2,1,"div",19),t.YNc(23,ne,2,1,"div",19),t.qZA(),t.TgZ(24,"div",20)(25,"div",21)(26,"div",22)(27,"div",23),t._uU(28,"Chuy\u1ebfn bay c\u1ee7a b\u1ea1n"),t.qZA(),t.YNc(29,oe,1,0,"cf-icon",24),t.qZA(),t.TgZ(30,"div")(31,"tickets-selected",25),t.NdJ("showDetail",function(d){return a.onShowDetailInfo(d)})("reselect",function(d){return a.onReselected(d)}),t.qZA()(),t.YNc(32,le,7,7,"div",26),t.qZA()()()(),t.TgZ(33,"div",27)(34,"div",28)(35,"div",29)(36,"div",30)(37,"div",31)(38,"div",32)(39,"div",33),t._uU(40),t.qZA(),t._UZ(41,"cf-icon",34),t.TgZ(42,"div",33),t._uU(43),t.qZA(),t.TgZ(44,"div",35)(45,"cf-icon",36),t.NdJ("click",function(){t.CHM(n);const d=t.MAs(63);return t.KtG(a.openSearchInputBottomSheet(d))}),t.qZA()()(),t.TgZ(46,"div",37)(47,"div",38),t._uU(48),t.ALo(49,"date"),t.qZA(),t._UZ(50,"div",39),t.TgZ(51,"div",38)(52,"div"),t._uU(53,"M\u1ed9t chi\u1ec1u"),t.qZA()()()(),t._UZ(54,"div"),t.qZA()(),t.TgZ(55,"div",40)(56,"div",41)(57,"app-filter-flight",13),t.NdJ("ticketFilterChange",function(d){return a.filterChange(d)})("ticketDisplayChange",function(d){return a.displayChange(d)}),t.qZA(),t.TgZ(58,"app-switch-mode",15),t.NdJ("modeChange",function(d){return a.modeChange(d)}),t.qZA()()()(),t.YNc(59,ue,2,1,"div",19),t.YNc(60,fe,2,1,"div",19),t.qZA(),t.YNc(61,ge,1,0,"cf-spinner",19),t.YNc(62,_e,13,1,"ng-template",null,42,t.W1O)}2&i&&(t.xp6(8),t.Q6J("formArray",a.searchInputForm),t.xp6(7),t.Q6J("currentMode",a.currentMode)("airlineList",a.airlineList)("ticketFilter",a.ticketFilterState.value)("ticketDisplay",a.ticketDisplayState.value)("fareclassList",a.fareclassList)("planeModelList",a.planModelList)("selectedFare",a.selectedFare)("departureTimeList",a.departureTimeList)("arrivalTimeList",a.arrivalTimeList)("durationFilter",a.durationFilter)("minDuration",a.minDuration)("maxDuration",a.maxDuration)("departTimeComboList",a.departTimeComboList)("arriveTimeComboList",a.arriveTimeComboList)("minFareClss",a.minFareClss)("priceFilter",a.priceFilter)("minPrice",a.minPrice)("maxPrice",a.maxPrice)("bookingSystemList",a.bookingSystemList)("priceFilter",a.priceFilter),t.xp6(3),t.Q6J("modeView",a.currentMode)("disableAgencyMode",!1),t.xp6(2),t.Q6J("ngIf",a.showQuotation&&"retail"===a.currentMode),t.xp6(1),t.Q6J("sortDefault",a.sortDefault),t.xp6(1),t.Q6J("ngIf","retail"===a.currentMode),t.xp6(1),t.Q6J("ngIf","agency"===a.currentMode),t.xp6(6),t.Q6J("ngIf",a.listTicketSelected.length),t.xp6(2),t.Q6J("ticketsSelected",a.listTicketSelected),t.xp6(1),t.Q6J("ngIf",!a.isHiddenTotalCharge),t.xp6(8),t.hij(" ",null==a.reroutingJourneySeleceted?null:a.reroutingJourneySeleceted.startPointCode,""),t.xp6(3),t.hij(" ",null==a.reroutingJourneySeleceted?null:a.reroutingJourneySeleceted.endPointCode,""),t.xp6(5),t.hij(" ",t.xi3(49,58,null==a.reroutingJourneySeleceted?null:a.reroutingJourneySeleceted.startTime,"dd/MM/yyyy")," "),t.xp6(9),t.Q6J("currentMode",a.currentMode)("airlineList",a.airlineList)("ticketFilter",a.ticketFilterState.value)("ticketDisplay",a.ticketDisplayState.value)("fareclassList",a.fareclassList)("planeModelList",a.planModelList)("selectedFare",a.selectedFare)("departureTimeList",a.departureTimeList)("arrivalTimeList",a.arrivalTimeList)("durationFilter",a.durationFilter)("minDuration",a.minDuration)("maxDuration",a.maxDuration)("departTimeComboList",a.departTimeComboList)("arriveTimeComboList",a.arriveTimeComboList)("minFareClss",a.minFareClss)("priceFilter",a.priceFilter)("minPrice",a.minPrice)("maxPrice",a.maxPrice)("bookingSystemList",a.bookingSystemList)("priceFilter",a.priceFilter),t.xp6(1),t.Q6J("modeView",a.currentMode)("disableAgencyMode",!1),t.xp6(1),t.Q6J("ngIf","retail"===a.currentMode),t.xp6(1),t.Q6J("ngIf","agency"===a.currentMode),t.xp6(1),t.Q6J("ngIf",a.isLoading))},dependencies:[D.ez,D.sg,D.O5,D.JJ,D.uU,e.AxE,e.Sm8,x.N8,x.Xq,Z.t3,C.a7,C.kx,C.ZZ,C.Vz,C.bM,C.qx,I.Rq,I.Ry,C.AS,m.OR],encapsulation:2}),s})()},58276:(B,J,p)=>{p.d(J,{G:()=>H});var D=p(36895),t=p(83700),y=p(72506),e=p(94650),F=p(97579);function C(m,x){if(1&m){const l=e.EpF();e.TgZ(0,"div",9),e.NdJ("click",function(){e.CHM(l);const R=e.oxw();return e.KtG(R.currentIndex="JOURNEY_DETAIL")}),e._uU(1," Chi ti\u1ebft h\xe0nh tr\xecnh m\u1edbi "),e.qZA()}if(2&m){const l=e.oxw();e.ekj("bg-secondary-3-5","JOURNEY_DETAIL"===l.currentIndex)("border-secondary-3-5","JOURNEY_DETAIL"===l.currentIndex)("text-neutral-white","JOURNEY_DETAIL"===l.currentIndex)}}function Z(m,x){if(1&m){const l=e.EpF();e.TgZ(0,"div",9),e.NdJ("click",function(){e.CHM(l);const R=e.oxw();return e.KtG(R.currentIndex="COMPARE_JOURNEY")}),e._uU(1," So s\xe1nh v\u1edbi h\xe0nh tr\xecnh c\u0169 "),e.qZA()}if(2&m){const l=e.oxw();e.ekj("bg-secondary-3-5","COMPARE_JOURNEY"===l.currentIndex)("border-secondary-3-5","COMPARE_JOURNEY"===l.currentIndex)("text-neutral-white","COMPARE_JOURNEY"===l.currentIndex)}}function N(m,x){if(1&m&&(e.TgZ(0,"div",47),e._UZ(1,"cf-icon",48),e.TgZ(2,"span",49),e._uU(3),e.qZA()()),2&m){const l=e.oxw().$implicit;e.xp6(3),e.hij(" ",l.stopPoint," ")}}function h(m,x){1&m&&e._UZ(0,"div",50)}function L(m,x){if(1&m&&(e.TgZ(0,"div",51)(1,"div",26),e._uU(2),e.qZA(),e.TgZ(3,"div",52),e._uU(4),e.qZA()()),2&m){const l=x.$implicit;e.xp6(2),e.hij("",l.name,":\xa0"),e.xp6(2),e.Oqu(l.value)}}const I=function(){return[]};function b(m,x){if(1&m&&(e.ynx(0),e.YNc(1,N,4,1,"div",17),e.TgZ(2,"div",18)(3,"div",19),e.YNc(4,h,1,0,"div",20),e.qZA(),e.TgZ(5,"div",21)(6,"div",22)(7,"div"),e._UZ(8,"img",23),e.qZA(),e.TgZ(9,"div",24)(10,"div",25),e._uU(11),e.qZA(),e.TgZ(12,"div",26),e._uU(13),e.qZA()(),e.TgZ(14,"div",27),e._uU(15),e.qZA()(),e.TgZ(16,"div",28)(17,"div",11)(18,"div",29)(19,"div",30),e._UZ(20,"cf-icon",31),e.TgZ(21,"div"),e._uU(22),e.qZA()(),e.TgZ(23,"div",32),e._UZ(24,"div",33)(25,"div",34)(26,"cf-icon",35),e.qZA()(),e.TgZ(27,"div",36),e._UZ(28,"cf-icon",37),e.TgZ(29,"div",38),e._uU(30),e.qZA()(),e.TgZ(31,"div",39),e._UZ(32,"cf-icon",40),e.TgZ(33,"div",41)(34,"span",42),e._uU(35),e.qZA(),e.TgZ(36,"span",43),e._uU(37),e.qZA()()()(),e.TgZ(38,"div")(39,"div",44),e._UZ(40,"cf-icon",31),e.TgZ(41,"div"),e._uU(42),e.qZA()(),e.TgZ(43,"div",36),e._UZ(44,"cf-icon",37),e.TgZ(45,"div",38),e._uU(46),e.qZA()(),e.TgZ(47,"div",39),e._UZ(48,"cf-icon",40),e.TgZ(49,"div",41)(50,"span",42),e._uU(51),e.qZA(),e.TgZ(52,"span",43),e._uU(53),e.qZA()()()()()(),e.TgZ(54,"div",45),e.YNc(55,L,5,2,"div",46),e.qZA()(),e.BQk()),2&m){const l=x.$implicit;e.xp6(1),e.Q6J("ngIf",l.stopPoint),e.xp6(3),e.Q6J("ngForOf",e.DdM(15,I).constructor(6)),e.xp6(4),e.Q6J("src","assets/airline-logo/"+l.operating+".png",e.LSH),e.xp6(3),e.hij("",l.operating," - "),e.xp6(2),e.hij("\xa0",l.operatingName,""),e.xp6(2),e.hij(" ",l.flightNumber," "),e.xp6(7),e.Oqu(l.startTime),e.xp6(8),e.Oqu(l.startDate),e.xp6(5),e.hij("",l.startPoint," - "),e.xp6(2),e.Oqu(l.startPointName),e.xp6(5),e.hij(" ",l.endTime," "),e.xp6(4),e.Oqu(l.endDate),e.xp6(5),e.hij("",l.endPoint," - "),e.xp6(2),e.Oqu(l.endPointName),e.xp6(2),e.Q6J("ngForOf",null==l?null:l.rules)}}function w(m,x){if(1&m&&(e.TgZ(0,"tr")(1,"td",59),e._uU(2),e.qZA(),e.TgZ(3,"td",59),e._uU(4),e.qZA(),e.TgZ(5,"td",59),e._uU(6),e.ALo(7,"number"),e.qZA(),e.TgZ(8,"td",59),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"td",60),e._uU(12),e.ALo(13,"number"),e.qZA()()),2&m){const l=x.$implicit;e.xp6(2),e.Oqu(l.name),e.xp6(2),e.Oqu(l.typeDisplay),e.xp6(2),e.Oqu(e.lcZ(7,5,l.baseFare)),e.xp6(3),e.Oqu(e.lcZ(10,7,l.taxFee)),e.xp6(3),e.Oqu(e.lcZ(13,9,l.totalPrice))}}function E(m,x){if(1&m&&(e.TgZ(0,"div")(1,"div",12),e._UZ(2,"cf-icon",13),e.TgZ(3,"span",14),e._uU(4,"Gi\xe1 v\xe9 g\u1ed1c"),e.qZA()(),e.TgZ(5,"table",53)(6,"thead")(7,"tr",54)(8,"th",55),e._uU(9,"H\xe0nh kh\xe1ch"),e.qZA(),e.TgZ(10,"th",55),e._uU(11,"Lo\u1ea1i"),e.qZA(),e.TgZ(12,"th",55),e._uU(13,"Gi\xe1 v\xe9"),e.qZA(),e.TgZ(14,"th",55),e._uU(15,"Thu\u1ebf ph\xed"),e.qZA(),e.TgZ(16,"th",56),e._uU(17,"T\u1ed5ng gi\xe1"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,w,14,11,"tr",15),e.qZA()(),e.TgZ(20,"div",57)(21,"div",25),e._uU(22,"T\u1ed5ng gi\xe1 v\xe9"),e.qZA(),e.TgZ(23,"div",58),e._uU(24),e.ALo(25,"number"),e.qZA()()()),2&m){const l=e.oxw(2);e.xp6(19),e.Q6J("ngForOf",l.passengers||e.DdM(4,I)),e.xp6(5),e.hij("",e.lcZ(25,2,l.flightInfo.ticketPrice.totalCharge)," \u0111")}}function M(m,x){if(1&m&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",12),e._UZ(3,"cf-icon",13),e.TgZ(4,"span",14),e._uU(5),e.qZA()(),e.YNc(6,b,56,16,"ng-container",15),e.qZA(),e.YNc(7,E,26,5,"div",16),e.qZA()),2&m){const l=e.oxw();e.xp6(5),e.lnq(" Th\xf4ng tin chuy\u1ebfn bay ",l.flightInfo.startPoint," - ",l.flightInfo.endPoint,", ",l.flightInfo.departureDate," "),e.xp6(1),e.Q6J("ngForOf",l.flightInfo.segments),e.xp6(1),e.Q6J("ngIf",l.flightInfo.ticketPrice)}}function U(m,x){if(1&m&&(e.TgZ(0,"div",61)(1,"div",62)(2,"div",63),e._UZ(3,"img",23),e.qZA(),e.TgZ(4,"div",64),e._uU(5,"H\xe0nh tr\xecnh hi\u1ec7n t\u1ea1i"),e.qZA(),e.TgZ(6,"div",65),e._uU(7,"H\xe0nh tr\xecnh m\u1edbi"),e.qZA()(),e.TgZ(8,"div",62)(9,"div",66),e._uU(10,"H\xe0nh tr\xecnh"),e.qZA(),e.TgZ(11,"div",63)(12,"div",67)(13,"span"),e._uU(14),e.qZA(),e._UZ(15,"cf-icon",68),e.TgZ(16,"span"),e._uU(17),e.qZA()()(),e.TgZ(18,"div",63)(19,"div",67)(20,"span"),e._uU(21),e.qZA(),e._UZ(22,"cf-icon",68),e.TgZ(23,"span"),e._uU(24),e.qZA()()()(),e.TgZ(25,"div",69)(26,"div",66),e._uU(27,"Gi\u1edd bay"),e.qZA(),e.TgZ(28,"div",70),e._uU(29),e.qZA(),e.TgZ(30,"div",70),e._uU(31),e.qZA()(),e.TgZ(32,"div",62)(33,"div",66),e._uU(34,"Ch\u1eb7ng bay"),e.qZA(),e.TgZ(35,"div",70),e._uU(36),e.qZA(),e.TgZ(37,"div",70),e._uU(38),e.qZA()(),e.TgZ(39,"div",69)(40,"div",66),e._uU(41,"Gi\xe1 v\xe9"),e.qZA(),e.TgZ(42,"div",70),e._uU(43),e.ALo(44,"number"),e.qZA(),e.TgZ(45,"div",70),e._uU(46),e.ALo(47,"number"),e.qZA()(),e.TgZ(48,"div",62)(49,"div",66),e._uU(50,"Ch\xeanh l\u1ec7ch"),e.qZA(),e.TgZ(51,"div",70),e._uU(52),e.ALo(53,"number"),e.qZA(),e.TgZ(54,"div",71),e._uU(55),e.ALo(56,"number"),e.qZA()()()),2&m){const l=e.oxw();e.xp6(3),e.Q6J("src","assets/airline-logo/"+l.flightInfo.airline+".png",e.LSH),e.xp6(11),e.hij(" ",l.compareJourneyData.oldJourney.startPoint,""),e.xp6(3),e.hij(" ",l.compareJourneyData.oldJourney.endPoint," "),e.xp6(4),e.hij(" ",l.compareJourneyData.newJourney.startPoint," "),e.xp6(3),e.hij(" ",l.compareJourneyData.newJourney.endPoint," "),e.xp6(5),e.Oqu(l.compareJourneyData.oldJourney.startTime),e.xp6(2),e.Oqu(l.compareJourneyData.newJourney.startTime),e.xp6(5),e.Oqu(l.compareJourneyData.oldJourney.redirectType),e.xp6(2),e.Oqu(l.compareJourneyData.newJourney.redirectType),e.xp6(5),e.hij("",e.lcZ(44,13,l.compareJourneyData.oldJourney.totalBaseFare)," \u0111"),e.xp6(3),e.hij("",e.lcZ(47,15,l.compareJourneyData.newJourney.totalBaseFare)," \u0111"),e.xp6(6),e.Oqu(l.compareJourneyData.oldJourney.gapCharge?e.lcZ(53,17,l.compareJourneyData.oldJourney.gapCharge)+" \u0111":""),e.xp6(3),e.hij("T\u0103ng ",e.lcZ(56,19,l.compareJourneyData.newJourney.gapCharge)," \u0111")}}let H=(()=>{class m{constructor(l,S){this.ref=S,this.currentIndex="JOURNEY_DETAIL",l.registerIcons([y.UNF,y.Ffn]),S&&(this.currentIndex=S.data.type,this.compareJourneyData=S.data.compareJourneyData,this.flightInfo=S.data.flightInfo,this.passengers=S.data.passengers)}onClose(){this.ref&&this.ref.close()}}return m.\u0275fac=function(l){return new(l||m)(e.Y36(y.KNP),e.Y36(F.gb))},m.\u0275cmp=e.Xpm({type:m,selectors:[["journey-modify-detail-modal"]],standalone:!0,features:[e.jDz],decls:12,vars:4,consts:[[1,"w-[800px]","rounded-lg","bg-neutral-white","overflow-hidden"],[1,"w-full","h-full","flex","flex-col"],[1,"p-6"],[1,"flex","gap-x-3"],["class","py-1.5 px-4 border border-neutral-gray-3 text-neutral-gray-4 text-heading-xs rounded-full cursor-pointer",3,"bg-secondary-3-5","border-secondary-3-5","text-neutral-white","click",4,"ngIf"],["class","flow-auto w-ful h-full overflow-auto py-4 px-6 flex flex-col gap-y-6",4,"ngIf"],["class","flex flex-col",4,"ngIf"],[1,"p-6","flex","justify-end","gap-x-4"],["cf-button","","size","medium",1,"min-w-[100px]","justify-center",3,"click"],[1,"py-1.5","px-4","border","border-neutral-gray-3","text-neutral-gray-4","text-heading-xs","rounded-full","cursor-pointer",3,"click"],[1,"flow-auto","w-ful","h-full","overflow-auto","py-4","px-6","flex","flex-col","gap-y-6"],[1,""],[1,"mb-4","flex","items-center","gap-x-2"],["icon","circle_information","size","small",1,"cf-icon-small"],[1,"text-heading-sm","text-neutral-black"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","w-full bg-[#F0EAF4] rounded flex items-center gap-x-2 py-1.5 px-3 my-3",4,"ngIf"],[1,"flex","justify-between","items-center","border","border-neutral-gray-2","rounded","shadow-cf-journey-booking-success","relative"],[1,"absolute","-translate-x-[18%]","top-0","h-full","flex","flex-col","justify-between","py-3.5"],["class","w-1.5 h-3 border border-l-0 bg-neutral-white border-neutral-gray-2 rounded-r-full",4,"ngFor","ngForOf"],[1,"px-8","pt-6","pb-8","flex","flex-1","justify-between","gap-x-9"],[1,"flex","flex-col","items-center","justify-center"],[1,"w-[120px]","h-[60px]","object-contain",3,"src"],[1,"flex","items-center","mt-1.5"],[1,"text-espressive-sm"],[1,"text-body-sm"],[1,"py-[2px]","px-2","bg-neutral-gray-1","rounded","text-espressive-sm","text-neutral-black","mt-2"],[1,"flex","justify-between","gap-x-3"],[1,"flex","items-center","gap-x-[20px]","mb-3"],[1,"text-heading-lg","text-neutral-black","flex","gap-x-2","items-center"],["icon","clock","size","small"],[1,"flex","items-center","w-[50px]","py-1","px-2.5"],[1,"w-1.5","h-1.5","bg-neutral-gray-2","rounded-full"],[1,"w-full","h-[1px]","bg-neutral-gray-2"],["icon","plane","size","small",1,"text-[#ccc]"],[1,"flex","items-center","gap-x-2","mb-2"],["icon","calendar","size","small"],[1,"text-body-md","text-neutral-black"],[1,"flex","items-center","gap-x-2"],["icon","location","size","small"],[1,"text-neutral-black"],[1,"text-espressive-md"],[1,"text-body-md"],[1,"text-heading-lg","text-neutral-black","mb-3","flex","gap-x-2","items-center"],[1,"py-6","px-[18px]","border-l","border-dashed","border-neutral-gray-2","flex","flex-col","justify-between","gap-y-2"],["class","flex flex-nowrap items-center",4,"ngFor","ngForOf"],[1,"w-full","bg-[#F0EAF4]","rounded","flex","items-center","gap-x-2","py-1.5","px-3","my-3"],["icon","circle_information","size","small",1,"text-secondary-2-4"],[1,"text-express-md","text-neutral-gray-6"],[1,"w-1.5","h-3","border","border-l-0","bg-neutral-white","border-neutral-gray-2","rounded-r-full"],[1,"flex","flex-nowrap","items-center"],[1,"text-espressive-sm","text-neutral-black"],[1,"table-auto","w-full"],[1,"border-b","border-neutral-gray-1"],[1,"text-left","text-espressive-sm","text-neutral-gray-4","py-3"],[1,"text-right","text-espressive-sm","text-neutral-gray-4","py-3"],[1,"flex","justify-end","items-center","gap-x-6","bg-secondary-3-1","py-1","px-2"],[1,"text-heading-md"],[1,"text-body-md","text-neutral-black","py-3"],[1,"text-right","text-body-md","text-neutral-black","py-3"],[1,"flex","flex-col"],[1,"flex","justify-around","items-center"],[1,"w-full","flex","justify-center","py-2.5"],[1,"w-full","flex","justify-center","py-2.5","text-heading-md","text-neutral-gray-6"],[1,"w-full","flex","justify-center","py-2.5","text-heading-md","text-secondary-3-3"],[1,"w-full","flex","justify-center","py-2.5","text-express-md"],[1,"text-heading-sm","py-1","px-3","bg-neutral-gray-1","flex","gap-x-2","items-center","justify-center","w-fit","rounded"],["icon","arrow_right","size","small"],[1,"flex","justify-around","items-center","bg-neutral-gray-0.5"],[1,"w-full","flex","justify-center","py-2.5","text-body-md-short"],[1,"w-full","flex","justify-center","py-2.5","text-body-md-short","text-primary-1-4"]],template:function(l,S){1&l&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,C,2,6,"div",4),e.YNc(5,Z,2,6,"div",4),e.qZA()(),e.TgZ(6,"div"),e.YNc(7,M,8,5,"div",5),e.YNc(8,U,57,21,"div",6),e.qZA(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return S.onClose()}),e._uU(11," \u0110\xf3ng "),e.qZA()()()()),2&l&&(e.xp6(4),e.Q6J("ngIf",S.flightInfo),e.xp6(1),e.Q6J("ngIf",S.compareJourneyData),e.xp6(2),e.Q6J("ngIf","JOURNEY_DETAIL"===S.currentIndex&&S.flightInfo),e.xp6(1),e.Q6J("ngIf","COMPARE_JOURNEY"===S.currentIndex&&S.compareJourneyData))},dependencies:[D.ez,D.sg,D.O5,D.JJ,y.AxE,y.Sm8,t.N8,t.Xq],encapsulation:2}),m})()}}]);