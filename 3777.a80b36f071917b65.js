"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[3777],{11787:(w,O,l)=>{l.d(O,{x:()=>t});var y=l(94650);let t=(()=>{class e{get btcResultData(){return JSON.parse(sessionStorage.getItem("btcResultData"))}set btcResultData(v){sessionStorage.setItem("btcResultData",JSON.stringify(v))}get btcCampaignData(){return JSON.parse(sessionStorage.getItem("btcCampaignData"))}set btcCampaignData(v){sessionStorage.setItem("btcCampaignData",JSON.stringify(v))}}return e.\u0275fac=function(v){return new(v||e)},e.\u0275prov=y.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},31380:(w,O,l)=>{l.d(O,{J:()=>B});var y=l(24006);class t{}var E=l(15439),v=l(50518),p=l(64070),M=l(94650),P=l(28490);let B=(()=>{class b{constructor(h,m){this._fb=h,this._locationDataSvc=m}updateJourneyByType(h,m){var D,d;if("ONE_WAY"==m){const s=null===(D=h.controls[0])||void 0===D?void 0:D.value;h.clear(),this.addJourney(s,h)}else if("ROUND_TRIP"==m){const s=null===(d=h.controls[0])||void 0===d?void 0:d.value;h.clear(),this.addJourney(s,h)}}addJourney(h,m){const D=this._fb.group({startPoint:[h.startPoint,y.kI.required],endPoint:[h.endPoint,y.kI.required],departDate:[h.departDate,y.kI.required],returnDate:[h.returnDate],cabin:[null],paxType:[null],airline:[null]});D.patchValue(h),m.push(D)}resetCabinList(h){return h.map(m=>Object.assign(Object.assign({},m),{actived:"ECONOMY"===m.value}))}resetPaxTypeList(h){return h.map(m=>Object.assign(Object.assign({},m),{actived:""===m.value}))}progressAirlineFileByInternational(h,m,D){const d=D?D.split(","):[];return h.map(m?s=>Object.assign(Object.assign({},s),{actived:d.includes(s.value)||s.value.split(",").some(_=>d.includes(_)),disabled:!1}):s=>Object.assign(Object.assign({},s),{actived:!["FLY_ONE","GDS,BSP,AIR_1G"].includes(s.value)&&(!!d.includes(s.value)||s.actived),disabled:["FLY_ONE","GDS,BSP,AIR_1G"].includes(s.value)}))}progressJourneyFormArr(h,m,D){return m!==p.VB.OneWay&&m===p.VB.RoundTrip&&h[0].returnDate?m===p.VB.RoundTrip&&h[0].returnDate?[Object.assign(Object.assign(Object.assign({},h[0]),D),{leg:0}),Object.assign({startPoint:h[0].endPoint,endPoint:h[0].startPoint,departDate:h[0].returnDate||null,leg:1},D)]:[]:[Object.assign(Object.assign(Object.assign({},h[0]),D),{leg:0})]}progressQueryToRawData(h){const m=new p.HA;if(h.p){const s=h.p.split("").map(Number);m.adultCount=s[0],m.childCount=s[1],m.infantCount=s[2]}else m.adultCount=1,m.childCount=0,m.infantCount=0;m.isDirectFlight="1"===h.d,m.journey=[];const D=h.c||null;Object.keys(h).forEach(s=>{if(s.startsWith("l")){const _=parseInt(s.substring(1)),[u,c,f]=h[s].split("_"),g=new t;g.leg=_,g.startPoint=u||"",g.endPoint=c||"",g.departDate=f?new Date(f):null,g.cabin=D||"",g.airline=h.a||"",g.paxType=h.pt||"",m.journey.push(g)}}),m.journey.length||m.journey.push({startPoint:"",endPoint:"",departDate:null,cabin:D||"",airline:h.a||"",paxType:h.pt||"",leg:0}),m.journey.sort((s,_)=>s.leg-_.leg),m.promotion=[],m.promotionGroupFilters=v.Sc.map(s=>{var _,u;const c=(null===(u=null===(_=h.pg)||void 0===_?void 0:_.split(",").find(f=>f.startsWith(s.airline)))||void 0===u?void 0:u.split("_")[1])||"";return Object.assign(Object.assign({},s),{selectedCode:c,items:c?[{code:c,description:c,isSystemPromotion:!1,isSelected:!0}]:[]})}),m.type=+h.t||p.VB.OneWay;const d=m.journey.some(s=>this._locationDataSvc.checkAirportInternational(s.startPoint)||this._locationDataSvc.checkAirportInternational(s.endPoint));return m.typeOfList=d&&m.type===p.VB.RoundTrip?p.YI.Combo:p.YI.Single,m}progressJourneyByType(h,m,D=[]){var d;const s=D.find(_=>0===_.leg);m===p.VB.MultiWay||(m===p.VB.RoundTrip?(h.clear(),this.addJourney(s?{startPoint:s.startPoint,endPoint:s.endPoint,departDate:s.departDate,returnDate:(null===(d=D.find(_=>1===_.leg))||void 0===d?void 0:d.departDate)||null}:{startPoint:null,endPoint:null,departDate:null,returnDate:null},h)):(h.clear(),this.addJourney(s?{startPoint:s.startPoint,endPoint:s.endPoint,departDate:s.departDate}:{startPoint:null,endPoint:null,departDate:null},h)))}compactInputData({adult:h,child:m,infant:D,journey:d,promotion:s,isDirectFlight:_,promotionGroupFilters:c}){const{cabin:g,airline:T,paxType:Z}=d[0];let x={pr:s.map(A=>`${A.airline}_${A.code}`).join(","),pg:null!=c&&c.length?c.filter(A=>A.selectedCode).map(A=>`${A.airline}_${A.selectedCode}`).join(","):"",p:""+h+m+D,d:_?1:null,c:g,a:T,pt:Z,t:1===d.length?0:2===d.length?1:2};return d.forEach(A=>{const{startPoint:I,endPoint:U,departDate:F,leg:R}=A,H=`l${R}`,G=`${I}_${U}_${E(F).format("YYYY-MM-DD")}`;x[H]=G}),x}removeEmptyFields(h){return Object.fromEntries(Object.entries(h).filter(([m,D])=>null!=D&&""!==D))}}return b.\u0275fac=function(h){return new(h||b)(M.LFG(y.qu),M.LFG(P._))},b.\u0275prov=M.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},50518:(w,O,l)=>{l.d(O,{Av:()=>e,Mf:()=>M,S:()=>p,Sc:()=>t,St:()=>v,_q:()=>E});var y=l(64070);const t=[{airline:"VN",airlineLogo:"assets/icons/vn-icon.svg",items:[],selectedCode:""},{airline:"QH",airlineLogo:"assets/icons/qh-icon.svg",items:[],selectedCode:""},{airline:"VJ",airlineLogo:"assets/icons/vj-icon.svg",items:[],selectedCode:""},{airline:"GDS",airlineLogo:"assets/icons/gds-icon.svg",items:[],selectedCode:""}],e={adultCount:1,childCount:0,infantCount:0,journey:[{startPoint:"",endPoint:"",departDate:null,cabin:"",paxType:"",airline:"",leg:0}],promotion:[],isDirectFlight:!1,type:y.VB.OneWay,typeOfList:y.YI.Single,promotionGroupFilters:t},E=[{name:"Vietnam Airlines (VN)",value:"VN",airlineDisplay:"VN",actived:!1,logo:"assets/icons/vn-icon.svg",disabled:!1},{name:"Vietjet Air (VJ)",value:"VJ",airlineDisplay:"VJ",actived:!1,logo:"assets/icons/vj-icon.svg",disabled:!1},{name:"Bamboo Airways (QH)",value:"QH",airlineDisplay:"QH",actived:!1,logo:"assets/icons/qh-icon.svg",disabled:!1},{name:"Vietravel Airlines (VU)",value:"VU",airlineDisplay:"VU",actived:!1,logo:"assets/icons/vu-icon.png",disabled:!1},{name:"Low Cost Carrier (LCC)",value:"FLY_ONE",airlineDisplay:"LCC",actived:!1,logo:"assets/icons/airline-default-icon.svg",disabled:!0},{name:"GDS (1G, 1A)",value:"GDS,BSP,AIR_1G",airlineDisplay:"GDS, 1A, 1G",actived:!1,logo:"assets/icons/airline-default-icon.svg",disabled:!0}],v=[{value:"ECONOMY",name:"Economy",actived:!1},{value:"PREMIUM_ECONOMY",name:"Premium Economy",actived:!1},{value:"FIRST",name:"First",actived:!1},{value:"BUSINESS",name:"Business",actived:!1}],p=[{value:"",name:"B\xecnh th\u01b0\u1eddng",actived:!1},{value:"LBR",name:"Lao \u0111\u1ed9ng",actived:!1},{value:"STU",name:"Du h\u1ecdc sinh",actived:!1},{value:"EMI",name:"Nh\u1eadp c\u01b0",actived:!1},{value:"SEA",name:"Thuy\u1ec1n vi\xean",actived:!1}],M=[{key:"flight",value:"Chi ti\u1ebft chuy\u1ebfn bay",valueMobile:"H\xe0nh tr\xecnh"},{key:"ticket",value:"Chi ti\u1ebft v\xe9",valueMobile:"Gi\xe1 v\xe9"},{key:"rule",value:"\u0110i\u1ec1u ki\u1ec7n gi\xe1 v\xe9",valueMobile:"\u0110i\u1ec1u ki\u1ec7n gi\xe1 v\xe9"}]},41047:(w,O,l)=>{l.d(O,{B:()=>y});const y=t=>Object.entries(t).map(([E,v])=>((E,v)=>null==v||"string"==typeof v&&""===v?null:Array.isArray(v)?`${E}=${v.map(p=>encodeURIComponent(String(p))).join(",")}`:"object"==typeof v?y(v):`${E}=${encodeURIComponent(String(v))}`)(E,v)).filter(E=>null!==E).join("&")},64070:(w,O,l)=>{l.d(O,{HA:()=>y,VB:()=>E,YI:()=>e});class y{constructor(){this.journey=[]}}var e=(()=>{return(p=e||(e={}))[p.Single=0]="Single",p[p.Combo=1]="Combo",e;var p})(),E=(()=>{return(p=E||(E={}))[p.OneWay=0]="OneWay",p[p.RoundTrip=1]="RoundTrip",p[p.MultiWay=2]="MultiWay",E;var p})()},54646:(w,O,l)=>{l.d(O,{x:()=>h});var y=l(36895),t=l(94650),e=l(83700),E=l(27898),v=l(72506),p=l(74891),M=l(80429),P=l(37094),B=l(98184);function b(m,D){if(1&m){const d=t.EpF();t.TgZ(0,"div",19)(1,"cf-checkbox",20),t.NdJ("checkChange",function(_){const c=t.CHM(d).$implicit,f=t.oxw(2);return t.KtG(f.checkChange(_,c.value))}),t.TgZ(2,"div",13),t._UZ(3,"img",21),t.TgZ(4,"div",22),t._uU(5),t.qZA()()()()}if(2&m){const d=D.$implicit;t.xp6(1),t.Q6J("disabled",d.disabled)("checked",d.actived),t.xp6(2),t.Q6J("src",d.logo,t.LSH),t.xp6(2),t.hij(" ",d.name," ")}}function k(m,D){if(1&m){const d=t.EpF();t.TgZ(0,"div",10)(1,"div",11)(2,"cf-checkbox",12),t.NdJ("checkChange",function(_){t.CHM(d);const u=t.oxw();return t.KtG(u.checkChange(_,"ALL"))}),t.TgZ(3,"div",13)(4,"div",14),t._uU(5,"H\xe3ng bay"),t.qZA()()(),t.TgZ(6,"div",15),t.YNc(7,b,6,4,"div",16),t.qZA()(),t.TgZ(8,"div",17)(9,"button",18),t.NdJ("click",function(){t.CHM(d);const _=t.oxw();return t.KtG(_.closeBotomSheet())}),t._uU(10,"X\xe1c nh\u1eadn"),t.qZA()()()}if(2&m){const d=t.oxw();t.xp6(2),t.Q6J("checked",d.isSelectedAll),t.xp6(5),t.Q6J("ngForOf",d.airlineList)}}let h=(()=>{class m{constructor(d){this.bottomSheetService=d,this.airlineFilterChange=new t.vpe,this.isOpen=!1,this.airlineSelected=[],this.title="T\u1ea5t c\u1ea3 c\xe1c h\xe3ng",this.isSelectedAll=!1,this.viewTitle=s=>null!=s&&s.every(_=>_.disabled&&!_.actived||!_.disabled&&!_.actived)||null!=s&&s.every(_=>!_.disabled&&_.actived||_.disabled&&!_.actived)?"T\u1ea5t c\u1ea3 c\xe1c h\xe3ng":null==s?void 0:s.filter(_=>!_.disabled&&_.actived).map(_=>_.airlineDisplay).join(", ")}ngOnChanges(d){this.airlineList&&this.airlineList.length&&this.checkSelectedAll()}ngOnInit(){this.airlineSelected=this.airlineList.filter(d=>d.actived).map(d=>d.airlineDisplay),this.checkSelectedAll()}click(d,s){matchMedia("(max-width: 768px)").matches?this.openBottomSheet(s):this.isOpen=!this.isOpen,d.stopPropagation()}outsideClick(d){this.isOpen=!1}checkChange(d,s){this.airlineList="ALL"===s?[...this.airlineList.map(c=>c.disabled?c:Object.assign(Object.assign({},c),{actived:d}))]:[...this.airlineList.map(c=>c.value===s?Object.assign(Object.assign({},c),{actived:d}):c)];const _=this.airlineList.filter(c=>c.actived);this.airlineSelected=_.map(c=>c.airlineDisplay);const u=_.map(c=>c.value);this.checkSelectedAll(),this.airlineFilterChange.emit(u)}checkSelectedAll(){this.isSelectedAll=this.airlineList.filter(d=>!d.disabled).every(d=>d.actived)}openBottomSheet(d){this.bottomSheetService.open(d,{headerTitle:"H\xe3ng bay",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",containerFullHeigh:!0}).containerInstance._rightButtonClick.subscribe(()=>this.bottomSheetService.dismiss())}closeBotomSheet(){this.bottomSheetService.dismiss()}}return m.\u0275fac=function(d){return new(d||m)(t.Y36(P.a2))},m.\u0275cmp=t.Xpm({type:m,selectors:[["btc-airline-filter"]],inputs:{airlineList:"airlineList"},outputs:{airlineFilterChange:"airlineFilterChange"},standalone:!0,features:[t.TTD,t.jDz],decls:16,vars:10,consts:[["cdkOverlayOrigin","","tabIndex","-1",1,"cursor-pointer",3,"click"],["trigger","","originOverlay","cdkOverlayOrigin"],[1,"md:hidden","flex","items-center","gap-x-2"],["icon","grid","size","small",1,"text-neutral-gray-5"],[1,"text-body-md","text-neutral-black"],["icon","down","size","small",1,"text-neutral-gray-5"],[1,"gap-x-1.5","items-center","border","border-neutral-gray-3","rounded-full","px-4","py-[5px]","hidden","md:flex"],[1,"text-body-md","whitespace-nowrap"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","overlayOutsideClick"],["bottomSheet",""],[1,"p-4","shadow-cf-lg","w-[280px]","bg-neutral-white","rounded","md:w-full","flex","flex-col"],[1,"flex","flex-col","gap-y-2"],["size","medium",1,"inline-flex",3,"checked","checkChange"],[1,"flex","items-center","gap-x-2"],[1,"text-heading-sm","text-neutral-black"],[1,"flex","flex-col","gap-y-2","md:gap-y-4"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"hidden","md:flex","flex-1","justify-end","flex-col"],["cf-button","",1,"w-full","justify-center",3,"click"],[1,"flex","items-center"],["size","medium",3,"disabled","checked","checkChange"],[1,"w-6","h-6","object-contain",3,"src"],[1,"text-body-md-long"]],template:function(d,s){if(1&d){const _=t.EpF();t.TgZ(0,"div",0,1),t.NdJ("click",function(c){t.CHM(_);const f=t.MAs(15);return t.KtG(s.click(c,f))}),t.TgZ(3,"div",2),t._UZ(4,"cf-icon",3),t.TgZ(5,"div",4),t._uU(6),t.ALo(7,"mapper"),t.qZA(),t._UZ(8,"cf-icon",5),t.qZA(),t.TgZ(9,"div",6)(10,"div",7),t._uU(11),t.ALo(12,"mapper"),t.qZA(),t._UZ(13,"cf-icon",5),t.qZA()(),t.YNc(14,k,11,2,"ng-template",8,9,t.W1O),t.NdJ("overlayOutsideClick",function(c){return s.outsideClick(c)})}if(2&d){const _=t.MAs(2);t.xp6(6),t.Oqu(t.xi3(7,4,s.airlineList,s.viewTitle)),t.xp6(5),t.Oqu(t.xi3(12,7,s.airlineList,s.viewTitle)),t.xp6(3),t.Q6J("cdkConnectedOverlayOrigin",_)("cdkConnectedOverlayOpen",s.isOpen)}},dependencies:[v.AxE,v.Sm8,p.f,B.pI,B.xu,E.u,y.ax,e.N8,e.Xq,M.q],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),m})()},99137:(w,O,l)=>{l.d(O,{w:()=>d});var y=l(98184),t=l(36895),e=l(94650),E=l(24006),v=l(83700),p=l(72506),M=l(74891),P=l(19123),B=l(80429),b=l(37094);const k=["bottomSheet"];function h(s,_){if(1&s){const u=e.EpF();e.ynx(0),e.TgZ(1,"cf-radio",19),e.NdJ("checkChange",function(){const g=e.CHM(u).$implicit,T=e.oxw(2);return e.KtG(T.onCabinSelected(g))}),e._uU(2),e.qZA(),e.BQk()}if(2&s){const u=_.$implicit;e.xp6(1),e.Q6J("value",u.value),e.xp6(1),e.Oqu(u.name)}}function m(s,_){if(1&s){const u=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13),e._uU(4,"Khoang h\u1ea1ng"),e.qZA()(),e.TgZ(5,"div",14)(6,"cf-radio-group",15),e.NdJ("ngModelChange",function(f){e.CHM(u);const g=e.oxw();return e.KtG(g.cabinSelectedTemp=f)}),e.YNc(7,h,3,2,"ng-container",16),e.qZA()()(),e.TgZ(8,"div",17)(9,"button",18),e.NdJ("click",function(){e.CHM(u);const f=e.oxw();return e.KtG(f.submitBottomSheet())}),e._uU(10,"X\xe1c nh\u1eadn"),e.qZA()()()}if(2&s){const u=e.oxw();e.xp6(6),e.Q6J("ngModel",u.cabinSelectedTemp),e.xp6(1),e.Q6J("ngForOf",u.cabinList)}}const D=function(s){return{"opacity-30 pointer-events-none":s}};let d=(()=>{class s{constructor(u,c){this.cfIconRegister=u,this.bottomSheetService=c,this.isOpen=!1,this.bottomCenter=[{originX:"start",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:0,offsetY:0}],this.cabinChange=new e.vpe,this.cabinSelected=f=>f.find(g=>g.actived),this.cfIconRegister.registerIcons([p.Nnv,p._7G])}ngOnChanges(u){var c;u.cabinList&&(this.cabinSelectedTemp=null===(c=this.cabinSelected(this.cabinList))||void 0===c?void 0:c.value)}click(u){this.actived&&(this.isOpen=!this.isOpen,u.stopPropagation())}outsideClick(){this.isOpen=!1}onCabinSelected(u){if(matchMedia("(max-width: 768px)").matches)this.cabinSelectedTemp=u.value;else{const c=Object.assign(Object.assign({},u),{actived:!u.actived});this.cabinChange.emit(c),this.isOpen=!1}}openBottomSheet(){var u;this.actived&&(this.cabinSelectedTemp=null===(u=this.cabinSelected(this.cabinList))||void 0===u?void 0:u.value,this.bottomSheetService.open(this.bottomSheet,{headerTitle:"Khoang h\u1ea1ng",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",containerFullHeigh:!0}).containerInstance._rightButtonClick.subscribe(()=>this.bottomSheetService.dismiss()))}submitBottomSheet(){const u=this.cabinList.find(c=>c.value===this.cabinSelectedTemp);this.cabinChange.emit(u),this.bottomSheetService.dismiss()}}return s.\u0275fac=function(u){return new(u||s)(e.Y36(p.KNP),e.Y36(b.a2))},s.\u0275cmp=e.Xpm({type:s,selectors:[["btc-cabin-selector"]],viewQuery:function(u,c){if(1&u&&e.Gf(k,5),2&u){let f;e.iGM(f=e.CRH())&&(c.bottomSheet=f.first)}},inputs:{cabinList:"cabinList",actived:"actived"},outputs:{cabinChange:"cabinChange"},standalone:!0,features:[e.TTD,e.jDz],decls:16,vars:17,consts:[[1,"hidden","md:flex","gap-x-1.5","items-center","border","border-neutral-gray-3","rounded-full","px-4","py-[5px]",3,"ngClass","click"],[1,"text-body-md","whitespace-nowrap"],["icon","down","size","small",1,"text-neutral-gray-5"],["cdkOverlayOrigin","","tabIndex","-1",1,"cursor-pointer","md:hidden",3,"ngClass","click"],["trigger","","originOverlay","cdkOverlayOrigin"],[1,"flex","items-center","gap-x-2"],["icon","seat","size","small",1,"text-neutral-gray-5"],[1,"text-body-md","text-neutral-black","whitespace-nowrap"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","overlayOutsideClick"],["bottomSheet",""],[1,"shadow-cf-lg","w-[220px]","justify-between","bg-neutral-white","rounded","md:w-full","p-4","flex","flex-col","gap-y-4"],[1,"flex","flex-col","w-full","gap-y-4"],[1,"flex","justify-start","items-center","rounded","md:hidden"],[1,"text-heading-sm","text-neutral-black"],[1,"flex","flex-col","gap-y-4"],[1,"flex","flex-col","gap-y-2.5",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"hidden","md:block"],["cf-button","",1,"w-full","justify-center",3,"click"],["size","medium",3,"value","checkChange"]],template:function(u,c){if(1&u&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return c.openBottomSheet()}),e.TgZ(1,"div",1),e._uU(2),e.ALo(3,"mapper"),e.qZA(),e._UZ(4,"cf-icon",2),e.qZA(),e.TgZ(5,"div",3,4),e.NdJ("click",function(g){return c.click(g)}),e.TgZ(8,"div",5),e._UZ(9,"cf-icon",6),e.TgZ(10,"div",7),e._uU(11),e.ALo(12,"mapper"),e.qZA(),e._UZ(13,"cf-icon",2),e.qZA()(),e.YNc(14,m,11,2,"ng-template",8,9,e.W1O),e.NdJ("overlayOutsideClick",function(){return c.outsideClick()})),2&u){const f=e.MAs(7);let g,T;e.Q6J("ngClass",e.VKq(13,D,!c.actived)),e.xp6(2),e.hij(" ",(null==(g=e.xi3(3,7,c.cabinList,c.cabinSelected))?null:g.name)||"Khoang h\u1ea1ng",""),e.xp6(3),e.Q6J("ngClass",e.VKq(15,D,!c.actived)),e.xp6(6),e.hij(" ",(null==(T=e.xi3(12,10,c.cabinList,c.cabinSelected))?null:T.name)||"Khoang h\u1ea1ng"," "),e.xp6(3),e.Q6J("cdkConnectedOverlayOrigin",f)("cdkConnectedOverlayOpen",c.isOpen)("cdkConnectedOverlayPositions",c.bottomCenter)}},dependencies:[t.ez,t.mk,t.sg,p.AxE,p.Sm8,M.f,y.pI,y.xu,y.U8,P.o,P.T,E.u5,E.JJ,E.On,v.N8,v.Xq,B.q],styles:["[_nghost-%COMP%]{display:block}"]}),s})()},53620:(w,O,l)=>{l.d(O,{l:()=>s});var y=l(98184),t=l(36895),e=l(94650),E=l(37094),v=l(83700),p=l(72506),M=l(74891);const P=["bottomSheet"];function B(_,u){1&_&&e._UZ(0,"cf-icon",12)}function b(_,u){if(1&_&&(e.TgZ(0,"div",8),e._UZ(1,"cf-icon",9),e.TgZ(2,"div",10),e._uU(3),e.qZA(),e.YNc(4,B,1,0,"cf-icon",11),e.qZA()),2&_){const c=e.oxw();e.xp6(3),e.hij("",c.adultNumber+c.childNumber," kh\xe1ch"),e.xp6(1),e.Q6J("ngIf",c.showIcon)}}function k(_,u){if(1&_&&(e.TgZ(0,"div",13),e._UZ(1,"cf-icon",14),e.TgZ(2,"div",15)(3,"label",16),e._uU(4," H\xe0nh kh\xe1ch "),e.qZA(),e.TgZ(5,"div",10),e._uU(6),e.qZA()()()),2&_){const c=e.oxw();e.xp6(6),e.hij("",c.adultNumber+c.childNumber," kh\xe1ch")}}function h(_,u){1&_&&e._UZ(0,"cf-icon",12)}function m(_,u){if(1&_&&(e.TgZ(0,"div",17)(1,"div",18),e._uU(2),e.qZA(),e.YNc(3,h,1,0,"cf-icon",11),e.qZA()),2&_){const c=e.oxw();e.xp6(2),e.hij("",c.adultNumber+c.childNumber," kh\xe1ch"),e.xp6(1),e.Q6J("ngIf",c.showIcon)}}function D(_,u){if(1&_&&(e.TgZ(0,"div",19),e._UZ(1,"cf-icon",14),e.TgZ(2,"div",15)(3,"label",16),e._uU(4," H\xe0nh kh\xe1ch "),e.qZA(),e.TgZ(5,"div",10),e._uU(6),e.qZA()()()),2&_){const c=e.oxw();e.xp6(6),e.hij("",c.adultNumber+c.childNumber," kh\xe1ch")}}function d(_,u){if(1&_){const c=e.EpF();e.TgZ(0,"div",20)(1,"div",21)(2,"div",22),e._uU(3,"H\xe0nh kh\xe1ch"),e.qZA()(),e.TgZ(4,"div",23)(5,"div",24),e._UZ(6,"cf-icon",25),e.TgZ(7,"div",15)(8,"div",26),e._uU(9,"Ng\u01b0\u1eddi l\u1edbn"),e.qZA(),e.TgZ(10,"div",27),e._uU(11,"Tr\xean 12 tu\u1ed5i"),e.qZA()()(),e.TgZ(12,"div",28)(13,"button",29),e.NdJ("click",function(){e.CHM(c);const g=e.oxw();return e.KtG(g.decrease("ADT"))}),e._UZ(14,"cf-icon",30),e.qZA(),e.TgZ(15,"div",31),e._uU(16),e.qZA(),e.TgZ(17,"button",29),e.NdJ("click",function(){e.CHM(c);const g=e.oxw();return e.KtG(g.increase("ADT"))}),e._UZ(18,"cf-icon",32),e.qZA()()(),e.TgZ(19,"div",23)(20,"div",24),e._UZ(21,"cf-icon",25),e.TgZ(22,"div",15)(23,"div",26),e._uU(24,"Tr\u1ebb em"),e.qZA(),e.TgZ(25,"div",27),e._uU(26,"T\u1eeb 2 - 12 tu\u1ed5i"),e.qZA()()(),e.TgZ(27,"div",28)(28,"button",29),e.NdJ("click",function(){e.CHM(c);const g=e.oxw();return e.KtG(g.decrease("CHD"))}),e._UZ(29,"cf-icon",30),e.qZA(),e.TgZ(30,"div",31),e._uU(31),e.qZA(),e.TgZ(32,"button",29),e.NdJ("click",function(){e.CHM(c);const g=e.oxw();return e.KtG(g.increase("CHD"))}),e._UZ(33,"cf-icon",32),e.qZA()()(),e.TgZ(34,"div",33)(35,"div",24),e._UZ(36,"cf-icon",25),e.TgZ(37,"div",15)(38,"div",26),e._uU(39,"Em b\xe9"),e.qZA(),e.TgZ(40,"div",27),e._uU(41,"D\u01b0\u1edbi 2 tu\u1ed5i"),e.qZA()()(),e.TgZ(42,"div",28)(43,"button",29),e.NdJ("click",function(){e.CHM(c);const g=e.oxw();return e.KtG(g.decrease("INF"))}),e._UZ(44,"cf-icon",30),e.qZA(),e.TgZ(45,"div",31),e._uU(46),e.qZA(),e.TgZ(47,"button",29),e.NdJ("click",function(){e.CHM(c);const g=e.oxw();return e.KtG(g.increase("INF"))}),e._UZ(48,"cf-icon",32),e.qZA()()(),e.TgZ(49,"div",34)(50,"button",35),e.NdJ("click",function(){e.CHM(c);const g=e.oxw();return e.KtG(g.closeBotomSheet())}),e._uU(51,"X\xe1c nh\u1eadn"),e.qZA()()()}if(2&_){const c=e.oxw();e.xp6(13),e.Q6J("disabled",c._adultNumber<=1||1===c._adultNumber&&1===c._infantNumber),e.xp6(3),e.Oqu(c._adultNumber),e.xp6(1),e.Q6J("disabled",c._adultNumber+c._childNumber===c.ADULT_CHILD_LIMIT),e.xp6(11),e.Q6J("disabled",0===c._childNumber||c._adultNumber+c._childNumber===1),e.xp6(3),e.Oqu(c._childNumber),e.xp6(1),e.Q6J("disabled",c._adultNumber+c._childNumber===c.ADULT_CHILD_LIMIT||c._childNumber===c.CHILD_LIMIT),e.xp6(11),e.Q6J("disabled",0===c._infantNumber),e.xp6(3),e.Oqu(c._infantNumber),e.xp6(1),e.Q6J("disabled",c._infantNumber===c._adultNumber)}}let s=(()=>{class _{constructor(c,f){this.cfIconRegister=c,this._bottomSheetSvc=f,this.adultNumber=1,this.childNumber=0,this.infantNumber=0,this.showIcon=!0,this._adultNumber=0,this._childNumber=0,this._infantNumber=0,this.ADULT_CHILD_LIMIT=9,this.CHILD_LIMIT=8,this.numberOfPassengerChange=new e.vpe,this.isOpen=!1,this.cfIconRegister.registerIcons([p.TOh,p.KYu,p.TM4,p.gll,p._7G])}ngOnChanges(){this._adultNumber=this.adultNumber,this._childNumber=this.childNumber,this._infantNumber=this.infantNumber}click(c){this.loadTempData(),matchMedia("(max-width: 768px)").matches?this.openBottomSheet():this.isOpen=!this.isOpen,c.stopPropagation()}outsideClick(c){this.isOpen=!1}emitData(){this.numberOfPassengerChange.emit({adult:this._adultNumber,child:this._childNumber,infant:this._infantNumber})}reset(){this.loadTempData()}loadTempData(){this._adultNumber=this.adultNumber,this._childNumber=this.childNumber,this._infantNumber=this.infantNumber}increase(c){switch(c){case"ADT":this._adultNumber++;break;case"CHD":this._childNumber++;break;case"INF":this._infantNumber++}this.emitData()}decrease(c){switch(c){case"ADT":this._adultNumber===this._infantNumber&&1!==this._adultNumber&&this._infantNumber--,this._adultNumber--;break;case"CHD":this._childNumber--;break;case"INF":this._infantNumber--}this.emitData()}openBottomSheet(){this._bottomSheetSvc.open(this.bottomSheet,{headerTitle:"S\u1ed1 l\u01b0\u1ee3ng h\xe0nh kh\xe1ch",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",containerFullHeigh:!0}).containerInstance._rightButtonClick.subscribe(()=>this._bottomSheetSvc.dismiss())}closeBotomSheet(){this._bottomSheetSvc.dismiss()}}return _.\u0275fac=function(c){return new(c||_)(e.Y36(p.KNP),e.Y36(E.a2))},_.\u0275cmp=e.Xpm({type:_,selectors:[["btc-num-of-pas"]],viewQuery:function(c,f){if(1&c&&e.Gf(P,5),2&c){let g;e.iGM(g=e.CRH())&&(f.bottomSheet=g.first)}},inputs:{adultNumber:"adultNumber",childNumber:"childNumber",infantNumber:"infantNumber",showIcon:"showIcon"},outputs:{numberOfPassengerChange:"numberOfPassengerChange"},standalone:!0,features:[e.TTD,e.jDz],decls:9,vars:6,consts:[["cdkOverlayOrigin","","tabIndex","-1",1,"cursor-pointer",3,"click"],["trigger","","originOverlay","cdkOverlayOrigin"],["class","flex items-center gap-x-2 md:hidden",4,"ngIf"],["class","flex items-center gap-x-3 md:hidden",4,"ngIf"],["class","gap-x-1.5 items-center border border-neutral-gray-3 rounded-full px-4 py-[5px] hidden md:flex",4,"ngIf"],["class","hidden md:flex md:items-center md:gap-x-3",4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","overlayOutsideClick"],["bottomSheet",""],[1,"flex","items-center","gap-x-2","md:hidden"],["icon","users","size","small",1,"text-neutral-gray-5"],[1,"text-body-md","text-neutral-black"],["class","text-neutral-gray-5","icon","down","size","small",4,"ngIf"],["icon","down","size","small",1,"text-neutral-gray-5"],[1,"flex","items-center","gap-x-3","md:hidden"],["icon","users","size","medium",1,"text-neutral-gray-4"],[1,"flex","flex-col","gap-y-1"],["cfLabel","","for","departDate",1,"text-express-md","text-neutral-gray-4","cursor-text"],[1,"gap-x-1.5","items-center","border","border-neutral-gray-3","rounded-full","px-4","py-[5px]","hidden","md:flex"],[1,"text-body-md","whitespace-nowrap"],[1,"hidden","md:flex","md:items-center","md:gap-x-3"],[1,"p-4","shadow-cf-lg","w-[280px]","bg-neutral-white","rounded","md:w-full","md:pt-5","md:overflow-hidden","flex","flex-col"],[1,"flex","justify-start","items-center","pb-3.5","rounded","md:hidden"],[1,"text-heading-sm","text-neutral-black"],[1,"flex","items-center","justify-between","mb-3","md:mb-4","md:gap-3"],[1,"flex","items-center","gap-x-3"],["icon","user","size","small"],[1,"text-espressive-md","text-neutral-black","md:text-heading-xs"],[1,"text-espressive-xs","text-neutral-gray-4","md:text-body-sm"],[1,"flex","items-center","justify-end"],["cf-button","","size","small","type","secondary",1,"!w-8","!h-8","flex","items-center","justify-center",3,"disabled","click"],["icon","minus","size","small"],[1,"text-espressive-md","text-neutral-black","mx-4"],["icon","plus","size","small"],[1,"flex","items-center","justify-between","mb-[22px]","md:mb-6","md:gap-3"],[1,"hidden","md:flex","flex-1","justify-end","flex-col"],["cf-button","",1,"w-full","justify-center",3,"click"]],template:function(c,f){if(1&c&&(e.TgZ(0,"div",0,1),e.NdJ("click",function(T){return f.click(T)}),e.YNc(3,b,5,2,"div",2),e.YNc(4,k,7,1,"div",3),e.YNc(5,m,4,2,"div",4),e.YNc(6,D,7,1,"div",5),e.qZA(),e.YNc(7,d,52,9,"ng-template",6,7,e.W1O),e.NdJ("overlayOutsideClick",function(T){return f.outsideClick(T)})),2&c){const g=e.MAs(2);e.xp6(3),e.Q6J("ngIf",f.showIcon),e.xp6(1),e.Q6J("ngIf",!f.showIcon),e.xp6(1),e.Q6J("ngIf",f.showIcon),e.xp6(1),e.Q6J("ngIf",!f.showIcon),e.xp6(1),e.Q6J("cdkConnectedOverlayOrigin",g)("cdkConnectedOverlayOpen",f.isOpen)}},dependencies:[t.ez,t.O5,p.AxE,p.Sm8,v.N8,v.Xq,M.f,y.pI,y.xu,y.U8,E.DW],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),_})()},37453:(w,O,l)=>{l.d(O,{d:()=>d});var y=l(98184),t=l(36895),e=l(94650),E=l(24006),v=l(83700),p=l(72506),M=l(74891),P=l(19123),B=l(80429),b=l(37094);const k=["bottomSheet"];function h(s,_){if(1&s){const u=e.EpF();e.ynx(0),e.TgZ(1,"cf-radio",19),e.NdJ("checkChange",function(){const g=e.CHM(u).$implicit,T=e.oxw(2);return e.KtG(T.onPaxTypeSelected(g))}),e._uU(2),e.qZA(),e.BQk()}if(2&s){const u=_.$implicit;e.xp6(1),e.Q6J("value",u.value),e.xp6(1),e.Oqu(u.name)}}function m(s,_){if(1&s){const u=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13),e._uU(4,"Lo\u1ea1i kh\xe1ch"),e.qZA()(),e.TgZ(5,"div",14)(6,"cf-radio-group",15),e.NdJ("ngModelChange",function(f){e.CHM(u);const g=e.oxw();return e.KtG(g.paxTypeSelectedTemp=f)}),e.YNc(7,h,3,2,"ng-container",16),e.qZA()()(),e.TgZ(8,"div",17)(9,"button",18),e.NdJ("click",function(){e.CHM(u);const f=e.oxw();return e.KtG(f.closeBottomSheet())}),e._uU(10,"X\xe1c nh\u1eadn"),e.qZA()()()}if(2&s){const u=e.oxw();e.xp6(6),e.Q6J("ngModel",u.paxTypeSelectedTemp),e.xp6(1),e.Q6J("ngForOf",u.paxTypeList)}}const D=function(s){return{"opacity-30 pointer-events-none":s}};let d=(()=>{class s{constructor(u,c){this.cfIconRegister=u,this.bottomSheetService=c,this.isOpen=!1,this.bottomCenter=[{originX:"start",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:0,offsetY:0}],this.paxTypeChange=new e.vpe,this.paxTypeSelected=f=>f.find(g=>g.actived),this.cfIconRegister.registerIcons([p.KYu,p._7G])}ngOnChanges(u){var c;u.paxTypeList&&(this.paxTypeSelectedTemp=null===(c=this.paxTypeSelected(this.paxTypeList))||void 0===c?void 0:c.value)}click(u){this.actived&&(this.isOpen=!this.isOpen,u.stopPropagation())}outsideClick(){this.isOpen=!1}onPaxTypeSelected(u){if(matchMedia("(max-width: 768px)").matches)this.paxTypeSelectedTemp=u.value;else{const c=Object.assign(Object.assign({},u),{actived:!u.actived});this.paxTypeChange.emit(c),this.isOpen=!1}}openBottomSheet(){this.actived&&this.bottomSheetService.open(this.bottomSheet,{headerTitle:"Lo\u1ea1i kh\xe1ch",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",containerFullHeigh:!0}).containerInstance._rightButtonClick.subscribe(()=>this.bottomSheetService.dismiss())}closeBottomSheet(){const u=this.paxTypeList.find(c=>c.value===this.paxTypeSelectedTemp);this.paxTypeChange.emit(u),this.bottomSheetService.dismiss()}}return s.\u0275fac=function(u){return new(u||s)(e.Y36(p.KNP),e.Y36(b.a2))},s.\u0275cmp=e.Xpm({type:s,selectors:[["btc-pax-type-selector"]],viewQuery:function(u,c){if(1&u&&e.Gf(k,5),2&u){let f;e.iGM(f=e.CRH())&&(c.bottomSheet=f.first)}},inputs:{paxTypeList:"paxTypeList",actived:"actived"},outputs:{paxTypeChange:"paxTypeChange"},standalone:!0,features:[e.TTD,e.jDz],decls:16,vars:17,consts:[[1,"hidden","md:flex","gap-x-1.5","items-center","border","border-neutral-gray-3","rounded-full","px-4","py-[5px]",3,"ngClass","click"],[1,"text-body-md","whitespace-nowrap"],["icon","down","size","small",1,"text-neutral-gray-5"],["cdkOverlayOrigin","","tabIndex","-1",1,"cursor-pointer","md:hidden",3,"ngClass","click"],["trigger","","originOverlay","cdkOverlayOrigin"],[1,"flex","items-center","gap-x-2"],["icon","user","size","small",1,"text-neutral-gray-5"],[1,"text-body-md","text-neutral-black","whitespace-nowrap"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","overlayOutsideClick"],["bottomSheet",""],[1,"shadow-cf-lg","w-[220px]","bg-neutral-white","rounded","md:w-full","p-4","flex","flex-col","gap-y-4","justify-between"],[1,"flex","flex-col","gap-y-4","w-full"],[1,"flex","justify-start","items-center","rounded","md:hidden"],[1,"text-heading-sm","text-neutral-black"],[1,"flex","flex-col","gap-y-4"],[1,"flex","flex-col","gap-y-2.5",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"hidden","md:block"],["cf-button","",1,"w-full","justify-center",3,"click"],["size","medium",3,"value","checkChange"]],template:function(u,c){if(1&u&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return c.openBottomSheet()}),e.TgZ(1,"div",1),e._uU(2),e.ALo(3,"mapper"),e.qZA(),e._UZ(4,"cf-icon",2),e.qZA(),e.TgZ(5,"div",3,4),e.NdJ("click",function(g){return c.click(g)}),e.TgZ(8,"div",5),e._UZ(9,"cf-icon",6),e.TgZ(10,"div",7),e._uU(11),e.ALo(12,"mapper"),e.qZA(),e._UZ(13,"cf-icon",2),e.qZA()(),e.YNc(14,m,11,2,"ng-template",8,9,e.W1O),e.NdJ("overlayOutsideClick",function(){return c.outsideClick()})),2&u){const f=e.MAs(7);let g,T;e.Q6J("ngClass",e.VKq(13,D,!c.actived)),e.xp6(2),e.Oqu((null==(g=e.xi3(3,7,c.paxTypeList,c.paxTypeSelected))?null:g.name)||"Lo\u1ea1i kh\xe1ch"),e.xp6(3),e.Q6J("ngClass",e.VKq(15,D,!c.actived)),e.xp6(6),e.hij(" ",(null==(T=e.xi3(12,10,c.paxTypeList,c.paxTypeSelected))?null:T.name)||"Lo\u1ea1i kh\xe1ch"," "),e.xp6(3),e.Q6J("cdkConnectedOverlayOrigin",f)("cdkConnectedOverlayOpen",c.isOpen)("cdkConnectedOverlayPositions",c.bottomCenter)}},dependencies:[t.ez,t.mk,t.sg,p.AxE,p.Sm8,M.f,y.pI,y.xu,y.U8,P.o,P.T,E.u5,E.JJ,E.On,v.N8,v.Xq,B.q],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),s})()},82858:(w,O,l)=>{l.d(O,{_:()=>Nt});var y=l(36895),t=l(94650),e=l(24006),E=l(83700),v=l(27898),p=l(88516),M=l(99590),P=l(72853),B=l(72506),b=l(44143),k=l(74713),h=l(64070),m=l(50633),D=l(15439),d=l(77296),s=l(77579),_=l(82722),u=l(37094),c=l(61135),f=l(78372);const g=["searchAirportEl"];function T(r,C){1&r&&(t.TgZ(0,"div",10),t._uU(1," Th\xe0nh ph\u1ed1 - S\xe2n bay "),t.qZA())}function Z(r,C){if(1&r){const n=t.EpF();t.TgZ(0,"div",14),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.optionClick(o))}),t._UZ(1,"div",15),t.ALo(2,"highlighter"),t._UZ(3,"div",16),t.ALo(4,"highlighter"),t.qZA()}if(2&r){const n=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("innerHtml",t.xi3(2,2,n.CityName+", "+n.Title,i.data.currentSelected),t.oJD),t.xp6(2),t.Q6J("innerHtml",t.xi3(4,5,n.Code+" - "+n.AirportName,i.data.currentSelected),t.oJD)}}function x(r,C){if(1&r&&(t.ynx(0),t.YNc(1,Z,5,8,"div",13),t.BQk()),2&r){const n=C.index,i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n<i.ticketInfiniteScrollCount)}}function A(r,C){if(1&r){const n=t.EpF();t.TgZ(0,"div",11),t.NdJ("scrolled",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.onScrollDown())})("touchmove",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.onScrollDown())}),t.YNc(1,x,2,1,"ng-container",12),t.qZA()}if(2&r){const n=t.oxw();t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0),t.xp6(1),t.Q6J("ngForOf",n.optionsDisplay)("ngForTrackBy",n.airportTrackByFn)}}function I(r,C){1&r&&(t.TgZ(0,"div",17),t._UZ(1,"img",18),t.TgZ(2,"div",19)(3,"div",20),t._uU(4," Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3 "),t.qZA(),t.TgZ(5,"div",21),t._uU(6," Vui l\xf2ng nh\u1eadp \u0111\xfang t\xean th\xe0nh ph\u1ed1 "),t._UZ(7,"br"),t._uU(8,"v\xe0 s\xe2n bay. "),t.qZA()()())}let U=(()=>{class r{constructor(n,i,o,a){this.data=n,this.registerIcons=i,this.cfBottomSheetRef=o,this.elementRef=a,this.TICKET_INFINITE_SCROLL_DEFAULT=40,this.TICKET_INFINITE_OFSET_INCREASE=30,this.ticketInfiniteScrollCount=this.TICKET_INFINITE_SCROLL_DEFAULT,this.searchTextChange=new c.X(""),this.optionsDisplay=[],i.registerIcons([B.esH]),n.airportOptions=n.airportOptions.filter(S=>!n.excludes.includes(S.Code)),this.optionsDisplay=n.airportOptions,n.currentSelected||(n.currentSelected="")}ngAfterViewInit(){setTimeout(()=>{this.searchAirportEl.focus()},200)}ngOnInit(){this.searchTextChange.pipe((0,f.b)(200)).subscribe(n=>{this.searchFilter(n)})}searchChange(n){this.searchTextChange.next(n.target.value)}searchFilter(n){this.optionsDisplay=""===n?this.data.airportOptions:this.data.airportOptions.filter(i=>this.removeAccents(i.Code.toLocaleLowerCase()).includes(this.removeAccents(n.toLocaleLowerCase()))||this.removeAccents(i.AirportName.toLocaleLowerCase()).includes(this.removeAccents(n.toLocaleLowerCase()))||this.removeAccents(i.CityName.toLocaleLowerCase()).includes(this.removeAccents(n.toLocaleLowerCase()))||this.removeAccents(i.Title.toLocaleLowerCase()).includes(this.removeAccents(n.toLocaleLowerCase())))}removeAccents(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D")}airportTrackByFn(n,i){return i.Code}onScrollDown(){this.ticketInfiniteScrollCount+=this.TICKET_INFINITE_OFSET_INCREASE}optionClick(n){this.cfBottomSheetRef.dismiss(n)}resetSearch(){this.searchAirportEl.focus(),this.data.currentSelected="",this.searchFilter("")}}return r.\u0275fac=function(n){return new(n||r)(t.Y36(u.Rr),t.Y36(B.KNP),t.Y36(u.Zu),t.Y36(t.SBq))},r.\u0275cmp=t.Xpm({type:r,selectors:[["btc-flight-airport-bottom-sheet"]],viewQuery:function(n,i){if(1&n&&t.Gf(g,5),2&n){let o;t.iGM(o=t.CRH())&&(i.searchAirportEl=o.first)}},hostAttrs:[1,"w-full","flex"],standalone:!0,features:[t.jDz],decls:10,vars:4,consts:[[1,"p-4","pb-0","flex","flex-col","gap-y-4","flex-auto","w-full","h-full"],[1,"relative"],[1,"!max-w-none","w-full","flex-grow-0","flex"],["id","search-airport","cf-input","",3,"ngModel","ngModelChange","input"],["searchAirportEl",""],["cfHeadIcon","","icon","search","size","small",1,"text-neutral-gray-4"],["icon","close","size","small",1,"absolute","right-0","top-1/2","-translate-y-1/2","mr-3",3,"click"],["class","text-neutral-gray-6-brandcolor text-left relative text-heading-xs text-neutral-gray-6",4,"ngIf"],["class","flex flex-col w-full flex-auto overflow-y-auto","infinite-scroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","fromRoot","alwaysCallback","scrolled","touchmove",4,"ngIf"],["class","flex flex-col justify-center items-center gap-y-5 flex-auto pb-[168px]",4,"ngIf"],[1,"text-neutral-gray-6-brandcolor","text-left","relative","text-heading-xs","text-neutral-gray-6"],["infinite-scroll","",1,"flex","flex-col","w-full","flex-auto","overflow-y-auto",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","fromRoot","alwaysCallback","scrolled","touchmove"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","flex flex-col py-2 px-3 border-b border-b-neutral-gray-1 shrink-0",3,"click",4,"ngIf"],[1,"flex","flex-col","py-2","px-3","border-b","border-b-neutral-gray-1","shrink-0",3,"click"],[1,"text-body-md-short","text-neutral-gray-6",3,"innerHtml"],[1,"text-body-sm","text-neutral-gray-4",3,"innerHtml"],[1,"flex","flex-col","justify-center","items-center","gap-y-5","flex-auto","pb-[168px]"],["src","assets/images/empty-result.svg",1,"w-16","h-16","object-contain"],[1,"flex","flex-col","gap-1","items-center","justify-start","shrink-0","relative"],[1,"text-neutral-gray-6-brandcolor","text-center","relative","text-heading-sm"],[1,"text-neutral-gray-5","text-center","relative","w-[257px]","text-body-md-long"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"cf-input-group",2)(3,"input",3,4),t.NdJ("ngModelChange",function(a){return i.data.currentSelected=a})("input",function(a){return i.searchChange(a)}),t.qZA(),t._UZ(5,"cf-icon",5),t.qZA(),t.TgZ(6,"cf-icon",6),t.NdJ("click",function(){return i.resetSearch()}),t.qZA()(),t.YNc(7,T,2,0,"div",7),t.YNc(8,A,2,7,"div",8),t.YNc(9,I,9,0,"div",9),t.qZA()),2&n&&(t.xp6(3),t.Q6J("ngModel",i.data.currentSelected),t.xp6(4),t.Q6J("ngIf",i.optionsDisplay.length>0),t.xp6(1),t.Q6J("ngIf",i.optionsDisplay.length>0),t.xp6(1),t.Q6J("ngIf",0===i.optionsDisplay.length))},dependencies:[y.ez,y.sg,y.O5,b.j$,b.ND,b.BN,B.AxE,B.Sm8,d.Rq,d.Ry,e.u5,e.Fj,e.JJ,e.On,m.T],encapsulation:2}),r})();var F=l(28490),R=l(9381),H=l(88605);const G=["dateFrom"],j=["dateRange"],W=["startPoint"];function V(r,C){1&r&&t._UZ(0,"cf-hint",34),2&r&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m kh\u1edfi h\xe0nh")}function q(r,C){1&r&&t._UZ(0,"cf-hint",34),2&r&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m kh\u1edfi h\xe0nh")}function z(r,C){1&r&&t._UZ(0,"cf-hint",34),2&r&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m \u0111\u1ebfn")}function $(r,C){1&r&&t._UZ(0,"cf-hint",34),2&r&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m \u0111\u1ebfn")}function X(r,C){1&r&&t._UZ(0,"cf-input-hint",35),2&r&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh")}function tt(r,C){1&r&&t._UZ(0,"cf-input-hint",35),2&r&&t.Q6J("hint","Ng\xe0y kh\u1edfi h\xe0nh ph\u1ea3i t\u1eeb ng\xe0y hi\u1ec7n t\u1ea1i tr\u1edf \u0111i")}function et(r,C){1&r&&t._UZ(0,"cf-input-hint",35),2&r&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function nt(r,C){1&r&&t._UZ(0,"cf-input-hint",35),2&r&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh")}function it(r,C){1&r&&t._UZ(0,"cf-input-hint",35),2&r&&t.Q6J("hint","Ng\xe0y kh\u1edfi h\xe0nh ph\u1ea3i t\u1eeb ng\xe0y hi\u1ec7n t\u1ea1i tr\u1edf \u0111i")}function ot(r,C){1&r&&t._UZ(0,"cf-input-hint",35),2&r&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function ct(r,C){if(1&r){const n=t.EpF();t.TgZ(0,"div",36)(1,"cf-field-group",37),t.NdJ("click",function(){t.CHM(n),t.oxw();const o=t.MAs(49),a=t.oxw(2);return t.KtG(a.oneWayDatePickerClick(o))}),t._UZ(2,"cf-icon",25),t.TgZ(3,"label",38),t._uU(4," Ng\xe0y kh\u1edfi h\xe0nh "),t.qZA(),t.TgZ(5,"input",39,40),t.NdJ("input",function(){t.CHM(n);const o=t.MAs(6);return t.KtG(o.close())})("dateSelect",function(){t.CHM(n);const o=t.MAs(6);return t.KtG(o.close())})("mousedown",function(o){t.CHM(n);const a=t.oxw(3);return t.KtG(a.roundTripFocus(o))}),t.qZA(),t.YNc(7,nt,1,1,"cf-input-hint",28),t.YNc(8,it,1,1,"cf-input-hint",28),t.YNc(9,ot,1,1,"cf-input-hint",28),t.qZA()()}if(2&r){const n=t.oxw(2),i=n.$implicit,o=n.index,a=t.oxw();t.xp6(1),t.Q6J("valid",i.controls.departDate.valid)("status",i.controls.departDate.invalid&&(i.controls.departDate.dirty||i.controls.departDate.touched)?"error":"default"),t.xp6(4),t.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",a.multiMinDate[o])("formControl",i.controls.departDate),t.xp6(2),t.Q6J("ngIf",(null==i.controls.departDate.errors?null:i.controls.departDate.errors.required)&&(i.controls.departDate.dirty||i.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==i.controls.departDate.errors||null==i.controls.departDate.errors.ngbDate?null:i.controls.departDate.errors.ngbDate.minDate)&&(i.controls.departDate.dirty||i.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==i.controls.departDate.errors||null==i.controls.departDate.errors.ngbDate?null:i.controls.departDate.errors.ngbDate.invalid)&&(i.controls.departDate.dirty||i.controls.departDate.touched))}}function rt(r,C){if(1&r){const n=t.EpF();t.TgZ(0,"cf-icon",41),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2).index,a=t.oxw();return t.KtG(a.onRemoveRoute(o))}),t.qZA()}if(2&r){const n=t.oxw(2).first;t.ekj("invisible",n)("pointer-events-none",n)}}function at(r,C){if(1&r){const n=t.EpF();t.TgZ(0,"div",50),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(4),a=t.MAs(5);return t.KtG(o.openAirlineMinFareBts(a))}),t.TgZ(1,"div",51),t._uU(2,"Ch\u1ecdn h\xe3ng"),t.qZA(),t._UZ(3,"cf-icon",52),t.qZA()}}function lt(r,C){if(1&r){const n=t.EpF();t.TgZ(0,"div",50),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(4),a=t.MAs(7);return t.KtG(o.openConfigMinFareBts(a))}),t.TgZ(1,"div",51),t._uU(2,"T\xf9y ch\u1ec9nh"),t.qZA(),t._UZ(3,"cf-icon",52),t.qZA()}}function st(r,C){if(1&r){const n=t.EpF();t.TgZ(0,"div",42)(1,"div",43),t.YNc(2,at,4,0,"div",44),t.YNc(3,lt,4,0,"div",44),t.qZA(),t.TgZ(4,"div",45)(5,"div",46),t.NdJ("scrolled",function(){t.CHM(n);const o=t.oxw(3);return t.KtG(o.scrollDown())}),t.TgZ(6,"cf-datepicker-inline",47),t.NdJ("dateSelect",function(o){t.CHM(n);const a=t.oxw(2).index,S=t.oxw();return t.KtG(S.dateSelectMobile(o,a))}),t.qZA()()(),t.TgZ(7,"div",48)(8,"button",49),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(3);return t.KtG(o.onMobileDatePickerOK())}),t._uU(9,"X\xe1c nh\u1eadn"),t.qZA()()()}if(2&r){const n=t.oxw(2).$implicit,i=t.oxw();t.xp6(2),t.Q6J("ngIf",i.minFareOptionConfig&&i.minFareOptionConfig.airlineMinPrice),t.xp6(1),t.Q6J("ngIf",i.minFareOptionConfig),t.xp6(2),t.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",2)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0)("infiniteScrollContainer",".ngb-dp-content"),t.xp6(1),t.Q6J("minDate",i.currentDate)("displayMonths",i.numOfMonth)("rangeSelection",!0)("secondaryCalendar","lunar")("formControl",n.controls.departDate)("footerOptionConfig",i.minFareOptionConfig)("fromDate",n.controls.departDate.value)("startDate",i.startDate)("displayMonthsOffset",0)}}const J=function(r){return[r]},L=function(){return{"text-express-md":!0}};function ut(r,C){if(1&r){const n=t.EpF();t.ynx(0),t.TgZ(1,"cf-select",7,8),t.NdJ("selectedChange",function(o){t.CHM(n);const a=t.MAs(20),S=t.oxw(2);return S.startPointChange(o),t.KtG(S.nextPosition(a))}),t._UZ(3,"cf-icon",9),t.TgZ(4,"label",10),t._uU(5," \u0110i\u1ec3m kh\u1edfi h\xe0nh "),t.qZA(),t._UZ(6,"input",11,12),t.YNc(8,V,1,1,"cf-hint",13),t.qZA(),t.TgZ(9,"div",14),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.openAirportBottomSheet(o.controls.startPoint,o.controls.endPoint))}),t.TgZ(10,"cf-select",15),t._UZ(11,"cf-icon",9),t.TgZ(12,"label",10),t._uU(13," \u0110i\u1ec3m kh\u1edfi h\xe0nh "),t.qZA(),t._UZ(14,"input",16,12),t.YNc(16,q,1,1,"cf-hint",13),t.qZA()(),t.TgZ(17,"button",17),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.swapPoint(o.controls.startPoint,o.controls.endPoint))}),t._UZ(18,"cf-icon",18),t.qZA(),t.TgZ(19,"cf-select",19,20),t.NdJ("selectedChange",function(o){t.CHM(n);const a=t.oxw(2);return t.KtG(a.endPointChange(o))}),t._UZ(21,"cf-icon",9),t.TgZ(22,"label",21),t._uU(23," \u0110i\u1ec3m \u0111\u1ebfn "),t.qZA(),t._UZ(24,"input",22,12),t.YNc(26,z,1,1,"cf-hint",13),t.qZA(),t.TgZ(27,"div",14),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.openAirportBottomSheet(o.controls.endPoint,o.controls.startPoint))}),t.TgZ(28,"cf-select",15),t._UZ(29,"cf-icon",9),t.TgZ(30,"label",21),t._uU(31," \u0110i\u1ec3m \u0111\u1ebfn "),t.qZA(),t._UZ(32,"input",22,12),t.YNc(34,$,1,1,"cf-hint",13),t.qZA()(),t.TgZ(35,"div",23)(36,"cf-field-group",24),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.onFocusDate())}),t._UZ(37,"cf-icon",25),t.TgZ(38,"label",26),t._uU(39," Ng\xe0y kh\u1edfi h\xe0nh "),t.qZA(),t.TgZ(40,"input",27),t.NdJ("input",function(){t.CHM(n);const o=t.MAs(45);return t.KtG(o.close())})("mousedown",function(o){t.CHM(n);const a=t.oxw(2);return t.KtG(a.roundTripFocus(o))})("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.dateType="DEPART")}),t.qZA(),t.YNc(41,X,1,1,"cf-input-hint",28),t.YNc(42,tt,1,1,"cf-input-hint",28),t.YNc(43,et,1,1,"cf-input-hint",28),t.qZA(),t.TgZ(44,"input",29,30),t.NdJ("navigate",function(o){t.CHM(n);const a=t.oxw(2);return t.KtG(a.onNavigateDatepicker(o))})("dateSelect",function(o){t.CHM(n);const a=t.MAs(45),S=t.oxw().$implicit;return t.oxw().onDepartDateSelection(o,S.controls.departDate),t.KtG(a.close())})("closed",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.dateRangePickerClose())}),t.qZA()(),t.YNc(46,ct,10,9,"div",31),t.YNc(47,rt,1,4,"cf-icon",32),t.YNc(48,st,10,18,"ng-template",null,33,t.W1O),t.BQk()}if(2&r){const n=t.oxw(),i=n.$implicit,o=n.index,a=t.oxw(),S=t.MAs(3);t.xp6(1),t.ekj("!grow-269",i.controls.returnDate),t.Q6J("maxHeight",230)("typeInput","FIELD")("status",i.controls.startPoint.invalid&&(i.controls.startPoint.dirty||i.controls.startPoint.touched)?"error":"default")("customSearch",a.positionSearchCustom)("excludes",a.excludesStartPoint||t.VKq(62,J,i.controls.endPoint.value))("formControl",i.controls.startPoint)("data",a.data)("optionTmp",S),t.xp6(3),t.Q6J("ngClass",t.DdM(64,L)),t.xp6(4),t.Q6J("ngIf",(null==i.controls.startPoint.errors?null:i.controls.startPoint.errors.required)&&(i.controls.startPoint.dirty||i.controls.startPoint.touched)),t.xp6(2),t.ekj("!grow-269",i.controls.returnDate),t.Q6J("typeInput","FIELD")("status",i.controls.startPoint.invalid&&(i.controls.startPoint.dirty||i.controls.startPoint.touched)?"error":"default")("customSearch",a.positionSearchCustom)("excludes",t.VKq(65,J,i.controls.endPoint.value))("formControl",i.controls.startPoint)("data",a.data)("optionTmp",S),t.xp6(2),t.Q6J("ngClass",t.DdM(67,L)),t.xp6(4),t.Q6J("ngIf",(null==i.controls.startPoint.errors?null:i.controls.startPoint.errors.required)&&(i.controls.startPoint.dirty||i.controls.startPoint.touched)),t.xp6(3),t.ekj("!grow-269",i.controls.returnDate),t.Q6J("maxHeight",230)("typeInput","FIELD")("status",i.controls.endPoint.invalid&&(i.controls.endPoint.dirty||i.controls.endPoint.touched)?"error":"default")("customSearch",a.positionSearchCustom)("excludes",a.excludesEndPoint||t.VKq(68,J,i.controls.startPoint.value))("formControl",i.controls.endPoint)("data",a.data)("optionTmp",S),t.xp6(3),t.Q6J("ngClass",t.DdM(70,L)),t.xp6(4),t.Q6J("ngIf",(null==i.controls.endPoint.errors?null:i.controls.endPoint.errors.required)&&(i.controls.endPoint.dirty||i.controls.endPoint.touched)),t.xp6(2),t.ekj("!grow-269",i.controls.returnDate),t.Q6J("typeInput","FIELD")("status",i.controls.endPoint.invalid&&(i.controls.endPoint.dirty||i.controls.endPoint.touched)?"error":"default")("customSearch",a.positionSearchCustom)("excludes",t.VKq(71,J,i.controls.endPoint.value))("formControl",i.controls.endPoint)("data",a.data)("optionTmp",S),t.xp6(2),t.Q6J("ngClass",t.DdM(73,L)),t.xp6(4),t.Q6J("ngIf",(null==i.controls.endPoint.errors?null:i.controls.endPoint.errors.required)&&(i.controls.endPoint.dirty||i.controls.endPoint.touched)),t.xp6(2),t.Q6J("valid",i.controls.departDate.valid)("status",i.controls.departDate.invalid&&(i.controls.departDate.dirty||i.controls.departDate.touched)?"error":"default"),t.xp6(4),t.Q6J("minDate",a.multiMinDate[o])("formControl",i.controls.departDate),t.xp6(1),t.Q6J("ngIf",(null==i.controls.departDate.errors?null:i.controls.departDate.errors.required)&&(i.controls.departDate.dirty||i.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==i.controls.departDate.errors||null==i.controls.departDate.errors.ngbDate?null:i.controls.departDate.errors.ngbDate.minDate)&&(i.controls.departDate.dirty||i.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==i.controls.departDate.errors||null==i.controls.departDate.errors.ngbDate?null:i.controls.departDate.errors.ngbDate.invalid)&&(i.controls.departDate.dirty||i.controls.departDate.touched)),t.xp6(1),t.Q6J("minDate",a.multiMinDate[o])("secondaryCalendar","lunar")("displayMonths",a.isMobile?1:2)("rangeSelection",!0)("fromDate",i.controls.departDate.value)("startDate",a.startDate)("containerWidth",a.isMobile?300:600),t.xp6(2),t.Q6J("ngIf",a.isMobile),t.xp6(1),t.Q6J("ngIf",a.formArray.length>2)}}function _t(r,C){1&r&&t._UZ(0,"cf-hint",34),2&r&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m kh\u1edfi h\xe0nh")}function pt(r,C){1&r&&t._UZ(0,"cf-hint",34),2&r&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m kh\u1edfi h\xe0nh")}function dt(r,C){1&r&&t._UZ(0,"cf-hint",34),2&r&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m \u0111\u1ebfn")}function ht(r,C){1&r&&t._UZ(0,"cf-hint",34),2&r&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m \u0111\u1ebfn")}function mt(r,C){1&r&&t._UZ(0,"cf-input-hint",35),2&r&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh")}function ft(r,C){1&r&&t._UZ(0,"cf-input-hint",35),2&r&&t.Q6J("hint","Ng\xe0y kh\u1edfi h\xe0nh ph\u1ea3i t\u1eeb ng\xe0y hi\u1ec7n t\u1ea1i tr\u1edf \u0111i")}function gt(r,C){1&r&&t._UZ(0,"cf-input-hint",35),2&r&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function Ct(r,C){1&r&&t._UZ(0,"cf-input-hint",35),2&r&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y v\u1ec1")}function xt(r,C){1&r&&t._UZ(0,"cf-input-hint",35),2&r&&t.Q6J("hint","Ng\xe0y v\u1ec1 ph\u1ea3i l\u1edbn h\u01a1n ng\xe0y \u0111i")}function vt(r,C){1&r&&t._UZ(0,"cf-input-hint",35),2&r&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function Dt(r,C){if(1&r){const n=t.EpF();t.TgZ(0,"div",50),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(4),a=t.MAs(5);return t.KtG(o.openAirlineMinFareBts(a))}),t.TgZ(1,"div",51),t._uU(2,"Ch\u1ecdn h\xe3ng"),t.qZA(),t._UZ(3,"cf-icon",52),t.qZA()}}function yt(r,C){if(1&r){const n=t.EpF();t.TgZ(0,"div",50),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(4),a=t.MAs(7);return t.KtG(o.openConfigMinFareBts(a))}),t.TgZ(1,"div",51),t._uU(2,"T\xf9y ch\u1ec9nh"),t.qZA(),t._UZ(3,"cf-icon",52),t.qZA()}}function Tt(r,C){1&r&&t._UZ(0,"cf-input-hint",35),2&r&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh")}function Et(r,C){1&r&&t._UZ(0,"cf-input-hint",35),2&r&&t.Q6J("hint","Ng\xe0y kh\u1edfi h\xe0nh ph\u1ea3i t\u1eeb ng\xe0y hi\u1ec7n t\u1ea1i tr\u1edf \u0111i")}function bt(r,C){1&r&&t._UZ(0,"cf-input-hint",35),2&r&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function St(r,C){1&r&&t._UZ(0,"cf-input-hint",35),2&r&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y v\u1ec1")}function Bt(r,C){1&r&&t._UZ(0,"cf-input-hint",35),2&r&&t.Q6J("hint","Ng\xe0y v\u1ec1 ph\u1ea3i l\u1edbn h\u01a1n ng\xe0y \u0111i")}function At(r,C){1&r&&t._UZ(0,"cf-input-hint",35),2&r&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function Ot(r,C){if(1&r){const n=t.EpF();t.TgZ(0,"div",68)(1,"div",43),t.YNc(2,Dt,4,0,"div",44),t.YNc(3,yt,4,0,"div",44),t.qZA(),t.TgZ(4,"div",69)(5,"cf-input-group",70)(6,"input",71),t.NdJ("ngModelChange",function(o){t.CHM(n);const a=t.oxw(2).$implicit,S=t.oxw();return t.KtG(S.fromDateChange(o,a.controls.returnDate))}),t.qZA(),t.YNc(7,Tt,1,1,"cf-input-hint",28),t.YNc(8,Et,1,1,"cf-input-hint",28),t.YNc(9,bt,1,1,"cf-input-hint",28),t.qZA(),t.TgZ(10,"div",72),t._uU(11,"~"),t.qZA(),t.TgZ(12,"cf-input-group",70)(13,"input",73),t.NdJ("ngModelChange",function(o){t.CHM(n);const a=t.oxw(2).$implicit,S=t.oxw();return t.KtG(S.toDateChange(o,a.controls.departDate))}),t.qZA(),t.YNc(14,St,1,1,"cf-input-hint",28),t.YNc(15,Bt,1,1,"cf-input-hint",28),t.YNc(16,At,1,1,"cf-input-hint",28),t.qZA()(),t.TgZ(17,"div",45)(18,"div",46),t.NdJ("scrolled",function(){t.CHM(n);const o=t.oxw(3);return t.KtG(o.scrollDown())}),t.TgZ(19,"cf-datepicker-inline",74),t.NdJ("dateSelect",function(o){t.CHM(n);const a=t.oxw(2).$implicit,S=t.oxw();return t.KtG(S.onMobileDateSelection(o,a.controls.departDate,a.controls.returnDate))}),t.qZA()()(),t.TgZ(20,"div",48)(21,"button",49),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(3);return t.KtG(o.onMobileDatePickerOK())}),t._uU(22," X\xe1c nh\u1eadn "),t.qZA()()()}if(2&r){const n=t.oxw(2).$implicit,i=t.oxw();t.xp6(2),t.Q6J("ngIf",i.minFareOptionConfig&&i.minFareOptionConfig.airlineMinPrice),t.xp6(1),t.Q6J("ngIf",i.minFareOptionConfig),t.xp6(2),t.Q6J("status",n.controls.departDate.invalid&&(n.controls.departDate.dirty||n.controls.departDate.touched)?"error":"default"),t.xp6(1),t.Q6J("minDate",i.currentDate)("formControl",n.controls.departDate),t.xp6(1),t.Q6J("ngIf",(null==n.controls.departDate.errors?null:n.controls.departDate.errors.required)&&(n.controls.departDate.dirty||n.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==n.controls.departDate.errors||null==n.controls.departDate.errors.ngbDate?null:n.controls.departDate.errors.ngbDate.minDate)&&(n.controls.departDate.dirty||n.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==n.controls.departDate.errors||null==n.controls.departDate.errors.ngbDate?null:n.controls.departDate.errors.ngbDate.invalid)&&(n.controls.departDate.dirty||n.controls.departDate.touched)),t.xp6(3),t.Q6J("status",n.controls.returnDate.invalid&&(n.controls.returnDate.dirty||n.controls.returnDate.touched)?"error":"default"),t.xp6(1),t.Q6J("minDate",i.minToDate)("formControl",n.controls.returnDate),t.xp6(1),t.Q6J("ngIf",(null==n.controls.returnDate.errors?null:n.controls.returnDate.errors.required)&&(n.controls.returnDate.dirty||n.controls.returnDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==n.controls.returnDate.errors||null==n.controls.returnDate.errors.ngbDate?null:n.controls.returnDate.errors.ngbDate.minDate)&&(n.controls.returnDate.dirty||n.controls.returnDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==n.controls.returnDate.errors||null==n.controls.returnDate.errors.ngbDate?null:n.controls.returnDate.errors.ngbDate.invalid)&&(n.controls.returnDate.dirty||n.controls.returnDate.touched)),t.xp6(2),t.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",2)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0)("infiniteScrollContainer",".ngb-dp-content"),t.xp6(1),t.Q6J("minDate",i.currentDate)("displayMonths",i.numOfMonth)("rangeSelection",!0)("secondaryCalendar","lunar")("footerOptionConfig",i.minFareOptionConfig)("fromDate",n.controls.departDate.value)("startDate",i.startDate)("toDate",n.controls.returnDate.value)("displayMonthsOffset",0)}}function Mt(r,C){if(1&r){const n=t.EpF();t.ynx(0),t.TgZ(1,"cf-select",53,8),t.NdJ("selectedChange",function(o){t.CHM(n);const a=t.MAs(20),S=t.oxw(2);return S.startPointChange(o),t.KtG(S.nextPosition(a))}),t._UZ(3,"cf-icon",9),t.TgZ(4,"label",10),t._uU(5," \u0110i\u1ec3m kh\u1edfi h\xe0nh "),t.qZA(),t._UZ(6,"input",16,12),t.YNc(8,_t,1,1,"cf-hint",13),t.qZA(),t.TgZ(9,"div",54),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.openAirportBottomSheet(o.controls.startPoint,o.controls.endPoint))}),t.TgZ(10,"cf-select",55),t._UZ(11,"cf-icon",9),t.TgZ(12,"label",10),t._uU(13," \u0110i\u1ec3m kh\u1edfi h\xe0nh "),t.qZA(),t._UZ(14,"input",16,12),t.YNc(16,pt,1,1,"cf-hint",13),t.qZA()(),t.TgZ(17,"button",56),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.swapPoint(o.controls.startPoint,o.controls.endPoint))}),t._UZ(18,"cf-icon",18),t.qZA(),t.TgZ(19,"cf-select",57,20),t.NdJ("selectedChange",function(o){t.CHM(n);const a=t.oxw(2);return t.KtG(a.endPointChange(o))}),t._UZ(21,"cf-icon",9),t.TgZ(22,"label",21),t._uU(23," \u0110i\u1ec3m \u0111\u1ebfn "),t.qZA(),t._UZ(24,"input",22,12),t.YNc(26,dt,1,1,"cf-hint",13),t.qZA(),t.TgZ(27,"div",54),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.openAirportBottomSheet(o.controls.endPoint,o.controls.startPoint))}),t.TgZ(28,"cf-select",58),t._UZ(29,"cf-icon",9),t.TgZ(30,"label",21),t._uU(31," \u0110i\u1ec3m \u0111\u1ebfn "),t.qZA(),t._UZ(32,"input",22,12),t.YNc(34,ht,1,1,"cf-hint",13),t.qZA()(),t.TgZ(35,"div",59)(36,"cf-field-group",60),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.onFocusDate())}),t._UZ(37,"cf-icon",25),t.TgZ(38,"label",61),t._uU(39," Ng\xe0y kh\u1edfi h\xe0nh "),t.qZA(),t.TgZ(40,"input",62),t.NdJ("input",function(){t.CHM(n);const o=t.MAs(45);return t.KtG(o.close())})("mousedown",function(o){t.CHM(n);const a=t.oxw(2);return t.KtG(a.roundTripFocus(o))})("ngModelChange",function(o){t.CHM(n);const a=t.oxw().$implicit,S=t.oxw();return t.KtG(S.fromDateChange(o,a.controls.returnDate))})("click",function(){t.CHM(n);const o=t.MAs(45),a=t.MAs(55),S=t.oxw().$implicit,N=t.oxw();return N.dateType="DEPART",t.KtG(N.roundTripDatePickerClick(o,a,S.controls.departDate))}),t.qZA(),t.YNc(41,mt,1,1,"cf-input-hint",28),t.YNc(42,ft,1,1,"cf-input-hint",28),t.YNc(43,gt,1,1,"cf-input-hint",28),t.qZA(),t.TgZ(44,"input",63,30),t.NdJ("reset",function(){t.CHM(n);const o=t.MAs(45),a=t.oxw().$implicit,S=t.oxw();return t.KtG(S.resetRangeDate(a.controls.departDate,a.controls.returnDate,o))})("dateSelect",function(o){t.CHM(n);const a=t.MAs(45),S=t.oxw().$implicit,N=t.oxw();return t.KtG(N.onDateSelection(o,S.controls.departDate,S.controls.returnDate,a))})("navigate",function(o){t.CHM(n);const a=t.oxw(2);return t.KtG(a.onNavigateDatepicker(o))})("closed",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.dateRangePickerClose())}),t.qZA(),t.TgZ(46,"cf-field-group",64),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.onFocusDate())}),t._UZ(47,"cf-icon",25),t.TgZ(48,"label",65),t._uU(49," Ng\xe0y v\u1ec1 "),t.qZA(),t.TgZ(50,"input",66),t.NdJ("input",function(){t.CHM(n);const o=t.MAs(45);return t.KtG(o.close())})("mousedown",function(o){t.CHM(n);const a=t.oxw(2);return t.KtG(a.roundTripFocus(o))})("ngModelChange",function(o){t.CHM(n);const a=t.oxw().$implicit,S=t.oxw();return t.KtG(S.toDateChange(o,a.controls.departDate))})("click",function(){t.CHM(n);const o=t.MAs(45),a=t.MAs(55),S=t.oxw().$implicit,N=t.oxw();return N.dateType="ARRIVE",t.KtG(N.roundTripDatePickerClick(o,a,S.controls.departDate))}),t.qZA(),t.YNc(51,Ct,1,1,"cf-input-hint",28),t.YNc(52,xt,1,1,"cf-input-hint",28),t.YNc(53,vt,1,1,"cf-input-hint",28),t.qZA(),t.YNc(54,Ot,23,30,"ng-template",null,67,t.W1O),t.qZA(),t.BQk()}if(2&r){const n=t.oxw().$implicit,i=t.oxw(),o=t.MAs(3);t.xp6(1),t.ekj("!grow-269",n.controls.returnDate),t.Q6J("maxHeight",230)("typeInput","FIELD")("status",n.controls.startPoint.invalid&&(n.controls.startPoint.dirty||n.controls.startPoint.touched)?"error":"default")("customSearch",i.positionSearchCustom)("excludes",i.excludesStartPoint||t.VKq(69,J,n.controls.endPoint.value))("formControl",n.controls.startPoint)("data",i.data)("optionTmp",o),t.xp6(3),t.Q6J("ngClass",t.DdM(71,L)),t.xp6(4),t.Q6J("ngIf",(null==n.controls.startPoint.errors?null:n.controls.startPoint.errors.required)&&(n.controls.startPoint.dirty||n.controls.startPoint.touched)),t.xp6(2),t.ekj("!grow-269",n.controls.returnDate),t.Q6J("typeInput","FIELD")("status",n.controls.startPoint.invalid&&(n.controls.startPoint.dirty||n.controls.startPoint.touched)?"error":"default")("customSearch",i.positionSearchCustom)("excludes",t.VKq(72,J,n.controls.endPoint.value))("formControl",n.controls.startPoint)("data",i.data)("optionTmp",o),t.xp6(2),t.Q6J("ngClass",t.DdM(74,L)),t.xp6(4),t.Q6J("ngIf",(null==n.controls.startPoint.errors?null:n.controls.startPoint.errors.required)&&(n.controls.startPoint.dirty||n.controls.startPoint.touched)),t.xp6(3),t.ekj("!grow-269",n.controls.returnDate),t.Q6J("maxHeight",230)("typeInput","FIELD")("status",n.controls.endPoint.invalid&&(n.controls.endPoint.dirty||n.controls.endPoint.touched)?"error":"default")("customSearch",i.positionSearchCustom)("excludes",i.excludesEndPoint||t.VKq(75,J,n.controls.startPoint.value))("formControl",n.controls.endPoint)("data",i.data)("optionTmp",o),t.xp6(3),t.Q6J("ngClass",t.DdM(77,L)),t.xp6(4),t.Q6J("ngIf",(null==n.controls.endPoint.errors?null:n.controls.endPoint.errors.required)&&(n.controls.endPoint.dirty||n.controls.endPoint.touched)),t.xp6(2),t.ekj("!grow-269",n.controls.returnDate),t.Q6J("typeInput","FIELD")("status",n.controls.endPoint.invalid&&(n.controls.endPoint.dirty||n.controls.endPoint.touched)?"error":"default")("customSearch",i.positionSearchCustom)("excludes",t.VKq(78,J,n.controls.endPoint.value))("formControl",n.controls.endPoint)("data",i.data)("optionTmp",o),t.xp6(2),t.Q6J("ngClass",t.DdM(80,L)),t.xp6(4),t.Q6J("ngIf",(null==n.controls.endPoint.errors?null:n.controls.endPoint.errors.required)&&(n.controls.endPoint.dirty||n.controls.endPoint.touched)),t.xp6(2),t.Q6J("valid",n.value.departDate)("status",n.controls.departDate.invalid&&(n.controls.departDate.dirty||n.controls.departDate.touched)?"error":"default"),t.xp6(4),t.Q6J("minDate",i.currentDate)("formControl",n.controls.departDate),t.xp6(1),t.Q6J("ngIf",(null==n.controls.departDate.errors?null:n.controls.departDate.errors.required)&&(n.controls.departDate.dirty||n.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==n.controls.departDate.errors||null==n.controls.departDate.errors.ngbDate?null:n.controls.departDate.errors.ngbDate.minDate)&&(n.controls.departDate.dirty||n.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==n.controls.departDate.errors||null==n.controls.departDate.errors.ngbDate?null:n.controls.departDate.errors.ngbDate.invalid)&&(n.controls.departDate.dirty||n.controls.departDate.touched)),t.xp6(1),t.Q6J("minDate",i.currentDate)("footerOptionConfig",i.minFareOptionConfig)("secondaryCalendar","lunar")("displayMonths",i.isMobile?1:2)("rangeSelection",!0)("fromDate",n.controls.departDate.value)("startDate",i.startDate)("containerWidth",i.isMobile?300:600)("toDate",n.controls.returnDate.value),t.xp6(2),t.Q6J("valid",n.value.returnDate)("status",n.controls.returnDate.invalid&&(n.controls.returnDate.dirty||n.controls.returnDate.touched)?"error":"default"),t.xp6(4),t.Q6J("minDate",i.minToDate)("formControl",n.controls.returnDate),t.xp6(1),t.Q6J("ngIf",(null==n.controls.returnDate.errors?null:n.controls.returnDate.errors.required)&&(n.controls.returnDate.dirty||n.controls.returnDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==n.controls.returnDate.errors||null==n.controls.returnDate.errors.ngbDate?null:n.controls.returnDate.errors.ngbDate.minDate)&&(n.controls.returnDate.dirty||n.controls.returnDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==n.controls.returnDate.errors||null==n.controls.returnDate.errors.ngbDate?null:n.controls.returnDate.errors.ngbDate.invalid)&&(n.controls.returnDate.dirty||n.controls.returnDate.touched))}}function It(r,C){if(1&r&&(t.TgZ(0,"div")(1,"div",5),t.YNc(2,ut,50,74,"ng-container",6),t.YNc(3,Mt,56,81,"ng-container",6),t.qZA()()),2&r){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.type===n.FLIGHT_TYPE_SEARCH.OneWay),t.xp6(1),t.Q6J("ngIf",n.type===n.FLIGHT_TYPE_SEARCH.RoundTrip)}}function Pt(r,C){if(1&r&&(t.TgZ(0,"div",75),t._UZ(1,"div",76),t.ALo(2,"highlighter"),t._UZ(3,"div",77),t.ALo(4,"highlighter"),t.qZA()),2&r){const n=C.item,i=C.search;t.xp6(1),t.Q6J("innerHtml",t.xi3(2,2,n.CityName+", "+n.Title,i.text),t.oJD),t.xp6(2),t.Q6J("innerHtml",t.xi3(4,5,n.Code+" - "+n.AirportName,i.text),t.oJD)}}function kt(r,C){if(1&r){const n=t.EpF();t.TgZ(0,"div")(1,"cf-checkbox",84),t.NdJ("checkChange",function(o){const S=t.CHM(n).$implicit,N=t.oxw(2);return t.KtG(N.onToggleAirline(S,o))}),t.TgZ(2,"span"),t._uU(3),t.qZA()()()}if(2&r){const n=C.$implicit;t.xp6(1),t.Q6J("checked",n.selected),t.xp6(1),t.Udp("color",n.color),t.xp6(1),t.Oqu(n.airline)}}function Zt(r,C){if(1&r){const n=t.EpF();t.TgZ(0,"div",78)(1,"div",79)(2,"div",80),t._uU(3,"Gi\xe1 th\u1ea5p nh\u1ea5t t\u1eeb c\xe1c h\xe3ng"),t.qZA(),t.TgZ(4,"div",81),t.YNc(5,kt,4,4,"div",1),t.qZA()(),t.TgZ(6,"div",82)(7,"button",83),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.confirmAirlineMinFare())}),t._uU(8," X\xe1c nh\u1eadn "),t.qZA()()()}if(2&r){const n=t.oxw();t.xp6(5),t.Q6J("ngForOf",n.minFareOptionConfig.airlineMinPrice)}}function wt(r,C){if(1&r){const n=t.EpF();t.TgZ(0,"div",78)(1,"div",79)(2,"div",80),t._uU(3,"T\xf9y ch\u1ec9nh hi\u1ec3n th\u1ecb"),t.qZA(),t.TgZ(4,"div",81)(5,"cf-checkbox",84),t.NdJ("checkChange",function(o){t.CHM(n);const a=t.oxw();return t.KtG(a.onToggleMinPrice(o))}),t._uU(6," Gi\xe1 r\u1ebb "),t.qZA(),t.TgZ(7,"cf-checkbox",84),t.NdJ("checkChange",function(o){t.CHM(n);const a=t.oxw();return t.KtG(a.onToggleLunarDate(o))}),t._uU(8," L\u1ecbch \xe2m "),t.qZA()()(),t.TgZ(9,"div",82)(10,"button",83),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.confirmConfigMinFare())}),t._uU(11," X\xe1c nh\u1eadn "),t.qZA()()()}if(2&r){const n=t.oxw();t.xp6(5),t.Q6J("checked",n.minFareOptionConfig.showMinPrice),t.xp6(2),t.Q6J("checked",n.minFareOptionConfig.showLunarDate)}}let Nt=(()=>{class r{constructor(n,i,o,a,S,N,Y){this.calendar=n,this.changeDetectorRef=i,this._locationDataService=o,this._bottomSheetService=a,this._mobileDetectService=S,this._viewportRuler=N,this.cfIconRegister=Y,this.FLIGHT_TYPE_SEARCH=h.VB,this.removeRoute=new t.vpe,this.dataChange=new t.vpe,this.toggleAirline=new t.vpe,this.navigateDatepicker=new t.vpe,this.dateTypeChange=new t.vpe,this.data=[],this.isShowErrorDateRange=!1,this.multiMinDate=[],this.isMobile=!1,this.dateType="",this.hasMinFare=!0,this._destroy$=new s.x,this.positionSearchCustom=(Q,Ft)=>{const Ut=this.removeAccents(Q.Code.toLowerCase()),Jt=this.removeAccents(Q.Title.toLowerCase()),Lt=this.removeAccents(Q.CityName.toLowerCase()),Rt=this.removeAccents(Q.AirportName.toLowerCase()),K=this.removeAccents(Ft.toLowerCase());return Ut.includes(K)||Jt.includes(K)||Lt.includes(K)||Rt.includes(K)},this.numOfMonth=4,this.currentDate=n.getToday(),Y.registerIcons([B.UNF,B.okA,B._tC,B.Ffn,B.wvd]),this.data=o.getAllOption(),this.isMobile=matchMedia("(max-width: 768px)").matches}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}ngOnChanges(n){this.hasMinFare=this.minFareOptionConfig&&this.minFareOptionConfig.minPrice.size>0}ngOnInit(){this.initMinDates(),this._viewportRuler.change().pipe((0,_.R)(this._destroy$)).subscribe(()=>{this.isMobile=matchMedia("(max-width: 768px)").matches,this.changeDetectorRef.detectChanges()})}startPointChange(n){this.excludesEndPoint=[n.Code]}endPointChange(n){this.excludesStartPoint=[n.Code],this.isMobile||this.nextDate(this.dateRange)}roundTripDatePickerClick(n,i,o){matchMedia("(max-width: 768px)").matches?(this.roundTripDatePickerBts=this._bottomSheetService.open(i,{headerTitle:"T\xf9y ch\u1ec9nh th\u1eddi gian",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",containerFullHeigh:!0}),this.roundTripDatePickerBts.containerInstance._leftButtonClick.subscribe(a=>this.roundTripDatePickerBts.dismiss())):("ARRIVE"===this.dateType&&o.value&&(this.currentDate=(0,p.jy)(o.value),setTimeout(()=>{n.navigateTo(this.currentDate)})),n.open())}oneWayDatePickerClick(n){this.isMobile&&(this.oneWayDatePickerBts=this._bottomSheetService.open(n,{headerTitle:"T\xf9y ch\u1ec9nh th\u1eddi gian",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",containerFullHeigh:!0}),this.oneWayDatePickerBts.containerInstance._leftButtonClick.subscribe(i=>this.oneWayDatePickerBts.dismiss()))}onFocusDate(){this.isMobile||this.nextDate(this.dateRange)}roundTripFocus(n){if(this.isMobile)return n.preventDefault(),!1}initMinDates(){this.formArray.controls.forEach(()=>{this.multiMinDate.push(this.calendar.getToday())})}nextPosition(n){setTimeout(()=>{n.selectFocus(),this.dataChange.emit()})}nextDate(n){n.focusTrigger(),this.dataChange.emit()}nextPositionRow(n){const i=this.startPoints.get(n+1);i&&setTimeout(()=>{i.onFocus()}),this.dataChange.emit()}calulateMinDate(n){let i=new Date;for(let o=n-1;o>=0;o--){const a=this.formArray.at(o).controls.departDate.value;if(a){i=a;break}}i&&(this.multiMinDate[n]=new p.Ao(i.getFullYear(),i.getMonth()+1,i.getDate()),this.changeDetectorRef.detectChanges())}onRemoveRoute(n){this.removeRoute.emit(n)}onDepartDateSelection(n,i){i.setValue(n),this.dataChange.emit()}onDateSelection(n,i,o,a){i.value||o.value?i.value&&!o.value&&n&&n.getTime()>=i.value.getTime()?(o.setValue(n),a.close(),this.startDate=i.value):i.value&&o.value&&n&&n.getTime()>=i.value.getTime()?"DEPART"===this.dateType?(i.setValue(n),this.currentDate=(0,p.jy)(i.value),this.dateType="ARRIVE"):(o.setValue(n),a.close()):(i.setValue(n),this.dateType="ARRIVE",this.currentDate=(0,p.jy)(i.value)):(i.setValue(n),this.currentDate=(0,p.jy)(i.value),this.dateType="ARRIVE"),this.dateTypeChange.emit(this.dateType)}onToDateSelection(n,i,o){o.fromDate=n.value,o.toDate=i.value,o.open()}dateRangePickerClose(){this.isShowErrorDateRange=!0}dateSelect(n,i){for(let o=i;o<this.formArray.length-1;o++){const a=this.formArray.at(o+1).controls.departDate.value;a&&n.getTime()>a.getTime()&&(this.formArray.at(o+1).controls.departDate.setValue(new Date(n.getTime()+864e5)),n=new Date(n.getTime()+864e5))}}onNavigateDatepicker(n){this.navigateDatepicker.emit(D(new Date(n.next.year,n.next.month)).add(2,"month").startOf("month").format("YYYY-MM-DD"))}dateSelectMobile(n,i){this.formArray.at(i).controls.departDate.setValue(n);for(let o=i;o<this.formArray.length-1;o++){const a=this.formArray.at(o+1).controls.departDate.value;a&&n.getTime()>a.getTime()&&(this.formArray.at(o+1).controls.departDate.setValue(new Date(n.getTime()+864e5)),n=new Date(n.getTime()+864e5))}}fromDateChange(n,i){"string"!=typeof n&&(n?(this.minToDate=new p.Ao(n.getFullYear(),n.getMonth()+1,n.getDate()),i.hasValidator(e.kI.required)&&i.removeValidators(e.kI.required),i.value&&n.getTime()>=i.value.getTime()&&i.setValue(null)):i.hasValidator(e.kI.required)||i.addValidators(e.kI.required),i.updateValueAndValidity({onlySelf:!0}),this.dataChange.emit())}toDateChange(n,i){i.hasValidator(e.kI.required)||i.addValidators(e.kI.required),i.updateValueAndValidity(),this.dataChange.emit()}resetDate(n){n.setValue("")}resetRangeDate(n,i,o){n.setValue(""),i.setValue(""),this.currentDate=(0,p.jy)(new Date),setTimeout(()=>{o.navigateTo(this.currentDate)})}swapPoint(n,i){if(""!=n.value&&""!=i.value){const o=n.value;n.setValue(i.value),i.setValue(o),this.changeDetectorRef.detectChanges()}}removeAccents(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D")}focusFirstStartPoint(){const n=this.startPoints.get(0);n&&setTimeout(()=>{n.inputElement.nativeElement.focus(),n.selectFocus()}),this.dataChange.emit()}openAirportBottomSheet(n,i){const o=this._bottomSheetService.open(U,{headerTitle:"Chuy\u1ebfn bay c\u1ee7a b\u1ea1n",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",containerFullHeigh:!0,data:{airportOptions:this.data,currentSelected:this._locationDataService.getCityNameByCode(n.value),excludes:[i.value]}});o.containerInstance._leftButtonClick.subscribe(a=>{o.dismiss()}),o.afterDismissed().subscribe(a=>{a&&(n.setValue(a.Code),this.dataChange.emit())})}scrollDown(){this.numOfMonth=this.numOfMonth+4;const n=D(new Date).add(this.numOfMonth,"month").startOf("month").format("YYYY-MM-DD");this.navigateDatepicker.emit(n)}onMobileDateSelection(n,i,o){i.value||o.value?i.value&&!o.value&&n&&n.getTime()>=i.value.getTime()?(o.setValue(n),this.startDate=new Date):(o.setValue(null),i.setValue(n)):i.setValue(n)}onMobileDatePickerOK(){this.dataChange.emit(),this.oneWayDatePickerBts&&this.oneWayDatePickerBts.dismiss(),this.roundTripDatePickerBts&&this.roundTripDatePickerBts.dismiss()}openAirlineMinFareBts(n){this.isMobile&&(this.airlineMinFareBtsRef=this._bottomSheetService.open(n,{headerTitle:"Ch\u1ecdn h\xe3ng",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:""}),this.airlineMinFareBtsRef.containerInstance._leftButtonClick.subscribe(i=>this.airlineMinFareBtsRef.dismiss()))}openConfigMinFareBts(n){this.isMobile&&(this.configMinFareBtsRef=this._bottomSheetService.open(n,{headerTitle:"T\xf9y ch\u1ec9nh",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:""}),this.configMinFareBtsRef.containerInstance._leftButtonClick.subscribe(i=>this.configMinFareBtsRef.dismiss()))}confirmAirlineMinFare(){this.airlineMinFareBtsRef&&this.airlineMinFareBtsRef.dismiss()}confirmConfigMinFare(){this.configMinFareBtsRef&&this.configMinFareBtsRef.dismiss()}onToggleMinPrice(n){this.minFareOptionConfig.showMinPrice=n,this.minFareOptionConfig=Object.assign({},this.minFareOptionConfig)}onToggleLunarDate(n){this.minFareOptionConfig.showLunarDate=n,this.minFareOptionConfig=Object.assign({},this.minFareOptionConfig)}onToggleAirline(n,i){n.selected=i,this.toggleAirline.emit(!0)}}return r.\u0275fac=function(n){return new(n||r)(t.Y36(p.jH),t.Y36(t.sBO),t.Y36(F._),t.Y36(u.a2),t.Y36(R.L),t.Y36(H.rL),t.Y36(B.KNP))},r.\u0275cmp=t.Xpm({type:r,selectors:[["btc-search-input"]],viewQuery:function(n,i){if(1&n&&(t.Gf(G,5),t.Gf(j,5),t.Gf(W,5)),2&n){let o;t.iGM(o=t.CRH())&&(i.dateFrom=o.first),t.iGM(o=t.CRH())&&(i.dateRange=o.first),t.iGM(o=t.CRH())&&(i.startPoints=o)}},inputs:{formArray:"formArray",minFareOptionConfig:"minFareOptionConfig",type:"type"},outputs:{removeRoute:"removeRoute",dataChange:"dataChange",toggleAirline:"toggleAirline",navigateDatepicker:"navigateDatepicker",dateTypeChange:"dateTypeChange"},standalone:!0,features:[t.TTD,t.jDz],decls:8,vars:1,consts:[[1,"flex","flex-col","gap-y-2"],[4,"ngFor","ngForOf"],["optionTemplate",""],["airlineMinFareBts",""],["configMinFareBts",""],[1,"flex","items-start","gap-x-2","md:flex-wrap","md:gap-x-0","md:gap-y-4","md:flex-col","md:relative"],[4,"ngIf"],["textField","AirportDisplay","valueField","Code",1,"grow-[293]","!w-full","!max-w-none","md:flex-grow-0","md:w-[calc(50%-12px)]","md:hidden",3,"maxHeight","typeInput","status","customSearch","excludes","formControl","data","optionTmp","selectedChange"],["startPoint",""],["cf-head-icon","","icon","plane","size","medium",1,"text-neutral-gray-4"],["cf-label","","for","startPoint",1,"text-body-sm","text-neutral-gray-4","cursor-text",3,"ngClass"],["type","text","id","startPoint","type","text","size","medium","autocomplete","off","cf-field","",1,"text-neutral-gray-6","placeholder-neutral-gray-6","text-express-md","placeholder:text-express-md"],["cfInputElement",""],["cf-hint","",3,"hint",4,"ngIf"],[1,"grow-[293]","!max-w-none","md:flex-grow-0","md:w-[calc(50%-12px)]","hidden","md:block","!w-full",3,"click"],["textField","AirportDisplay","valueField","Code",1,"pointer-events-none","!w-full","!max-w-full",3,"typeInput","status","customSearch","excludes","formControl","data","optionTmp"],["type","text","id","startPoint","type","text","size","medium","autocomplete","off","cf-field","",1,"!p-0","placeholder-neutral-gray-6","placeholder:text-express-md"],["cf-button","","size","medium","type","secondary",1,"rounded-full","md:absolute","md:right-[10px]","flex","items-center","justify-center","!w-10","!h-10","md:bottom-[57%]","md:!bg-neutral-white","mt-2","md:m-0",3,"click"],["icon","switch","size","small",1,"text-primary-1-4","md:rotate-90"],["textField","AirportDisplay","valueField","Code",1,"grow-[293]","w-full","!max-w-none","md:flex-grow-0","md:hidden",3,"maxHeight","typeInput","status","customSearch","excludes","formControl","data","optionTmp","selectedChange"],["endPoint",""],["cf-label","","for","endPoint",1,"text-body-sm","text-neutral-gray-4","cursor-text",3,"ngClass"],["type","text","id","endPoint","type","text","size","medium","autocomplete","off","cf-field","",1,"!p-0","placeholder-neutral-gray-6","placeholder:text-express-md"],[1,"w-full","flex","md:hidden"],[1,"grow-[293]","!max-w-none","md:flex-grow-0","md:w-full","w-[calc(50%-12px)]",3,"valid","status","click"],["cfHeadIcon","","icon","calendar","size","medium",1,"text-neutral-gray-4"],["cfLabel","","for","departDate",1,"text-express-md","text-neutral-gray-4","cursor-text"],["id","departDate","cfDatepickerViewer","","type","text","size","medium","cf-input","","autocomplete","off",1,"!p-0",3,"minDate","formControl","input","mousedown","click"],["cfHint","",3,"hint",4,"ngIf"],["type","text","outsideDays","hidden","cfDatepicker","",1,"w-0","m-0","mr-2","bottom-0","md:h-0",3,"minDate","secondaryCalendar","displayMonths","rangeSelection","fromDate","startDate","containerWidth","navigate","dateSelect","closed"],["dateRange","cfDatepicker"],["class","w-full",4,"ngIf"],["icon","close","size","small","class","mt-3 cursor-pointer",3,"invisible","pointer-events-none","click",4,"ngIf"],["oneWayDatepickerBottomSheet",""],["cf-hint","",3,"hint"],["cfHint","",3,"hint"],[1,"w-full"],[1,"grow-[293]","md:flex-grow-0","w-full",3,"valid","status","click"],["cfLabel","",1,"text-express-md","text-neutral-gray-4","cursor-text"],["type","text","size","medium","cf-input","","autocomplete","off","cfDatepicker","",1,"!p-0",3,"secondaryCalendar","displayMonths","minDate","formControl","input","dateSelect","mousedown"],["dateFrom","cfDatepicker"],["icon","close","size","small",1,"mt-3","cursor-pointer",3,"click"],[1,"flex","w-full","flex-col","justify-between","h-full"],[1,"pt-4","px-4","flex","items-center","gap-x-2"],["class","flex gap-x-1.5 items-center border border-neutral-gray-3 rounded-full px-4 py-[5px]",3,"click",4,"ngIf"],[1,"grow","overflow-y-hidden","flex","pb-12"],["infinite-scroll","",1,"w-full","flex",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","scrollWindow","fromRoot","alwaysCallback","infiniteScrollContainer","scrolled"],["outsideDays","hidden","navigation","none","direction","vertical",1,"",3,"minDate","displayMonths","rangeSelection","secondaryCalendar","formControl","footerOptionConfig","fromDate","startDate","displayMonthsOffset","dateSelect"],[1,"p-4","fixed","bottom-0","w-full","right-0","bg-neutral-white"],["cf-button","",1,"justify-center","w-full",3,"click"],[1,"flex","gap-x-1.5","items-center","border","border-neutral-gray-3","rounded-full","px-4","py-[5px]",3,"click"],[1,"text-body-md","whitespace-nowrap"],["icon","down","size","small",1,"text-neutral-gray-5"],["textField","AirportDisplay","valueField","Code","placeholder","\u0110i\u1ec3m kh\u1edfi h\xe0nh",1,"grow-[293]","!max-w-none","md:flex-grow-0","w-[calc(50%-12px)]","md:hidden",3,"maxHeight","typeInput","status","customSearch","excludes","formControl","data","optionTmp","selectedChange"],[1,"grow-[293]","!max-w-none","md:flex-grow-0","hidden","md:block","md:w-full",3,"click"],["textField","AirportDisplay","valueField","Code","placeholder","\u0110i\u1ec3m kh\u1edfi h\xe0nh",1,"pointer-events-none","md:w-full","md:max-w-full",3,"typeInput","status","customSearch","excludes","formControl","data","optionTmp"],["cf-button","","size","medium","type","secondary",1,"rounded-full","md:absolute","md:right-[10px]","md:top-[45px]","md:!bg-neutral-white","mt-2","md:m-0","flex","items-center","justify-center","!w-10","!h-10",3,"click"],["textField","AirportDisplay","valueField","Code","placeholder","\u0110i\u1ec3m \u0111\u1ebfn",1,"grow-[293]","!max-w-none","md:flex-grow-0","w-[calc(50%-12px)]","md:hidden",3,"maxHeight","typeInput","status","customSearch","excludes","formControl","data","optionTmp","selectedChange"],["textField","AirportDisplay","valueField","Code","placeholder","\u0110i\u1ec3m \u0111\u1ebfn",1,"pointer-events-none","md:w-full","md:max-w-full",3,"typeInput","status","customSearch","excludes","formControl","data","optionTmp"],[1,"flex","w-full","md:flex-col"],[1,"grow","w-[calc(50%-12px)]","md:w-full","md:mb-4",3,"valid","status","click"],["cfLabel","","for","departDate",1,"text-express-md","text-neutral-gray-4","cursor-text","whitespace-nowrap"],["id","departDate","cfDatepickerViewer","","type","text","size","medium","cf-input","","autocomplete","off",1,"!p-0",3,"minDate","formControl","input","mousedown","ngModelChange","click"],["type","text","outsideDays","hidden","cfDatepicker","",1,"w-0","m-0","mr-2","bottom-0","md:h-0",3,"minDate","footerOptionConfig","secondaryCalendar","displayMonths","rangeSelection","fromDate","startDate","containerWidth","toDate","reset","dateSelect","navigate","closed"],[1,"grow","w-[calc(50%-12px)]","md:w-full",3,"valid","status","click"],["cfLabel","","for","returnDate",1,"text-express-md","text-neutral-gray-4","cursor-text","whitespace-nowrap"],["id","returnDate","autocomplete","off","cfDatepickerViewer","","type","text","size","medium","cf-input","",1,"!p-0",3,"minDate","formControl","input","mousedown","ngModelChange","click"],["roundTripDatepickerBottomSheet",""],[1,"flex","w-full","flex-col","justify-between","h-[100vh]"],[1,"flex","justify-between","items-center","p-4"],[1,"grow","!w-auto",3,"status"],["cfDatepickerViewer","","type","text","size","medium","cf-input","","placeholder","Ng\xe0y kh\u1edfi h\xe0nh","autocomplete","off",1,"py-[7px]",3,"minDate","formControl","ngModelChange"],[1,"text-body-md-short","text-neutral-gray-6","px-2"],["autocomplete","off","cfDatepickerViewer","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y v\u1ec1",1,"py-[7px]",3,"minDate","formControl","ngModelChange"],["outsideDays","hidden","navigation","none","direction","vertical",1,"",3,"minDate","displayMonths","rangeSelection","secondaryCalendar","footerOptionConfig","fromDate","startDate","toDate","displayMonthsOffset","dateSelect"],[1,"flex","flex-col"],[1,"text-body-md-short","text-neutral-gray-6",3,"innerHtml"],[1,"text-body-sm","text-neutral-gray-4",3,"innerHtml"],[1,"flex","flex-col","gap-y-2","w-full"],[1,"flex","flex-col","gap-y-1","pt-4","px-4"],[1,"text-body-md","text-neutral-gray-6"],[1,"flex","items-center","gap-x-6"],[1,"p-4"],["cf-button","","size","medium","color","primary-1",1,"justify-center","w-full",3,"click"],["size","medium",3,"checked","checkChange"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t.YNc(1,It,4,2,"div",1),t.qZA(),t.YNc(2,Pt,5,8,"ng-template",null,2,t.W1O),t.YNc(4,Zt,9,1,"ng-template",null,3,t.W1O),t.YNc(6,wt,12,2,"ng-template",null,4,t.W1O)),2&n&&(t.xp6(1),t.Q6J("ngForOf",i.formArray.controls))},dependencies:[k.q,E.N8,E.Xq,b.j$,b.ND,b.BN,b.v2,M.C,B.AxE,B.Sm8,e.u5,e.Fj,e.JJ,e.UX,e.oH,p.Cs,p.hI,P.m,y.ax,y.O5,y.mk,d.Rq,d.Ry,p._o,m.T,v.u],styles:["[_nghost-%COMP%]{display:block}"]}),r})()},82692:(w,O,l)=>{l.d(O,{T:()=>p});var y=l(36895),t=l(94650),e=l(24006),E=l(19123),v=l(64070);let p=(()=>{class M{constructor(){this.typeSearchChange=new t.vpe}set flightType(B){switch(B){case v.VB.OneWay:this._flightType="ONE_WAY";break;case v.VB.RoundTrip:this._flightType="ROUND_TRIP";break;case v.VB.MultiWay:this._flightType="MULTI_WAY"}}flightTypeChange(B){switch(B){case"ONE_WAY":this.typeSearchChange.emit(v.VB.OneWay);break;case"ROUND_TRIP":this.typeSearchChange.emit(v.VB.RoundTrip);break;case"MULTI_WAY":this.typeSearchChange.emit(v.VB.MultiWay)}}}return M.\u0275fac=function(B){return new(B||M)},M.\u0275cmp=t.Xpm({type:M,selectors:[["btc-type-search"]],inputs:{flightType:"flightType"},outputs:{typeSearchChange:"typeSearchChange"},standalone:!0,features:[t.jDz],decls:11,vars:19,consts:[[1,"flex","items-center","gap-x-8","md:hidden",3,"ngModel","checkChange"],["size","medium",3,"value"],[1,"items-center","gap-x-1.5","hidden","md:flex"],[1,"flex","justify-around","w-full","gap-x-4"],[1,"px-4","py-1.5","rounded-full","text-body-md-short","text-neutral-gray-4","border","border-transparent","w-1/2","flex","justify-center",3,"click"]],template:function(B,b){1&B&&(t.TgZ(0,"cf-radio-group",0),t.NdJ("checkChange",function(h){return b.flightTypeChange(h)}),t.TgZ(1,"cf-radio",1),t._uU(2,"M\u1ed9t chi\u1ec1u"),t.qZA(),t.TgZ(3,"cf-radio",1),t._uU(4,"Kh\u1ee9 h\u1ed3i"),t.qZA()(),t.TgZ(5,"div",2)(6,"div",3)(7,"div",4),t.NdJ("click",function(){return b.flightTypeChange("ONE_WAY")}),t._uU(8," M\u1ed9t chi\u1ec1u "),t.qZA(),t.TgZ(9,"div",4),t.NdJ("click",function(){return b.flightTypeChange("ROUND_TRIP")}),t._uU(10," Kh\u1ee9 h\u1ed3i "),t.qZA()()()),2&B&&(t.Q6J("ngModel",b._flightType),t.xp6(1),t.Q6J("value","ONE_WAY"),t.xp6(2),t.Q6J("value","ROUND_TRIP"),t.xp6(4),t.ekj("text-secondary-3-4","ONE_WAY"===b._flightType)("!border-secondary-3-4","ONE_WAY"===b._flightType)("bg-secondary-3-1","ONE_WAY"===b._flightType)("!text-espressive-md-short","ONE_WAY"===b._flightType),t.xp6(2),t.ekj("text-secondary-3-4","ROUND_TRIP"===b._flightType)("!border-secondary-3-4","ROUND_TRIP"===b._flightType)("bg-secondary-3-1","ROUND_TRIP"===b._flightType)("!text-espressive-md-short","ROUND_TRIP"===b._flightType))},dependencies:[E.o,E.T,e.u5,e.JJ,e.On,y.ez],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),M})()},53819:(w,O,l)=>{l.d(O,{W:()=>g});var y=l(36895),t=l(94650),e=l(24006),E=l(83700),v=l(72506),p=l(74891),M=l(74713),P=l(62331),B=l(24513),b=l(88605),k=l(98184),h=l(37094);const m=["voucher"];function D(T,Z){1&T&&t._UZ(0,"cf-icon",12)}function d(T,Z){if(1&T&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&T){const x=t.oxw();t.xp6(1),t.hij(" ",x.promotionApplyCount," ")}}function s(T,Z){if(1&T){const x=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"cf-select",21),t.NdJ("ngModelChange",function(I){const F=t.CHM(x).$implicit;return t.KtG(F.selectedCode=I)})("ngModelChange",function(){t.CHM(x);const I=t.oxw(2);return t.KtG(I.onCodeChanges())})("selectedChange",function(I){const F=t.CHM(x).$implicit,R=t.oxw(2);return t.KtG(R.onPromotionChange(I,F))}),t.TgZ(3,"div",22),t._UZ(4,"img",23),t._uU(5),t.qZA()()()()}if(2&T){const x=Z.$implicit;t.xp6(2),t.Q6J("ngModel",x.selectedCode)("allowCustomText",!0)("data",x.items)("allowClear",!0),t.xp6(2),t.Q6J("src",x.airlineLogo,t.LSH),t.xp6(1),t.hij(" ",x.airline," ")}}function _(T,Z){if(1&T&&(t.TgZ(0,"div",14)(1,"div",15)(2,"div",16),t._uU(3,"M\xe3 khuy\u1ebfn m\xe3i"),t.qZA(),t.TgZ(4,"div",17),t.YNc(5,s,6,6,"div",18),t.qZA()()()),2&T){const x=t.oxw();t.xp6(5),t.Q6J("ngForOf",x.promotionGroupList)}}function u(T,Z){if(1&T&&(t.TgZ(0,"div"),t._uU(1,"Ch\xfac m\u1eebng, "),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t._uU(4," \u0111\xe3 \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng cho b\u1ea1n!"),t.qZA()),2&T){const x=t.oxw(2);t.xp6(3),t.hij("",x.promotionApplyCount," m\xe3 khuy\u1ebfn m\xe3i")}}function c(T,Z){1&T&&(t.TgZ(0,"div"),t._uU(1,"\u{1f525} Nh\u1eadp khuy\u1ebfn m\xe3i \u0111\u1ec3 \u0111\u01b0\u1ee3c gi\u1ea3m gi\xe1"),t.qZA())}function f(T,Z){if(1&T&&(t.YNc(0,u,5,1,"div",24),t.YNc(1,c,2,0,"div",24)),2&T){const x=t.oxw();t.Q6J("ngIf",x.promotionApplyCount>0),t.xp6(1),t.Q6J("ngIf",0===x.promotionApplyCount)}}let g=(()=>{class T{constructor(x,A,I){this._toastService=x,this._viewportRuler=A,this.bottomSheetService=I,this.isShowTooltipFirstTime=!1,this.promotionChange=new t.vpe,this.isOpen=!1,this.promotionApplyCount=0,this.isMobile=matchMedia("(max-width: 768px)").matches,this.isDirty=!1}ngAfterViewInit(){setTimeout(()=>{this.promotionApplyCount=this.promotionGroupList.filter(x=>""!=x.selectedCode).length})}ngOnChanges(x){x.promotionGroupList&&!x.promotionGroupList.firstChange&&this.reloadTooltip()}click(x,A){matchMedia("(max-width: 768px)").matches?this.openBottomSheet(A):this.isOpen=!this.isOpen,x.stopPropagation(),this.isDirty=!0}reloadTooltip(x=!0){const A=this.promotionGroupList.filter(I=>""!=I.selectedCode).length;A>0?(this.promotionApplyCount=A,this.promotionApplyCount>0&&x&&(!this.isShowTooltipFirstTime&&this.isMobile||this.isShowTooltipFirstTime&&!this.isMobile)&&this._toastService.add({severity:"success",summary:"\xc1p d\u1ee5ng M\xe3 KM th\xe0nh c\xf4ng",detail:`${this.promotionApplyCount} m\xe3 khuy\u1ebfn m\xe3i \u0111\xe3 \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng cho b\u1ea1n!`,sticky:!1,contentStyleClass:"!p-3"})):this.promotionApplyCount=0}outsideClick(x){this.isOpen=!1}onPromotionChange(x,A){x&&"GMBR"===x.code.substr(0,4)&&10===x.code.length?0===A.items.map(I=>I.code).filter(I=>I===x.code).length&&(A.items.push({code:x.code,description:x.description,isSystemPromotion:!1}),this.reloadTooltip()):(A.selectedCode="",this.reloadTooltip(!1)),this.promotionChange.emit(this.promotionGroupList)}onCodeChanges(){console.log(this.promotionGroupList)}openBottomSheet(x){this.bottomSheetService.open(x,{headerTitle:"Khuy\u1ebfn m\xe3i",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",containerFullHeigh:!0}).containerInstance._rightButtonClick.subscribe(()=>this.bottomSheetService.dismiss())}}return T.\u0275fac=function(x){return new(x||T)(t.Y36(P.BX),t.Y36(b.rL),t.Y36(h.a2))},T.\u0275cmp=t.Xpm({type:T,selectors:[["btc-voucher-selector"]],viewQuery:function(x,A){if(1&x&&t.Gf(m,5,B.Lk),2&x){let I;t.iGM(I=t.CRH())&&(A.voucher=I.first)}},inputs:{promotionGroupList:"promotionGroupList",isShowTooltipFirstTime:"isShowTooltipFirstTime"},outputs:{promotionChange:"promotionChange"},standalone:!0,features:[t.TTD,t.jDz],decls:18,vars:8,consts:[["tabIndex","-1","cdkOverlayOrigin","",1,"cursor-pointer",3,"manualHandle","placement","color","cfTooltip","click"],["voucher","","trigger","","originOverlay","cdkOverlayOrigin"],[1,"flex","items-center","gap-x-2","py-[5px]","px-3.5","md:hidden"],["icon","coupon","size","small",4,"ngIf"],["class","flex items-center rounded justify-center w-4 h-4 text-espressive-xs bg-secondary-6-4 text-neutral-white",4,"ngIf"],[1,"text-body-md"],[1,"gap-x-1.5","items-center","px-4","py-[5px]","hidden","md:flex"],[1,"text-body-md","whitespace-nowrap"],["icon","down","size","small"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","overlayOutsideClick"],["bottomSheet",""],["toolTipTemplate",""],["icon","coupon","size","small"],[1,"flex","items-center","rounded","justify-center","w-4","h-4","text-espressive-xs","bg-secondary-6-4","text-neutral-white"],[1,"p-4","shadow-cf-lg","w-[280px]","bg-neutral-white","rounded","md:w-full","md:pt-1"],[1,"flex-col","justify-start","items-center","rounded"],[1,"text-heading-sm","text-neutral-black","md:hidden"],[1,"flex","flex-col","pt-4","gap-y-2","md:gap-y-3"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"flex","items-center"],[1,"flex","items-center","gap-x-2","md:w-full"],["textField","description","valueField","code","size","small","placeholder","Nh\u1eadp m\xe3",1,"select-promotion","md:max-w-none","md:w-full",3,"ngModel","allowCustomText","data","allowClear","ngModelChange","selectedChange"],["cfPrefix","",1,"min-w-[112px]","py-2.5","px-3","text-body-md","flex","gap-x-2","items-center","border-r","border-neutral-gray-2"],[1,"w-8","h-5","object-contain","shrink-0",3,"src"],[4,"ngIf"]],template:function(x,A){if(1&x){const I=t.EpF();t.TgZ(0,"div",0,1),t.NdJ("click",function(F){t.CHM(I);const R=t.MAs(14);return t.KtG(A.click(F,R))}),t.TgZ(4,"div",2),t.YNc(5,D,1,0,"cf-icon",3),t.YNc(6,d,2,1,"div",4),t.TgZ(7,"div",5),t._uU(8,"M\xe3 khuy\u1ebfn m\xe3i"),t.qZA()(),t.TgZ(9,"div",6)(10,"div",7),t._uU(11," Khuy\u1ebfn m\xe3i"),t.qZA(),t._UZ(12,"cf-icon",8),t.qZA()(),t.YNc(13,_,6,1,"ng-template",9,10,t.W1O),t.NdJ("overlayOutsideClick",function(F){return A.outsideClick(F)}),t.YNc(15,f,2,2,"ng-template",null,11,t.W1O),t._UZ(17,"cf-toast")}if(2&x){const I=t.MAs(3),U=t.MAs(16);t.Q6J("manualHandle",!0)("placement","topRight")("color","black")("cfTooltip",U),t.xp6(5),t.Q6J("ngIf",0===A.promotionApplyCount),t.xp6(1),t.Q6J("ngIf",A.promotionApplyCount>0),t.xp6(7),t.Q6J("cdkConnectedOverlayOrigin",I)("cdkConnectedOverlayOpen",A.isOpen)}},dependencies:[y.ez,y.sg,y.O5,v.AxE,v.Sm8,p.f,k.pI,k.xu,M.q,e.u5,e.JJ,e.On,B.Lk,P.hj,E.N8],encapsulation:2}),T})()},80429:(w,O,l)=>{l.d(O,{q:()=>t});var y=l(94650);let t=(()=>{class e{transform(v,p,...M){return p(v,...M)}}return e.\u0275fac=function(v){return new(v||e)},e.\u0275pipe=y.Yjl({name:"mapper",type:e,pure:!0,standalone:!0}),e})()}}]);