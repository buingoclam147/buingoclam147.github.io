"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[2678],{42678:(N,P,a)=>{a.d(P,{yL:()=>ee,u1:()=>pe,I5:()=>m,FH:()=>ue});var t=a(80529),e=a(88001),p=a(54004),m=(()=>{return(g=m||(m={})).JOURNEY="JOURNEY",g.PASSENGER="PASSENGER",g.CONFIGURATION="CONFIGURATION",m;var g})(),n=a(97582),T=a(97380),i=a(87067),u=a(43429);class f{}(0,n.gn)([(0,i.C)()],f.prototype,"status",void 0),(0,n.gn)([(0,u.D)(()=>h),(0,i.C)()],f.prototype,"data",void 0),(0,n.gn)([(0,i.C)()],f.prototype,"objectError",void 0),(0,n.gn)([(0,i.C)()],f.prototype,"success",void 0);class h extends T.VP{}class c{}(0,n.gn)([(0,i.C)()],c.prototype,"airline",void 0),(0,n.gn)([(0,i.C)()],c.prototype,"flightType",void 0),(0,n.gn)([(0,u.D)(()=>C),(0,i.C)()],c.prototype,"journeys",void 0),(0,n.gn)([(0,u.D)(()=>y),(0,i.C)()],c.prototype,"passengers",void 0);class C{}(0,n.gn)([(0,i.C)()],C.prototype,"leg",void 0),(0,n.gn)([(0,i.C)()],C.prototype,"startPoint",void 0),(0,n.gn)([(0,i.C)()],C.prototype,"endPoint",void 0),(0,n.gn)([(0,i.C)()],C.prototype,"departTime",void 0),(0,n.gn)([(0,i.C)()],C.prototype,"arrivalTime",void 0),(0,n.gn)([(0,i.C)()],C.prototype,"duration",void 0),(0,n.gn)([(0,i.C)()],C.prototype,"segments",void 0),(0,n.gn)([(0,i.C)()],C.prototype,"rangeTime",void 0);class y{}(0,n.gn)([(0,i.C)()],y.prototype,"birthday",void 0),(0,n.gn)([(0,i.C)()],y.prototype,"firstName",void 0),(0,n.gn)([(0,i.C)()],y.prototype,"lastName",void 0),(0,n.gn)([(0,i.C)()],y.prototype,"type",void 0),(0,n.gn)([(0,i.C)()],y.prototype,"key",void 0),(0,n.gn)([(0,i.C)()],y.prototype,"parentKey",void 0),(0,n.gn)([(0,i.C)()],y.prototype,"namePrefix",void 0),(0,n.gn)([(0,i.C)()],y.prototype,"gender",void 0),(0,n.gn)([(0,i.C)()],y.prototype,"index",void 0);class E{}(0,n.gn)([(0,i.C)()],E.prototype,"timeCreate",void 0),(0,n.gn)([(0,i.C)()],E.prototype,"timeExpire",void 0),(0,n.gn)([(0,i.C)()],E.prototype,"timeUpdate",void 0),(0,n.gn)([(0,i.C)()],E.prototype,"timeFinished",void 0),(0,n.gn)([(0,u.D)(()=>r),(0,i.C)()],E.prototype,"fareMonitors",void 0),(0,n.gn)([(0,i.C)()],E.prototype,"notifyBeforeExpired",void 0),(0,n.gn)([(0,i.C)()],E.prototype,"targetPrice",void 0);class r{}(0,n.gn)([(0,i.C)()],r.prototype,"onlyCareLowerFare",void 0),(0,n.gn)([(0,i.C)()],r.prototype,"expectLowerFareClass",void 0),(0,n.gn)([(0,i.C)()],r.prototype,"specifyFareClass",void 0),(0,n.gn)([(0,i.C)()],r.prototype,"currentFareClass",void 0),(0,n.gn)([(0,i.C)()],r.prototype,"specifyFareClassInfo",void 0);class b{}(0,n.gn)([(0,i.C)()],b.prototype,"airline",void 0),(0,n.gn)([(0,i.C)()],b.prototype,"originalPnr",void 0),(0,n.gn)([(0,i.C)()],b.prototype,"detectedPnr",void 0),(0,n.gn)([(0,i.C)()],b.prototype,"originalFare",void 0),(0,n.gn)([(0,i.C)()],b.prototype,"detectedFare",void 0),(0,n.gn)([(0,i.C)()],b.prototype,"originalFareClass",void 0),(0,n.gn)([(0,i.C)()],b.prototype,"detectedFareClass",void 0),(0,n.gn)([(0,i.C)()],b.prototype,"higherFare",void 0),(0,n.gn)([(0,i.C)()],b.prototype,"lastTimeUpdate",void 0);class U{}(0,n.gn)([(0,i.C)()],U.prototype,"status",void 0),(0,n.gn)([(0,u.D)(()=>_),(0,i.C)()],U.prototype,"data",void 0),(0,n.gn)([(0,i.C)()],U.prototype,"objectError",void 0),(0,n.gn)([(0,i.C)()],U.prototype,"success",void 0);class _{}(0,n.gn)([(0,i.C)()],_.prototype,"orderId",void 0),(0,n.gn)([(0,i.C)()],_.prototype,"canUpdate",void 0),(0,n.gn)([(0,i.C)()],_.prototype,"code",void 0),(0,n.gn)([(0,i.C)()],_.prototype,"huntFareConditions",void 0),(0,n.gn)([(0,i.C)()],_.prototype,"advanceSetting",void 0),(0,n.gn)([(0,i.C)()],_.prototype,"ticketInfo",void 0),(0,n.gn)([(0,u.D)(()=>T.v_),(0,i.C)()],_.prototype,"availableSlotInfo",void 0);var J=a(50494),x=a(94650);const V={headers:new t.WM({"Content-Type":"application/json"})};let ee=(()=>{class g{constructor(o,v){this.http=o,this.appConfig=v}getLstAirlineFareoptions(){return this.http.post(this.appConfig.apiUrlTPS+"ticket-low-fare/get-list-airline-fare-class",JSON.stringify({airline:"vn,qh,vj"}),V)}registerHuntBooking(o){return this.http.post(this.appConfig.apiUrlTPS+"hunt_for_ticket/register-order",JSON.stringify(o),V)}getPnrOrderDetail(o){return this.http.get(this.appConfig.apiUrlTPS+"hunt_for_ticket/pnr-order_detail/"+o,V).pipe((0,p.U)(v=>(0,J.yE)(f,v,{excludeExtraneousValues:!0})))}getCurrentConfigOrder(o){return this.http.post(this.appConfig.apiUrlTPS+"hunt_for_ticket/current-config-order",JSON.stringify({orderId:o}),V).pipe((0,p.U)(v=>(0,J.yE)(U,v,{excludeExtraneousValues:!0})))}updateConfigOrder(o){return this.http.post(this.appConfig.apiUrlTPS+"hunt_for_ticket/update_order_config",JSON.stringify(o),V).pipe((0,p.U)(v=>(0,J.yE)(f,v,{excludeExtraneousValues:!0})))}}return g.\u0275fac=function(o){return new(o||g)(x.LFG(t.eN),x.LFG(e.qB))},g.\u0275prov=x.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();var l=a(24006),G=a(57085),le=a(77579),te=a(35650),j=a(43201),A=a(15439);const re=g=>{const k=g.get("targetVNPrice"),o=g.get("targetVJPrice"),v=g.get("targetQHPrice"),I=g.get("fareOptions"),D=g.get("enableTimeStart"),O=g.get("enableFareOption"),R=g.get("enablePriceOption"),S=g.get("startTimeRange");let F={};return null!=D&&D.value&&(null!=S&&S.value&&(null==S?void 0:S.value.length)>0||(F.invalidTimeRanges=!0)),null!=O&&O.value&&(null!=I&&I.value&&(null==I?void 0:I.value.length)>0||(F.invalidFares=!0)),null!=R&&R.value&&(null!=k&&k.value||null!=o&&o.value||null!=v&&v.value?((null==k?void 0:k.value)<0||(null==o?void 0:o.value)<0||(null==v?void 0:v.value)<0)&&(F.negativePrice=!0):F.invalidPrice=!0),!D&&!R&&(F.invalidPriceFareOption=!0),Object.values(F),Object.values(F).length>0?F:null};var oe=a(82761),de=a(40899);let ue=(()=>{class g{constructor(o,v,I,D,O){this.route=o,this._route=v,this.fb=I,this._permissionService=D,this._bookingHunterService=O,this.optionsAdultPassenger=[],this.numberOfPassenger={adult:1,child:0,infant:0},this.phoneAreaDefault=e.$T,this.hasVJAirline=!1,this.showPriceOption=!1,this.showTimeStartOption=!1,this.showFareOption=!0,this.numberOfPassengerChange$=new le.x,this.isBooker=!this._permissionService.isVNAccount(),this.optionDepartureTime=[{name:"S\xe1ng s\u1edbm",code:"early_morning",start:"00:00",end:"05:59",isActive:!1,disable:!1,startTime:0,endTime:360,totalAvailable:0},{name:"Bu\u1ed5i s\xe1ng",code:"morning",start:"06:00",end:"11:59",isActive:!1,disable:!1,startTime:360,endTime:720,totalAvailable:0},{name:"Bu\u1ed5i chi\u1ec1u",code:"afternoon",start:"12:00",end:"17:59",isActive:!1,disable:!1,startTime:720,endTime:1080,totalAvailable:0},{name:"Bu\u1ed5i t\u1ed1i",code:"evening",start:"18:00",end:"23:59",isActive:!1,disable:!1,startTime:1080,endTime:1439,totalAvailable:0},{name:"T\xf9y ch\u1ecdn",code:"custom",start:"00:00",end:"23:59",isActive:!1,disable:!1,startTime:0,endTime:1439,totalAvailable:0}],this.customRangeItem={rangeValues:[0,1439],startTimeStr:"00:00",endTimeStr:"23:59"},this.departureTime=A().toDate().getTime(),this.earliestDoBChild=(0,j.Z)(this.departureTime,-2),this.earliestDoBChild=(0,te.Z)(this.earliestDoBChild,-1),this.earliestDoBInfant=A().toDate(),this.lastestDoBChild=(0,j.Z)(this.departureTime,-11),this.lastestDoBInfant=(0,j.Z)(this.departureTime,-2),this.lastestDoBInfant=(0,te.Z)(this.lastestDoBInfant,1)}initForm(){this.resetDataService(),this.initJourneyForm(),this.initConfigurationForm(),this.initPassengerForm()}preloadForm(o){var v,I,D,O,R,S,F,w,Z,Y,q,K,W,$,Q,X;const L=o.ticketInfo.journeys[0],H="PRICE"===o.huntFareConditions.type;this.showPriceOption=H,this.showFareOption=!H;const ge=(null===(I=null===(v=o.huntFareConditions.specifyPriceList)||void 0===v?void 0:v.find(s=>"VN"===s.airline.toUpperCase()))||void 0===I?void 0:I.targetPrice)||0,ce=(null===(O=null===(D=o.huntFareConditions.specifyPriceList)||void 0===D?void 0:D.find(s=>"QH"===s.airline.toUpperCase()))||void 0===O?void 0:O.targetPrice)||0,ve=(null===(S=null===(R=o.huntFareConditions.specifyPriceList)||void 0===R?void 0:R.find(s=>"VJ"===s.airline.toUpperCase()))||void 0===S?void 0:S.targetPrice)||0;let ne=!0;if(L.rangeTime.forEach(s=>{this.optionDepartureTime.forEach(d=>{d.start===s.fromDate&&d.end===s.toDate&&(d.isActive=!0,ne=!1)})}),ne&&L.rangeTime[0]){const s=L.rangeTime[0],d=this.convertTimeRangeStrToMin(s.fromDate),se=this.convertTimeRangeStrToMin(s.toDate);this.customRangeItem={rangeValues:[d,se],startTimeStr:s.fromDate,endTimeStr:s.toDate},this.optionDepartureTime[4].isActive=!0,this.optionDepartureTime[4].start=s.fromDate,this.optionDepartureTime[4].end=s.toDate,this.optionDepartureTime[4].startTime=d,this.optionDepartureTime[4].endTime=se}const z=this.optionDepartureTime.filter(s=>s.isActive),ie=z&&z.length>0;this.showTimeStartOption=ie;const me=(null!==(F=A(L.departTime))&&void 0!==F&&F.isBefore(A())?null:A(L.departTime).toDate())||null;this.journeyFormGroup=this.fb.group({startPoint:[L.startPoint,[l.kI.required]],endPoint:[L.endPoint,[l.kI.required]],departDate:[me,[l.kI.required]],startTimeRange:[z],enablePriceOption:[H],targetVNPrice:[ge],targetVJPrice:[ce],targetQHPrice:[ve],enableFareOption:[!H],enableTimeStart:[ie],fareOptions:[o.huntFareConditions.specifyFareClassList]},{validators:re});const ae=A(o.advanceSetting.timeExecute).isAfter(A().toDate()),B=ae?A(o.advanceSetting.timeExecute).toDate():null,he=ae&&B?`${null==B?void 0:B.getHours().toString().padStart(2,"0")}:${null==B?void 0:B.getMinutes().toString().padStart(2,"0")}`:null;this.configurationFormGroup=this.fb.group({dateExpires:[B,[l.kI.required]],timeExpires:[he,[l.kI.required]],sendNotify:[o.advanceSetting.notifBeforExpire,[l.kI.required]],agentDisplayName:[null],agentAvatar:[null],agentName:[null],agentPhone:[null,[l.kI.required,l.kI.minLength(7),l.kI.maxLength(11)]],agentPhoneArea:[this.phoneAreaDefault,l.kI.required],agentEmail:[null],agentId:[null,[l.kI.required]]}),this.numberOfPassenger={adult:(null===(Z=null===(w=o.ticketInfo.passengers)||void 0===w?void 0:w.filter(s=>{var d;return"ADT"===(null===(d=s.type)||void 0===d?void 0:d.toUpperCase())}))||void 0===Z?void 0:Z.length)||0,child:(null===(q=null===(Y=o.ticketInfo.passengers)||void 0===Y?void 0:Y.filter(s=>{var d;return"CHD"===(null===(d=s.type)||void 0===d?void 0:d.toUpperCase())}))||void 0===q?void 0:q.length)||0,infant:(null===(W=null===(K=o.ticketInfo.passengers)||void 0===K?void 0:K.filter(s=>{var d;return"INF"===(null===(d=s.type)||void 0===d?void 0:d.toUpperCase())}))||void 0===W?void 0:W.length)||0},this.passengerFormGroup=this.fb.group({adultPassenger:this.fb.array([]),childPassenger:this.fb.array([]),infantPassenger:this.fb.array([])},{validator:(0,G.aV)()});const fe=(null===($=o.ticketInfo.passengers)||void 0===$?void 0:$.filter(s=>{var d;return"ADT"===(null===(d=s.type)||void 0===d?void 0:d.toUpperCase())}).map(s=>{var d;return{firstName:s.firstName,lastName:s.lastName,gender:(null===(d=s.gender)||void 0===d?void 0:d.toLowerCase())||"male"}}))||[],Ce=(null===(Q=o.ticketInfo.passengers)||void 0===Q?void 0:Q.filter(s=>{var d;return"CHD"===(null===(d=s.type)||void 0===d?void 0:d.toUpperCase())}).map(s=>{var d;return{firstName:s.firstName,lastName:s.lastName,gender:(null===(d=s.gender)||void 0===d?void 0:d.toLowerCase())||"male",birthday:A(s.birthday).toDate()}}))||[],ye=(null===(X=o.ticketInfo.passengers)||void 0===X?void 0:X.filter(s=>{var d;return"INF"===(null===(d=s.type)||void 0===d?void 0:d.toUpperCase())}).map(s=>{var d;return{firstName:s.firstName,lastName:s.lastName,gender:(null===(d=s.gender)||void 0===d?void 0:d.toLowerCase())||"male",birthday:A(s.birthday).toDate(),parentIndex:s.parentIndex+""}}))||[];this.initPassengerForm(),this.initAdultFormGroup(),this.initChildFormGroup(),this.initInfantFormGroup(),this.passengerFormGroup.patchValue({adultPassenger:fe,childPassenger:Ce,infantPassenger:ye}),this.preInitialFormOrderId=void 0}reloadPassengerForm(){const o=this.passengerFormGroup.value;this.initPassengerForm(),this.initAdultFormGroup(),this.initChildFormGroup(),this.initInfantFormGroup(),this.passengerFormGroup.patchValue(Object.assign({},o))}initJourneyForm(){this.journeyFormGroup=this.fb.group({startPoint:["",[l.kI.required]],endPoint:["",[l.kI.required]],departDate:[null,[l.kI.required]],startTimeRange:[null],enablePriceOption:[!1],targetVNPrice:[0],targetVJPrice:[0],targetQHPrice:[0],enableFareOption:[!0],enableTimeStart:[!1],fareOptions:[null]},{validators:re})}initConfigurationForm(){this.configurationFormGroup=this.fb.group({dateExpires:[null,[l.kI.required]],timeExpires:[null,[l.kI.required]],sendNotify:[!1,[l.kI.required]],agentDisplayName:[null],agentAvatar:[null],agentName:[null],agentPhone:[null,[l.kI.required,l.kI.minLength(7),l.kI.maxLength(11)]],agentPhoneArea:[this.phoneAreaDefault,l.kI.required],agentEmail:[null],agentId:[null,[l.kI.required]]})}initPassengerForm(){this.passengerFormGroup=this.fb.group({secretRemark:[null],publicRemark:[null],adultPassenger:this.fb.array([]),childPassenger:this.fb.array([]),infantPassenger:this.fb.array([])},{validator:(0,G.aV)()})}initAdultFormGroup(){for(let o=0;o<this.numberOfPassenger.adult;o++){const v=this.fb.group({firstName:[null,[l.kI.required]],lastName:[null,[l.kI.required]],gender:["male",[l.kI.required]],birthday:[null],membershipQH:[null],membershipVN:[null]},{validator:(0,G.fJ)("birthday",this.departureTime)});this.getFormArray("adultPassenger").push(v)}}initChildFormGroup(){for(let o=0;o<this.numberOfPassenger.child;o++){const v=this.fb.group({birthday:[null,[l.kI.required]],firstName:[null,[l.kI.required]],lastName:[null,[l.kI.required]],gender:["male",[l.kI.required]],membershipQH:[null],membershipVN:[null]},{validator:(0,G.$K)("birthday",this.departureTime)});this.getFormArray("childPassenger").push(v)}}initInfantFormGroup(){for(let o=0;o<this.numberOfPassenger.infant;o++){const v=this.fb.group({birthday:[null,[l.kI.required]],firstName:[null,[l.kI.required]],lastName:[null,[l.kI.required]],gender:["male",[l.kI.required]],parentIndex:[o+"",[l.kI.required]],membershipQH:[null],membershipVN:[null]},{validator:(0,G.DW)("birthday",this.departureTime)});this.getFormArray("infantPassenger").push(v)}}getNumberOfPassenger(){this.initAdultPassengerOptions()}getFormArray(o){return this.passengerFormGroup.controls[o]}getFormControlInArray(o,v){return o.controls[v]}initAdultPassengerOptions(){for(let o=0;o<this.numberOfPassenger.adult;o++)this.optionsAdultPassenger.push({code:o+"",name:`Ng\u01b0\u1eddi l\u1edbn ${o+1}`})}changeNumberOfPassenger(o){this.numberOfPassenger=o,this.numberOfPassengerChange$.next(o)}numOfPax(){return this.numberOfPassenger}formJourneyData(){return this.journeyFormGroup.value}formPassengerData(){return this.passengerFormGroup.value}formConfigurationData(){return this.configurationFormGroup.value}resetDataService(){this.customRangeItem={rangeValues:[0,1439],startTimeStr:"00:00",endTimeStr:"23:59"},this.showPriceOption=!1,this.showTimeStartOption=!1,this.showFareOption=!0,this.selectedFaresTree=[],this.optionDepartureTime=[{name:"S\xe1ng s\u1edbm",code:"early_morning",start:"00:00",end:"05:59",isActive:!1,disable:!1,startTime:0,endTime:360,totalAvailable:0},{name:"Bu\u1ed5i s\xe1ng",code:"morning",start:"06:00",end:"11:59",isActive:!1,disable:!1,startTime:360,endTime:720,totalAvailable:0},{name:"Bu\u1ed5i chi\u1ec1u",code:"afternoon",start:"12:00",end:"17:59",isActive:!1,disable:!1,startTime:720,endTime:1080,totalAvailable:0},{name:"Bu\u1ed5i t\u1ed1i",code:"evening",start:"18:00",end:"23:59",isActive:!1,disable:!1,startTime:1080,endTime:1439,totalAvailable:0},{name:"T\xf9y ch\u1ecdn",code:"custom",start:"00:00",end:"23:59",isActive:!1,disable:!1,startTime:0,endTime:1439,totalAvailable:0}]}isAgent2Show(){const o=this._permissionService.getCurrentAuthor();return"AGENT2"===(null==o?void 0:o.titleCode.toUpperCase())}getSourceEvent(){switch(this.sourceEvent){case"SEARCH_INPUT":return 0;case"SEARCH_RESULT":return 1;case"HEADER_MANAGE":return 2;case"EMPTY_STATE":return 3;case"REGENERATE":return 4;default:return-1}}convertTimeRangeStrToMin(o){return A.duration(o).asMinutes()}minuteToString(o){const v=Math.floor(o/60),I=o%60;let D=`${v}`,O=`${I}`;return v<10&&(D=`0${v}`),I<10&&(O=`0${I}`),`${D}:${O}`}checkVJAirline(){var o;const v=null===(o=this.selectedFaresTree)||void 0===o?void 0:o.filter(I=>I.isActive).map(I=>I.code.toUpperCase());this.journeyFormGroup.value.enableFareOption&&v.includes("VJ")||this.journeyFormGroup.value.enablePriceOption&&this.journeyFormGroup.value.targetVJPrice?(this.hasVJAirline=!0,this.configurationFormGroup.controls.agentPhone.setValidators([l.kI.required,l.kI.minLength(7),l.kI.maxLength(11)]),this.configurationFormGroup.controls.agentPhoneArea.setValidators([l.kI.required])):(this.hasVJAirline=!1,this.configurationFormGroup.controls.agentPhone.setValidators(null),this.configurationFormGroup.controls.agentPhoneArea.setValidators(null))}}return g.\u0275fac=function(o){return new(o||g)(x.LFG(oe.gz),x.LFG(oe.F0),x.LFG(l.qu),x.LFG(de.$A),x.LFG(ee))},g.\u0275prov=x.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();var M=a(53820);const pe={[M.b.CREATE]:{name:"\u0110ang s\u0103n v\xe9",description:"S\u0103n v\xe9 t\u1ef1 \u0111\u1ed9ng \u0111ang ho\u1ea1t \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[M.b.IN_PROCESS]:{name:"\u0110ang canh v\xe9",description:"Canh v\xe9 r\u1ebb t\u1ef1 \u0111\u1ed9ng \u0111ang ho\u1ea1t \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[M.b.COMPLETED]:{name:"\u0110\xe3 s\u0103n th\xe0nh c\xf4ng",description:"\u0110\xe3 s\u0103n \u0111\u01b0\u1ee3c v\xe9",icon:"check",backgroundColor:"bg-[#07A35D]",textColor:"text-neutral-white"},[M.b.IN_PROCESS_PRICE_UP]:{name:"\u0110ang s\u0103n gi\xe1 t\u0103ng",description:"Gi\xe1 v\xe9 \u0111\xe3 t\u0103ng, vui l\xf2ng c\xe2n nh\u1eafc xu\u1ea5t v\xe9",icon:"arrow_right_up",backgroundColor:"bg-[#ffd1bc]",textColor:"text-primary-1-4"},[M.b.CANCEL]:{name:"\u0110\xe3 h\u1ee7y",description:"\u0110\xe3 h\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9",icon:"coupon_slash",backgroundColor:"bg-[#999999]",textColor:"text-neutral-white"},[M.b.EXPIRED]:{name:"\u0110\xe3 h\u1ebft s\u0103n",description:"H\u1ebft h\u1ea1n s\u0103n v\xe9",icon:"clock",backgroundColor:"bg-[#CCCCCC]",textColor:"text-neutral-gray-6"}}},57085:(N,P,a)=>{a.d(P,{bz:()=>t,fJ:()=>n,$K:()=>p,DW:()=>m,Ab:()=>T,aV:()=>i});const t=(u,f)=>u.get(f);var e=a(15439);const p=(u,f)=>h=>{const c=h.controls[u];if(!c.value)return;const C=e(f).startOf("day").add(0,"hours").toDate().getTime(),y=e(c.value).toDate();y.setFullYear(y.getFullYear()+2);const E=y.getTime(),r=e(c.value).toDate();r.setFullYear(r.getFullYear()+12);const b=r.getTime();C<=b&&C>E?c.setErrors(null):C<=b?c.setErrors({DoBChildUnder:!0}):C>E&&c.setErrors({DoBChildUpper:!0})},m=(u,f)=>h=>{const c=h.controls[u];if(!c.value)return;const C=e(f).startOf("day").add(0,"hours").toDate().getTime(),y=e(c.value).toDate().getTime(),E=e(c.value).toDate();E.setFullYear(E.getFullYear()+2);const r=E.getTime();c.setErrors(C<=r&&C>y?null:{DoBInfant:!0})},n=(u,f)=>h=>{const c=h.controls[u];if(!c.value)return;const C=e(f).startOf("day").add(0,"hours").toDate().getTime(),y=e(c.value).toDate().getTime();c.setErrors(C-y>=378683424e3?null:{DoBAdult:!0})},T=u=>f=>{const h=f.controls[u];h.value&&h.setErrors(""!=h.value?null:{required:!0})},i=()=>u=>{let f=[];for(let h=0;h<u.controls.infantPassenger.controls.length;h++){const c=u.controls.infantPassenger.at(h).controls.parentIndex.value;f.push({index:h,parentIndex:c})}for(let h=0;h<u.controls.infantPassenger.controls.length;h++){const c=u.controls.infantPassenger.at(h).controls.parentIndex.value;f.filter(y=>y.parentIndex===c).length>1?u.controls.infantPassenger.at(h).controls.parentIndex.setErrors({ParentInfantDupplicate:!0}):u.controls.infantPassenger.at(h).controls.parentIndex.setErrors(null)}}},49195:(N,P,a)=>{a.d(P,{t:()=>e});var t=a(53820);const e={[t.b.CREATE]:{name:"\u0110ang canh v\xe9",description:"Canh v\xe9 r\u1ebb \u0111ang ho\u1ea1t \u0111\u1ed9ng t\u1ef1 \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[t.b.IN_PROCESS]:{name:"\u0110ang canh v\xe9",description:"Canh v\xe9 r\u1ebb \u0111ang ho\u1ea1t \u0111\u1ed9ng t\u1ef1 \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[t.b.COMPLETED]:{name:"\u0110\xe3 canh th\xe0nh c\xf4ng",description:"\u0110\xe3 canh \u0111\u01b0\u1ee3c gi\xe1 v\xe9 r\u1ebb",icon:"check",backgroundColor:"bg-[#07A35D]",textColor:"text-neutral-white"},[t.b.IN_PROCESS_PRICE_UP]:{name:"\u0110ang canh gi\xe1 t\u0103ng",description:"Gi\xe1 v\xe9 \u0111\xe3 t\u0103ng, vui l\xf2ng c\xe2n nh\u1eafc xu\u1ea5t v\xe9",icon:"arrow_right_up",backgroundColor:"bg-[#ffd1bc]",textColor:"text-primary-1-4"},[t.b.CANCEL]:{name:"\u0110\xe3 h\u1ee7y",description:"\u0110\xe3 h\u1ee7y y\xeau c\u1ea7u canh v\xe9",icon:"delete",backgroundColor:"bg-[#999999]",textColor:"text-neutral-white"},[t.b.EXPIRED]:{name:"\u0110\xe3 h\u1ebft h\u1ea1n",description:"H\u1ebft h\u1ea1n canh v\xe9",icon:"clock",backgroundColor:"bg-[#CCCCCC]",textColor:"text-neutral-gray-6"}}},53820:(N,P,a)=>{a.d(P,{b:()=>t});var t=(()=>{return(e=t||(t={})).CREATE="CREATE",e.IN_PROCESS="IN_PROCESS",e.IN_PROCESS_PRICE_UP="IN_PROCESS_PRICE_UP",e.COMPLETED="COMPLETED",e.EXPIRED="EXPIRED",e.CANCEL="CANCEL",t;var e})()},97380:(N,P,a)=>{a.d(P,{D5:()=>c,VP:()=>f,_r:()=>h,v_:()=>E,xj:()=>T,yI:()=>y});var t=a(97582),e=a(87067),p=a(43429),m=a(53820),n=a(49195);let T=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"status",void 0),(0,t.gn)([(0,p.D)(()=>i),(0,e.C)()],r.prototype,"data",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"objectError",void 0),r})(),i=(()=>{class r{}return(0,t.gn)([(0,p.D)(()=>f),(0,e.C)()],r.prototype,"listOrder",void 0),(0,t.gn)([(0,p.D)(()=>u),(0,e.C)()],r.prototype,"orderTaskStatus",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"pageOffset",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"pageSize",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"total",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"empty",void 0),r})(),u=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"completeTask",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"inProcessTask",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"maxTask",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"numMaxFree",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"numOrderFree",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"ownerId",void 0),r})(),f=(()=>{class r{get stateDisplay(){switch(this.state){case m.b.CREATE:return n.t[m.b.CREATE].name;case m.b.IN_PROCESS:return n.t[m.b.IN_PROCESS].name;case m.b.COMPLETED:return n.t[m.b.COMPLETED].name;case m.b.CANCEL:return n.t[m.b.CANCEL].name;case m.b.EXPIRED:return n.t[m.b.EXPIRED].name;case m.b.IN_PROCESS_PRICE_UP:return n.t[m.b.IN_PROCESS_PRICE_UP].name;default:return""}}}return(0,t.gn)([(0,e.C)()],r.prototype,"orderId",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"canUpdate",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"code",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"state",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"monitorType",void 0),(0,t.gn)([(0,p.D)(()=>h),(0,e.C)()],r.prototype,"ticketInfo",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"orderInfo",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"fareInfo",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"ownerInfo",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"userActionInfo",void 0),(0,t.gn)([(0,p.D)(()=>E),(0,e.C)()],r.prototype,"availableSlotInfo",void 0),r})(),h=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"leg",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"airline",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"flightType",void 0),(0,t.gn)([(0,p.D)(()=>c),(0,e.C)()],r.prototype,"journeys",void 0),(0,t.gn)([(0,p.D)(()=>y),(0,e.C)()],r.prototype,"passengers",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"totalFare",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"originalPrice",void 0),r})(),c=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"leg",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"startPoint",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"endPoint",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"departTime",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"arrivalTime",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"duration",void 0),(0,t.gn)([(0,p.D)(()=>C),(0,e.C)()],r.prototype,"segments",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"rangeTime",void 0),r})(),C=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"startPoint",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"endPoint",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"flightNumber",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"fareBasic",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"fareClass",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"departTime",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"departZone",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"arriveTime",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"arriveZone",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"index",void 0),r})(),y=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"birthday",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"firstName",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"lastName",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"type",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"index",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"parentIndex",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"key",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"parentKey",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"namePrefix",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"gender",void 0),r})(),E=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"amountPerPax",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"currency",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"free",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"percent",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"type",void 0),r})()},40833:(N,P,a)=>{function t(e,p){if(p.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+p.length+" present")}a.d(P,{Z:()=>t})},91998:(N,P,a)=>{function t(e){if(null===e||!0===e||!1===e)return NaN;var p=Number(e);return isNaN(p)?p:p<0?Math.ceil(p):Math.floor(p)}a.d(P,{Z:()=>t})},35650:(N,P,a)=>{a.d(P,{Z:()=>m});var t=a(91998),e=a(80953),p=a(40833);function m(n,T){(0,p.Z)(2,arguments);var i=(0,e.Z)(n),u=(0,t.Z)(T);return isNaN(u)?new Date(NaN):(u&&i.setDate(i.getDate()+u),i)}},43201:(N,P,a)=>{a.d(P,{Z:()=>n});var t=a(91998),e=a(80953),p=a(40833);function n(T,i){return(0,p.Z)(2,arguments),function m(T,i){(0,p.Z)(2,arguments);var u=(0,e.Z)(T),f=(0,t.Z)(i);if(isNaN(f))return new Date(NaN);if(!f)return u;var h=u.getDate(),c=new Date(u.getTime());return c.setMonth(u.getMonth()+f+1,0),h>=c.getDate()?c:(u.setFullYear(c.getFullYear(),c.getMonth(),h),u)}(T,12*(0,t.Z)(i))}},80953:(N,P,a)=>{a.d(P,{Z:()=>p});var t=a(86),e=a(40833);function p(m){(0,e.Z)(1,arguments);var n=Object.prototype.toString.call(m);return m instanceof Date||"object"===(0,t.Z)(m)&&"[object Date]"===n?new Date(m.getTime()):"number"==typeof m||"[object Number]"===n?new Date(m):(("string"==typeof m||"[object String]"===n)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},86:(N,P,a)=>{function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(p){return typeof p}:function(p){return p&&"function"==typeof Symbol&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(e)}a.d(P,{Z:()=>t})}}]);