"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[1498],{41498:(rt,L,m)=>{m.r(L),m.d(L,{CreateDiscountFeePageComponent:()=>Bt,DiscountFeeManagePageComponent:()=>ee,EditDiscountFeePageComponent:()=>je});var C=m(36895),d=m(24006),b=m(83700),Q=m(87683),I=m(88516),E=m(72506),F=m(44143),G=m(17736),B=m(19123),R=m(74713),M=m(7542),z=m(34541),S=m(28746),X=m(50633),y=m(15439),t=m(94650),J=m(82761),$=m(80529),lt=m(44500),W=m(54004),r=m(97582),l=m(87067),O=m(43429);let ct=(()=>{class o{}return(0,r.gn)([(0,l.C)()],o.prototype,"status",void 0),(0,r.gn)([(0,O.D)(()=>dt),(0,l.C)()],o.prototype,"data",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"objectError",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"success",void 0),o})(),dt=(()=>{class o{}return(0,r.gn)([(0,l.C)()],o.prototype,"id",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"airline",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"journeyTypeName",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"flightTypeName",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"startPointDetails",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"endPointDetails",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"fareClass",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"journeyClassifyName",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"startTimeIssue",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"endTimeIssue",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"startTimeFly",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"endTimeFly",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"timeCreate",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"timeZone",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"totalPax",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"adtNum",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"chdNum",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"infNum",void 0),o})();var tt=m(50494);let pt=(()=>{class o{}return(0,r.gn)([(0,l.C)()],o.prototype,"status",void 0),(0,r.gn)([(0,O.D)(()=>_t),(0,l.C)()],o.prototype,"data",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"objectError",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"success",void 0),o})(),_t=(()=>{class o{}return(0,r.gn)([(0,l.C)()],o.prototype,"id",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"airline",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"fareClass",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"groupAgId",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"flightType",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"journeyClassify",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"journeyType",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"startPointDetails",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"endPointDetails",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"startTimeIssue",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"endTimeIssue",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"timeZone",void 0),(0,r.gn)([(0,O.D)(()=>et),(0,l.C)()],o.prototype,"timeIssueCustom",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"startTimeFly",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"endTimeFly",void 0),(0,r.gn)([(0,O.D)(()=>et),(0,l.C)()],o.prototype,"timeFlyCustom",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"paxType",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"totalPax",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"adtNum",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"chdNum",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"infNum",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"amountFromAirline",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"currencyCode",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"amountNowPositive",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"amountLaterPositive",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"amountNowNegative",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"amountLaterNegative",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"codeSharePercent",void 0),o})(),et=(()=>{class o{}return(0,r.gn)([(0,l.C)()],o.prototype,"exceptStart",void 0),(0,r.gn)([(0,l.C)()],o.prototype,"exceptEnd",void 0),o})();const q={headers:new $.WM({"Content-Type":"application/json"})};let K=(()=>{class o{constructor(e,i){this.http=e,this.appConfig=i}createDiscountFee(e){return this.http.post(this.appConfig.apiUrl+"discount-fee/create-discount-fee-config",JSON.stringify(e),q)}updateDiscountFee(e){return this.http.put(this.appConfig.apiUrl+"discount-fee/update-discount-fee",JSON.stringify(e),q)}getDiscountFeeById(e){return this.http.get(this.appConfig.apiUrl+"discount-fee/get-discount-fee-by-id?id="+e,q).pipe((0,W.U)(i=>(0,tt.yE)(pt,i,{excludeExtraneousValues:!0})))}getDiscountFeeInfoConfig(){return this.http.get(this.appConfig.apiUrl+"discount-fee/get-info-create-discount-fee",q)}getJourneyInfoFilterDiscountFee(){return this.http.get(this.appConfig.apiUrl+"discount-fee/get-journey-info-filter-discount-fee",q)}getListDiscountFeeConfig(e){return this.http.post(this.appConfig.apiUrl+"discount-fee/get-list-discount-fee-config",JSON.stringify(e),q).pipe((0,W.U)(i=>(0,tt.yE)(ct,i,{excludeExtraneousValues:!0})))}deleteDiscountFeeConfig(e){return this.http.delete(this.appConfig.apiUrl+"discount-fee/delete-discount-fee?id="+e,q)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG($.eN),t.LFG(lt.qB))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function mt(o,s){if(1&o&&t._UZ(0,"cf-input-hint",50),2&o){const e=t.oxw(2);t.Q6J("hint",e.errorMessage.airline)}}const N=function(){return[]};function ht(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",51)(2,"cf-multi-select",52),t.NdJ("valueChange",function(n){t.CHM(e);const u=t.oxw(2);return t.KtG(u.onPointChange(n,"startPointDetails"))})("selectedChange",function(n){t.CHM(e);const u=t.oxw(2);return t.KtG(u.onSelectedChange("startPointDetails",n))}),t.TgZ(3,"label",16),t._uU(4," \u0110i\u1ec3m \u0111i "),t.qZA()(),t.TgZ(5,"button",53),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.swapPoint(n.discountConditionForm.controls.startPointDetails,n.discountConditionForm.controls.endPointDetails))}),t._UZ(6,"cf-icon",54),t.qZA(),t.TgZ(7,"cf-multi-select",55),t.NdJ("selectedChange",function(n){t.CHM(e);const u=t.oxw(2);return t.KtG(u.onSelectedChange("endPointDetails",n))})("valueChange",function(n){t.CHM(e);const u=t.oxw(2);return t.KtG(u.onPointChange(n,"endPointDetails"))}),t.TgZ(8,"label",16),t._uU(9," \u0110i\u1ec3m \u0111\u1ebfn "),t.qZA()()(),t.TgZ(10,"div")(11,"cf-select",56)(12,"label",16),t._uU(13," Lo\u1ea1i ch\u1eb7ng bay "),t.qZA()()()()}if(2&o){const e=t.oxw(2),i=t.MAs(8);t.xp6(2),t.Q6J("status","default")("data",e.airportOptions||t.DdM(19,N))("allowSearch",!0)("placeholder",e.discountConditionForm.controls.startPointDetails?"Ch\u1ecdn m\xe3 s\xe2n bay":"Ch\u1ecdn m\xe3 s\xe2n bay ho\u1eb7c b\u1ecf tr\u1ed1ng cho t\u1ea5t c\u1ea3")("customSearch",e.positionSearchCustom)("formControl",e.discountConditionForm.controls.startPointDetails)("maxHeight",230)("optionTmp",i),t.xp6(5),t.Q6J("status","default")("data",e.airportOptions||t.DdM(20,N))("allowSearch",!0)("placeholder",e.discountConditionForm.controls.endPointDetails?"Ch\u1ecdn m\xe3 s\xe2n bay":"Ch\u1ecdn m\xe3 s\xe2n bay ho\u1eb7c b\u1ecf tr\u1ed1ng cho t\u1ea5t c\u1ea3")("formControl",e.discountConditionForm.controls.endPointDetails)("maxHeight",230)("optionTmp",i),t.xp6(4),t.Q6J("status","default")("data",e.classifyListDomestic)("allowSearch",!1)("formControl",e.discountConditionForm.controls.journeyClassify)}}function gt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",60)(1,"cf-multi-select",61),t.NdJ("valueChange",function(n){t.CHM(e);const u=t.oxw(3);return t.KtG(u.onPointChange(n,"startPointDetails"))})("selectedChange",function(n){t.CHM(e);const u=t.oxw(3);return t.KtG(u.onSelectedChange("startPointDetails",n))}),t.TgZ(2,"label",16),t._uU(3," \u0110i\u1ec3m \u0111i "),t.qZA()(),t.TgZ(4,"button",53),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.swapPoint(n.discountConditionForm.controls.startPointDetails,n.discountConditionForm.controls.endPointDetails))}),t._UZ(5,"cf-icon",54),t.qZA(),t.TgZ(6,"cf-multi-select",61),t.NdJ("valueChange",function(n){t.CHM(e);const u=t.oxw(3);return t.KtG(u.onPointChange(n,"endPointDetails"))})("selectedChange",function(n){t.CHM(e);const u=t.oxw(3);return t.KtG(u.onSelectedChange("endPointDetails",n))}),t.TgZ(7,"label",16),t._uU(8," \u0110i\u1ec3m \u0111\u1ebfn "),t.qZA()()()}if(2&o){const e=t.oxw(3),i=t.MAs(8);t.xp6(1),t.Q6J("status","default")("data",e.airportOptions||t.DdM(14,N))("allowSearch",!0)("placeholder",e.discountConditionForm.controls.startPointDetails?"Ch\u1ecdn m\xe3 s\xe2n bay":"Ch\u1ecdn m\xe3 s\xe2n bay ho\u1eb7c b\u1ecf tr\u1ed1ng cho t\u1ea5t c\u1ea3")("formControl",e.discountConditionForm.controls.startPointDetails)("maxHeight",230)("optionTmp",i),t.xp6(5),t.Q6J("status","default")("data",e.airportOptions||t.DdM(15,N))("allowSearch",!0)("placeholder",e.discountConditionForm.controls.endPointDetails?"Ch\u1ecdn m\xe3 s\xe2n bay":"Ch\u1ecdn m\xe3 s\xe2n bay ho\u1eb7c b\u1ecf tr\u1ed1ng cho t\u1ea5t c\u1ea3")("formControl",e.discountConditionForm.controls.endPointDetails)("maxHeight",230)("optionTmp",i)}}function ft(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",26)(1,"cf-multi-select",62),t.NdJ("selectedChange",function(n){t.CHM(e);const u=t.oxw(3);return t.KtG(u.onSelectedChange("startPointDetails",n))}),t.TgZ(2,"label",16),t._uU(3," \u0110i\u1ec3m \u0111i "),t.qZA()(),t.TgZ(4,"button",53),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.swapPoint(n.discountConditionForm.controls.startPointDetails,n.discountConditionForm.controls.endPointDetails))}),t._UZ(5,"cf-icon",54),t.qZA(),t.TgZ(6,"cf-multi-select",62),t.NdJ("selectedChange",function(n){t.CHM(e);const u=t.oxw(3);return t.KtG(u.onSelectedChange("endPointDetails",n))}),t.TgZ(7,"label",16),t._uU(8," \u0110i\u1ec3m \u0111\u1ebfn "),t.qZA()()()}if(2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("status","default")("data",e.countryOptions||t.DdM(10,N))("allowSearch",!0)("formControl",e.discountConditionForm.controls.startPointDetails)("maxHeight",230),t.xp6(5),t.Q6J("status","default")("data",e.countryOptions||t.DdM(11,N))("allowSearch",!0)("formControl",e.discountConditionForm.controls.endPointDetails)("maxHeight",230)}}function Ct(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",60)(1,"cf-multi-select",63),t.NdJ("selectedChange",function(n){t.CHM(e);const u=t.oxw(3);return t.KtG(u.onSelectedChange("startPointDetails",n))}),t.TgZ(2,"label",16),t._uU(3," \u0110i\u1ec3m \u0111i "),t.qZA()(),t.TgZ(4,"button",53),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.swapPoint(n.discountConditionForm.controls.startPointDetails,n.discountConditionForm.controls.endPointDetails))}),t._UZ(5,"cf-icon",54),t.qZA(),t.TgZ(6,"cf-multi-select",63),t.NdJ("selectedChange",function(n){t.CHM(e);const u=t.oxw(3);return t.KtG(u.onSelectedChange("endPointDetails",n))}),t.TgZ(7,"label",16),t._uU(8," \u0110i\u1ec3m \u0111\u1ebfn "),t.qZA()()()}if(2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("status","default")("data",e.areaOptions||t.DdM(10,N))("allowSearch",!0)("formControl",e.discountConditionForm.controls.startPointDetails)("maxHeight",230),t.xp6(5),t.Q6J("status","default")("data",e.areaOptions||t.DdM(11,N))("allowSearch",!0)("formControl",e.discountConditionForm.controls.endPointDetails)("maxHeight",230)}}function Et(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",11)(1,"cf-radio-group",57),t.NdJ("checkChange",function(n){t.CHM(e);const u=t.oxw(2);return t.KtG(u.onChangeJourneyType(n))}),t.TgZ(2,"cf-radio",22),t._uU(3,"Theo s\xe2n bay"),t.qZA(),t.TgZ(4,"cf-radio",22),t._uU(5,"Theo qu\u1ed1c gia"),t.qZA(),t.TgZ(6,"cf-radio",22),t._uU(7,"Theo khu v\u1ef1c"),t.qZA()(),t.TgZ(8,"div",11),t.YNc(9,gt,9,16,"div",58),t.YNc(10,ft,9,12,"div",23),t.YNc(11,Ct,9,12,"div",58),t.TgZ(12,"div")(13,"cf-select",59)(14,"label",16),t._uU(15," Lo\u1ea1i ch\u1eb7ng bay "),t.qZA()()()()()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("formControl",e.discountConditionForm.controls.journeyType),t.xp6(1),t.Q6J("value","AIRPORT"),t.xp6(2),t.Q6J("value","NATIONAL"),t.xp6(2),t.Q6J("value","AREA"),t.xp6(3),t.Q6J("ngIf","AIRPORT"===e.journeyType),t.xp6(1),t.Q6J("ngIf","NATIONAL"===e.journeyType),t.xp6(1),t.Q6J("ngIf","AREA"===e.journeyType),t.xp6(2),t.Q6J("status","default")("data",e.classifyListInternational)("allowSearch",!1)("formControl",e.discountConditionForm.controls.journeyClassify)}}function Tt(o,s){if(1&o&&(t.TgZ(0,"div")(1,"cf-input-group",27)(2,"label",16),t._uU(3," T\u1ed5ng s\u1ed1 h\xe0nh kh\xe1ch t\u1ed1i thi\u1ec3u "),t.qZA(),t._UZ(4,"input",64),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("status","default"),t.xp6(3),t.Q6J("formControl",e.discountConditionForm.controls.totalPax)}}function vt(o,s){if(1&o&&(t.TgZ(0,"div",26)(1,"cf-input-group",27)(2,"label",16)(3,"span",65),t._uU(4,"Ng\u01b0\u1eddi l\u1edbn (ADT)"),t.qZA()(),t._UZ(5,"input",66),t.qZA(),t.TgZ(6,"cf-input-group",27)(7,"label",16)(8,"span",65),t._uU(9,"Tr\u1ebb em (CHD)"),t.qZA()(),t._UZ(10,"input",66),t.qZA(),t.TgZ(11,"cf-input-group",27)(12,"label",16)(13,"span",65),t._uU(14,"Em b\xe9 (IFN)"),t.qZA()(),t._UZ(15,"input",66),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("status","default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("formControl",e.discountConditionForm.controls.adtNum),t.xp6(1),t.Q6J("status","default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("formControl",e.discountConditionForm.controls.chdNum),t.xp6(1),t.Q6J("status","default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("formControl",e.discountConditionForm.controls.infNum)}}function yt(o,s){if(1&o&&t._UZ(0,"cf-input-hint",50),2&o){const e=t.oxw(2);t.Q6J("hint",e.errorMessage.startTimeIssue)}}function Dt(o,s){1&o&&t._UZ(0,"cf-input-hint",50),2&o&&t.Q6J("hint","Th\u1eddi gian xu\u1ea5t v\xe9 ph\u1ea3i b\u1eaft \u0111\u1ea7u t\u1eeb h\xf4m nay")}function Ft(o,s){if(1&o&&t._UZ(0,"cf-input-hint",50),2&o){const e=t.oxw(2);t.Q6J("hint",e.errorMessage.endTimeIssue)}}function xt(o,s){1&o&&(t.TgZ(0,"div",67),t._uU(1," T\xf9y ch\u1ec9nh th\u1eddi gian lo\u1ea1i tr\u1eeb "),t.qZA())}function At(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",60)(1,"cf-input-group",27),t._UZ(2,"cf-icon",28),t.TgZ(3,"label",29),t._uU(4," Lo\u1ea1i tr\u1eeb t\u1eeb ng\xe0y "),t.qZA(),t.TgZ(5,"input",68,31),t.NdJ("input",function(){t.CHM(e);const n=t.MAs(6);return t.KtG(n.close())})("dateSelect",function(){t.CHM(e);const n=t.MAs(6);return t.KtG(n.close())}),t.qZA()(),t.TgZ(7,"cf-input-group",27),t._UZ(8,"cf-icon",28),t.TgZ(9,"label",29),t._uU(10," Lo\u1ea1i tr\u1eeb \u0111\u1ebfn ng\xe0y "),t.qZA(),t.TgZ(11,"input",68,31),t.NdJ("input",function(){t.CHM(e);const n=t.MAs(6);return t.KtG(n.close())})("dateSelect",function(){t.CHM(e);const n=t.MAs(6);return t.KtG(n.close())}),t.qZA()(),t.TgZ(13,"div",69),t.NdJ("click",function(){const u=t.CHM(e).index,a=t.oxw(2);return t.KtG(a.onRemoveTimeIssue(u))}),t._UZ(14,"cf-icon",70),t.qZA()()}if(2&o){const e=s.$implicit;t.xp6(1),t.Q6J("status",null!=e.controls&&e.controls.exceptStart.invalid&&(null!=e.controls&&e.controls.exceptStart.dirty||null!=e.controls&&e.controls.exceptStart.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("secondaryCalendar","lunar")("displayMonths",1)("formControl",null==e.controls?null:e.controls.exceptStart),t.xp6(2),t.Q6J("status",null!=e.controls&&e.controls.exceptEnd.invalid&&(null!=e.controls&&e.controls.exceptEnd.dirty||null!=e.controls&&e.controls.exceptEnd.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("secondaryCalendar","lunar")("displayMonths",1)("formControl",null==e.controls?null:e.controls.exceptEnd)}}function Zt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",71)(1,"a",72),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.onAddTimeIssue())}),t._uU(2," Th\xeam th\u1eddi gian lo\u1ea1i tr\u1eeb "),t.qZA()()}}function Nt(o,s){if(1&o&&t._UZ(0,"cf-input-hint",50),2&o){const e=t.oxw(2);t.Q6J("hint",e.errorMessage.startTimeFly)}}function Pt(o,s){if(1&o&&t._UZ(0,"cf-input-hint",50),2&o){const e=t.oxw(2);t.Q6J("hint",e.errorMessage.endTimeFly)}}function qt(o,s){1&o&&(t.TgZ(0,"div",67),t._uU(1," T\xf9y ch\u1ec9nh th\u1eddi gian lo\u1ea1i tr\u1eeb "),t.qZA())}function bt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",60)(1,"cf-input-group",27),t._UZ(2,"cf-icon",28),t.TgZ(3,"label",29),t._uU(4," Lo\u1ea1i tr\u1eeb t\u1eeb ng\xe0y "),t.qZA(),t.TgZ(5,"input",68,31),t.NdJ("input",function(){t.CHM(e);const n=t.MAs(6);return t.KtG(n.close())})("dateSelect",function(){t.CHM(e);const n=t.MAs(6);return t.KtG(n.close())}),t.qZA()(),t.TgZ(7,"cf-input-group",27),t._UZ(8,"cf-icon",28),t.TgZ(9,"label",29),t._uU(10," Lo\u1ea1i tr\u1eeb \u0111\u1ebfn ng\xe0y "),t.qZA(),t.TgZ(11,"input",68,31),t.NdJ("input",function(){t.CHM(e);const n=t.MAs(6);return t.KtG(n.close())})("dateSelect",function(){t.CHM(e);const n=t.MAs(6);return t.KtG(n.close())}),t.qZA()(),t.TgZ(13,"div",69),t.NdJ("click",function(){const u=t.CHM(e).index,a=t.oxw(2);return t.KtG(a.onRemoveTimeFly(u))}),t._UZ(14,"cf-icon",70),t.qZA()()}if(2&o){const e=s.$implicit;t.xp6(1),t.Q6J("status",null!=e.controls&&e.controls.exceptStart.invalid&&(null!=e.controls&&e.controls.exceptStart.dirty||null!=e.controls&&e.controls.exceptStart.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("secondaryCalendar","lunar")("displayMonths",1)("formControl",null==e.controls?null:e.controls.exceptStart),t.xp6(2),t.Q6J("status",null!=e.controls&&e.controls.exceptEnd.invalid&&(null!=e.controls&&e.controls.exceptEnd.dirty||null!=e.controls&&e.controls.exceptEnd.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("secondaryCalendar","lunar")("displayMonths",1)("formControl",null==e.controls?null:e.controls.exceptEnd)}}function It(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",71)(1,"a",72),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.onAddTimeFly())}),t._uU(2," Th\xeam th\u1eddi gian lo\u1ea1i tr\u1eeb "),t.qZA()()}}const it=function(o){return{"!bg-neutral-black !text-white border-none":o}};function Mt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),t._uU(4," \u0110i\u1ec1u ki\u1ec7n h\xe3ng bay "),t.qZA(),t.TgZ(5,"div",10),t._uU(6," H\xe3ng bay khai th\xe1c v\xe0 h\u1ea1ng gh\u1ebf "),t.qZA()(),t.TgZ(7,"div",11)(8,"cf-select",12),t.NdJ("selectedChange",function(n){t.CHM(e);const u=t.oxw();return t.KtG(u.onSelectedAirline(n.code))}),t.TgZ(9,"label",13),t._uU(10," H\xe3ng bay "),t.qZA(),t.YNc(11,mt,1,1,"cf-input-hint",14),t.qZA(),t.TgZ(12,"cf-multi-select",15),t.NdJ("valueChange",function(n){t.CHM(e);const u=t.oxw();return t.KtG(u.onFareClassChange(n))}),t.TgZ(13,"label",16),t._uU(14," H\u1ea1ng \u0111\u1eb7t ch\u1ed7 "),t.qZA()()()(),t.TgZ(15,"div",7)(16,"div",8)(17,"div",9),t._uU(18," \u0110i\u1ec1u ki\u1ec7n h\xe0nh tr\xecnh "),t.qZA(),t.TgZ(19,"div",10),t._uU(20," H\xe0nh tr\xecnh bay \xe1p d\u1ee5ng, ch\u1ec9 \xe1p d\u1ee5ng cho h\xe0nh tr\xecnh m\u1ed9t chi\u1ec1u "),t.qZA()(),t.TgZ(21,"div",17)(22,"div",18)(23,"div",19),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onSwitcJourney("DOMESTIC"))}),t.TgZ(24,"span"),t._uU(25,"Qu\u1ed1c n\u1ed9i"),t.qZA()(),t.TgZ(26,"div",19),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onSwitcJourney("INTERNATIONAL"))}),t.TgZ(27,"span"),t._uU(28,"Qu\u1ed1c t\u1ebf"),t.qZA()()(),t.YNc(29,ht,14,21,"div",20),t.YNc(30,Et,16,11,"div",20),t.qZA()(),t.TgZ(31,"div",7)(32,"div",8)(33,"div",9),t._uU(34," \u0110i\u1ec1u ki\u1ec7n h\xe0nh kh\xe1ch "),t.qZA(),t.TgZ(35,"div",10),t._uU(36," Y\xeau c\u1ea7u v\u1ec1 s\u1ed1 l\u01b0\u1ee3ng h\xe0nh kh\xe1ch t\u1ed1i thi\u1ec3u "),t.qZA()(),t.TgZ(37,"div",11)(38,"cf-radio-group",21),t.NdJ("checkChange",function(n){t.CHM(e);const u=t.oxw();return t.KtG(u.onChangePaxType(n))})("ngModelChange",function(n){t.CHM(e);const u=t.oxw();return t.KtG(u.paxType=n)}),t.TgZ(39,"cf-radio",22),t._uU(40,"T\u1ed5ng h\xe0nh kh\xe1ch"),t.qZA(),t.TgZ(41,"cf-radio",22),t._uU(42,"T\u1eebng \u0111\u1ed1i t\u01b0\u1ee3ng h\xe0nh kh\xe1ch"),t.qZA()(),t.YNc(43,Tt,5,2,"div",4),t.YNc(44,vt,16,9,"div",23),t.qZA()(),t.TgZ(45,"div",24)(46,"div",25)(47,"div",9),t._uU(48," Th\u1eddi gian xu\u1ea5t v\xe9 "),t.qZA(),t.TgZ(49,"div",10),t._uU(50," Th\u1eddi gian xu\u1ea5t v\xe9 \xe1p d\u1ee5ng chi\u1ebft kh\u1ea5u, c\xf3 th\u1ec3 bao g\u1ed3m th\u1eddi gian lo\u1ea1i tr\u1eeb "),t.qZA()(),t.TgZ(51,"div",11)(52,"div",26)(53,"cf-input-group",27),t._UZ(54,"cf-icon",28),t.TgZ(55,"label",29),t._uU(56," T\u1eeb ng\xe0y "),t.qZA(),t.TgZ(57,"input",30,31),t.NdJ("input",function(){t.CHM(e);const n=t.MAs(58);return t.KtG(n.close())})("dateSelect",function(){t.CHM(e);const n=t.MAs(58);return t.KtG(n.close())}),t.qZA(),t.YNc(59,yt,1,1,"cf-input-hint",14),t.YNc(60,Dt,1,1,"cf-input-hint",14),t.qZA(),t.TgZ(61,"cf-input-group",27),t._UZ(62,"cf-icon",28),t.TgZ(63,"label",29),t._uU(64," \u0110\u1ebfn ng\xe0y "),t.qZA(),t.TgZ(65,"input",30,32),t.NdJ("input",function(){t.CHM(e);const n=t.MAs(66);return t.KtG(n.close())})("dateSelect",function(){t.CHM(e);const n=t.MAs(66);return t.KtG(n.close())}),t.qZA(),t.YNc(67,Ft,1,1,"cf-input-hint",14),t.qZA()()(),t.TgZ(68,"cf-collapse",33)(69,"cf-collapse-panel",34),t.YNc(70,xt,2,0,"ng-template",null,35,t.W1O),t.TgZ(72,"div",17)(73,"div",36)(74,"div",37)(75,"span",38),t._uU(76,"L\u01b0u \xfd khi t\xf9y ch\u1ec9nh th\u1eddi gian lo\u1ea1i tr\u1eeb"),t.qZA()(),t.TgZ(77,"div",39)(78,"div"),t._uU(79," Th\u1eddi gian lo\u1ea1i tr\u1eeb ph\u1ea3i x\u1ea3y ra trong kho\u1ea3ng th\u1eddi gian \xe1p d\u1ee5ng ch\u01b0\u01a1ng tr\xecnh. "),t.qZA(),t.TgZ(80,"div"),t._uU(81," T\u1ed5ng s\u1ed1 ng\xe0y c\u1ee7a th\u1eddi gian lo\u1ea1i tr\u1eeb ph\u1ea3i nh\u1ecf h\u01a1n t\u1ed5ng s\u1ed1 ng\xe0y c\u1ee7a th\u1eddi gian \xe1p d\u1ee5ng ch\u01b0\u01a1ng tr\xecnh. "),t.qZA()()(),t.TgZ(82,"div",40)(83,"div",11),t.YNc(84,At,15,10,"div",41),t.qZA(),t.YNc(85,Zt,3,0,"div",42),t.qZA()()()()(),t.TgZ(86,"div",24)(87,"div",25)(88,"div",9),t._uU(89," Th\u1eddi gian bay "),t.qZA(),t.TgZ(90,"div",10),t._uU(91," Th\u1eddi gian bay \xe1p d\u1ee5ng chi\u1ebft kh\u1ea5u, c\xf3 th\u1ec3 bao g\u1ed3m th\u1eddi gian lo\u1ea1i tr\u1eeb "),t.qZA()(),t.TgZ(92,"div",11)(93,"div",26)(94,"cf-input-group",27),t._UZ(95,"cf-icon",28),t.TgZ(96,"label",29),t._uU(97," T\u1eeb ng\xe0y "),t.qZA(),t.TgZ(98,"input",43,44),t.NdJ("input",function(){t.CHM(e);const n=t.MAs(99);return t.KtG(n.close())})("dateSelect",function(){t.CHM(e);const n=t.MAs(99);return t.oxw().onDateSelected("startTimeFly"),t.KtG(n.close())})("closed",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onDateSelected("startTimeFly"))})("focus",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onStartTimeFly())})("reset",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onDateSelected("startTimeFly"))}),t.qZA(),t.YNc(100,Nt,1,1,"cf-input-hint",14),t.qZA(),t.TgZ(101,"cf-input-group",27),t._UZ(102,"cf-icon",28),t.TgZ(103,"label",29),t._uU(104," \u0110\u1ebfn ng\xe0y "),t.qZA(),t.TgZ(105,"input",45,46),t.NdJ("input",function(){t.CHM(e);const n=t.MAs(106);return t.KtG(n.close())})("reset",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onDateSelected("endTimeFly"))})("focus",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onEndTimeFly())})("closed",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onDateSelected("endTimeFly"))})("dateSelect",function(){t.CHM(e);const n=t.MAs(106);return t.oxw().onDateSelected("endTimeFly"),t.KtG(n.close())}),t.qZA(),t.YNc(107,Pt,1,1,"cf-input-hint",14),t.qZA()()(),t.TgZ(108,"cf-collapse",33)(109,"cf-collapse-panel",34),t.YNc(110,qt,2,0,"ng-template",null,35,t.W1O),t.TgZ(112,"div",17)(113,"div",36)(114,"div",37)(115,"span",38),t._uU(116,"L\u01b0u \xfd khi t\xf9y ch\u1ec9nh th\u1eddi gian lo\u1ea1i tr\u1eeb"),t.qZA()(),t.TgZ(117,"div",39)(118,"div"),t._uU(119," Th\u1eddi gian lo\u1ea1i tr\u1eeb ph\u1ea3i x\u1ea3y ra trong kho\u1ea3ng th\u1eddi gian \xe1p d\u1ee5ng ch\u01b0\u01a1ng tr\xecnh. "),t.qZA(),t.TgZ(120,"div"),t._uU(121," T\u1ed5ng s\u1ed1 ng\xe0y c\u1ee7a th\u1eddi gian lo\u1ea1i tr\u1eeb ph\u1ea3i nh\u1ecf h\u01a1n t\u1ed5ng s\u1ed1 ng\xe0y c\u1ee7a th\u1eddi gian \xe1p d\u1ee5ng ch\u01b0\u01a1ng tr\xecnh. "),t.qZA()()(),t.TgZ(122,"div",40)(123,"div",11),t.YNc(124,bt,15,10,"div",41),t.qZA(),t.YNc(125,It,3,0,"div",42),t.qZA()()()()(),t.TgZ(126,"div",47),t._UZ(127,"div"),t.TgZ(128,"button",48),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onChangeStep("DISCOUNT_APPLY"))}),t._uU(129," Ti\u1ebfp t\u1ee5c "),t._UZ(130,"cf-icon",49),t.qZA()()()}if(2&o){const e=t.MAs(71),i=t.oxw();t.xp6(8),t.Q6J("status",i.discountConditionForm.controls.airline.invalid&&(i.discountConditionForm.controls.airline.dirty||i.discountConditionForm.controls.airline.touched)?"error":"default")("data",i.airlineOptions)("allowSearch",!1)("formControl",i.discountConditionForm.controls.airline),t.xp6(1),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("ngIf",i.discountConditionForm.controls.airline.hasError("required")&&(i.discountConditionForm.controls.airline.touched||i.discountConditionForm.controls.airline.dirty)),t.xp6(1),t.Q6J("disabled",i.isDisabledFareClass)("status","default")("data",i.fareClassOptions||t.DdM(60,N))("allowSearch",!1)("placeholder",i.discountConditionForm.controls.fareClass?"Ch\u1ecdn c\xe1c h\u1ea1ng \u0111\u1eb7t ch\u1ed7":"Ch\u1ecdn c\xe1c h\u1ea1ng \u0111\u1eb7t ch\u1ed7 ho\u1eb7c b\u1ecf tr\u1ed1ng cho t\u1ea5t c\u1ea3 h\u1ea1ng")("formControl",i.discountConditionForm.controls.fareClass)("maxHeight",230),t.xp6(11),t.Q6J("ngClass",t.VKq(61,it,"DOMESTIC"===i.flightType)),t.xp6(3),t.Q6J("ngClass",t.VKq(63,it,"INTERNATIONAL"===i.flightType)),t.xp6(3),t.Q6J("ngIf","DOMESTIC"===i.flightType),t.xp6(1),t.Q6J("ngIf","INTERNATIONAL"===i.flightType),t.xp6(8),t.Q6J("ngModel",i.paxType),t.xp6(1),t.Q6J("value","TOTAL_PAX"),t.xp6(2),t.Q6J("value","SINGLE_PAX"),t.xp6(2),t.Q6J("ngIf","TOTAL_PAX"===i.paxType),t.xp6(1),t.Q6J("ngIf","SINGLE_PAX"===i.paxType),t.xp6(9),t.Q6J("status",i.discountConditionForm.controls.startTimeIssue.invalid&&(i.discountConditionForm.controls.startTimeIssue.dirty||i.discountConditionForm.controls.startTimeIssue.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("minDate",i.currentDateIssue)("secondaryCalendar","lunar")("displayMonths",1)("formControl",i.discountConditionForm.controls.startTimeIssue),t.xp6(2),t.Q6J("ngIf",i.discountConditionForm.controls.startTimeIssue.hasError("required")&&(i.discountConditionForm.controls.startTimeIssue.touched||i.discountConditionForm.controls.startTimeIssue.dirty)),t.xp6(1),t.Q6J("ngIf",i.discountConditionForm.controls.startTimeIssue.hasError("ngbDate")&&(i.discountConditionForm.controls.startTimeIssue.touched||i.discountConditionForm.controls.startTimeIssue.dirty)),t.xp6(1),t.Q6J("status",i.discountConditionForm.controls.endTimeIssue.invalid&&(i.discountConditionForm.controls.endTimeIssue.dirty||i.discountConditionForm.controls.endTimeIssue.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("minDate",i.currentDateIssue)("secondaryCalendar","lunar")("displayMonths",1)("formControl",i.discountConditionForm.controls.endTimeIssue),t.xp6(2),t.Q6J("ngIf",i.discountConditionForm.controls.endTimeIssue.hasError("required")&&(i.discountConditionForm.controls.endTimeIssue.touched||i.discountConditionForm.controls.endTimeIssue.dirty)),t.xp6(2),t.Q6J("title",e)("active",i.listTimeIssueCustom.length),t.xp6(15),t.Q6J("ngForOf",i.listTimeIssueCustom.controls),t.xp6(1),t.Q6J("ngIf",i.listTimeIssueCustom.length<3),t.xp6(9),t.Q6J("status",i.discountConditionForm.controls.startTimeFly.invalid&&(i.discountConditionForm.controls.startTimeFly.dirty||i.discountConditionForm.controls.startTimeFly.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",i.isRequiredFlyTime),t.xp6(2),t.Q6J("minDate",i.currentDateFly)("secondaryCalendar","lunar")("displayMonths",1)("formControl",i.discountConditionForm.controls.startTimeFly),t.xp6(2),t.Q6J("ngIf",i.discountConditionForm.controls.startTimeFly.hasError("required")&&(i.discountConditionForm.controls.startTimeFly.touched||i.discountConditionForm.controls.startTimeFly.dirty)),t.xp6(1),t.Q6J("status",i.discountConditionForm.controls.endTimeFly.invalid&&(i.discountConditionForm.controls.endTimeFly.dirty||i.discountConditionForm.controls.endTimeFly.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",i.isRequiredFlyTime),t.xp6(2),t.Q6J("minDate",i.currentDateFly)("secondaryCalendar","lunar")("displayMonths",1)("formControl",i.discountConditionForm.controls.endTimeFly),t.xp6(2),t.Q6J("ngIf",i.discountConditionForm.controls.endTimeFly.hasError("required")&&(i.discountConditionForm.controls.endTimeFly.touched||i.discountConditionForm.controls.endTimeFly.dirty)),t.xp6(2),t.Q6J("title",e)("active",i.listTimeFlyCustom.length),t.xp6(15),t.Q6J("ngForOf",i.listTimeFlyCustom.controls),t.xp6(1),t.Q6J("ngIf",i.listTimeFlyCustom.length<3),t.xp6(3),t.Q6J("disabled",i.discountConditionForm.invalid)}}function St(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9),t._uU(4," M\u1ee9c chi\u1ebft kh\u1ea5u \u0111\u1ea7u v\xe0o "),t.qZA(),t.TgZ(5,"div",10),t._uU(6," M\u1ee9c chi\u1ebft kh\u1ea5u g\u1ed1c h\xe3ng chia cho \u0111\u1ea1i l\xfd F1 "),t.qZA()(),t.TgZ(7,"div",26)(8,"cf-input-group",27)(9,"label",13),t._uU(10," Chi\u1ebft kh\u1ea5u g\u1ed1c t\u1eeb h\xe3ng "),t.qZA(),t._UZ(11,"input",66),t.qZA(),t.TgZ(12,"cf-select",73)(13,"label",13),t._uU(14," Lo\u1ea1i ti\u1ec1n "),t.qZA()()()(),t.TgZ(15,"div",7)(16,"div",8)(17,"div",9),t._uU(18," M\u1ee9c chi\u1ebft kh\u1ea5u \u0111\u1ea7u ra "),t.qZA(),t.TgZ(19,"div",10),t._uU(20," C\xe1c m\u1ee9c chi\u1ebft kh\u1ea5u \xe1p d\u1ee5ng chi tr\u1ea3 cho \u0111\u1ea1i l\xfd F2 l\u1ea5y t\u1eeb chi\u1ebft kh\u1ea5u \u0111\u1ea7u v\xe0o "),t.qZA()(),t.TgZ(21,"div",74)(22,"div",11)(23,"div",75),t._uU(24,"N\u1ebfu thanh to\xe1n ngay cho \u0111\u1ea1i l\xfd"),t.qZA(),t.TgZ(25,"div",76)(26,"cf-input-group",27)(27,"label",16)(28,"span",65),t._uU(29,"Chi\u1ebft kh\u1ea5u khi d\u01b0\u01a1ng qu\u1ef9"),t.qZA()(),t._UZ(30,"input",77),t.qZA(),t.TgZ(31,"cf-input-group",27)(32,"label",16)(33,"span",65),t._uU(34,"Chi\u1ebft kh\u1ea5u khi \xe2m qu\u1ef9"),t.qZA()(),t._UZ(35,"input",78),t.qZA()()(),t.TgZ(36,"div",11)(37,"div",75),t._uU(38,"N\u1ebfu thanh to\xe1n sau cho \u0111\u1ea1i l\xfd"),t.qZA(),t.TgZ(39,"div",76)(40,"cf-input-group",27)(41,"label",16)(42,"span",65),t._uU(43,"Chi\u1ebft kh\u1ea5u khi d\u01b0\u01a1ng qu\u1ef9"),t.qZA()(),t._UZ(44,"input",77),t.qZA(),t.TgZ(45,"cf-input-group",27)(46,"label",16)(47,"span",65),t._uU(48,"Chi\u1ebft kh\u1ea5u khi \xe2m qu\u1ef9"),t.qZA()(),t._UZ(49,"input",78),t.qZA()()()()(),t.TgZ(50,"div",7)(51,"div",8)(52,"div",79),t._uU(53," M\u1ee9c chi\u1ebft kh\u1ea5u d\xe0nh cho CodeShare "),t.qZA(),t.TgZ(54,"div",10),t._uU(55," Ph\u1ea7n tr\u0103m chi\u1ebft kh\u1ea5u cho c\xe1c chuy\u1ebfn bay codeshare so v\u1edbi chi\u1ebft kh\u1ea5u \u0111\u1ea7y \u0111\u1ee7 "),t.qZA()(),t.TgZ(56,"div",17)(57,"cf-input-group",27),t._UZ(58,"input",80),t.qZA()()(),t.TgZ(59,"div",7)(60,"div",8)(61,"div",9),t._uU(62," Nh\xf3m \u0111\u1ea1i l\xfd "),t.qZA(),t.TgZ(63,"div",10),t._uU(64," C\xe1c \u0111\u1ea1i l\xfd thu\u1ed9c nh\xf3m n\xe0y s\u1ebd \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng m\u1ee9c chi\u1ebft kh\u1ea5u "),t.qZA()(),t.TgZ(65,"div",17),t._UZ(66,"cf-select",81),t.qZA()(),t.TgZ(67,"div",47)(68,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onChangeStep("DISCOUNT_CONDITIONS"))}),t._UZ(69,"cf-icon",83),t._uU(70," Quay l\u1ea1i "),t.qZA(),t.TgZ(71,"button",84),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onSubmit())}),t._uU(72," Ho\xe0n th\xe0nh "),t._UZ(73,"cf-icon",85),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(8),t.Q6J("status",e.discountApplyForm.controls.amountFromAirline.invalid&&(e.discountApplyForm.controls.amountFromAirline.dirty||e.discountApplyForm.controls.amountFromAirline.touched)?"error":"default"),t.xp6(1),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("formControl",e.discountApplyForm.controls.amountFromAirline),t.xp6(1),t.Q6J("status",e.discountApplyForm.controls.currencyCode.invalid&&(e.discountApplyForm.controls.currencyCode.dirty||e.discountApplyForm.controls.currencyCode.touched)?"error":"default")("data",e.currencyOptions)("allowSearch",!1)("formControl",e.discountApplyForm.controls.currencyCode),t.xp6(1),t.Q6J("CfRequired",!0),t.xp6(13),t.Q6J("status",e.discountApplyForm.controls.amountNowPositive.invalid&&(e.discountApplyForm.controls.amountNowPositive.dirty||e.discountApplyForm.controls.amountNowPositive.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("formControl",e.discountApplyForm.controls.amountNowPositive),t.xp6(1),t.Q6J("status",e.discountApplyForm.controls.amountNowNegative.invalid&&(e.discountApplyForm.controls.amountNowNegative.dirty||e.discountApplyForm.controls.amountNowNegative.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("formControl",e.discountApplyForm.controls.amountNowNegative),t.xp6(5),t.Q6J("status",e.discountApplyForm.controls.amountLaterPositive.invalid&&(e.discountApplyForm.controls.amountLaterPositive.dirty||e.discountApplyForm.controls.amountLaterPositive.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("formControl",e.discountApplyForm.controls.amountLaterPositive),t.xp6(1),t.Q6J("status",e.discountApplyForm.controls.amountLaterNegative.invalid&&(e.discountApplyForm.controls.amountLaterNegative.dirty||e.discountApplyForm.controls.amountLaterNegative.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("formControl",e.discountApplyForm.controls.amountLaterNegative),t.xp6(3),t.Q6J("CfRequired",!0),t.xp6(5),t.Q6J("status",e.discountApplyForm.controls.codeSharePercent.invalid&&(e.discountApplyForm.controls.codeSharePercent.dirty||e.discountApplyForm.controls.codeSharePercent.touched)?"error":"default"),t.xp6(1),t.Q6J("formControl",e.discountApplyForm.controls.codeSharePercent),t.xp6(8),t.Q6J("status","default")("data",e.agentGroupOptions)("allowSearch",!1)("formControl",e.discountApplyForm.controls.groupAgId)}}function Jt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",86),t._UZ(1,"img",87),t.TgZ(2,"div",88)(3,"div",89),t._uU(4),t.qZA(),t.TgZ(5,"div",90),t._uU(6),t.qZA()(),t.TgZ(7,"div",91)(8,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onBackToList())}),t._uU(9," Xem danh s\xe1ch "),t.qZA(),t.TgZ(10,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onChangeStep("DISCOUNT_CONDITIONS"))}),t._uU(11," T\u1ea1o b\u1ea3n sao "),t.qZA(),t.TgZ(12,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onCreateNew())}),t._uU(13," T\u1ea1o m\u1edbi "),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(4),t.hij(" ",e.titleText," "),t.xp6(2),t.hij(" ",e.bodyText,". B\u1ea1n c\xf3 th\u1ec3 t\u1ea1o m\u1edbi ho\u1eb7c tr\u1edf v\u1ec1 m\xe0n h\xecnh danh s\xe1ch. ")}}function Ut(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",86),t._UZ(1,"img",92),t.TgZ(2,"div",88)(3,"div",89),t._uU(4," T\u1ea1o quy \u0111\u1ecbnh chi\u1ebft kh\u1ea5u th\u1ea5t b\u1ea1i! "),t.qZA(),t.TgZ(5,"div",90),t._uU(6),t.qZA()(),t.TgZ(7,"div",91)(8,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onChangeStep("DISCOUNT_CONDITIONS"))}),t._uU(9," Th\u1eed l\u1ea1i "),t.qZA(),t.TgZ(10,"button",82),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onCreateNew())}),t._uU(11," T\u1ea1o m\u1edbi "),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(6),t.hij(" ",e.bodyText," Vui l\xf2ng th\u1eed l\u1ea1i ho\u1eb7c t\u1ea1o quy \u0111\u1ecbnh chi\u1ebft kh\u1ea5u m\u1edbi! ")}}function wt(o,s){1&o&&t._UZ(0,"cf-spinner")}function kt(o,s){if(1&o&&(t.TgZ(0,"div",94),t._UZ(1,"div",95),t.ALo(2,"highlighter"),t._UZ(3,"div",96),t.ALo(4,"highlighter"),t.qZA()),2&o){const e=t.oxw(),i=e.item,n=e.search;t.xp6(1),t.Q6J("innerHtml",t.xi3(2,2,i.city+", "+i.nationalName,n.text),t.oJD),t.xp6(2),t.Q6J("innerHtml",t.xi3(4,5,i.code+" - "+i.name,n.text),t.oJD)}}function Lt(o,s){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"div",95),t.ALo(2,"highlighter"),t.qZA()),2&o){const e=t.oxw(),i=e.item,n=e.search;t.xp6(1),t.Q6J("innerHtml",t.xi3(2,1,i.name,n.text),t.oJD)}}function Qt(o,s){if(1&o&&(t.YNc(0,kt,5,8,"div",93),t.YNc(1,Lt,3,4,"div",4)),2&o){const e=s.item;t.Q6J("ngIf","ALL"!==e.code),t.xp6(1),t.Q6J("ngIf","ALL"===e.code)}}let Bt=(()=>{class o{constructor(e,i,n,u,a,f,h){this.calendar=e,this._discountFeeService=u,this._fb=a,this._route=f,this._cd=h,this.flightType="DOMESTIC",this.journeyType="AIRPORT",this.paxType="TOTAL_PAX",this.step="DISCOUNT_CONDITIONS",this.airlineOptions=[],this.airportOptions=[],this.airportDomesticOptions=[],this.airportInternationalOptions=[],this.countryOptions=[],this.areaOptions=[],this.classifyListDomestic=[],this.classifyListInternational=[],this.currencyOptions=[],this.agentGroupOptions=[],this.errorMessage={airline:"H\xe3ng bay kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",startTimeIssue:"Th\u1eddi gian xu\u1ea5t v\xe9 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",endTimeIssue:"Th\u1eddi gian xu\u1ea5t v\xe9 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",startTimeFly:"Th\u1eddi gian bay kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",endTimeFly:"Th\u1eddi gian bay kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"},this.isLoading=!1,this.fareClassOptions=[],this.fareClassQH=[],this.fareClassVJ=[],this.fareClassVN=[],this.isDisabledFareClass=!0,this.isRequiredFlyTime=!1,this.positionSearchCustom=(p,Z)=>{const P=this.removeAccents(p.code.toLowerCase()),D=this.removeAccents(p.name.toLowerCase()),v=this.removeAccents(p.city.toLowerCase()),_=this.removeAccents(p.nationalName.toLowerCase()),c=this.removeAccents(Z.toLowerCase());return P.includes(c)||D.includes(c)||v.includes(c)||_.includes(c)},this.currentDateIssue=e.getToday(),this.currentDateFly=e.getToday(),i.registerIcons([E.rJw,E.NNX,E.toh,E.UNF,E._tC]),this.discountFeeId=n.snapshot.params.id,this.getDiscountFeeInfo()}ngOnInit(){this.initDiscountConditionForm(),this.initDiscountApplyForm()}initDiscountConditionForm(){this.discountConditionForm=this._fb.group({airline:[null,d.kI.required],fareClass:[null],flightType:[this.flightType],journeyType:[this.journeyType],startPointDetails:[null],endPointDetails:[null],journeyClassify:[null],paxType:[this.paxType],totalPax:[0],adtNum:[0],chdNum:[0],infNum:[0],startTimeIssue:[null,d.kI.required],endTimeIssue:[null,d.kI.required],timeIssueCustom:this._fb.array([]),startTimeFly:[null],endTimeFly:[null],timeFlyCustom:this._fb.array([])})}initDiscountApplyForm(){this.discountApplyForm=this._fb.group({amountFromAirline:[0,d.kI.required],currencyCode:["VND",d.kI.required],amountNowPositive:[0,d.kI.required],amountNowNegative:[0,d.kI.required],amountLaterPositive:[0,d.kI.required],amountLaterNegative:[0,d.kI.required],codeSharePercent:[0,d.kI.required],groupAgId:[null]})}get listTimeIssueCustom(){return this.discountConditionForm.get("timeIssueCustom")}get listTimeFlyCustom(){return this.discountConditionForm.get("timeFlyCustom")}getDiscountFeeInfo(){this.isLoading=!0,this._discountFeeService.getDiscountFeeInfoConfig().pipe((0,S.x)(()=>this.isLoading=!1)).subscribe({next:e=>{var i,n,u;e.success&&e.data&&(this.airlineOptions=e.data.airlineList.map(a=>({code:a.code,name:a.name})),this.classifyListDomestic=e.data.classifyListDomestic.map(a=>({code:a.code,name:a.name})),this.classifyListInternational=e.data.classifyListInternational.map(a=>({code:a.code,name:a.name})),this.airportDomesticOptions=e.data.airportDomesticInfoList.map(a=>({code:a.code,name:a.name,city:a.city,nationalName:a.nationalName,displayName:`${a.code} - ${a.city}`})),this.airportDomesticOptions.unshift({code:"ALL",name:"T\u1ea5t c\u1ea3 s\xe2n bay",city:"",nationalName:"",displayName:"T\u1ea5t c\u1ea3 s\xe2n bay"}),this.airportInternationalOptions=e.data.airportInfoList.map(a=>({code:a.code,name:a.name,city:a.city,nationalName:a.nationalName,displayName:`${a.code} - ${a.city}`})),this.airportInternationalOptions.unshift({code:"ALL",name:"T\u1ea5t c\u1ea3 s\xe2n bay",city:"",nationalName:"",displayName:"T\u1ea5t c\u1ea3 s\xe2n bay"}),this.airportOptions="DOMESTIC"===this.flightType?this.airportDomesticOptions:this.airportInternationalOptions,this.countryOptions=e.data.nationalInfoList.map(a=>({code:a.code,name:a.name})),this.areaOptions=e.data.areaInfoList.map(a=>({code:a.code,name:a.name})),this.currencyOptions=e.data.currencyList.map(a=>({code:a.code,name:a.name})),this.agentGroupOptions=e.data.grpAgList.map(a=>({code:a.id,name:a.name})),this.fareClassQH=null===(i=e.data.fareClassList)||void 0===i?void 0:i.fareClassQH.map(a=>({code:a.code,name:a.code})),this.fareClassVJ=null===(n=e.data.fareClassList)||void 0===n?void 0:n.fareClassVJ.map(a=>({code:a.code,name:a.code})),this.fareClassVN=null===(u=e.data.fareClassList)||void 0===u?void 0:u.fareClassVN.map(a=>({code:a.code,name:a.code})),this._cd.detectChanges(),this.discountFeeId&&this.getDiscountFeeDetail())}})}onSelectedAirline(e){this.getFareClass(e),this.discountConditionForm.get("fareClass").setValue(null)}getFareClass(e){switch(e){case"VN":this.fareClassOptions=this.fareClassVN.map(i=>Object.assign({},i)),this.isDisabledFareClass=!1;break;case"VJ":this.fareClassOptions=this.fareClassVJ.map(i=>Object.assign({},i)),this.isDisabledFareClass=!1;break;case"QH":this.fareClassOptions=this.fareClassQH.map(i=>Object.assign({},i)),this.isDisabledFareClass=!1;break;default:this.fareClassOptions=[],this.isDisabledFareClass=!0}this.fareClassOptions.unshift({code:"ALL",name:"T\u1ea5t c\u1ea3 h\u1ea1ng \u0111\u1eb7t ch\u1ed7"})}getDiscountFeeDetail(){this.isLoading=!0,this._discountFeeService.getDiscountFeeById(this.discountFeeId).pipe((0,S.x)(()=>this.isLoading=!1)).subscribe({next:e=>{var i,n;if(e.success&&e.data){const u={airline:e.data.airline,fareClass:"ALL"===e.data.fareClass?"":e.data.fareClass.split(";"),flightType:e.data.flightType,journeyType:e.data.journeyType,startPointDetails:e.data.startPointDetails.split(","),endPointDetails:e.data.endPointDetails.split(","),journeyClassify:e.data.journeyClassify,paxType:e.data.paxType,totalPax:e.data.totalPax,adtNum:e.data.adtNum,chdNum:e.data.chdNum,infNum:e.data.infNum,startTimeIssue:e.data.startTimeIssue?new Date(1e3*e.data.startTimeIssue):null,endTimeIssue:e.data.endTimeIssue?new Date(1e3*e.data.endTimeIssue):null,timeIssueCustom:e.data.timeIssueCustom,startTimeFly:e.data.startTimeFly?new Date(1e3*e.data.startTimeFly):null,endTimeFly:e.data.endTimeFly?new Date(1e3*e.data.endTimeFly):null,timeFlyCustom:e.data.timeFlyCustom},a={amountFromAirline:e.data.amountFromAirline,currencyCode:e.data.currencyCode,amountNowPositive:e.data.amountNowPositive,amountNowNegative:e.data.amountNowNegative,amountLaterPositive:e.data.amountLaterPositive,amountLaterNegative:e.data.amountLaterNegative,codeSharePercent:e.data.codeSharePercent,groupAgId:e.data.groupAgId||""};this._cd.detectChanges(),this.discountConditionForm.patchValue(u),null===(i=e.data.timeIssueCustom)||void 0===i||i.forEach(f=>{this.listTimeIssueCustom.push(this._fb.group({exceptStart:[new Date(1e3*f.exceptStart),d.kI.required],exceptEnd:[new Date(1e3*f.exceptEnd),d.kI.required]}))}),null===(n=e.data.timeFlyCustom)||void 0===n||n.forEach(f=>{this.listTimeFlyCustom.push(this._fb.group({exceptStart:[new Date(1e3*f.exceptStart),d.kI.required],exceptEnd:[new Date(1e3*f.exceptEnd),d.kI.required]}))}),this.discountApplyForm.patchValue(a)}}})}initTimeCustomGroup(){return this._fb.group({exceptStart:[null,d.kI.required],exceptEnd:[null,d.kI.required]})}onAddTimeIssue(){this.listTimeIssueCustom.length<3&&this.listTimeIssueCustom.push(this.initTimeCustomGroup())}onRemoveTimeIssue(e){this.listTimeIssueCustom.removeAt(e)}onAddTimeFly(){this.listTimeFlyCustom.length<3&&this.listTimeFlyCustom.push(this.initTimeCustomGroup())}onRemoveTimeFly(e){this.listTimeFlyCustom.removeAt(e)}removeAccents(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D")}onSubmit(){var e,i,n;if(this.discountConditionForm.markAllAsTouched(),this.discountConditionForm.invalid)return;const u=this.discountConditionForm.value,a=this.discountApplyForm.value,f={airline:u.airline,fareClass:u.fareClass?u.fareClass.join(";"):"ALL",flightType:this.flightType,journeyType:u.journeyType,startPointDetails:u.startPointDetails?u.startPointDetails.join(","):"ALL",endPointDetails:u.endPointDetails?u.endPointDetails.join(","):"ALL",journeyClassify:u.journeyClassify||"ALL",paxType:this.paxType,totalPax:"TOTAL_PAX"===this.paxType?u.totalPax:0,adtNum:"SINGLE_PAX"===this.paxType?u.adtNum:0,chdNum:"SINGLE_PAX"===this.paxType?u.chdNum:0,infNum:"SINGLE_PAX"===this.paxType?u.infNum:0,startTimeIssue:y(u.startTimeIssue).format("DD/MM/YYYY"),endTimeIssue:y(u.endTimeIssue).format("DD/MM/YYYY"),timeIssueCustom:null===(e=u.timeIssueCustom)||void 0===e?void 0:e.map(h=>({exceptStart:y(h.exceptStart).format("DD/MM/YYYY"),exceptEnd:y(h.exceptEnd).format("DD/MM/YYYY")})),startTimeFly:u.startTimeFly?y(u.startTimeFly).format("DD/MM/YYYY"):"ALL",endTimeFly:u.endTimeFly?y(u.endTimeFly).format("DD/MM/YYYY"):"ALL",timeFlyCustom:null===(i=u.timeFlyCustom)||void 0===i?void 0:i.map(h=>({exceptStart:y(h.exceptStart).format("DD/MM/YYYY"),exceptEnd:y(h.exceptEnd).format("DD/MM/YYYY")})),amountFromAirline:a.amountFromAirline,currencyCode:a.currencyCode,amountNowPositive:a.amountNowPositive,amountNowNegative:a.amountNowNegative,amountLaterPositive:a.amountLaterPositive,amountLaterNegative:a.amountLaterNegative,codeSharePercent:a.codeSharePercent,groupAgId:a.groupAgId||"ALL",timeZone:7,id:null!==(n=this.discountFeeId)&&void 0!==n?n:""};this.isLoading=!0,this._discountFeeService.createDiscountFee(f).pipe((0,S.x)(()=>this.isLoading=!1)).subscribe({next:h=>{h.success&&h.data?(this.titleText="T\u1ea1o quy \u0111\u1ecbnh chi\u1ebft kh\u1ea5u th\xe0nh c\xf4ng",this.bodyText="Quy \u0111\u1ecbnh chi\u1ebft kh\u1ea5u \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o th\xe0nh c\xf4ng",this.onChangeStep("SUCCESS")):(this.titleText="T\u1ea1o quy \u0111\u1ecbnh chi\u1ebft kh\u1ea5u th\u1ea5t b\u1ea1i",this.bodyText=h.objectError.errorDescription.vi,this.onChangeStep("ERROR"))}})}onSwitcJourney(e){this.flightType=e,this.discountConditionForm.get("startPointDetails").setValue(null),this.discountConditionForm.get("endPointDetails").setValue(null),this.airportOptions="DOMESTIC"===this.flightType?this.airportDomesticOptions:this.airportInternationalOptions}onChangeJourneyType(e){this.journeyType=e,this.discountConditionForm.get("startPointDetails").setValue(null),this.discountConditionForm.get("endPointDetails").setValue(null)}onChangePaxType(e){this.paxType=e}onChangeStep(e){"DISCOUNT_APPLY"===e&&(this.discountConditionForm.markAllAsTouched(),this.discountConditionForm.invalid)||(this.step=e)}onSelectedChange(e,i){i||this.discountConditionForm.get(e).setValue(null)}onBackToList(){this._route.navigate(["admin/discount-fee"])}onCreateNew(){this.step="DISCOUNT_CONDITIONS",this.discountConditionForm.reset(),this.discountApplyForm.reset(),this.discountConditionForm.get("journeyType").setValue(this.journeyType)}swapPoint(e,i){if(""!=e.value&&""!=i.value){const n=e.value;e.setValue(null),e.setValue(i.value),i.setValue(null),i.setValue(n)}}onFareClassChange(e){"ALL"===e.code?(this.discountConditionForm.get("fareClass").setValue(null),this.discountConditionForm.get("fareClass").setValue(["ALL"])):this.discountConditionForm.get("fareClass").value.includes("ALL")&&(this.discountConditionForm.get("fareClass").setValue(null),this.discountConditionForm.get("fareClass").setValue([e.code]))}onPointChange(e,i){"ALL"===e.code?(this.discountConditionForm.get(i).setValue(null),this.discountConditionForm.get(i).setValue(["ALL"])):this.discountConditionForm.get(i).value.includes("ALL")&&(this.discountConditionForm.get(i).setValue(null),this.discountConditionForm.get(i).setValue([e.code]))}onDateSelected(e){const{startTimeFly:i,endTimeFly:n}=this.discountConditionForm.value;!i&&n?(this.discountConditionForm.controls.startTimeFly.setErrors({required:!0}),this.isRequiredFlyTime=!0):i&&!n?(this.isRequiredFlyTime=!0,this.discountConditionForm.controls.endTimeFly.setErrors({required:!0})):(this.discountConditionForm.controls.startTimeFly.setErrors(null),this.discountConditionForm.controls.endTimeFly.setErrors(null),this.isRequiredFlyTime=!1)}onStartTimeFly(){this.currentDateFly=this.calendar.getToday()}onEndTimeFly(){this.discountConditionForm.value.startTimeFly&&(this.currentDateFly=(0,I.jy)(this.discountConditionForm.value.startTimeFly))}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(I.jH),t.Y36(E.KNP),t.Y36(J.gz),t.Y36(K),t.Y36(d.qu),t.Y36(J.F0),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["create-discount-fee-page"]],standalone:!0,features:[t.jDz],decls:9,vars:5,consts:[[1,"flex","justify-center","py-4","px-[30px]"],[1,"w-[1000px]","max-w-[1000px]"],["class","flex flex-col gap-y-4",4,"ngIf"],["class","rounded-lg bg-neutral-white mx-auto py-32 flex flex-col gap-y-6 justify-center items-center",4,"ngIf"],[4,"ngIf"],["optionTmp",""],[1,"flex","flex-col","gap-y-4"],[1,"bg-white","rounded","shadow-cf-md","flex","flex-col","p-6"],[1,"flex","flex-col","gap-y-1","mb-4"],[1,"text-heading-sm","text-neutral-black"],[1,"text-espressive-sm","text-neutral-gray-4"],[1,"flex","flex-col","gap-y-3"],["textField","name","valueField","code","placeholder","Ch\u1ecdn h\xe3ng bay",1,"w-full","!max-w-full",3,"status","data","allowSearch","formControl","selectedChange"],["cfLabel","",1,"text-express-sm","text-black",3,"CfRequired"],["cfHint","",3,"hint",4,"ngIf"],["textField","name","valueField","code",1,"w-full","!max-w-full",3,"disabled","status","data","allowSearch","placeholder","formControl","maxHeight","valueChange"],["cfLabel","",1,"text-express-sm","text-black"],[1,""],[1,"flex","gap-x-3","mb-3"],[1,"flex","items-center","gap-x-[0.375rem]","rounded-lg","py-[0.3125rem]","px-4","text-espressive-md","text-neutral-gray-4","border","border-neutral-gray-2","bg-white","cursor-pointer",3,"ngClass","click"],["class","flex flex-col gap-y-3",4,"ngIf"],[1,"flex","items-center","gap-x-8",3,"ngModel","checkChange","ngModelChange"],["size","medium",3,"value"],["class","flex gap-x-3",4,"ngIf"],[1,"bg-white","rounded","shadow-cf-md","flex","flex-col","gap-y-4","p-6"],[1,"flex","flex-col","gap-y-1"],[1,"flex","gap-x-3"],[1,"grow-[400]","!w-full",3,"status"],["cfHeadIcon","","icon","calendar","size","small"],["cfLabel","",1,"text-espressive-sm","text-black",3,"CfRequired"],["cfDatepicker","","type","text","size","medium","cf-input","","placeholder","dd/MM/yyyy",1,"py-[7px]",3,"minDate","secondaryCalendar","displayMonths","formControl","input","dateSelect"],["dateFrom","cfDatepicker"],["dateTo","cfDatepicker"],[1,"w-full","border","border-neutral-gray-1"],[3,"title","active"],["titleTemplate",""],[1,"w-full","rounded","bg-[#FCF5E8]","text-neutral-gray-6","py-3","px-4"],[1,"mb-3"],[1,"text-express-md"],[1,"text-body-sm"],[1,"mt-4"],["class","flex items-center gap-x-3",4,"ngFor","ngForOf"],["class","mt-3",4,"ngIf"],["cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y ho\u1eb7c b\u1ecf tr\u1ed1ng \u0111\u1ec3 kh\xf4ng gi\u1edbi h\u1ea1n",1,"py-[7px]",3,"minDate","secondaryCalendar","displayMonths","formControl","input","dateSelect","closed","focus","reset"],["dateStartTimeFly","cfDatepicker"],["cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y ho\u1eb7c b\u1ecf tr\u1ed1ng \u0111\u1ec3 kh\xf4ng gi\u1edbi h\u1ea1n",1,"py-[7px]",3,"minDate","secondaryCalendar","displayMonths","formControl","input","reset","focus","closed","dateSelect"],["dateEndTimeFly","cfDatepicker"],[1,"flex","justify-between"],["cf-button","","size","medium",3,"disabled","click"],["cfHeadIcon","","icon","chevron_right","size","small"],["cfHint","",3,"hint"],[1,"flex","gap-x-3","items-center"],["textField","displayName","valueField","code",1,"w-full","!max-w-full",3,"status","data","allowSearch","placeholder","customSearch","formControl","maxHeight","optionTmp","valueChange","selectedChange"],["cf-button","","size","medium","type","secondary",1,"mt-7",3,"click"],["icon","switch","size","small"],["textField","displayName","valueField","code",1,"w-full","!max-w-full",3,"status","data","allowSearch","placeholder","formControl","maxHeight","optionTmp","selectedChange","valueChange"],["textField","name","valueField","code","placeholder","Ch\u1ecdn lo\u1ea1i ch\u1eb7ng bay",1,"w-full","!max-w-full",3,"status","data","allowSearch","formControl"],[1,"flex","items-center","gap-x-8",3,"formControl","checkChange"],["class","flex items-center gap-x-3",4,"ngIf"],["textField","name","valueField","code","placeholder","Ch\u1ecdn lo\u1ea1i ch\u1eb7ng bay ho\u1eb7c b\u1ecf tr\u1ed1ng ch\u1ecdn t\u1ea5t c\u1ea3",1,"w-full","!max-w-full",3,"status","data","allowSearch","formControl"],[1,"flex","items-center","gap-x-3"],["textField","displayName","valueField","code",1,"w-full","!max-w-full",3,"status","data","allowSearch","placeholder","formControl","maxHeight","optionTmp","valueChange","selectedChange"],["textField","name","valueField","code","placeholder","Ch\u1ecdn qu\u1ed1c gia",1,"w-full","!max-w-full",3,"status","data","allowSearch","formControl","maxHeight","selectedChange"],["textField","name","valueField","code","placeholder","Ch\u1ecdn khu v\u1ef1c",1,"w-full","!max-w-full",3,"status","data","allowSearch","formControl","maxHeight","selectedChange"],["cf-input","","type","number","size","medium","placeholder","Nh\u1eadp t\u1ed5ng s\u1ed1 h\xe0nh kh\xe1ch t\u1ed1i thi\u1ec3u",3,"formControl"],[3,"CfRequired"],["cf-input","","type","number","size","medium","placeholder","Nh\u1eadp m\u1ee9c ph\xed d\u1ecbch v\u1ee5",3,"formControl"],[1,"text-heading-xs"],["cfDatepicker","","type","text","size","medium","cf-input","","placeholder","dd/MM/yyyy",1,"py-[7px]",3,"secondaryCalendar","displayMonths","formControl","input","dateSelect"],[1,"mt-7",3,"click"],["cfHeadIcon","","icon","close","size","small"],[1,"mt-3"],[1,"py-1.5","px-3","text-espressive-sm","text-secondary-3-4","cursor-pointer",3,"click"],["textField","name","valueField","code","placeholder","Nh\u1eadp c\xe1c h\u1ea1ng \u0111\u1eb7t ch\u1ed7 ho\u1eb7c b\u1ecf tr\u1ed1ng cho t\u1ea5t c\u1ea3 h\u1ea1ng",1,"w-full","!max-w-full",3,"status","data","allowSearch","formControl"],[1,"flex","flex-col","gap-y-6"],[1,"text-espressive-md","text-neutral-gray-5"],[1,"border","border-neutral-gray-2","p-4","rounded","flex","gap-x-3"],["cf-input","","type","number","size","medium","placeholder","Nh\u1eadp m\u1ee9c chi\u1ebft kh\u1ea5u n\u1ebfu \u0111\u1ea1i l\xfd d\u01b0\u01a1ng qu\u1ef9",3,"formControl"],["cf-input","","type","number","size","medium","placeholder","Nh\u1eadp m\u1ee9c chi\u1ebft kh\u1ea5u n\u1ebfu \u0111\u1ea1i l\xfd \xe2m qu\u1ef9",3,"formControl"],[1,"text-heading-sm","text-neutral-black",3,"CfRequired"],["cf-input","","type","number","size","medium","placeholder","Nh\u1eadp ph\u1ea7n tr\u0103m (%) gi\xe1 tr\u1ecb chi\u1ebft kh\u1ea5u \xe1p d\u1ee5ng",3,"formControl"],["textField","name","valueField","code","placeholder","Ch\u1ecdn nh\xf3m \u0111\u1ea1i l\xfd ho\u1eb7c b\u1ecf tr\u1ed1ng cho t\u1ea5t c\u1ea3",1,"w-full","!max-w-full",3,"status","data","allowSearch","formControl"],["cf-button","","size","medium","type","secondary",1,"bg-white",3,"click"],["icon","chevron_left","size","small",1,"mr-2.5"],["cf-button","","size","medium",3,"click"],["icon","check","size","small",1,"ml-2.5"],[1,"rounded-lg","bg-neutral-white","mx-auto","py-32","flex","flex-col","gap-y-6","justify-center","items-center"],["src","assets/icons/icon-success.svg","alt",""],[1,"flex","flex-col","gap-y-3","justify-center","items-center"],[1,"text-heading-sm","text-neutral-gray-6"],[1,"text-body-md","text-neutral-gray-5"],[1,"flex","gap-x-4"],["src","assets/icons/icon-error.svg","alt",""],["class","flex flex-col",4,"ngIf"],[1,"flex","flex-col"],[1,"text-body-md-short","text-neutral-gray-6",3,"innerHtml"],[1,"text-body-sm","text-neutral-gray-4",3,"innerHtml"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,Mt,131,65,"div",2),t.YNc(3,St,74,27,"div",2),t.YNc(4,Jt,14,2,"div",3),t.YNc(5,Ut,12,1,"div",3),t.qZA()(),t.YNc(6,wt,1,0,"cf-spinner",4),t.YNc(7,Qt,2,2,"ng-template",null,5,t.W1O)),2&e&&(t.xp6(2),t.Q6J("ngIf","DISCOUNT_CONDITIONS"===i.step),t.xp6(1),t.Q6J("ngIf","DISCOUNT_APPLY"===i.step),t.xp6(1),t.Q6J("ngIf","SUCCESS"===i.step),t.xp6(1),t.Q6J("ngIf","ERROR"===i.step),t.xp6(1),t.Q6J("ngIf",i.isLoading))},dependencies:[C.ez,C.mk,C.sg,C.O5,d.u5,d.Fj,d.wV,d.JJ,d.On,d.UX,d.oH,R.q,F.j$,F.ND,F.BN,F.v2,z.C,B.o,B.T,b.N8,b.Xq,E.AxE,E.Sm8,I.Cs,Q.B,Q.K,G.U,M.OR,X.T],encapsulation:2}),o})();var H=m(48373),V=m(62331),Ot=m(80750),nt=m(80953),ot=m(40833),Y=m(17489),g=m(3447),ut=m(97579);function jt(o,s){1&o&&t._UZ(0,"cf-input-hint",36),2&o&&t.Q6J("hint","Th\u1eddi gian kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Gt(o,s){if(1&o&&t._UZ(0,"img",47),2&o){const e=t.oxw().$implicit;t.Q6J("src","assets/airline-logo/"+e.airline+".png",t.LSH)}}function Rt(o,s){1&o&&(t.TgZ(0,"div"),t._uU(1,"T\u1ea5t c\u1ea3 h\xe3ng bay"),t.qZA())}function Kt(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"tr",37)(1,"td",38),t.YNc(2,Gt,1,1,"img",39),t.YNc(3,Rt,2,0,"div",35),t.qZA(),t.TgZ(4,"td",38),t._uU(5),t.qZA(),t.TgZ(6,"td",38),t._uU(7),t.qZA(),t.TgZ(8,"td",40)(9,"div",41),t._uU(10),t.qZA(),t.TgZ(11,"cf-icon",42),t.NdJ("click",function(){const u=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.onExpand(u.startPointDetails,"\u0110i\u1ec3m \u0111i"))}),t.qZA()(),t.TgZ(12,"td",40)(13,"div",41),t._uU(14),t.qZA(),t.TgZ(15,"cf-icon",42),t.NdJ("click",function(){const u=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.onExpand(u.endPointDetails,"\u0110i\u1ec3m \u0111\u1ebfn"))}),t.qZA()(),t.TgZ(16,"td",40)(17,"div",41),t._uU(18),t.qZA(),t.TgZ(19,"cf-icon",42),t.NdJ("click",function(){const u=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.onExpand(u.fareClass,"H\u1ea1ng gh\u1ebf"))}),t.qZA()(),t.TgZ(20,"td",38),t._uU(21),t.qZA(),t.TgZ(22,"td",38),t._uU(23),t.ALo(24,"date"),t.qZA(),t.TgZ(25,"td",38),t._uU(26),t.ALo(27,"date"),t.qZA(),t.TgZ(28,"td",38),t._uU(29),t.ALo(30,"date"),t.qZA(),t.TgZ(31,"td",38),t._uU(32),t.ALo(33,"date"),t.qZA(),t.TgZ(34,"td",38),t._uU(35),t.qZA(),t.TgZ(36,"td",38),t._uU(37),t.qZA(),t.TgZ(38,"td",38),t._uU(39),t.qZA(),t.TgZ(40,"td",38),t._uU(41),t.qZA(),t.TgZ(42,"td",38),t._uU(43),t.ALo(44,"date"),t.qZA(),t.TgZ(45,"td",43)(46,"div",44)(47,"div",45),t.NdJ("click",function(){const u=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.onEdit(u.id))}),t._uU(48," Chi ti\u1ebft "),t.qZA(),t.TgZ(49,"div",46),t.NdJ("click",function(){const u=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.onDelete(u.id))}),t._uU(50," X\xf3a"),t.qZA()()()()}if(2&o){const e=s.$implicit;t.xp6(2),t.Q6J("ngIf","ALL"!==e.airline),t.xp6(1),t.Q6J("ngIf","ALL"===e.airline),t.xp6(2),t.Oqu(e.flightTypeName),t.xp6(2),t.Oqu(e.journeyTypeName),t.xp6(3),t.hij(" ",e.startPointDetails," "),t.xp6(4),t.hij(" ",e.endPointDetails," "),t.xp6(4),t.hij(" ",e.fareClass," "),t.xp6(3),t.Oqu(e.journeyClassifyName),t.xp6(2),t.hij(" ",e.startTimeIssue?t.xi3(24,18,1e3*e.startTimeIssue,"dd/MM/yyyy"):"-"," "),t.xp6(3),t.hij(" ",e.endTimeIssue?t.xi3(27,21,1e3*e.endTimeIssue,"dd/MM/yyyy"):"-"," "),t.xp6(3),t.hij(" ",e.startTimeFly?t.xi3(30,24,1e3*e.startTimeFly,"dd/MM/yyyy"):"-"," "),t.xp6(3),t.hij(" ",e.endTimeFly?t.xi3(33,27,1e3*e.endTimeFly,"dd/MM/yyyy"):"-"," "),t.xp6(3),t.Oqu(e.totalPax),t.xp6(2),t.Oqu(e.adtNum),t.xp6(2),t.Oqu(e.chdNum),t.xp6(2),t.Oqu(e.infNum),t.xp6(2),t.Oqu(t.xi3(44,30,1e3*e.timeCreate,"dd/MM/yyyy")),t.xp6(2),t.Q6J("sticky","right")}}function Vt(o,s){1&o&&t._UZ(0,"cf-spinner")}const at=function(){return[]},zt=function(){return{num:25}},Xt=function(){return{num:50}},$t=function(){return{num:75}},Wt=function(){return{num:100}},te=function(o,s,e,i){return[o,s,e,i]};let ee=(()=>{class o{constructor(e,i,n,u,a,f){this._router=i,this._discountFeeService=n,this._modal=u,this._toastService=a,this._cd=f,this.pageSize=25,this.currentPage=1,this.dataSource=[],this.listDiscountFee=[],this.timeTypeOptions=[{code:"FLY",name:"Th\u1eddi gian bay"},{code:"ISSUE",name:"Th\u1eddi gian xu\u1ea5t v\xe9"}],this.flightTypeOptions=[],this.airlineOptions=[],this.startPointOptions=[],this.endPointOptions=[],this.filterData={airline:"",flightTypeName:"",journeyTypeName:"",startPointDetails:"",endPointDetails:"",fareClass:"",journeyClassifyName:"",startTimeIssue:"",endTimeIssue:"",startTimeFly:"",endTimeFly:"",totalPax:"",adtNum:"",chdNum:"",infNum:"",timeCreate:""},this.dateRangeStr="",this.invalidTimeFilter=!1,this.isLoading=!1,this.searchChange=(D,v)=>v,this.sortChange=(D,v)=>{let _=v.map(c=>c);for(let c=0;c<D.length;c++){const T=D[c];switch(T.key){case"airline":_=this.airlineSort(_,T);break;case"flightTypeName":_=this.flightTypeNameSort(_,T);break;case"journeyTypeName":_=this.journeyTypeNameSort(_,T);break;case"startPointDetails":_=this.startPointDetailsSort(_,T);break;case"endPointDetails":_=this.endPointDetailsSort(_,T);break;case"fareClass":_=this.fareClassSort(_,T);break;case"journeyClassifyName":_=this.journeyClassifyNameSort(_,T);break;case"startTimeIssue":_=this.startTimeIssueSort(_,T);break;case"endTimeIssue":_=this.endTimeIssueSort(_,T);break;case"startTimeFly":_=this.startTimeFlySort(_,T);break;case"endTimeFly":_=this.endTimeFlySort(_,T);break;case"totalPax":_=this.totalPaxSort(_,T);break;case"adtNum":_=this.adtNumSort(_,T);break;case"chdNum":_=this.chdNumSort(_,T);break;case"infNum":_=this.infNumSort(_,T);break;case"timeCreate":_=this.timeCreateSort(_,T)}}return _},this.increaseAlphabetSort=(D,v)=>D<v?-1:D>v?1:0,this.decreaseAlphabetSort=(D,v)=>D>v?-1:D<v?1:0,e.registerIcons([E.TM4,E.Tdu]);const h=function Ht(o){(0,ot.Z)(1,arguments);var s=(0,nt.Z)(o),e=new Date(0);return e.setFullYear(s.getFullYear(),0,1),e.setHours(0,0,0,0),e}(new Date),p=function Yt(o){(0,ot.Z)(1,arguments);var s=(0,nt.Z)(o),e=s.getFullYear();return s.setFullYear(e+1,0,0),s.setHours(23,59,59,999),s}(new Date),Z=(0,C.p6)(h,"dd/MM/yyyy","vi-VN"),P=(0,C.p6)(p,"dd/MM/yyyy","vi-VN");this.dateRangeStr=Z+" - "+P,this.filterSearchData={airline:"ALL",startTime:h,startPointDetails:[],endTime:p,endPointDetails:[],flightType:"ALL",type:"ISSUE"},this.onSearch(),this.getJourneyFilter()}getJourneyFilter(){this._discountFeeService.getJourneyInfoFilterDiscountFee().subscribe({next:e=>{e.success&&e.data&&(this.flightTypeOptions=e.data.flightTypeList.map(i=>({code:i.code,name:i.name})),this.airlineOptions=e.data.airlineList.map(i=>({code:i.code,name:i.name})),this.startPointOptions=e.data.mergePointList.map(i=>({code:i.code,name:i.name})),this.endPointOptions=e.data.mergePointList.map(i=>({code:i.code,name:i.name})),this._cd.detectChanges())}})}onSearch(){const e={airline:this.filterSearchData.airline||"ALL",startTime:this.filterSearchData.startTime?y(this.filterSearchData.startTime).format("DD/MM/YYYY"):"",startPointDetails:this.filterSearchData.startPointDetails.join(",")||"ALL",endTime:this.filterSearchData.endTime?y(this.filterSearchData.endTime).format("DD/MM/YYYY"):"",endPointDetails:this.filterSearchData.endPointDetails.join(",")||"ALL",flightType:this.filterSearchData.flightType||"ALL",type:this.filterSearchData.type};this.isLoading=!0,this._discountFeeService.getListDiscountFeeConfig(e).pipe((0,S.x)(()=>this.isLoading=!1)).subscribe({next:i=>{var n;this.dataSource=(null===(n=i.data)||void 0===n?void 0:n.map(u=>Object.assign(Object.assign({},u),{startTimeFly:(0,Y.isNumber)(u.startTimeFly)?u.startTimeFly:0,endTimeFly:(0,Y.isNumber)(u.endTimeFly)?u.endTimeFly:0,startTimeIssue:(0,Y.isNumber)(u.startTimeIssue)?u.startTimeIssue:0,endTimeIssue:(0,Y.isNumber)(u.endTimeIssue)?u.endTimeIssue:0})))||[],this.listDiscountFee=this.dataSource.map(u=>u)}})}onEdit(e){this._router.navigate(["admin/discount-fee-detail/"+e])}onDelete(e){this._modal.open(M.V0,{title:"X\xf3a thi\u1ebft l\u1eadp n\xe0y?",body:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a thi\u1ebft l\u1eadp n\xe0y? Vi\u1ec7c n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c, vui l\xf2ng ki\u1ec3m tra k\u0129 tr\u01b0\u1edbc khi thao t\xe1c."}).afterClosed$.subscribe({next:n=>{n.data&&this._discountFeeService.deleteDiscountFeeConfig(e).subscribe({next:u=>{"OK"===u.status?(this.onSearch(),this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"X\xf3a chi\u1ebft kh\u1ea5u th\xe0nh c\xf4ng",sticky:!1})):this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"X\xf3a chi\u1ebft kh\u1ea5u th\u1ea5t b\u1ea1i",sticky:!1})}})}})}airlineSort(e,i){return e.sort("ascend"===i.sort?(n,u)=>this.increaseAlphabetSort(n.airline,u.airline):(n,u)=>this.decreaseAlphabetSort(n.airline,u.airline))}flightTypeNameSort(e,i){return e.sort("ascend"===i.sort?(n,u)=>this.increaseAlphabetSort(n.flightTypeName,u.flightTypeName):(n,u)=>this.decreaseAlphabetSort(n.flightTypeName,u.flightTypeName))}journeyTypeNameSort(e,i){return e.sort("ascend"===i.sort?(n,u)=>this.increaseAlphabetSort(n.journeyTypeName,u.journeyTypeName):(n,u)=>this.decreaseAlphabetSort(n.journeyTypeName,u.journeyTypeName))}startPointDetailsSort(e,i){return e.sort("ascend"===i.sort?(n,u)=>this.increaseAlphabetSort(n.startPointDetails,u.startPointDetails):(n,u)=>this.decreaseAlphabetSort(n.startPointDetails,u.startPointDetails))}endPointDetailsSort(e,i){return e.sort("ascend"===i.sort?(n,u)=>this.increaseAlphabetSort(n.endPointDetails,u.endPointDetails):(n,u)=>this.decreaseAlphabetSort(n.endPointDetails,u.endPointDetails))}fareClassSort(e,i){return e.sort("ascend"===i.sort?(n,u)=>this.increaseAlphabetSort(n.fareClass,u.fareClass):(n,u)=>this.decreaseAlphabetSort(n.fareClass,u.fareClass))}journeyClassifyNameSort(e,i){return e.sort("ascend"===i.sort?(n,u)=>this.increaseAlphabetSort(n.journeyClassifyName,u.journeyClassifyName):(n,u)=>this.decreaseAlphabetSort(n.journeyClassifyName,u.journeyClassifyName))}startTimeIssueSort(e,i){return e.sort("ascend"===i.sort?(n,u)=>n.startTimeIssue-u.startTimeIssue:(n,u)=>u.startTimeIssue-n.startTimeIssue)}endTimeIssueSort(e,i){return e.sort("ascend"===i.sort?(n,u)=>n.endTimeIssue-u.endTimeIssue:(n,u)=>u.endTimeIssue-n.endTimeIssue)}startTimeFlySort(e,i){return e.sort("ascend"===i.sort?(n,u)=>n.startTimeFly-u.startTimeFly:(n,u)=>u.startTimeFly-n.startTimeFly)}endTimeFlySort(e,i){return e.sort("ascend"===i.sort?(n,u)=>n.endTimeFly-u.endTimeFly:(n,u)=>u.endTimeFly-n.endTimeFly)}totalPaxSort(e,i){return e.sort("ascend"===i.sort?(n,u)=>n.totalPax-u.totalPax:(n,u)=>u.totalPax-n.totalPax)}adtNumSort(e,i){return e.sort("ascend"===i.sort?(n,u)=>n.adtNum-u.adtNum:(n,u)=>u.adtNum-n.adtNum)}chdNumSort(e,i){return e.sort("ascend"===i.sort?(n,u)=>n.chdNum-u.chdNum:(n,u)=>u.chdNum-n.chdNum)}infNumSort(e,i){return e.sort("ascend"===i.sort?(n,u)=>n.infNum-u.infNum:(n,u)=>u.infNum-n.infNum)}timeCreateSort(e,i){return e.sort("ascend"===i.sort?(n,u)=>n.timeCreate-u.timeCreate:(n,u)=>u.timeCreate-n.timeCreate)}onCreateServiceFee(){this._router.navigate(["admin/create-discount-fee"])}onExpand(e,i){this._modal.open(Ot.G,{description:e,title:i})}onDateSelection(e,i,n,u){if(i||n)if(i&&!n&&e&&e.getTime()>=i.getTime()){this.filterSearchData.endTime=e,u.close(),this.startDate=i;const a=(0,C.p6)(e,"dd/MM/yyyy","vi-VN");this.dateRangeStr+=a}else{this.filterSearchData.startTime=e,this.filterSearchData.endTime=null;const a=(0,C.p6)(e,"dd/MM/yyyy","vi-VN");this.dateRangeStr=a+" - "}else{this.filterSearchData.startTime=e,this.filterSearchData.endTime=null;const a=(0,C.p6)(e,"dd/MM/yyyy","vi-VN");this.dateRangeStr=a+" - "}this.invalidTimeFilter=!(this.filterSearchData.startTime&&this.filterSearchData.endTime)}filterChange(){this.listDiscountFee=this.dataSource.filter(e=>{const i=(0,g.E)(this.filterData.airline.toLowerCase());if(!(0,g.E)(e.airline.toLowerCase()).includes(i))return!1;const u=(0,g.E)(this.filterData.flightTypeName.toLowerCase());if(!(0,g.E)(e.flightTypeName.toLowerCase()).includes(u))return!1;const f=(0,g.E)(this.filterData.journeyTypeName.toLowerCase());if(!(0,g.E)(e.journeyTypeName.toLowerCase()).includes(f))return!1;const p=(0,g.E)(this.filterData.startPointDetails.toLowerCase());if(!(0,g.E)(e.startPointDetails.toLowerCase()).includes(p))return!1;const P=(0,g.E)(this.filterData.endPointDetails.toLowerCase());if(!(0,g.E)(e.endPointDetails.toLowerCase()).includes(P))return!1;const v=(0,g.E)(this.filterData.fareClass.toLowerCase());if(!(0,g.E)(e.fareClass.toLowerCase()).includes(v))return!1;const c=(0,g.E)(this.filterData.journeyClassifyName.toLowerCase());if(!(0,g.E)(e.journeyClassifyName.toLowerCase()).includes(c))return!1;const Ge=(0,g.E)(this.filterData.startTimeIssue.toLowerCase());if(!(0,g.E)((0,C.p6)(new Date(1e3*e.startTimeIssue),"dd/MM/yyyy","vi-VN")).includes(Ge))return!1;const Re=(0,g.E)(this.filterData.endTimeIssue.toLowerCase());if(!(0,g.E)((0,C.p6)(new Date(1e3*e.endTimeIssue),"dd/MM/yyyy","vi-VN")).includes(Re))return!1;const Ke=(0,g.E)(this.filterData.startTimeFly.toLowerCase());if(!(0,g.E)((0,C.p6)(new Date(1e3*e.startTimeFly),"dd/MM/yyyy","vi-VN")).includes(Ke))return!1;const Ve=(0,g.E)(this.filterData.endTimeFly.toLowerCase());if(!(0,g.E)((0,C.p6)(new Date(1e3*e.endTimeFly),"dd/MM/yyyy","vi-VN")).includes(Ve))return!1;const ze=(0,g.E)(this.filterData.totalPax.toLowerCase());if(!(0,g.E)(e.totalPax.toString().toLowerCase()).includes(ze))return!1;const Xe=(0,g.E)(this.filterData.adtNum.toLowerCase());if(!(0,g.E)(e.adtNum.toString().toLowerCase()).includes(Xe))return!1;const $e=(0,g.E)(this.filterData.chdNum.toLowerCase());if(!(0,g.E)(e.chdNum.toString().toLowerCase()).includes($e))return!1;const We=(0,g.E)(this.filterData.infNum.toLowerCase());if(!(0,g.E)(e.infNum.toString().toLowerCase()).includes(We))return!1;const ti=(0,g.E)(this.filterData.timeCreate.toLowerCase());return!!(0,g.E)((0,C.p6)(new Date(1e3*e.timeCreate),"dd/MM/yyyy","vi-VN")).includes(ti)})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(E.KNP),t.Y36(J.F0),t.Y36(K),t.Y36(ut.oE),t.Y36(V.BX),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["discount-fee-manage-page"]],standalone:!0,features:[t.jDz],decls:130,vars:88,consts:[[1,"flex","flex-col","px-[30px]","py-4","gap-y-4","bg-neutral-white"],[1,"flex","items-end"],["textField","name","valueField","code","size","medium","placeholder","Ch\u1ecdn th\u1eddi gian",1,"!max-w-none","!w-[252px]","mr-4",3,"status","data","allowSearch","ngModel","ngModelChange"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],[1,"flex","mr-2"],[1,"grow",3,"status"],["cfHeadIcon","","icon","calendar","size","small"],["cf-input","","type","text","size","medium","placeholder","Ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh",1,"py-[7px]",3,"ngModel","click","ngModelChange"],[1,"hidden"],["cfHint","",3,"hint",4,"ngIf"],["cfDatepicker","","type","text","outsideDays","hidden",1,"w-0","m-0","mr-2","bottom-0",3,"secondaryCalendar","displayMonths","rangeSelection","containerWidth","startDate","canReset","fromDate","toDate","dateSelect"],["dateRange","cfDatepicker"],["textField","name","valueField","code","size","medium","placeholder","Ch\u1ecdn h\xe3ng bay",1,"!max-w-none","!w-[252px]","mr-4",3,"status","data","allowSearch","ngModel","ngModelChange"],["textField","name","valueField","code","size","medium","placeholder","Ch\u1ecdn h\xe0nh tr\xecnh",1,"!max-w-none","!w-[252px]",3,"status","data","allowSearch","ngModel","ngModelChange"],[1,"flex","gap-x-4"],["textField","name","valueField","code",1,"w-full","!max-w-full",3,"status","data","allowSearch","placeholder","ngModel","maxHeight","ngModelChange"],["cfLabel","",1,"text-express-sm","text-black"],["cf-button","","type","secondary",1,"mt-7","whitespace-nowrap","w-[168px]","flex","justify-center","gap-x-2",3,"disabled","click"],["icon","search","size","small",1,"text-[#616161]"],[1,"py-4","px-[30px]","rounded-lg","flex","justify-center"],[1,"bg-neutral-white","rounded-lg","shadow-cf-md","w-full"],[1,"p-4","flex","justify-between","items-center"],[1,"text-heading-sm"],["cf-button","",1,"flex","gap-x-2",3,"click"],["icon","plus"],[1,"",3,"fnSort","fnSearch","pageSizeList","listData","pageSize"],["managerTable",""],["cf-thead",""],["cf-th","",1,"whitespace-nowrap",3,"sortName"],["cf-th","",1,"whitespace-nowrap",3,"sticky"],["cf-td","",1,"py-2","px-1","!bg-neutral-white"],[1,"grow","!w-auto"],["type","text","size","medium","cf-input","","placeholder","L\u1ecdc",3,"ngModel","ngModelChange","input"],["cf-td","",3,"sticky"],["ngFor","",3,"ngForOf"],[4,"ngIf"],["cfHint","",3,"hint"],[1,"border-b","border-neutral-gray-1"],["cf-td","",1,"py-2","px-3","text-body-sm"],["class","w-[80px] h-[40px] object-contain",3,"src",4,"ngIf"],["cf-td","",1,"py-2","px-3","text-body-sm","group","relative"],[1,"w-[170px]","overflow-ellipsis","whitespace-nowrap","overflow-hidden"],["icon","expand","size","small",1,"group-hover:block","hidden","text-body-sm","absolute","right-0","top-0","cursor-pointer",3,"click"],["cf-td","",1,"py-2","px-3","text-body-sm",3,"sticky"],[1,"flex","gap-x-4","items-center"],[1,"text-body-md","text-secondary-3-4","cursor-pointer","whitespace-nowrap",3,"click"],[1,"text-body-md","text-secondary-6-4","cursor-pointer",3,"click"],[1,"w-[80px]","h-[40px]","object-contain",3,"src"]],template:function(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"cf-select",2),t.NdJ("ngModelChange",function(a){return i.filterSearchData.type=a}),t.TgZ(3,"label",3),t._uU(4," Th\u1eddi gian "),t.qZA()(),t.TgZ(5,"div",4)(6,"cf-input-group",5),t._UZ(7,"cf-icon",6),t.TgZ(8,"label",3),t._uU(9," Kho\u1ea3ng th\u1eddi gian "),t.qZA(),t.TgZ(10,"input",7),t.NdJ("click",function(){t.CHM(n);const a=t.MAs(14);return t.KtG(a.open())})("ngModelChange",function(a){return i.dateRangeStr=a}),t.qZA(),t.TgZ(11,"div",8),t.YNc(12,jt,1,1,"cf-input-hint",9),t.qZA()(),t.TgZ(13,"input",10,11),t.NdJ("dateSelect",function(a){t.CHM(n);const f=t.MAs(14);return t.KtG(i.onDateSelection(a,i.filterSearchData.startTime,i.filterSearchData.endTime,f))}),t.qZA()(),t.TgZ(15,"cf-select",12),t.NdJ("ngModelChange",function(a){return i.filterSearchData.airline=a}),t.TgZ(16,"label",3),t._uU(17," H\xe3ng bay "),t.qZA()(),t.TgZ(18,"cf-select",13),t.NdJ("ngModelChange",function(a){return i.filterSearchData.flightType=a}),t.TgZ(19,"label",3),t._uU(20," Lo\u1ea1i h\xe0nh tr\xecnh "),t.qZA()()(),t.TgZ(21,"div",14)(22,"cf-multi-select",15),t.NdJ("ngModelChange",function(a){return i.filterSearchData.startPointDetails=a}),t.TgZ(23,"label",16),t._uU(24," \u0110i\u1ec3m \u0111i "),t.qZA()(),t.TgZ(25,"cf-multi-select",15),t.NdJ("ngModelChange",function(a){return i.filterSearchData.endPointDetails=a}),t.TgZ(26,"label",16),t._uU(27," \u0110i\u1ec3m \u0111\u1ebfn "),t.qZA()(),t.TgZ(28,"button",17),t.NdJ("click",function(){return i.onSearch()}),t._UZ(29,"cf-icon",18),t._uU(30," T\xecm ki\u1ebfm "),t.qZA()()(),t.TgZ(31,"div",19)(32,"div",20)(33,"div",21)(34,"div",22),t._uU(35,"Danh s\xe1ch chi\u1ebft kh\u1ea5u"),t.qZA(),t.TgZ(36,"button",23),t.NdJ("click",function(){return i.onCreateServiceFee()}),t._UZ(37,"cf-icon",24),t._uU(38," T\u1ea1o chi\u1ebft kh\u1ea5u "),t.qZA()(),t.TgZ(39,"cf-table",25,26)(41,"thead",27)(42,"th",28),t._uU(43,"H\xe3ng bay"),t.qZA(),t.TgZ(44,"th",28),t._uU(45,"Lo\u1ea1i h\xe0nh tr\xecnh"),t.qZA(),t.TgZ(46,"th",28),t._uU(47,"Lo\u1ea1i \u0111\u1ecba \u0111i\u1ec3m"),t.qZA(),t.TgZ(48,"th",28),t._uU(49,"\u0110i\u1ec3m \u0111i"),t.qZA(),t.TgZ(50,"th",28),t._uU(51,"\u0110i\u1ec3m \u0111\u1ebfn"),t.qZA(),t.TgZ(52,"th",28),t._uU(53,"H\u1ea1ng gh\u1ebf"),t.qZA(),t.TgZ(54,"th",28),t._uU(55,"Lo\u1ea1i ch\u1eb7ng bay"),t.qZA(),t.TgZ(56,"th",28),t._uU(57,"Ng\xe0y xu\u1ea5t v\xe9 \u0111\u1ea7u"),t.qZA(),t.TgZ(58,"th",28),t._uU(59,"Ng\xe0y xu\u1ea5t v\xe9 cu\u1ed1i"),t.qZA(),t.TgZ(60,"th",28),t._uU(61,"Ng\xe0y bay \u0111\u1ea7u"),t.qZA(),t.TgZ(62,"th",28),t._uU(63,"Ng\xe0y bay cu\u1ed1i"),t.qZA(),t.TgZ(64,"th",28),t._uU(65,"T\u1ed5ng h\xe0nh kh\xe1ch t\u1ed1i thi\u1ec3u"),t.qZA(),t.TgZ(66,"th",28),t._uU(67,"Ng\u01b0\u1eddi l\u1edbn t\u1ed1i thi\u1ec3u"),t.qZA(),t.TgZ(68,"th",28),t._uU(69,"Tr\u1ebb em t\u1ed1i thi\u1ec3u"),t.qZA(),t.TgZ(70,"th",28),t._uU(71,"Em b\xe9 t\u1ed1i thi\u1ec3u"),t.qZA(),t.TgZ(72,"th",28),t._uU(73,"Ng\xe0y t\u1ea1o"),t.qZA(),t.TgZ(74,"th",29),t._uU(75,"Ch\u1ee9c n\u0103ng"),t.qZA()(),t.TgZ(76,"tbody")(77,"tr")(78,"td",30)(79,"cf-input-group",31)(80,"input",32),t.NdJ("ngModelChange",function(a){return i.filterData.airline=a})("input",function(){return i.filterChange()}),t.qZA()()(),t.TgZ(81,"td",30)(82,"cf-input-group",31)(83,"input",32),t.NdJ("ngModelChange",function(a){return i.filterData.flightTypeName=a})("input",function(){return i.filterChange()}),t.qZA()()(),t.TgZ(84,"td",30)(85,"cf-input-group",31)(86,"input",32),t.NdJ("ngModelChange",function(a){return i.filterData.journeyTypeName=a})("input",function(){return i.filterChange()}),t.qZA()()(),t.TgZ(87,"td",30)(88,"cf-input-group",31)(89,"input",32),t.NdJ("ngModelChange",function(a){return i.filterData.startPointDetails=a})("input",function(){return i.filterChange()}),t.qZA()()(),t.TgZ(90,"td",30)(91,"cf-input-group",31)(92,"input",32),t.NdJ("ngModelChange",function(a){return i.filterData.endPointDetails=a})("input",function(){return i.filterChange()}),t.qZA()()(),t.TgZ(93,"td",30)(94,"cf-input-group",31)(95,"input",32),t.NdJ("ngModelChange",function(a){return i.filterData.fareClass=a})("input",function(){return i.filterChange()}),t.qZA()()(),t.TgZ(96,"td",30)(97,"cf-input-group",31)(98,"input",32),t.NdJ("ngModelChange",function(a){return i.filterData.journeyClassifyName=a})("input",function(){return i.filterChange()}),t.qZA()()(),t.TgZ(99,"td",30)(100,"cf-input-group",31)(101,"input",32),t.NdJ("ngModelChange",function(a){return i.filterData.startTimeIssue=a})("input",function(){return i.filterChange()}),t.qZA()()(),t.TgZ(102,"td",30)(103,"cf-input-group",31)(104,"input",32),t.NdJ("ngModelChange",function(a){return i.filterData.endTimeIssue=a})("input",function(){return i.filterChange()}),t.qZA()()(),t.TgZ(105,"td",30)(106,"cf-input-group",31)(107,"input",32),t.NdJ("ngModelChange",function(a){return i.filterData.startTimeFly=a})("input",function(){return i.filterChange()}),t.qZA()()(),t.TgZ(108,"td",30)(109,"cf-input-group",31)(110,"input",32),t.NdJ("ngModelChange",function(a){return i.filterData.endTimeFly=a})("input",function(){return i.filterChange()}),t.qZA()()(),t.TgZ(111,"td",30)(112,"cf-input-group",31)(113,"input",32),t.NdJ("ngModelChange",function(a){return i.filterData.totalPax=a})("input",function(){return i.filterChange()}),t.qZA()()(),t.TgZ(114,"td",30)(115,"cf-input-group",31)(116,"input",32),t.NdJ("ngModelChange",function(a){return i.filterData.adtNum=a})("input",function(){return i.filterChange()}),t.qZA()()(),t.TgZ(117,"td",30)(118,"cf-input-group",31)(119,"input",32),t.NdJ("ngModelChange",function(a){return i.filterData.chdNum=a})("input",function(){return i.filterChange()}),t.qZA()()(),t.TgZ(120,"td",30)(121,"cf-input-group",31)(122,"input",32),t.NdJ("ngModelChange",function(a){return i.filterData.infNum=a})("input",function(){return i.filterChange()}),t.qZA()()(),t.TgZ(123,"td",30)(124,"cf-input-group",31)(125,"input",32),t.NdJ("ngModelChange",function(a){return i.filterData.timeCreate=a})("input",function(){return i.filterChange()}),t.qZA()()(),t._UZ(126,"td",33),t.qZA(),t.YNc(127,Kt,51,33,"ng-template",34),t.qZA()()()(),t._UZ(128,"cf-toast"),t.YNc(129,Vt,1,0,"cf-spinner",35)}if(2&e){const n=t.MAs(40);t.xp6(2),t.Q6J("status","default")("data",i.timeTypeOptions)("allowSearch",!1)("ngModel",i.filterSearchData.type),t.xp6(4),t.Q6J("status",i.invalidTimeFilter?"error":"default"),t.xp6(4),t.Q6J("ngModel",i.dateRangeStr),t.xp6(2),t.Q6J("ngIf",i.invalidTimeFilter),t.xp6(1),t.Q6J("secondaryCalendar","lunar")("displayMonths",2)("rangeSelection",!0)("containerWidth",600)("startDate",i.startDate)("canReset",!1)("fromDate",i.filterSearchData.startTime)("toDate",i.filterSearchData.endTime),t.xp6(2),t.Q6J("status","default")("data",i.airlineOptions)("allowSearch",!1)("ngModel",i.filterSearchData.airline),t.xp6(3),t.Q6J("status","default")("data",i.flightTypeOptions)("allowSearch",!1)("ngModel",i.filterSearchData.flightType),t.xp6(4),t.Q6J("status","default")("data",i.startPointOptions||t.DdM(77,at))("allowSearch",!0)("placeholder",i.filterSearchData.startPointDetails?"Ch\u1ecdn m\xe3 s\xe2n bay":"Ch\u1ecdn m\xe3 s\xe2n bay ho\u1eb7c b\u1ecf tr\u1ed1ng cho t\u1ea5t c\u1ea3")("ngModel",i.filterSearchData.startPointDetails)("maxHeight",230),t.xp6(3),t.Q6J("status","default")("data",i.endPointOptions||t.DdM(78,at))("allowSearch",!0)("placeholder",i.filterSearchData.endPointDetails?"Ch\u1ecdn m\xe3 s\xe2n bay":"Ch\u1ecdn m\xe3 s\xe2n bay ho\u1eb7c b\u1ecf tr\u1ed1ng cho t\u1ea5t c\u1ea3")("ngModel",i.filterSearchData.endPointDetails)("maxHeight",230),t.xp6(3),t.Q6J("disabled",i.invalidTimeFilter),t.xp6(11),t.Q6J("fnSort",i.sortChange)("fnSearch",i.searchChange)("pageSizeList",t.l5B(83,te,t.DdM(79,zt),t.DdM(80,Xt),t.DdM(81,$t),t.DdM(82,Wt)))("listData",i.listDiscountFee)("pageSize",i.pageSize),t.xp6(3),t.Q6J("sortName","airline"),t.xp6(2),t.Q6J("sortName","flightTypeName"),t.xp6(2),t.Q6J("sortName","journeyTypeName"),t.xp6(2),t.Q6J("sortName","startPointDetails"),t.xp6(2),t.Q6J("sortName","endPointDetails"),t.xp6(2),t.Q6J("sortName","fareClass"),t.xp6(2),t.Q6J("sortName","journeyClassifyName"),t.xp6(2),t.Q6J("sortName","startTimeIssue"),t.xp6(2),t.Q6J("sortName","endTimeIssue"),t.xp6(2),t.Q6J("sortName","startTimeFly"),t.xp6(2),t.Q6J("sortName","endTimeFly"),t.xp6(2),t.Q6J("sortName","totalPax"),t.xp6(2),t.Q6J("sortName","adtNum"),t.xp6(2),t.Q6J("sortName","chdNum"),t.xp6(2),t.Q6J("sortName","infNum"),t.xp6(2),t.Q6J("sortName","timeCreate"),t.xp6(2),t.Q6J("sticky","right"),t.xp6(6),t.Q6J("ngModel",i.filterData.airline),t.xp6(3),t.Q6J("ngModel",i.filterData.flightTypeName),t.xp6(3),t.Q6J("ngModel",i.filterData.journeyTypeName),t.xp6(3),t.Q6J("ngModel",i.filterData.startPointDetails),t.xp6(3),t.Q6J("ngModel",i.filterData.endPointDetails),t.xp6(3),t.Q6J("ngModel",i.filterData.fareClass),t.xp6(3),t.Q6J("ngModel",i.filterData.journeyClassifyName),t.xp6(3),t.Q6J("ngModel",i.filterData.startTimeIssue),t.xp6(3),t.Q6J("ngModel",i.filterData.endTimeIssue),t.xp6(3),t.Q6J("ngModel",i.filterData.startTimeFly),t.xp6(3),t.Q6J("ngModel",i.filterData.endTimeFly),t.xp6(3),t.Q6J("ngModel",i.filterData.totalPax),t.xp6(3),t.Q6J("ngModel",i.filterData.adtNum),t.xp6(3),t.Q6J("ngModel",i.filterData.chdNum),t.xp6(3),t.Q6J("ngModel",i.filterData.infNum),t.xp6(3),t.Q6J("ngModel",i.filterData.timeCreate),t.xp6(1),t.Q6J("sticky","right"),t.xp6(1),t.Q6J("ngForOf",n.partOfdata),t.xp6(2),t.Q6J("ngIf",i.isLoading)}},dependencies:[C.ez,C.sg,C.O5,C.uU,d.u5,d.Fj,d.JJ,d.On,R.q,F.j$,F.ND,F.BN,F.v2,b.N8,b.Xq,E.AxE,E.Sm8,H.rC,H.E_,H.zs,H.qS,V.hj,I.Cs,M.OR,G.U],encapsulation:2}),o})();var ie=m(4688),U=(()=>{return(o=U||(U={})).DOMESTIC="DOMESTIC",o.INTERNATIONAL="INTERNATIONAL",U;var o})(),w=(()=>{return(o=w||(w={})).AIRPORT="AIRPORT",o.NATIONAL="NATIONAL",o.AREA="AREA",w;var o})(),k=(()=>{return(o=k||(k={})).TOTAL_PAX="TOTAL_PAX",o.SINGLE_PAX="SINGLE_PAX",k;var o})(),A=m(80992),ne=m(48042);function oe(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",13)(1,"button",14),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.onEdit())}),t._UZ(2,"cf-icon",15),t._uU(3," Ch\u1ec9nh s\u1eeda "),t.qZA(),t.TgZ(4,"button",8),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.onDelete())}),t._UZ(5,"cf-icon",16),t._uU(6," X\xf3a "),t.qZA()()}}function ue(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",13)(1,"button",14),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.onSubmit())}),t._UZ(2,"cf-icon",17),t._uU(3," L\u01b0u "),t.qZA(),t.TgZ(4,"button",8),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(2);return t.KtG(n.onCancel())}),t._UZ(5,"cf-icon",18),t._uU(6," H\u1ee7y "),t.qZA()()}}function ae(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"cf-label",44),t._uU(2),t.qZA(),t.BQk()),2&o){const e=s.$implicit;t.xp6(1),t.Q6J("size","small")("color","gray-2"),t.xp6(1),t.hij(" ","ALL"===e?"T\u1ea5t c\u1ea3":e," ")}}function se(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"cf-label",44),t._uU(2),t.qZA(),t.BQk()),2&o){const e=s.$implicit;t.xp6(1),t.Q6J("size","small")("color","gray-2"),t.xp6(1),t.hij(" ","ALL"===e?"T\u1ea5t c\u1ea3":e," ")}}const x=function(){return[]};function re(o,s){if(1&o&&(t.TgZ(0,"div",23)(1,"div",11)(2,"div",41)(3,"div",25),t._uU(4,"\u0110i\u1ec3m \u0111i"),t.qZA(),t.TgZ(5,"div",42),t.YNc(6,ae,3,3,"ng-container",43),t.qZA()(),t.TgZ(7,"div",41)(8,"div",25),t._uU(9,"\u0110i\u1ec3m \u0111\u1ebfn"),t.qZA(),t.TgZ(10,"div",42),t.YNc(11,se,3,3,"ng-container",43),t.qZA()()(),t.TgZ(12,"div")(13,"div",24)(14,"div",25),t._uU(15,"Lo\u1ea1i ch\u1eb7ng bay"),t.qZA(),t.TgZ(16,"div",26),t._uU(17),t.qZA()()()()),2&o){const e=t.oxw(4);t.xp6(6),t.Q6J("ngForOf",(null==e.discountConditionDisplay?null:e.discountConditionDisplay.startPointDetails)||t.DdM(3,x)),t.xp6(5),t.Q6J("ngForOf",(null==e.discountConditionDisplay?null:e.discountConditionDisplay.endPointDetails)||t.DdM(4,x)),t.xp6(6),t.hij(" ",null==e.discountConditionDisplay?null:e.discountConditionDisplay.journeyClassify," ")}}function le(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"cf-label",44),t._uU(2),t.qZA(),t.BQk()),2&o){const e=s.$implicit;t.xp6(1),t.Q6J("size","small")("color","gray-2"),t.xp6(1),t.hij(" ","ALL"===e?"T\u1ea5t c\u1ea3":e," ")}}function ce(o,s){if(1&o&&(t.ynx(0),t.TgZ(1,"cf-label",44),t._uU(2),t.qZA(),t.BQk()),2&o){const e=s.$implicit;t.xp6(1),t.Q6J("size","small")("color","gray-2"),t.xp6(1),t.hij(" ","ALL"===e?"T\u1ea5t c\u1ea3":e," ")}}function de(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",23)(1,"cf-radio-group",31),t.NdJ("ngModelChange",function(n){t.CHM(e);const u=t.oxw(4);return t.KtG(u.discountConditionDisplay.journeyType=n)}),t.TgZ(2,"cf-radio",32),t._uU(3,"Theo s\xe2n bay"),t.qZA(),t.TgZ(4,"cf-radio",32),t._uU(5,"Theo qu\u1ed1c gia"),t.qZA(),t.TgZ(6,"cf-radio",32),t._uU(7,"Theo khu v\u1ef1c"),t.qZA()(),t.TgZ(8,"div",23)(9,"div",11)(10,"div",41)(11,"div",25),t._uU(12,"\u0110i\u1ec3m \u0111i"),t.qZA(),t.TgZ(13,"div",42),t.YNc(14,le,3,3,"ng-container",43),t.qZA()(),t.TgZ(15,"div",41)(16,"div",25),t._uU(17,"\u0110i\u1ec3m \u0111\u1ebfn"),t.qZA(),t.TgZ(18,"div",42),t.YNc(19,ce,3,3,"ng-container",43),t.qZA()()(),t.TgZ(20,"div")(21,"div",24)(22,"div",25),t._uU(23,"Lo\u1ea1i ch\u1eb7ng bay"),t.qZA(),t.TgZ(24,"div",26),t._uU(25),t.qZA()()()()()}if(2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("ngModel",e.discountConditionDisplay.journeyType),t.xp6(1),t.Q6J("disabled",!0)("value",e.JOURNEY_TYPE.AIRPORT),t.xp6(2),t.Q6J("disabled",!0)("value",e.JOURNEY_TYPE.NATIONAL),t.xp6(2),t.Q6J("disabled",!0)("value",e.JOURNEY_TYPE.AREA),t.xp6(8),t.Q6J("ngForOf",(null==e.discountConditionDisplay?null:e.discountConditionDisplay.startPointDetails)||t.DdM(10,x)),t.xp6(5),t.Q6J("ngForOf",(null==e.discountConditionDisplay?null:e.discountConditionDisplay.endPointDetails)||t.DdM(11,x)),t.xp6(6),t.hij(" ",null==e.discountConditionDisplay?null:e.discountConditionDisplay.journeyClassify," ")}}function pe(o,s){if(1&o&&(t.TgZ(0,"div")(1,"div",24)(2,"div",25),t._uU(3,"T\u1ed5ng s\u1ed1 h\xe0nh kh\xe1ch t\u1ed1i thi\u1ec3u"),t.qZA(),t.TgZ(4,"div",26),t._uU(5),t.qZA()()()),2&o){const e=t.oxw(4);t.xp6(5),t.hij(" ",null==e.discountConditionDisplay?null:e.discountConditionDisplay.totalPax," ")}}function _e(o,s){if(1&o&&(t.TgZ(0,"div",45)(1,"div",41)(2,"div",25),t._uU(3,"Ng\u01b0\u1eddi l\u1edbn (ADT)"),t.qZA(),t.TgZ(4,"div",26),t._uU(5),t.qZA()(),t.TgZ(6,"div",41)(7,"div",25),t._uU(8,"Tr\u1ebb em (CHD)"),t.qZA(),t.TgZ(9,"div",26),t._uU(10),t.qZA()(),t.TgZ(11,"div",41)(12,"div",25),t._uU(13,"Em b\xe9 (IFN)"),t.qZA(),t.TgZ(14,"div",26),t._uU(15),t.qZA()()()),2&o){const e=t.oxw(4);t.xp6(5),t.hij(" ",null==e.discountConditionDisplay?null:e.discountConditionDisplay.adtNum," "),t.xp6(5),t.hij(" ",null==e.discountConditionDisplay?null:e.discountConditionDisplay.chdNum," "),t.xp6(5),t.hij(" ",null==e.discountConditionDisplay?null:e.discountConditionDisplay.infNum," ")}}function me(o,s){if(1&o&&(t.TgZ(0,"div",11)(1,"cf-input-group",36),t._UZ(2,"cf-icon",37),t.TgZ(3,"label",38),t._uU(4," Lo\u1ea1i tr\u1eeb t\u1eeb ng\xe0y "),t.qZA(),t._UZ(5,"input",39),t.qZA(),t.TgZ(6,"cf-input-group",36),t._UZ(7,"cf-icon",37),t.TgZ(8,"label",38),t._uU(9," Lo\u1ea1i tr\u1eeb \u0111\u1ebfn ng\xe0y "),t.qZA(),t._UZ(10,"input",39),t.qZA()()),2&o){const e=s.$implicit;t.xp6(1),t.Q6J("disabled",!0),t.xp6(4),t.Q6J("value",e.exceptStart),t.xp6(1),t.Q6J("disabled",!0),t.xp6(4),t.Q6J("value",e.exceptEnd)}}function he(o,s){if(1&o&&(t.TgZ(0,"div",11)(1,"cf-input-group",36),t._UZ(2,"cf-icon",37),t.TgZ(3,"label",38),t._uU(4," Lo\u1ea1i tr\u1eeb t\u1eeb ng\xe0y "),t.qZA(),t._UZ(5,"input",39),t.qZA(),t.TgZ(6,"cf-input-group",36),t._UZ(7,"cf-icon",37),t.TgZ(8,"label",38),t._uU(9," Lo\u1ea1i tr\u1eeb \u0111\u1ebfn ng\xe0y "),t.qZA(),t._UZ(10,"input",39),t.qZA()()),2&o){const e=s.$implicit;t.xp6(1),t.Q6J("disabled",!0),t.xp6(4),t.Q6J("value",e.exceptStart),t.xp6(1),t.Q6J("disabled",!0),t.xp6(4),t.Q6J("value",e.exceptEnd)}}const j=function(o){return{"!bg-neutral-black !text-white border-none":o}};function ge(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",19)(2,"div",20)(3,"div",21),t._uU(4," \u0110i\u1ec1u ki\u1ec7n h\xe3ng bay "),t.qZA(),t.TgZ(5,"div",22),t._uU(6," H\xe3ng bay khai th\xe1c v\xe0 h\u1ea1ng gh\u1ebf "),t.qZA()(),t.TgZ(7,"div",23)(8,"div",24)(9,"div",25),t._uU(10,"H\xe3ng bay"),t.qZA(),t.TgZ(11,"div",26),t._uU(12),t.qZA()(),t.TgZ(13,"div",24)(14,"div",25),t._uU(15,"H\u1ea1ng \u0111\u1eb7t ch\u1ed7"),t.qZA(),t.TgZ(16,"div",26),t._uU(17),t.qZA()()()(),t.TgZ(18,"div",19)(19,"div",20)(20,"div",21),t._uU(21," \u0110i\u1ec1u ki\u1ec7n h\xe0nh tr\xecnh "),t.qZA(),t.TgZ(22,"div",22),t._uU(23," H\xe0nh tr\xecnh bay \xe1p d\u1ee5ng, ch\u1ec9 \xe1p d\u1ee5ng cho h\xe0nh tr\xecnh m\u1ed9t chi\u1ec1u "),t.qZA()(),t.TgZ(24,"div",27)(25,"div",28)(26,"div",29)(27,"span"),t._uU(28,"Qu\u1ed1c n\u1ed9i"),t.qZA()(),t.TgZ(29,"div",29)(30,"span"),t._uU(31,"Qu\u1ed1c t\u1ebf"),t.qZA()()(),t.YNc(32,re,18,5,"div",30),t.YNc(33,de,26,12,"div",30),t.qZA()(),t.TgZ(34,"div",19)(35,"div",20)(36,"div",21),t._uU(37," \u0110i\u1ec1u ki\u1ec7n h\xe0nh kh\xe1ch "),t.qZA(),t.TgZ(38,"div",22),t._uU(39," Y\xeau c\u1ea7u v\u1ec1 s\u1ed1 l\u01b0\u1ee3ng h\xe0nh kh\xe1ch t\u1ed1i thi\u1ec3u "),t.qZA()(),t.TgZ(40,"div",23)(41,"cf-radio-group",31),t.NdJ("ngModelChange",function(n){t.CHM(e);const u=t.oxw(3);return t.KtG(u.paxType=n)}),t.TgZ(42,"cf-radio",32),t._uU(43,"T\u1ed5ng h\xe0nh kh\xe1ch"),t.qZA(),t.TgZ(44,"cf-radio",32),t._uU(45," T\u1eebng \u0111\u1ed1i t\u01b0\u1ee3ng h\xe0nh kh\xe1ch "),t.qZA()(),t.YNc(46,pe,6,1,"div",4),t.YNc(47,_e,16,3,"div",33),t.qZA()(),t.TgZ(48,"div",34)(49,"div",35)(50,"div",21),t._uU(51," Th\u1eddi gian xu\u1ea5t v\xe9 "),t.qZA(),t.TgZ(52,"div",22),t._uU(53," Th\u1eddi gian xu\u1ea5t v\xe9 \xe1p d\u1ee5ng chi\u1ebft kh\u1ea5u, c\xf3 th\u1ec3 bao g\u1ed3m th\u1eddi gian lo\u1ea1i tr\u1eeb "),t.qZA()(),t.TgZ(54,"div",23)(55,"div",11)(56,"cf-input-group",36),t._UZ(57,"cf-icon",37),t.TgZ(58,"label",38),t._uU(59," \xc1p d\u1ee5ng t\u1eeb ng\xe0y "),t.qZA(),t._UZ(60,"input",39),t.qZA(),t.TgZ(61,"cf-input-group",36),t._UZ(62,"cf-icon",37),t.TgZ(63,"label",38),t._uU(64," \xc1p d\u1ee5ng \u0111\u1ebfn ng\xe0y "),t.qZA(),t._UZ(65,"input",39),t.qZA()(),t.YNc(66,me,11,4,"div",40),t.qZA()(),t.TgZ(67,"div",34)(68,"div",35)(69,"div",21),t._uU(70," Th\u1eddi gian bay "),t.qZA(),t.TgZ(71,"div",22),t._uU(72," Th\u1eddi gian bay \xe1p d\u1ee5ng chi\u1ebft kh\u1ea5u, c\xf3 th\u1ec3 bao g\u1ed3m th\u1eddi gian lo\u1ea1i tr\u1eeb "),t.qZA()(),t.TgZ(73,"div",23)(74,"div",11)(75,"cf-input-group",36),t._UZ(76,"cf-icon",37),t.TgZ(77,"label",38),t._uU(78," \xc1p d\u1ee5ng t\u1eeb ng\xe0y "),t.qZA(),t._UZ(79,"input",39),t.qZA(),t.TgZ(80,"cf-input-group",36),t._UZ(81,"cf-icon",37),t.TgZ(82,"label",38),t._uU(83," \xc1p d\u1ee5ng \u0111\u1ebfn ng\xe0y "),t.qZA(),t._UZ(84,"input",39),t.qZA()(),t.YNc(85,he,11,4,"div",40),t.qZA()()()}if(2&o){const e=t.oxw(3);t.xp6(12),t.hij(" ",null==e.discountConditionDisplay?null:e.discountConditionDisplay.airline," "),t.xp6(5),t.hij(" ",null==e.discountConditionDisplay?null:e.discountConditionDisplay.fareClass," "),t.xp6(9),t.Q6J("ngClass",t.VKq(23,j,e.flightType===e.FLIGHT_TYPE.DOMESTIC)),t.xp6(3),t.Q6J("ngClass",t.VKq(25,j,e.flightType===e.FLIGHT_TYPE.INTERNATIONAL)),t.xp6(3),t.Q6J("ngIf",e.flightType===e.FLIGHT_TYPE.DOMESTIC),t.xp6(1),t.Q6J("ngIf",e.flightType===e.FLIGHT_TYPE.INTERNATIONAL),t.xp6(8),t.Q6J("ngModel",e.paxType),t.xp6(1),t.Q6J("disabled",!0)("value",e.PAX_TYPE.TOTAL_PAX),t.xp6(2),t.Q6J("disabled",!0)("value",e.PAX_TYPE.SINGLE_PAX),t.xp6(2),t.Q6J("ngIf",e.paxType===e.PAX_TYPE.TOTAL_PAX),t.xp6(1),t.Q6J("ngIf",e.paxType===e.PAX_TYPE.SINGLE_PAX),t.xp6(9),t.Q6J("disabled",!0),t.xp6(4),t.Q6J("value",null==e.discountConditionDisplay?null:e.discountConditionDisplay.startTimeIssue),t.xp6(1),t.Q6J("disabled",!0),t.xp6(4),t.Q6J("value",null==e.discountConditionDisplay?null:e.discountConditionDisplay.endTimeIssue),t.xp6(1),t.Q6J("ngForOf",null==e.discountConditionDisplay?null:e.discountConditionDisplay.timeIssueCustom),t.xp6(9),t.Q6J("disabled",!0),t.xp6(4),t.Q6J("value",null==e.discountConditionDisplay?null:e.discountConditionDisplay.startTimeFly),t.xp6(1),t.Q6J("disabled",!0),t.xp6(4),t.Q6J("value",null==e.discountConditionDisplay?null:e.discountConditionDisplay.endTimeFly),t.xp6(1),t.Q6J("ngForOf",null==e.discountConditionDisplay?null:e.discountConditionDisplay.timeFlyCustom)}}function fe(o,s){if(1&o&&(t.TgZ(0,"div")(1,"div",6)(2,"div",19)(3,"div",20)(4,"div",21),t._uU(5," M\u1ee9c chi\u1ebft kh\u1ea5u \u0111\u1ea7u v\xe0o "),t.qZA(),t.TgZ(6,"div",22),t._uU(7," M\u1ee9c chi\u1ebft kh\u1ea5u g\u1ed1c h\xe3ng chia cho \u0111\u1ea1i l\xfd F1 "),t.qZA()(),t.TgZ(8,"div",11)(9,"div",41)(10,"div",25),t._uU(11,"Chi\u1ebft kh\u1ea5u g\u1ed1c t\u1eeb h\xe3ng"),t.qZA(),t.TgZ(12,"div",26),t._uU(13),t.ALo(14,"replace"),t.ALo(15,"number"),t.qZA()(),t.TgZ(16,"div",41)(17,"div",25),t._uU(18,"Lo\u1ea1i ti\u1ec1n"),t.qZA(),t.TgZ(19,"div",26),t._uU(20),t.qZA()()()(),t.TgZ(21,"div",19)(22,"div",20)(23,"div",21),t._uU(24," M\u1ee9c chi\u1ebft kh\u1ea5u \u0111\u1ea7u ra "),t.qZA(),t.TgZ(25,"div",22),t._uU(26," C\xe1c m\u1ee9c chi\u1ebft kh\u1ea5u \xe1p d\u1ee5ng chi tr\u1ea3 cho \u0111\u1ea1i l\xfd F2 l\u1ea5y t\u1eeb chi\u1ebft kh\u1ea5u \u0111\u1ea7u v\xe0o "),t.qZA()(),t.TgZ(27,"div",46)(28,"div",23)(29,"div",47),t._uU(30,"N\u1ebfu thanh to\xe1n ngay cho \u0111\u1ea1i l\xfd"),t.qZA(),t.TgZ(31,"div",48)(32,"div",41)(33,"div",25),t._uU(34,"Chi\u1ebft kh\u1ea5u khi d\u01b0\u01a1ng qu\u1ef9"),t.qZA(),t.TgZ(35,"div",26),t._uU(36),t.ALo(37,"replace"),t.ALo(38,"number"),t.qZA()(),t.TgZ(39,"div",41)(40,"div",25),t._uU(41,"Chi\u1ebft kh\u1ea5u khi \xe2m qu\u1ef9"),t.qZA(),t.TgZ(42,"div",26),t._uU(43),t.ALo(44,"replace"),t.ALo(45,"number"),t.qZA()()()(),t.TgZ(46,"div",23)(47,"div",47),t._uU(48,"N\u1ebfu thanh to\xe1n sau cho \u0111\u1ea1i l\xfd"),t.qZA(),t.TgZ(49,"div",48)(50,"div",41)(51,"div",25),t._uU(52,"Chi\u1ebft kh\u1ea5u khi d\u01b0\u01a1ng qu\u1ef9"),t.qZA(),t.TgZ(53,"div",26),t._uU(54),t.ALo(55,"replace"),t.ALo(56,"number"),t.qZA()(),t.TgZ(57,"div",41)(58,"div",25),t._uU(59,"Chi\u1ebft kh\u1ea5u khi \xe2m qu\u1ef9"),t.qZA(),t.TgZ(60,"div",26),t._uU(61),t.ALo(62,"replace"),t.ALo(63,"number"),t.qZA()()()()()(),t.TgZ(64,"div",19)(65,"div",20)(66,"div",49),t._uU(67," M\u1ee9c chi\u1ebft kh\u1ea5u d\xe0nh cho CodeShare "),t.qZA(),t.TgZ(68,"div",22),t._uU(69," Ph\u1ea7n tr\u0103m chi\u1ebft kh\u1ea5u cho c\xe1c chuy\u1ebfn bay codeshare so v\u1edbi chi\u1ebft kh\u1ea5u \u0111\u1ea7y \u0111\u1ee7 "),t.qZA()(),t.TgZ(70,"div",27)(71,"div",26),t._uU(72),t.qZA()()(),t.TgZ(73,"div",19)(74,"div",20)(75,"div",21),t._uU(76," Nh\xf3m \u0111\u1ea1i l\xfd "),t.qZA(),t.TgZ(77,"div",22),t._uU(78," C\xe1c \u0111\u1ea1i l\xfd thu\u1ed9c nh\xf3m n\xe0y s\u1ebd \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng m\u1ee9c chi\u1ebft kh\u1ea5u "),t.qZA()(),t.TgZ(79,"div",27)(80,"div",26),t._uU(81),t.qZA()()()()()),2&o){const e=t.oxw(3);t.xp6(13),t.hij(" ",t.Dn7(14,9,t.lcZ(15,13,(null==e.discountApplyDisplay?null:e.discountApplyDisplay.amountFromAirline)||0),",",".")," \u0111 "),t.xp6(7),t.hij(" ",null==e.discountApplyDisplay?null:e.discountApplyDisplay.currencyCode," "),t.xp6(16),t.hij(" ",t.Dn7(37,15,t.lcZ(38,19,(null==e.discountApplyDisplay?null:e.discountApplyDisplay.amountNowPositive)||0),",",".")," \u0111 "),t.xp6(7),t.hij(" ",t.Dn7(44,21,t.lcZ(45,25,(null==e.discountApplyDisplay?null:e.discountApplyDisplay.amountNowNegative)||0),",",".")," \u0111 "),t.xp6(11),t.hij(" ",t.Dn7(55,27,t.lcZ(56,31,(null==e.discountApplyDisplay?null:e.discountApplyDisplay.amountLaterPositive)||0),",",".")," \u0111 "),t.xp6(7),t.hij(" ",t.Dn7(62,33,t.lcZ(63,37,(null==e.discountApplyDisplay?null:e.discountApplyDisplay.amountLaterNegative)||0),",",".")," \u0111 "),t.xp6(5),t.Q6J("CfRequired",!0),t.xp6(6),t.hij(" ",(null==e.discountApplyDisplay?null:e.discountApplyDisplay.codeSharePercent)||0," % "),t.xp6(9),t.hij(" ",null==e.discountApplyDisplay?null:e.discountApplyDisplay.groupAgId," ")}}function Ce(o,s){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,ge,86,27,"div",2),t.YNc(2,fe,82,39,"div",4),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf","DISCOUNT_CONDITION"===e.viewMode),t.xp6(1),t.Q6J("ngIf","DISCOUNT_APPLY"===e.viewMode)}}function Ee(o,s){if(1&o&&t._UZ(0,"cf-input-hint",74),2&o){const e=t.oxw(4);t.Q6J("hint",e.errorMessage.airline)}}function Te(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",23)(1,"div",13)(2,"cf-multi-select",75),t.NdJ("selectedChange",function(n){t.CHM(e);const u=t.oxw(4);return t.KtG(u.onSelectedChange("startPointDetails",n))}),t.TgZ(3,"label",54),t._uU(4," \u0110i\u1ec3m \u0111i "),t.qZA()(),t.TgZ(5,"button",76),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(4);return t.KtG(n.swapPoint(n.discountConditionForm.controls.startPointDetails,n.discountConditionForm.controls.endPointDetails))}),t._UZ(6,"cf-icon",77),t.qZA(),t.TgZ(7,"cf-multi-select",75),t.NdJ("selectedChange",function(n){t.CHM(e);const u=t.oxw(4);return t.KtG(u.onSelectedChange("endPointDetails",n))}),t.TgZ(8,"label",54),t._uU(9," \u0110i\u1ec3m \u0111\u1ebfn "),t.qZA()()(),t.TgZ(10,"div")(11,"cf-select",78)(12,"label",54),t._uU(13," Lo\u1ea1i ch\u1eb7ng bay "),t.qZA()()()()}if(2&o){const e=t.oxw(4),i=t.MAs(8);t.xp6(2),t.Q6J("status","default")("data",e.airportOptions||t.DdM(18,x))("allowSearch",!0)("placeholder",e.discountConditionForm.controls.startPointDetails?"Ch\u1ecdn m\xe3 s\xe2n bay":"Ch\u1ecdn m\xe3 s\xe2n bay ho\u1eb7c b\u1ecf tr\u1ed1ng cho t\u1ea5t c\u1ea3")("formControl",e.discountConditionForm.controls.startPointDetails)("maxHeight",230)("optionTmp",i),t.xp6(5),t.Q6J("status","default")("data",e.airportOptions||t.DdM(19,x))("allowSearch",!0)("placeholder",e.discountConditionForm.controls.endPointDetails?"Ch\u1ecdn m\xe3 s\xe2n bay":"Ch\u1ecdn m\xe3 s\xe2n bay ho\u1eb7c b\u1ecf tr\u1ed1ng cho t\u1ea5t c\u1ea3")("formControl",e.discountConditionForm.controls.endPointDetails)("maxHeight",230)("optionTmp",i),t.xp6(4),t.Q6J("status","default")("data",e.classifyListDomestic)("allowSearch",!1)("formControl",e.discountConditionForm.controls.journeyClassify)}}function ve(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",11)(1,"cf-multi-select",75),t.NdJ("selectedChange",function(n){t.CHM(e);const u=t.oxw(5);return t.KtG(u.onSelectedChange("startPointDetails",n))}),t.TgZ(2,"label",54),t._uU(3," \u0110i\u1ec3m \u0111i "),t.qZA()(),t.TgZ(4,"button",76),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(5);return t.KtG(n.swapPoint(n.discountConditionForm.controls.startPointDetails,n.discountConditionForm.controls.endPointDetails))}),t._UZ(5,"cf-icon",77),t.qZA(),t.TgZ(6,"cf-multi-select",75),t.NdJ("selectedChange",function(n){t.CHM(e);const u=t.oxw(5);return t.KtG(u.onSelectedChange("endPointDetails",n))}),t.TgZ(7,"label",54),t._uU(8," \u0110i\u1ec3m \u0111\u1ebfn "),t.qZA()()()}if(2&o){const e=t.oxw(5),i=t.MAs(8);t.xp6(1),t.Q6J("status","default")("data",e.airportOptions||t.DdM(14,x))("allowSearch",!0)("placeholder",e.discountConditionForm.controls.startPointDetails?"Ch\u1ecdn m\xe3 s\xe2n bay":"Ch\u1ecdn m\xe3 s\xe2n bay ho\u1eb7c b\u1ecf tr\u1ed1ng cho t\u1ea5t c\u1ea3")("formControl",e.discountConditionForm.controls.startPointDetails)("maxHeight",230)("optionTmp",i),t.xp6(5),t.Q6J("status","default")("data",e.airportOptions||t.DdM(15,x))("allowSearch",!0)("placeholder",e.discountConditionForm.controls.endPointDetails?"Ch\u1ecdn m\xe3 s\xe2n bay":"Ch\u1ecdn m\xe3 s\xe2n bay ho\u1eb7c b\u1ecf tr\u1ed1ng cho t\u1ea5t c\u1ea3")("formControl",e.discountConditionForm.controls.endPointDetails)("maxHeight",230)("optionTmp",i)}}function ye(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",11)(1,"cf-multi-select",81),t.NdJ("selectedChange",function(n){t.CHM(e);const u=t.oxw(5);return t.KtG(u.onSelectedChange("startPointDetails",n))}),t.TgZ(2,"label",54),t._uU(3," \u0110i\u1ec3m \u0111i "),t.qZA()(),t.TgZ(4,"button",76),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(5);return t.KtG(n.swapPoint(n.discountConditionForm.controls.startPointDetails,n.discountConditionForm.controls.endPointDetails))}),t._UZ(5,"cf-icon",77),t.qZA(),t.TgZ(6,"cf-multi-select",81),t.NdJ("selectedChange",function(n){t.CHM(e);const u=t.oxw(5);return t.KtG(u.onSelectedChange("endPointDetails",n))}),t.TgZ(7,"label",54),t._uU(8," \u0110i\u1ec3m \u0111\u1ebfn "),t.qZA()()()}if(2&o){const e=t.oxw(5);t.xp6(1),t.Q6J("status","default")("data",e.countryOptions||t.DdM(10,x))("allowSearch",!0)("formControl",e.discountConditionForm.controls.startPointDetails)("maxHeight",230),t.xp6(5),t.Q6J("status","default")("data",e.countryOptions||t.DdM(11,x))("allowSearch",!0)("formControl",e.discountConditionForm.controls.endPointDetails)("maxHeight",230)}}function De(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",11)(1,"cf-multi-select",82),t.NdJ("selectedChange",function(n){t.CHM(e);const u=t.oxw(5);return t.KtG(u.onSelectedChange("startPointDetails",n))}),t.TgZ(2,"label",54),t._uU(3," \u0110i\u1ec3m \u0111i "),t.qZA()(),t.TgZ(4,"button",76),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(5);return t.KtG(n.swapPoint(n.discountConditionForm.controls.startPointDetails,n.discountConditionForm.controls.endPointDetails))}),t._UZ(5,"cf-icon",77),t.qZA(),t.TgZ(6,"cf-multi-select",82),t.NdJ("selectedChange",function(n){t.CHM(e);const u=t.oxw(5);return t.KtG(u.onSelectedChange("endPointDetails",n))}),t.TgZ(7,"label",54),t._uU(8," \u0110i\u1ec3m \u0111\u1ebfn "),t.qZA()()()}if(2&o){const e=t.oxw(5);t.xp6(1),t.Q6J("status","default")("data",e.areaOptions||t.DdM(10,x))("allowSearch",!0)("formControl",e.discountConditionForm.controls.startPointDetails)("maxHeight",230),t.xp6(5),t.Q6J("status","default")("data",e.areaOptions||t.DdM(11,x))("allowSearch",!0)("formControl",e.discountConditionForm.controls.endPointDetails)("maxHeight",230)}}function Fe(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",23)(1,"cf-radio-group",79),t.NdJ("checkChange",function(n){t.CHM(e);const u=t.oxw(4);return t.KtG(u.onChangeJourneyType(n))}),t.TgZ(2,"cf-radio",57),t._uU(3,"Theo s\xe2n bay"),t.qZA(),t.TgZ(4,"cf-radio",57),t._uU(5,"Theo qu\u1ed1c gia"),t.qZA(),t.TgZ(6,"cf-radio",57),t._uU(7,"Theo khu v\u1ef1c"),t.qZA()(),t.TgZ(8,"div",23),t.YNc(9,ve,9,16,"div",58),t.YNc(10,ye,9,12,"div",58),t.YNc(11,De,9,12,"div",58),t.TgZ(12,"div")(13,"cf-select",80)(14,"label",54),t._uU(15," Lo\u1ea1i ch\u1eb7ng bay "),t.qZA()()()()()}if(2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("formControl",e.discountConditionForm.controls.journeyType),t.xp6(1),t.Q6J("value",e.JOURNEY_TYPE.AIRPORT),t.xp6(2),t.Q6J("value",e.JOURNEY_TYPE.NATIONAL),t.xp6(2),t.Q6J("value",e.JOURNEY_TYPE.AREA),t.xp6(3),t.Q6J("ngIf",e.journeyType===e.JOURNEY_TYPE.AIRPORT),t.xp6(1),t.Q6J("ngIf",e.journeyType===e.JOURNEY_TYPE.NATIONAL),t.xp6(1),t.Q6J("ngIf",e.journeyType===e.JOURNEY_TYPE.AREA),t.xp6(2),t.Q6J("status","default")("data",e.classifyListInternational)("allowSearch",!1)("formControl",e.discountConditionForm.controls.journeyClassify)}}function xe(o,s){if(1&o&&(t.TgZ(0,"div")(1,"cf-input-group",59)(2,"label",54),t._uU(3," T\u1ed5ng s\u1ed1 h\xe0nh kh\xe1ch t\u1ed1i thi\u1ec3u "),t.qZA(),t._UZ(4,"input",83),t.qZA()()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("status","default"),t.xp6(3),t.Q6J("formControl",e.discountConditionForm.controls.totalPax)}}function Ae(o,s){if(1&o&&(t.TgZ(0,"div",11)(1,"cf-input-group",59)(2,"label",54)(3,"span",84),t._uU(4,"Ng\u01b0\u1eddi l\u1edbn (ADT)"),t.qZA()(),t._UZ(5,"input",85),t.qZA(),t.TgZ(6,"cf-input-group",59)(7,"label",54)(8,"span",84),t._uU(9,"Tr\u1ebb em (CHD)"),t.qZA()(),t._UZ(10,"input",85),t.qZA(),t.TgZ(11,"cf-input-group",59)(12,"label",54)(13,"span",84),t._uU(14,"Em b\xe9 (IFN)"),t.qZA()(),t._UZ(15,"input",85),t.qZA()()),2&o){const e=t.oxw(4);t.xp6(1),t.Q6J("status","default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("formControl",e.discountConditionForm.controls.adtNum),t.xp6(1),t.Q6J("status","default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("formControl",e.discountConditionForm.controls.chdNum),t.xp6(1),t.Q6J("status","default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("formControl",e.discountConditionForm.controls.infNum)}}function Ze(o,s){if(1&o&&t._UZ(0,"cf-input-hint",74),2&o){const e=t.oxw(4);t.Q6J("hint",e.errorMessage.startTimeIssue)}}function Ne(o,s){1&o&&t._UZ(0,"cf-input-hint",74),2&o&&t.Q6J("hint","Th\u1eddi gian xu\u1ea5t v\xe9 ph\u1ea3i b\u1eaft \u0111\u1ea7u t\u1eeb h\xf4m nay")}function Pe(o,s){if(1&o&&t._UZ(0,"cf-input-hint",74),2&o){const e=t.oxw(4);t.Q6J("hint",e.errorMessage.endTimeIssue)}}function qe(o,s){1&o&&(t.TgZ(0,"div",86),t._uU(1," T\xf9y ch\u1ec9nh th\u1eddi gian lo\u1ea1i tr\u1eeb "),t.qZA())}function be(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",13)(1,"cf-input-group",59),t._UZ(2,"cf-icon",37),t.TgZ(3,"label",60),t._uU(4," Lo\u1ea1i tr\u1eeb t\u1eeb ng\xe0y "),t.qZA(),t.TgZ(5,"input",87,62),t.NdJ("input",function(){t.CHM(e);const n=t.MAs(6);return t.KtG(n.close())})("dateSelect",function(){t.CHM(e);const n=t.MAs(6);return t.KtG(n.close())}),t.qZA()(),t.TgZ(7,"cf-input-group",59),t._UZ(8,"cf-icon",37),t.TgZ(9,"label",60),t._uU(10," Lo\u1ea1i tr\u1eeb \u0111\u1ebfn ng\xe0y "),t.qZA(),t.TgZ(11,"input",87,62),t.NdJ("input",function(){t.CHM(e);const n=t.MAs(6);return t.KtG(n.close())})("dateSelect",function(){t.CHM(e);const n=t.MAs(6);return t.KtG(n.close())}),t.qZA()(),t.TgZ(13,"div",88),t.NdJ("click",function(){const u=t.CHM(e).index,a=t.oxw(4);return t.KtG(a.onRemoveTimeIssue(u))}),t._UZ(14,"cf-icon",89),t.qZA()()}if(2&o){const e=s.$implicit;t.xp6(1),t.Q6J("status",null!=e.controls&&e.controls.exceptStart.invalid&&(null!=e.controls&&e.controls.exceptStart.dirty||null!=e.controls&&e.controls.exceptStart.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("secondaryCalendar","lunar")("displayMonths",1)("formControl",null==e.controls?null:e.controls.exceptStart),t.xp6(2),t.Q6J("status",null!=e.controls&&e.controls.exceptEnd.invalid&&(null!=e.controls&&e.controls.exceptEnd.dirty||null!=e.controls&&e.controls.exceptEnd.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("secondaryCalendar","lunar")("displayMonths",1)("formControl",null==e.controls?null:e.controls.exceptEnd)}}function Ie(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",90)(1,"a",91),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(4);return t.KtG(n.onAddTimeIssue())}),t._uU(2," Th\xeam th\u1eddi gian lo\u1ea1i tr\u1eeb "),t.qZA()()}}function Me(o,s){1&o&&(t.TgZ(0,"div",86),t._uU(1," T\xf9y ch\u1ec9nh th\u1eddi gian lo\u1ea1i tr\u1eeb "),t.qZA())}function Se(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",13)(1,"cf-input-group",59),t._UZ(2,"cf-icon",37),t.TgZ(3,"label",60),t._uU(4," Lo\u1ea1i tr\u1eeb t\u1eeb ng\xe0y "),t.qZA(),t.TgZ(5,"input",87,62),t.NdJ("input",function(){t.CHM(e);const n=t.MAs(6);return t.KtG(n.close())})("dateSelect",function(){t.CHM(e);const n=t.MAs(6);return t.KtG(n.close())}),t.qZA()(),t.TgZ(7,"cf-input-group",59),t._UZ(8,"cf-icon",37),t.TgZ(9,"label",60),t._uU(10," Lo\u1ea1i tr\u1eeb \u0111\u1ebfn ng\xe0y "),t.qZA(),t.TgZ(11,"input",87,62),t.NdJ("input",function(){t.CHM(e);const n=t.MAs(6);return t.KtG(n.close())})("dateSelect",function(){t.CHM(e);const n=t.MAs(6);return t.KtG(n.close())}),t.qZA()(),t.TgZ(13,"div",88),t.NdJ("click",function(){const u=t.CHM(e).index,a=t.oxw(4);return t.KtG(a.onRemoveTimeFly(u))}),t._UZ(14,"cf-icon",89),t.qZA()()}if(2&o){const e=s.$implicit;t.xp6(1),t.Q6J("status",null!=e.controls&&e.controls.exceptStart.invalid&&(null!=e.controls&&e.controls.exceptStart.dirty||null!=e.controls&&e.controls.exceptStart.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("secondaryCalendar","lunar")("displayMonths",1)("formControl",null==e.controls?null:e.controls.exceptStart),t.xp6(2),t.Q6J("status",null!=e.controls&&e.controls.exceptEnd.invalid&&(null!=e.controls&&e.controls.exceptEnd.dirty||null!=e.controls&&e.controls.exceptEnd.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("secondaryCalendar","lunar")("displayMonths",1)("formControl",null==e.controls?null:e.controls.exceptEnd)}}function Je(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",90)(1,"a",91),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(4);return t.KtG(n.onAddTimeFly())}),t._uU(2," Th\xeam th\u1eddi gian lo\u1ea1i tr\u1eeb "),t.qZA()()}}function Ue(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",19)(2,"div",20)(3,"div",21),t._uU(4," \u0110i\u1ec1u ki\u1ec7n h\xe3ng bay "),t.qZA(),t.TgZ(5,"div",22),t._uU(6," H\xe3ng bay khai th\xe1c v\xe0 h\u1ea1ng gh\u1ebf "),t.qZA()(),t.TgZ(7,"div",23)(8,"cf-select",50),t.NdJ("selectedChange",function(n){t.CHM(e);const u=t.oxw(3);return t.KtG(u.onSelectedAirline(n.code))}),t.TgZ(9,"label",51),t._uU(10," H\xe3ng bay "),t.qZA(),t.YNc(11,Ee,1,1,"cf-input-hint",52),t.qZA(),t.TgZ(12,"cf-multi-select",53)(13,"label",54),t._uU(14," H\u1ea1ng \u0111\u1eb7t ch\u1ed7 "),t.qZA()()()(),t.TgZ(15,"div",19)(16,"div",20)(17,"div",21),t._uU(18," \u0110i\u1ec1u ki\u1ec7n h\xe0nh tr\xecnh "),t.qZA(),t.TgZ(19,"div",22),t._uU(20," H\xe0nh tr\xecnh bay \xe1p d\u1ee5ng, ch\u1ec9 \xe1p d\u1ee5ng cho h\xe0nh tr\xecnh m\u1ed9t chi\u1ec1u "),t.qZA()(),t.TgZ(21,"div",27)(22,"div",28)(23,"div",55),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.onSwitcJourney(n.FLIGHT_TYPE.DOMESTIC))}),t.TgZ(24,"span"),t._uU(25,"Qu\u1ed1c n\u1ed9i"),t.qZA()(),t.TgZ(26,"div",55),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(3);return t.KtG(n.onSwitcJourney(n.FLIGHT_TYPE.INTERNATIONAL))}),t.TgZ(27,"span"),t._uU(28,"Qu\u1ed1c t\u1ebf"),t.qZA()()(),t.YNc(29,Te,14,20,"div",30),t.YNc(30,Fe,16,11,"div",30),t.qZA()(),t.TgZ(31,"div",19)(32,"div",20)(33,"div",21),t._uU(34," \u0110i\u1ec1u ki\u1ec7n h\xe0nh kh\xe1ch "),t.qZA(),t.TgZ(35,"div",22),t._uU(36," Y\xeau c\u1ea7u v\u1ec1 s\u1ed1 l\u01b0\u1ee3ng h\xe0nh kh\xe1ch t\u1ed1i thi\u1ec3u "),t.qZA()(),t.TgZ(37,"div",23)(38,"cf-radio-group",56),t.NdJ("checkChange",function(n){t.CHM(e);const u=t.oxw(3);return t.KtG(u.onChangePaxType(n))})("ngModelChange",function(n){t.CHM(e);const u=t.oxw(3);return t.KtG(u.paxType=n)}),t.TgZ(39,"cf-radio",57),t._uU(40,"T\u1ed5ng h\xe0nh kh\xe1ch"),t.qZA(),t.TgZ(41,"cf-radio",57),t._uU(42,"T\u1eebng \u0111\u1ed1i t\u01b0\u1ee3ng h\xe0nh kh\xe1ch"),t.qZA()(),t.YNc(43,xe,5,2,"div",4),t.YNc(44,Ae,16,9,"div",58),t.qZA()(),t.TgZ(45,"div",34)(46,"div",35)(47,"div",21),t._uU(48," Th\u1eddi gian xu\u1ea5t v\xe9 "),t.qZA(),t.TgZ(49,"div",22),t._uU(50," Th\u1eddi gian xu\u1ea5t v\xe9 \xe1p d\u1ee5ng chi\u1ebft kh\u1ea5u, c\xf3 th\u1ec3 bao g\u1ed3m th\u1eddi gian lo\u1ea1i tr\u1eeb "),t.qZA()(),t.TgZ(51,"div",23)(52,"div",11)(53,"cf-input-group",59),t._UZ(54,"cf-icon",37),t.TgZ(55,"label",60),t._uU(56," T\u1eeb ng\xe0y "),t.qZA(),t.TgZ(57,"input",61,62),t.NdJ("input",function(){t.CHM(e);const n=t.MAs(58);return t.KtG(n.close())})("dateSelect",function(){t.CHM(e);const n=t.MAs(58);return t.KtG(n.close())}),t.qZA(),t.YNc(59,Ze,1,1,"cf-input-hint",52),t.YNc(60,Ne,1,1,"cf-input-hint",52),t.qZA(),t.TgZ(61,"cf-input-group",59),t._UZ(62,"cf-icon",37),t.TgZ(63,"label",60),t._uU(64," \u0110\u1ebfn ng\xe0y "),t.qZA(),t.TgZ(65,"input",61,62),t.NdJ("input",function(){t.CHM(e);const n=t.MAs(58);return t.KtG(n.close())})("dateSelect",function(){t.CHM(e);const n=t.MAs(58);return t.KtG(n.close())}),t.qZA(),t.YNc(67,Pe,1,1,"cf-input-hint",52),t.qZA()()(),t.TgZ(68,"cf-collapse",63)(69,"cf-collapse-panel",64),t.YNc(70,qe,2,0,"ng-template",null,65,t.W1O),t.TgZ(72,"div",27)(73,"div",66)(74,"div",67)(75,"span",68),t._uU(76,"L\u01b0u \xfd khi t\xf9y ch\u1ec9nh th\u1eddi gian lo\u1ea1i tr\u1eeb"),t.qZA()(),t.TgZ(77,"div",69)(78,"div"),t._uU(79," Th\u1eddi gian lo\u1ea1i tr\u1eeb ph\u1ea3i x\u1ea3y ra trong kho\u1ea3ng th\u1eddi gian \xe1p d\u1ee5ng ch\u01b0\u01a1ng tr\xecnh. "),t.qZA(),t.TgZ(80,"div"),t._uU(81," T\u1ed5ng s\u1ed1 ng\xe0y c\u1ee7a th\u1eddi gian lo\u1ea1i tr\u1eeb ph\u1ea3i nh\u1ecf h\u01a1n t\u1ed5ng s\u1ed1 ng\xe0y c\u1ee7a th\u1eddi gian \xe1p d\u1ee5ng ch\u01b0\u01a1ng tr\xecnh. "),t.qZA()()(),t.TgZ(82,"div",70)(83,"div",23),t.YNc(84,be,15,10,"div",71),t.qZA(),t.YNc(85,Ie,3,0,"div",72),t.qZA()()()()(),t.TgZ(86,"div",34)(87,"div",35)(88,"div",21),t._uU(89," Th\u1eddi gian bay "),t.qZA(),t.TgZ(90,"div",22),t._uU(91," Th\u1eddi gian bay \xe1p d\u1ee5ng chi\u1ebft kh\u1ea5u, c\xf3 th\u1ec3 bao g\u1ed3m th\u1eddi gian lo\u1ea1i tr\u1eeb "),t.qZA()(),t.TgZ(92,"div",23)(93,"div",11)(94,"cf-input-group",59),t._UZ(95,"cf-icon",37),t.TgZ(96,"label",38),t._uU(97," T\u1eeb ng\xe0y "),t.qZA(),t.TgZ(98,"input",73,62),t.NdJ("input",function(){t.CHM(e);const n=t.MAs(58);return t.KtG(n.close())})("dateSelect",function(){t.CHM(e);const n=t.MAs(58);return t.KtG(n.close())}),t.qZA()(),t.TgZ(100,"cf-input-group",59),t._UZ(101,"cf-icon",37),t.TgZ(102,"label",38),t._uU(103," \u0110\u1ebfn ng\xe0y "),t.qZA(),t.TgZ(104,"input",73,62),t.NdJ("input",function(){t.CHM(e);const n=t.MAs(58);return t.KtG(n.close())})("dateSelect",function(){t.CHM(e);const n=t.MAs(58);return t.KtG(n.close())}),t.qZA()()()(),t.TgZ(106,"cf-collapse",63)(107,"cf-collapse-panel",64),t.YNc(108,Me,2,0,"ng-template",null,65,t.W1O),t.TgZ(110,"div",27)(111,"div",66)(112,"div",67)(113,"span",68),t._uU(114,"L\u01b0u \xfd khi t\xf9y ch\u1ec9nh th\u1eddi gian lo\u1ea1i tr\u1eeb"),t.qZA()(),t.TgZ(115,"div",69)(116,"div"),t._uU(117," Th\u1eddi gian lo\u1ea1i tr\u1eeb ph\u1ea3i x\u1ea3y ra trong kho\u1ea3ng th\u1eddi gian \xe1p d\u1ee5ng ch\u01b0\u01a1ng tr\xecnh. "),t.qZA(),t.TgZ(118,"div"),t._uU(119," T\u1ed5ng s\u1ed1 ng\xe0y c\u1ee7a th\u1eddi gian lo\u1ea1i tr\u1eeb ph\u1ea3i nh\u1ecf h\u01a1n t\u1ed5ng s\u1ed1 ng\xe0y c\u1ee7a th\u1eddi gian \xe1p d\u1ee5ng ch\u01b0\u01a1ng tr\xecnh. "),t.qZA()()(),t.TgZ(120,"div",70)(121,"div",23),t.YNc(122,Se,15,10,"div",71),t.qZA(),t.YNc(123,Je,3,0,"div",72),t.qZA()()()()()()}if(2&o){const e=t.MAs(71),i=t.oxw(3);t.xp6(8),t.Q6J("status",i.discountConditionForm.controls.airline.invalid&&(i.discountConditionForm.controls.airline.dirty||i.discountConditionForm.controls.airline.touched)?"error":"default")("data",i.airlineOptions)("allowSearch",!1)("formControl",i.discountConditionForm.controls.airline),t.xp6(1),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("ngIf",i.discountConditionForm.controls.airline.hasError("required")&&(i.discountConditionForm.controls.airline.touched||i.discountConditionForm.controls.airline.dirty)),t.xp6(1),t.Q6J("status","default")("data",i.fareClassOptions||t.DdM(52,x))("allowSearch",!0)("placeholder",i.discountConditionForm.controls.fareClass?"Ch\u1ecdn c\xe1c h\u1ea1ng \u0111\u1eb7t ch\u1ed7":"Ch\u1ecdn c\xe1c h\u1ea1ng \u0111\u1eb7t ch\u1ed7 ho\u1eb7c b\u1ecf tr\u1ed1ng cho t\u1ea5t c\u1ea3 h\u1ea1ng")("formControl",i.discountConditionForm.controls.fareClass)("maxHeight",230),t.xp6(11),t.Q6J("ngClass",t.VKq(53,j,i.flightType===i.FLIGHT_TYPE.DOMESTIC)),t.xp6(3),t.Q6J("ngClass",t.VKq(55,j,i.flightType===i.FLIGHT_TYPE.INTERNATIONAL)),t.xp6(3),t.Q6J("ngIf",i.flightType===i.FLIGHT_TYPE.DOMESTIC),t.xp6(1),t.Q6J("ngIf",i.flightType===i.FLIGHT_TYPE.INTERNATIONAL),t.xp6(8),t.Q6J("ngModel",i.paxType),t.xp6(1),t.Q6J("value",i.PAX_TYPE.TOTAL_PAX),t.xp6(2),t.Q6J("value",i.PAX_TYPE.SINGLE_PAX),t.xp6(2),t.Q6J("ngIf",i.paxType===i.PAX_TYPE.TOTAL_PAX),t.xp6(1),t.Q6J("ngIf",i.paxType===i.PAX_TYPE.SINGLE_PAX),t.xp6(9),t.Q6J("status",i.discountConditionForm.controls.startTimeIssue.invalid&&(i.discountConditionForm.controls.startTimeIssue.dirty||i.discountConditionForm.controls.startTimeIssue.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("minDate",i.currentDate)("secondaryCalendar","lunar")("displayMonths",1)("formControl",i.discountConditionForm.controls.startTimeIssue),t.xp6(2),t.Q6J("ngIf",i.discountConditionForm.controls.startTimeIssue.hasError("required")&&(i.discountConditionForm.controls.startTimeIssue.touched||i.discountConditionForm.controls.startTimeIssue.dirty)),t.xp6(1),t.Q6J("ngIf",i.discountConditionForm.controls.startTimeIssue.hasError("ngbDate")&&(i.discountConditionForm.controls.startTimeIssue.touched||i.discountConditionForm.controls.startTimeIssue.dirty)),t.xp6(1),t.Q6J("status",i.discountConditionForm.controls.endTimeIssue.invalid&&(i.discountConditionForm.controls.endTimeIssue.dirty||i.discountConditionForm.controls.endTimeIssue.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("minDate",i.currentDate)("secondaryCalendar","lunar")("displayMonths",1)("formControl",i.discountConditionForm.controls.endTimeIssue),t.xp6(2),t.Q6J("ngIf",i.discountConditionForm.controls.endTimeIssue.hasError("required")&&(i.discountConditionForm.controls.endTimeIssue.touched||i.discountConditionForm.controls.endTimeIssue.dirty)),t.xp6(2),t.Q6J("title",e)("active",i.listTimeIssueCustom.length),t.xp6(15),t.Q6J("ngForOf",i.listTimeIssueCustom.controls),t.xp6(1),t.Q6J("ngIf",i.listTimeIssueCustom.length<3),t.xp6(9),t.Q6J("status","default"),t.xp6(4),t.Q6J("secondaryCalendar","lunar")("displayMonths",1)("formControl",i.discountConditionForm.controls.startTimeFly),t.xp6(2),t.Q6J("status","default"),t.xp6(4),t.Q6J("secondaryCalendar","lunar")("displayMonths",1)("formControl",i.discountConditionForm.controls.endTimeFly),t.xp6(3),t.Q6J("title",e)("active",i.listTimeFlyCustom.length),t.xp6(15),t.Q6J("ngForOf",i.listTimeFlyCustom.controls),t.xp6(1),t.Q6J("ngIf",i.listTimeFlyCustom.length<3)}}function we(o,s){if(1&o&&(t.TgZ(0,"div",6)(1,"div",19)(2,"div",20)(3,"div",21),t._uU(4," M\u1ee9c chi\u1ebft kh\u1ea5u \u0111\u1ea7u v\xe0o "),t.qZA(),t.TgZ(5,"div",22),t._uU(6," M\u1ee9c chi\u1ebft kh\u1ea5u g\u1ed1c h\xe3ng chia cho \u0111\u1ea1i l\xfd F1 "),t.qZA()(),t.TgZ(7,"div",11)(8,"cf-input-group",59)(9,"label",51),t._uU(10," Chi\u1ebft kh\u1ea5u g\u1ed1c t\u1eeb h\xe3ng "),t.qZA(),t._UZ(11,"cf-input-number",92),t.qZA(),t.TgZ(12,"cf-select",93)(13,"label",51),t._uU(14," Lo\u1ea1i ti\u1ec1n "),t.qZA()()()(),t.TgZ(15,"div",19)(16,"div",20)(17,"div",21),t._uU(18," M\u1ee9c chi\u1ebft kh\u1ea5u \u0111\u1ea7u ra "),t.qZA(),t.TgZ(19,"div",22),t._uU(20," C\xe1c m\u1ee9c chi\u1ebft kh\u1ea5u \xe1p d\u1ee5ng chi tr\u1ea3 cho \u0111\u1ea1i l\xfd F2 l\u1ea5y t\u1eeb chi\u1ebft kh\u1ea5u \u0111\u1ea7u v\xe0o "),t.qZA()(),t.TgZ(21,"div",46)(22,"div",23)(23,"div",47),t._uU(24,"N\u1ebfu thanh to\xe1n ngay cho \u0111\u1ea1i l\xfd"),t.qZA(),t.TgZ(25,"div",48)(26,"cf-input-group",59)(27,"label",54)(28,"span",84),t._uU(29,"Chi\u1ebft kh\u1ea5u khi d\u01b0\u01a1ng qu\u1ef9"),t.qZA()(),t._UZ(30,"cf-input-number",92),t.qZA(),t.TgZ(31,"cf-input-group",59)(32,"label",54)(33,"span",84),t._uU(34,"Chi\u1ebft kh\u1ea5u khi \xe2m qu\u1ef9"),t.qZA()(),t._UZ(35,"cf-input-number",92),t.qZA()()(),t.TgZ(36,"div",23)(37,"div",47),t._uU(38,"N\u1ebfu thanh to\xe1n sau cho \u0111\u1ea1i l\xfd"),t.qZA(),t.TgZ(39,"div",48)(40,"cf-input-group",59)(41,"label",54)(42,"span",84),t._uU(43,"Chi\u1ebft kh\u1ea5u khi d\u01b0\u01a1ng qu\u1ef9"),t.qZA()(),t._UZ(44,"cf-input-number",92),t.qZA(),t.TgZ(45,"cf-input-group",59)(46,"label",54)(47,"span",84),t._uU(48,"Chi\u1ebft kh\u1ea5u khi \xe2m qu\u1ef9"),t.qZA()(),t._UZ(49,"cf-input-number",92),t.qZA()()()()(),t.TgZ(50,"div",19)(51,"div",20)(52,"div",49),t._uU(53," M\u1ee9c chi\u1ebft kh\u1ea5u d\xe0nh cho CodeShare "),t.qZA(),t.TgZ(54,"div",22),t._uU(55," Ph\u1ea7n tr\u0103m chi\u1ebft kh\u1ea5u cho c\xe1c chuy\u1ebfn bay codeshare so v\u1edbi chi\u1ebft kh\u1ea5u \u0111\u1ea7y \u0111\u1ee7 "),t.qZA()(),t.TgZ(56,"div",27)(57,"cf-input-group",59),t._UZ(58,"input",94),t.qZA()()(),t.TgZ(59,"div",19)(60,"div",20)(61,"div",21),t._uU(62," Nh\xf3m \u0111\u1ea1i l\xfd "),t.qZA(),t.TgZ(63,"div",22),t._uU(64," C\xe1c \u0111\u1ea1i l\xfd thu\u1ed9c nh\xf3m n\xe0y s\u1ebd \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng m\u1ee9c chi\u1ebft kh\u1ea5u "),t.qZA()(),t.TgZ(65,"div",27),t._UZ(66,"cf-select",95),t.qZA()()()),2&o){const e=t.oxw(3);t.xp6(8),t.Q6J("status",e.discountApplyForm.controls.amountFromAirline.invalid&&(e.discountApplyForm.controls.amountFromAirline.dirty||e.discountApplyForm.controls.amountFromAirline.touched)?"error":"default"),t.xp6(1),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("placeholder","Nh\u1eadp s\u1ed1 ti\u1ec1n")("formControl",e.discountApplyForm.controls.amountFromAirline),t.xp6(1),t.Q6J("status",e.discountApplyForm.controls.currencyCode.invalid&&(e.discountApplyForm.controls.currencyCode.dirty||e.discountApplyForm.controls.currencyCode.touched)?"error":"default")("data",e.currencyOptions)("allowSearch",!1)("formControl",e.discountApplyForm.controls.currencyCode),t.xp6(1),t.Q6J("CfRequired",!0),t.xp6(13),t.Q6J("status",e.discountApplyForm.controls.amountNowPositive.invalid&&(e.discountApplyForm.controls.amountNowPositive.dirty||e.discountApplyForm.controls.amountNowPositive.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("placeholder","Nh\u1eadp m\u1ee9c chi\u1ebft kh\u1ea5u n\u1ebfu \u0111\u1ea1i l\xfd d\u01b0\u01a1ng qu\u1ef9")("formControl",e.discountApplyForm.controls.amountNowPositive),t.xp6(1),t.Q6J("status",e.discountApplyForm.controls.amountNowNegative.invalid&&(e.discountApplyForm.controls.amountNowNegative.dirty||e.discountApplyForm.controls.amountNowNegative.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("placeholder","Nh\u1eadp m\u1ee9c chi\u1ebft kh\u1ea5u n\u1ebfu \u0111\u1ea1i l\xfd \xe2m qu\u1ef9")("formControl",e.discountApplyForm.controls.amountNowNegative),t.xp6(5),t.Q6J("status",e.discountApplyForm.controls.amountLaterPositive.invalid&&(e.discountApplyForm.controls.amountLaterPositive.dirty||e.discountApplyForm.controls.amountLaterPositive.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("placeholder","Nh\u1eadp m\u1ee9c chi\u1ebft kh\u1ea5u n\u1ebfu \u0111\u1ea1i l\xfd d\u01b0\u01a1ng qu\u1ef9")("formControl",e.discountApplyForm.controls.amountLaterPositive),t.xp6(1),t.Q6J("status",e.discountApplyForm.controls.amountLaterNegative.invalid&&(e.discountApplyForm.controls.amountLaterNegative.dirty||e.discountApplyForm.controls.amountLaterNegative.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("placeholder","Nh\u1eadp m\u1ee9c chi\u1ebft kh\u1ea5u n\u1ebfu \u0111\u1ea1i l\xfd \xe2m qu\u1ef9")("formControl",e.discountApplyForm.controls.amountLaterNegative),t.xp6(3),t.Q6J("CfRequired",!0),t.xp6(5),t.Q6J("status",e.discountApplyForm.controls.codeSharePercent.invalid&&(e.discountApplyForm.controls.codeSharePercent.dirty||e.discountApplyForm.controls.codeSharePercent.touched)?"error":"default"),t.xp6(1),t.Q6J("formControl",e.discountApplyForm.controls.codeSharePercent),t.xp6(8),t.Q6J("status","default")("data",e.agentGroupOptions)("allowSearch",!1)("formControl",e.discountApplyForm.controls.groupAgId)}}function ke(o,s){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Ue,124,57,"div",2),t.YNc(2,we,67,32,"div",2),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf","DISCOUNT_CONDITION"===e.viewMode),t.xp6(1),t.Q6J("ngIf","DISCOUNT_APPLY"===e.viewMode)}}const st=function(o){return{"!bg-secondary-3-5 !border-none !text-neutral-white":o}};function Le(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"div")(3,"button",8),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onBackToList())}),t._UZ(4,"cf-icon",9),t._uU(5," Quay l\u1ea1i t\xecm ki\u1ebfm "),t.qZA()(),t.YNc(6,oe,7,0,"div",10),t.YNc(7,ue,7,0,"div",10),t.qZA(),t.TgZ(8,"div",11)(9,"div",12),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onChangeMode("DISCOUNT_CONDITION"))}),t._uU(10," \u0110i\u1ec1u ki\u1ec7n chi\u1ebft kh\u1ea5u "),t.qZA(),t.TgZ(11,"div",12),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onChangeMode("DISCOUNT_APPLY"))}),t._uU(12," C\xe1ch t\xednh chi\u1ebft kh\u1ea5u "),t.qZA()(),t.YNc(13,Ce,3,2,"div",4),t.YNc(14,ke,3,2,"div",4),t.qZA()}if(2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngIf",!e.isEdit),t.xp6(1),t.Q6J("ngIf",e.isEdit),t.xp6(2),t.Q6J("ngClass",t.VKq(6,st,"DISCOUNT_CONDITION"===e.viewMode)),t.xp6(2),t.Q6J("ngClass",t.VKq(8,st,"DISCOUNT_APPLY"===e.viewMode)),t.xp6(2),t.Q6J("ngIf",!e.isEdit),t.xp6(1),t.Q6J("ngIf",e.isEdit)}}function Qe(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",96),t._UZ(1,"img",97),t.TgZ(2,"div",98)(3,"div",99),t._uU(4),t.qZA(),t.TgZ(5,"div",100),t._uU(6),t.qZA()(),t.TgZ(7,"div",101)(8,"button",102),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onBackToList())}),t._uU(9," Xem danh s\xe1ch "),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(4),t.hij(" ",e.titleText," "),t.xp6(2),t.hij(" ",e.bodyText,". B\u1ea1n c\xf3 th\u1ec3 t\u1ea1o m\u1edbi ho\u1eb7c tr\u1edf v\u1ec1 m\xe0n h\xecnh danh s\xe1ch. ")}}function Be(o,s){if(1&o&&(t.TgZ(0,"div",96),t._UZ(1,"img",103),t.TgZ(2,"div",98)(3,"div",99),t._uU(4),t.qZA(),t.TgZ(5,"div",100),t._uU(6),t.qZA()(),t._UZ(7,"div",101),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.hij(" ",e.titleText," "),t.xp6(2),t.hij(" ",e.bodyText," Vui l\xf2ng th\u1eed l\u1ea1i ho\u1eb7c t\u1ea1o quy \u0111\u1ecbnh chi\u1ebft kh\u1ea5u m\u1edbi! ")}}function Oe(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"div",96),t._UZ(1,"img",103),t.TgZ(2,"div",98)(3,"div",99),t._uU(4),t.qZA(),t.TgZ(5,"div",100),t._uU(6),t.qZA()(),t.TgZ(7,"div",101)(8,"button",102),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onBackToList())}),t._uU(9," Xem danh s\xe1ch "),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(4),t.hij(" ",e.titleText," "),t.xp6(2),t.hij(" ",e.bodyText," ")}}function He(o,s){1&o&&t._UZ(0,"cf-spinner")}function Ye(o,s){if(1&o&&(t.TgZ(0,"div",104),t._UZ(1,"div",105),t.ALo(2,"highlighter"),t._UZ(3,"div",106),t.ALo(4,"highlighter"),t.qZA()),2&o){const e=s.item,i=s.search;t.xp6(1),t.Q6J("innerHtml",t.xi3(2,2,e.city+", "+e.nationalName,i.text),t.oJD),t.xp6(2),t.Q6J("innerHtml",t.xi3(4,5,e.code+" - "+e.name,i.text),t.oJD)}}let je=(()=>{class o{constructor(e,i,n,u,a,f,h,p,Z){this._fb=u,this._modal=a,this._discountFeeService=f,this._toastService=h,this._route=p,this._cd=Z,this.FLIGHT_TYPE=U,this.JOURNEY_TYPE=w,this.PAX_TYPE=k,this.flightType=U.DOMESTIC,this.journeyType=w.AIRPORT,this.paxType=k.TOTAL_PAX,this.airportOptions=[],this.errorMessage={airline:"H\xe3ng bay kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",startTimeIssue:"Th\u1eddi gian xu\u1ea5t v\xe9 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",endTimeIssue:"Th\u1eddi gian xu\u1ea5t v\xe9 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"},this.classifyListDomestic=[],this.classifyListInternational=[],this.countryOptions=[],this.areaOptions=[],this.airlineOptions=[],this.airportDomesticOptions=[],this.airportInternationalOptions=[],this.currencyOptions=[],this.agentGroupOptions=[],this.fareClassOptions=[],this.viewMode="DISCOUNT_CONDITION",this.isEdit=!1,this.isLoading=!1,this.step="DISCOUNT",this.disabledFareClass=!0,this.fareClassQH=[],this.fareClassVJ=[],this.fareClassVN=[],this.currentDate=i.getToday(),e.registerIcons([E.HTW,E.Hge,E.rJw,E.oFb,E.P5K,E._tC]),this.discountFeeId=n.snapshot.params.id,this.getDiscountFeeInfo()}ngOnInit(){this.initFormGroup()}initFormGroup(){this.discountConditionForm=this._fb.group({airline:[null,d.kI.required],fareClass:[null],flightType:[this.flightType],journeyType:[this.journeyType],startPointDetails:[null],endPointDetails:[null],journeyClassify:[null],paxType:[this.paxType],totalPax:[0],adtNum:[0],chdNum:[0],infNum:[0],startTimeIssue:[null,d.kI.required],endTimeIssue:[null,d.kI.required],timeIssueCustom:this._fb.array([]),startTimeFly:[null],endTimeFly:[null],timeFlyCustom:this._fb.array([])}),this.discountApplyForm=this._fb.group({amountFromAirline:[0,d.kI.required],currencyCode:["VND",d.kI.required],amountNowPositive:[0,d.kI.required],amountNowNegative:[0,d.kI.required],amountLaterPositive:[0,d.kI.required],amountLaterNegative:[0,d.kI.required],codeSharePercent:[0,d.kI.required],groupAgId:[null]})}getDiscountFeeInfo(){this.isLoading=!0,this._discountFeeService.getDiscountFeeInfoConfig().subscribe({next:e=>{var i,n,u,a,f,h,p,Z,P,D,v,_;e.success&&e.data&&(this.airlineOptions=(null===(i=e.data.airlineList)||void 0===i?void 0:i.map(c=>({code:c.code,name:c.name})))||[],this.classifyListDomestic=(null===(n=e.data.classifyListDomestic)||void 0===n?void 0:n.map(c=>({code:c.code,name:c.name})))||[],this.classifyListInternational=(null===(u=e.data.classifyListInternational)||void 0===u?void 0:u.map(c=>({code:c.code,name:c.name})))||[],this.airportDomesticOptions=(null===(a=e.data.airportDomesticInfoList)||void 0===a?void 0:a.map(c=>({code:c.code,name:c.name,city:c.city,nationalName:c.nationalName,displayName:`${c.code} - ${c.city}`})))||[],this.airportInternationalOptions=(null===(f=e.data.airportInfoList)||void 0===f?void 0:f.map(c=>({code:c.code,name:c.name,city:c.city,nationalName:c.nationalName,displayName:`${c.code} - ${c.city}`})))||[],this.countryOptions=(null===(h=e.data.nationalInfoList)||void 0===h?void 0:h.map(c=>({code:c.code,name:c.name})))||[],this.areaOptions=(null===(p=e.data.areaInfoList)||void 0===p?void 0:p.map(c=>({code:c.code,name:c.name})))||[],this.currencyOptions=(null===(Z=e.data.currencyList)||void 0===Z?void 0:Z.map(c=>({code:c.code,name:c.name})))||[],this.agentGroupOptions=(null===(P=e.data.grpAgList)||void 0===P?void 0:P.map(c=>({code:c.id,name:c.name})))||[],this.fareClassQH=(null===(D=e.data.fareClassList)||void 0===D?void 0:D.fareClassQH.map(c=>({code:c.code,name:c.code})))||[],this.fareClassVJ=(null===(v=e.data.fareClassList)||void 0===v?void 0:v.fareClassVJ.map(c=>({code:c.code,name:c.code})))||[],this.fareClassVN=(null===(_=e.data.fareClassList)||void 0===_?void 0:_.fareClassVN.map(c=>({code:c.code,name:c.code})))||[],this.getDiscountFeeDetail())},error:()=>{this.isLoading=!1}})}onSelectedAirline(e){this.getFareClass(e),this.discountConditionForm.get("fareClass").setValue(null),this._cd.detectChanges()}getFareClass(e){switch(e){case"VN":this.fareClassOptions=this.fareClassVN;break;case"VJ":this.fareClassOptions=this.fareClassVJ;break;case"QH":this.fareClassOptions=this.fareClassQH;break;default:this.fareClassOptions=[]}}getDiscountFeeDetail(){this.isLoading=!0,this._discountFeeService.getDiscountFeeById(this.discountFeeId).pipe((0,S.x)(()=>this.isLoading=!1)).subscribe({next:e=>{var i,n,u,a,f,h;if(e.success&&e.data){switch(this.discountFeeDataSource=e.data,this.discountConditionDisplay={airline:null===(i=this.airlineOptions.find(p=>p.code===e.data.airline))||void 0===i?void 0:i.name,fareClass:"ALL"===e.data.fareClass[0]?"T\u1ea5t c\u1ea3 h\u1ea1ng \u0111\u1eb7t ch\u1ed7":e.data.fareClass.map(p=>p),flightType:e.data.flightType,journeyType:e.data.journeyType,startPointDetails:e.data.startPointDetails.map(p=>`${p.code} - ${p.city}`),endPointDetails:e.data.endPointDetails.map(p=>`${p.code} - ${p.city}`),paxType:e.data.paxType,totalPax:e.data.totalPax,adtNum:e.data.adtNum,chdNum:e.data.chdNum,infNum:e.data.infNum,startTimeIssue:e.data.startTimeIssue?(0,A.Z)(new Date(1e3*e.data.startTimeIssue),"dd/MM/yyyy"):"",endTimeIssue:e.data.endTimeIssue?(0,A.Z)(new Date(1e3*e.data.endTimeIssue),"dd/MM/yyyy"):"",timeIssueCustom:null===(n=e.data.timeIssueCustom)||void 0===n?void 0:n.map(p=>({exceptStart:p.exceptStart?(0,A.Z)(new Date(1e3*p.exceptStart),"dd/MM/yyyy"):"",exceptEnd:p.exceptEnd?(0,A.Z)(new Date(1e3*p.exceptEnd),"dd/MM/yyyy"):""})),startTimeFly:e.data.startTimeFly?(0,A.Z)(new Date(1e3*e.data.startTimeFly),"dd/MM/yyyy"):"",endTimeFly:e.data.endTimeFly?(0,A.Z)(new Date(1e3*e.data.endTimeFly),"dd/MM/yyyy"):"",timeFlyCustom:null===(u=e.data.timeFlyCustom)||void 0===u?void 0:u.map(p=>({exceptStart:p.exceptStart?(0,A.Z)(new Date(1e3*p.exceptStart),"dd/MM/yyyy"):"",exceptEnd:p.exceptEnd?(0,A.Z)(new Date(1e3*p.exceptEnd),"dd/MM/yyyy"):""}))},e.data.journeyClassify){case"LONG":this.discountConditionDisplay.journeyClassify="Ch\u1eb7ng d\xe0i";break;case"SHORT":this.discountConditionDisplay.journeyClassify="Ch\u1eb7ng ng\u1eafn";break;case"SOTO":this.discountConditionDisplay.journeyClassify="SOTO";break;case"SITI":this.discountConditionDisplay.journeyClassify="SITI";break;default:this.discountConditionDisplay.journeyClassify="T\u1ea5t c\u1ea3 lo\u1ea1i ch\u1eb7ng bay"}this.getFareClass(e.data.airline),this.flightType=e.data.flightType,this.discountApplyDisplay={amountFromAirline:e.data.amountFromAirline,currencyCode:e.data.currencyCode,amountNowPositive:e.data.amountNowPositive,amountNowNegative:e.data.amountNowNegative,amountLaterPositive:e.data.amountLaterPositive,amountLaterNegative:e.data.amountLaterNegative,codeSharePercent:e.data.codeSharePercent,groupAgId:(null===(a=this.agentGroupOptions.find(p=>p.code===e.data.groupAgId))||void 0===a?void 0:a.name)||"T\u1ea5t c\u1ea3"},this.airportOptions="DOMESTIC"===this.flightType?this.airportDomesticOptions:this.airportInternationalOptions,this.patchValueForm(),null===(f=e.data.timeIssueCustom)||void 0===f||f.forEach(p=>{this.listTimeIssueCustom.push(this._fb.group({exceptStart:[new Date(1e3*p.exceptStart),d.kI.required],exceptEnd:[new Date(1e3*p.exceptEnd),d.kI.required]}))}),null===(h=e.data.timeFlyCustom)||void 0===h||h.forEach(p=>{this.listTimeFlyCustom.push(this._fb.group({exceptStart:[new Date(1e3*p.exceptStart),d.kI.required],exceptEnd:[new Date(1e3*p.exceptEnd),d.kI.required]}))})}else this.titleText="C\xf3 l\u1ed7i x\u1ea3y ra",this.bodyText="L\u1ed7i kh\xf4ng t\xecm th\u1ea5y ph\xed chi\u1ebft kh\u1ea5u!",this.onChangeStep("NOT_FOUND")}})}patchValueForm(){const e={airline:this.discountFeeDataSource.airline,fareClass:this.discountFeeDataSource.fareClass.includes("ALL")?"":this.discountFeeDataSource.fareClass.map(n=>n),flightType:this.discountFeeDataSource.flightType,journeyType:this.discountFeeDataSource.journeyType,startPointDetails:this.discountFeeDataSource.startPointDetails.map(n=>n.code),endPointDetails:this.discountFeeDataSource.endPointDetails.map(n=>n.code),journeyClassify:this.discountFeeDataSource.journeyClassify,paxType:this.discountFeeDataSource.paxType,totalPax:this.discountFeeDataSource.totalPax,adtNum:this.discountFeeDataSource.adtNum,chdNum:this.discountFeeDataSource.chdNum,infNum:this.discountFeeDataSource.infNum,startTimeIssue:this.discountFeeDataSource.startTimeIssue?new Date(1e3*this.discountFeeDataSource.startTimeIssue):null,endTimeIssue:this.discountFeeDataSource.endTimeIssue?new Date(1e3*this.discountFeeDataSource.endTimeIssue):null,timeIssueCustom:this.discountFeeDataSource.timeIssueCustom,startTimeFly:this.discountFeeDataSource.startTimeFly?new Date(1e3*this.discountFeeDataSource.startTimeFly):null,endTimeFly:this.discountFeeDataSource.endTimeFly?new Date(1e3*this.discountFeeDataSource.endTimeFly):null,timeFlyCustom:this.discountFeeDataSource.timeFlyCustom};this.flightType=e.flightType,this.discountConditionForm.patchValue(e),this.discountApplyForm.patchValue({amountFromAirline:this.discountFeeDataSource.amountFromAirline,currencyCode:this.discountFeeDataSource.currencyCode,amountNowPositive:this.discountFeeDataSource.amountNowPositive,amountNowNegative:this.discountFeeDataSource.amountNowNegative,amountLaterPositive:this.discountFeeDataSource.amountLaterPositive,amountLaterNegative:this.discountFeeDataSource.amountLaterNegative,codeSharePercent:this.discountFeeDataSource.codeSharePercent,groupAgId:this.discountFeeDataSource.groupAgId||""})}get listTimeIssueCustom(){return this.discountConditionForm.get("timeIssueCustom")}onRemoveTimeIssue(e){this.listTimeIssueCustom.removeAt(e)}onAddTimeIssue(){this.listTimeIssueCustom.length<3&&this.listTimeIssueCustom.push(this.initTimeCustomGroup())}initTimeCustomGroup(){return this._fb.group({exceptStart:[null,d.kI.required],exceptEnd:[null,d.kI.required]})}get listTimeFlyCustom(){return this.discountConditionForm.get("timeFlyCustom")}onRemoveTimeFly(e){this.listTimeFlyCustom.removeAt(e)}onAddTimeFly(){this.listTimeFlyCustom.length<3&&this.listTimeFlyCustom.push(this.initTimeCustomGroup())}onSwitcJourney(e){this.flightType=e,this.discountConditionForm.get("startPointDetails").setValue(null),this.discountConditionForm.get("endPointDetails").setValue(null),this.airportOptions="DOMESTIC"===this.flightType?this.airportDomesticOptions:this.airportInternationalOptions}onSelectedChange(e,i){i||this.discountConditionForm.get(e).setValue(null)}onChangeJourneyType(e){this.journeyType=e,this.discountConditionForm.get("startPointDetails").setValue(null),this.discountConditionForm.get("endPointDetails").setValue(null)}onChangePaxType(e){this.paxType=e}onChangeMode(e){this.viewMode=e}onEdit(){this.patchValueForm(),this.isEdit=!0}onCancel(){this._modal.open(M.V0,{title:"H\u1ee7y b\u1ecf thay \u0111\u1ed5i",body:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n h\u1ee7y b\u1ecf thay \u0111\u1ed5i v\xe0 d\u1eebng vi\u1ec7c ch\u1ec9nh s\u1eeda? H\xe0nh \u0111\u1ed9ng n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c.",okText:"Kh\xf4ng, ti\u1ebfp t\u1ee5c",cancelText:"C\xf3, h\u1ee7y b\u1ecf"}).afterClosed$.subscribe({next:i=>{i.data||(this.patchValueForm(),this.isEdit=!1)}})}onSubmit(){var e,i,n;if(this.discountConditionForm.markAllAsTouched(),this.discountConditionForm.invalid)return;const u=this.discountConditionForm.value,a=this.discountApplyForm.value,f={airline:u.airline,fareClass:u.fareClass?u.fareClass.join(";"):"ALL",flightType:this.flightType,journeyType:u.journeyType,startPointDetails:u.startPointDetails?u.startPointDetails.join(","):"ALL",endPointDetails:u.endPointDetails?u.endPointDetails.join(","):"ALL",journeyClassify:u.journeyClassify||"ALL",paxType:this.paxType,totalPax:"TOTAL_PAX"===this.paxType?u.totalPax:0,adtNum:"SINGLE_PAX"===this.paxType?u.adtNum:0,chdNum:"SINGLE_PAX"===this.paxType?u.chdNum:0,infNum:"SINGLE_PAX"===this.paxType?u.infNum:0,startTimeIssue:y(u.startTimeIssue).format("DD/MM/YYYY"),endTimeIssue:y(u.endTimeIssue).format("DD/MM/YYYY"),timeIssueCustom:null===(e=u.timeIssueCustom)||void 0===e?void 0:e.map(h=>({exceptStart:y(h.exceptStart).format("DD/MM/YYYY"),exceptEnd:y(h.exceptEnd).format("DD/MM/YYYY")})),startTimeFly:u.startTimeFly?(0,A.Z)(u.startTimeFly,"dd/MM/yyyy"):"ALL",endTimeFly:u.endTimeFly?(0,A.Z)(u.endTimeFly,"dd/MM/yyyy"):"ALL",timeFlyCustom:null===(i=u.timeFlyCustom)||void 0===i?void 0:i.map(h=>({exceptStart:y(h.exceptStart).format("DD/MM/YYYY"),exceptEnd:y(h.exceptEnd).format("DD/MM/YYYY")})),amountFromAirline:a.amountFromAirline,currencyCode:a.currencyCode,amountNowPositive:a.amountNowPositive,amountNowNegative:a.amountNowNegative,amountLaterPositive:a.amountLaterPositive,amountLaterNegative:a.amountLaterNegative,codeSharePercent:a.codeSharePercent,groupAgId:a.groupAgId||"ALL",timeZone:7,id:null!==(n=this.discountFeeId)&&void 0!==n?n:""};this.isLoading=!0,this._discountFeeService.updateDiscountFee(f).pipe((0,S.x)(()=>this.isLoading=!1)).subscribe({next:h=>{h.success&&h.data?(this.titleText="C\u1eadp nh\u1eadt quy \u0111\u1ecbnh chi\u1ebft kh\u1ea5u th\xe0nh c\xf4ng",this.bodyText="Quy \u0111\u1ecbnh chi\u1ebft kh\u1ea5u \u0111\xe3 \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\xe0nh c\xf4ng",this.onChangeStep("SUCCESS")):(this.titleText="C\u1eadp nh\u1eadt quy \u0111\u1ecbnh chi\u1ebft kh\u1ea5u th\u1ea5t b\u1ea1i",this.bodyText="Quy \u0111\u1ecbnh chi\u1ebft kh\u1ea5u \u0111\xe3 \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i",this.onChangeStep("ERROR"))},error:()=>{this.titleText="C\u1eadp nh\u1eadt quy \u0111\u1ecbnh chi\u1ebft kh\u1ea5u th\u1ea5t b\u1ea1i",this.bodyText="Quy \u0111\u1ecbnh chi\u1ebft kh\u1ea5u \u0111\xe3 \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i",this.onChangeStep("ERROR")}})}onDelete(){this._modal.open(M.V0,{title:"X\xf3a th\u1ebft l\u1eadp n\xe0y?",body:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a thi\u1ebft l\u1eadp n\xe0y? Vi\u1ec7c n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c, vui l\xf2ng ki\u1ec3m tra k\u0129 tr\u01b0\u1edbc khi thao t\xe1c."}).afterClosed$.subscribe({next:i=>{i.data&&this._discountFeeService.deleteDiscountFeeConfig(this.discountFeeId).subscribe({next:n=>{n.success?(this._toastService.add({severity:"success",summary:"X\xf3a th\xe0nh c\xf4ng",detail:"\u0110\xe3 x\xf3a thi\u1ebft l\u1eadp \u0111i\u1ec1u ki\u1ec7n chi\u1ebft kh\u1ea5u th\xe0nh c\xf4ng",sticky:!1}),this._route.navigate(["admin/discount-fee"])):this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:"Kh\xf4ng th\u1ec3 x\xf3a thi\u1ebft l\u1eadp \u0111i\u1ec1u ki\u1ec7n chi\u1ebft kh\u1ea5u. Vui l\xf2ng th\u1eed l\u1ea1i!",sticky:!1})}})}})}onChangeStep(e){this.step=e}onBackToList(){this._route.navigate(["admin/discount-fee"])}swapPoint(e,i){if(""!=e.value&&""!=i.value){const n=e.value;e.setValue(null),e.setValue(i.value),i.setValue(null),i.setValue(n)}}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(E.KNP),t.Y36(I.jH),t.Y36(J.gz),t.Y36(d.qu),t.Y36(ut.oE),t.Y36(K),t.Y36(V.BX),t.Y36(J.F0),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["edit-discount-fee-page"]],standalone:!0,features:[t.jDz],decls:9,vars:5,consts:[[1,"flex","justify-center","py-8","px-[30px]"],[1,"w-[1000px]","max-w-[1000px]"],["class","flex flex-col gap-y-4",4,"ngIf"],["class","rounded-lg bg-neutral-white mx-auto py-32 flex flex-col gap-y-6 justify-center items-center",4,"ngIf"],[4,"ngIf"],["optionTmp",""],[1,"flex","flex-col","gap-y-4"],[1,"flex","justify-between","items-center"],["cf-button","","size","medium","type","secondary",1,"bg-neutral-white",3,"click"],["cfHeadIcon","","icon","chevron_left","size","small",1,"mr-2.5"],["class","flex items-center gap-x-3",4,"ngIf"],[1,"flex","gap-x-3"],[1,"flex","items-center","gap-x-2.5","py-1.5","px-4","text-heading-xs","rounded-full","cursor-pointer","bg-white","border","border-neutral-gray-3",3,"ngClass","click"],[1,"flex","items-center","gap-x-3"],["cf-button","","size","medium",3,"click"],["cfHeadIcon","","icon","edit_alt","size","small",1,"mr-2.5"],["cfHeadIcon","","icon","delete","size","small",1,"mr-2.5"],["cfHeadIcon","","icon","save","size","small",1,"mr-2.5"],["cfHeadIcon","","icon","circle_error","size","small",1,"mr-2.5"],[1,"bg-white","rounded","shadow-cf-md","flex","flex-col","p-6"],[1,"flex","flex-col","gap-y-1","mb-4"],[1,"text-heading-sm","text-neutral-black"],[1,"text-espressive-sm","text-neutral-gray-4"],[1,"flex","flex-col","gap-y-3"],[1,"flex","flex-col","gap-y-1.5"],[1,"text-express-sm"],[1,"w-full","h-10","py-2.5","px-3","text-body-md","rounded","border","border-neutral-gray-3","bg-neutral-gray-1"],[1,""],[1,"flex","gap-x-3","mb-3"],[1,"flex","items-center","gap-x-[0.375rem]","rounded-lg","py-[0.3125rem]","px-4","text-espressive-md","text-neutral-gray-4","border","border-neutral-gray-2","bg-white",3,"ngClass"],["class","flex flex-col gap-y-3",4,"ngIf"],[1,"flex","items-center","gap-x-8",3,"ngModel","ngModelChange"],["size","medium",3,"disabled","value"],["class","flex justify-between gap-x-3",4,"ngIf"],[1,"bg-white","rounded","shadow-cf-md","flex","flex-col","gap-y-4","p-6"],[1,"flex","flex-col","gap-y-1"],[1,"grow-[400]","!w-full",3,"disabled"],["cfHeadIcon","","icon","calendar","size","small"],["cfLabel","",1,"text-espressive-sm","text-black"],["type","text","size","medium","cf-input","","placeholder","dd/MM/yyyy",1,"py-[7px]",3,"value"],["class","flex gap-x-3",4,"ngFor","ngForOf"],[1,"w-full","flex","flex-col","gap-y-1.5"],[1,"w-full","h-10","py-2.5","px-3","text-body-md","rounded","border","border-neutral-gray-3","bg-neutral-gray-1","flex","gap-x-2"],[4,"ngFor","ngForOf"],[3,"size","color"],[1,"flex","justify-between","gap-x-3"],[1,"flex","flex-col","gap-y-6"],[1,"text-espressive-md","text-neutral-gray-5"],[1,"border","border-neutral-gray-2","p-4","rounded","flex","gap-x-3"],[1,"text-heading-sm","text-neutral-black",3,"CfRequired"],["textField","name","valueField","code","placeholder","Ch\u1ecdn h\xe3ng bay",1,"w-full","!max-w-full",3,"status","data","allowSearch","formControl","selectedChange"],["cfLabel","",1,"text-express-sm","text-black",3,"CfRequired"],["cfHint","",3,"hint",4,"ngIf"],["textField","name","valueField","code",1,"w-full","!max-w-full",3,"status","data","allowSearch","placeholder","formControl","maxHeight"],["cfLabel","",1,"text-express-sm","text-black"],[1,"flex","items-center","gap-x-[0.375rem]","rounded-lg","py-[0.3125rem]","px-4","text-espressive-md","text-neutral-gray-4","border","border-neutral-gray-2","bg-white","cursor-pointer",3,"ngClass","click"],[1,"flex","items-center","gap-x-8",3,"ngModel","checkChange","ngModelChange"],["size","medium",3,"value"],["class","flex gap-x-3",4,"ngIf"],[1,"grow-[400]","!w-full",3,"status"],["cfLabel","",1,"text-espressive-sm","text-black",3,"CfRequired"],["cfDatepicker","","type","text","size","medium","cf-input","","placeholder","dd/MM/yyyy",1,"py-[7px]",3,"minDate","secondaryCalendar","displayMonths","formControl","input","dateSelect"],["dateFrom","cfDatepicker"],[1,"w-full","border","border-neutral-gray-1"],[3,"title","active"],["titleTemplate",""],[1,"w-full","rounded","bg-[#FCF5E8]","text-neutral-gray-6","py-3","px-4"],[1,"mb-3"],[1,"text-express-md"],[1,"text-body-sm"],[1,"mt-4"],["class","flex items-center gap-x-3",4,"ngFor","ngForOf"],["class","mt-3",4,"ngIf"],["cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y ho\u1eb7c b\u1ecf tr\u1ed1ng \u0111\u1ec3 kh\xf4ng gi\u1edbi h\u1ea1n",1,"py-[7px]",3,"secondaryCalendar","displayMonths","formControl","input","dateSelect"],["cfHint","",3,"hint"],["textField","displayName","valueField","code",1,"w-full","!max-w-full",3,"status","data","allowSearch","placeholder","formControl","maxHeight","optionTmp","selectedChange"],["cf-button","","size","medium","type","secondary",1,"mt-7",3,"click"],["icon","switch","size","small"],["textField","name","valueField","code","placeholder","Ch\u1ecdn lo\u1ea1i ch\u1eb7ng bay",1,"w-full","!max-w-full",3,"status","data","allowSearch","formControl"],[1,"flex","items-center","gap-x-8",3,"formControl","checkChange"],["textField","name","valueField","code","placeholder","Ch\u1ecdn lo\u1ea1i ch\u1eb7ng bay ho\u1eb7c b\u1ecf tr\u1ed1ng ch\u1ecdn t\u1ea5t c\u1ea3",1,"w-full","!max-w-full",3,"status","data","allowSearch","formControl"],["textField","name","valueField","code","placeholder","Ch\u1ecdn qu\u1ed1c gia",1,"w-full","!max-w-full",3,"status","data","allowSearch","formControl","maxHeight","selectedChange"],["textField","name","valueField","code","placeholder","Ch\u1ecdn khu v\u1ef1c",1,"w-full","!max-w-full",3,"status","data","allowSearch","formControl","maxHeight","selectedChange"],["cf-input","","type","number","size","medium","placeholder","Nh\u1eadp s\u1ed1 h\xe0nh kh\xe1ch ho\u1eb7c b\u1ecf tr\u1ed1ng \u0111\u1ec3 kh\xf4ng gi\u1edbi h\u1ea1n",3,"formControl"],[3,"CfRequired"],["cf-input","","type","number","size","medium","placeholder","Nh\u1eadp m\u1ee9c ph\xed d\u1ecbch v\u1ee5",3,"formControl"],[1,"text-heading-xs"],["cfDatepicker","","type","text","size","medium","cf-input","","placeholder","dd/MM/yyyy",1,"py-[7px]",3,"secondaryCalendar","displayMonths","formControl","input","dateSelect"],[1,"mt-7",3,"click"],["cfHeadIcon","","icon","close","size","small"],[1,"mt-3"],[1,"py-1.5","px-3","text-espressive-sm","text-secondary-3-4","cursor-pointer",3,"click"],["size","medium",3,"placeholder","formControl"],["textField","name","valueField","code","placeholder","Nh\u1eadp c\xe1c h\u1ea1ng \u0111\u1eb7t ch\u1ed7 ho\u1eb7c b\u1ecf tr\u1ed1ng cho t\u1ea5t c\u1ea3 h\u1ea1ng",1,"w-full","!max-w-full",3,"status","data","allowSearch","formControl"],["cf-input","","type","number","size","medium","placeholder","Nh\u1eadp ph\u1ea7n tr\u0103m (%) gi\xe1 tr\u1ecb chi\u1ebft kh\u1ea5u \xe1p d\u1ee5ng",3,"formControl"],["textField","name","valueField","code","placeholder","Ch\u1ecdn nh\xf3m \u0111\u1ea1i l\xfd ho\u1eb7c b\u1ecf tr\u1ed1ng cho t\u1ea5t c\u1ea3",1,"w-full","!max-w-full",3,"status","data","allowSearch","formControl"],[1,"rounded-lg","bg-neutral-white","mx-auto","py-32","flex","flex-col","gap-y-6","justify-center","items-center"],["src","assets/icons/icon-success.svg","alt",""],[1,"flex","flex-col","gap-y-3","justify-center","items-center"],[1,"text-heading-sm","text-neutral-gray-6"],[1,"text-body-md","text-neutral-gray-5"],[1,"flex","gap-x-4"],["cf-button","","size","medium","type","secondary",1,"bg-white",3,"click"],["src","assets/icons/icon-error.svg","alt",""],[1,"flex","flex-col"],[1,"text-body-md-short","text-neutral-gray-6",3,"innerHtml"],[1,"text-body-sm","text-neutral-gray-4",3,"innerHtml"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,Le,15,10,"div",2),t.YNc(3,Qe,10,2,"div",3),t.YNc(4,Be,8,2,"div",3),t.YNc(5,Oe,10,2,"div",3),t.qZA()(),t.YNc(6,He,1,0,"cf-spinner",4),t.YNc(7,Ye,5,8,"ng-template",null,5,t.W1O)),2&e&&(t.xp6(2),t.Q6J("ngIf","DISCOUNT"===i.step),t.xp6(1),t.Q6J("ngIf","SUCCESS"===i.step),t.xp6(1),t.Q6J("ngIf","ERROR"===i.step),t.xp6(1),t.Q6J("ngIf","NOT_FOUND"===i.step),t.xp6(1),t.Q6J("ngIf",i.isLoading))},dependencies:[C.ez,C.mk,C.sg,C.O5,C.JJ,d.u5,d.Fj,d.wV,d.JJ,d.On,d.UX,d.oH,R.q,F.j$,F.ND,F.BN,F.v2,F.lt,z.C,B.o,B.T,b.N8,b.Xq,E.AxE,E.Sm8,I.Cs,Q.B,Q.K,G.U,M.OR,ne.AS,ie.b,X.T],encapsulation:2}),o})()},3447:(rt,L,m)=>{m.d(L,{E:()=>C});const C=d=>d.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D")}}]);