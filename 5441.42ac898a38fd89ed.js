"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[5441],{65441:(Q,d,l)=>{l.r(d),l.d(d,{MobileSearchInputComponent:()=>U,SearchFlightPageComponent:()=>Z});var u=l(40899),g=l(36895),m=l(24006),_=l(82761),p=l(83700),v=l(27898),c=l(72506),o=l(34120),e=l(94650),b=l(13138),F=l(97579),y=l(85114),T=l(9381),C=l(42678);function S(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"div",24)(1,"div",25),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addMultiRoute())}),e._UZ(2,"cf-icon",26),e.TgZ(3,"div",27),e._uU(4,"Th\xeam ch\u1eb7ng m\u1edbi"),e.qZA()(),e.TgZ(5,"div",28),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.removeAllDataMultiRoute())}),e._UZ(6,"cf-icon",29),e.TgZ(7,"div",30),e._uU(8,"X\xf3a t\u1ea5t c\u1ea3"),e.qZA()()()}}function x(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onRegisterBookingHunter())}),e._UZ(1,"cf-icon",32),e.TgZ(2,"span"),e._uU(3,"S\u0103n v\xe9"),e.qZA()()}}let Z=(()=>{class r{constructor(t,i,n,a,h,f,j,D){this.cfIconRegister=t,this._dataProvider=i,this._router=n,this._modal=a,this._searchFlightService=h,this._permissionService=f,this._mobileDetectService=j,this._requestDataService=D,this.flightTypeSearch=o.jX.OneWay,this.multiFilghtType=o.jX.MultiWay,this.huntBookingFlag=this._permissionService.hasPermission(u.or.CanMonitorHuntFareTicket),this.initIcon(),this.resetForm(),h.flightType="ONE_WAY"}initIcon(){this.cfIconRegister.registerIcons([c.bHT,c.D5L,c.TM4,c.gll,c.TOh,c.KYu,c.tLH,c.IIV,c._hx,c.YwC])}resetForm(){this._searchFlightService.reset()}numberOfPassengerChange(t){this._searchFlightService.numberOfPassengerChange(t),this._searchFlightService.suggestPromotion()}airlineFilterChange(t){this._searchFlightService.airlineFilterChange(t)}addMultiRoute(){this._searchFlightService.addMultiRoute()}removeRoute(t){this._searchFlightService.removeRoute(t)}removeAllDataMultiRoute(){this._searchFlightService.removeAllDataMultiRoute()}flightTypeChange(t){switch(this.flightTypeSearch=t,t){case o.jX.OneWay:this._searchFlightService.flightTypeChange("ONE_WAY");break;case o.jX.RoundTrip:this._searchFlightService.flightTypeChange("ROUND_TRIP");break;case o.jX.MultiWay:this._searchFlightService.flightTypeChange("MULTI_WAY")}}searchFlight(){let t;t=this.flightTypeSearch===o.jX.OneWay?"ONE_WAY":this.flightTypeSearch===o.jX.RoundTrip?"ROUND_TRIP":"MULTI_WAY",this._searchFlightService.prepareRequestFlight(t)&&this._router.navigate(["/admin/search-flight-result"])}suggestPromotion(){this._searchFlightService.suggestPromotion()}onCheckDirectFlight(t){this._searchFlightService.checkDirectFlight(t)}onRegisterBookingHunter(){this._requestDataService.sourceEvent="SEARCH_INPUT",this._router.navigate(["admin/request-booking-hunter"],{state:{isEntryPointSearch:!1}})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(c.KNP),e.Y36(b.R),e.Y36(_.F0),e.Y36(F.oE),e.Y36(y.v),e.Y36(u.$A),e.Y36(T.L),e.Y36(C.FH))},r.\u0275cmp=e.Xpm({type:r,selectors:[["search-flight-page"]],hostAttrs:[1,"h-full"],standalone:!0,features:[e.jDz],decls:29,vars:16,consts:[[1,"relative","h-full"],["src","https://cheapflighttest.s3.ap-southeast-1.amazonaws.com/banner.png",1,"w-full","md:h-[218px]","md:object-cover","h-full"],[1,"absolute","top-0","left-0","w-full","pt-[53px]","px-[30px]","md:pt-5","md:px-4"],[1,"bg-neutral-white","p-6","rounded-lg","w-full","shadow-cf-md","md:p-4"],[1,"flex","items-center","justify-between","mb-5"],[1,"md:w-full"],[3,"flightType","flightTypeSearchChange"],[1,"flex","items-center","justify-end","gap-x-4","md:hidden"],[3,"adultNumber","childNumber","infantNumber","numberOfPassengerChange"],[3,"airlineList","airlineFilterChange"],[3,"isShowTooltipFirstTime","promotionGroupList"],[1,"mb-[20px]","md:mb-4"],[3,"formArray","removeRoute","dataChange"],[1,"gap-x-2","hidden","md:flex","overflow-x-auto"],["class","flex items-center gap-x-10 mb-5",4,"ngIf"],[1,"h-0","border-b","border-b-neutral-gray-2","my-4","hidden","md:block"],[1,"flex","justify-between","items-center","md:flex-col","md:items-start","md:gap-y-4"],[1,"flex","justify-start","gap-x-[34px]"],[1,"flex","items-center","gap-3","whitespace-nowrap"],["size","medium",3,"checkChange"],[1,"flex","justify-end","gap-x-2","w-full"],["cf-button","","size","medium","type","solid","class","!bg-neutral-gray-5 flex gap-x-2 text-neutral-white hover:!opacity-80 hover:!bg-neutral-gray-5 active:!bg-neutral-gray-5 active:!opacity-100",3,"click",4,"ngIf"],["cf-button","","size","medium","color","primary-1","type","solid",1,"md:justify-center",3,"click"],["icon","search","size","small",1,"mr-2.5"],[1,"flex","items-center","gap-x-10","mb-5"],[1,"flex","items-center","text-secondary-1-5","cursor-pointer",3,"click"],["icon","plus","size","small",1,"mr-2.5"],[1,"text-heading-xs"],[1,"flex","items-center","text-neutral-black","cursor-pointer",3,"click"],["icon","rotate_left","size","small",1,"mr-2.5"],[1,"text-body-md"],["cf-button","","size","medium","type","solid",1,"!bg-neutral-gray-5","flex","gap-x-2","text-neutral-white","hover:!opacity-80","hover:!bg-neutral-gray-5","active:!bg-neutral-gray-5","active:!opacity-100",3,"click"],["icon","ticket","size","small",1,"mr-1.5"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"cf-flight-type-selector",6),e.NdJ("flightTypeSearchChange",function(a){return i.flightTypeChange(a)}),e.qZA()(),e.TgZ(7,"div",7)(8,"cf-number-of-passenger",8),e.NdJ("numberOfPassengerChange",function(a){return i.numberOfPassengerChange(a)}),e.qZA(),e.TgZ(9,"cf-airline-filter",9),e.NdJ("airlineFilterChange",function(a){return i.airlineFilterChange(a)}),e.qZA(),e._UZ(10,"cf-voucher-selector",10),e.qZA()(),e.TgZ(11,"div",11)(12,"cf-search-flight-input",12),e.NdJ("removeRoute",function(a){return i.removeRoute(a)})("dataChange",function(){return i.suggestPromotion()}),e.qZA()(),e.TgZ(13,"div",13)(14,"cf-number-of-passenger",8),e.NdJ("numberOfPassengerChange",function(a){return i.numberOfPassengerChange(a)}),e.qZA(),e.TgZ(15,"cf-airline-filter",9),e.NdJ("airlineFilterChange",function(a){return i.airlineFilterChange(a)}),e.qZA(),e._UZ(16,"cf-voucher-selector",10),e.qZA(),e.YNc(17,S,9,0,"div",14),e._UZ(18,"div",15),e.TgZ(19,"div",16)(20,"div",17)(21,"div",18)(22,"cf-checkbox",19),e.NdJ("checkChange",function(a){return i.onCheckDirectFlight(a)}),e._uU(23," Ch\u1ec9 c\xe1c chuy\u1ebfn bay th\u1eb3ng "),e.qZA()()(),e.TgZ(24,"div",20),e.YNc(25,x,4,0,"button",21),e.TgZ(26,"button",22),e.NdJ("click",function(){return i.searchFlight()}),e._UZ(27,"cf-icon",23),e._uU(28," T\xecm chuy\u1ebfn bay "),e.qZA()()()()()()),2&t&&(e.xp6(6),e.Q6J("flightType",i.flightTypeSearch),e.xp6(2),e.Q6J("adultNumber",i._searchFlightService.numberOfPassenger.adult)("childNumber",i._searchFlightService.numberOfPassenger.child)("infantNumber",i._searchFlightService.numberOfPassenger.infant),e.xp6(1),e.Q6J("airlineList",i._searchFlightService.airlineFilters),e.xp6(1),e.Q6J("isShowTooltipFirstTime",!0)("promotionGroupList",i._searchFlightService.promotionGroupFilters),e.xp6(2),e.Q6J("formArray",i._searchFlightService.searchInputForm),e.xp6(2),e.Q6J("adultNumber",i._searchFlightService.numberOfPassenger.adult)("childNumber",i._searchFlightService.numberOfPassenger.child)("infantNumber",i._searchFlightService.numberOfPassenger.infant),e.xp6(1),e.Q6J("airlineList",i._searchFlightService.airlineFilters),e.xp6(1),e.Q6J("isShowTooltipFirstTime",!1)("promotionGroupList",i._searchFlightService.promotionGroupFilters),e.xp6(1),e.Q6J("ngIf",i.flightTypeSearch===i.multiFilghtType),e.xp6(8),e.Q6J("ngIf",i.huntBookingFlag))},dependencies:[c.AxE,c.Sm8,p.N8,p.Xq,v.u,o.DA,o.z6,o.h4,o.uX,o.t3,m.u5,m.UX,_.Bz,g.O5],encapsulation:2}),r})();var P=l(28490),I=l(37094);function M(r,s){1&r&&e._UZ(0,"cf-icon",15)}function A(r,s){1&r&&e._UZ(0,"cf-icon",16)}function N(r,s){if(1&r&&(e.TgZ(0,"div",11),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,t.journeys[0].departDate,"dd/MM/yyyy"))}}function k(r,s){if(1&r&&(e.TgZ(0,"div",11),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.AsE("",e.xi3(2,2,t.journeys[0].departDate,"dd/MM/yyyy")," - ",e.xi3(3,5,t.journeys[1].departDate,"dd/MM/yyyy"),"")}}function J(r,s){1&r&&(e.TgZ(0,"div"),e._uU(1,"M\u1ed9t chi\u1ec1u"),e.qZA())}function O(r,s){1&r&&(e.TgZ(0,"div"),e._uU(1,"Kh\u1ee9 h\u1ed3i"),e.qZA())}function w(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"div",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openQuotation())}),e._UZ(1,"cf-icon",18),e.TgZ(2,"div",19),e._uU(3," B\xe1o gi\xe1 "),e.qZA()()}}function R(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"div",39)(1,"div",40),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.addMultiRoute())}),e._UZ(2,"cf-icon",41),e.TgZ(3,"div",42),e._uU(4,"Th\xeam ch\u1eb7ng m\u1edbi"),e.qZA()(),e.TgZ(5,"div",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.removeAllDataMultiRoute())}),e._UZ(6,"cf-icon",44),e.TgZ(7,"div",45),e._uU(8,"X\xf3a t\u1ea5t c\u1ea3"),e.qZA()()()}}function E(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"div",20)(1,"div",21)(2,"div",22)(3,"cf-flight-type-selector",23),e.NdJ("flightTypeSearchChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.flightTypeChange(n))}),e.qZA()(),e.TgZ(4,"div",24)(5,"cf-number-of-passenger",25),e.NdJ("numberOfPassengerChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.numberOfPassengerChange(n))}),e.qZA(),e.TgZ(6,"cf-airline-filter",26),e.NdJ("airlineFilterChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.airlineFilterChange(n))}),e.qZA(),e._UZ(7,"cf-voucher-selector",27),e.qZA()(),e.TgZ(8,"div",28)(9,"cf-search-flight-input",29),e.NdJ("removeRoute",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.removeRoute(n))})("dataChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.suggestPromotion())}),e.qZA()(),e.TgZ(10,"div",30)(11,"cf-number-of-passenger",25),e.NdJ("numberOfPassengerChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.numberOfPassengerChange(n))}),e.qZA(),e.TgZ(12,"cf-airline-filter",26),e.NdJ("airlineFilterChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.airlineFilterChange(n))}),e.qZA(),e._UZ(13,"cf-voucher-selector",27),e.qZA(),e.YNc(14,R,9,0,"div",31),e._UZ(15,"div",32),e.TgZ(16,"div",33)(17,"div",34)(18,"div",35)(19,"cf-checkbox",36),e.NdJ("checkChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.onCheckDirectFlight(n))}),e._uU(20," Ch\u1ec9 c\xe1c chuy\u1ebfn bay th\u1eb3ng "),e.qZA()()(),e.TgZ(21,"button",37),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.researchFlight())}),e._UZ(22,"cf-icon",38),e._uU(23," T\xecm chuy\u1ebfn bay "),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(3),e.Q6J("flightType",t.flightTypeSearch),e.xp6(2),e.Q6J("adultNumber",t._searchFlightService.numberOfPassenger.adult)("childNumber",t._searchFlightService.numberOfPassenger.child)("infantNumber",t._searchFlightService.numberOfPassenger.infant),e.xp6(1),e.Q6J("airlineList",t._searchFlightService.airlineFilters),e.xp6(1),e.Q6J("isShowTooltipFirstTime",!0)("promotionGroupList",t._searchFlightService.promotionGroupFilters),e.xp6(2),e.Q6J("formArray",t._searchFlightService.searchInputForm),e.xp6(2),e.Q6J("adultNumber",t._searchFlightService.numberOfPassenger.adult)("childNumber",t._searchFlightService.numberOfPassenger.child)("infantNumber",t._searchFlightService.numberOfPassenger.infant),e.xp6(1),e.Q6J("airlineList",t._searchFlightService.airlineFilters),e.xp6(1),e.Q6J("isShowTooltipFirstTime",!1)("promotionGroupList",t._searchFlightService.promotionGroupFilters),e.xp6(1),e.Q6J("ngIf",t.flightTypeSearch===t.multiFilghtType),e.xp6(5),e.Q6J("checked",t.isDirectFlight)}}let U=(()=>{class r{constructor(t,i,n,a,h,f){switch(this._searchFlightService=t,this._dataProvider=i,this._locationData=n,this._iconRegister=a,this._bottomSheetService=h,this._permissionService=f,this.showQuotation=this._permissionService.hasPermission(u.or.CreateFlightTicketQuote),this.showSharedFlight=this._permissionService.hasPermission(u.or.CanShareFlightSelected),this.flightTypeSearch=o.jX.OneWay,this.multiFilghtType=o.jX.MultiWay,this.onReseachFlight=new e.vpe,this.onFlightTypeChange=new e.vpe,this.onQuotation=new e.vpe,this.loadJourneyInfo(),a.registerIcons([c.Ffn,c.PlV,c.Lxr]),t.flightType){case"ONE_WAY":default:this.flightTypeSearch=o.jX.OneWay;break;case"ROUND_TRIP":this.flightTypeSearch=o.jX.RoundTrip;break;case"MULTI_WAY":this.flightTypeSearch=o.jX.MultiWay}}loadJourneyInfo(){this.adultNumber=this._dataProvider.searchInputData.adult,this.childNumber=this._dataProvider.searchInputData.child,this.journeys=this._dataProvider.searchInputData.journey,this.isDirectFlight=this._searchFlightService.isDirectFlight,this.startPoint=this._locationData.getCityNameByCode(this.journeys[0].startPoint),this.endPoint=this._locationData.getCityNameByCode(this.journeys[0].endPoint)}openSearchInputBottomSheet(t){this.bottomSheetRef=this._bottomSheetService.open(t,{headerTitle:"T\xecm ki\u1ebfm",leftButtonIcon:"close",rightButtonIcon:"",leftButtonIconClass:"text-neutral-gray-4",containerFullHeigh:!0}),this.bottomSheetRef.containerInstance._leftButtonClick.subscribe(i=>this.bottomSheetRef.dismiss())}flightTypeChange(t){this.flightTypeSearch=t,this.onFlightTypeChange.emit(t)}numberOfPassengerChange(t){this._searchFlightService.numberOfPassengerChange(t),this._searchFlightService.suggestPromotion()}airlineFilterChange(t){this._searchFlightService.airlineFilterChange(t)}addMultiRoute(){this._searchFlightService.addMultiRoute()}removeRoute(t){this._searchFlightService.removeRoute(t)}suggestPromotion(){this._searchFlightService.suggestPromotion()}removeAllDataMultiRoute(){this._searchFlightService.removeAllDataMultiRoute()}onCheckDirectFlight(t){this._searchFlightService.checkDirectFlight(t),this.isDirectFlight=this._searchFlightService.isDirectFlight}researchFlight(){this.bottomSheetRef.dismiss(),this.onReseachFlight.emit(),this.loadJourneyInfo()}openQuotation(){this.onQuotation.emit()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(y.v),e.Y36(b.R),e.Y36(P._),e.Y36(c.KNP),e.Y36(I.a2),e.Y36(u.$A))},r.\u0275cmp=e.Xpm({type:r,selectors:[["mobile-search-input"]],inputs:{currentMode:"currentMode"},outputs:{onReseachFlight:"onReseachFlight",onFlightTypeChange:"onFlightTypeChange",onQuotation:"onQuotation"},standalone:!0,features:[e.jDz],decls:22,vars:9,consts:[[1,"flex","items-center","justify-between","w-full"],[1,"flex","flex-col","grow-1","gap-y-1"],[1,"flex","items-center","gap-x-1"],[1,"text-espressive-sm","text-neutral-gray-6"],["class","text-secondary-7-5","icon","arrow_right","size","small",4,"ngIf"],["class","rotate-90 text-secondary-7-5","icon","sort","size","small",4,"ngIf"],[1,"p-1","rounded-full","bg-secondary-6-1"],["icon","edit","size","small",1,"text-secondary-6-4",3,"click"],[1,"flex","items-center"],["class","text-body-sm text-neutral-gray-5",4,"ngIf"],[1,"w-0","border-r","border-r-secondary-7-2","mx-1","h-4"],[1,"text-body-sm","text-neutral-gray-5"],[4,"ngIf"],["class","flex items-center gap-x-1.5",3,"click",4,"ngIf"],["searchInputBottomSheet",""],["icon","arrow_right","size","small",1,"text-secondary-7-5"],["icon","sort","size","small",1,"rotate-90","text-secondary-7-5"],[1,"flex","items-center","gap-x-1.5",3,"click"],["icon","document","size","small"],[1,"text-body-md-short"],[1,"bg-neutral-white","p-6","rounded-lg","w-full","shadow-cf-md","md:p-4"],[1,"flex","items-center","justify-between","mb-5"],[1,"md:w-full"],[3,"flightType","flightTypeSearchChange"],[1,"flex","items-center","justify-end","gap-x-4","md:hidden"],[3,"adultNumber","childNumber","infantNumber","numberOfPassengerChange"],[3,"airlineList","airlineFilterChange"],[3,"isShowTooltipFirstTime","promotionGroupList"],[1,"mb-[20px]","md:mb-4"],[3,"formArray","removeRoute","dataChange"],[1,"gap-x-2","hidden","md:flex","overflow-x-auto"],["class","flex items-center gap-x-10 mb-5",4,"ngIf"],[1,"h-0","border-b","border-b-neutral-gray-2","my-4","hidden","md:block"],[1,"flex","justify-between","items-center","md:flex-col","md:items-start","md:gap-y-4"],[1,"flex","justify-start","gap-x-[34px]"],[1,"flex","items-center","gap-3"],["size","medium",3,"checked","checkChange"],["cf-button","","size","medium","color","primary-1","type","solid",1,"md:w-full","md:justify-center",3,"click"],["icon","search","size","small",1,"mr-2.5"],[1,"flex","items-center","gap-x-10","mb-5"],[1,"flex","items-center","text-secondary-1-5","cursor-pointer",3,"click"],["icon","plus","size","small",1,"mr-2.5"],[1,"text-heading-xs"],[1,"flex","items-center","text-neutral-black","cursor-pointer",3,"click"],["icon","rotate_left","size","small",1,"mr-2.5"],[1,"text-body-md"]],template:function(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4),e.qZA(),e.YNc(5,M,1,0,"cf-icon",4),e.YNc(6,A,1,0,"cf-icon",5),e.TgZ(7,"div",3),e._uU(8),e.qZA(),e.TgZ(9,"div",6)(10,"cf-icon",7),e.NdJ("click",function(){e.CHM(n);const h=e.MAs(21);return e.KtG(i.openSearchInputBottomSheet(h))}),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,N,3,4,"div",9),e.YNc(13,k,4,8,"div",9),e._UZ(14,"div",10),e.TgZ(15,"div",11),e.YNc(16,J,2,0,"div",12),e.YNc(17,O,2,0,"div",12),e.qZA()()(),e.TgZ(18,"div"),e.YNc(19,w,4,0,"div",13),e.qZA()(),e.YNc(20,E,24,16,"ng-template",null,14,e.W1O)}2&t&&(e.xp6(4),e.Oqu(i.startPoint),e.xp6(1),e.Q6J("ngIf",1===i.journeys.length),e.xp6(1),e.Q6J("ngIf",2===i.journeys.length),e.xp6(2),e.Oqu(i.endPoint),e.xp6(4),e.Q6J("ngIf",1===i.journeys.length),e.xp6(1),e.Q6J("ngIf",2===i.journeys.length),e.xp6(3),e.Q6J("ngIf",1===i.journeys.length),e.xp6(1),e.Q6J("ngIf",2===i.journeys.length),e.xp6(2),e.Q6J("ngIf",i.showQuotation&&"retail"===i.currentMode))},dependencies:[g.ez,g.O5,g.uU,c.AxE,c.Sm8,o.DA,p.N8,p.Xq,v.u,o.z6,o.h4,o.uX,o.t3,m.u5,m.UX,_.Bz],encapsulation:2}),r})()}}]);