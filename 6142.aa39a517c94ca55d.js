"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[6142],{42678:(G,L,u)=>{u.d(L,{yL:()=>k,u1:()=>de,I5:()=>T,FH:()=>ce});var A=u(80529),e=u(44500),y=u(54004),T=(()=>{return(p=T||(T={})).JOURNEY="JOURNEY",p.PASSENGER="PASSENGER",p.CONFIGURATION="CONFIGURATION",T;var p})(),i=u(97582),h=u(97380),r=u(87067),S=u(43429);class F{}(0,i.gn)([(0,r.C)()],F.prototype,"status",void 0),(0,i.gn)([(0,S.D)(()=>t),(0,r.C)()],F.prototype,"data",void 0),(0,i.gn)([(0,r.C)()],F.prototype,"objectError",void 0),(0,i.gn)([(0,r.C)()],F.prototype,"success",void 0);class t extends h.VP{}class R{}(0,i.gn)([(0,r.C)()],R.prototype,"airline",void 0),(0,i.gn)([(0,r.C)()],R.prototype,"flightType",void 0),(0,i.gn)([(0,S.D)(()=>N),(0,r.C)()],R.prototype,"journeys",void 0),(0,i.gn)([(0,S.D)(()=>v),(0,r.C)()],R.prototype,"passengers",void 0);class N{}(0,i.gn)([(0,r.C)()],N.prototype,"leg",void 0),(0,i.gn)([(0,r.C)()],N.prototype,"startPoint",void 0),(0,i.gn)([(0,r.C)()],N.prototype,"endPoint",void 0),(0,i.gn)([(0,r.C)()],N.prototype,"departTime",void 0),(0,i.gn)([(0,r.C)()],N.prototype,"arrivalTime",void 0),(0,i.gn)([(0,r.C)()],N.prototype,"duration",void 0),(0,i.gn)([(0,r.C)()],N.prototype,"segments",void 0),(0,i.gn)([(0,r.C)()],N.prototype,"rangeTime",void 0);class v{}(0,i.gn)([(0,r.C)()],v.prototype,"birthday",void 0),(0,i.gn)([(0,r.C)()],v.prototype,"firstName",void 0),(0,i.gn)([(0,r.C)()],v.prototype,"lastName",void 0),(0,i.gn)([(0,r.C)()],v.prototype,"type",void 0),(0,i.gn)([(0,r.C)()],v.prototype,"key",void 0),(0,i.gn)([(0,r.C)()],v.prototype,"parentKey",void 0),(0,i.gn)([(0,r.C)()],v.prototype,"namePrefix",void 0),(0,i.gn)([(0,r.C)()],v.prototype,"gender",void 0),(0,i.gn)([(0,r.C)()],v.prototype,"index",void 0);class C{}(0,i.gn)([(0,r.C)()],C.prototype,"timeCreate",void 0),(0,i.gn)([(0,r.C)()],C.prototype,"timeExpire",void 0),(0,i.gn)([(0,r.C)()],C.prototype,"timeUpdate",void 0),(0,i.gn)([(0,r.C)()],C.prototype,"timeFinished",void 0),(0,i.gn)([(0,S.D)(()=>o),(0,r.C)()],C.prototype,"fareMonitors",void 0),(0,i.gn)([(0,r.C)()],C.prototype,"notifyBeforeExpired",void 0),(0,i.gn)([(0,r.C)()],C.prototype,"targetPrice",void 0);class o{}(0,i.gn)([(0,r.C)()],o.prototype,"onlyCareLowerFare",void 0),(0,i.gn)([(0,r.C)()],o.prototype,"expectLowerFareClass",void 0),(0,i.gn)([(0,r.C)()],o.prototype,"specifyFareClass",void 0),(0,i.gn)([(0,r.C)()],o.prototype,"currentFareClass",void 0),(0,i.gn)([(0,r.C)()],o.prototype,"specifyFareClassInfo",void 0);class m{}(0,i.gn)([(0,r.C)()],m.prototype,"airline",void 0),(0,i.gn)([(0,r.C)()],m.prototype,"originalPnr",void 0),(0,i.gn)([(0,r.C)()],m.prototype,"detectedPnr",void 0),(0,i.gn)([(0,r.C)()],m.prototype,"originalFare",void 0),(0,i.gn)([(0,r.C)()],m.prototype,"detectedFare",void 0),(0,i.gn)([(0,r.C)()],m.prototype,"originalFareClass",void 0),(0,i.gn)([(0,r.C)()],m.prototype,"detectedFareClass",void 0),(0,i.gn)([(0,r.C)()],m.prototype,"higherFare",void 0),(0,i.gn)([(0,r.C)()],m.prototype,"lastTimeUpdate",void 0);class s{}(0,i.gn)([(0,r.C)()],s.prototype,"status",void 0),(0,i.gn)([(0,S.D)(()=>_),(0,r.C)()],s.prototype,"data",void 0),(0,i.gn)([(0,r.C)()],s.prototype,"objectError",void 0),(0,i.gn)([(0,r.C)()],s.prototype,"success",void 0);class _{}(0,i.gn)([(0,r.C)()],_.prototype,"orderId",void 0),(0,i.gn)([(0,r.C)()],_.prototype,"canUpdate",void 0),(0,i.gn)([(0,r.C)()],_.prototype,"code",void 0),(0,i.gn)([(0,r.C)()],_.prototype,"huntFareConditions",void 0),(0,i.gn)([(0,r.C)()],_.prototype,"advanceSetting",void 0),(0,i.gn)([(0,r.C)()],_.prototype,"ticketInfo",void 0),(0,i.gn)([(0,S.D)(()=>h.v_),(0,r.C)()],_.prototype,"availableSlotInfo",void 0);var a=u(50494),d=u(94650);const x={headers:new A.WM({"Content-Type":"application/json"})};let k=(()=>{class p{constructor(n,g){this.http=n,this.appConfig=g}getLstAirlineFareoptions(){return this.http.post(this.appConfig.apiUrlTPS+"ticket-low-fare/get-list-airline-fare-class",JSON.stringify({airline:"vn,qh,vj"}),x)}registerHuntBooking(n){return this.http.post(this.appConfig.apiUrlTPS+"hunt_for_ticket/register-order",JSON.stringify(n),x)}getPnrOrderDetail(n){return this.http.get(this.appConfig.apiUrlTPS+"hunt_for_ticket/pnr-order_detail/"+n,x).pipe((0,y.U)(g=>(0,a.yE)(F,g,{excludeExtraneousValues:!0})))}getCurrentConfigOrder(n){return this.http.post(this.appConfig.apiUrlTPS+"hunt_for_ticket/current-config-order",JSON.stringify({orderId:n}),x).pipe((0,y.U)(g=>(0,a.yE)(s,g,{excludeExtraneousValues:!0})))}updateConfigOrder(n){return this.http.post(this.appConfig.apiUrlTPS+"hunt_for_ticket/update_order_config",JSON.stringify(n),x).pipe((0,y.U)(g=>(0,a.yE)(F,g,{excludeExtraneousValues:!0})))}}return p.\u0275fac=function(n){return new(n||p)(d.LFG(A.eN),d.LFG(e.qB))},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var f=u(24006),H=u(57085),le=u(77579),te=u(35650),q=u(43201),O=u(15439);const ie=p=>{const B=p.get("targetVNPrice"),n=p.get("targetVJPrice"),g=p.get("targetQHPrice"),b=p.get("fareOptions"),P=p.get("enableTimeStart"),E=p.get("enableFareOption"),U=p.get("enablePriceOption"),D=p.get("startTimeRange");let I={};return null!=P&&P.value&&(null!=D&&D.value&&(null==D?void 0:D.value.length)>0||(I.invalidTimeRanges=!0)),null!=E&&E.value&&(null!=b&&b.value&&(null==b?void 0:b.value.length)>0||(I.invalidFares=!0)),null!=U&&U.value&&(null!=B&&B.value||null!=n&&n.value||null!=g&&g.value?((null==B?void 0:B.value)<0||(null==n?void 0:n.value)<0||(null==g?void 0:g.value)<0)&&(I.negativePrice=!0):I.invalidPrice=!0),!P&&!U&&(I.invalidPriceFareOption=!0),Object.values(I),Object.values(I).length>0?I:null};var ne=u(82761),ue=u(40899);let ce=(()=>{class p{constructor(n,g,b,P,E){this.route=n,this._route=g,this.fb=b,this._permissionService=P,this._bookingHunterService=E,this.optionsAdultPassenger=[],this.numberOfPassenger={adult:1,child:0,infant:0},this.showPriceOption=!1,this.showTimeStartOption=!1,this.showFareOption=!0,this.numberOfPassengerChange$=new le.x,this.isBooker=!this._permissionService.isVNAccount(),this.optionDepartureTime=[{name:"S\xe1ng s\u1edbm",code:"early_morning",start:"00:00",end:"05:59",isActive:!1,disable:!1,startTime:0,endTime:360,totalAvailable:0},{name:"Bu\u1ed5i s\xe1ng",code:"morning",start:"06:00",end:"11:59",isActive:!1,disable:!1,startTime:360,endTime:720,totalAvailable:0},{name:"Bu\u1ed5i chi\u1ec1u",code:"afternoon",start:"12:00",end:"17:59",isActive:!1,disable:!1,startTime:720,endTime:1080,totalAvailable:0},{name:"Bu\u1ed5i t\u1ed1i",code:"evening",start:"18:00",end:"23:59",isActive:!1,disable:!1,startTime:1080,endTime:1439,totalAvailable:0},{name:"T\xf9y ch\u1ecdn",code:"custom",start:"00:00",end:"23:59",isActive:!1,disable:!1,startTime:0,endTime:1439,totalAvailable:0}],this.customRangeItem={rangeValues:[0,1439],startTimeStr:"00:00",endTimeStr:"23:59"},this.departureTime=O().toDate().getTime(),this.earliestDoBChild=(0,q.Z)(this.departureTime,-2),this.earliestDoBChild=(0,te.Z)(this.earliestDoBChild,-1),this.earliestDoBInfant=O().toDate(),this.lastestDoBChild=(0,q.Z)(this.departureTime,-11),this.lastestDoBInfant=(0,q.Z)(this.departureTime,-2),this.lastestDoBInfant=(0,te.Z)(this.lastestDoBInfant,1)}initForm(){this.resetDataService(),this.initJourneyForm(),this.initConfigurationForm(),this.initPassengerForm()}preloadForm(n){var g,b,P,E,U,D,I,j,K,V,Q,W,Y,z,$,X;const M=n.ticketInfo.journeys[0],J="PRICE"===n.huntFareConditions.type;this.showPriceOption=J,this.showFareOption=!J;const pe=(null===(b=null===(g=n.huntFareConditions.specifyPriceList)||void 0===g?void 0:g.find(l=>"VN"===l.airline.toUpperCase()))||void 0===b?void 0:b.targetPrice)||0,me=(null===(E=null===(P=n.huntFareConditions.specifyPriceList)||void 0===P?void 0:P.find(l=>"QH"===l.airline.toUpperCase()))||void 0===E?void 0:E.targetPrice)||0,ge=(null===(D=null===(U=n.huntFareConditions.specifyPriceList)||void 0===U?void 0:U.find(l=>"VJ"===l.airline.toUpperCase()))||void 0===D?void 0:D.targetPrice)||0;let re=!0;if(M.rangeTime.forEach(l=>{this.optionDepartureTime.forEach(c=>{c.start===l.fromDate&&c.end===l.toDate&&(c.isActive=!0,re=!1)})}),re&&M.rangeTime[0]){const l=M.rangeTime[0],c=this.convertTimeRangeStrToMin(l.fromDate),se=this.convertTimeRangeStrToMin(l.toDate);this.customRangeItem={rangeValues:[c,se],startTimeStr:l.fromDate,endTimeStr:l.toDate},this.optionDepartureTime[4].isActive=!0,this.optionDepartureTime[4].start=l.fromDate,this.optionDepartureTime[4].end=l.toDate,this.optionDepartureTime[4].startTime=c,this.optionDepartureTime[4].endTime=se}const ee=this.optionDepartureTime.filter(l=>l.isActive),oe=ee&&ee.length>0;this.showTimeStartOption=oe;const he=(null!==(I=O(M.departTime))&&void 0!==I&&I.isBefore(O())?null:O(M.departTime).toDate())||null;this.journeyFormGroup=this.fb.group({startPoint:[M.startPoint,[f.kI.required]],endPoint:[M.endPoint,[f.kI.required]],departDate:[he,[f.kI.required]],startTimeRange:[ee],enablePriceOption:[J],targetVNPrice:[pe],targetVJPrice:[me],targetQHPrice:[ge],enableFareOption:[!J],enableTimeStart:[oe],fareOptions:[n.huntFareConditions.specifyFareClassList]},{validators:ie});const ae=O(n.advanceSetting.timeExecute).isAfter(O().toDate()),Z=ae?O(n.advanceSetting.timeExecute).toDate():null,fe=ae&&Z?`${null==Z?void 0:Z.getHours().toString().padStart(2,"0")}:${null==Z?void 0:Z.getMinutes().toString().padStart(2,"0")}`:null;this.configurationFormGroup=this.fb.group({dateExpires:[Z,[f.kI.required]],timeExpires:[fe,[f.kI.required]],sendNotify:[n.advanceSetting.notifBeforExpire,[f.kI.required]],agentDisplayName:[null],agentAvatar:[null],agentName:[null],agentPhone:[null],agentEmail:[null],agentId:[null,[f.kI.required]]}),this.numberOfPassenger={adult:(null===(K=null===(j=n.ticketInfo.passengers)||void 0===j?void 0:j.filter(l=>{var c;return"ADT"===(null===(c=l.type)||void 0===c?void 0:c.toUpperCase())}))||void 0===K?void 0:K.length)||0,child:(null===(Q=null===(V=n.ticketInfo.passengers)||void 0===V?void 0:V.filter(l=>{var c;return"CHD"===(null===(c=l.type)||void 0===c?void 0:c.toUpperCase())}))||void 0===Q?void 0:Q.length)||0,infant:(null===(Y=null===(W=n.ticketInfo.passengers)||void 0===W?void 0:W.filter(l=>{var c;return"INF"===(null===(c=l.type)||void 0===c?void 0:c.toUpperCase())}))||void 0===Y?void 0:Y.length)||0},this.passengerFormGroup=this.fb.group({adultPassenger:this.fb.array([]),childPassenger:this.fb.array([]),infantPassenger:this.fb.array([])},{validator:(0,H.aV)()});const ve=(null===(z=n.ticketInfo.passengers)||void 0===z?void 0:z.filter(l=>{var c;return"ADT"===(null===(c=l.type)||void 0===c?void 0:c.toUpperCase())}).map(l=>{var c;return{firstName:l.firstName,lastName:l.lastName,gender:(null===(c=l.gender)||void 0===c?void 0:c.toLowerCase())||"male"}}))||[],_e=(null===($=n.ticketInfo.passengers)||void 0===$?void 0:$.filter(l=>{var c;return"CHD"===(null===(c=l.type)||void 0===c?void 0:c.toUpperCase())}).map(l=>{var c;return{firstName:l.firstName,lastName:l.lastName,gender:(null===(c=l.gender)||void 0===c?void 0:c.toLowerCase())||"male",birthday:O(l.birthday).toDate()}}))||[],Ce=(null===(X=n.ticketInfo.passengers)||void 0===X?void 0:X.filter(l=>{var c;return"INF"===(null===(c=l.type)||void 0===c?void 0:c.toUpperCase())}).map(l=>{var c;return{firstName:l.firstName,lastName:l.lastName,gender:(null===(c=l.gender)||void 0===c?void 0:c.toLowerCase())||"male",birthday:O(l.birthday).toDate(),parentIndex:l.parentIndex+""}}))||[];this.initPassengerForm(),this.initAdultFormGroup(),this.initChildFormGroup(),this.initInfantFormGroup(),this.passengerFormGroup.patchValue({adultPassenger:ve,childPassenger:_e,infantPassenger:Ce}),this.preInitialFormOrderId=void 0}reloadPassengerForm(){const n=this.passengerFormGroup.value;console.log(n),this.initPassengerForm(),this.initAdultFormGroup(),this.initChildFormGroup(),this.initInfantFormGroup(),this.passengerFormGroup.patchValue(Object.assign({},n))}initJourneyForm(){this.journeyFormGroup=this.fb.group({startPoint:["",[f.kI.required]],endPoint:["",[f.kI.required]],departDate:[null,[f.kI.required]],startTimeRange:[null],enablePriceOption:[!1],targetVNPrice:[0],targetVJPrice:[0],targetQHPrice:[0],enableFareOption:[!0],enableTimeStart:[!1],fareOptions:[null]},{validators:ie})}initConfigurationForm(){this.configurationFormGroup=this.fb.group({dateExpires:[null,[f.kI.required]],timeExpires:[null,[f.kI.required]],sendNotify:[!1,[f.kI.required]],agentDisplayName:[null],agentAvatar:[null],agentName:[null],agentPhone:[null],agentEmail:[null],agentId:[null,[f.kI.required]]})}initPassengerForm(){this.passengerFormGroup=this.fb.group({secretRemark:[null],publicRemark:[null],adultPassenger:this.fb.array([]),childPassenger:this.fb.array([]),infantPassenger:this.fb.array([])},{validator:(0,H.aV)()})}initAdultFormGroup(){for(let n=0;n<this.numberOfPassenger.adult;n++){const g=this.fb.group({firstName:[null,[f.kI.required]],lastName:[null,[f.kI.required]],gender:["male",[f.kI.required]],membershipQH:[null],membershipVN:[null]});this.getFormArray("adultPassenger").push(g)}}initChildFormGroup(){for(let n=0;n<this.numberOfPassenger.child;n++){const g=this.fb.group({birthday:[null,[f.kI.required]],firstName:[null,[f.kI.required]],lastName:[null,[f.kI.required]],gender:["male",[f.kI.required]],membershipQH:[null],membershipVN:[null]},{validator:(0,H.$K)("birthday",this.departureTime)});this.getFormArray("childPassenger").push(g)}}initInfantFormGroup(){for(let n=0;n<this.numberOfPassenger.infant;n++){const g=this.fb.group({birthday:[null,[f.kI.required]],firstName:[null,[f.kI.required]],lastName:[null,[f.kI.required]],gender:["male",[f.kI.required]],parentIndex:[n+"",[f.kI.required]],membershipQH:[null],membershipVN:[null]},{validator:(0,H.DW)("birthday",this.departureTime)});this.getFormArray("infantPassenger").push(g)}}getNumberOfPassenger(){this.initAdultPassengerOptions()}getFormArray(n){return this.passengerFormGroup.controls[n]}getFormControlInArray(n,g){return n.controls[g]}initAdultPassengerOptions(){for(let n=0;n<this.numberOfPassenger.adult;n++)this.optionsAdultPassenger.push({code:n+"",name:`Ng\u01b0\u1eddi l\u1edbn ${n+1}`})}changeNumberOfPassenger(n){this.numberOfPassenger=n,this.numberOfPassengerChange$.next(n)}numOfPax(){return this.numberOfPassenger}formJourneyData(){return this.journeyFormGroup.value}formPassengerData(){return this.passengerFormGroup.value}formConfigurationData(){return this.configurationFormGroup.value}resetDataService(){this.customRangeItem={rangeValues:[0,1439],startTimeStr:"00:00",endTimeStr:"23:59"},this.showPriceOption=!1,this.showTimeStartOption=!1,this.showFareOption=!0,this.selectedFaresTree=[],this.optionDepartureTime=[{name:"S\xe1ng s\u1edbm",code:"early_morning",start:"00:00",end:"05:59",isActive:!1,disable:!1,startTime:0,endTime:360,totalAvailable:0},{name:"Bu\u1ed5i s\xe1ng",code:"morning",start:"06:00",end:"11:59",isActive:!1,disable:!1,startTime:360,endTime:720,totalAvailable:0},{name:"Bu\u1ed5i chi\u1ec1u",code:"afternoon",start:"12:00",end:"17:59",isActive:!1,disable:!1,startTime:720,endTime:1080,totalAvailable:0},{name:"Bu\u1ed5i t\u1ed1i",code:"evening",start:"18:00",end:"23:59",isActive:!1,disable:!1,startTime:1080,endTime:1439,totalAvailable:0},{name:"T\xf9y ch\u1ecdn",code:"custom",start:"00:00",end:"23:59",isActive:!1,disable:!1,startTime:0,endTime:1439,totalAvailable:0}]}isAgent2Show(){const n=this._permissionService.getCurrentAuthor();return"AGENT2"===(null==n?void 0:n.titleCode.toUpperCase())}getSourceEvent(){switch(this.sourceEvent){case"SEARCH_INPUT":return 0;case"SEARCH_RESULT":return 1;case"HEADER_MANAGE":return 2;case"EMPTY_STATE":return 3;case"REGENERATE":return 4;default:return-1}}convertTimeRangeStrToMin(n){return O.duration(n).asMinutes()}minuteToString(n){const g=Math.floor(n/60),b=n%60;let P=`${g}`,E=`${b}`;return g<10&&(P=`0${g}`),b<10&&(E=`0${b}`),`${P}:${E}`}}return p.\u0275fac=function(n){return new(n||p)(d.LFG(ne.gz),d.LFG(ne.F0),d.LFG(f.qu),d.LFG(ue.$A),d.LFG(k))},p.\u0275prov=d.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var w=u(53820);const de={[w.b.CREATE]:{name:"\u0110ang s\u0103n v\xe9",description:"S\u0103n v\xe9 t\u1ef1 \u0111\u1ed9ng \u0111ang ho\u1ea1t \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[w.b.IN_PROCESS]:{name:"\u0110ang canh v\xe9",description:"Canh v\xe9 r\u1ebb t\u1ef1 \u0111\u1ed9ng \u0111ang ho\u1ea1t \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[w.b.COMPLETED]:{name:"\u0110\xe3 s\u0103n th\xe0nh c\xf4ng",description:"\u0110\xe3 s\u0103n \u0111\u01b0\u1ee3c v\xe9",icon:"check",backgroundColor:"bg-[#07A35D]",textColor:"text-neutral-white"},[w.b.IN_PROCESS_PRICE_UP]:{name:"\u0110ang s\u0103n gi\xe1 t\u0103ng",description:"Gi\xe1 v\xe9 \u0111\xe3 t\u0103ng, vui l\xf2ng c\xe2n nh\u1eafc xu\u1ea5t v\xe9",icon:"arrow_right_up",backgroundColor:"bg-[#ffd1bc]",textColor:"text-primary-1-4"},[w.b.CANCEL]:{name:"\u0110\xe3 h\u1ee7y",description:"\u0110\xe3 h\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9",icon:"coupon_slash",backgroundColor:"bg-[#999999]",textColor:"text-neutral-white"},[w.b.EXPIRED]:{name:"\u0110\xe3 h\u1ebft s\u0103n",description:"H\u1ebft h\u1ea1n s\u0103n v\xe9",icon:"clock",backgroundColor:"bg-[#CCCCCC]",textColor:"text-neutral-gray-6"}}},25655:(G,L,u)=>{u.d(L,{h:()=>m});var A=u(36895),e=u(37094),y=u(77296),T=u(72506),i=u(44143),h=u(24006),r=u(61135),S=u(78372),F=u(50633),t=u(94650);function R(s,_){1&s&&(t.TgZ(0,"div",9),t._uU(1," Th\xe0nh ph\u1ed1 - S\xe2n bay "),t.qZA())}function N(s,_){if(1&s){const a=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(a);const x=t.oxw().$implicit,k=t.oxw(2);return t.KtG(k.optionClick(x))}),t._UZ(1,"div",14),t.ALo(2,"highlighter"),t._UZ(3,"div",15),t.ALo(4,"highlighter"),t.qZA()}if(2&s){const a=t.oxw().$implicit,d=t.oxw(2);t.xp6(1),t.Q6J("innerHtml",t.xi3(2,2,a.CityName+", "+a.Title,d.data.currentSelected),t.oJD),t.xp6(2),t.Q6J("innerHtml",t.xi3(4,5,a.Code+" - "+a.AirportName,d.data.currentSelected),t.oJD)}}function v(s,_){if(1&s&&(t.ynx(0),t.YNc(1,N,5,8,"div",12),t.BQk()),2&s){const a=_.index,d=t.oxw(2);t.xp6(1),t.Q6J("ngIf",a<d.ticketInfiniteScrollCount)}}function C(s,_){if(1&s){const a=t.EpF();t.TgZ(0,"div",10),t.NdJ("scrolled",function(){t.CHM(a);const x=t.oxw();return t.KtG(x.onScrollDown())}),t.YNc(1,v,2,1,"ng-container",11),t.qZA()}if(2&s){const a=t.oxw();t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0),t.xp6(1),t.Q6J("ngForOf",a.optionsDisplay)("ngForTrackBy",a.airportTrackByFn)}}function o(s,_){1&s&&(t.TgZ(0,"div",16),t._UZ(1,"img",17),t.TgZ(2,"div",18)(3,"div",19),t._uU(4," Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3 "),t.qZA(),t.TgZ(5,"div",20),t._uU(6," Vui l\xf2ng nh\u1eadp \u0111\xfang t\xean th\xe0nh ph\u1ed1 "),t._UZ(7,"br"),t._uU(8,"v\xe0 s\xe2n bay. "),t.qZA()()())}let m=(()=>{class s{constructor(a,d,x,k){this.data=a,this.registerIcons=d,this.cfBottomSheetRef=x,this.elementRef=k,this.TICKET_INFINITE_SCROLL_DEFAULT=40,this.TICKET_INFINITE_OFSET_INCREASE=30,this.ticketInfiniteScrollCount=this.TICKET_INFINITE_SCROLL_DEFAULT,this.searchTextChange=new r.X(""),this.optionsDisplay=[],d.registerIcons([T.esH]),a.airportOptions=a.airportOptions.filter(f=>!a.excludes.includes(f.Code)),this.optionsDisplay=a.airportOptions,a.currentSelected||(a.currentSelected="")}ngAfterViewInit(){const a=this.elementRef.nativeElement.querySelector("#search-airport");a&&a.focus()}ngOnInit(){this.searchTextChange.pipe((0,S.b)(200)).subscribe(a=>{this.searchFilter(a)})}searchChange(a){this.searchTextChange.next(a.target.value)}searchFilter(a){this.optionsDisplay=""===a?this.data.airportOptions:this.data.airportOptions.filter(d=>this.removeAccents(d.Code.toLocaleLowerCase()).includes(this.removeAccents(a.toLocaleLowerCase()))||this.removeAccents(d.AirportName.toLocaleLowerCase()).includes(this.removeAccents(a.toLocaleLowerCase()))||this.removeAccents(d.CityName.toLocaleLowerCase()).includes(this.removeAccents(a.toLocaleLowerCase()))||this.removeAccents(d.Title.toLocaleLowerCase()).includes(this.removeAccents(a.toLocaleLowerCase())))}removeAccents(a){return a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D")}airportTrackByFn(a,d){return d.Code}onScrollDown(){this.ticketInfiniteScrollCount+=this.TICKET_INFINITE_OFSET_INCREASE}optionClick(a){this.cfBottomSheetRef.dismiss(a)}resetSearch(){this.data.currentSelected="",this.searchFilter("")}}return s.\u0275fac=function(a){return new(a||s)(t.Y36(e.Rr),t.Y36(T.KNP),t.Y36(e.Zu),t.Y36(t.SBq))},s.\u0275cmp=t.Xpm({type:s,selectors:[["airport-bottom-sheet"]],hostAttrs:[1,"w-full","flex"],standalone:!0,features:[t.jDz],decls:9,vars:4,consts:[[1,"p-4","pb-0","flex","flex-col","gap-y-4","flex-auto"],[1,"relative"],[1,"!max-w-none","w-full","flex-grow-0","flex"],["id","search-airport","cf-input","",3,"ngModel","ngModelChange","input"],["cfHeadIcon","","icon","search","size","small",1,"text-neutral-gray-4"],["icon","close","size","small",1,"absolute","right-0","top-1/2","-translate-y-1/2","mr-3",3,"click"],["class","text-neutral-gray-6-brandcolor text-left relative text-heading-xs text-neutral-gray-6",4,"ngIf"],["class","flex flex-col w-full flex-auto overflow-y-auto","infinite-scroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","fromRoot","alwaysCallback","scrolled",4,"ngIf"],["class","flex flex-col justify-center items-center gap-y-5 flex-auto pb-[168px]",4,"ngIf"],[1,"text-neutral-gray-6-brandcolor","text-left","relative","text-heading-xs","text-neutral-gray-6"],["infinite-scroll","",1,"flex","flex-col","w-full","flex-auto","overflow-y-auto",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","fromRoot","alwaysCallback","scrolled"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","flex flex-col py-2 px-3 border-b border-b-neutral-gray-1 shrink-0",3,"click",4,"ngIf"],[1,"flex","flex-col","py-2","px-3","border-b","border-b-neutral-gray-1","shrink-0",3,"click"],[1,"text-body-md-short","text-neutral-gray-6",3,"innerHtml"],[1,"text-body-sm","text-neutral-gray-4",3,"innerHtml"],[1,"flex","flex-col","justify-center","items-center","gap-y-5","flex-auto","pb-[168px]"],["src","assets/images/empty-result.svg",1,"w-16","h-16","object-contain"],[1,"flex","flex-col","gap-1","items-center","justify-start","shrink-0","relative"],[1,"text-neutral-gray-6-brandcolor","text-center","relative","text-heading-sm"],[1,"text-neutral-gray-5","text-center","relative","w-[257px]","text-body-md-long"]],template:function(a,d){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"cf-input-group",2)(3,"input",3),t.NdJ("ngModelChange",function(k){return d.data.currentSelected=k})("input",function(k){return d.searchChange(k)}),t.qZA(),t._UZ(4,"cf-icon",4),t.qZA(),t.TgZ(5,"cf-icon",5),t.NdJ("click",function(){return d.resetSearch()}),t.qZA()(),t.YNc(6,R,2,0,"div",6),t.YNc(7,C,2,7,"div",7),t.YNc(8,o,9,0,"div",8),t.qZA()),2&a&&(t.xp6(3),t.Q6J("ngModel",d.data.currentSelected),t.xp6(3),t.Q6J("ngIf",d.optionsDisplay.length>0),t.xp6(1),t.Q6J("ngIf",d.optionsDisplay.length>0),t.xp6(1),t.Q6J("ngIf",0===d.optionsDisplay.length))},dependencies:[A.ez,A.sg,A.O5,i.j$,i.ND,i.BN,T.AxE,T.Sm8,y.Rq,y.Ry,h.u5,h.Fj,h.JJ,h.On,F.T],encapsulation:2}),s})()},52768:(G,L,u)=>{u.d(L,{z:()=>N});var A=u(98184),e=u(94650),y=u(83700),T=u(72506),i=u(74891),h=u(37094);const r=["bottomSheet"];function S(v,C){1&v&&e._UZ(0,"cf-icon",9)}function F(v,C){1&v&&e._UZ(0,"cf-icon",9)}function t(v,C){if(1&v){const o=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12),e._uU(3,"H\xe0nh kh\xe1ch"),e.qZA()(),e.TgZ(4,"div",13)(5,"div",14),e._UZ(6,"cf-icon",15),e.TgZ(7,"div",16)(8,"div",17),e._uU(9,"Ng\u01b0\u1eddi l\u1edbn"),e.qZA(),e.TgZ(10,"div",18),e._uU(11,"Tr\xean 12 tu\u1ed5i"),e.qZA()()(),e.TgZ(12,"div",19)(13,"button",20),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.decrease("ADT"))}),e._UZ(14,"cf-icon",21),e.qZA(),e.TgZ(15,"div",22),e._uU(16),e.qZA(),e.TgZ(17,"button",20),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.increase("ADT"))}),e._UZ(18,"cf-icon",23),e.qZA()()(),e.TgZ(19,"div",13)(20,"div",14),e._UZ(21,"cf-icon",15),e.TgZ(22,"div",16)(23,"div",17),e._uU(24,"Tr\u1ebb em"),e.qZA(),e.TgZ(25,"div",18),e._uU(26,"T\u1eeb 2 - 12 tu\u1ed5i"),e.qZA()()(),e.TgZ(27,"div",19)(28,"button",20),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.decrease("CHD"))}),e._UZ(29,"cf-icon",21),e.qZA(),e.TgZ(30,"div",22),e._uU(31),e.qZA(),e.TgZ(32,"button",20),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.increase("CHD"))}),e._UZ(33,"cf-icon",23),e.qZA()()(),e.TgZ(34,"div",24)(35,"div",14),e._UZ(36,"cf-icon",15),e.TgZ(37,"div",16)(38,"div",17),e._uU(39,"Em b\xe9"),e.qZA(),e.TgZ(40,"div",18),e._uU(41,"D\u01b0\u1edbi 2 tu\u1ed5i"),e.qZA()()(),e.TgZ(42,"div",19)(43,"button",20),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.decrease("INF"))}),e._UZ(44,"cf-icon",21),e.qZA(),e.TgZ(45,"div",22),e._uU(46),e.qZA(),e.TgZ(47,"button",20),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.increase("INF"))}),e._UZ(48,"cf-icon",23),e.qZA()()(),e.TgZ(49,"div",25)(50,"button",26),e.NdJ("click",function(){e.CHM(o);const s=e.oxw();return e.KtG(s.closeBotomSheet())}),e._uU(51,"X\xe1c nh\u1eadn"),e.qZA()()()}if(2&v){const o=e.oxw();e.xp6(13),e.Q6J("disabled",o._adultNumber<=1||1===o._adultNumber&&1===o._infantNumber),e.xp6(3),e.Oqu(o._adultNumber),e.xp6(1),e.Q6J("disabled",o._adultNumber+o._childNumber===o.ADULT_CHILD_LIMIT),e.xp6(11),e.Q6J("disabled",0===o._childNumber||o._adultNumber+o._childNumber===1),e.xp6(3),e.Oqu(o._childNumber),e.xp6(1),e.Q6J("disabled",o._adultNumber+o._childNumber===o.ADULT_CHILD_LIMIT||o._childNumber===o.CHILD_LIMIT),e.xp6(11),e.Q6J("disabled",0===o._infantNumber),e.xp6(3),e.Oqu(o._infantNumber),e.xp6(1),e.Q6J("disabled",o._infantNumber===o._adultNumber)}}let N=(()=>{class v{constructor(o){this.bottomSheetService=o,this.adultNumber=1,this.childNumber=0,this.infantNumber=0,this.showIcon=!0,this._adultNumber=this.adultNumber,this._childNumber=this.childNumber,this._infantNumber=this.infantNumber,this.bottomCenter=[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:0,offsetY:0}],this.ADULT_CHILD_LIMIT=9,this.CHILD_LIMIT=8,this.numberOfPassengerChange=new e.vpe,this.isOpen=!1}click(o){this.loadTempData(),this.isOpen=!this.isOpen,o.stopPropagation()}outsideClick(o){this.isOpen=!1}emitData(){this.numberOfPassengerChange.emit({adult:this._adultNumber,child:this._childNumber,infant:this._infantNumber})}reset(){this.loadTempData()}loadTempData(){this._adultNumber=this.adultNumber,this._childNumber=this.childNumber,this._infantNumber=this.infantNumber}increase(o){switch(o){case"ADT":this._adultNumber++;break;case"CHD":this._childNumber++;break;case"INF":this._infantNumber++}this.emitData()}decrease(o){switch(o){case"ADT":this._adultNumber===this._infantNumber&&1!==this._adultNumber&&this._infantNumber--,this._adultNumber--;break;case"CHD":this._childNumber--;break;case"INF":this._infantNumber--}this.emitData()}openBottomSheet(){this.bottomSheetService.open(this.bottomSheet,{headerTitle:"S\u1ed1 l\u01b0\u1ee3ng h\xe0nh kh\xe1ch",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"}).containerInstance._rightButtonClick.subscribe(()=>this.bottomSheetService.dismiss())}closeBotomSheet(){this.bottomSheetService.dismiss()}}return v.\u0275fac=function(o){return new(o||v)(e.Y36(h.a2))},v.\u0275cmp=e.Xpm({type:v,selectors:[["cf-number-of-passenger"]],viewQuery:function(o,m){if(1&o&&e.Gf(r,5),2&o){let s;e.iGM(s=e.CRH())&&(m.bottomSheet=s.first)}},inputs:{adultNumber:"adultNumber",childNumber:"childNumber",infantNumber:"infantNumber",showIcon:"showIcon"},outputs:{numberOfPassengerChange:"numberOfPassengerChange"},standalone:!0,features:[e.jDz],decls:13,vars:7,consts:[["cdkOverlayOrigin","","tabIndex","-1",1,"flex","items-center","gap-x-2","cursor-pointer","md:hidden",3,"click"],["trigger","","originOverlay","cdkOverlayOrigin"],["icon","users","size","small",1,"text-neutral-gray-5"],[1,"text-body-md","text-neutral-black"],["class","text-neutral-gray-5","icon","down","size","small",4,"ngIf"],[1,"gap-x-1.5","items-center","border","border-neutral-gray-3","rounded-full","px-4","py-[5px]","hidden","md:flex",3,"click"],[1,"text-body-md","whitespace-nowrap"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","overlayOutsideClick"],["bottomSheet",""],["icon","down","size","small",1,"text-neutral-gray-5"],[1,"p-4","shadow-cf-lg","w-[280px]","bg-neutral-white","rounded","md:w-full","md:pt-5"],[1,"flex","justify-start","items-center","pb-3.5","rounded","md:hidden"],[1,"text-heading-sm","text-neutral-black"],[1,"flex","items-center","justify-between","mb-3","md:mb-4"],[1,"flex","items-center","gap-x-3"],["icon","user","size","small"],[1,"flex","flex-col","gap-y-1"],[1,"text-espressive-md","text-neutral-black","md:text-heading-xs"],[1,"text-espressive-xs","text-neutral-gray-4","md:text-body-sm"],[1,"flex","items-center","justify-end"],["cf-button","","size","small","type","secondary",3,"disabled","click"],["icon","minus","size","small"],[1,"text-espressive-md","text-neutral-black","mx-4"],["icon","plus","size","small"],[1,"flex","items-center","justify-between","mb-[22px]","md:mb-6"],[1,"hidden","md:block"],["cf-button","",1,"w-full","justify-center",3,"click"]],template:function(o,m){if(1&o&&(e.TgZ(0,"div",0,1),e.NdJ("click",function(_){return m.click(_)}),e._UZ(3,"cf-icon",2),e.TgZ(4,"div",3),e._uU(5),e.qZA(),e.YNc(6,S,1,0,"cf-icon",4),e.qZA(),e.TgZ(7,"div",5),e.NdJ("click",function(){return m.openBottomSheet()}),e.TgZ(8,"div",6),e._uU(9),e.qZA(),e.YNc(10,F,1,0,"cf-icon",4),e.qZA(),e.YNc(11,t,52,9,"ng-template",7,8,e.W1O),e.NdJ("overlayOutsideClick",function(_){return m.outsideClick(_)})),2&o){const s=e.MAs(2);e.xp6(5),e.hij("",m.adultNumber+m.childNumber," kh\xe1ch"),e.xp6(1),e.Q6J("ngIf",m.showIcon),e.xp6(3),e.hij("",m.adultNumber+m.childNumber," kh\xe1ch"),e.xp6(1),e.Q6J("ngIf",m.showIcon),e.xp6(1),e.Q6J("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",m.isOpen)("cdkConnectedOverlayPositions",m.bottomCenter)}},dependencies:[T.AxE,T.Sm8,y.N8,y.Xq,i.f,A.pI,A.xu,A.U8,h.DW],encapsulation:2}),v})()},50633:(G,L,u)=>{u.d(L,{T:()=>e});var A=u(94650);let e=(()=>{class y{transform(i,h){if(!h)return i;h=h.toLocaleLowerCase(),h=(h=(h=(h=(h=(h=(h=(h=this.removeAccents(h)).replace("a","[a|\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5]")).replace("e","[e|\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5]")).replace("i","[i|\xec|\xed|\u1ecb|\u1ec9|\u0129]")).replace("o","[o|\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1]")).replace("u","[u|\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef]")).replace("y","[y|\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9]")).replace("d","[d|\u0111]");const r=new RegExp(h,"igm");return i.replace(r,'<span class="text-secondary-7-5">$&</span>')}removeAccents(i){return i.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D")}}return y.\u0275fac=function(i){return new(i||y)},y.\u0275pipe=A.Yjl({name:"highlighter",type:y,pure:!0,standalone:!0}),y})()}}]);