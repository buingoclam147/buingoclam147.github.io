"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[608,2733],{57085:(R,P,l)=>{l.d(P,{bz:()=>n,$K:()=>d,DW:()=>m,aV:()=>u});const n=(h,v)=>h.get(v);var t=l(15439);const d=(h,v)=>g=>{const f=g.controls[h];if(!f.value)return;const M=t(v).startOf("day").add(0,"hours").toDate().getTime(),F=t(f.value).toDate();F.setFullYear(F.getFullYear()+2);const A=F.getTime(),e=t(f.value).toDate();e.setFullYear(e.getFullYear()+12);const _=e.getTime();M<=_&&M>A?f.setErrors(null):M<=_?f.setErrors({DoBChildUnder:!0}):M>A&&f.setErrors({DoBChildUpper:!0})},m=(h,v)=>g=>{const f=g.controls[h];if(!f.value)return;const M=t(v).startOf("day").add(0,"hours").toDate().getTime(),F=t(f.value).toDate().getTime(),A=t(f.value).toDate();A.setFullYear(A.getFullYear()+2);const e=A.getTime();f.setErrors(M<=e&&M>F?null:{DoBInfant:!0})},u=()=>h=>{let v=[];for(let g=0;g<h.controls.infantPassenger.controls.length;g++){const f=h.controls.infantPassenger.at(g).controls.parentIndex.value;v.push({index:g,parentIndex:f})}for(let g=0;g<h.controls.infantPassenger.controls.length;g++){const f=h.controls.infantPassenger.at(g).controls.parentIndex.value;v.filter(F=>F.parentIndex===f).length>1?h.controls.infantPassenger.at(g).controls.parentIndex.setErrors({ParentInfantDupplicate:!0}):h.controls.infantPassenger.at(g).controls.parentIndex.setErrors(null)}}},72725:(R,P,l)=>{l.d(P,{q:()=>A});var n=l(80529),t=l(44500),d=l(54004),m=l(50494),u=l(97582),h=l(87067),v=l(43429);class g{}(0,u.gn)([(0,h.C)()],g.prototype,"status",void 0),(0,u.gn)([(0,v.D)(()=>f),(0,h.C)()],g.prototype,"data",void 0),(0,u.gn)([(0,h.C)()],g.prototype,"objectError",void 0),(0,u.gn)([(0,h.C)()],g.prototype,"success",void 0);class f{}(0,u.gn)([(0,h.C)()],f.prototype,"promoCode",void 0),(0,u.gn)([(0,h.C)()],f.prototype,"airline",void 0),(0,u.gn)([(0,h.C)()],f.prototype,"description",void 0),(0,u.gn)([(0,h.C)()],f.prototype,"startPoint",void 0),(0,u.gn)([(0,h.C)()],f.prototype,"endPoint",void 0),(0,u.gn)([(0,h.C)()],f.prototype,"startIssuedDay",void 0),(0,u.gn)([(0,h.C)()],f.prototype,"endIssuedDay",void 0),(0,u.gn)([(0,h.C)()],f.prototype,"startFlyDay",void 0),(0,u.gn)([(0,h.C)()],f.prototype,"endFlyDay",void 0),(0,u.gn)([(0,h.C)()],f.prototype,"journeyType",void 0),(0,u.gn)([(0,h.C)()],f.prototype,"paxNum",void 0),(0,u.gn)([(0,h.C)()],f.prototype,"paxType",void 0),(0,u.gn)([(0,h.C)()],f.prototype,"priority",void 0),(0,u.gn)([(0,h.C)()],f.prototype,"autoSuggest",void 0),(0,u.gn)([(0,h.C)()],f.prototype,"status",void 0),(0,u.gn)([(0,h.C)()],f.prototype,"id",void 0);var M=l(94650);const F={headers:new n.WM({"Content-Type":"application/json"})};let A=(()=>{class e{constructor(r,y){this.http=r,this.appConfig=y}createPromotion(r){return this.http.post(this.appConfig.apiUrl+"flight/create-promotion",JSON.stringify(r),F)}editPromotion(r,y){return this.http.post(this.appConfig.apiUrl+"flight/update-promotion",JSON.stringify(Object.assign({id:r},y)),F)}getAllPromotion(r){return this.http.post(this.appConfig.apiUrl+"flight/get-promotion",JSON.stringify(r),F).pipe((0,d.U)(y=>(0,m.yE)(g,y,{excludeExtraneousValues:!0})))}getAllPromotionForManage(r){return this.http.post(this.appConfig.apiUrl+"flight/get-all-promotion",JSON.stringify(r),F).pipe((0,d.U)(y=>(0,m.yE)(g,y,{excludeExtraneousValues:!0})))}}return e.\u0275fac=function(r){return new(r||e)(M.LFG(n.eN),M.LFG(t.qB))},e.\u0275prov=M.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},85114:(R,P,l)=>{l.d(P,{v:()=>M});var n=l(36895),t=l(24006),d=l(15439),m=l(94650),u=l(13138),h=l(62733),v=l(72725),g=l(40899),f=l(9381);let M=(()=>{class F{constructor(e,_,r,y,I,O){this._fb=e,this._dataProvider=_,this._flightDataService=r,this._promotionService=y,this._permissionService=I,this._mobileDetectService=O,this.airlineFilters=[],this.promotionGroupFilters=[],this.promotionRaws=[],this.numberOfPassenger={adult:1,child:0,infant:0},this.MULTI_ROUTE_LIMIT=4,this.isDirectFlight=!1,this.flightType="ONE_WAY",this.initForm(),this.initAirlineFilter()}initForm(){this.searchInputForm=this._fb.array([this._fb.group({startPoint:["",t.kI.required],endPoint:["",t.kI.required],departDate:["",t.kI.required]})])}patchForm(){if(this._dataProvider.searchInputData){const e=this._dataProvider.searchInputData.journey[0],_=this._dataProvider.searchInputData.journey[1],r=this._dataProvider.searchInputData.journey.length;1===r?this.flightType="ONE_WAY":2===r&&(this.flightType="ROUND_TRIP",this.searchInputForm=this._fb.array([this._fb.group({startPoint:["",t.kI.required],endPoint:["",t.kI.required],departDate:["",t.kI.required],returnDate:[""]})])),"ONE_WAY"===this.flightType?this.searchInputForm.at(0).patchValue({startPoint:e.startPoint,endPoint:e.endPoint,departDate:new Date(e.departDate)}):"ROUND_TRIP"===this.flightType&&this.searchInputForm.at(0).patchValue({startPoint:e.startPoint,endPoint:e.endPoint,departDate:new Date(e.departDate),returnDate:new Date(_.departDate)}),this.airlineFilters.forEach(y=>{var I;y.actived=!(null===(I=null==e?void 0:e.airline.toLowerCase())||void 0===I||!I.includes(y.value.toLowerCase()))}),this.numberOfPassengerChange({adult:this._dataProvider.searchInputData.adult,child:this._dataProvider.searchInputData.child,infant:this._dataProvider.searchInputData.infant}),this._dataProvider.searchInputData.promotionGroupFilters&&(this.promotionGroupFilters=this._dataProvider.searchInputData.promotionGroupFilters)}}initAirlineFilter(){this.airlineFilters=[{name:"Vietnam Airlines (VN)",value:"VN",actived:!1,logo:"assets/icons/vn-icon.svg"},{name:"Vietjet Air (VJ)",value:"VJ",actived:!1,logo:"assets/icons/vj-icon.svg"},{name:"Bamboo Airways (QH)",value:"QH",actived:!1,logo:"assets/icons/qh-icon.svg"},{name:"GDS (1G)",value:"GDS",actived:!1,logo:"assets/icons/airline-default-icon.svg"}]}initPromotionGroup(){this.promotionGroupFilters=[{airline:"VN",airlineLogo:"assets/icons/vn-icon.svg",items:[],selectedCode:""},{airline:"QH",airlineLogo:"assets/icons/qh-icon.svg",items:[],selectedCode:""},{airline:"VJ",airlineLogo:"assets/icons/vj-icon.svg",items:[],selectedCode:""}];const e=new Date,_=new Date;e.setFullYear(e.getFullYear()-2),_.setFullYear(_.getFullYear()+2),this._promotionService.getAllPromotion({airline:"",dayType:"FLY_DAY",fromDay:(0,n.p6)(e,"dd/MM/yyyy","vi-VN"),toDay:(0,n.p6)(_,"dd/MM/yyyy","vi-VN"),hidePromoExpired:!0,priority:"ALL",searchText:"",status:"ACTIVE"}).subscribe({next:r=>{this.promotionRaws=r.data,r.data.forEach(y=>{const I=this.promotionGroupFilters.find(O=>O.airline===y.airline);null==I||I.items.push({code:y.promoCode,description:y.description,isSystemPromotion:!0})})}})}numberOfPassengerChange(e){this.numberOfPassenger=e}checkDirectFlight(e){this.isDirectFlight=e}suggestPromotion(){var e,_;let r="ONE_WAY";r="ROUND_TRIP"===this.flightType&&this.searchInputForm.controls[0].controls.departDate.value?"ROUND_TRIP":"ONE_WAY";const y=this.searchInputForm.controls[0].controls.startPoint.value,I=this.searchInputForm.controls[0].controls.endPoint.value,O=null===(e=this.searchInputForm.controls[0].controls.departDate)||void 0===e?void 0:e.value,L=null===(_=this.searchInputForm.controls[0].controls.returnDate)||void 0===_?void 0:_.value,Y=this.promotionRaws.filter(k=>k.autoSuggest&&this.isMatchPromotion(k,{journeyType:r,startPoint:y,endPoint:I,departDate:O,returnDate:L}));let K=!1;const Z=this.promotionGroupFilters.map(k=>{if(""!==k.selectedCode)return k;{const x=Y.filter(N=>N.airline===k.airline).sort((N,w)=>("HIGH"===N.priority?1:0)-("HIGH"===w.priority?1:0));return x.length>0&&(k.selectedCode=x[0].promoCode,K=!0),k}});K&&(this.promotionGroupFilters=Z,this._dataProvider.searchInputData=Object.assign(Object.assign({},this._dataProvider.searchInputData),{promotionGroupFilters:Z}))}isMatchPromotion(e,_){if("ALL"!==e.journeyType&&e.journeyType!==_.journeyType||""!==e.startPoint&&e.startPoint!==_.startPoint||""!==e.endPoint&&e.endPoint!==_.endPoint)return!1;let r=!0;((_.departDate?_.departDate.getTime():0)<1e3*e.startFlyDay||_.departDate.getTime()>1e3*e.endFlyDay)&&(r=!1);let I=!0;if(((_.returnDate?_.returnDate.getTime():0)<1e3*e.startFlyDay||_.returnDate.getTime()>1e3*e.endFlyDay)&&(I=!1),!r&&!I)return!1;const L=(new Date).getTime();return!(L<1e3*e.startIssuedDay||L>1e3*e.endIssuedDay||"ADT"===e.paxType&&0!==e.paxNum&&this.numberOfPassenger.adult<e.paxNum||"CHD"===e.paxType&&0!==e.paxNum&&this.numberOfPassenger.child<e.paxNum||"ALL"===e.paxType&&0!==e.paxNum&&this.numberOfPassenger.adult+this.numberOfPassenger.child<e.paxNum)}airlineFilterChange(e){this.airlineFilters.forEach(_=>_.actived=!1),this.airlineFilters.filter(_=>e.includes(_.value)).forEach(_=>_.actived=!0)}addMultiRoute(){if(this.searchInputForm.length<this.MULTI_ROUTE_LIMIT){const e=this._fb.group({startPoint:["",t.kI.required],endPoint:["",t.kI.required],departDate:["",t.kI.required]});this.searchInputForm.controls.push(e)}}removeRoute(e){this.searchInputForm.removeAt(e)}removeAllDataMultiRoute(){const e=this.searchInputForm.length;this.searchInputForm.clear();for(let _=0;_<e;_++){const r=this._fb.group({startPoint:["",t.kI.required],endPoint:["",t.kI.required],departDate:["",t.kI.required]});this.searchInputForm.controls.push(r)}}flightTypeChange(e){var _,r,y;if(this.flightType=e,"ONE_WAY"==e){const I=null===(_=this.searchInputForm.controls[0])||void 0===_?void 0:_.value;I.returnDate&&(this.oldReturnDate=I.returnDate);const O=this._fb.group({startPoint:["",t.kI.required],endPoint:["",t.kI.required],departDate:["",t.kI.required]});O.patchValue(I),this.searchInputForm.clear(),this.searchInputForm.controls.push(O)}else if("ROUND_TRIP"==e){const I=null===(r=this.searchInputForm.controls[0])||void 0===r?void 0:r.value,O=this._fb.group({startPoint:["",t.kI.required],endPoint:["",t.kI.required],departDate:["",t.kI.required],returnDate:["",t.kI.required]});O.patchValue(I),this.oldReturnDate&&O.controls.departDate.value&&d(O.controls.departDate.value).toDate().getTime()<=d(this.oldReturnDate).toDate().getTime()&&O.controls.returnDate.setValue(this.oldReturnDate),this.searchInputForm.clear(),this.searchInputForm.controls.push(O)}else{const I=null===(y=this.searchInputForm.controls[0])||void 0===y?void 0:y.value;I.returnDate&&(this.oldReturnDate=I.returnDate);const O=this._fb.group({startPoint:["",t.kI.required],endPoint:["",t.kI.required],departDate:["",t.kI.required]}),L=this._fb.group({startPoint:["",t.kI.required],endPoint:["",t.kI.required],departDate:["",t.kI.required]}),Y=this._fb.group({startPoint:["",t.kI.required],endPoint:["",t.kI.required],departDate:["",t.kI.required]});O.patchValue(I),this.searchInputForm.clear(),this.searchInputForm.controls.push(O),this.searchInputForm.controls.push(L),this.searchInputForm.controls.push(Y)}}prepareRequestFlight(e){var _;if(this.searchInputForm.markAllAsTouched(),this.searchInputForm.updateValueAndValidity(),this.searchInputForm.valid){if("ONE_WAY"===e&&(this._dataProvider.searchInputData={adult:this.numberOfPassenger.adult,child:this.numberOfPassenger.child,infant:this.numberOfPassenger.infant,journey:[Object.assign(Object.assign({},null===(_=this.searchInputForm.controls[0])||void 0===_?void 0:_.value),{airline:this.getListAirlineSearch()})],promotion:this.promotionGroupFilters.filter(r=>""!=r.selectedCode).map(r=>({airline:r.airline,code:r.selectedCode})),promotionGroupFilters:this.promotionGroupFilters.filter(r=>""!=r.selectedCode),isDirectFlight:this.isDirectFlight,type:e}),"ROUND_TRIP"===e){const r={adult:this.numberOfPassenger.adult,child:this.numberOfPassenger.child,infant:this.numberOfPassenger.infant,journey:[],promotion:this.promotionGroupFilters.filter(y=>""!=y.selectedCode).map(y=>({airline:y.airline,code:y.selectedCode})),isDirectFlight:this.isDirectFlight,type:e};""!=this.searchInputForm.controls[0].controls.departDate.value&&null!=this.searchInputForm.controls[0].controls.departDate.value&&r.journey.push({startPoint:this.searchInputForm.controls[0].controls.startPoint.value,endPoint:this.searchInputForm.controls[0].controls.endPoint.value,departDate:this.searchInputForm.controls[0].controls.departDate.value,airline:this.getListAirlineSearch()}),""!=this.searchInputForm.controls[0].controls.returnDate.value&&null!=this.searchInputForm.controls[0].controls.returnDate.value&&r.journey.push({startPoint:this.searchInputForm.controls[0].controls.endPoint.value,endPoint:this.searchInputForm.controls[0].controls.startPoint.value,departDate:this.searchInputForm.controls[0].controls.returnDate.value,airline:this.getListAirlineSearch()}),this._dataProvider.searchInputData=r}return"MULTI_WAY"===e&&(this._dataProvider.searchInputData={adult:this.numberOfPassenger.adult,child:this.numberOfPassenger.child,infant:this.numberOfPassenger.infant,journey:this.searchInputForm.controls.map(r=>Object.assign(Object.assign({},r.value),{airline:this.getListAirlineSearch()})),promotion:this.promotionGroupFilters.filter(r=>""!=r.selectedCode).map(r=>({airline:r.airline,code:r.selectedCode})),isDirectFlight:this.isDirectFlight,type:e}),!0}return this.promotionGroupFilters.length&&(this._dataProvider.searchInputData=Object.assign(Object.assign({},this._dataProvider.searchInputData),{promotionGroupFilters:this.promotionGroupFilters})),!1}reset(){this.initForm(),this.initAirlineFilter(),this.numberOfPassenger={adult:1,child:0,infant:0},this.initPromotionGroup(),this.isDirectFlight=!1}getListAirlineSearch(){const e=this.airlineFilters.map(r=>r.value).join(","),_=this.airlineFilters.filter(r=>r.actived).map(r=>r.value.toLocaleLowerCase());return _.length?_.join(","):e}}return F.\u0275fac=function(e){return new(e||F)(m.LFG(t.qu),m.LFG(u.R),m.LFG(h.G),m.LFG(v.q),m.LFG(g.$A),m.LFG(f.L))},F.\u0275prov=m.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})()},65441:(R,P,l)=>{l.r(P),l.d(P,{MobileSearchInputComponent:()=>X,SearchFlightPageComponent:()=>K});var n=l(40899),t=l(36895),d=l(24006),m=l(82761),u=l(83700),h=l(27898),v=l(72506),g=l(51890),f=l(52768),M=l(69777),F=l(86493),A=l(35275),e=l(94650),_=l(13138),r=l(97579),y=l(85114),I=l(9381),O=l(42678);function L(S,J){if(1&S){const p=e.EpF();e.TgZ(0,"div",24)(1,"div",25),e.NdJ("click",function(){e.CHM(p);const E=e.oxw();return e.KtG(E.addMultiRoute())}),e._UZ(2,"cf-icon",26),e.TgZ(3,"div",27),e._uU(4,"Th\xeam ch\u1eb7ng m\u1edbi"),e.qZA()(),e.TgZ(5,"div",28),e.NdJ("click",function(){e.CHM(p);const E=e.oxw();return e.KtG(E.removeAllDataMultiRoute())}),e._UZ(6,"cf-icon",29),e.TgZ(7,"div",30),e._uU(8,"X\xf3a t\u1ea5t c\u1ea3"),e.qZA()()()}}function Y(S,J){if(1&S){const p=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(p);const E=e.oxw();return e.KtG(E.onRegisterBookingHunter())}),e._UZ(1,"cf-icon",32),e.TgZ(2,"span"),e._uU(3,"S\u0103n v\xe9"),e.qZA()()}}let K=(()=>{class S{constructor(p,C,E,b,j,V,tt,et){this.cfIconRegister=p,this._dataProvider=C,this._router=E,this._modal=b,this._searchFlightService=j,this._permissionService=V,this._mobileDetectService=tt,this._requestDataService=et,this.flightTypeSearch=g.j.OneWay,this.multiFilghtType=g.j.MultiWay,this.huntBookingFlag=this._permissionService.hasPermission(n.or.CanMonitorHuntFareTicket),this.initIcon(),this.resetForm(),j.flightType="ONE_WAY"}initIcon(){this.cfIconRegister.registerIcons([v.bHT,v.D5L,v.TM4,v.gll,v.TOh,v.KYu,v.tLH,v.IIV,v._hx,v.YwC])}resetForm(){this._searchFlightService.reset()}numberOfPassengerChange(p){this._searchFlightService.numberOfPassengerChange(p),this._searchFlightService.suggestPromotion()}airlineFilterChange(p){this._searchFlightService.airlineFilterChange(p)}addMultiRoute(){this._searchFlightService.addMultiRoute()}removeRoute(p){this._searchFlightService.removeRoute(p)}removeAllDataMultiRoute(){this._searchFlightService.removeAllDataMultiRoute()}flightTypeChange(p){switch(this.flightTypeSearch=p,p){case g.j.OneWay:this._searchFlightService.flightTypeChange("ONE_WAY");break;case g.j.RoundTrip:this._searchFlightService.flightTypeChange("ROUND_TRIP");break;case g.j.MultiWay:this._searchFlightService.flightTypeChange("MULTI_WAY")}}searchFlight(){let p;p=this.flightTypeSearch===g.j.OneWay?"ONE_WAY":this.flightTypeSearch===g.j.RoundTrip?"ROUND_TRIP":"MULTI_WAY",this._searchFlightService.prepareRequestFlight(p)&&this._router.navigate(["/admin/search-flight-result"])}suggestPromotion(){this._searchFlightService.suggestPromotion()}onCheckDirectFlight(p){this._searchFlightService.checkDirectFlight(p)}onRegisterBookingHunter(){this._requestDataService.sourceEvent="SEARCH_INPUT",this._router.navigate(["admin/request-booking-hunter"],{state:{isEntryPointSearch:!1}})}}return S.\u0275fac=function(p){return new(p||S)(e.Y36(v.KNP),e.Y36(_.R),e.Y36(m.F0),e.Y36(r.oE),e.Y36(y.v),e.Y36(n.$A),e.Y36(I.L),e.Y36(O.FH))},S.\u0275cmp=e.Xpm({type:S,selectors:[["search-flight-page"]],hostAttrs:[1,"h-full"],standalone:!0,features:[e.jDz],decls:29,vars:16,consts:[[1,"relative","h-full"],["src","https://cheapflighttest.s3.ap-southeast-1.amazonaws.com/banner.png",1,"w-full","md:h-[218px]","md:object-cover","h-full"],[1,"absolute","top-0","left-0","w-full","pt-[53px]","px-[30px]","md:pt-5","md:px-4"],[1,"bg-neutral-white","p-6","rounded-lg","w-full","shadow-cf-md","md:p-4"],[1,"flex","items-center","justify-between","mb-5"],[1,"md:w-full"],[3,"flightType","flightTypeSearchChange"],[1,"flex","items-center","justify-end","gap-x-4","md:hidden"],[3,"adultNumber","childNumber","infantNumber","numberOfPassengerChange"],[3,"airlineList","airlineFilterChange"],[3,"isShowTooltipFirstTime","promotionGroupList"],[1,"mb-[20px]","md:mb-4"],[3,"formArray","removeRoute","dataChange"],[1,"gap-x-2","hidden","md:flex","overflow-x-auto"],["class","flex items-center gap-x-10 mb-5",4,"ngIf"],[1,"h-0","border-b","border-b-neutral-gray-2","my-4","hidden","md:block"],[1,"flex","justify-between","items-center","md:flex-col","md:items-start","md:gap-y-4"],[1,"flex","justify-start","gap-x-[34px]"],[1,"flex","items-center","gap-3","whitespace-nowrap"],["size","medium",3,"checkChange"],[1,"flex","justify-end","gap-x-2","w-full"],["cf-button","","size","medium","type","solid","class","!bg-neutral-gray-5 flex gap-x-2 text-neutral-white hover:!opacity-80 hover:!bg-neutral-gray-5 active:!bg-neutral-gray-5 active:!opacity-100",3,"click",4,"ngIf"],["cf-button","","size","medium","color","primary-1","type","solid",1,"md:justify-center",3,"click"],["icon","search","size","small",1,"mr-2.5"],[1,"flex","items-center","gap-x-10","mb-5"],[1,"flex","items-center","text-secondary-1-5","cursor-pointer",3,"click"],["icon","plus","size","small",1,"mr-2.5"],[1,"text-heading-xs"],[1,"flex","items-center","text-neutral-black","cursor-pointer",3,"click"],["icon","rotate_left","size","small",1,"mr-2.5"],[1,"text-body-md"],["cf-button","","size","medium","type","solid",1,"!bg-neutral-gray-5","flex","gap-x-2","text-neutral-white","hover:!opacity-80","hover:!bg-neutral-gray-5","active:!bg-neutral-gray-5","active:!opacity-100",3,"click"],["icon","ticket","size","small",1,"mr-1.5"]],template:function(p,C){1&p&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"cf-flight-type-selector",6),e.NdJ("flightTypeSearchChange",function(b){return C.flightTypeChange(b)}),e.qZA()(),e.TgZ(7,"div",7)(8,"cf-number-of-passenger",8),e.NdJ("numberOfPassengerChange",function(b){return C.numberOfPassengerChange(b)}),e.qZA(),e.TgZ(9,"cf-airline-filter",9),e.NdJ("airlineFilterChange",function(b){return C.airlineFilterChange(b)}),e.qZA(),e._UZ(10,"cf-voucher-selector",10),e.qZA()(),e.TgZ(11,"div",11)(12,"cf-search-flight-input",12),e.NdJ("removeRoute",function(b){return C.removeRoute(b)})("dataChange",function(){return C.suggestPromotion()}),e.qZA()(),e.TgZ(13,"div",13)(14,"cf-number-of-passenger",8),e.NdJ("numberOfPassengerChange",function(b){return C.numberOfPassengerChange(b)}),e.qZA(),e.TgZ(15,"cf-airline-filter",9),e.NdJ("airlineFilterChange",function(b){return C.airlineFilterChange(b)}),e.qZA(),e._UZ(16,"cf-voucher-selector",10),e.qZA(),e.YNc(17,L,9,0,"div",14),e._UZ(18,"div",15),e.TgZ(19,"div",16)(20,"div",17)(21,"div",18)(22,"cf-checkbox",19),e.NdJ("checkChange",function(b){return C.onCheckDirectFlight(b)}),e._uU(23," Ch\u1ec9 c\xe1c chuy\u1ebfn bay th\u1eb3ng "),e.qZA()()(),e.TgZ(24,"div",20),e.YNc(25,Y,4,0,"button",21),e.TgZ(26,"button",22),e.NdJ("click",function(){return C.searchFlight()}),e._UZ(27,"cf-icon",23),e._uU(28," T\xecm chuy\u1ebfn bay "),e.qZA()()()()()()),2&p&&(e.xp6(6),e.Q6J("flightType",C.flightTypeSearch),e.xp6(2),e.Q6J("adultNumber",C._searchFlightService.numberOfPassenger.adult)("childNumber",C._searchFlightService.numberOfPassenger.child)("infantNumber",C._searchFlightService.numberOfPassenger.infant),e.xp6(1),e.Q6J("airlineList",C._searchFlightService.airlineFilters),e.xp6(1),e.Q6J("isShowTooltipFirstTime",!0)("promotionGroupList",C._searchFlightService.promotionGroupFilters),e.xp6(2),e.Q6J("formArray",C._searchFlightService.searchInputForm),e.xp6(2),e.Q6J("adultNumber",C._searchFlightService.numberOfPassenger.adult)("childNumber",C._searchFlightService.numberOfPassenger.child)("infantNumber",C._searchFlightService.numberOfPassenger.infant),e.xp6(1),e.Q6J("airlineList",C._searchFlightService.airlineFilters),e.xp6(1),e.Q6J("isShowTooltipFirstTime",!1)("promotionGroupList",C._searchFlightService.promotionGroupFilters),e.xp6(1),e.Q6J("ngIf",C.flightTypeSearch===C.multiFilghtType),e.xp6(8),e.Q6J("ngIf",C.huntBookingFlag))},dependencies:[v.AxE,v.Sm8,u.N8,u.Xq,h.u,g.D,f.z,M.h,F.u,A.t,d.u5,d.UX,m.Bz,t.O5],encapsulation:2}),S})();var Z=l(28490),k=l(37094);function x(S,J){1&S&&e._UZ(0,"cf-icon",15)}function N(S,J){1&S&&e._UZ(0,"cf-icon",16)}function w(S,J){if(1&S&&(e.TgZ(0,"div",11),e._uU(1),e.ALo(2,"date"),e.qZA()),2&S){const p=e.oxw();e.xp6(1),e.Oqu(e.xi3(2,1,p.journeys[0].departDate,"dd/MM/yyyy"))}}function Q(S,J){if(1&S&&(e.TgZ(0,"div",11),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.qZA()),2&S){const p=e.oxw();e.xp6(1),e.AsE("",e.xi3(2,2,p.journeys[0].departDate,"dd/MM/yyyy")," - ",e.xi3(3,5,p.journeys[1].departDate,"dd/MM/yyyy"),"")}}function B(S,J){1&S&&(e.TgZ(0,"div"),e._uU(1,"M\u1ed9t chi\u1ec1u"),e.qZA())}function H(S,J){1&S&&(e.TgZ(0,"div"),e._uU(1,"Kh\u1ee9 h\u1ed3i"),e.qZA())}function z(S,J){if(1&S){const p=e.EpF();e.TgZ(0,"div",17),e.NdJ("click",function(){e.CHM(p);const E=e.oxw();return e.KtG(E.openQuotation())}),e._UZ(1,"cf-icon",18),e.TgZ(2,"div",19),e._uU(3," B\xe1o gi\xe1 "),e.qZA()()}}function G(S,J){if(1&S){const p=e.EpF();e.TgZ(0,"div",39)(1,"div",40),e.NdJ("click",function(){e.CHM(p);const E=e.oxw(2);return e.KtG(E.addMultiRoute())}),e._UZ(2,"cf-icon",41),e.TgZ(3,"div",42),e._uU(4,"Th\xeam ch\u1eb7ng m\u1edbi"),e.qZA()(),e.TgZ(5,"div",43),e.NdJ("click",function(){e.CHM(p);const E=e.oxw(2);return e.KtG(E.removeAllDataMultiRoute())}),e._UZ(6,"cf-icon",44),e.TgZ(7,"div",45),e._uU(8,"X\xf3a t\u1ea5t c\u1ea3"),e.qZA()()()}}function $(S,J){if(1&S){const p=e.EpF();e.TgZ(0,"div",20)(1,"div",21)(2,"div",22)(3,"cf-flight-type-selector",23),e.NdJ("flightTypeSearchChange",function(E){e.CHM(p);const b=e.oxw();return e.KtG(b.flightTypeChange(E))}),e.qZA()(),e.TgZ(4,"div",24)(5,"cf-number-of-passenger",25),e.NdJ("numberOfPassengerChange",function(E){e.CHM(p);const b=e.oxw();return e.KtG(b.numberOfPassengerChange(E))}),e.qZA(),e.TgZ(6,"cf-airline-filter",26),e.NdJ("airlineFilterChange",function(E){e.CHM(p);const b=e.oxw();return e.KtG(b.airlineFilterChange(E))}),e.qZA(),e._UZ(7,"cf-voucher-selector",27),e.qZA()(),e.TgZ(8,"div",28)(9,"cf-search-flight-input",29),e.NdJ("removeRoute",function(E){e.CHM(p);const b=e.oxw();return e.KtG(b.removeRoute(E))})("dataChange",function(){e.CHM(p);const E=e.oxw();return e.KtG(E.suggestPromotion())}),e.qZA()(),e.TgZ(10,"div",30)(11,"cf-number-of-passenger",25),e.NdJ("numberOfPassengerChange",function(E){e.CHM(p);const b=e.oxw();return e.KtG(b.numberOfPassengerChange(E))}),e.qZA(),e.TgZ(12,"cf-airline-filter",26),e.NdJ("airlineFilterChange",function(E){e.CHM(p);const b=e.oxw();return e.KtG(b.airlineFilterChange(E))}),e.qZA(),e._UZ(13,"cf-voucher-selector",27),e.qZA(),e.YNc(14,G,9,0,"div",31),e._UZ(15,"div",32),e.TgZ(16,"div",33)(17,"div",34)(18,"div",35)(19,"cf-checkbox",36),e.NdJ("checkChange",function(E){e.CHM(p);const b=e.oxw();return e.KtG(b.onCheckDirectFlight(E))}),e._uU(20," Ch\u1ec9 c\xe1c chuy\u1ebfn bay th\u1eb3ng "),e.qZA()()(),e.TgZ(21,"button",37),e.NdJ("click",function(){e.CHM(p);const E=e.oxw();return e.KtG(E.researchFlight())}),e._UZ(22,"cf-icon",38),e._uU(23," T\xecm chuy\u1ebfn bay "),e.qZA()()()}if(2&S){const p=e.oxw();e.xp6(3),e.Q6J("flightType",p.flightTypeSearch),e.xp6(2),e.Q6J("adultNumber",p._searchFlightService.numberOfPassenger.adult)("childNumber",p._searchFlightService.numberOfPassenger.child)("infantNumber",p._searchFlightService.numberOfPassenger.infant),e.xp6(1),e.Q6J("airlineList",p._searchFlightService.airlineFilters),e.xp6(1),e.Q6J("isShowTooltipFirstTime",!0)("promotionGroupList",p._searchFlightService.promotionGroupFilters),e.xp6(2),e.Q6J("formArray",p._searchFlightService.searchInputForm),e.xp6(2),e.Q6J("adultNumber",p._searchFlightService.numberOfPassenger.adult)("childNumber",p._searchFlightService.numberOfPassenger.child)("infantNumber",p._searchFlightService.numberOfPassenger.infant),e.xp6(1),e.Q6J("airlineList",p._searchFlightService.airlineFilters),e.xp6(1),e.Q6J("isShowTooltipFirstTime",!1)("promotionGroupList",p._searchFlightService.promotionGroupFilters),e.xp6(1),e.Q6J("ngIf",p.flightTypeSearch===p.multiFilghtType),e.xp6(5),e.Q6J("checked",p.isDirectFlight)}}let X=(()=>{class S{constructor(p,C,E,b,j,V){this._searchFlightService=p,this._dataProvider=C,this._locationData=E,this._iconRegister=b,this._bottomSheetService=j,this._permissionService=V,this.showQuotation=this._permissionService.hasPermission(n.or.CreateFlightTicketQuote),this.showSharedFlight=this._permissionService.hasPermission(n.or.CanShareFlightSelected),this.flightTypeSearch=g.j.OneWay,this.multiFilghtType=g.j.MultiWay,this.onReseachFlight=new e.vpe,this.onFlightTypeChange=new e.vpe,this.onQuotation=new e.vpe,this.loadJourneyInfo(),b.registerIcons([v.Ffn,v.PlV,v.Lxr])}loadJourneyInfo(){this.adultNumber=this._dataProvider.searchInputData.adult,this.childNumber=this._dataProvider.searchInputData.child,this.journeys=this._dataProvider.searchInputData.journey,this.isDirectFlight=this._searchFlightService.isDirectFlight,this.startPoint=this._locationData.getCityNameByCode(this.journeys[0].startPoint),this.endPoint=this._locationData.getCityNameByCode(this.journeys[0].endPoint)}openSearchInputBottomSheet(p){this.bottomSheetRef=this._bottomSheetService.open(p,{headerTitle:"T\xecm ki\u1ebfm",leftButtonIcon:"close",rightButtonIcon:"",leftButtonIconClass:"text-neutral-gray-4",containerFullHeigh:!0}),this.bottomSheetRef.containerInstance._leftButtonClick.subscribe(C=>this.bottomSheetRef.dismiss())}flightTypeChange(p){this.flightTypeSearch=p,this.onFlightTypeChange.emit(p)}numberOfPassengerChange(p){this._searchFlightService.numberOfPassengerChange(p),this._searchFlightService.suggestPromotion()}airlineFilterChange(p){this._searchFlightService.airlineFilterChange(p)}addMultiRoute(){this._searchFlightService.addMultiRoute()}removeRoute(p){this._searchFlightService.removeRoute(p)}suggestPromotion(){this._searchFlightService.suggestPromotion()}removeAllDataMultiRoute(){this._searchFlightService.removeAllDataMultiRoute()}onCheckDirectFlight(p){this._searchFlightService.checkDirectFlight(p),this.isDirectFlight=this._searchFlightService.isDirectFlight}researchFlight(){this.bottomSheetRef.dismiss(),this.onReseachFlight.emit(),this.loadJourneyInfo()}openQuotation(){this.onQuotation.emit()}}return S.\u0275fac=function(p){return new(p||S)(e.Y36(y.v),e.Y36(_.R),e.Y36(Z._),e.Y36(v.KNP),e.Y36(k.a2),e.Y36(n.$A))},S.\u0275cmp=e.Xpm({type:S,selectors:[["mobile-search-input"]],inputs:{currentMode:"currentMode"},outputs:{onReseachFlight:"onReseachFlight",onFlightTypeChange:"onFlightTypeChange",onQuotation:"onQuotation"},standalone:!0,features:[e.jDz],decls:22,vars:9,consts:[[1,"flex","items-center","justify-between","w-full"],[1,"flex","flex-col","grow-1","gap-y-1"],[1,"flex","items-center","gap-x-1"],[1,"text-espressive-sm","text-neutral-gray-6"],["class","text-secondary-7-5","icon","arrow_right","size","small",4,"ngIf"],["class","rotate-90 text-secondary-7-5","icon","sort","size","small",4,"ngIf"],[1,"p-1","rounded-full","bg-secondary-6-1"],["icon","edit","size","small",1,"text-secondary-6-4",3,"click"],[1,"flex","items-center"],["class","text-body-sm text-neutral-gray-5",4,"ngIf"],[1,"w-0","border-r","border-r-secondary-7-2","mx-1","h-4"],[1,"text-body-sm","text-neutral-gray-5"],[4,"ngIf"],["class","flex items-center gap-x-1.5",3,"click",4,"ngIf"],["searchInputBottomSheet",""],["icon","arrow_right","size","small",1,"text-secondary-7-5"],["icon","sort","size","small",1,"rotate-90","text-secondary-7-5"],[1,"flex","items-center","gap-x-1.5",3,"click"],["icon","document","size","small"],[1,"text-body-md-short"],[1,"bg-neutral-white","p-6","rounded-lg","w-full","shadow-cf-md","md:p-4"],[1,"flex","items-center","justify-between","mb-5"],[1,"md:w-full"],[3,"flightType","flightTypeSearchChange"],[1,"flex","items-center","justify-end","gap-x-4","md:hidden"],[3,"adultNumber","childNumber","infantNumber","numberOfPassengerChange"],[3,"airlineList","airlineFilterChange"],[3,"isShowTooltipFirstTime","promotionGroupList"],[1,"mb-[20px]","md:mb-4"],[3,"formArray","removeRoute","dataChange"],[1,"gap-x-2","hidden","md:flex","overflow-x-auto"],["class","flex items-center gap-x-10 mb-5",4,"ngIf"],[1,"h-0","border-b","border-b-neutral-gray-2","my-4","hidden","md:block"],[1,"flex","justify-between","items-center","md:flex-col","md:items-start","md:gap-y-4"],[1,"flex","justify-start","gap-x-[34px]"],[1,"flex","items-center","gap-3"],["size","medium",3,"checked","checkChange"],["cf-button","","size","medium","color","primary-1","type","solid",1,"md:w-full","md:justify-center",3,"click"],["icon","search","size","small",1,"mr-2.5"],[1,"flex","items-center","gap-x-10","mb-5"],[1,"flex","items-center","text-secondary-1-5","cursor-pointer",3,"click"],["icon","plus","size","small",1,"mr-2.5"],[1,"text-heading-xs"],[1,"flex","items-center","text-neutral-black","cursor-pointer",3,"click"],["icon","rotate_left","size","small",1,"mr-2.5"],[1,"text-body-md"]],template:function(p,C){if(1&p){const E=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4),e.qZA(),e.YNc(5,x,1,0,"cf-icon",4),e.YNc(6,N,1,0,"cf-icon",5),e.TgZ(7,"div",3),e._uU(8),e.qZA(),e.TgZ(9,"div",6)(10,"cf-icon",7),e.NdJ("click",function(){e.CHM(E);const j=e.MAs(21);return e.KtG(C.openSearchInputBottomSheet(j))}),e.qZA()()(),e.TgZ(11,"div",8),e.YNc(12,w,3,4,"div",9),e.YNc(13,Q,4,8,"div",9),e._UZ(14,"div",10),e.TgZ(15,"div",11),e.YNc(16,B,2,0,"div",12),e.YNc(17,H,2,0,"div",12),e.qZA()()(),e.TgZ(18,"div"),e.YNc(19,z,4,0,"div",13),e.qZA()(),e.YNc(20,$,24,16,"ng-template",null,14,e.W1O)}2&p&&(e.xp6(4),e.Oqu(C.startPoint),e.xp6(1),e.Q6J("ngIf",1===C.journeys.length),e.xp6(1),e.Q6J("ngIf",2===C.journeys.length),e.xp6(2),e.Oqu(C.endPoint),e.xp6(4),e.Q6J("ngIf",1===C.journeys.length),e.xp6(1),e.Q6J("ngIf",2===C.journeys.length),e.xp6(3),e.Q6J("ngIf",1===C.journeys.length),e.xp6(1),e.Q6J("ngIf",2===C.journeys.length),e.xp6(2),e.Q6J("ngIf",C.showQuotation&&"retail"===C.currentMode))},dependencies:[t.ez,t.O5,t.uU,v.AxE,v.Sm8,g.D,u.N8,u.Xq,h.u,f.z,M.h,F.u,A.t,d.u5,d.UX,m.Bz],encapsulation:2}),S})()},69777:(R,P,l)=>{l.d(P,{h:()=>F});var n=l(94650),t=l(72506),d=l(74891),m=l(27898),u=l(36895),h=l(83700),v=l(37094),g=l(98184);function f(A,e){if(1&A){const _=n.EpF();n.TgZ(0,"div",16)(1,"cf-checkbox",17),n.NdJ("checkChange",function(y){const O=n.CHM(_).$implicit,L=n.oxw(2);return n.KtG(L.checkChange(y,O.value))}),n.TgZ(2,"div",18),n._UZ(3,"img",19),n.TgZ(4,"div",20),n._uU(5),n.qZA()()()()}if(2&A){const _=e.$implicit;n.xp6(1),n.Q6J("checked",_.actived),n.xp6(2),n.Q6J("src",_.logo,n.LSH),n.xp6(2),n.hij(" ",_.name," ")}}function M(A,e){if(1&A){const _=n.EpF();n.TgZ(0,"div",9)(1,"div",10)(2,"div",11),n._uU(3,"H\xe3ng bay"),n.qZA(),n.TgZ(4,"div",12),n.YNc(5,f,6,3,"div",13),n.qZA(),n.TgZ(6,"div",14)(7,"button",15),n.NdJ("click",function(){n.CHM(_);const y=n.oxw();return n.KtG(y.closeBotomSheet())}),n._uU(8,"X\xe1c nh\u1eadn"),n.qZA()()()()}if(2&A){const _=n.oxw();n.xp6(5),n.Q6J("ngForOf",_.airlineList)}}let F=(()=>{class A{constructor(_){this.bottomSheetService=_,this.airlineFilterChange=new n.vpe,this.isOpen=!1,this.airlineSelected=[],this.title="T\u1ea5t c\u1ea3 c\xe1c h\xe3ng",this.bottomCenter=[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:0,offsetY:0}]}ngOnInit(){this.airlineSelected=this.airlineList.filter(_=>_.actived).map(_=>_.value),this.getTitle()}click(_){this.isOpen=!this.isOpen,_.stopPropagation()}outsideClick(_){this.isOpen=!1}checkChange(_,r){const y=this.airlineList.find(I=>I.value===r);y&&(y.actived=_),this.airlineSelected=this.airlineList.filter(I=>I.actived).map(I=>I.value),this.getTitle(),this.airlineFilterChange.emit(this.airlineSelected)}getTitle(){this.title=this.airlineSelected.length&&this.airlineSelected.length!==this.airlineList.length?this.airlineSelected.join(", "):"T\u1ea5t c\u1ea3 c\xe1c h\xe3ng"}openBottomSheet(_){this.bottomSheetService.open(_,{headerTitle:"H\xe3ng bay",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"}).containerInstance._rightButtonClick.subscribe(()=>this.bottomSheetService.dismiss())}closeBotomSheet(){this.bottomSheetService.dismiss()}}return A.\u0275fac=function(_){return new(_||A)(n.Y36(v.a2))},A.\u0275cmp=n.Xpm({type:A,selectors:[["cf-airline-filter"]],inputs:{airlineList:"airlineList"},outputs:{airlineFilterChange:"airlineFilterChange"},standalone:!0,features:[n.jDz],decls:13,vars:5,consts:[["cdkOverlayOrigin","","tabIndex","-1",1,"flex","items-center","gap-x-2","cursor-pointer","md:hidden",3,"click"],["trigger","","originOverlay","cdkOverlayOrigin"],["icon","grid","size","small",1,"text-neutral-gray-5"],[1,"text-body-md","text-neutral-black"],["icon","down","size","small",1,"text-neutral-gray-5"],[1,"gap-x-1.5","items-center","border","border-neutral-gray-3","rounded-full","px-4","py-[5px]","hidden","md:flex",3,"click"],[1,"text-body-md","whitespace-nowrap"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","overlayOutsideClick"],["bottomSheet",""],[1,"p-4","shadow-cf-lg","w-[280px]","bg-neutral-white","rounded","md:w-full"],[1,"flex","flex-col","gap-y-4"],[1,"text-heading-sm","text-neutral-black","md:hidden"],[1,"flex","flex-col","gap-y-[9px]","md:gap-y-4"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"hidden","md:block"],["cf-button","",1,"w-full","justify-center",3,"click"],[1,"flex","items-center"],["size","medium",3,"checked","checkChange"],[1,"flex","items-center","gap-x-2"],[1,"w-6","h-6","object-contain",3,"src"],[1,"text-body-md-long"]],template:function(_,r){if(1&_){const y=n.EpF();n.TgZ(0,"div",0,1),n.NdJ("click",function(O){return r.click(O)}),n._UZ(3,"cf-icon",2),n.TgZ(4,"div",3),n._uU(5),n.qZA(),n._UZ(6,"cf-icon",4),n.qZA(),n.TgZ(7,"div",5),n.NdJ("click",function(){n.CHM(y);const O=n.MAs(12);return n.KtG(r.openBottomSheet(O))}),n.TgZ(8,"div",6),n._uU(9),n.qZA(),n._UZ(10,"cf-icon",4),n.qZA(),n.YNc(11,M,9,1,"ng-template",7,8,n.W1O),n.NdJ("overlayOutsideClick",function(O){return r.outsideClick(O)})}if(2&_){const y=n.MAs(2);n.xp6(5),n.Oqu(r.title),n.xp6(4),n.Oqu(r.title),n.xp6(2),n.Q6J("cdkConnectedOverlayOrigin",y)("cdkConnectedOverlayOpen",r.isOpen)("cdkConnectedOverlayPositions",r.bottomCenter)}},dependencies:[t.AxE,t.Sm8,d.f,g.pI,g.xu,m.u,u.ax,h.N8,h.Xq],encapsulation:2}),A})()},51890:(R,P,l)=>{l.d(P,{D:()=>u,j:()=>m});var n=l(94650),t=l(24006),d=l(19123),m=(()=>{return(h=m||(m={}))[h.OneWay=0]="OneWay",h[h.RoundTrip=1]="RoundTrip",h[h.MultiWay=2]="MultiWay",m;var h})();let u=(()=>{class h{constructor(){this.flightTypeSearchChange=new n.vpe}set flightType(g){switch(g){case m.OneWay:this._flightType="ONE_WAY";break;case m.RoundTrip:this._flightType="ROUND_TRIP";break;case m.MultiWay:this._flightType="MULTI_WAY"}}flightTypeChange(g){switch(g){case"ONE_WAY":this.flightTypeSearchChange.emit(m.OneWay);break;case"ROUND_TRIP":this.flightTypeSearchChange.emit(m.RoundTrip);break;case"MULTI_WAY":this.flightTypeSearchChange.emit(m.MultiWay)}}}return h.\u0275fac=function(g){return new(g||h)},h.\u0275cmp=n.Xpm({type:h,selectors:[["cf-flight-type-selector"]],hostAttrs:[1,"w-full"],inputs:{flightType:"flightType"},outputs:{flightTypeSearchChange:"flightTypeSearchChange"},standalone:!0,features:[n.jDz],decls:11,vars:19,consts:[[1,"flex","items-center","gap-x-8","md:hidden",3,"ngModel","checkChange"],["size","medium",3,"value"],[1,"items-center","gap-x-1.5","hidden","md:flex"],[1,"flex","justify-around","w-full","gap-x-4"],[1,"px-4","py-1.5","rounded-full","text-body-md-short","text-neutral-gray-4","border","border-transparent","w-1/2","flex","justify-center",3,"click"]],template:function(g,f){1&g&&(n.TgZ(0,"cf-radio-group",0),n.NdJ("checkChange",function(F){return f.flightTypeChange(F)}),n.TgZ(1,"cf-radio",1),n._uU(2,"M\u1ed9t chi\u1ec1u"),n.qZA(),n.TgZ(3,"cf-radio",1),n._uU(4,"Kh\u1ee9 h\u1ed3i"),n.qZA()(),n.TgZ(5,"div",2)(6,"div",3)(7,"div",4),n.NdJ("click",function(){return f.flightTypeChange("ONE_WAY")}),n._uU(8," M\u1ed9t chi\u1ec1u "),n.qZA(),n.TgZ(9,"div",4),n.NdJ("click",function(){return f.flightTypeChange("ROUND_TRIP")}),n._uU(10," Kh\u1ee9 h\u1ed3i "),n.qZA()()()),2&g&&(n.Q6J("ngModel",f._flightType),n.xp6(1),n.Q6J("value","ONE_WAY"),n.xp6(2),n.Q6J("value","ROUND_TRIP"),n.xp6(4),n.ekj("text-secondary-3-4","ONE_WAY"===f._flightType)("!border-secondary-3-4","ONE_WAY"===f._flightType)("bg-secondary-3-1","ONE_WAY"===f._flightType)("!text-espressive-md-short","ONE_WAY"===f._flightType),n.xp6(2),n.ekj("text-secondary-3-4","ROUND_TRIP"===f._flightType)("!border-secondary-3-4","ROUND_TRIP"===f._flightType)("bg-secondary-3-1","ROUND_TRIP"===f._flightType)("!text-espressive-md-short","ROUND_TRIP"===f._flightType))},dependencies:[d.o,d.T,t.u5,t.JJ,t.On],encapsulation:2}),h})()},35275:(R,P,l)=>{l.d(P,{t:()=>ft});var n=l(36895),t=l(94650),d=l(24006),m=l(83700),u=l(88516),h=l(72853),v=l(72506),g=l(44143),f=l(74713),M=l(25655),F=l(77296),A=l(50633),e=l(28490),_=l(37094),r=l(9381);const y=["startPoint"];function I(s,T){1&s&&(t.TgZ(0,"label",23),t._uU(1,"\u0110i\u1ec3m kh\u1edfi h\xe0nh"),t.qZA())}function O(s,T){1&s&&t._UZ(0,"cf-hint",24),2&s&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m kh\u1edfi h\xe0nh")}function L(s,T){1&s&&(t.TgZ(0,"label",23),t._uU(1,"\u0110i\u1ec3m kh\u1edfi h\xe0nh"),t.qZA())}function Y(s,T){1&s&&t._UZ(0,"cf-hint",24),2&s&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m kh\u1edfi h\xe0nh")}function K(s,T){1&s&&(t.TgZ(0,"label",23),t._uU(1,"\u0110i\u1ec3m \u0111\u1ebfn"),t.qZA())}function Z(s,T){1&s&&t._UZ(0,"cf-hint",24),2&s&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m \u0111\u1ebfn")}function k(s,T){1&s&&(t.TgZ(0,"label",23),t._uU(1,"\u0110i\u1ec3m \u0111\u1ebfn"),t.qZA())}function x(s,T){1&s&&t._UZ(0,"cf-hint",24),2&s&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m \u0111\u1ebfn")}function N(s,T){1&s&&(t.TgZ(0,"label",23),t._uU(1,"Ng\xe0y kh\u1edfi h\xe0nh"),t.qZA())}function w(s,T){1&s&&t._UZ(0,"cf-input-hint",24),2&s&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh")}function Q(s,T){1&s&&t._UZ(0,"cf-input-hint",24),2&s&&t.Q6J("hint","Ng\xe0y kh\u1edfi h\xe0nh ph\u1ea3i t\u1eeb ng\xe0y hi\u1ec7n t\u1ea1i tr\u1edf \u0111i")}function B(s,T){1&s&&t._UZ(0,"cf-input-hint",24),2&s&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function H(s,T){if(1&s){const i=t.EpF();t.TgZ(0,"cf-icon",25),t.NdJ("click",function(){t.CHM(i);const a=t.oxw(2).index,c=t.oxw();return t.KtG(c.onRemoveRoute(a))}),t.qZA()}if(2&s){const i=t.oxw(2).first;t.ekj("invisible",i)("pointer-events-none",i)}}function z(s,T){if(1&s){const i=t.EpF();t.TgZ(0,"div",26)(1,"div",27)(2,"div",28),t.NdJ("scrolled",function(){t.CHM(i);const a=t.oxw(3);return t.KtG(a.scrollDown())}),t.TgZ(3,"cf-datepicker-inline",29),t.NdJ("dateSelect",function(a){t.CHM(i);const c=t.oxw(2).index,D=t.oxw();return t.KtG(D.dateSelectMobile(a,c))}),t.qZA()()(),t.TgZ(4,"div",30)(5,"button",31),t.NdJ("click",function(){t.CHM(i);const a=t.oxw(3);return t.KtG(a.onMobileDatePickerOK())}),t._uU(6,"X\xe1c nh\u1eadn"),t.qZA()()()}if(2&s){const i=t.oxw(2).$implicit,o=t.oxw();t.xp6(2),t.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",2)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0)("infiniteScrollContainer",".ngb-dp-content"),t.xp6(1),t.Q6J("minDate",o.currentDate)("displayMonths",o.numOfMonth)("rangeSelection",!0)("secondaryCalendar","lunar")("formControl",i.controls.departDate)("fromDate",i.controls.departDate.value)("startDate",o.startDate)("displayMonthsOffset",0)}}const G=function(s){return[s]};function $(s,T){if(1&s){const i=t.EpF();t.ynx(0),t.TgZ(1,"cf-select",5,6),t.NdJ("selectedChange",function(a){t.CHM(i);const c=t.MAs(14),D=t.oxw(2);return D.startPointChange(a),t.KtG(D.nextPosition(c))}),t._UZ(3,"cf-icon",7),t.YNc(4,I,2,0,"label",8),t.YNc(5,O,1,1,"cf-hint",9),t.qZA(),t.TgZ(6,"div",10),t.NdJ("click",function(){t.CHM(i);const a=t.oxw().$implicit,c=t.oxw();return t.KtG(c.openAirportBottomSheet(a.controls.startPoint,a.controls.endPoint))}),t.TgZ(7,"cf-select",11),t._UZ(8,"cf-icon",7),t.YNc(9,L,2,0,"label",8),t.YNc(10,Y,1,1,"cf-hint",9),t.qZA()(),t.TgZ(11,"button",12),t.NdJ("click",function(){t.CHM(i);const a=t.oxw().$implicit,c=t.oxw();return t.KtG(c.swapPoint(a.controls.startPoint,a.controls.endPoint))}),t._UZ(12,"cf-icon",13),t.qZA(),t.TgZ(13,"cf-select",14,15),t.NdJ("selectedChange",function(a){t.CHM(i);const c=t.MAs(27),D=t.oxw(2);return D.endPointChange(a),t.KtG(D.nextDate(c))}),t._UZ(15,"cf-icon",7),t.YNc(16,K,2,0,"label",8),t.YNc(17,Z,1,1,"cf-hint",9),t.qZA(),t.TgZ(18,"div",10),t.NdJ("click",function(){t.CHM(i);const a=t.oxw().$implicit,c=t.oxw();return t.KtG(c.openAirportBottomSheet(a.controls.endPoint,a.controls.startPoint))}),t.TgZ(19,"cf-select",16),t._UZ(20,"cf-icon",7),t.YNc(21,k,2,0,"label",8),t.YNc(22,x,1,1,"cf-hint",9),t.qZA()(),t.TgZ(23,"cf-input-group",17),t._UZ(24,"cf-icon",18),t.YNc(25,N,2,0,"label",8),t.TgZ(26,"input",19,20),t.NdJ("input",function(){t.CHM(i);const a=t.MAs(27);return t.KtG(a.close())})("reset",function(){t.CHM(i);const a=t.oxw().$implicit,c=t.oxw();return t.KtG(c.resetDate(a.controls.departDate))})("focus",function(){t.CHM(i);const a=t.oxw().index,c=t.oxw();return t.KtG(c.calulateMinDate(a))})("mousedown",function(a){t.CHM(i);const c=t.oxw(2);return t.KtG(c.roundTripFocus(a))})("click",function(){t.CHM(i);const a=t.MAs(33),c=t.oxw(2);return t.KtG(c.oneWayDatePickerClick(a))})("dateSelect",function(a){t.CHM(i);const c=t.MAs(27),D=t.oxw().index,U=t.oxw();return U.dateSelect(a,D),c.close(),t.KtG(U.nextPositionRow(D))}),t.qZA(),t.YNc(28,w,1,1,"cf-input-hint",9),t.YNc(29,Q,1,1,"cf-input-hint",9),t.YNc(30,B,1,1,"cf-input-hint",9),t.qZA(),t.YNc(31,H,1,4,"cf-icon",21),t.YNc(32,z,7,15,"ng-template",null,22,t.W1O),t.BQk()}if(2&s){const i=t.oxw(),o=i.$implicit,a=i.first,c=i.index,D=t.oxw(),U=t.MAs(3);t.xp6(1),t.ekj("!grow-269",o.controls.returnDate),t.Q6J("maxHeight",230)("status",o.controls.startPoint.invalid&&(o.controls.startPoint.dirty||o.controls.startPoint.touched)?"error":"default")("customSearch",D.positionSearchCustom)("excludes",D.excludesStartPoint||t.VKq(54,G,o.controls.endPoint.value))("formControl",o.controls.startPoint)("data",D.data)("optionTmp",U),t.xp6(3),t.Q6J("ngIf",a),t.xp6(1),t.Q6J("ngIf",(null==o.controls.startPoint.errors?null:o.controls.startPoint.errors.required)&&(o.controls.startPoint.dirty||o.controls.startPoint.touched)),t.xp6(2),t.ekj("!grow-269",o.controls.returnDate),t.Q6J("status",o.controls.startPoint.invalid&&(o.controls.startPoint.dirty||o.controls.startPoint.touched)?"error":"default")("customSearch",D.positionSearchCustom)("excludes",t.VKq(56,G,o.controls.endPoint.value))("formControl",o.controls.startPoint)("data",D.data)("optionTmp",U),t.xp6(2),t.Q6J("ngIf",a),t.xp6(1),t.Q6J("ngIf",(null==o.controls.startPoint.errors?null:o.controls.startPoint.errors.required)&&(o.controls.startPoint.dirty||o.controls.startPoint.touched)),t.xp6(1),t.ekj("mt-7",a),t.xp6(2),t.ekj("!grow-269",o.controls.returnDate),t.Q6J("maxHeight",230)("status",o.controls.endPoint.invalid&&(o.controls.endPoint.dirty||o.controls.endPoint.touched)?"error":"default")("customSearch",D.positionSearchCustom)("excludes",D.excludesEndPoint||t.VKq(58,G,o.controls.startPoint.value))("formControl",o.controls.endPoint)("data",D.data)("optionTmp",U),t.xp6(3),t.Q6J("ngIf",a),t.xp6(1),t.Q6J("ngIf",(null==o.controls.endPoint.errors?null:o.controls.endPoint.errors.required)&&(o.controls.endPoint.dirty||o.controls.endPoint.touched)),t.xp6(2),t.ekj("!grow-269",o.controls.returnDate),t.Q6J("status",o.controls.endPoint.invalid&&(o.controls.endPoint.dirty||o.controls.endPoint.touched)?"error":"default")("customSearch",D.positionSearchCustom)("excludes",t.VKq(60,G,o.controls.endPoint.value))("formControl",o.controls.endPoint)("data",D.data)("optionTmp",U),t.xp6(2),t.Q6J("ngIf",a),t.xp6(1),t.Q6J("ngIf",(null==o.controls.endPoint.errors?null:o.controls.endPoint.errors.required)&&(o.controls.endPoint.dirty||o.controls.endPoint.touched)),t.xp6(1),t.Q6J("status",o.controls.departDate.invalid&&(o.controls.departDate.dirty||o.controls.departDate.touched)?"error":"default"),t.xp6(2),t.Q6J("ngIf",a),t.xp6(1),t.Q6J("minDate",D.multiMinDate[c])("secondaryCalendar","lunar")("displayMonths",1)("formControl",o.controls.departDate),t.xp6(2),t.Q6J("ngIf",(null==o.controls.departDate.errors?null:o.controls.departDate.errors.required)&&(o.controls.departDate.dirty||o.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==o.controls.departDate.errors||null==o.controls.departDate.errors.ngbDate?null:o.controls.departDate.errors.ngbDate.minDate)&&(o.controls.departDate.dirty||o.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==o.controls.departDate.errors||null==o.controls.departDate.errors.ngbDate?null:o.controls.departDate.errors.ngbDate.invalid)&&(o.controls.departDate.dirty||o.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",D.formArray.length>2)}}function X(s,T){1&s&&(t.TgZ(0,"label",23),t._uU(1,"\u0110i\u1ec3m kh\u1edfi h\xe0nh"),t.qZA())}function S(s,T){1&s&&t._UZ(0,"cf-hint",24),2&s&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m kh\u1edfi h\xe0nh")}function J(s,T){1&s&&(t.TgZ(0,"label",23),t._uU(1,"\u0110i\u1ec3m kh\u1edfi h\xe0nh"),t.qZA())}function p(s,T){1&s&&t._UZ(0,"cf-hint",24),2&s&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m kh\u1edfi h\xe0nh")}function C(s,T){1&s&&(t.TgZ(0,"label",23),t._uU(1,"\u0110i\u1ec3m \u0111\u1ebfn"),t.qZA())}function E(s,T){1&s&&t._UZ(0,"cf-hint",24),2&s&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m \u0111\u1ebfn")}function b(s,T){1&s&&(t.TgZ(0,"label",23),t._uU(1,"\u0110i\u1ec3m \u0111\u1ebfn"),t.qZA())}function j(s,T){1&s&&t._UZ(0,"cf-hint",24),2&s&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m \u0111\u1ebfn")}function V(s,T){1&s&&(t.TgZ(0,"label",23),t._uU(1,"Ng\xe0y kh\u1edfi h\xe0nh"),t.qZA())}function tt(s,T){1&s&&t._UZ(0,"cf-input-hint",24),2&s&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh")}function et(s,T){1&s&&t._UZ(0,"cf-input-hint",24),2&s&&t.Q6J("hint","Ng\xe0y kh\u1edfi h\xe0nh ph\u1ea3i t\u1eeb ng\xe0y hi\u1ec7n t\u1ea1i tr\u1edf \u0111i")}function nt(s,T){1&s&&t._UZ(0,"cf-input-hint",24),2&s&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function ot(s,T){1&s&&(t.TgZ(0,"label",23),t._uU(1,"Ng\xe0y v\u1ec1"),t.qZA())}function it(s,T){1&s&&t._UZ(0,"cf-input-hint",24),2&s&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y v\u1ec1")}function rt(s,T){1&s&&t._UZ(0,"cf-input-hint",24),2&s&&t.Q6J("hint","Ng\xe0y v\u1ec1 ph\u1ea3i l\u1edbn h\u01a1n ng\xe0y \u0111i")}function at(s,T){1&s&&t._UZ(0,"cf-input-hint",24),2&s&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function lt(s,T){1&s&&t._UZ(0,"cf-input-hint",24),2&s&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh")}function st(s,T){1&s&&t._UZ(0,"cf-input-hint",24),2&s&&t.Q6J("hint","Ng\xe0y kh\u1edfi h\xe0nh ph\u1ea3i t\u1eeb ng\xe0y hi\u1ec7n t\u1ea1i tr\u1edf \u0111i")}function ct(s,T){1&s&&t._UZ(0,"cf-input-hint",24),2&s&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function ut(s,T){1&s&&t._UZ(0,"cf-input-hint",24),2&s&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y v\u1ec1")}function ht(s,T){1&s&&t._UZ(0,"cf-input-hint",24),2&s&&t.Q6J("hint","Ng\xe0y v\u1ec1 ph\u1ea3i l\u1edbn h\u01a1n ng\xe0y \u0111i")}function pt(s,T){1&s&&t._UZ(0,"cf-input-hint",24),2&s&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function _t(s,T){if(1&s){const i=t.EpF();t.TgZ(0,"div",26)(1,"div",41)(2,"cf-input-group",35)(3,"input",42),t.NdJ("ngModelChange",function(a){t.CHM(i);const c=t.oxw(2).$implicit,D=t.oxw();return t.KtG(D.fromDateChange(a,c.controls.returnDate))}),t.qZA(),t.YNc(4,lt,1,1,"cf-input-hint",9),t.YNc(5,st,1,1,"cf-input-hint",9),t.YNc(6,ct,1,1,"cf-input-hint",9),t.qZA(),t.TgZ(7,"div",43),t._uU(8,"~"),t.qZA(),t.TgZ(9,"cf-input-group",35)(10,"input",44),t.NdJ("ngModelChange",function(a){t.CHM(i);const c=t.oxw(2).$implicit,D=t.oxw();return t.KtG(D.toDateChange(a,c.controls.departDate))}),t.qZA(),t.YNc(11,ut,1,1,"cf-input-hint",9),t.YNc(12,ht,1,1,"cf-input-hint",9),t.YNc(13,pt,1,1,"cf-input-hint",9),t.qZA()(),t.TgZ(14,"div",27)(15,"div",28),t.NdJ("scrolled",function(){t.CHM(i);const a=t.oxw(3);return t.KtG(a.scrollDown())}),t.TgZ(16,"cf-datepicker-inline",45),t.NdJ("dateSelect",function(a){t.CHM(i);const c=t.oxw(2).$implicit,D=t.oxw();return t.KtG(D.onMobileDateSelection(a,c.controls.departDate,c.controls.returnDate))}),t.qZA()()(),t.TgZ(17,"div",30)(18,"button",31),t.NdJ("click",function(){t.CHM(i);const a=t.oxw(3);return t.KtG(a.onMobileDatePickerOK())}),t._uU(19,"X\xe1c nh\u1eadn"),t.qZA()()()}if(2&s){const i=t.oxw(2).$implicit,o=t.oxw();t.xp6(2),t.Q6J("status",o.isShowErrorDateRange&&i.controls.departDate.invalid&&(i.controls.departDate.dirty||i.controls.departDate.touched)?"error":"default"),t.xp6(1),t.Q6J("minDate",o.currentDate)("formControl",i.controls.departDate),t.xp6(1),t.Q6J("ngIf",o.isShowErrorDateRange&&(null==i.controls.departDate.errors?null:i.controls.departDate.errors.required)&&(i.controls.departDate.dirty||i.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",o.isShowErrorDateRange&&(null==i.controls.departDate.errors||null==i.controls.departDate.errors.ngbDate?null:i.controls.departDate.errors.ngbDate.minDate)&&(i.controls.departDate.dirty||i.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",o.isShowErrorDateRange&&(null==i.controls.departDate.errors||null==i.controls.departDate.errors.ngbDate?null:i.controls.departDate.errors.ngbDate.invalid)&&(i.controls.departDate.dirty||i.controls.departDate.touched)),t.xp6(3),t.Q6J("status",o.isShowErrorDateRange&&i.controls.returnDate.invalid&&(i.controls.returnDate.dirty||i.controls.returnDate.touched)?"error":"default"),t.xp6(1),t.Q6J("minDate",o.minToDate)("formControl",i.controls.returnDate),t.xp6(1),t.Q6J("ngIf",o.isShowErrorDateRange&&(null==i.controls.returnDate.errors?null:i.controls.returnDate.errors.required)&&(i.controls.returnDate.dirty||i.controls.returnDate.touched)),t.xp6(1),t.Q6J("ngIf",o.isShowErrorDateRange&&(null==i.controls.returnDate.errors||null==i.controls.returnDate.errors.ngbDate?null:i.controls.returnDate.errors.ngbDate.minDate)&&(i.controls.returnDate.dirty||i.controls.returnDate.touched)),t.xp6(1),t.Q6J("ngIf",o.isShowErrorDateRange&&(null==i.controls.returnDate.errors||null==i.controls.returnDate.errors.ngbDate?null:i.controls.returnDate.errors.ngbDate.invalid)&&(i.controls.returnDate.dirty||i.controls.returnDate.touched)),t.xp6(2),t.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",2)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0)("infiniteScrollContainer",".ngb-dp-content"),t.xp6(1),t.Q6J("minDate",o.currentDate)("displayMonths",o.numOfMonth)("rangeSelection",!0)("secondaryCalendar","lunar")("fromDate",i.controls.departDate.value)("startDate",o.startDate)("toDate",i.controls.returnDate.value)("displayMonthsOffset",0)}}function dt(s,T){if(1&s){const i=t.EpF();t.ynx(0),t.TgZ(1,"cf-select",5,6),t.NdJ("selectedChange",function(a){t.CHM(i);const c=t.MAs(14),D=t.oxw(2);return D.startPointChange(a),t.KtG(D.nextPosition(c))}),t._UZ(3,"cf-icon",7),t.YNc(4,X,2,0,"label",8),t.YNc(5,S,1,1,"cf-hint",9),t.qZA(),t.TgZ(6,"div",10),t.NdJ("click",function(){t.CHM(i);const a=t.oxw().$implicit,c=t.oxw();return t.KtG(c.openAirportBottomSheet(a.controls.startPoint,a.controls.endPoint))}),t.TgZ(7,"cf-select",11),t._UZ(8,"cf-icon",7),t.YNc(9,J,2,0,"label",8),t.YNc(10,p,1,1,"cf-hint",9),t.qZA()(),t.TgZ(11,"button",32),t.NdJ("click",function(){t.CHM(i);const a=t.oxw().$implicit,c=t.oxw();return t.KtG(c.swapPoint(a.controls.startPoint,a.controls.endPoint))}),t._UZ(12,"cf-icon",33),t.qZA(),t.TgZ(13,"cf-select",14,15),t.NdJ("selectedChange",function(a){t.CHM(i);const c=t.MAs(32),D=t.oxw(2);return D.endPointChange(a),t.KtG(D.nextDate(c))}),t._UZ(15,"cf-icon",7),t.YNc(16,C,2,0,"label",8),t.YNc(17,E,1,1,"cf-hint",9),t.qZA(),t.TgZ(18,"div",10),t.NdJ("click",function(){t.CHM(i);const a=t.oxw().$implicit,c=t.oxw();return t.KtG(c.openAirportBottomSheet(a.controls.endPoint,a.controls.startPoint))}),t.TgZ(19,"cf-select",16),t._UZ(20,"cf-icon",7),t.YNc(21,b,2,0,"label",8),t.YNc(22,j,1,1,"cf-hint",9),t.qZA()(),t.TgZ(23,"div",34)(24,"cf-input-group",35),t._UZ(25,"cf-icon",18),t.YNc(26,V,2,0,"label",8),t.TgZ(27,"input",36),t.NdJ("input",function(){t.CHM(i);const a=t.MAs(32);return t.KtG(a.close())})("mousedown",function(a){t.CHM(i);const c=t.oxw(2);return t.KtG(c.roundTripFocus(a))})("ngModelChange",function(a){t.CHM(i);const c=t.oxw().$implicit,D=t.oxw();return t.KtG(D.fromDateChange(a,c.controls.returnDate))})("click",function(){t.CHM(i);const a=t.MAs(32),c=t.MAs(41),D=t.oxw().$implicit,U=t.oxw();return U.dateType="DEPART",t.KtG(U.roundTripDatePickerClick(a,c,D.controls.departDate))}),t.qZA(),t.YNc(28,tt,1,1,"cf-input-hint",9),t.YNc(29,et,1,1,"cf-input-hint",9),t.YNc(30,nt,1,1,"cf-input-hint",9),t.qZA(),t.TgZ(31,"input",37,38),t.NdJ("reset",function(){t.CHM(i);const a=t.MAs(32),c=t.oxw().$implicit,D=t.oxw();return t.KtG(D.resetRangeDate(c.controls.departDate,c.controls.returnDate,a))})("dateSelect",function(a){t.CHM(i);const c=t.MAs(32),D=t.oxw().$implicit,U=t.oxw();return t.KtG(U.onDateSelection(a,D.controls.departDate,D.controls.returnDate,c))})("closed",function(){t.CHM(i);const a=t.oxw(2);return t.KtG(a.dateRangePickerClose())}),t.qZA(),t.TgZ(33,"cf-input-group",35),t._UZ(34,"cf-icon",18),t.YNc(35,ot,2,0,"label",8),t.TgZ(36,"input",39),t.NdJ("input",function(){t.CHM(i);const a=t.MAs(32);return t.KtG(a.close())})("mousedown",function(a){t.CHM(i);const c=t.oxw(2);return t.KtG(c.roundTripFocus(a))})("ngModelChange",function(a){t.CHM(i);const c=t.oxw().$implicit,D=t.oxw();return t.KtG(D.toDateChange(a,c.controls.departDate))})("click",function(){t.CHM(i);const a=t.MAs(32),c=t.MAs(41),D=t.oxw().$implicit,U=t.oxw();return U.dateType="ARRIVE",t.KtG(U.roundTripDatePickerClick(a,c,D.controls.departDate))}),t.qZA(),t.YNc(37,it,1,1,"cf-input-hint",9),t.YNc(38,rt,1,1,"cf-input-hint",9),t.YNc(39,at,1,1,"cf-input-hint",9),t.qZA(),t.YNc(40,_t,20,27,"ng-template",null,40,t.W1O),t.qZA(),t.BQk()}if(2&s){const i=t.oxw(),o=i.$implicit,a=i.first,c=t.oxw(),D=t.MAs(3);t.xp6(1),t.ekj("!grow-269",o.controls.returnDate),t.Q6J("maxHeight",230)("status",o.controls.startPoint.invalid&&(o.controls.startPoint.dirty||o.controls.startPoint.touched)?"error":"default")("customSearch",c.positionSearchCustom)("excludes",c.excludesStartPoint||t.VKq(64,G,o.controls.endPoint.value))("formControl",o.controls.startPoint)("data",c.data)("optionTmp",D),t.xp6(3),t.Q6J("ngIf",a),t.xp6(1),t.Q6J("ngIf",(null==o.controls.startPoint.errors?null:o.controls.startPoint.errors.required)&&(o.controls.startPoint.dirty||o.controls.startPoint.touched)),t.xp6(2),t.ekj("!grow-269",o.controls.returnDate),t.Q6J("status",o.controls.startPoint.invalid&&(o.controls.startPoint.dirty||o.controls.startPoint.touched)?"error":"default")("customSearch",c.positionSearchCustom)("excludes",t.VKq(66,G,o.controls.endPoint.value))("formControl",o.controls.startPoint)("data",c.data)("optionTmp",D),t.xp6(2),t.Q6J("ngIf",a),t.xp6(1),t.Q6J("ngIf",(null==o.controls.startPoint.errors?null:o.controls.startPoint.errors.required)&&(o.controls.startPoint.dirty||o.controls.startPoint.touched)),t.xp6(3),t.ekj("!grow-269",o.controls.returnDate),t.Q6J("maxHeight",230)("status",o.controls.endPoint.invalid&&(o.controls.endPoint.dirty||o.controls.endPoint.touched)?"error":"default")("customSearch",c.positionSearchCustom)("excludes",c.excludesEndPoint||t.VKq(68,G,o.controls.startPoint.value))("formControl",o.controls.endPoint)("data",c.data)("optionTmp",D),t.xp6(3),t.Q6J("ngIf",a),t.xp6(1),t.Q6J("ngIf",(null==o.controls.endPoint.errors?null:o.controls.endPoint.errors.required)&&(o.controls.endPoint.dirty||o.controls.endPoint.touched)),t.xp6(2),t.ekj("!grow-269",o.controls.returnDate),t.Q6J("status",o.controls.endPoint.invalid&&(o.controls.endPoint.dirty||o.controls.endPoint.touched)?"error":"default")("customSearch",c.positionSearchCustom)("excludes",t.VKq(70,G,o.controls.endPoint.value))("formControl",o.controls.endPoint)("data",c.data)("optionTmp",D),t.xp6(2),t.Q6J("ngIf",a),t.xp6(1),t.Q6J("ngIf",(null==o.controls.endPoint.errors?null:o.controls.endPoint.errors.required)&&(o.controls.endPoint.dirty||o.controls.endPoint.touched)),t.xp6(2),t.Q6J("status",c.isShowErrorDateRange&&o.controls.departDate.invalid&&(o.controls.departDate.dirty||o.controls.departDate.touched)?"error":"default"),t.xp6(2),t.Q6J("ngIf",a),t.xp6(1),t.Q6J("minDate",c.currentDate)("formControl",o.controls.departDate),t.xp6(1),t.Q6J("ngIf",c.isShowErrorDateRange&&(null==o.controls.departDate.errors?null:o.controls.departDate.errors.required)&&(o.controls.departDate.dirty||o.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",c.isShowErrorDateRange&&(null==o.controls.departDate.errors||null==o.controls.departDate.errors.ngbDate?null:o.controls.departDate.errors.ngbDate.minDate)&&(o.controls.departDate.dirty||o.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",c.isShowErrorDateRange&&(null==o.controls.departDate.errors||null==o.controls.departDate.errors.ngbDate?null:o.controls.departDate.errors.ngbDate.invalid)&&(o.controls.departDate.dirty||o.controls.departDate.touched)),t.xp6(1),t.Q6J("minDate",c.currentDate)("secondaryCalendar","lunar")("displayMonths",c.isMobile?1:2)("rangeSelection",!0)("fromDate",o.controls.departDate.value)("startDate",c.startDate)("containerWidth",600)("toDate",o.controls.returnDate.value),t.xp6(2),t.Q6J("status",c.isShowErrorDateRange&&o.controls.returnDate.invalid&&(o.controls.returnDate.dirty||o.controls.returnDate.touched)?"error":"default"),t.xp6(2),t.Q6J("ngIf",a),t.xp6(1),t.Q6J("minDate",c.minToDate)("formControl",o.controls.returnDate),t.xp6(1),t.Q6J("ngIf",c.isShowErrorDateRange&&(null==o.controls.returnDate.errors?null:o.controls.returnDate.errors.required)&&(o.controls.returnDate.dirty||o.controls.returnDate.touched)),t.xp6(1),t.Q6J("ngIf",c.isShowErrorDateRange&&(null==o.controls.returnDate.errors||null==o.controls.returnDate.errors.ngbDate?null:o.controls.returnDate.errors.ngbDate.minDate)&&(o.controls.returnDate.dirty||o.controls.returnDate.touched)),t.xp6(1),t.Q6J("ngIf",c.isShowErrorDateRange&&(null==o.controls.returnDate.errors||null==o.controls.returnDate.errors.ngbDate?null:o.controls.returnDate.errors.ngbDate.invalid)&&(o.controls.returnDate.dirty||o.controls.returnDate.touched))}}function gt(s,T){if(1&s&&(t.TgZ(0,"div")(1,"div",3),t.YNc(2,$,34,62,"ng-container",4),t.YNc(3,dt,42,72,"ng-container",4),t.qZA()()),2&s){const i=T.$implicit;t.xp6(2),t.Q6J("ngIf",!i.controls.returnDate),t.xp6(1),t.Q6J("ngIf",i.controls.returnDate)}}function mt(s,T){if(1&s&&(t.TgZ(0,"div",46),t._UZ(1,"div",47),t.ALo(2,"highlighter"),t._UZ(3,"div",48),t.ALo(4,"highlighter"),t.qZA()),2&s){const i=T.item,o=T.search;t.xp6(1),t.Q6J("innerHtml",t.xi3(2,2,i.CityName+", "+i.Title,o.text),t.oJD),t.xp6(2),t.Q6J("innerHtml",t.xi3(4,5,i.Code+" - "+i.AirportName,o.text),t.oJD)}}let ft=(()=>{class s{constructor(i,o,a,c,D,U){this.calendar=i,this.changeDetectorRef=o,this._locationDataService=a,this._bottomSheetService=c,this._mobileDetectService=D,this.cfIconRegister=U,this.removeRoute=new t.vpe,this.dataChange=new t.vpe,this.data=[],this.isShowErrorDateRange=!1,this.multiMinDate=[],this.isMobile=matchMedia("(max-width: 768px)").matches,this.dateType="",this.positionSearchCustom=(W,vt)=>{const Ct=this.removeAccents(W.Code.toLowerCase()),yt=this.removeAccents(W.Title.toLowerCase()),Dt=this.removeAccents(W.CityName.toLowerCase()),xt=this.removeAccents(W.AirportName.toLowerCase()),q=this.removeAccents(vt.toLowerCase());return Ct.includes(q)||yt.includes(q)||Dt.includes(q)||xt.includes(q)},this.numOfMonth=4,this.currentDate=i.getToday(),U.registerIcons([v.UNF,v.okA,v._tC,v.Ffn]),this.data=a.getAllOption()}ngOnInit(){this.initMinDates()}startPointChange(i){this.excludesEndPoint=[i.Code]}endPointChange(i){this.excludesStartPoint=[i.Code]}roundTripDatePickerClick(i,o,a){if(this._mobileDetectService.mobileSubject.value){const c=this._bottomSheetService.open(o,{headerTitle:"T\xf9y ch\u1ec9nh th\u1eddi gian",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",containerFullHeigh:!0});c.containerInstance._leftButtonClick.subscribe(D=>c.dismiss())}else this.currentDate=(0,u.jy)("DEPART"===this.dateType?new Date:a.value),setTimeout(()=>{i.navigateTo(this.currentDate)}),i.open()}oneWayDatePickerClick(i){if(this._mobileDetectService.mobileSubject.value){const o=this._bottomSheetService.open(i,{headerTitle:"T\xf9y ch\u1ec9nh th\u1eddi gian",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",containerFullHeigh:!0});o.containerInstance._leftButtonClick.subscribe(a=>o.dismiss())}}roundTripFocus(i){if(this.isMobile)return i.preventDefault(),!1}initMinDates(){this.formArray.controls.forEach(()=>{this.multiMinDate.push(this.calendar.getToday())})}nextPosition(i){setTimeout(()=>{i.onFocus(),i.selectFocus(),this.dataChange.emit()})}nextDate(i){i.focusTrigger(),this.dataChange.emit()}nextPositionRow(i){const o=this.startPoints.get(i+1);o&&setTimeout(()=>{o.onFocus()}),this.dataChange.emit()}calulateMinDate(i){let o=new Date;for(let a=i-1;a>=0;a--){const c=this.formArray.at(a).controls.departDate.value;if(c){o=c;break}}o&&(this.multiMinDate[i]=new u.Ao(o.getFullYear(),o.getMonth()+1,o.getDate()),this.changeDetectorRef.detectChanges())}onRemoveRoute(i){this.removeRoute.emit(i)}onDateSelection(i,o,a,c){o.value||a.value?o.value&&!a.value&&i&&i.getTime()>=o.value.getTime()?(a.setValue(i),c.close(),this.startDate=o.value):o.value&&a.value&&i&&i.getTime()>=o.value.getTime()?"DEPART"===this.dateType?(o.setValue(i),this.currentDate=(0,u.jy)(o.value),this.dateType="ARRIVE"):(a.setValue(i),c.close()):(o.setValue(i),this.dateType="ARRIVE",this.currentDate=(0,u.jy)(o.value)):(o.setValue(i),this.currentDate=(0,u.jy)(o.value),this.dateType="ARRIVE")}onToDateSelection(i,o,a){a.fromDate=i.value,a.toDate=o.value,a.open()}dateRangePickerClose(){this.isShowErrorDateRange=!0}dateSelect(i,o){for(let a=o;a<this.formArray.length-1;a++){const c=this.formArray.at(a+1).controls.departDate.value;c&&i.getTime()>c.getTime()&&(this.formArray.at(a+1).controls.departDate.setValue(new Date(i.getTime()+864e5)),i=new Date(i.getTime()+864e5))}}dateSelectMobile(i,o){this.formArray.at(o).controls.departDate.setValue(i);for(let a=o;a<this.formArray.length-1;a++){const c=this.formArray.at(a+1).controls.departDate.value;c&&i.getTime()>c.getTime()&&(this.formArray.at(a+1).controls.departDate.setValue(new Date(i.getTime()+864e5)),i=new Date(i.getTime()+864e5))}}fromDateChange(i,o){"string"!=typeof i&&(i?(this.minToDate=new u.Ao(i.getFullYear(),i.getMonth()+1,i.getDate()),o.hasValidator(d.kI.required)&&o.removeValidators(d.kI.required),o.value&&i.getTime()>=o.value.getTime()&&o.setValue(null)):o.hasValidator(d.kI.required)||o.addValidators(d.kI.required),o.updateValueAndValidity({onlySelf:!0}),this.dataChange.emit())}toDateChange(i,o){o.hasValidator(d.kI.required)||o.addValidators(d.kI.required),o.updateValueAndValidity(),this.dataChange.emit()}resetDate(i){i.setValue("")}resetRangeDate(i,o,a){i.setValue(""),o.setValue(""),this.currentDate=(0,u.jy)(new Date),setTimeout(()=>{a.navigateTo(this.currentDate)})}swapPoint(i,o){if(""!=i.value&&""!=o.value){const a=i.value;i.setValue(o.value),o.setValue(a),this.changeDetectorRef.detectChanges()}}removeAccents(i){return i.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D")}focusFirstStartPoint(){const i=this.startPoints.get(0);i&&setTimeout(()=>{i.onFocus(),i.selectFocus()}),this.dataChange.emit()}openAirportBottomSheet(i,o){const a=this._bottomSheetService.open(M.h,{headerTitle:"Chuy\u1ebfn bay c\u1ee7a b\u1ea1n",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",containerFullHeigh:!0,restoreFocus:!1,data:{airportOptions:this.data,currentSelected:this._locationDataService.getCityNameByCode(i.value),excludes:[o.value]}});a.containerInstance._leftButtonClick.subscribe(c=>{a.dismiss()}),a.afterDismissed().subscribe(c=>{c&&i.setValue(c.Code)})}scrollDown(){this.numOfMonth=this.numOfMonth+4}onMobileDateSelection(i,o,a){o.value||a.value?o.value&&!a.value&&i&&i.getTime()>=o.value.getTime()?(a.setValue(i),this.startDate=new Date):(a.setValue(null),o.setValue(i)):o.setValue(i)}onMobileDatePickerOK(){this._bottomSheetService.dismiss()}}return s.\u0275fac=function(i){return new(i||s)(t.Y36(u.jH),t.Y36(t.sBO),t.Y36(e._),t.Y36(_.a2),t.Y36(r.L),t.Y36(v.KNP))},s.\u0275cmp=t.Xpm({type:s,selectors:[["cf-search-flight-input"]],viewQuery:function(i,o){if(1&i&&t.Gf(y,5),2&i){let a;t.iGM(a=t.CRH())&&(o.startPoints=a)}},inputs:{formArray:"formArray"},outputs:{removeRoute:"removeRoute",dataChange:"dataChange"},standalone:!0,features:[t.jDz],decls:4,vars:1,consts:[[1,"flex","flex-col","gap-y-2"],[4,"ngFor","ngForOf"],["optionTemplate",""],[1,"flex","items-start","gap-x-2","md:flex-wrap","md:gap-x-0","md:gap-y-4"],[4,"ngIf"],["textField","AirportDisplay","valueField","Code","placeholder","T\u1eeb?",1,"grow-[293]","!max-w-none","md:flex-grow-0","md:w-[calc(50%-12px)]","md:hidden",3,"maxHeight","status","customSearch","excludes","formControl","data","optionTmp","selectedChange"],["startPoint",""],["cfHeadIcon","","icon","plane","size","small",1,"text-neutral-gray-4"],["cfLabel","",4,"ngIf"],["cfHint","",3,"hint",4,"ngIf"],[1,"grow-[293]","!max-w-none","md:flex-grow-0","md:w-[calc(50%-12px)]","hidden","md:block",3,"click"],["textField","AirportDisplay","valueField","Code","placeholder","T\u1eeb?",1,"pointer-events-none",3,"status","customSearch","excludes","formControl","data","optionTmp"],["cf-button","","size","medium","type","secondary",1,"md:border-0","md:px-1",3,"click"],["icon","arrow_right","size","small"],["textField","AirportDisplay","valueField","Code","placeholder","\u0110\u1ebfn?",1,"grow-[293]","!max-w-none","md:flex-grow-0","md:w-[calc(50%-12px)]","md:hidden",3,"maxHeight","status","customSearch","excludes","formControl","data","optionTmp","selectedChange"],["endPoint",""],["textField","AirportDisplay","valueField","Code","placeholder","\u0110\u1ebfn?",1,"pointer-events-none",3,"status","customSearch","excludes","formControl","data","optionTmp"],[1,"grow-[400]","md:flex-grow-0","md:w-full",3,"status"],["cfHeadIcon","","icon","calendar","size","small"],["cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh",1,"py-[7px]",3,"minDate","secondaryCalendar","displayMonths","formControl","input","reset","focus","mousedown","click","dateSelect"],["dateFrom","cfDatepicker"],["icon","close","size","small","class","mt-3 cursor-pointer",3,"invisible","pointer-events-none","click",4,"ngIf"],["oneWayDatepickerBottomSheet",""],["cfLabel",""],["cfHint","",3,"hint"],["icon","close","size","small",1,"mt-3","cursor-pointer",3,"click"],[1,"flex","w-full","flex-col","justify-between"],[1,"grow","overflow-y-hidden","flex","pb-12"],["infinite-scroll","",1,"w-full","flex",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","scrollWindow","fromRoot","alwaysCallback","infiniteScrollContainer","scrolled"],["outsideDays","hidden","navigation","none","direction","vertical",1,"",3,"minDate","displayMonths","rangeSelection","secondaryCalendar","formControl","fromDate","startDate","displayMonthsOffset","dateSelect"],[1,"p-4","fixed","bottom-0","w-full","right-0","bg-neutral-white"],["cf-button","",1,"justify-center","w-full",3,"click"],["cf-button","","size","medium","type","secondary",1,"mt-7","md:border-0","md:px-1",3,"click"],["icon","switch","size","small"],[1,"flex","grow-[440]"],[1,"grow","!w-auto",3,"status"],["cfDatepickerViewer","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh",1,"py-[7px]",3,"minDate","formControl","input","mousedown","ngModelChange","click"],["type","text","outsideDays","hidden","cfDatepicker","",1,"w-0","m-0","mr-2","bottom-0",3,"minDate","secondaryCalendar","displayMonths","rangeSelection","fromDate","startDate","containerWidth","toDate","reset","dateSelect","closed"],["dateRange","cfDatepicker"],["cfDatepickerViewer","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y v\u1ec1",1,"py-[7px]",3,"minDate","formControl","input","mousedown","ngModelChange","click"],["roundTripDatepickerBottomSheet",""],[1,"flex","justify-between","items-center","p-4"],["cfDatepickerViewer","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh",1,"py-[7px]",3,"minDate","formControl","ngModelChange"],[1,"text-body-md-short","text-neutral-gray-6","px-2"],["cfDatepickerViewer","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y v\u1ec1",1,"py-[7px]",3,"minDate","formControl","ngModelChange"],["outsideDays","hidden","navigation","none","direction","vertical",1,"",3,"minDate","displayMonths","rangeSelection","secondaryCalendar","fromDate","startDate","toDate","displayMonthsOffset","dateSelect"],[1,"flex","flex-col"],[1,"text-body-md-short","text-neutral-gray-6",3,"innerHtml"],[1,"text-body-sm","text-neutral-gray-4",3,"innerHtml"]],template:function(i,o){1&i&&(t.TgZ(0,"div",0),t.YNc(1,gt,4,2,"div",1),t.qZA(),t.YNc(2,mt,5,8,"ng-template",null,2,t.W1O)),2&i&&(t.xp6(1),t.Q6J("ngForOf",o.formArray.controls))},dependencies:[f.q,m.N8,m.Xq,g.j$,g.ND,g.BN,g.v2,v.AxE,v.Sm8,d.u5,d.Fj,d.JJ,d.UX,d.oH,u.Cs,u.hI,h.m,n.ax,n.O5,F.Rq,F.Ry,u._o,A.T],encapsulation:2}),s})()},86493:(R,P,l)=>{l.d(P,{u:()=>K});var n=l(94650),t=l(72506),d=l(74891),m=l(74713),u=l(36895),h=l(24006),v=l(24513),g=l(62331),f=l(83700),M=l(88605),F=l(98184),A=l(37094);const e=["voucher"];function _(Z,k){1&Z&&n._UZ(0,"cf-icon",11)}function r(Z,k){if(1&Z&&(n.TgZ(0,"div",12),n._uU(1),n.qZA()),2&Z){const x=n.oxw();n.xp6(1),n.hij(" ",x.promotionApplyCount,"")}}function y(Z,k){if(1&Z){const x=n.EpF();n.TgZ(0,"div",20)(1,"div",21)(2,"cf-select",22),n.NdJ("ngModelChange",function(w){const B=n.CHM(x).$implicit;return n.KtG(B.selectedCode=w)})("ngModelChange",function(){n.CHM(x);const w=n.oxw(2);return n.KtG(w.onCodeChanges())})("selectedChange",function(w){const B=n.CHM(x).$implicit,H=n.oxw(2);return n.KtG(H.onPromotionChange(w,B))}),n.TgZ(3,"div",23),n._UZ(4,"img",24),n._uU(5),n.qZA()()()()}if(2&Z){const x=k.$implicit;n.xp6(2),n.Q6J("ngModel",x.selectedCode)("allowCustomText",!0)("data",x.items)("allowClear",!0),n.xp6(2),n.Q6J("src",x.airlineLogo,n.LSH),n.xp6(1),n.hij(" ",x.airline," ")}}function I(Z,k){if(1&Z){const x=n.EpF();n.TgZ(0,"div",13)(1,"div",14)(2,"div",15),n._uU(3,"M\xe3 khuy\u1ebfn m\xe3i"),n.qZA(),n.TgZ(4,"div",16),n.YNc(5,y,6,6,"div",17),n.qZA(),n.TgZ(6,"div",18)(7,"button",19),n.NdJ("click",function(){n.CHM(x);const w=n.oxw();return n.KtG(w.closeBotomSheet())}),n._uU(8,"X\xe1c nh\u1eadn"),n.qZA()()()()}if(2&Z){const x=n.oxw();n.xp6(5),n.Q6J("ngForOf",x.promotionGroupList)}}function O(Z,k){if(1&Z&&(n.TgZ(0,"div"),n._uU(1,"Ch\xfac m\u1eebng, "),n.TgZ(2,"strong"),n._uU(3),n.qZA(),n._uU(4," \u0111\xe3 \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng cho b\u1ea1n!"),n.qZA()),2&Z){const x=n.oxw(2);n.xp6(3),n.hij("",x.promotionApplyCount," m\xe3 khuy\u1ebfn m\xe3i")}}function L(Z,k){1&Z&&(n.TgZ(0,"div"),n._uU(1,"\u{1f525} Nh\u1eadp khuy\u1ebfn m\xe3i \u0111\u1ec3 \u0111\u01b0\u1ee3c gi\u1ea3m gi\xe1"),n.qZA())}function Y(Z,k){if(1&Z&&(n.YNc(0,O,5,1,"div",25),n.YNc(1,L,2,0,"div",25)),2&Z){const x=n.oxw();n.Q6J("ngIf",x.promotionApplyCount>0),n.xp6(1),n.Q6J("ngIf",0===x.promotionApplyCount)}}let K=(()=>{class Z{constructor(x,N,w){this._toastService=x,this._viewportRuler=N,this.bottomSheetService=w,this.isShowTooltipFirstTime=!1,this.promotionChange=new n.vpe,this.isOpen=!1,this.promotionApplyCount=0,this.isMobile=matchMedia("(max-width: 768px)").matches,this.bottomCenter=[{originX:"start",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:0,offsetY:0}]}ngAfterViewInit(){setTimeout(()=>{this.promotionApplyCount=this.promotionGroupList.filter(x=>""!=x.selectedCode).length}),this.isShowTooltipFirstTime&&!this.isMobile&&setTimeout(()=>{this.voucher.showTooltip()})}ngOnChanges(x){x.promotionGroupList&&!x.promotionGroupList.firstChange&&this.reloadTooltip()}click(x){this.isOpen=!this.isOpen,x.stopPropagation(),this.voucher.hideTooltip()}reloadTooltip(x=!0){const N=this.promotionGroupList.filter(w=>""!=w.selectedCode).length;N>0?(this.promotionApplyCount=N,this.promotionApplyCount>0&&x&&(!this.isShowTooltipFirstTime&&this.isMobile||this.isShowTooltipFirstTime&&!this.isMobile)&&this._toastService.add({severity:"success",summary:"\xc1p d\u1ee5ng M\xe3 KM th\xe0nh c\xf4ng",detail:`${this.promotionApplyCount} m\xe3 khuy\u1ebfn m\xe3i \u0111\xe3 \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng cho b\u1ea1n!`,sticky:!1,contentStyleClass:"!p-3"})):(this.promotionApplyCount=0,this.voucher.hideTooltip())}outsideClick(x){this.isOpen=!1}onPromotionChange(x,N){x?0===N.items.map(w=>w.code).filter(w=>w===x.code).length&&(N.items.push({code:x.code,description:x.description,isSystemPromotion:!1}),this.reloadTooltip()):(N.selectedCode="",this.reloadTooltip(!1)),this.promotionChange.emit(this.promotionGroupList)}openBottomSheet(x){this.bottomSheetService.open(x,{headerTitle:"Khuy\u1ebfn m\xe3i",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"}).containerInstance._rightButtonClick.subscribe(()=>this.bottomSheetService.dismiss())}closeBotomSheet(){this.bottomSheetService.dismiss()}onCodeChanges(){console.log(this.promotionGroupList)}}return Z.\u0275fac=function(x){return new(x||Z)(n.Y36(g.BX),n.Y36(M.rL),n.Y36(A.a2))},Z.\u0275cmp=n.Xpm({type:Z,selectors:[["cf-voucher-selector"]],viewQuery:function(x,N){if(1&x&&n.Gf(e,5,v.Lk),2&x){let w;n.iGM(w=n.CRH())&&(N.voucher=w.first)}},inputs:{promotionGroupList:"promotionGroupList",isShowTooltipFirstTime:"isShowTooltipFirstTime"},outputs:{promotionChange:"promotionChange"},standalone:!0,features:[n.TTD,n.jDz],decls:17,vars:9,consts:[["tabIndex","-1","cdkOverlayOrigin","",1,"flex","items-center","gap-x-2","py-[5px]","px-3.5","cursor-pointer","md:hidden",3,"manualHandle","placement","color","cfTooltip","click"],["voucher","","trigger","","originOverlay","cdkOverlayOrigin"],["icon","coupon","size","small",4,"ngIf"],["class","flex items-center rounded justify-center w-4 h-4 text-espressive-xs bg-secondary-6-4 text-neutral-white",4,"ngIf"],[1,"text-body-md","text-neutral-black"],[1,"gap-x-1.5","items-center","border","border-neutral-gray-3","rounded-full","px-4","py-[5px]","hidden","md:flex",3,"click"],[1,"text-body-md","whitespace-nowrap"],["icon","down","size","small",1,"text-neutral-gray-5"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","overlayOutsideClick"],["bottomSheet",""],["toolTipTemplate",""],["icon","coupon","size","small"],[1,"flex","items-center","rounded","justify-center","w-4","h-4","text-espressive-xs","bg-secondary-6-4","text-neutral-white"],[1,"p-4","shadow-cf-lg","w-[280px]","bg-neutral-white","rounded","md:w-full","md:pt-1"],[1,"flex-col","justify-start","items-center","rounded"],[1,"text-heading-sm","text-neutral-black","md:hidden"],[1,"flex","flex-col","pt-4","gap-y-2","md:gap-y-3"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"hidden","md:block","mt-4"],["cf-button","",1,"w-full","justify-center",3,"click"],[1,"flex","items-center"],[1,"flex","items-center","gap-x-2","md:w-full"],["textField","description","valueField","code","size","small","placeholder","Nh\u1eadp m\xe3",1,"select-promotion","md:max-w-none","md:w-full",3,"ngModel","allowCustomText","data","allowClear","ngModelChange","selectedChange"],["cfPrefix","",1,"min-w-[112px]","py-2.5","px-3","text-body-md","flex","gap-x-2","items-center","border-r","border-neutral-gray-2"],[1,"w-8","h-5","object-contain","shrink-0",3,"src"],[4,"ngIf"]],template:function(x,N){if(1&x){const w=n.EpF();n.TgZ(0,"div",0,1),n.NdJ("click",function(B){return N.click(B)}),n.YNc(4,_,1,0,"cf-icon",2),n.YNc(5,r,2,1,"div",3),n.TgZ(6,"div",4),n._uU(7,"M\xe3 khuy\u1ebfn m\xe3i"),n.qZA()(),n.TgZ(8,"div",5),n.NdJ("click",function(){n.CHM(w);const B=n.MAs(13);return n.KtG(N.openBottomSheet(B))}),n.TgZ(9,"div",6),n._uU(10,"Khuy\u1ebfn m\xe3i"),n.qZA(),n._UZ(11,"cf-icon",7),n.qZA(),n.YNc(12,I,9,1,"ng-template",8,9,n.W1O),n.NdJ("overlayOutsideClick",function(B){return N.outsideClick(B)}),n.YNc(14,Y,2,2,"ng-template",null,10,n.W1O),n._UZ(16,"cf-toast")}if(2&x){const w=n.MAs(3),Q=n.MAs(15);n.Q6J("manualHandle",!0)("placement","topRight")("color","black")("cfTooltip",Q),n.xp6(4),n.Q6J("ngIf",0===N.promotionApplyCount),n.xp6(1),n.Q6J("ngIf",N.promotionApplyCount>0),n.xp6(7),n.Q6J("cdkConnectedOverlayOrigin",w)("cdkConnectedOverlayOpen",N.isOpen)("cdkConnectedOverlayPositions",N.bottomCenter)}},dependencies:[u.ez,u.sg,u.O5,t.AxE,t.Sm8,d.f,F.pI,F.xu,m.q,h.u5,h.JJ,h.On,v.Lk,g.hj,f.N8,f.Xq],styles:[".select-promotion input::placeholder{color:#999!important;opacity:1;color:#0ff}  .select-promotion input:-ms-input-placeholder{color:#999!important}  .select-promotion input::-ms-input-placeholder{color:#999!important}"]}),Z})()},62733:(R,P,l)=>{l.d(P,{G:()=>t});var n=l(94650);let t=(()=>{class d{constructor(){this.flightData={VJ:{name:"Vietjet Air",logo:"assets/airline-logo/VJ.png",smallLogo:"assets/airline-logo/VJ_small.png"},VN:{name:"Vietnam Airlines",logo:"assets/airline-logo/VN.png",smallLogo:"assets/airline-logo/VN_small.png"},QH:{name:"Bamboo Airways",logo:"assets/airline-logo/QH.png",smallLogo:"assets/airline-logo/QH_small.png"}}}getAirlineNameByCode(u){var h;return(null===(h=this.flightData[u])||void 0===h?void 0:h.name)||""}getAirlineLogoByCode(u){return["GDS","other","",null].includes(u)?"assets/icons/airline-default.svg":`assets/airline-logo/${u}.png`}getAirlineIconByCode(u){return["GDS","other","",null].includes(u)?"assets/icons/airline-default.svg":`assets/icons/${u}-icon.svg`}getAirlineLogoDefault(u){return["VN","VJ","QH"].includes(u)?`assets/airline-logo/${u}.png`:"assets/icons/airline-default.svg"}getSmallAirlineLogoByCode(u){var h;const v=["GDS","other","",null].includes(u);return(null===(h=this.flightData[u])||void 0===h?void 0:h.smallLogo)||(v?"assets/icons/airline-default.svg":`assets/airline-logo/${u}.png`)}getAirlineSystemNameByCode(u){var h;return"VN"==u?"Vietnam Airlines":(null===(h=this.flightData[u])||void 0===h?void 0:h.name)||""}}return d.\u0275fac=function(u){return new(u||d)},d.\u0275prov=n.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},13138:(R,P,l)=>{l.d(P,{R:()=>t});var n=l(94650);let t=(()=>{class d{get searchInputData(){return JSON.parse(sessionStorage.getItem("searchInputData"))}set searchInputData(u){sessionStorage.setItem("searchInputData",JSON.stringify(u))}}return d.\u0275fac=function(u){return new(u||d)},d.\u0275prov=n.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},49195:(R,P,l)=>{l.d(P,{t:()=>t});var n=l(53820);const t={[n.b.CREATE]:{name:"\u0110ang canh v\xe9",description:"Canh v\xe9 r\u1ebb \u0111ang ho\u1ea1t \u0111\u1ed9ng t\u1ef1 \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[n.b.IN_PROCESS]:{name:"\u0110ang canh v\xe9",description:"Canh v\xe9 r\u1ebb \u0111ang ho\u1ea1t \u0111\u1ed9ng t\u1ef1 \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[n.b.COMPLETED]:{name:"\u0110\xe3 canh th\xe0nh c\xf4ng",description:"\u0110\xe3 canh \u0111\u01b0\u1ee3c gi\xe1 v\xe9 r\u1ebb",icon:"check",backgroundColor:"bg-[#07A35D]",textColor:"text-neutral-white"},[n.b.IN_PROCESS_PRICE_UP]:{name:"\u0110ang canh gi\xe1 t\u0103ng",description:"Gi\xe1 v\xe9 \u0111\xe3 t\u0103ng, vui l\xf2ng c\xe2n nh\u1eafc xu\u1ea5t v\xe9",icon:"arrow_right_up",backgroundColor:"bg-[#ffd1bc]",textColor:"text-primary-1-4"},[n.b.CANCEL]:{name:"\u0110\xe3 h\u1ee7y",description:"\u0110\xe3 h\u1ee7y y\xeau c\u1ea7u canh v\xe9",icon:"delete",backgroundColor:"bg-[#999999]",textColor:"text-neutral-white"},[n.b.EXPIRED]:{name:"\u0110\xe3 h\u1ebft h\u1ea1n",description:"H\u1ebft h\u1ea1n canh v\xe9",icon:"clock",backgroundColor:"bg-[#CCCCCC]",textColor:"text-neutral-gray-6"}}},53820:(R,P,l)=>{l.d(P,{b:()=>n});var n=(()=>{return(t=n||(n={})).CREATE="CREATE",t.IN_PROCESS="IN_PROCESS",t.IN_PROCESS_PRICE_UP="IN_PROCESS_PRICE_UP",t.COMPLETED="COMPLETED",t.EXPIRED="EXPIRED",t.CANCEL="CANCEL",n;var t})()},97380:(R,P,l)=>{l.d(P,{D5:()=>F,VP:()=>f,_r:()=>M,v_:()=>_,xj:()=>h,yI:()=>e});var n=l(97582),t=l(87067),d=l(43429),m=l(53820),u=l(49195);let h=(()=>{class r{}return(0,n.gn)([(0,t.C)()],r.prototype,"status",void 0),(0,n.gn)([(0,d.D)(()=>v),(0,t.C)()],r.prototype,"data",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"objectError",void 0),r})(),v=(()=>{class r{}return(0,n.gn)([(0,d.D)(()=>f),(0,t.C)()],r.prototype,"listOrder",void 0),(0,n.gn)([(0,d.D)(()=>g),(0,t.C)()],r.prototype,"orderTaskStatus",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"pageOffset",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"pageSize",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"total",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"empty",void 0),r})(),g=(()=>{class r{}return(0,n.gn)([(0,t.C)()],r.prototype,"completeTask",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"inProcessTask",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"maxTask",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"numMaxFree",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"numOrderFree",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"ownerId",void 0),r})(),f=(()=>{class r{get stateDisplay(){switch(this.state){case m.b.CREATE:return u.t[m.b.CREATE].name;case m.b.IN_PROCESS:return u.t[m.b.IN_PROCESS].name;case m.b.COMPLETED:return u.t[m.b.COMPLETED].name;case m.b.CANCEL:return u.t[m.b.CANCEL].name;case m.b.EXPIRED:return u.t[m.b.EXPIRED].name;case m.b.IN_PROCESS_PRICE_UP:return u.t[m.b.IN_PROCESS_PRICE_UP].name;default:return""}}}return(0,n.gn)([(0,t.C)()],r.prototype,"orderId",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"canUpdate",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"code",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"state",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"monitorType",void 0),(0,n.gn)([(0,d.D)(()=>M),(0,t.C)()],r.prototype,"ticketInfo",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"orderInfo",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"fareInfo",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"ownerInfo",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"userActionInfo",void 0),(0,n.gn)([(0,d.D)(()=>_),(0,t.C)()],r.prototype,"availableSlotInfo",void 0),r})(),M=(()=>{class r{}return(0,n.gn)([(0,t.C)()],r.prototype,"leg",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"airline",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"flightType",void 0),(0,n.gn)([(0,d.D)(()=>F),(0,t.C)()],r.prototype,"journeys",void 0),(0,n.gn)([(0,d.D)(()=>e),(0,t.C)()],r.prototype,"passengers",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"totalFare",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"originalPrice",void 0),r})(),F=(()=>{class r{}return(0,n.gn)([(0,t.C)()],r.prototype,"leg",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"startPoint",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"endPoint",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"departTime",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"arrivalTime",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"duration",void 0),(0,n.gn)([(0,d.D)(()=>A),(0,t.C)()],r.prototype,"segments",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"rangeTime",void 0),r})(),A=(()=>{class r{}return(0,n.gn)([(0,t.C)()],r.prototype,"startPoint",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"endPoint",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"flightNumber",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"fareBasic",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"fareClass",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"departTime",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"departZone",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"arriveTime",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"arriveZone",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"index",void 0),r})(),e=(()=>{class r{}return(0,n.gn)([(0,t.C)()],r.prototype,"birthday",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"firstName",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"lastName",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"type",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"index",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"parentIndex",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"key",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"parentKey",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"namePrefix",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"gender",void 0),r})(),_=(()=>{class r{}return(0,n.gn)([(0,t.C)()],r.prototype,"amountPerPax",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"currency",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"free",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"percent",void 0),(0,n.gn)([(0,t.C)()],r.prototype,"type",void 0),r})()},40833:(R,P,l)=>{function n(t,d){if(d.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+d.length+" present")}l.d(P,{Z:()=>n})},91998:(R,P,l)=>{function n(t){if(null===t||!0===t||!1===t)return NaN;var d=Number(t);return isNaN(d)?d:d<0?Math.ceil(d):Math.floor(d)}l.d(P,{Z:()=>n})},35650:(R,P,l)=>{l.d(P,{Z:()=>m});var n=l(91998),t=l(80953),d=l(40833);function m(u,h){(0,d.Z)(2,arguments);var v=(0,t.Z)(u),g=(0,n.Z)(h);return isNaN(g)?new Date(NaN):(g&&v.setDate(v.getDate()+g),v)}},43201:(R,P,l)=>{l.d(P,{Z:()=>u});var n=l(91998),t=l(80953),d=l(40833);function u(h,v){return(0,d.Z)(2,arguments),function m(h,v){(0,d.Z)(2,arguments);var g=(0,t.Z)(h),f=(0,n.Z)(v);if(isNaN(f))return new Date(NaN);if(!f)return g;var M=g.getDate(),F=new Date(g.getTime());return F.setMonth(g.getMonth()+f+1,0),M>=F.getDate()?F:(g.setFullYear(F.getFullYear(),F.getMonth(),M),g)}(h,12*(0,n.Z)(v))}},80953:(R,P,l)=>{l.d(P,{Z:()=>d});var n=l(86),t=l(40833);function d(m){(0,t.Z)(1,arguments);var u=Object.prototype.toString.call(m);return m instanceof Date||"object"===(0,n.Z)(m)&&"[object Date]"===u?new Date(m.getTime()):"number"==typeof m||"[object Number]"===u?new Date(m):(("string"==typeof m||"[object String]"===u)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},72853:(R,P,l)=>{l.d(P,{m:()=>t});var n=l(94650);let t=(()=>{class d{constructor(){}}return d.\u0275fac=function(u){return new(u||d)},d.\u0275cmp=n.Xpm({type:d,selectors:[["cf-hint"]],inputs:{hint:"hint"},standalone:!0,features:[n.jDz],decls:2,vars:1,template:function(u,h){1&u&&(n.ynx(0),n._uU(1),n.BQk()),2&u&&(n.xp6(1),n.Oqu(h.hint))},encapsulation:2}),d})()},86:(R,P,l)=>{function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(d){return typeof d}:function(d){return d&&"function"==typeof Symbol&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(t)}l.d(P,{Z:()=>n})}}]);