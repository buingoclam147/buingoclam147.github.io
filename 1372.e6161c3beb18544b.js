"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[1372],{81372:(ye,Z,l)=>{l.d(Z,{xf:()=>ce,bG:()=>ke,L9:()=>me});var T=l(98184),u=l(36895),e=l(94650),m=l(83700),s=l(72506),I=l(74891),S=l(24513),O=l(42678),g=l(40899),f=l(38514),v=l(53820),k=l(62163),d=l(37094),y=l(67460),D=l(61545),F=l(9381);function R(n,r){if(1&n&&e._UZ(0,"tooltip-available-slot",38),2&n){const t=e.oxw(),i=e.MAs(75);e.Q6J("availableSlotData",t.availableSlotData)("content",i)}}function N(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",42,43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onAction("EDIT"))}),e._uU(3," Ch\u1ec9nh s\u1eeda "),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",!t.pnrOrderData.canUpdate)("manualHandle",t.pnrOrderData.canUpdate)("placement","topCenter")("cfTooltip","Kh\xf4ng th\u1ec3 ch\u1ec9nh s\u1eeda do \u0111\xe3 th\u1ef1c hi\u1ec7n tr\u01b0\u1edbc \u0111\xf3")}}function B(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onAction("CANCEL"))}),e._uU(1," H\u1ee7y s\u0103n "),e.qZA()}}function U(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onAction("CREATE_NEW"))}),e._uU(1," T\u1ea1o l\u1ea1i "),e.qZA()}}const C=function(n,r,t){return[n,r,t]},q=function(n,r){return[n,r]};function w(n,r){if(1&n&&(e.TgZ(0,"div",39),e.YNc(1,N,4,4,"button",40),e.YNc(2,B,2,0,"button",41),e.YNc(3,U,2,0,"button",41),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.kEZ(3,C,t.STATUS_ORDER.CREATE,t.STATUS_ORDER.IN_PROCESS,t.STATUS_ORDER.IN_PROCESS_PRICE_UP).includes(t.pnrOrderData.state)),e.xp6(1),e.Q6J("ngIf",e.kEZ(7,C,t.STATUS_ORDER.CREATE,t.STATUS_ORDER.IN_PROCESS,t.STATUS_ORDER.IN_PROCESS_PRICE_UP).includes(t.pnrOrderData.state)),e.xp6(1),e.Q6J("ngIf",e.WLB(11,q,t.STATUS_ORDER.CANCEL,t.STATUS_ORDER.EXPIRED).includes(t.pnrOrderData.state))}}function H(n,r){if(1&n&&(e.TgZ(0,"div",45)(1,"span",46),e._uU(2),e.qZA(),e.TgZ(3,"span",47),e._uU(4),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.hij("(+",t.pnrOrderData.representPax.remainingPax,")"),e.xp6(2),e.hij("(+",t.pnrOrderData.representPax.remainingPax," h\xe0nh kh\xe1ch kh\xe1c)")}}function J(n,r){if(1&n&&(e.TgZ(0,"div",25)(1,"div",26),e._uU(2,"Thu\u1ed9c \u0111\u1ea1i l\xfd"),e.qZA(),e.TgZ(3,"div",18),e._uU(4),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.pnrOrderData.ownerName||"-")}}function M(n,r){if(1&n&&(e.TgZ(0,"div",25)(1,"div",26),e._uU(2,"Ng\xe0y y\xeau c\u1ea7u"),e.qZA(),e.TgZ(3,"div",18),e._uU(4),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.pnrOrderData.timeCreated||"-")}}function Q(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"H\xe3ng bay"),e.qZA())}function Y(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"Gi\xe1 v\xe9"),e.qZA())}function P(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",48),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onAction("BOOKING_DETAIL"))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.pnrOrderData.fareInfo.detectedPnr," ")}}function K(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function z(n,r){1&n&&e._UZ(0,"cf-icon",49)}function j(n,r){1&n&&e._UZ(0,"cf-icon",50)}function G(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",54),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onAction("CREATE_NEW"))}),e._UZ(1,"cf-icon",56),e.TgZ(2,"span"),e._uU(3,"T\u1ea1o l\u1ea1i"),e.qZA()()}}const $=function(n){return{"!text-neutral-gray-4 pointer-events-none":n}},L=function(n){return{"!text-neutral-gray-4":n}};function V(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",57),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onAction("EDIT"))}),e._UZ(1,"cf-icon",58),e.TgZ(2,"span"),e._uU(3,"Ch\u1ec9nh s\u1eeda"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(2,$,!t.pnrOrderData.canUpdate)),e.xp6(1),e.Q6J("ngClass",e.VKq(4,L,!t.pnrOrderData.canUpdate))}}function X(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",54),e.NdJ("click",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.onConfirmCancel(o))}),e._UZ(1,"cf-icon",59),e.TgZ(2,"span"),e._uU(3,"H\u1ee7y s\u0103n v\xe9"),e.qZA()()}}function W(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",54),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onAction("BOOKING_DETAIL"))}),e._UZ(1,"cf-icon",60),e.TgZ(2,"span"),e._uU(3,"M\u1edf \u0111\u1eb7t ch\u1ed7"),e.qZA()()}}const ee=function(){return["CANCEL","EXPIRED"]},A=function(){return["CREATE","IN_PROCESS","IN_PROCESS_PRICE_UP"]},te=function(){return["COMPLETED"]};function ne(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",51),e.YNc(1,G,4,0,"div",52),e.YNc(2,V,4,6,"div",53),e.YNc(3,X,4,0,"div",52),e.TgZ(4,"div",54),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onAction("DETAIL"))}),e._UZ(5,"cf-icon",55),e.TgZ(6,"span"),e._uU(7,"Chi ti\u1ebft y\xeau c\u1ea7u"),e.qZA()(),e.YNc(8,W,4,0,"div",52),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.canMonitorHuntFareTicket&&e.DdM(4,ee).includes(t.pnrOrderData.state)),e.xp6(1),e.Q6J("ngIf",t.canMonitorHuntFareTicket&&e.DdM(5,A).includes(t.pnrOrderData.state)),e.xp6(1),e.Q6J("ngIf",t.canMonitorHuntFareTicket&&e.DdM(6,A).includes(t.pnrOrderData.state)),e.xp6(5),e.Q6J("ngIf",e.DdM(7,te).includes(t.pnrOrderData.state))}}function ie(n,r){1&n&&(e.TgZ(0,"div",62)(1,"span",63),e._uU(2,"Thu ph\xed"),e.qZA(),e._UZ(3,"cf-icon",64),e.qZA())}function oe(n,r){1&n&&(e.TgZ(0,"div",62)(1,"span",63),e._uU(2,"Mi\u1ec5n ph\xed"),e.qZA(),e._UZ(3,"cf-icon",64),e.qZA())}function re(n,r){if(1&n&&(e.YNc(0,ie,4,0,"div",61),e.YNc(1,oe,4,0,"div",61)),2&n){const t=e.oxw();e.Q6J("ngIf",!t.availableSlotData.available),e.xp6(1),e.Q6J("ngIf",t.availableSlotData.available)}}const ae=function(n){return{"md:!items-end":n}},h=function(n){return{"md:!hidden":n}};let ce=(()=>{class n{constructor(t,i,o,a){this._permissionService=i,this._bottomSheetService=o,this._mobileDetectService=a,this.bookingHunterType=f.G.HUNT_NEW_TICKET,this.TYPE_ORDER=f.G,this.status=v.b.COMPLETED,this.STATUS_ORDER=v.b,this.CARD_HUNTER_STATUS=O.u1,this.MONITOR_TYPE=k.$,this.actionChange=new e.vpe,this.viewListAgentForMonitorHuntFare=this._permissionService.hasPermission(g.or.ViewListAgentForMonitorHuntFare),this.canMonitorHuntFareTicket=this._permissionService.hasPermission(g.or.CanMonitorHuntFareTicket),this.isShowMore=!1,t.registerIcons([s.esH,s.NNX,s.Hge,s.Ffn,s.SlW,s.$PG,s.qDv,s.cnj,s.okA,s.xbi,s.n78,s.fqi,s.BbA,s.QkI,s.$S,s.SK7])}ngOnInit(){this.status=this.pnrOrderData.state,this.availableSlotData={available:this.pnrOrderData.availableSlotInfo.free,type:this.pnrOrderData.availableSlotInfo.type,amount:this.pnrOrderData.availableSlotInfo.type===f.G.DOWN_FARE_TICKET?this.pnrOrderData.availableSlotInfo.percent:this.pnrOrderData.availableSlotInfo.amountPerPax,currency:this.pnrOrderData.availableSlotInfo.type===f.G.DOWN_FARE_TICKET?this.pnrOrderData.availableSlotInfo.currency:"\u0111"}}onAction(t){this._bottomSheetService&&this._bottomSheetService.dismiss(),this.actionChange.emit(t)}onShow(t){t.preventDefault(),t.stopPropagation(),this.isShowMore=!this.isShowMore}onClickDetail(){this._mobileDetectService.isMobile()&&this.onAction("DETAIL")}openBottomSheet(t,i){t.preventDefault(),t.stopPropagation(),this.bottomSheetAction=this._bottomSheetService.open(i,{hasHeader:!1,rightButtonIconClass:"text-neutral-gray-4"})}onConfirmCancel(t){this.bottomSheetAction.dismiss(),t.preventDefault(),t.stopPropagation(),this.mobileConfirmBts=this._bottomSheetService.open(y.Q4,{headerTitle:"H\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9",rightButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",data:{body:`<div>B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n h\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9 <strong>#${this.pnrOrderData.code}?</strong></div>`,okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y b\u1ecf",isSecondary:!0}}),this.mobileConfirmBts.containerInstance._rightButtonClick.subscribe(i=>{this.mobileConfirmBts.dismiss()}),this.mobileConfirmBts.afterDismissed().subscribe(i=>{i?this.onAction("CANCEL"):this.onClose()})}onClose(){this.mobileConfirmBts.dismiss()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.KNP),e.Y36(g.$A),e.Y36(d.a2),e.Y36(F.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["booking-hunter-item"]],inputs:{bookingHunterType:"bookingHunterType",pnrOrderData:"pnrOrderData"},outputs:{actionChange:"actionChange"},standalone:!0,features:[e.jDz],decls:76,vars:43,consts:[[1,"rounded-lg","overflow-hidden","bg-white"],[1,"px-2.5","py-1.5","flex","justify-between","gap-x-2.5"],[1,"flex","items-center","gap-x-2"],["class","md:hidden",3,"availableSlotData","content",4,"ngIf"],[1,"flex","items-center","gap-x-1"],["size","small",3,"icon"],[1,"text-express-md"],["class","flex gap-x-1.5 md:hidden",4,"ngIf"],[1,"hidden","md:block","md:p-2",3,"click"],["icon","options_horizontal","size","small"],[1,"p-3","flex","flex-col","gap-y-2",3,"click"],[1,"flex","justify-between","items-center"],[1,"flex","flex-col","justify-between","gap-y-1.5"],[1,"text-express-xl","text-neutral-gray-6","flex","items-center","gap-x-2.5","md:text-express-md"],["icon","plane","size","small"],["icon","arrow_right","size","small"],[1,"flex","gap-x-[30px]","pl-[26px]"],[1,"text-body-sm","text-neutral-gray-4"],[1,"text-express-sm","text-neutral-gray-6"],[1,"flex","gap-x-1","items-center"],["class","text-express-sm text-neutral-gray-4",4,"ngIf"],["cf-button","","size","medium",1,"md:hidden",3,"click"],[1,"p-2","bg-neutral-gray-1","rounded","md:flex","md:gap-x-4","md:justify-center","md:items-center","md:p-3",3,"ngClass"],[1,"flex","justify-between","items-center","md:flex-col","md:items-start","md:gap-y-2","md:flex-1"],["class","min-w-[100px] flex flex-col justify-between gap-y-2 md:flex-row md:gap-x-4",4,"ngIf"],[1,"min-w-[100px]","flex","flex-col","justify-between","gap-y-2","md:flex-row","md:gap-x-4"],[1,"text-body-sm","text-neutral-gray-4","md:min-w-[100px]"],[1,"min-w-[100px]","flex","flex-col","justify-between","gap-y-2","md:flex-row","md:gap-x-4",3,"ngClass"],[4,"ngIf"],[1,"text-express-sm","text-neutral-gray-6",3,"click"],["class","text-secondary-3-4 hover:underline cursor-default",3,"click",4,"ngIf"],[1,"md:p-2","hidden","md:block",3,"click"],["icon","chevron_down","size","small",4,"ngIf"],["icon","chevron_up","size","small",4,"ngIf"],[1,"hidden","md:flex"],[3,"availableSlotData","content"],["bottomSheetAction",""],["availableSlotRef",""],[1,"md:hidden",3,"availableSlotData","content"],[1,"flex","gap-x-1.5","md:hidden"],["tabIndex","-1","cdkOverlayOrigin","","cf-button","","size","medium","type","secondary","class","justify-center bg-neutral-white",3,"disabled","manualHandle","placement","cfTooltip","click",4,"ngIf"],["cf-button","","size","medium","type","secondary","class","justify-center bg-neutral-white",3,"click",4,"ngIf"],["tabIndex","-1","cdkOverlayOrigin","","cf-button","","size","medium","type","secondary",1,"justify-center","bg-neutral-white",3,"disabled","manualHandle","placement","cfTooltip","click"],["trigger","","originOverlay","cdkOverlayOrigin"],["cf-button","","size","medium","type","secondary",1,"justify-center","bg-neutral-white",3,"click"],[1,"text-express-sm","text-neutral-gray-4"],[1,"hidden","md:block"],[1,"md:hidden"],[1,"text-secondary-3-4","hover:underline","cursor-default",3,"click"],["icon","chevron_down","size","small"],["icon","chevron_up","size","small"],[1,"pb-4","w-full"],["class","py-2.5 px-4 text-button-md text-neutral-gray-6 border-b border-neutral-gray-1 flex gap-x-2 items-center",3,"click",4,"ngIf"],["class","py-2.5 px-4 text-button-md text-neutral-gray-6 border-b border-neutral-gray-1 flex gap-x-2 items-center",3,"ngClass","click",4,"ngIf"],[1,"py-2.5","px-4","text-button-md","text-neutral-gray-6","border-b","border-neutral-gray-1","flex","gap-x-2","items-center",3,"click"],["icon","document","size","small"],["icon","refresh","size","small"],[1,"py-2.5","px-4","text-button-md","text-neutral-gray-6","border-b","border-neutral-gray-1","flex","gap-x-2","items-center",3,"ngClass","click"],["icon","edit_alt","size","small",3,"ngClass"],["icon","coupon_slash","size","small"],["icon","external_link","size","small"],["class","px-2.5 py-1 rounded bg-black bg-opacity-30 flex items-center gap-x-2 cursor-default",4,"ngIf"],[1,"px-2.5","py-1","rounded","bg-black","bg-opacity-30","flex","items-center","gap-x-2","cursor-default"],[1,"text-neutral-white","text-button-md"],["icon","circle_help","size","small",1,"text-neutral-white"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,R,1,2,"tooltip-available-slot",3),e.TgZ(4,"div",4),e._UZ(5,"cf-icon",5),e.TgZ(6,"div",6),e._uU(7),e.qZA()()(),e.YNc(8,w,4,14,"div",7),e.TgZ(9,"div",8),e.NdJ("click",function(c){e.CHM(o);const p=e.MAs(73);return e.KtG(i.openBottomSheet(c,p))}),e._UZ(10,"cf-icon",9),e.qZA()(),e.TgZ(11,"div",10),e.NdJ("click",function(){return i.onClickDetail()}),e.TgZ(12,"div",11)(13,"div",12)(14,"div",13),e._UZ(15,"cf-icon",14),e.TgZ(16,"div"),e._uU(17),e.qZA(),e._UZ(18,"cf-icon",15),e.TgZ(19,"div"),e._uU(20),e.qZA()(),e.TgZ(21,"div",16)(22,"div")(23,"div",17),e._uU(24,"Ng\xe0y kh\u1edfi h\xe0nh:"),e.qZA(),e.TgZ(25,"div",18),e._uU(26),e.qZA()(),e.TgZ(27,"div")(28,"div",17),e._uU(29,"H\xe0nh kh\xe1ch:"),e.qZA(),e.TgZ(30,"div",19)(31,"div",18),e._uU(32),e.qZA(),e.YNc(33,H,5,2,"div",20),e.qZA()()()(),e.TgZ(34,"button",21),e.NdJ("click",function(){return i.onAction("DETAIL")}),e._uU(35," Chi ti\u1ebft "),e.qZA()(),e.TgZ(36,"div",22)(37,"div",23),e.YNc(38,J,5,1,"div",24),e.TgZ(39,"div",25)(40,"div",26),e._uU(41,"M\xe3 y\xeau c\u1ea7u"),e.qZA(),e.TgZ(42,"div",18),e._uU(43),e.qZA()(),e.YNc(44,M,5,1,"div",24),e.TgZ(45,"div",27)(46,"div",26),e._uU(47,"H\u1ea1n s\u0103n v\xe9"),e.qZA(),e.TgZ(48,"div",18),e._uU(49),e.qZA()(),e.TgZ(50,"div",27)(51,"div",26),e._uU(52,"S\u0103n theo"),e.qZA(),e.TgZ(53,"div",18),e.YNc(54,Q,2,0,"span",28),e.YNc(55,Y,2,0,"span",28),e.qZA()(),e.TgZ(56,"div",27)(57,"div",26),e._uU(58,"H\xe3ng bay"),e.qZA(),e.TgZ(59,"div",18),e._uU(60),e.qZA()(),e.TgZ(61,"div",27)(62,"div",26),e._uU(63,"PNR m\u1edbi"),e.qZA(),e.TgZ(64,"div",29),e.NdJ("click",function(){return i.onAction("BOOKING_DETAIL")}),e.YNc(65,P,2,1,"a",30),e.YNc(66,K,2,0,"span",28),e.qZA()()(),e.TgZ(67,"div",31),e.NdJ("click",function(c){return i.onShow(c)}),e.YNc(68,z,1,0,"cf-icon",32),e.YNc(69,j,1,0,"cf-icon",33),e.qZA()(),e.TgZ(70,"div",34),e._UZ(71,"tooltip-available-slot",35),e.qZA()()(),e.YNc(72,ne,9,8,"ng-template",null,36,e.W1O),e.YNc(74,re,2,2,"ng-template",null,37,e.W1O)}if(2&t){const o=e.MAs(75);e.xp6(1),e.Tol(i.CARD_HUNTER_STATUS[i.pnrOrderData.state].backgroundColor),e.xp6(2),e.Q6J("ngIf",i.bookingHunterType===i.TYPE_ORDER.HUNT_NEW_TICKET),e.xp6(1),e.Tol(i.CARD_HUNTER_STATUS[i.pnrOrderData.state].textColor),e.xp6(1),e.Q6J("icon",i.CARD_HUNTER_STATUS[i.pnrOrderData.state].icon),e.xp6(2),e.Oqu(i.CARD_HUNTER_STATUS[i.pnrOrderData.state].description),e.xp6(1),e.Q6J("ngIf",i.canMonitorHuntFareTicket),e.xp6(9),e.AsE("",i.pnrOrderData.startPointName," (",i.pnrOrderData.startPoint,")"),e.xp6(3),e.AsE("",i.pnrOrderData.endPointName," (",i.pnrOrderData.endPoint,")"),e.xp6(6),e.Oqu(i.pnrOrderData.departTime),e.xp6(6),e.Oqu(i.pnrOrderData.representPax.name),e.xp6(1),e.Q6J("ngIf",i.pnrOrderData.representPax.remainingPax),e.xp6(3),e.Q6J("ngClass",e.VKq(33,ae,i.isShowMore)),e.xp6(2),e.Q6J("ngIf",i.viewListAgentForMonitorHuntFare&&i.pnrOrderData.ownerName),e.xp6(5),e.Oqu(i.pnrOrderData.code||"-"),e.xp6(1),e.Q6J("ngIf",!i.viewListAgentForMonitorHuntFare),e.xp6(1),e.Q6J("ngClass",e.VKq(35,h,!i.isShowMore)),e.xp6(4),e.Oqu(i.pnrOrderData.timeExpired||"-"),e.xp6(1),e.Q6J("ngClass",e.VKq(37,h,!i.isShowMore)),e.xp6(4),e.Q6J("ngIf",i.pnrOrderData.monitorType===i.MONITOR_TYPE.FARE),e.xp6(1),e.Q6J("ngIf",i.pnrOrderData.monitorType===i.MONITOR_TYPE.PRICE),e.xp6(1),e.Q6J("ngClass",e.VKq(39,h,!i.isShowMore)),e.xp6(4),e.Oqu(i.pnrOrderData.airline||"-"),e.xp6(1),e.Q6J("ngClass",e.VKq(41,h,!i.isShowMore)),e.xp6(4),e.Q6J("ngIf",i.pnrOrderData.fareInfo.detectedPnr),e.xp6(1),e.Q6J("ngIf",!i.pnrOrderData.fareInfo.detectedPnr),e.xp6(2),e.Q6J("ngIf",!i.isShowMore),e.xp6(1),e.Q6J("ngIf",i.isShowMore),e.xp6(2),e.Q6J("availableSlotData",i.availableSlotData)("content",o)}},dependencies:[u.ez,u.mk,u.O5,s.AxE,s.Sm8,m.N8,m.Xq,S.Lk,I.f,T.xu,T.U8,d.DW,D._],encapsulation:2}),n})();var x=l(24006),se=l(73546);const le=function(n,r,t){return{"!bg-primary-2-4 !border-0":n,"opacity-[0.4]":r,"md:col-span-2":t}},pe=function(n){return{"!text-neutral-white opacity-[0.6]":n}},ue=function(n){return{"!text-neutral-white":n}};function _e(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",7),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onSelectedTime(a))}),e.TgZ(2,"div",8),e._uU(3),e.qZA(),e.TgZ(4,"div",9),e._uU(5),e.qZA()(),e.BQk()}if(2&n){const t=r.$implicit,i=r.last;e.xp6(1),e.Q6J("ngClass",e.kEZ(5,le,t.isActive,t.disable,i)),e.xp6(1),e.Q6J("ngClass",e.VKq(9,pe,t.isActive)),e.xp6(1),e.hij(" ",t.name,""),e.xp6(1),e.Q6J("ngClass",e.VKq(11,ue,t.isActive)),e.xp6(1),e.hij(" ",t.start+" - "+t.end!="00:00 - 23:59"?t.start+" - "+t.end:"Gi\u1edd c\u1ee5 th\u1ec3","")}}function de(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11),e._uU(2,"T\xf9y ch\u1ec9nh gi\u1edd kh\u1edfi h\xe0nh"),e.qZA(),e.TgZ(3,"div",12)(4,"div"),e._uU(5),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.qZA()(),e.TgZ(8,"cf-slider",13),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.customRangeItem.rangeValues=o)})("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.timeChange(o,a.customRangeItem))})("onSlideEnd",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.end())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Oqu(t.customRangeItem.startTimeStr),e.xp6(2),e.Oqu(t.customRangeItem.endTimeStr),e.xp6(1),e.Q6J("ngModel",t.customRangeItem.rangeValues)("min",0)("max",1439)("step",1)("range",!0)}}let me=(()=>{class n{constructor(t,i,o,a){this._cd=i,this.data=o,this.cfBottomSheetRef=a,this.optionDepartureTime=[{name:"S\xe1ng s\u1edbm",code:"early_morning",start:"00:00",end:"05:59",isActive:!1,disable:!1,startTime:0,endTime:360,totalAvailable:0},{name:"Bu\u1ed5i s\xe1ng",code:"morning",start:"06:00",end:"11:59",isActive:!1,disable:!1,startTime:360,endTime:720,totalAvailable:0},{name:"Bu\u1ed5i chi\u1ec1u",code:"afternoon",start:"12:00",end:"17:59",isActive:!1,disable:!1,startTime:720,endTime:1080,totalAvailable:0},{name:"Bu\u1ed5i t\u1ed1i",code:"evening",start:"18:00",end:"23:59",isActive:!1,disable:!1,startTime:1080,endTime:1439,totalAvailable:0},{name:"T\xf9y ch\u1ecdn",code:"custom",start:"00:00",end:"23:59",isActive:!1,disable:!1,startTime:0,endTime:1439,totalAvailable:0}],this.customRangeItem={rangeValues:[0,1439],startTimeStr:"00:00",endTimeStr:"23:59"},t.registerIcons([]),this.orgOptionDepartureTime=JSON.parse(JSON.stringify(o.timeRanges)),this.optionDepartureTime=JSON.parse(JSON.stringify(o.timeRanges)),this.orgOptionDepartureTime.forEach(c=>{"custom"===c.code&&(this.customRangeItem.rangeValues=[c.startTime,c.endTime],this.customRangeItem.startTimeStr=c.start,this.customRangeItem.endTimeStr=c.end)}),a.containerInstance._rightButtonClick.subscribe(c=>{this.cfBottomSheetRef.dismiss(!1)})}onSelectedTime(t){t.disable||(t.isActive=!t.isActive),"custom"===t.code&&!0===t.isActive?this.optionDepartureTime.forEach(i=>{"custom"!==i.code&&(i.isActive=!1)}):"custom"!==t.code&&!0===t.isActive&&(this.optionDepartureTime[4].isActive=!1)}timeChange(t,i){i.startTimeStr=this.minuteToString(t[0]),i.endTimeStr=this.minuteToString(t[1])}minuteToString(t){const i=Math.floor(t/60),o=t%60;let a=`${i}`,c=`${o}`;return i<10&&(a=`0${i}`),o<10&&(c=`0${o}`),`${a}:${c}`}end(){this.optionDepartureTime[4].start=this.customRangeItem.startTimeStr,this.optionDepartureTime[4].end=this.customRangeItem.endTimeStr,this.optionDepartureTime[4].startTime=this.customRangeItem.rangeValues[0],this.optionDepartureTime[4].endTime=this.customRangeItem.rangeValues[1]}submit(){this.cfBottomSheetRef.dismiss(this.optionDepartureTime)}reset(){this.optionDepartureTime.forEach(t=>{t.isActive=!1}),this._cd.detectChanges()}close(){this.cfBottomSheetRef.dismiss()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.KNP),e.Y36(e.sBO),e.Y36(d.Rr),e.Y36(d.Zu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["time-range-options-modal"]],hostAttrs:[1,"!w-full"],standalone:!0,features:[e.jDz],decls:10,vars:2,consts:[[1,"flex","flex-wrap","justify-center","items-center","md:grid","md:grid-cols-2","gap-x-4","gap-y-4","px-4"],[4,"ngFor","ngForOf"],["class","flex flex-col gap-y-2 border border-[#F2F2F2] rounded p-4 mt-4",4,"ngIf"],[1,"p-6"],[1,"flex","justify-end","gap-x-2"],["cf-button","","size","medium","type","secondary",1,"justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"justify-center",3,"click"],[1,"w-[40%]","md:!w-full","border","border-[#F2F2F2]","rounded-[0.25rem]","flex","flex-col","justify-center","items-center","gap-y-0.5","cursor-pointer","bg-white","md:border","md:border-neutral-gray-1","py-2.5",3,"ngClass","click"],[1,"text-espressive-sm","text-neutral-gray-4",3,"ngClass"],[1,"text-espressive-md","text-neutral-black",3,"ngClass"],[1,"flex","flex-col","gap-y-2","border","border-[#F2F2F2]","rounded","p-4","mt-4"],[1,"text-center","items-center","text-espressive-xs","w-full","text-neutral-gray-4"],[1,"flex","justify-between","text-espressive-sm"],[1,"px-2.5",3,"ngModel","min","max","step","range","ngModelChange","onSlideEnd"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,_e,6,13,"ng-container",1),e.qZA(),e.YNc(2,de,9,7,"div",2),e.TgZ(3,"div",3)(4,"div",4)(5,"button",5),e.NdJ("click",function(){return i.reset()}),e._uU(6," \u0110\u1eb7t l\u1ea1i "),e.qZA(),e.TgZ(7,"button",6),e.NdJ("click",function(){return i.submit()}),e.TgZ(8,"span"),e._uU(9,"Xong"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.optionDepartureTime),e.xp6(1),e.Q6J("ngIf",i.optionDepartureTime[4].isActive))},dependencies:[s.AxE,u.ez,u.mk,u.sg,u.O5,se.nA,x.u5,x.JJ,x.On,m.N8,m.Xq],encapsulation:2}),n})();var ge=l(44143),fe=l(27898),E=l(82761),he=l(97579);function xe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onExpandAirline(o))}),e._UZ(1,"cf-icon",18),e.qZA()}}function Te(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onExpandAirline(o))}),e._UZ(1,"cf-icon",19),e.qZA()}}function ve(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(3).$implicit,c=e.oxw();return e.KtG(c.onFareTypeExpand(a,o))}),e._UZ(1,"cf-icon",18),e.qZA()}}function Ce(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(3).$implicit,c=e.oxw();return e.KtG(c.onFareTypeExpand(a,o))}),e._UZ(1,"cf-icon",19),e.qZA()}}const Ae=function(n){return{"bg-[#FCB40A] text-neutral-white":n}};function Ee(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw(6);return e.KtG(c.onToggleFareSelected(a))}),e._uU(2),e.qZA(),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(2,Ae,t.isActive)),e.xp6(1),e.hij(" ",t.name,"")}}function be(n,r){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,Ee,3,4,"ng-container",5),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function Ze(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",21)(2,"cf-checkbox",3),e.NdJ("checkChange",function(o){const c=e.CHM(t).$implicit,p=e.oxw(4);return e.KtG(p.onFareTypeSelectedChange(o,c))}),e.TgZ(3,"div",10)(4,"div",11)(5,"div",13),e._uU(6),e.TgZ(7,"span",14),e._uU(8),e.qZA()()()()(),e.YNc(9,ve,2,0,"button",15),e.YNc(10,Ce,2,0,"button",15),e.qZA(),e.YNc(11,be,2,1,"div",22),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(2),e.Q6J("checked",t.isActive),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.AsE("(",t.totalSelectedFare||0,"/",t.totalFare,")"),e.xp6(1),e.Q6J("ngIf",!t.isExpand),e.xp6(1),e.Q6J("ngIf",t.isExpand),e.xp6(1),e.Q6J("ngIf",t.isExpand)}}function Ie(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ze,12,7,"ng-container",5),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function Se(n,r){if(1&n&&(e.TgZ(0,"div",20),e.YNc(1,Ie,2,1,"ng-container",5),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function Oe(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",9)(2,"cf-checkbox",3),e.NdJ("checkChange",function(o){const c=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.onSelectedAirlineChange(o,c))}),e.TgZ(3,"div",10)(4,"div",11),e._UZ(5,"img",12),e.TgZ(6,"div",13),e._uU(7),e.TgZ(8,"span",14),e._uU(9),e.qZA()()()()(),e.YNc(10,xe,2,0,"button",15),e.YNc(11,Te,2,0,"button",15),e.qZA(),e.YNc(12,Se,2,1,"div",16),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(2),e.Q6J("checked",t.isActive),e.xp6(3),e.Q6J("src",t.icon,e.LSH),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.AsE("(",t.totalSelectedFare||0,"/",t.totalFare,")"),e.xp6(1),e.Q6J("ngIf",!t.isExpand),e.xp6(1),e.Q6J("ngIf",t.isExpand),e.xp6(1),e.Q6J("ngIf",t.isExpand)}}let ke=(()=>{class n{constructor(t,i,o,a,c,p,_,b){this.route=t,this._cfRegister=i,this._permissionService=o,this._modal=a,this._route=c,this._cd=p,this.data=_,this.cfBottomSheetRef=b,i.registerIcons([s.xgX,s.xbi,s.NYs,s.Hge,s.n78,s.fqi,s.esH,s.cnj,s.TM4]),b.containerInstance._rightButtonClick.subscribe(De=>{this.cfBottomSheetRef.dismiss(!1)}),this.fareOptions=_.fareOptions}ngOnInit(){this.standardizeFareOptionSelected()}onExpandAirline(t){this.fareOptions.forEach(i=>{i.isExpand=i.code.toUpperCase()===t.code.toUpperCase()&&!i.isExpand})}onFareTypeExpand(t,i){i.isExpand=!i.isExpand,t.childItems.forEach(o=>{o.childItems.forEach(a=>{a.code!==i.code&&(a.isExpand=!1)})})}onSelectAllChange(t){this.fareOptions.forEach(i=>{i.isActive=t,i.childItems.forEach(o=>{o.isActive=t,o.childItems.forEach(a=>{a.isActive=t,a.childItems.forEach(c=>{c.isActive=t})})})}),this.standardizeFareOptionSelected()}onFareTypeSelectedChange(t,i){i.isActive=t,i.childItems.forEach(o=>{o.isActive=i.isActive}),this.standardizeFareOptionSelected()}onSelectedAirlineChange(t,i){i.childItems.forEach(o=>{o.isActive=t,o.childItems.forEach(a=>{a.isActive=t,a.childItems.forEach(c=>{c.isActive=t})})}),this.standardizeFareOptionSelected()}onToggleFareSelected(t){t.isActive=!t.isActive,this.standardizeFareOptionSelected()}close(){this.cfBottomSheetRef.dismiss()}submit(){this.cfBottomSheetRef.dismiss(this.fareOptions)}standardizeFareOptionSelected(){let t=!0;this.fareOptions.forEach(i=>{let o=!1;i.childItems.forEach(a=>{a.childItems.forEach(c=>{c.isActive=c.childItems.map(p=>p.isActive).reduce((p,_)=>p||_,!1),t=t&&c.childItems.map(p=>p.isActive).reduce((p,_)=>p&&_,!0),c.totalSelectedFare=c.childItems.filter(p=>p.isActive).length,c.isActive&&(o=!0)})}),i.isActive=o,i.totalSelectedFare=i.childItems.reduce((a,c)=>a+c.childItems.map(p=>p.childItems.filter(_=>_.isActive).length).reduce((p,_)=>p+_),0)}),this.selectedAll=t,this._cd.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(E.gz),e.Y36(s.KNP),e.Y36(g.$A),e.Y36(he.oE),e.Y36(E.F0),e.Y36(e.sBO),e.Y36(d.Rr),e.Y36(d.Zu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["request-fare-option-bottom-sheet"]],standalone:!0,features:[e.jDz],decls:14,vars:2,consts:[[1,"overflow-hidden","rounded-lg","bg-neutral-white","flex","flex-col","md:w-screen","md:max-h-none","md:h-full","md:justify-between","md:rounded-none"],[1,"px-3","w-full","h-full","flex-1","overflow-auto","flex","flex-col","gap-y-4"],[1,"px-3","py-[13px]","border-b","border-neutral-gray-1"],["size","medium",3,"checked","checkChange"],[1,"w-full","h-full","flex-1","flex","flex-col"],[4,"ngFor","ngForOf"],[1,"fixed","bottom-0","left-0","w-screen","bg-white","shadow-cf-large-top","p-3","flex","items-center","justify-end","gap-x-2","z-1000"],["cf-button","","size","medium","type","secondary",1,"justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"justify-center",3,"click"],[1,"w-full","flex","justify-between","py-4","px-3","items-center"],[1,"text-body-md","text-neutral-black"],[1,"flex","items-center","gap-x-2"],[1,"w-6","h-6","object-contain",3,"src"],[1,"text-body-md-long"],[1,"text-express-md"],["class","flex !outline-none !outline-transparent gap-x-2 items-center","type","secondary",3,"click",4,"ngIf"],["class","flex w-full flex-wrap gap-2 pl-4",4,"ngIf"],["type","secondary",1,"flex","!outline-none","!outline-transparent","gap-x-2","items-center",3,"click"],["size","small","icon","chevron_down"],["size","small","icon","chevron_up"],[1,"flex","w-full","flex-wrap","gap-2","pl-4"],[1,"w-full","flex","justify-between","py-2","px-3","items-center"],["class","flex flex-wrap gap-2 p-2 justify-start items-center",4,"ngIf"],[1,"flex","flex-wrap","gap-2","p-2","justify-start","items-center"],[1,"ml-1","mr-1","bg-[#F2F2F2]","text-espressive-md","p-2","text-center","cursor-pointer",3,"ngClass","click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"cf-checkbox",3),e.NdJ("checkChange",function(a){return i.onSelectAllChange(a)}),e._uU(4,"Ch\u1ecdn t\u1ea5t c\u1ea3"),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,Oe,13,8,"ng-container",5),e.qZA()(),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){return i.close()}),e.TgZ(9,"span"),e._uU(10,"H\u1ee7y"),e.qZA()(),e.TgZ(11,"button",8),e.NdJ("click",function(){return i.submit()}),e.TgZ(12,"span"),e._uU(13,"X\xe1c nh\u1eadn"),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("checked",i.selectedAll),e.xp6(3),e.Q6J("ngForOf",i.fareOptions))},dependencies:[s.AxE,s.Sm8,u.ez,u.mk,u.sg,u.O5,ge.j$,m.N8,m.Xq,d.DW,x.UX,fe.u],encapsulation:2}),n})()}}]);