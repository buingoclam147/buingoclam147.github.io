"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[5922],{90602:(R,A,a)=>{a.d(A,{P3:()=>z,Io:()=>Y});var T=a(80529),n=a(88001),m=a(50494),C=a(54004),G=a(99251),t=a(97582),o=a(87067),r=a(43429);class k{}(0,t.gn)([(0,o.C)()],k.prototype,"status",void 0),(0,t.gn)([(0,r.D)(()=>d),(0,o.C)()],k.prototype,"data",void 0),(0,t.gn)([(0,o.C)()],k.prototype,"objectError",void 0),(0,t.gn)([(0,o.C)()],k.prototype,"success",void 0);class d{}(0,t.gn)([(0,r.D)(()=>e),(0,o.C)()],d.prototype,"bookingContact",void 0);class e{}(0,t.gn)([(0,o.C)()],e.prototype,"email",void 0),(0,t.gn)([(0,o.C)()],e.prototype,"name",void 0),(0,t.gn)([(0,o.C)()],e.prototype,"phone",void 0);class J{}(0,t.gn)([(0,o.C)()],J.prototype,"status",void 0),(0,t.gn)([(0,r.D)(()=>x),(0,o.C)()],J.prototype,"data",void 0),(0,t.gn)([(0,o.C)()],J.prototype,"objectError",void 0);class x{}(0,t.gn)([(0,o.C)()],x.prototype,"airline",void 0),(0,t.gn)([(0,o.C)()],x.prototype,"bookingCode",void 0),(0,t.gn)([(0,r.D)(()=>I),(0,o.C)()],x.prototype,"cancelCharge",void 0),(0,t.gn)([(0,r.D)(()=>D),(0,o.C)()],x.prototype,"totalCharge",void 0),(0,t.gn)([(0,r.D)(()=>M),(0,o.C)()],x.prototype,"cancelJourney",void 0),(0,t.gn)([(0,r.D)(()=>D),(0,o.C)()],x.prototype,"nonRefund",void 0),(0,t.gn)([(0,r.D)(()=>D),(0,o.C)()],x.prototype,"refund",void 0);class I{}(0,t.gn)([(0,o.C)()],I.prototype,"base",void 0),(0,t.gn)([(0,o.C)()],I.prototype,"applied",void 0),(0,t.gn)([(0,o.C)()],I.prototype,"surCharge",void 0),(0,t.gn)([(0,o.C)()],I.prototype,"tax",void 0),(0,t.gn)([(0,o.C)()],I.prototype,"total",void 0),(0,t.gn)([(0,o.C)()],I.prototype,"discount",void 0),(0,t.gn)([(0,r.D)(()=>B),(0,o.C)()],I.prototype,"currency",void 0);class B{}(0,t.gn)([(0,o.C)()],B.prototype,"baseCurrency",void 0),(0,t.gn)([(0,o.C)()],B.prototype,"code",void 0),(0,t.gn)([(0,o.C)()],B.prototype,"description",void 0),(0,t.gn)([(0,o.C)()],B.prototype,"exchangeRate",void 0);class D{}(0,t.gn)([(0,o.C)()],D.prototype,"base",void 0),(0,t.gn)([(0,o.C)()],D.prototype,"applied",void 0),(0,t.gn)([(0,o.C)()],D.prototype,"surCharge",void 0),(0,t.gn)([(0,o.C)()],D.prototype,"tax",void 0),(0,t.gn)([(0,o.C)()],D.prototype,"total",void 0),(0,t.gn)([(0,o.C)()],D.prototype,"discount",void 0),(0,t.gn)([(0,r.D)(()=>B),(0,o.C)()],D.prototype,"currency",void 0);class M{}(0,t.gn)([(0,r.D)(()=>v),(0,o.C)()],M.prototype,"journeyInfo",void 0),(0,t.gn)([(0,r.D)(()=>E),(0,o.C)()],M.prototype,"charge",void 0);class v{}(0,t.gn)([(0,o.C)()],v.prototype,"key",void 0);class E{}(0,t.gn)([(0,o.C)()],E.prototype,"base",void 0),(0,t.gn)([(0,o.C)()],E.prototype,"applied",void 0),(0,t.gn)([(0,o.C)()],E.prototype,"surCharge",void 0),(0,t.gn)([(0,o.C)()],E.prototype,"tax",void 0),(0,t.gn)([(0,o.C)()],E.prototype,"total",void 0),(0,t.gn)([(0,o.C)()],E.prototype,"discount",void 0),(0,t.gn)([(0,r.D)(()=>B),(0,o.C)()],E.prototype,"currency",void 0);class y{}(0,t.gn)([(0,o.C)()],y.prototype,"status",void 0),(0,t.gn)([(0,r.D)(()=>s),(0,o.C)()],y.prototype,"data",void 0),(0,t.gn)([(0,o.C)()],y.prototype,"objectError",void 0);class s{}(0,t.gn)([(0,o.C)()],s.prototype,"airline",void 0),(0,t.gn)([(0,o.C)()],s.prototype,"pnr",void 0),(0,t.gn)([(0,r.D)(()=>g),(0,o.C)()],s.prototype,"charge",void 0),(0,t.gn)([(0,o.C)()],s.prototype,"makePayment",void 0),(0,t.gn)([(0,r.D)(()=>i),(0,o.C)()],s.prototype,"cancelJourney",void 0),(0,t.gn)([(0,r.D)(()=>b),(0,o.C)()],s.prototype,"paymentInfo",void 0);class g{}(0,t.gn)([(0,o.C)()],g.prototype,"key",void 0),(0,t.gn)([(0,r.D)(()=>h),(0,o.C)()],g.prototype,"chargeType",void 0),(0,t.gn)([(0,r.D)(()=>f),(0,o.C)()],g.prototype,"charge",void 0),(0,t.gn)([(0,o.C)()],g.prototype,"description",void 0),(0,t.gn)([(0,o.C)()],g.prototype,"extra",void 0);class h{}(0,t.gn)([(0,o.C)()],h.prototype,"code",void 0),(0,t.gn)([(0,o.C)()],h.prototype,"type",void 0),(0,t.gn)([(0,r.D)(()=>u),(0,o.C)()],h.prototype,"description",void 0);class u{}(0,t.gn)([(0,o.C)()],u.prototype,"en",void 0),(0,t.gn)([(0,o.C)()],u.prototype,"vi",void 0);class f{}(0,t.gn)([(0,o.C)()],f.prototype,"base",void 0),(0,t.gn)([(0,o.C)()],f.prototype,"applied",void 0),(0,t.gn)([(0,o.C)()],f.prototype,"surCharge",void 0),(0,t.gn)([(0,o.C)()],f.prototype,"tax",void 0),(0,t.gn)([(0,o.C)()],f.prototype,"total",void 0),(0,t.gn)([(0,o.C)()],f.prototype,"discount",void 0),(0,t.gn)([(0,r.D)(()=>c),(0,o.C)()],f.prototype,"currency",void 0);class c{}(0,t.gn)([(0,o.C)()],c.prototype,"baseCurrency",void 0),(0,t.gn)([(0,o.C)()],c.prototype,"code",void 0),(0,t.gn)([(0,o.C)()],c.prototype,"description",void 0),(0,t.gn)([(0,o.C)()],c.prototype,"exchangeRate",void 0);class i{}(0,t.gn)([(0,o.C)()],i.prototype,"airline",void 0),(0,t.gn)([(0,o.C)()],i.prototype,"airlineName",void 0),(0,t.gn)([(0,o.C)()],i.prototype,"duration",void 0),(0,t.gn)([(0,o.C)()],i.prototype,"delay",void 0),(0,t.gn)([(0,o.C)()],i.prototype,"stopOvernight",void 0),(0,t.gn)([(0,o.C)()],i.prototype,"fareOptions",void 0),(0,t.gn)([(0,o.C)()],i.prototype,"key",void 0),(0,t.gn)([(0,o.C)()],i.prototype,"leg",void 0),(0,t.gn)([(0,o.C)()],i.prototype,"numOfStops",void 0),(0,t.gn)([(0,o.C)()],i.prototype,"operating",void 0),(0,t.gn)([(0,o.C)()],i.prototype,"operatingName",void 0),(0,t.gn)([(0,r.D)(()=>p),(0,o.C)()],i.prototype,"segments",void 0),(0,t.gn)([(0,r.D)(()=>_),(0,o.C)()],i.prototype,"departure",void 0),(0,t.gn)([(0,r.D)(()=>P),(0,o.C)()],i.prototype,"arrival",void 0),(0,t.gn)([(0,o.C)()],i.prototype,"expireTime",void 0),(0,t.gn)([(0,o.C)()],i.prototype,"fareClass",void 0),(0,t.gn)([(0,o.C)()],i.prototype,"fareClassCode",void 0);class p{}(0,t.gn)([(0,o.C)()],p.prototype,"key",void 0),(0,t.gn)([(0,o.C)()],p.prototype,"id",void 0),(0,t.gn)([(0,o.C)()],p.prototype,"index",void 0),(0,t.gn)([(0,o.C)()],p.prototype,"airline",void 0),(0,t.gn)([(0,o.C)()],p.prototype,"airlineName",void 0),(0,t.gn)([(0,o.C)()],p.prototype,"duration",void 0),(0,t.gn)([(0,o.C)()],p.prototype,"delay",void 0),(0,t.gn)([(0,o.C)()],p.prototype,"flightNumber",void 0),(0,t.gn)([(0,o.C)()],p.prototype,"operating",void 0),(0,t.gn)([(0,o.C)()],p.prototype,"operatingName",void 0),(0,t.gn)([(0,o.C)()],p.prototype,"stopPoint",void 0),(0,t.gn)([(0,r.D)(()=>_),(0,o.C)()],p.prototype,"departure",void 0),(0,t.gn)([(0,r.D)(()=>P),(0,o.C)()],p.prototype,"arrival",void 0),(0,t.gn)([(0,o.C)()],p.prototype,"bookingClassArr",void 0),(0,t.gn)([(0,r.D)(()=>N),(0,o.C)()],p.prototype,"bookedInfo",void 0),(0,t.gn)([(0,o.C)()],p.prototype,"fareType",void 0),(0,t.gn)([(0,o.C)()],p.prototype,"modelAirplane",void 0),(0,t.gn)([(0,o.C)()],p.prototype,"modelAirplaneName",void 0),(0,t.gn)([(0,o.C)()],p.prototype,"codeAirline",void 0);class _{}(0,t.gn)([(0,r.D)(()=>U),(0,o.C)()],_.prototype,"airport",void 0),(0,t.gn)([(0,o.C)()],_.prototype,"localTime",void 0),(0,t.gn)([(0,o.C)()],_.prototype,"scheduleTime",void 0);class U{}(0,t.gn)([(0,o.C)()],U.prototype,"code",void 0),(0,t.gn)([(0,o.C)()],U.prototype,"name",void 0),(0,t.gn)([(0,r.D)(()=>O),(0,o.C)()],U.prototype,"utcOffset",void 0);class O{}(0,t.gn)([(0,o.C)()],O.prototype,"zone",void 0),(0,t.gn)([(0,o.C)()],O.prototype,"iso",void 0);class P{}(0,t.gn)([(0,r.D)(()=>U),(0,o.C)()],P.prototype,"airport",void 0),(0,t.gn)([(0,o.C)()],P.prototype,"localTime",void 0),(0,t.gn)([(0,o.C)()],P.prototype,"scheduleTime",void 0);class N{}(0,t.gn)([(0,o.C)()],N.prototype,"fareClass",void 0),(0,t.gn)([(0,o.C)()],N.prototype,"status",void 0),(0,t.gn)([(0,o.C)()],N.prototype,"fareType",void 0),(0,t.gn)([(0,o.C)()],N.prototype,"fareBasic",void 0);class b{}(0,t.gn)([(0,o.C)()],b.prototype,"passengerKey",void 0),(0,t.gn)([(0,o.C)()],b.prototype,"passengerType",void 0),(0,t.gn)([(0,o.C)()],b.prototype,"passengerFirstName",void 0),(0,t.gn)([(0,o.C)()],b.prototype,"passengerGender",void 0),(0,t.gn)([(0,o.C)()],b.prototype,"passengerNamePrefix",void 0),(0,t.gn)([(0,o.C)()],b.prototype,"passengerLastName",void 0),(0,t.gn)([(0,o.C)()],b.prototype,"ticket",void 0),(0,t.gn)([(0,o.C)()],b.prototype,"type",void 0),(0,t.gn)([(0,o.C)()],b.prototype,"currencyCode",void 0),(0,t.gn)([(0,o.C)()],b.prototype,"description",void 0),(0,t.gn)([(0,o.C)()],b.prototype,"paymentMethod",void 0),(0,t.gn)([(0,o.C)()],b.prototype,"paymentTime",void 0),(0,t.gn)([(0,o.C)()],b.prototype,"paymentTimeZone",void 0),(0,t.gn)([(0,o.C)()],b.prototype,"paymentRef",void 0),(0,t.gn)([(0,o.C)()],b.prototype,"amount",void 0);var Q=a(94650);const V={headers:new T.WM({"Content-Type":"application/json"})};let z=(()=>{class l{constructor(S,Z){this.http=S,this.appConfig=Z}getBookingDetail(S,Z){return this.http.post(this.appConfig.apiUrl+"flight/booking-retriver",JSON.stringify({airline:Z,bookingCode:S}),V).pipe((0,C.U)(L=>(0,m.yE)(G.JG,L,{excludeExtraneousValues:!0})))}quotationCancelJourney(S){return this.http.post(this.appConfig.apiUrl+"ticket/quotation-journey-cancel",JSON.stringify(S),V).pipe((0,C.U)(Z=>(0,m.yE)(J,Z,{excludeExtraneousValues:!0})))}cancelJourney(S){return this.http.post(this.appConfig.apiUrl+"ticket/cancel-journey-reservation",JSON.stringify(S),V).pipe((0,C.U)(Z=>(0,m.yE)(y,Z,{excludeExtraneousValues:!0})))}getBookingInfo(S){return this.http.post(this.appConfig.apiUrl+"flight/get-pnr-info",JSON.stringify(S),V).pipe((0,C.U)(Z=>(0,m.yE)(k,Z,{excludeExtraneousValues:!0})))}}return l.\u0275fac=function(S){return new(S||l)(Q.LFG(T.eN),Q.LFG(n.qB))},l.\u0275prov=Q.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();var Y=(()=>{return(l=Y||(Y={})).UPDATE_JOURNEY="UPDATE_JOURNEY",l.ADD_JOURNEY="ADD_JOURNEY",Y;var l})()},85922:(R,A,a)=>{a.r(A),a.d(A,{SendEmailModalComponent:()=>h.B,SendEmailPageComponent:()=>g});var T=a(36895),n=a(24006),m=a(37094),C=a(83700),G=a(27898),t=a(44143),o=a(74713),r=a(39840),k=a(34541),d=a(28746),e=a(94650),J=a(11526),x=a(9381),I=a(97579),B=a(90602);function D(u,f){1&u&&e._UZ(0,"cf-input-hint",21),2&u&&e.Q6J("hint","M\xe3 \u0111\u1eb7t ch\u1ed7 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function M(u,f){1&u&&e._UZ(0,"cf-input-hint",21),2&u&&e.Q6J("hint","H\xe3ng bay kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function v(u,f){1&u&&e._UZ(0,"cf-input-hint",21),2&u&&e.Q6J("hint","Email kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function E(u,f){1&u&&e._UZ(0,"cf-input-hint",21),2&u&&e.Q6J("hint","\u0110\u1ecbnh d\u1ea1ng kh\xf4ng h\u1ee3p l\u1ec7")}function y(u,f){1&u&&e._UZ(0,"cf-spinner")}const s=function(){return[]};let g=(()=>{class u{constructor(c,i,p,_,U,O){this._fb=c,this._manageBookingService=i,this._mobileDetectService=p,this._bottomSheetService=_,this._modal=U,this._bookingDetailService=O,this.airlineOptions=[{value:"VN",text:"VN - Vietnam Airlines"},{value:"VJ",text:"VJ - Vietjet Air"},{value:"QH",text:"QH - Bamboo Airways"}],this.isDisableEmail=!1,this.isDisableCheckbox=!1,this.isLoading=!1}ngOnInit(){this.initFormGroup(),this.formGroup.get("bookingCode").valueChanges.subscribe({next:c=>{6===c.length&&this.formGroup.value.airline&&this.getBookingContact()}})}initFormGroup(){this.formGroup=this._fb.group({bookingCode:["",n.kI.required],airline:["",n.kI.required],email:["",[n.kI.required,n.kI.email]],includeTicket:[!1,[n.kI.required]]})}onSendEmail(){if(this.formGroup.invalid)return;const c=this.formGroup.value,i={bookingCode:c.bookingCode.trim().toUpperCase()||"",airline:c.airline||"",email:c.email.trim()||"",language:"vi",includeTicket:c.includeTicket};this._manageBookingService.sendEmail(i).subscribe({next:p=>{if("OK"===p.status)if(this._mobileDetectService.isMobile()){const _=this._bottomSheetService.open(r.z5,{headerTitle:"",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",leftButtonIcon:"",data:{title:"G\u1eedi email th\xe0nh c\xf4ng",content:`<div>Y\xeau c\u1ea7u g\u1eedi m\u1eb7t v\xe9 v\u1ec1 email <strong>${i.email}</strong> th\xe0nh c\xf4ng. Vui l\xf2ng ki\u1ec3m tra email</div>`,status:"success"}});_.containerInstance._rightButtonClick.subscribe(U=>_.dismiss())}else this._modal.open(r.z5,{title:"G\u1eedi email th\xe0nh c\xf4ng",content:`<div>Y\xeau c\u1ea7u g\u1eedi m\u1eb7t v\xe9 v\u1ec1 email <strong>${i.email}</strong> th\xe0nh c\xf4ng. Vui l\xf2ng ki\u1ec3m tra email</div>`,status:"success"});else if(this._mobileDetectService.isMobile()){const _=this._bottomSheetService.open(r.z5,{headerTitle:"",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",leftButtonIcon:"",data:{title:"C\xf3 l\u1ed7i x\u1ea3y ra",content:`<div>Y\xeau c\u1ea7u g\u1eedi m\u1eb7t v\xe9 v\u1ec1 email <strong>${i.email}</strong> th\u1ea5t b\u1ea1i. Vui l\xf2ng th\u1eed l\u1ea1i</div>`,status:"error"}});_.containerInstance._rightButtonClick.subscribe(U=>_.dismiss())}else this._modal.open(r.z5,{title:"C\xf3 l\u1ed7i x\u1ea3y ra",content:`<div>Y\xeau c\u1ea7u g\u1eedi m\u1eb7t v\xe9 v\u1ec1 email <strong>${i.email}</strong> th\u1ea5t b\u1ea1i. Vui l\xf2ng th\u1eed l\u1ea1i</div>`,status:"error"})},error:()=>{if(this._mobileDetectService.isMobile()){const p=this._bottomSheetService.open(r.z5,{headerTitle:"",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",leftButtonIcon:"",data:{title:"C\xf3 l\u1ed7i x\u1ea3y ra",content:`<div>Y\xeau c\u1ea7u g\u1eedi m\u1eb7t v\xe9 v\u1ec1 email <strong>${i.email}</strong> th\u1ea5t b\u1ea1i. Vui l\xf2ng th\u1eed l\u1ea1i</div>`,status:"error"}});p.containerInstance._rightButtonClick.subscribe(_=>p.dismiss())}else this._modal.open(r.z5,{title:"C\xf3 l\u1ed7i x\u1ea3y ra",content:`<div>Y\xeau c\u1ea7u g\u1eedi m\u1eb7t v\xe9 v\u1ec1 email <strong>${i.email}</strong> th\u1ea5t b\u1ea1i. Vui l\xf2ng th\u1eed l\u1ea1i</div>`,status:"error"})}})}checkedChange(c){this.formGroup.controls.includeTicket.setValue(c)}onChangeAirline(c){"VN"===c.value.toUpperCase()?(this.formGroup.value.bookingCode?this.getBookingContact():this.formGroup.controls.email.setValue(""),this.formGroup.controls.email.setValidators(null),this.formGroup.controls.email.updateValueAndValidity(),this.isDisableEmail=!0,this.isDisableCheckbox=!1):(this.formGroup.controls.email.setValidators([n.kI.required]),this.formGroup.controls.email.updateValueAndValidity(),this.formGroup.controls.includeTicket.setValue(!0),this.isDisableEmail=!1,this.isDisableCheckbox=!0)}getBookingContact(){const c={airline:this.formGroup.value.airline,bookingCode:this.formGroup.value.bookingCode};this.isLoading=!0,this._bookingDetailService.getBookingInfo(c).pipe((0,d.x)(()=>this.isLoading=!1)).subscribe({next:i=>{"OK"===i.status&&this.formGroup.controls.email.setValue(i.data.bookingContact.email)}})}}return u.\u0275fac=function(c){return new(c||u)(e.Y36(n.qu),e.Y36(J.fB),e.Y36(x.L),e.Y36(m.a2),e.Y36(I.oE),e.Y36(B.P3))},u.\u0275cmp=e.Xpm({type:u,selectors:[["send-email-page"]],hostAttrs:[1,"h-full"],standalone:!0,features:[e.jDz],decls:32,vars:22,consts:[[1,"w-full","h-full","md:flex","md:flex-col","md:justify-between"],[1,"flex","justify-center","p-8","md:!p-4"],[1,"w-[764px]","md:!w-full"],[1,"flex","gap-x-[20px]"],[1,"w-1","bg-primary-2-4"],[1,"flex","items-center","text-heading-md"],[1,"bg-neutral-white","rounded","p-6","flex","flex-col","gap-y-4","mt-4","md:p-4"],[1,"grow-[400]","!w-full",3,"status"],["cfLabel","",1,"text-express-sm","text-black",3,"CfRequired"],["cf-input","","size","medium","placeholder","Nh\u1eadp m\xe3 \u0111\u1eb7t ch\u1ed7",3,"formControl"],["cfHint","",3,"hint",4,"ngIf"],["textField","text","valueField","value","placeholder","Ch\u1ecdn h\xe3ng bay",1,"!w-full","!max-w-full",3,"status","data","formControl","allowSearch","selectedChange"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5",3,"CfRequired"],[1,"grow-[400]","!w-full",3,"disabled","status"],["cf-input","","size","medium","placeholder","Nh\u1eadp email nh\u1eadn m\u1eb7t v\xe9",3,"formControl"],["size","medium",3,"disabled","checked","checkChange"],[1,"mt-6","w-full","text-right","md:hidden"],["cf-button","","size","medium",1,"!min-w-[100px]","justify-center",3,"disabled","click"],[1,"hidden","md:block","w-full","p-4","bg-neutral-white"],["cf-button","","size","medium",1,"!w-full","justify-center",3,"disabled","click"],[4,"ngIf"],["cfHint","",3,"hint"]],template:function(c,i){1&c&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"div",4),e.TgZ(5,"div",5),e._uU(6,"Th\xf4ng tin g\u1eedi v\xe9"),e.qZA()(),e.TgZ(7,"div",6)(8,"cf-input-group",7)(9,"label",8),e._uU(10," M\xe3 \u0111\u1eb7t ch\u1ed7 "),e.qZA(),e._UZ(11,"input",9),e.YNc(12,D,1,1,"cf-input-hint",10),e.qZA(),e.TgZ(13,"cf-select",11),e.NdJ("selectedChange",function(_){return i.onChangeAirline(_)}),e.TgZ(14,"label",12),e._uU(15," H\xe3ng bay "),e.qZA(),e.YNc(16,M,1,1,"cf-input-hint",10),e.qZA(),e.TgZ(17,"cf-input-group",13)(18,"label",8),e._uU(19," Email "),e.qZA(),e._UZ(20,"input",14),e.YNc(21,v,1,1,"cf-input-hint",10),e.YNc(22,E,1,1,"cf-input-hint",10),e.qZA(),e.TgZ(23,"cf-checkbox",15),e.NdJ("checkChange",function(_){return i.checkedChange(_)}),e._uU(24," K\xe8m Ticket EMD "),e.qZA()(),e.TgZ(25,"div",16)(26,"button",17),e.NdJ("click",function(){return i.onSendEmail()}),e._uU(27," G\u1eedi"),e.qZA()()()(),e.TgZ(28,"div",18)(29,"button",19),e.NdJ("click",function(){return i.onSendEmail()}),e._uU(30," G\u1eedi"),e.qZA()()(),e.YNc(31,y,1,0,"cf-spinner",20)),2&c&&(e.xp6(8),e.Q6J("status",i.formGroup.controls.bookingCode.invalid&&(i.formGroup.controls.bookingCode.dirty||i.formGroup.controls.bookingCode.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",i.formGroup.controls.bookingCode),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.bookingCode.hasError("required")&&i.formGroup.controls.bookingCode.touched),e.xp6(1),e.Q6J("status",i.formGroup.controls.airline.invalid&&(i.formGroup.controls.airline.dirty||i.formGroup.controls.airline.touched)?"error":"default")("data",i.airlineOptions||e.DdM(21,s))("formControl",i.formGroup.controls.airline)("allowSearch",!0),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",i.formGroup.controls.airline.hasError("required")&&i.formGroup.controls.airline.touched),e.xp6(1),e.Q6J("disabled",i.isDisableEmail)("status",i.formGroup.controls.email.invalid&&(i.formGroup.controls.email.dirty||i.formGroup.controls.email.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",i.formGroup.controls.email),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.email.hasError("required")&&(i.formGroup.controls.email.touched||i.formGroup.controls.email.dirty)),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.email.hasError("email")),e.xp6(1),e.Q6J("disabled",i.isDisableCheckbox)("checked",i.formGroup.value.includeTicket),e.xp6(3),e.Q6J("disabled",i.formGroup.invalid),e.xp6(3),e.Q6J("disabled",i.formGroup.invalid),e.xp6(2),e.Q6J("ngIf",i.isLoading))},dependencies:[T.ez,T.O5,C.N8,C.Xq,t.j$,t.ND,t.BN,t.v2,k.C,n.UX,n.Fj,n.JJ,n.oH,n.u5,o.q,m.DW,G.u,r.OR],encapsulation:2}),u})();var h=a(95911)},95911:(R,A,a)=>{a.d(A,{B:()=>M});var T=a(36895),n=a(24006),m=a(37094),C=a(83700),G=a(27898),t=a(72506),o=a(44143),r=a(39840),k=a(34541),d=a(28746),e=a(94650),J=a(11526),x=a(97579);function I(v,E){1&v&&e._UZ(0,"cf-input-hint",18),2&v&&e.Q6J("hint","Email kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function B(v,E){1&v&&e._UZ(0,"cf-input-hint",18),2&v&&e.Q6J("hint","\u0110\u1ecbnh d\u1ea1ng kh\xf4ng h\u1ee3p l\u1ec7")}function D(v,E){1&v&&e._UZ(0,"cf-spinner")}let M=(()=>{class v{constructor(y,s,g,h,u,f,c,i){this.fb=s,this._manageBookingService=g,this._modal=h,this._bottomSheetService=u,this.ref=f,this.bottomSheetData=c,this.bottomSheetRef=i,this.isLoading=!1,this.isDisableEmail=!1,this.isDisableCheckbox=!1,y.registerIcons([t.UNF,t.PcQ]),f&&(this.emailInfo=this.ref.data.emailInfo),c&&(this.emailInfo=c.emailInfo)}ngOnInit(){switch(this.initFormGroup(),this.emailInfo.airline){case"VN":this.isDisableEmail=!0,this.formGroup.controls.email.setValidators(null),this.formGroup.controls.email.setValue(this.emailInfo.email),this.airlineDisplay="VN - Vietnam Airlines";break;case"VJ":this.isDisableEmail=!1,this.isDisableCheckbox=!0,this.formGroup.controls.includeTicket.setValue(!0),this.airlineDisplay="VJ - Vietjet Air";break;case"QH":this.isDisableEmail=!1,this.isDisableCheckbox=!0,this.formGroup.controls.includeTicket.setValue(!0),this.airlineDisplay="QH - Bamboo Airways";break;default:this.airlineDisplay=""}}initFormGroup(){this.formGroup=this.fb.group({email:["",[n.kI.required,n.kI.email]],includeTicket:[!1,[n.kI.required]]})}close(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}ok(){if(this.formGroup.invalid)return;const y=this.formGroup.value,s={bookingCode:this.emailInfo.bookingCode.trim().toUpperCase()||"",airline:this.emailInfo.airline||"",email:y.email.trim()||"",language:"vi",includeTicket:y.includeTicket};this.isLoading=!0,this._manageBookingService.sendEmail(s).pipe((0,d.x)(()=>this.isLoading=!1)).subscribe({next:g=>{if("OK"===g.status){if(this.ref&&this._modal.open(r.z5,{title:"G\u1eedi email th\xe0nh c\xf4ng",content:`<div>Y\xeau c\u1ea7u g\u1eedi m\u1eb7t v\xe9 v\u1ec1 email <strong>${s.email}</strong> th\xe0nh c\xf4ng. Vui l\xf2ng ki\u1ec3m tra email</div>`,status:"success"}).afterClosed$.subscribe({next:()=>{this.ref.close(!1)}}),this.bottomSheetData){const h=this._bottomSheetService.open(r.z5,{headerTitle:"",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",leftButtonIcon:"",data:{title:"G\u1eedi email th\xe0nh c\xf4ng",content:`<div>Y\xeau c\u1ea7u g\u1eedi m\u1eb7t v\xe9 v\u1ec1 email <strong>${s.email}</strong> th\xe0nh c\xf4ng. Vui l\xf2ng ki\u1ec3m tra email</div>`,status:"success"}});h.containerInstance._rightButtonClick.subscribe(u=>h.dismiss()),h.afterDismissed().subscribe(()=>{this.bottomSheetRef.dismiss(!1)})}}else if(this.ref&&this._modal.open(r.z5,{title:"C\xf3 l\u1ed7i x\u1ea3y ra",content:`<div>Y\xeau c\u1ea7u g\u1eedi m\u1eb7t v\xe9 v\u1ec1 email <strong>${s.email}</strong> th\u1ea5t b\u1ea1i. Vui l\xf2ng th\u1eed l\u1ea1i</div>`,status:"error"}).afterClosed$.subscribe({next:()=>{}}),this.bottomSheetData){const h=this._bottomSheetService.open(r.z5,{headerTitle:"",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",leftButtonIcon:"",data:{title:"C\xf3 l\u1ed7i x\u1ea3y ra",content:`<div>Y\xeau c\u1ea7u g\u1eedi m\u1eb7t v\xe9 v\u1ec1 email <strong>${s.email}</strong> th\u1ea5t b\u1ea1i. Vui l\xf2ng th\u1eed l\u1ea1i</div>`,status:"error"}});h.containerInstance._rightButtonClick.subscribe(u=>h.dismiss()),h.afterDismissed().subscribe(()=>{this.bottomSheetRef.dismiss(!1)})}},error:()=>{if(this.ref&&this._modal.open(r.z5,{title:"C\xf3 l\u1ed7i x\u1ea3y ra",content:`<div>Y\xeau c\u1ea7u g\u1eedi m\u1eb7t v\xe9 v\u1ec1 email <strong>${s.email}</strong> th\u1ea5t b\u1ea1i. Vui l\xf2ng th\u1eed l\u1ea1i</div>`,status:"error"}).afterClosed$.subscribe({next:()=>{}}),this.bottomSheetData){const g=this._bottomSheetService.open(r.z5,{headerTitle:"",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",leftButtonIcon:"",data:{title:"C\xf3 l\u1ed7i x\u1ea3y ra",content:`<div>Y\xeau c\u1ea7u g\u1eedi m\u1eb7t v\xe9 v\u1ec1 email <strong>${s.email}</strong> th\u1ea5t b\u1ea1i. Vui l\xf2ng th\u1eed l\u1ea1i</div>`,status:"error"}});g.containerInstance._rightButtonClick.subscribe(h=>g.dismiss()),g.afterDismissed().subscribe(()=>{this.bottomSheetRef.dismiss(!1)})}}})}onCheckTicket(y){this.formGroup.controls.includeTicket.setValue(y)}}return v.\u0275fac=function(y){return new(y||v)(e.Y36(t.KNP),e.Y36(n.qu),e.Y36(J.fB),e.Y36(x.oE),e.Y36(m.a2),e.Y36(x.gb,8),e.Y36(m.Rr,8),e.Y36(m.Zu,8))},v.\u0275cmp=e.Xpm({type:v,selectors:[["send-email-modal"]],standalone:!0,features:[e.jDz],decls:29,vars:16,consts:[[1,"w-[640px]","rounded-lg","bg-neutral-white","flex","flex-col","md:w-screen"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-xs","text-neutral-gray-6"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"p-6","flex","flex-col","gap-y-4"],[1,"grow-[400]","!w-full",3,"disabled","status"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],["cf-input","","size","medium","placeholder","Nh\u1eadp m\xe3 \u0111\u1eb7t ch\u1ed7",3,"value"],["cf-input","","size","medium","placeholder","Ch\u1ecdn h\xe3ng bay",3,"value"],["cfLabel","",1,"text-express-sm","text-black",3,"CfRequired"],["cf-input","","size","medium","placeholder","Nh\u1eadp email nh\u1eadn m\u1eb7t v\xe9",3,"formControl"],["cfHint","",3,"hint",4,"ngIf"],["size","medium",3,"disabled","checked","checkChange"],[1,"p-6","flex","gap-x-4","justify-end","md:justify-between"],["cf-button","","size","medium","type","secondary",1,"min-w-[100px]","md:!w-full","justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"min-w-[100px]","md:!w-full","justify-center","items-center",3,"disabled","click"],["icon","circle_check","size","small",1,"ml-2"],[4,"ngIf"],["cfHint","",3,"hint"]],template:function(y,s){1&y&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Th\xf4ng tin nh\u1eadn v\xe9"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return s.close()}),e.qZA()(),e.TgZ(5,"div",4)(6,"cf-input-group",5)(7,"label",6),e._uU(8," M\xe3 \u0111\u1eb7t ch\u1ed7 "),e.qZA(),e._UZ(9,"input",7),e.qZA(),e.TgZ(10,"cf-input-group",5)(11,"label",6),e._uU(12," H\xe3ng bay "),e.qZA(),e._UZ(13,"input",8),e.qZA(),e.TgZ(14,"cf-input-group",5)(15,"label",9),e._uU(16," Email "),e.qZA(),e._UZ(17,"input",10),e.YNc(18,I,1,1,"cf-input-hint",11),e.YNc(19,B,1,1,"cf-input-hint",11),e.qZA(),e.TgZ(20,"cf-checkbox",12),e.NdJ("checkChange",function(h){return s.onCheckTicket(h)}),e._uU(21," K\xe8m Ticket EMD "),e.qZA()(),e.TgZ(22,"div",13)(23,"button",14),e.NdJ("click",function(){return s.close()}),e._uU(24," \u0110\xf3ng "),e.qZA(),e.TgZ(25,"button",15),e.NdJ("click",function(){return s.ok()}),e._uU(26," X\xe1c nh\u1eadn "),e._UZ(27,"cf-icon",16),e.qZA()()(),e.YNc(28,D,1,0,"cf-spinner",17)),2&y&&(e.xp6(6),e.Q6J("disabled",!0)("status","default"),e.xp6(3),e.Q6J("value",s.emailInfo.bookingCode),e.xp6(1),e.Q6J("disabled",!0)("status","default"),e.xp6(3),e.Q6J("value",s.airlineDisplay),e.xp6(1),e.Q6J("disabled",s.isDisableEmail)("status",s.formGroup.controls.email.invalid&&(s.formGroup.controls.email.dirty||s.formGroup.controls.email.touched)?"error":"default"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",s.formGroup.controls.email),e.xp6(1),e.Q6J("ngIf",s.formGroup.controls.email.hasError("required")&&(s.formGroup.controls.email.touched||s.formGroup.controls.email.dirty)),e.xp6(1),e.Q6J("ngIf",s.formGroup.controls.email.hasError("email")),e.xp6(1),e.Q6J("disabled",s.isDisableCheckbox)("checked",s.formGroup.value.includeTicket),e.xp6(5),e.Q6J("disabled",s.formGroup.invalid),e.xp6(3),e.Q6J("ngIf",s.isLoading))},dependencies:[T.ez,T.O5,t.AxE,t.Sm8,C.N8,C.Xq,n.UX,n.Fj,n.JJ,n.oH,n.u5,o.j$,o.ND,o.BN,o.v2,k.C,m.DW,r.OR,G.u],encapsulation:2}),v})()},34541:(R,A,a)=>{a.d(A,{C:()=>m});var T=a(36895),n=a(94650);let m=(()=>{class C{constructor(t,o,r){this.elementRef=t,this.renderer=o,this.document=r}set CfRequired(t){if(t){const o=this.document.createElement("span");o.innerHTML="&nbsp;(*)",o.className="text-primary-1-4 text-espressive-sm",this.renderer.appendChild(this.elementRef.nativeElement,o)}}}return C.\u0275fac=function(t){return new(t||C)(n.Y36(n.SBq),n.Y36(n.Qsj),n.Y36(T.K0))},C.\u0275dir=n.lG2({type:C,selectors:[["","CfRequired",""]],inputs:{CfRequired:"CfRequired"},standalone:!0}),C})()},27898:(R,A,a)=>{a.d(A,{u:()=>o});var T=a(36895),n=a(94650),m=a(72506);function C(r,k){if(1&r&&(n.O4$(),n.TgZ(0,"svg",4),n._UZ(1,"path",5),n.qZA()),2&r){const d=n.oxw();n.ekj("fill-neutral-gray-1",d.disabled)("stroke-neutral-gray-3",d.disabled)("w-5","medium"==d.size)("h-5","medium"==d.size)}}function G(r,k){if(1&r&&(n.O4$(),n.TgZ(0,"svg",4),n._UZ(1,"path",6)(2,"path",7),n.qZA()),2&r){const d=n.oxw();n.ekj("!text-neutral-gray-3",d.disabled)("w-5","medium"==d.size)("h-5","medium"==d.size)}}const t=["*"];let o=(()=>{class r{constructor(d){this.cfIconRegister=d,this.checked=!1,this.size="small",this.disabled=!1,this.checkChange=new n.vpe,d.registerIcons([m.aCG,m.llu])}toggle(){this.checked=!this.checked,this.checkChange.emit(this.checked)}}return r.\u0275fac=function(d){return new(d||r)(n.Y36(m.KNP))},r.\u0275cmp=n.Xpm({type:r,selectors:[["cf-checkbox"]],inputs:{checked:"checked",size:"size",disabled:"disabled"},outputs:{checkChange:"checkChange"},standalone:!0,features:[n.jDz],ngContentSelectors:t,decls:5,vars:8,consts:[[1,"flex","items-center","gap-x-2","hover","text-neutral-gray-4","hover:text-primary-2-4","focus:text-primary-2-4","cursor-pointer",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","none","viewBox","0 0 16 16",3,"fill-neutral-gray-1","stroke-neutral-gray-3","w-5","h-5",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","none","viewBox","0 0 16 16",3,"!text-neutral-gray-3","w-5","h-5",4,"ngIf"],[1,"text-body-md","text-neutral-black"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","none","viewBox","0 0 16 16"],["stroke","currentColor","stroke-linejoin","round","stroke-width","1.5","d","M11.333 2.667H4.667a2 2 0 0 0-2 2v6.666a2 2 0 0 0 2 2h6.666a2 2 0 0 0 2-2V4.667a2 2 0 0 0-2-2Z"],["fill","currentColor","stroke","currentColor","stroke-linejoin","round","stroke-width","1.5","d","M11.333 2.667H4.667a2 2 0 0 0-2 2v6.666a2 2 0 0 0 2 2h6.666a2 2 0 0 0 2-2V4.667a2 2 0 0 0-2-2Z"],["stroke","#fff","stroke-linecap","round","stroke-linejoin","round","d","M11.333 5.333 7.133 10l-1.8-2"]],template:function(d,e){1&d&&(n.F$t(),n.TgZ(0,"div",0),n.NdJ("click",function(){return e.toggle()}),n.YNc(1,C,2,8,"svg",1),n.YNc(2,G,3,6,"svg",2),n.TgZ(3,"div",3),n.Hsn(4),n.qZA()()),2&d&&(n.ekj("!text-primary-2-4",e.checked)("pointer-events-none",e.disabled),n.xp6(1),n.Q6J("ngIf",!e.checked),n.xp6(1),n.Q6J("ngIf",e.checked),n.xp6(1),n.ekj("!text-neutral-gray-4",e.disabled))},dependencies:[m.AxE,T.O5],encapsulation:2,changeDetection:0}),r})()}}]);