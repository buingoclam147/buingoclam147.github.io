"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[4470],{31380:(U,k,s)=>{s.d(k,{J:()=>B});var y=s(24006);class t{}var A=s(15439),D=s(50518),p=s(64070),P=s(94650),Z=s(28490);let B=(()=>{class T{constructor(h,g){this._fb=h,this._locationDataSvc=g}updateJourneyByType(h,g){var v,b;if("ONE_WAY"==g){const u=null===(v=h.controls[0])||void 0===v?void 0:v.value;h.clear(),this.addJourney(u,h)}else if("ROUND_TRIP"==g){const u=null===(b=h.controls[0])||void 0===b?void 0:b.value;h.clear(),this.addJourney(u,h)}}addJourney(h,g){const v=this._fb.group({startPoint:[h.startPoint,y.kI.required],endPoint:[h.endPoint,y.kI.required],departDate:[h.departDate,y.kI.required],returnDate:[h.returnDate],cabin:[null],paxType:[null],airline:[null]});v.patchValue(h),g.push(v)}resetCabinList(h){return h.map(g=>Object.assign(Object.assign({},g),{actived:"ECONOMY"===g.value}))}resetPaxTypeList(h){return h.map(g=>Object.assign(Object.assign({},g),{actived:""===g.value}))}progressAirlineFileByInternational(h,g,v){const b=v?v.split(","):[];return h.map(g?u=>Object.assign(Object.assign({},u),{actived:b.includes(u.value)||u.value.split(",").some(d=>b.includes(d)),disabled:!1}):u=>Object.assign(Object.assign({},u),{actived:!["FLY_ONE","GDS,BSP,AIR_1G"].includes(u.value)&&(!!b.includes(u.value)||u.actived),disabled:["FLY_ONE","GDS,BSP,AIR_1G"].includes(u.value)}))}progressJourneyFormArr(h,g,v){return g!==p.VB.OneWay&&g===p.VB.RoundTrip&&h[0].returnDate?g===p.VB.RoundTrip&&h[0].returnDate?[Object.assign(Object.assign(Object.assign({},h[0]),v),{leg:0}),Object.assign({startPoint:h[0].endPoint,endPoint:h[0].startPoint,departDate:h[0].returnDate||null,leg:1},v)]:[]:[Object.assign(Object.assign(Object.assign({},h[0]),v),{leg:0})]}progressQueryToRawData(h){const g=new p.HA;if(h.p){const u=h.p.split("").map(Number);g.adultCount=u[0],g.childCount=u[1],g.infantCount=u[2]}else g.adultCount=1,g.childCount=0,g.infantCount=0;g.isDirectFlight="1"===h.d,g.journey=[];const v=h.c||null;Object.keys(h).forEach(u=>{if(u.startsWith("l")){const d=parseInt(u.substring(1)),[_,l,r]=h[u].split("_"),m=new t;m.leg=d,m.startPoint=_||"",m.endPoint=l||"",m.departDate=r?new Date(r):null,m.cabin=v||"",m.airline=h.a||"",m.paxType=h.pt||"",g.journey.push(m)}}),g.journey.length||g.journey.push({startPoint:"",endPoint:"",departDate:null,cabin:v||"",airline:h.a||"",paxType:h.pt||"",leg:0}),g.journey.sort((u,d)=>u.leg-d.leg),g.promotion=[],g.promotionGroupFilters=D.Sc.map(u=>{var d,_;const l=(null===(_=null===(d=h.pg)||void 0===d?void 0:d.split(",").find(r=>r.startsWith(u.airline)))||void 0===_?void 0:_.split("_")[1])||"";return Object.assign(Object.assign({},u),{selectedCode:l,items:l?[{code:l,description:l,isSystemPromotion:!1,isSelected:!0}]:[]})}),g.type=+h.t||p.VB.OneWay;const b=g.journey.some(u=>this._locationDataSvc.checkAirportInternational(u.startPoint)||this._locationDataSvc.checkAirportInternational(u.endPoint));return g.typeOfList=b&&g.type===p.VB.RoundTrip?p.YI.Combo:p.YI.Single,g}progressJourneyByType(h,g,v=[]){var b;const u=v.find(d=>0===d.leg);g===p.VB.MultiWay||(g===p.VB.RoundTrip?(h.clear(),this.addJourney(u?{startPoint:u.startPoint,endPoint:u.endPoint,departDate:u.departDate,returnDate:(null===(b=v.find(d=>1===d.leg))||void 0===b?void 0:b.departDate)||null}:{startPoint:null,endPoint:null,departDate:null,returnDate:null},h)):(h.clear(),this.addJourney(u?{startPoint:u.startPoint,endPoint:u.endPoint,departDate:u.departDate}:{startPoint:null,endPoint:null,departDate:null},h)))}compactInputData({adult:h,child:g,infant:v,journey:b,promotion:u,isDirectFlight:d,promotionGroupFilters:l}){const{cabin:m,airline:C,paxType:M}=b[0];let K={pr:u.map(E=>`${E.airline}_${E.code}`).join(","),pg:null!=l&&l.length?l.filter(E=>E.selectedCode).map(E=>`${E.airline}_${E.selectedCode}`).join(","):"",p:""+h+g+v,d:d?1:null,c:m,a:C,pt:M,t:1===b.length?0:2===b.length?1:2};return b.forEach(E=>{const{startPoint:N,endPoint:x,departDate:O,leg:I}=E,J=`l${I}`,L=`${N}_${x}_${A(O).format("YYYY-MM-DD")}`;K[J]=L}),K}removeEmptyFields(h){return Object.fromEntries(Object.entries(h).filter(([g,v])=>null!=v&&""!==v))}}return T.\u0275fac=function(h){return new(h||T)(P.LFG(y.qu),P.LFG(Z._))},T.\u0275prov=P.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},50518:(U,k,s)=>{s.d(k,{Av:()=>e,Mf:()=>P,S:()=>p,Sc:()=>t,St:()=>D,_q:()=>A});var y=s(64070);const t=[{airline:"VN",airlineLogo:"assets/icons/vn-icon.svg",items:[],selectedCode:""},{airline:"QH",airlineLogo:"assets/icons/qh-icon.svg",items:[],selectedCode:""},{airline:"VJ",airlineLogo:"assets/icons/vj-icon.svg",items:[],selectedCode:""},{airline:"GDS",airlineLogo:"assets/icons/gds-icon.svg",items:[],selectedCode:""}],e={adultCount:1,childCount:0,infantCount:0,journey:[{startPoint:"",endPoint:"",departDate:null,cabin:"",paxType:"",airline:"",leg:0}],promotion:[],isDirectFlight:!1,type:y.VB.OneWay,typeOfList:y.YI.Single,promotionGroupFilters:t},A=[{name:"Vietnam Airlines (VN)",value:"VN",airlineDisplay:"VN",actived:!1,logo:"assets/icons/vn-icon.svg",disabled:!1},{name:"Vietjet Air (VJ)",value:"VJ",airlineDisplay:"VJ",actived:!1,logo:"assets/icons/vj-icon.svg",disabled:!1},{name:"Bamboo Airways (QH)",value:"QH",airlineDisplay:"QH",actived:!1,logo:"assets/icons/qh-icon.svg",disabled:!1},{name:"Vietravel Airlines (VU)",value:"VU",airlineDisplay:"VU",actived:!1,logo:"assets/icons/vu-icon.png",disabled:!1},{name:"Low Cost Carrier (LCC)",value:"FLY_ONE",airlineDisplay:"LCC",actived:!1,logo:"assets/icons/airline-default-icon.svg",disabled:!0},{name:"GDS (1G, 1A)",value:"GDS,BSP,AIR_1G",airlineDisplay:"GDS, 1A, 1G",actived:!1,logo:"assets/icons/airline-default-icon.svg",disabled:!0}],D=[{value:"ECONOMY",name:"Economy",actived:!1},{value:"PREMIUM_ECONOMY",name:"Premium Economy",actived:!1},{value:"FIRST",name:"First",actived:!1},{value:"BUSINESS",name:"Business",actived:!1}],p=[{value:"",name:"B\xecnh th\u01b0\u1eddng",actived:!1},{value:"LBR",name:"Lao \u0111\u1ed9ng",actived:!1},{value:"STU",name:"Du h\u1ecdc sinh",actived:!1},{value:"EMI",name:"Nh\u1eadp c\u01b0",actived:!1},{value:"SEA",name:"Thuy\u1ec1n vi\xean",actived:!1}],P=[{key:"flight",value:"Chi ti\u1ebft chuy\u1ebfn bay",valueMobile:"H\xe0nh tr\xecnh"},{key:"ticket",value:"Chi ti\u1ebft v\xe9",valueMobile:"Gi\xe1 v\xe9"},{key:"rule",value:"\u0110i\u1ec1u ki\u1ec7n gi\xe1 v\xe9",valueMobile:"\u0110i\u1ec1u ki\u1ec7n gi\xe1 v\xe9"}]},41047:(U,k,s)=>{s.d(k,{B:()=>y});const y=t=>Object.entries(t).map(([A,D])=>((A,D)=>null==D||"string"==typeof D&&""===D?null:Array.isArray(D)?`${A}=${D.map(p=>encodeURIComponent(String(p))).join(",")}`:"object"==typeof D?y(D):`${A}=${encodeURIComponent(String(D))}`)(A,D)).filter(A=>null!==A).join("&")},64070:(U,k,s)=>{s.d(k,{HA:()=>y,VB:()=>A,YI:()=>e});class y{constructor(){this.journey=[]}}var e=(()=>{return(p=e||(e={}))[p.Single=0]="Single",p[p.Combo=1]="Combo",e;var p})(),A=(()=>{return(p=A||(A={}))[p.OneWay=0]="OneWay",p[p.RoundTrip=1]="RoundTrip",p[p.MultiWay=2]="MultiWay",A;var p})()},54646:(U,k,s)=>{s.d(k,{x:()=>g});var y=s(36895),t=s(94650),e=s(83700),A=s(27898),D=s(72506),p=s(74891),P=s(80429),Z=s(37094),B=s(9381),T=s(98184);function w(v,b){if(1&v){const u=t.EpF();t.TgZ(0,"div",19)(1,"cf-checkbox",20),t.NdJ("checkChange",function(_){const r=t.CHM(u).$implicit,m=t.oxw(2);return t.KtG(m.checkChange(_,r.value))}),t.TgZ(2,"div",13),t._UZ(3,"img",21),t.TgZ(4,"div",22),t._uU(5),t.qZA()()()()}if(2&v){const u=b.$implicit;t.xp6(1),t.Q6J("disabled",u.disabled)("checked",u.actived),t.xp6(2),t.Q6J("src",u.logo,t.LSH),t.xp6(2),t.hij(" ",u.name," ")}}function h(v,b){if(1&v){const u=t.EpF();t.TgZ(0,"div",10)(1,"div",11)(2,"cf-checkbox",12),t.NdJ("checkChange",function(_){t.CHM(u);const l=t.oxw();return t.KtG(l.checkChange(_,"ALL"))}),t.TgZ(3,"div",13)(4,"div",14),t._uU(5,"H\xe3ng bay"),t.qZA()()(),t.TgZ(6,"div",15),t.YNc(7,w,6,4,"div",16),t.qZA()(),t.TgZ(8,"div",17)(9,"button",18),t.NdJ("click",function(){t.CHM(u);const _=t.oxw();return t.KtG(_.closeBotomSheet())}),t._uU(10,"X\xe1c nh\u1eadn"),t.qZA()()()}if(2&v){const u=t.oxw();t.xp6(2),t.Q6J("checked",u.isSelectedAll),t.xp6(5),t.Q6J("ngForOf",u.airlineList)}}let g=(()=>{class v{constructor(u,d){this.bottomSheetService=u,this.mobileDetectService=d,this.airlineFilterChange=new t.vpe,this.isOpen=!1,this.airlineSelected=[],this.title="T\u1ea5t c\u1ea3 c\xe1c h\xe3ng",this.isSelectedAll=!1,this.viewTitle=_=>null!=_&&_.every(l=>l.disabled&&!l.actived||!l.disabled&&!l.actived)||null!=_&&_.every(l=>!l.disabled&&l.actived||l.disabled&&!l.actived)?"T\u1ea5t c\u1ea3 c\xe1c h\xe3ng":null==_?void 0:_.filter(l=>!l.disabled&&l.actived).map(l=>l.airlineDisplay).join(", ")}ngOnChanges(u){this.airlineList&&this.airlineList.length&&this.checkSelectedAll()}ngOnInit(){this.airlineSelected=this.airlineList.filter(u=>u.actived).map(u=>u.airlineDisplay),this.checkSelectedAll()}click(u,d){this.mobileDetectService.isMobile()?this.openBottomSheet(d):this.isOpen=!this.isOpen,u.stopPropagation()}outsideClick(u){this.isOpen=!1}checkChange(u,d){this.airlineList="ALL"===d?[...this.airlineList.map(r=>r.disabled?r:Object.assign(Object.assign({},r),{actived:u}))]:[...this.airlineList.map(r=>r.value===d?Object.assign(Object.assign({},r),{actived:u}):r)];const _=this.airlineList.filter(r=>r.actived);this.airlineSelected=_.map(r=>r.airlineDisplay);const l=_.map(r=>r.value);this.checkSelectedAll(),this.airlineFilterChange.emit(l)}checkSelectedAll(){this.isSelectedAll=this.airlineList.filter(u=>!u.disabled).every(u=>u.actived)}openBottomSheet(u){this.bottomSheetService.open(u,{headerTitle:"H\xe3ng bay",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",containerFullHeigh:!0}).containerInstance._rightButtonClick.subscribe(()=>this.bottomSheetService.dismiss())}closeBotomSheet(){this.bottomSheetService.dismiss()}}return v.\u0275fac=function(u){return new(u||v)(t.Y36(Z.a2),t.Y36(B.L))},v.\u0275cmp=t.Xpm({type:v,selectors:[["btc-airline-filter"]],inputs:{airlineList:"airlineList"},outputs:{airlineFilterChange:"airlineFilterChange"},standalone:!0,features:[t.TTD,t.jDz],decls:16,vars:10,consts:[["cdkOverlayOrigin","","tabIndex","-1",1,"cursor-pointer",3,"click"],["trigger","","originOverlay","cdkOverlayOrigin"],[1,"md:hidden","flex","items-center","gap-x-2"],["icon","grid","size","small",1,"text-neutral-gray-5"],[1,"text-body-md","text-neutral-black"],["icon","down","size","small",1,"text-neutral-gray-5"],[1,"gap-x-1.5","items-center","border","border-neutral-gray-3","rounded-full","px-4","py-[5px]","hidden","md:flex"],[1,"text-body-md","whitespace-nowrap"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","overlayOutsideClick"],["bottomSheet",""],[1,"p-4","shadow-cf-lg","w-[280px]","bg-neutral-white","rounded","md:w-full","flex","flex-col"],[1,"flex","flex-col","gap-y-2"],["size","medium",1,"inline-flex",3,"checked","checkChange"],[1,"flex","items-center","gap-x-2"],[1,"text-heading-sm","text-neutral-black"],[1,"flex","flex-col","gap-y-2","md:gap-y-4"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"hidden","md:flex","flex-1","justify-end","flex-col"],["cf-button","",1,"w-full","justify-center",3,"click"],[1,"flex","items-center"],["size","medium",3,"disabled","checked","checkChange"],[1,"w-6","h-6","object-contain",3,"src"],[1,"text-body-md-long"]],template:function(u,d){if(1&u){const _=t.EpF();t.TgZ(0,"div",0,1),t.NdJ("click",function(r){t.CHM(_);const m=t.MAs(15);return t.KtG(d.click(r,m))}),t.TgZ(3,"div",2),t._UZ(4,"cf-icon",3),t.TgZ(5,"div",4),t._uU(6),t.ALo(7,"mapper"),t.qZA(),t._UZ(8,"cf-icon",5),t.qZA(),t.TgZ(9,"div",6)(10,"div",7),t._uU(11),t.ALo(12,"mapper"),t.qZA(),t._UZ(13,"cf-icon",5),t.qZA()(),t.YNc(14,h,11,2,"ng-template",8,9,t.W1O),t.NdJ("overlayOutsideClick",function(r){return d.outsideClick(r)})}if(2&u){const _=t.MAs(2);t.xp6(6),t.Oqu(t.xi3(7,4,d.airlineList,d.viewTitle)),t.xp6(5),t.Oqu(t.xi3(12,7,d.airlineList,d.viewTitle)),t.xp6(3),t.Q6J("cdkConnectedOverlayOrigin",_)("cdkConnectedOverlayOpen",d.isOpen)}},dependencies:[D.AxE,D.Sm8,p.f,T.pI,T.xu,A.u,y.ax,e.N8,e.Xq,P.q],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),v})()},99137:(U,k,s)=>{s.d(k,{w:()=>u});var y=s(98184),t=s(36895),e=s(94650),A=s(24006),D=s(83700),p=s(72506),P=s(74891),Z=s(19123),B=s(80429),T=s(37094),w=s(9381);const h=["bottomSheet"];function g(d,_){if(1&d){const l=e.EpF();e.ynx(0),e.TgZ(1,"cf-radio",19),e.NdJ("checkChange",function(){const C=e.CHM(l).$implicit,M=e.oxw(2);return e.KtG(M.onCabinSelected(C))}),e._uU(2),e.qZA(),e.BQk()}if(2&d){const l=_.$implicit;e.xp6(1),e.Q6J("value",l.value),e.xp6(1),e.Oqu(l.name)}}function v(d,_){if(1&d){const l=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13),e._uU(4,"Khoang h\u1ea1ng"),e.qZA()(),e.TgZ(5,"div",14)(6,"cf-radio-group",15),e.NdJ("ngModelChange",function(m){e.CHM(l);const C=e.oxw();return e.KtG(C.cabinSelectedTemp=m)}),e.YNc(7,g,3,2,"ng-container",16),e.qZA()()(),e.TgZ(8,"div",17)(9,"button",18),e.NdJ("click",function(){e.CHM(l);const m=e.oxw();return e.KtG(m.submitBottomSheet())}),e._uU(10,"X\xe1c nh\u1eadn"),e.qZA()()()}if(2&d){const l=e.oxw();e.xp6(6),e.Q6J("ngModel",l.cabinSelectedTemp),e.xp6(1),e.Q6J("ngForOf",l.cabinList)}}const b=function(d){return{"opacity-30 pointer-events-none":d}};let u=(()=>{class d{constructor(l,r,m){this.cfIconRegister=l,this.bottomSheetService=r,this.mobileDetectService=m,this.isOpen=!1,this.bottomCenter=[{originX:"start",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:0,offsetY:0}],this.cabinChange=new e.vpe,this.cabinSelected=C=>C.find(M=>M.actived),this.cfIconRegister.registerIcons([p.Nnv,p._7G])}ngOnChanges(l){var r;l.cabinList&&(this.cabinSelectedTemp=null===(r=this.cabinSelected(this.cabinList))||void 0===r?void 0:r.value)}click(l){this.actived&&(this.isOpen=!this.isOpen,l.stopPropagation())}outsideClick(){this.isOpen=!1}onCabinSelected(l){if(this.mobileDetectService.isMobile())this.cabinSelectedTemp=l.value;else{const r=Object.assign(Object.assign({},l),{actived:!l.actived});this.cabinChange.emit(r),this.isOpen=!1}}openBottomSheet(){var l;this.actived&&(this.cabinSelectedTemp=null===(l=this.cabinSelected(this.cabinList))||void 0===l?void 0:l.value,this.bottomSheetService.open(this.bottomSheet,{headerTitle:"Khoang h\u1ea1ng",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",containerFullHeigh:!0}).containerInstance._rightButtonClick.subscribe(()=>this.bottomSheetService.dismiss()))}submitBottomSheet(){const l=this.cabinList.find(r=>r.value===this.cabinSelectedTemp);this.cabinChange.emit(l),this.bottomSheetService.dismiss()}}return d.\u0275fac=function(l){return new(l||d)(e.Y36(p.KNP),e.Y36(T.a2),e.Y36(w.L))},d.\u0275cmp=e.Xpm({type:d,selectors:[["btc-cabin-selector"]],viewQuery:function(l,r){if(1&l&&e.Gf(h,5),2&l){let m;e.iGM(m=e.CRH())&&(r.bottomSheet=m.first)}},inputs:{cabinList:"cabinList",actived:"actived"},outputs:{cabinChange:"cabinChange"},standalone:!0,features:[e.TTD,e.jDz],decls:16,vars:17,consts:[[1,"hidden","md:flex","gap-x-1.5","items-center","border","border-neutral-gray-3","rounded-full","px-4","py-[5px]",3,"ngClass","click"],[1,"text-body-md","whitespace-nowrap"],["icon","down","size","small",1,"text-neutral-gray-5"],["cdkOverlayOrigin","","tabIndex","-1",1,"cursor-pointer","md:hidden",3,"ngClass","click"],["trigger","","originOverlay","cdkOverlayOrigin"],[1,"flex","items-center","gap-x-2"],["icon","seat","size","small",1,"text-neutral-gray-5"],[1,"text-body-md","text-neutral-black","whitespace-nowrap"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","overlayOutsideClick"],["bottomSheet",""],[1,"shadow-cf-lg","w-[220px]","justify-between","bg-neutral-white","rounded","md:w-full","p-4","flex","flex-col","gap-y-4"],[1,"flex","flex-col","w-full","gap-y-4"],[1,"flex","justify-start","items-center","rounded","md:hidden"],[1,"text-heading-sm","text-neutral-black"],[1,"flex","flex-col","gap-y-4"],[1,"flex","flex-col","gap-y-2.5",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"hidden","md:block"],["cf-button","",1,"w-full","justify-center",3,"click"],["size","medium",3,"value","checkChange"]],template:function(l,r){if(1&l&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return r.openBottomSheet()}),e.TgZ(1,"div",1),e._uU(2),e.ALo(3,"mapper"),e.qZA(),e._UZ(4,"cf-icon",2),e.qZA(),e.TgZ(5,"div",3,4),e.NdJ("click",function(C){return r.click(C)}),e.TgZ(8,"div",5),e._UZ(9,"cf-icon",6),e.TgZ(10,"div",7),e._uU(11),e.ALo(12,"mapper"),e.qZA(),e._UZ(13,"cf-icon",2),e.qZA()(),e.YNc(14,v,11,2,"ng-template",8,9,e.W1O),e.NdJ("overlayOutsideClick",function(){return r.outsideClick()})),2&l){const m=e.MAs(7);let C,M;e.Q6J("ngClass",e.VKq(13,b,!r.actived)),e.xp6(2),e.hij(" ",(null==(C=e.xi3(3,7,r.cabinList,r.cabinSelected))?null:C.name)||"Khoang h\u1ea1ng",""),e.xp6(3),e.Q6J("ngClass",e.VKq(15,b,!r.actived)),e.xp6(6),e.hij(" ",(null==(M=e.xi3(12,10,r.cabinList,r.cabinSelected))?null:M.name)||"Khoang h\u1ea1ng"," "),e.xp6(3),e.Q6J("cdkConnectedOverlayOrigin",m)("cdkConnectedOverlayOpen",r.isOpen)("cdkConnectedOverlayPositions",r.bottomCenter)}},dependencies:[t.ez,t.mk,t.sg,p.AxE,p.Sm8,P.f,y.pI,y.xu,y.U8,Z.o,Z.T,A.u5,A.JJ,A.On,D.N8,D.Xq,B.q],styles:["[_nghost-%COMP%]{display:block}"]}),d})()},53620:(U,k,s)=>{s.d(k,{l:()=>d});var y=s(98184),t=s(36895),e=s(94650),A=s(37094),D=s(83700),p=s(72506),P=s(74891),Z=s(9381);const B=["bottomSheet"];function T(_,l){1&_&&e._UZ(0,"cf-icon",12)}function w(_,l){if(1&_&&(e.TgZ(0,"div",8),e._UZ(1,"cf-icon",9),e.TgZ(2,"div",10),e._uU(3),e.qZA(),e.YNc(4,T,1,0,"cf-icon",11),e.qZA()),2&_){const r=e.oxw();e.xp6(3),e.hij("",r.adultNumber+r.childNumber," kh\xe1ch"),e.xp6(1),e.Q6J("ngIf",r.showIcon)}}function h(_,l){if(1&_&&(e.TgZ(0,"div",13),e._UZ(1,"cf-icon",14),e.TgZ(2,"div",15)(3,"label",16),e._uU(4," H\xe0nh kh\xe1ch "),e.qZA(),e.TgZ(5,"div",10),e._uU(6),e.qZA()()()),2&_){const r=e.oxw();e.xp6(6),e.hij("",r.adultNumber+r.childNumber," kh\xe1ch")}}function g(_,l){1&_&&e._UZ(0,"cf-icon",12)}function v(_,l){if(1&_&&(e.TgZ(0,"div",17)(1,"div",18),e._uU(2),e.qZA(),e.YNc(3,g,1,0,"cf-icon",11),e.qZA()),2&_){const r=e.oxw();e.xp6(2),e.hij("",r.adultNumber+r.childNumber," kh\xe1ch"),e.xp6(1),e.Q6J("ngIf",r.showIcon)}}function b(_,l){if(1&_&&(e.TgZ(0,"div",19),e._UZ(1,"cf-icon",14),e.TgZ(2,"div",15)(3,"label",16),e._uU(4," H\xe0nh kh\xe1ch "),e.qZA(),e.TgZ(5,"div",10),e._uU(6),e.qZA()()()),2&_){const r=e.oxw();e.xp6(6),e.hij("",r.adultNumber+r.childNumber," kh\xe1ch")}}function u(_,l){if(1&_){const r=e.EpF();e.TgZ(0,"div",20)(1,"div",21)(2,"div",22),e._uU(3,"H\xe0nh kh\xe1ch"),e.qZA()(),e.TgZ(4,"div",23)(5,"div",24),e._UZ(6,"cf-icon",25),e.TgZ(7,"div",15)(8,"div",26),e._uU(9,"Ng\u01b0\u1eddi l\u1edbn"),e.qZA(),e.TgZ(10,"div",27),e._uU(11,"Tr\xean 12 tu\u1ed5i"),e.qZA()()(),e.TgZ(12,"div",28)(13,"button",29),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.decrease("ADT"))}),e._UZ(14,"cf-icon",30),e.qZA(),e.TgZ(15,"div",31),e._uU(16),e.qZA(),e.TgZ(17,"button",29),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.increase("ADT"))}),e._UZ(18,"cf-icon",32),e.qZA()()(),e.TgZ(19,"div",23)(20,"div",24),e._UZ(21,"cf-icon",25),e.TgZ(22,"div",15)(23,"div",26),e._uU(24,"Tr\u1ebb em"),e.qZA(),e.TgZ(25,"div",27),e._uU(26,"T\u1eeb 2 - 12 tu\u1ed5i"),e.qZA()()(),e.TgZ(27,"div",28)(28,"button",29),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.decrease("CHD"))}),e._UZ(29,"cf-icon",30),e.qZA(),e.TgZ(30,"div",31),e._uU(31),e.qZA(),e.TgZ(32,"button",29),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.increase("CHD"))}),e._UZ(33,"cf-icon",32),e.qZA()()(),e.TgZ(34,"div",33)(35,"div",24),e._UZ(36,"cf-icon",25),e.TgZ(37,"div",15)(38,"div",26),e._uU(39,"Em b\xe9"),e.qZA(),e.TgZ(40,"div",27),e._uU(41,"D\u01b0\u1edbi 2 tu\u1ed5i"),e.qZA()()(),e.TgZ(42,"div",28)(43,"button",29),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.decrease("INF"))}),e._UZ(44,"cf-icon",30),e.qZA(),e.TgZ(45,"div",31),e._uU(46),e.qZA(),e.TgZ(47,"button",29),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.increase("INF"))}),e._UZ(48,"cf-icon",32),e.qZA()()(),e.TgZ(49,"div",34)(50,"button",35),e.NdJ("click",function(){e.CHM(r);const C=e.oxw();return e.KtG(C.closeBotomSheet())}),e._uU(51,"X\xe1c nh\u1eadn"),e.qZA()()()}if(2&_){const r=e.oxw();e.xp6(13),e.Q6J("disabled",r._adultNumber<=1||1===r._adultNumber&&1===r._infantNumber),e.xp6(3),e.Oqu(r._adultNumber),e.xp6(1),e.Q6J("disabled",r._adultNumber+r._childNumber===r.ADULT_CHILD_LIMIT),e.xp6(11),e.Q6J("disabled",0===r._childNumber||r._adultNumber+r._childNumber===1),e.xp6(3),e.Oqu(r._childNumber),e.xp6(1),e.Q6J("disabled",r._adultNumber+r._childNumber===r.ADULT_CHILD_LIMIT||r._childNumber===r.CHILD_LIMIT),e.xp6(11),e.Q6J("disabled",0===r._infantNumber),e.xp6(3),e.Oqu(r._infantNumber),e.xp6(1),e.Q6J("disabled",r._infantNumber===r._adultNumber)}}let d=(()=>{class _{constructor(r,m,C){this.cfIconRegister=r,this._bottomSheetSvc=m,this._mobileDetectSvc=C,this.adultNumber=1,this.childNumber=0,this.infantNumber=0,this.showIcon=!0,this._adultNumber=0,this._childNumber=0,this._infantNumber=0,this.ADULT_CHILD_LIMIT=9,this.CHILD_LIMIT=8,this.numberOfPassengerChange=new e.vpe,this.isOpen=!1,this.cfIconRegister.registerIcons([p.TOh,p.KYu,p.TM4,p.gll,p._7G])}ngOnChanges(){this._adultNumber=this.adultNumber,this._childNumber=this.childNumber,this._infantNumber=this.infantNumber}click(r){this.loadTempData(),this._mobileDetectSvc.isMobile()?this.openBottomSheet():this.isOpen=!this.isOpen,r.stopPropagation()}outsideClick(r){this.isOpen=!1}emitData(){this.numberOfPassengerChange.emit({adult:this._adultNumber,child:this._childNumber,infant:this._infantNumber})}reset(){this.loadTempData()}loadTempData(){this._adultNumber=this.adultNumber,this._childNumber=this.childNumber,this._infantNumber=this.infantNumber}increase(r){switch(r){case"ADT":this._adultNumber++;break;case"CHD":this._childNumber++;break;case"INF":this._infantNumber++}this.emitData()}decrease(r){switch(r){case"ADT":this._adultNumber===this._infantNumber&&1!==this._adultNumber&&this._infantNumber--,this._adultNumber--;break;case"CHD":this._childNumber--;break;case"INF":this._infantNumber--}this.emitData()}openBottomSheet(){this._bottomSheetSvc.open(this.bottomSheet,{headerTitle:"S\u1ed1 l\u01b0\u1ee3ng h\xe0nh kh\xe1ch",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",containerFullHeigh:!0}).containerInstance._rightButtonClick.subscribe(()=>this._bottomSheetSvc.dismiss())}closeBotomSheet(){this._bottomSheetSvc.dismiss()}}return _.\u0275fac=function(r){return new(r||_)(e.Y36(p.KNP),e.Y36(A.a2),e.Y36(Z.L))},_.\u0275cmp=e.Xpm({type:_,selectors:[["btc-num-of-pas"]],viewQuery:function(r,m){if(1&r&&e.Gf(B,5),2&r){let C;e.iGM(C=e.CRH())&&(m.bottomSheet=C.first)}},inputs:{adultNumber:"adultNumber",childNumber:"childNumber",infantNumber:"infantNumber",showIcon:"showIcon"},outputs:{numberOfPassengerChange:"numberOfPassengerChange"},standalone:!0,features:[e.TTD,e.jDz],decls:9,vars:6,consts:[["cdkOverlayOrigin","","tabIndex","-1",1,"cursor-pointer",3,"click"],["trigger","","originOverlay","cdkOverlayOrigin"],["class","flex items-center gap-x-2 md:hidden",4,"ngIf"],["class","flex items-center gap-x-3 md:hidden",4,"ngIf"],["class","gap-x-1.5 items-center border border-neutral-gray-3 rounded-full px-4 py-[5px] hidden md:flex",4,"ngIf"],["class","hidden md:flex md:items-center md:gap-x-3",4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","overlayOutsideClick"],["bottomSheet",""],[1,"flex","items-center","gap-x-2","md:hidden"],["icon","users","size","small",1,"text-neutral-gray-5"],[1,"text-body-md","text-neutral-black"],["class","text-neutral-gray-5","icon","down","size","small",4,"ngIf"],["icon","down","size","small",1,"text-neutral-gray-5"],[1,"flex","items-center","gap-x-3","md:hidden"],["icon","users","size","medium",1,"text-neutral-gray-4"],[1,"flex","flex-col","gap-y-1"],["cfLabel","","for","departDate",1,"text-express-md","text-neutral-gray-4","cursor-text"],[1,"gap-x-1.5","items-center","border","border-neutral-gray-3","rounded-full","px-4","py-[5px]","hidden","md:flex"],[1,"text-body-md","whitespace-nowrap"],[1,"hidden","md:flex","md:items-center","md:gap-x-3"],[1,"p-4","shadow-cf-lg","w-[280px]","bg-neutral-white","rounded","md:w-full","md:pt-5","md:overflow-hidden","flex","flex-col"],[1,"flex","justify-start","items-center","pb-3.5","rounded","md:hidden"],[1,"text-heading-sm","text-neutral-black"],[1,"flex","items-center","justify-between","mb-3","md:mb-4","md:gap-3"],[1,"flex","items-center","gap-x-3"],["icon","user","size","small"],[1,"text-espressive-md","text-neutral-black","md:text-heading-xs"],[1,"text-espressive-xs","text-neutral-gray-4","md:text-body-sm"],[1,"flex","items-center","justify-end"],["cf-button","","size","small","type","secondary",1,"!w-8","!h-8","flex","items-center","justify-center",3,"disabled","click"],["icon","minus","size","small"],[1,"text-espressive-md","text-neutral-black","mx-4"],["icon","plus","size","small"],[1,"flex","items-center","justify-between","mb-[22px]","md:mb-6","md:gap-3"],[1,"hidden","md:flex","flex-1","justify-end","flex-col"],["cf-button","",1,"w-full","justify-center",3,"click"]],template:function(r,m){if(1&r&&(e.TgZ(0,"div",0,1),e.NdJ("click",function(M){return m.click(M)}),e.YNc(3,w,5,2,"div",2),e.YNc(4,h,7,1,"div",3),e.YNc(5,v,4,2,"div",4),e.YNc(6,b,7,1,"div",5),e.qZA(),e.YNc(7,u,52,9,"ng-template",6,7,e.W1O),e.NdJ("overlayOutsideClick",function(M){return m.outsideClick(M)})),2&r){const C=e.MAs(2);e.xp6(3),e.Q6J("ngIf",m.showIcon),e.xp6(1),e.Q6J("ngIf",!m.showIcon),e.xp6(1),e.Q6J("ngIf",m.showIcon),e.xp6(1),e.Q6J("ngIf",!m.showIcon),e.xp6(1),e.Q6J("cdkConnectedOverlayOrigin",C)("cdkConnectedOverlayOpen",m.isOpen)}},dependencies:[t.ez,t.O5,p.AxE,p.Sm8,D.N8,D.Xq,P.f,y.pI,y.xu,y.U8,A.DW],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),_})()},37453:(U,k,s)=>{s.d(k,{d:()=>u});var y=s(98184),t=s(36895),e=s(94650),A=s(24006),D=s(83700),p=s(72506),P=s(74891),Z=s(19123),B=s(80429),T=s(37094),w=s(9381);const h=["bottomSheet"];function g(d,_){if(1&d){const l=e.EpF();e.ynx(0),e.TgZ(1,"cf-radio",19),e.NdJ("checkChange",function(){const C=e.CHM(l).$implicit,M=e.oxw(2);return e.KtG(M.onPaxTypeSelected(C))}),e._uU(2),e.qZA(),e.BQk()}if(2&d){const l=_.$implicit;e.xp6(1),e.Q6J("value",l.value),e.xp6(1),e.Oqu(l.name)}}function v(d,_){if(1&d){const l=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13),e._uU(4,"Lo\u1ea1i kh\xe1ch"),e.qZA()(),e.TgZ(5,"div",14)(6,"cf-radio-group",15),e.NdJ("ngModelChange",function(m){e.CHM(l);const C=e.oxw();return e.KtG(C.paxTypeSelectedTemp=m)}),e.YNc(7,g,3,2,"ng-container",16),e.qZA()()(),e.TgZ(8,"div",17)(9,"button",18),e.NdJ("click",function(){e.CHM(l);const m=e.oxw();return e.KtG(m.closeBottomSheet())}),e._uU(10,"X\xe1c nh\u1eadn"),e.qZA()()()}if(2&d){const l=e.oxw();e.xp6(6),e.Q6J("ngModel",l.paxTypeSelectedTemp),e.xp6(1),e.Q6J("ngForOf",l.paxTypeList)}}const b=function(d){return{"opacity-30 pointer-events-none":d}};let u=(()=>{class d{constructor(l,r,m){this.cfIconRegister=l,this.bottomSheetService=r,this.mobileDetectService=m,this.isOpen=!1,this.bottomCenter=[{originX:"start",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:0,offsetY:0}],this.paxTypeChange=new e.vpe,this.paxTypeSelected=C=>C.find(M=>M.actived),this.cfIconRegister.registerIcons([p.KYu,p._7G])}ngOnChanges(l){var r;l.paxTypeList&&(this.paxTypeSelectedTemp=null===(r=this.paxTypeSelected(this.paxTypeList))||void 0===r?void 0:r.value)}click(l){this.actived&&(this.isOpen=!this.isOpen,l.stopPropagation())}outsideClick(){this.isOpen=!1}onPaxTypeSelected(l){if(this.mobileDetectService.isMobile())this.paxTypeSelectedTemp=l.value;else{const r=Object.assign(Object.assign({},l),{actived:!l.actived});this.paxTypeChange.emit(r),this.isOpen=!1}}openBottomSheet(){this.actived&&this.bottomSheetService.open(this.bottomSheet,{headerTitle:"Lo\u1ea1i kh\xe1ch",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",containerFullHeigh:!0}).containerInstance._rightButtonClick.subscribe(()=>this.bottomSheetService.dismiss())}closeBottomSheet(){const l=this.paxTypeList.find(r=>r.value===this.paxTypeSelectedTemp);this.paxTypeChange.emit(l),this.bottomSheetService.dismiss()}}return d.\u0275fac=function(l){return new(l||d)(e.Y36(p.KNP),e.Y36(T.a2),e.Y36(w.L))},d.\u0275cmp=e.Xpm({type:d,selectors:[["btc-pax-type-selector"]],viewQuery:function(l,r){if(1&l&&e.Gf(h,5),2&l){let m;e.iGM(m=e.CRH())&&(r.bottomSheet=m.first)}},inputs:{paxTypeList:"paxTypeList",actived:"actived"},outputs:{paxTypeChange:"paxTypeChange"},standalone:!0,features:[e.TTD,e.jDz],decls:16,vars:17,consts:[[1,"hidden","md:flex","gap-x-1.5","items-center","border","border-neutral-gray-3","rounded-full","px-4","py-[5px]",3,"ngClass","click"],[1,"text-body-md","whitespace-nowrap"],["icon","down","size","small",1,"text-neutral-gray-5"],["cdkOverlayOrigin","","tabIndex","-1",1,"cursor-pointer","md:hidden",3,"ngClass","click"],["trigger","","originOverlay","cdkOverlayOrigin"],[1,"flex","items-center","gap-x-2"],["icon","user","size","small",1,"text-neutral-gray-5"],[1,"text-body-md","text-neutral-black","whitespace-nowrap"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","overlayOutsideClick"],["bottomSheet",""],[1,"shadow-cf-lg","w-[220px]","bg-neutral-white","rounded","md:w-full","p-4","flex","flex-col","gap-y-4","justify-between"],[1,"flex","flex-col","gap-y-4","w-full"],[1,"flex","justify-start","items-center","rounded","md:hidden"],[1,"text-heading-sm","text-neutral-black"],[1,"flex","flex-col","gap-y-4"],[1,"flex","flex-col","gap-y-2.5",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"hidden","md:block"],["cf-button","",1,"w-full","justify-center",3,"click"],["size","medium",3,"value","checkChange"]],template:function(l,r){if(1&l&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return r.openBottomSheet()}),e.TgZ(1,"div",1),e._uU(2),e.ALo(3,"mapper"),e.qZA(),e._UZ(4,"cf-icon",2),e.qZA(),e.TgZ(5,"div",3,4),e.NdJ("click",function(C){return r.click(C)}),e.TgZ(8,"div",5),e._UZ(9,"cf-icon",6),e.TgZ(10,"div",7),e._uU(11),e.ALo(12,"mapper"),e.qZA(),e._UZ(13,"cf-icon",2),e.qZA()(),e.YNc(14,v,11,2,"ng-template",8,9,e.W1O),e.NdJ("overlayOutsideClick",function(){return r.outsideClick()})),2&l){const m=e.MAs(7);let C,M;e.Q6J("ngClass",e.VKq(13,b,!r.actived)),e.xp6(2),e.Oqu((null==(C=e.xi3(3,7,r.paxTypeList,r.paxTypeSelected))?null:C.name)||"Lo\u1ea1i kh\xe1ch"),e.xp6(3),e.Q6J("ngClass",e.VKq(15,b,!r.actived)),e.xp6(6),e.hij(" ",(null==(M=e.xi3(12,10,r.paxTypeList,r.paxTypeSelected))?null:M.name)||"Lo\u1ea1i kh\xe1ch"," "),e.xp6(3),e.Q6J("cdkConnectedOverlayOrigin",m)("cdkConnectedOverlayOpen",r.isOpen)("cdkConnectedOverlayPositions",r.bottomCenter)}},dependencies:[t.ez,t.mk,t.sg,p.AxE,p.Sm8,P.f,y.pI,y.xu,y.U8,Z.o,Z.T,A.u5,A.JJ,A.On,D.N8,D.Xq,B.q],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),d})()},82858:(U,k,s)=>{s.d(k,{_:()=>It});var y=s(36895),t=s(94650),e=s(24006),A=s(83700),D=s(27898),p=s(88516),P=s(99590),Z=s(72853),B=s(72506),T=s(44143),w=s(74713),h=s(64070),g=s(50633),v=s(15439),b=s(77296),u=s(37094),d=s(61135),_=s(78372);const l=["searchAirportEl"];function r(c,f){1&c&&(t.TgZ(0,"div",10),t._uU(1," Th\xe0nh ph\u1ed1 - S\xe2n bay "),t.qZA())}function m(c,f){if(1&c){const n=t.EpF();t.TgZ(0,"div",14),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.optionClick(o))}),t._UZ(1,"div",15),t.ALo(2,"highlighter"),t._UZ(3,"div",16),t.ALo(4,"highlighter"),t.qZA()}if(2&c){const n=t.oxw().$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("innerHtml",t.xi3(2,2,n.CityName+", "+n.Title,i.data.currentSelected),t.oJD),t.xp6(2),t.Q6J("innerHtml",t.xi3(4,5,n.Code+" - "+n.AirportName,i.data.currentSelected),t.oJD)}}function C(c,f){if(1&c&&(t.ynx(0),t.YNc(1,m,5,8,"div",13),t.BQk()),2&c){const n=f.index,i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n<i.ticketInfiniteScrollCount)}}function M(c,f){if(1&c){const n=t.EpF();t.TgZ(0,"div",11),t.NdJ("scrolled",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.onScrollDown())})("touchmove",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.onScrollDown())}),t.YNc(1,C,2,1,"ng-container",12),t.qZA()}if(2&c){const n=t.oxw();t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0),t.xp6(1),t.Q6J("ngForOf",n.optionsDisplay)("ngForTrackBy",n.airportTrackByFn)}}function K(c,f){1&c&&(t.TgZ(0,"div",17),t._UZ(1,"img",18),t.TgZ(2,"div",19)(3,"div",20),t._uU(4," Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3 "),t.qZA(),t.TgZ(5,"div",21),t._uU(6," Vui l\xf2ng nh\u1eadp \u0111\xfang t\xean th\xe0nh ph\u1ed1 "),t._UZ(7,"br"),t._uU(8,"v\xe0 s\xe2n bay. "),t.qZA()()())}let E=(()=>{class c{constructor(n,i,o,a){this.data=n,this.registerIcons=i,this.cfBottomSheetRef=o,this.elementRef=a,this.TICKET_INFINITE_SCROLL_DEFAULT=40,this.TICKET_INFINITE_OFSET_INCREASE=30,this.ticketInfiniteScrollCount=this.TICKET_INFINITE_SCROLL_DEFAULT,this.searchTextChange=new d.X(""),this.optionsDisplay=[],i.registerIcons([B.esH]),n.airportOptions=n.airportOptions.filter(S=>!n.excludes.includes(S.Code)),this.optionsDisplay=n.airportOptions,n.currentSelected||(n.currentSelected="")}ngAfterViewInit(){setTimeout(()=>{this.searchAirportEl.focus()},200)}ngOnInit(){this.searchTextChange.pipe((0,_.b)(200)).subscribe(n=>{this.searchFilter(n)})}searchChange(n){this.searchTextChange.next(n.target.value)}searchFilter(n){this.optionsDisplay=""===n?this.data.airportOptions:this.data.airportOptions.filter(i=>this.removeAccents(i.Code.toLocaleLowerCase()).includes(this.removeAccents(n.toLocaleLowerCase()))||this.removeAccents(i.AirportName.toLocaleLowerCase()).includes(this.removeAccents(n.toLocaleLowerCase()))||this.removeAccents(i.CityName.toLocaleLowerCase()).includes(this.removeAccents(n.toLocaleLowerCase()))||this.removeAccents(i.Title.toLocaleLowerCase()).includes(this.removeAccents(n.toLocaleLowerCase())))}removeAccents(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D")}airportTrackByFn(n,i){return i.Code}onScrollDown(){this.ticketInfiniteScrollCount+=this.TICKET_INFINITE_OFSET_INCREASE}optionClick(n){this.cfBottomSheetRef.dismiss(n)}resetSearch(){this.searchAirportEl.focus(),this.data.currentSelected="",this.searchFilter("")}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(u.Rr),t.Y36(B.KNP),t.Y36(u.Zu),t.Y36(t.SBq))},c.\u0275cmp=t.Xpm({type:c,selectors:[["btc-flight-airport-bottom-sheet"]],viewQuery:function(n,i){if(1&n&&t.Gf(l,5),2&n){let o;t.iGM(o=t.CRH())&&(i.searchAirportEl=o.first)}},hostAttrs:[1,"w-full","flex"],standalone:!0,features:[t.jDz],decls:10,vars:4,consts:[[1,"p-4","pb-0","flex","flex-col","gap-y-4","flex-auto","w-full","h-full"],[1,"relative"],[1,"!max-w-none","w-full","flex-grow-0","flex"],["id","search-airport","cf-input","",3,"ngModel","ngModelChange","input"],["searchAirportEl",""],["cfHeadIcon","","icon","search","size","small",1,"text-neutral-gray-4"],["icon","close","size","small",1,"absolute","right-0","top-1/2","-translate-y-1/2","mr-3",3,"click"],["class","text-neutral-gray-6-brandcolor text-left relative text-heading-xs text-neutral-gray-6",4,"ngIf"],["class","flex flex-col w-full flex-auto overflow-y-auto","infinite-scroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","fromRoot","alwaysCallback","scrolled","touchmove",4,"ngIf"],["class","flex flex-col justify-center items-center gap-y-5 flex-auto pb-[168px]",4,"ngIf"],[1,"text-neutral-gray-6-brandcolor","text-left","relative","text-heading-xs","text-neutral-gray-6"],["infinite-scroll","",1,"flex","flex-col","w-full","flex-auto","overflow-y-auto",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","fromRoot","alwaysCallback","scrolled","touchmove"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","flex flex-col py-2 px-3 border-b border-b-neutral-gray-1 shrink-0",3,"click",4,"ngIf"],[1,"flex","flex-col","py-2","px-3","border-b","border-b-neutral-gray-1","shrink-0",3,"click"],[1,"text-body-md-short","text-neutral-gray-6",3,"innerHtml"],[1,"text-body-sm","text-neutral-gray-4",3,"innerHtml"],[1,"flex","flex-col","justify-center","items-center","gap-y-5","flex-auto","pb-[168px]"],["src","assets/images/empty-result.svg",1,"w-16","h-16","object-contain"],[1,"flex","flex-col","gap-1","items-center","justify-start","shrink-0","relative"],[1,"text-neutral-gray-6-brandcolor","text-center","relative","text-heading-sm"],[1,"text-neutral-gray-5","text-center","relative","w-[257px]","text-body-md-long"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"cf-input-group",2)(3,"input",3,4),t.NdJ("ngModelChange",function(a){return i.data.currentSelected=a})("input",function(a){return i.searchChange(a)}),t.qZA(),t._UZ(5,"cf-icon",5),t.qZA(),t.TgZ(6,"cf-icon",6),t.NdJ("click",function(){return i.resetSearch()}),t.qZA()(),t.YNc(7,r,2,0,"div",7),t.YNc(8,M,2,7,"div",8),t.YNc(9,K,9,0,"div",9),t.qZA()),2&n&&(t.xp6(3),t.Q6J("ngModel",i.data.currentSelected),t.xp6(4),t.Q6J("ngIf",i.optionsDisplay.length>0),t.xp6(1),t.Q6J("ngIf",i.optionsDisplay.length>0),t.xp6(1),t.Q6J("ngIf",0===i.optionsDisplay.length))},dependencies:[y.ez,y.sg,y.O5,T.j$,T.ND,T.BN,B.AxE,B.Sm8,b.Rq,b.Ry,e.u5,e.Fj,e.JJ,e.On,g.T],encapsulation:2}),c})();var N=s(28490),x=s(9381);const O=["dateFrom"],I=["dateRange"],J=["startPoint"];function L(c,f){1&c&&t._UZ(0,"cf-hint",34),2&c&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m kh\u1edfi h\xe0nh")}function H(c,f){1&c&&t._UZ(0,"cf-hint",34),2&c&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m kh\u1edfi h\xe0nh")}function j(c,f){1&c&&t._UZ(0,"cf-hint",34),2&c&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m \u0111\u1ebfn")}function V(c,f){1&c&&t._UZ(0,"cf-hint",34),2&c&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m \u0111\u1ebfn")}function W(c,f){1&c&&t._UZ(0,"cf-input-hint",35),2&c&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh")}function q(c,f){1&c&&t._UZ(0,"cf-input-hint",35),2&c&&t.Q6J("hint","Ng\xe0y kh\u1edfi h\xe0nh ph\u1ea3i t\u1eeb ng\xe0y hi\u1ec7n t\u1ea1i tr\u1edf \u0111i")}function z(c,f){1&c&&t._UZ(0,"cf-input-hint",35),2&c&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function $(c,f){1&c&&t._UZ(0,"cf-input-hint",35),2&c&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh")}function X(c,f){1&c&&t._UZ(0,"cf-input-hint",35),2&c&&t.Q6J("hint","Ng\xe0y kh\u1edfi h\xe0nh ph\u1ea3i t\u1eeb ng\xe0y hi\u1ec7n t\u1ea1i tr\u1edf \u0111i")}function tt(c,f){1&c&&t._UZ(0,"cf-input-hint",35),2&c&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function et(c,f){if(1&c){const n=t.EpF();t.TgZ(0,"div",36)(1,"cf-field-group",37),t.NdJ("click",function(){t.CHM(n),t.oxw();const o=t.MAs(49),a=t.oxw(2);return t.KtG(a.oneWayDatePickerClick(o))}),t._UZ(2,"cf-icon",25),t.TgZ(3,"label",38),t._uU(4," Ng\xe0y kh\u1edfi h\xe0nh "),t.qZA(),t.TgZ(5,"input",39,40),t.NdJ("input",function(){t.CHM(n);const o=t.MAs(6);return t.KtG(o.close())})("dateSelect",function(){t.CHM(n);const o=t.MAs(6);return t.KtG(o.close())})("mousedown",function(o){t.CHM(n);const a=t.oxw(3);return t.KtG(a.roundTripFocus(o))}),t.qZA(),t.YNc(7,$,1,1,"cf-input-hint",28),t.YNc(8,X,1,1,"cf-input-hint",28),t.YNc(9,tt,1,1,"cf-input-hint",28),t.qZA()()}if(2&c){const n=t.oxw(2),i=n.$implicit,o=n.index,a=t.oxw();t.xp6(1),t.Q6J("valid",i.controls.departDate.valid)("status",i.controls.departDate.invalid&&(i.controls.departDate.dirty||i.controls.departDate.touched)?"error":"default"),t.xp6(4),t.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",a.multiMinDate[o])("formControl",i.controls.departDate),t.xp6(2),t.Q6J("ngIf",(null==i.controls.departDate.errors?null:i.controls.departDate.errors.required)&&(i.controls.departDate.dirty||i.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==i.controls.departDate.errors||null==i.controls.departDate.errors.ngbDate?null:i.controls.departDate.errors.ngbDate.minDate)&&(i.controls.departDate.dirty||i.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==i.controls.departDate.errors||null==i.controls.departDate.errors.ngbDate?null:i.controls.departDate.errors.ngbDate.invalid)&&(i.controls.departDate.dirty||i.controls.departDate.touched))}}function nt(c,f){if(1&c){const n=t.EpF();t.TgZ(0,"cf-icon",41),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2).index,a=t.oxw();return t.KtG(a.onRemoveRoute(o))}),t.qZA()}if(2&c){const n=t.oxw(2).first;t.ekj("invisible",n)("pointer-events-none",n)}}function it(c,f){if(1&c){const n=t.EpF();t.TgZ(0,"div",50),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(4),a=t.MAs(5);return t.KtG(o.openAirlineMinFareBts(a))}),t.TgZ(1,"div",51),t._uU(2,"Ch\u1ecdn h\xe3ng"),t.qZA(),t._UZ(3,"cf-icon",52),t.qZA()}}function ot(c,f){if(1&c){const n=t.EpF();t.TgZ(0,"div",50),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(4),a=t.MAs(7);return t.KtG(o.openConfigMinFareBts(a))}),t.TgZ(1,"div",51),t._uU(2,"T\xf9y ch\u1ec9nh"),t.qZA(),t._UZ(3,"cf-icon",52),t.qZA()}}function rt(c,f){if(1&c){const n=t.EpF();t.TgZ(0,"div",42)(1,"div",43),t.YNc(2,it,4,0,"div",44),t.YNc(3,ot,4,0,"div",44),t.qZA(),t.TgZ(4,"div",45)(5,"div",46),t.NdJ("scrolled",function(){t.CHM(n);const o=t.oxw(3);return t.KtG(o.scrollDown())}),t.TgZ(6,"cf-datepicker-inline",47),t.NdJ("dateSelect",function(o){t.CHM(n);const a=t.oxw(2).index,S=t.oxw();return t.KtG(S.dateSelectMobile(o,a))}),t.qZA()()(),t.TgZ(7,"div",48)(8,"button",49),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(3);return t.KtG(o.onMobileDatePickerOK())}),t._uU(9,"X\xe1c nh\u1eadn"),t.qZA()()()}if(2&c){const n=t.oxw(2).$implicit,i=t.oxw();t.xp6(2),t.Q6J("ngIf",i.minFareOptionConfig&&i.minFareOptionConfig.airlineMinPrice),t.xp6(1),t.Q6J("ngIf",i.minFareOptionConfig),t.xp6(2),t.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",2)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0)("infiniteScrollContainer",".ngb-dp-content"),t.xp6(1),t.Q6J("minDate",i.currentDate)("displayMonths",i.numOfMonth)("rangeSelection",!0)("secondaryCalendar","lunar")("formControl",n.controls.departDate)("footerOptionConfig",i.minFareOptionConfig)("fromDate",n.controls.departDate.value)("startDate",i.startDate)("displayMonthsOffset",0)}}const R=function(c){return[c]},Q=function(){return{"text-express-md":!0}};function ct(c,f){if(1&c){const n=t.EpF();t.ynx(0),t.TgZ(1,"cf-select",7,8),t.NdJ("selectedChange",function(o){t.CHM(n);const a=t.MAs(20),S=t.oxw(2);return S.startPointChange(o),t.KtG(S.nextPosition(a))}),t._UZ(3,"cf-icon",9),t.TgZ(4,"label",10),t._uU(5," \u0110i\u1ec3m kh\u1edfi h\xe0nh "),t.qZA(),t._UZ(6,"input",11,12),t.YNc(8,L,1,1,"cf-hint",13),t.qZA(),t.TgZ(9,"div",14),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.openAirportBottomSheet(o.controls.startPoint,o.controls.endPoint))}),t.TgZ(10,"cf-select",15),t._UZ(11,"cf-icon",9),t.TgZ(12,"label",10),t._uU(13," \u0110i\u1ec3m kh\u1edfi h\xe0nh "),t.qZA(),t._UZ(14,"input",16,12),t.YNc(16,H,1,1,"cf-hint",13),t.qZA()(),t.TgZ(17,"button",17),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.swapPoint(o.controls.startPoint,o.controls.endPoint))}),t._UZ(18,"cf-icon",18),t.qZA(),t.TgZ(19,"cf-select",19,20),t.NdJ("selectedChange",function(o){t.CHM(n);const a=t.oxw(2);return t.KtG(a.endPointChange(o))}),t._UZ(21,"cf-icon",9),t.TgZ(22,"label",21),t._uU(23," \u0110i\u1ec3m \u0111\u1ebfn "),t.qZA(),t._UZ(24,"input",22,12),t.YNc(26,j,1,1,"cf-hint",13),t.qZA(),t.TgZ(27,"div",14),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.openAirportBottomSheet(o.controls.endPoint,o.controls.startPoint))}),t.TgZ(28,"cf-select",15),t._UZ(29,"cf-icon",9),t.TgZ(30,"label",21),t._uU(31," \u0110i\u1ec3m \u0111\u1ebfn "),t.qZA(),t._UZ(32,"input",22,12),t.YNc(34,V,1,1,"cf-hint",13),t.qZA()(),t.TgZ(35,"div",23)(36,"cf-field-group",24),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.onFocusDate())}),t._UZ(37,"cf-icon",25),t.TgZ(38,"label",26),t._uU(39," Ng\xe0y kh\u1edfi h\xe0nh "),t.qZA(),t.TgZ(40,"input",27),t.NdJ("input",function(){t.CHM(n);const o=t.MAs(45);return t.KtG(o.close())})("mousedown",function(o){t.CHM(n);const a=t.oxw(2);return t.KtG(a.roundTripFocus(o))})("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.dateType="DEPART")}),t.qZA(),t.YNc(41,W,1,1,"cf-input-hint",28),t.YNc(42,q,1,1,"cf-input-hint",28),t.YNc(43,z,1,1,"cf-input-hint",28),t.qZA(),t.TgZ(44,"input",29,30),t.NdJ("navigate",function(o){t.CHM(n);const a=t.oxw(2);return t.KtG(a.onNavigateDatepicker(o))})("dateSelect",function(o){t.CHM(n);const a=t.MAs(45),S=t.oxw().$implicit;return t.oxw().onDepartDateSelection(o,S.controls.departDate),t.KtG(a.close())})("closed",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.dateRangePickerClose())}),t.qZA()(),t.YNc(46,et,10,9,"div",31),t.YNc(47,nt,1,4,"cf-icon",32),t.YNc(48,rt,10,18,"ng-template",null,33,t.W1O),t.BQk()}if(2&c){const n=t.oxw(),i=n.$implicit,o=n.index,a=t.oxw(),S=t.MAs(3);t.xp6(1),t.ekj("!grow-269",i.controls.returnDate),t.Q6J("maxHeight",230)("typeInput","FIELD")("status",i.controls.startPoint.invalid&&(i.controls.startPoint.dirty||i.controls.startPoint.touched)?"error":"default")("customSearch",a.positionSearchCustom)("excludes",a.excludesStartPoint||t.VKq(62,R,i.controls.endPoint.value))("formControl",i.controls.startPoint)("data",a.data)("optionTmp",S),t.xp6(3),t.Q6J("ngClass",t.DdM(64,Q)),t.xp6(4),t.Q6J("ngIf",(null==i.controls.startPoint.errors?null:i.controls.startPoint.errors.required)&&(i.controls.startPoint.dirty||i.controls.startPoint.touched)),t.xp6(2),t.ekj("!grow-269",i.controls.returnDate),t.Q6J("typeInput","FIELD")("status",i.controls.startPoint.invalid&&(i.controls.startPoint.dirty||i.controls.startPoint.touched)?"error":"default")("customSearch",a.positionSearchCustom)("excludes",t.VKq(65,R,i.controls.endPoint.value))("formControl",i.controls.startPoint)("data",a.data)("optionTmp",S),t.xp6(2),t.Q6J("ngClass",t.DdM(67,Q)),t.xp6(4),t.Q6J("ngIf",(null==i.controls.startPoint.errors?null:i.controls.startPoint.errors.required)&&(i.controls.startPoint.dirty||i.controls.startPoint.touched)),t.xp6(3),t.ekj("!grow-269",i.controls.returnDate),t.Q6J("maxHeight",230)("typeInput","FIELD")("status",i.controls.endPoint.invalid&&(i.controls.endPoint.dirty||i.controls.endPoint.touched)?"error":"default")("customSearch",a.positionSearchCustom)("excludes",a.excludesEndPoint||t.VKq(68,R,i.controls.startPoint.value))("formControl",i.controls.endPoint)("data",a.data)("optionTmp",S),t.xp6(3),t.Q6J("ngClass",t.DdM(70,Q)),t.xp6(4),t.Q6J("ngIf",(null==i.controls.endPoint.errors?null:i.controls.endPoint.errors.required)&&(i.controls.endPoint.dirty||i.controls.endPoint.touched)),t.xp6(2),t.ekj("!grow-269",i.controls.returnDate),t.Q6J("typeInput","FIELD")("status",i.controls.endPoint.invalid&&(i.controls.endPoint.dirty||i.controls.endPoint.touched)?"error":"default")("customSearch",a.positionSearchCustom)("excludes",t.VKq(71,R,i.controls.endPoint.value))("formControl",i.controls.endPoint)("data",a.data)("optionTmp",S),t.xp6(2),t.Q6J("ngClass",t.DdM(73,Q)),t.xp6(4),t.Q6J("ngIf",(null==i.controls.endPoint.errors?null:i.controls.endPoint.errors.required)&&(i.controls.endPoint.dirty||i.controls.endPoint.touched)),t.xp6(2),t.Q6J("valid",i.controls.departDate.valid)("status",i.controls.departDate.invalid&&(i.controls.departDate.dirty||i.controls.departDate.touched)?"error":"default"),t.xp6(4),t.Q6J("minDate",a.multiMinDate[o])("formControl",i.controls.departDate),t.xp6(1),t.Q6J("ngIf",(null==i.controls.departDate.errors?null:i.controls.departDate.errors.required)&&(i.controls.departDate.dirty||i.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==i.controls.departDate.errors||null==i.controls.departDate.errors.ngbDate?null:i.controls.departDate.errors.ngbDate.minDate)&&(i.controls.departDate.dirty||i.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==i.controls.departDate.errors||null==i.controls.departDate.errors.ngbDate?null:i.controls.departDate.errors.ngbDate.invalid)&&(i.controls.departDate.dirty||i.controls.departDate.touched)),t.xp6(1),t.Q6J("minDate",a.multiMinDate[o])("secondaryCalendar","lunar")("displayMonths",a.isMobile?1:2)("rangeSelection",!0)("fromDate",i.controls.departDate.value)("startDate",a.startDate)("containerWidth",a.isMobile?300:600),t.xp6(2),t.Q6J("ngIf",a.isMobile),t.xp6(1),t.Q6J("ngIf",a.formArray.length>2)}}function at(c,f){1&c&&t._UZ(0,"cf-hint",34),2&c&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m kh\u1edfi h\xe0nh")}function lt(c,f){1&c&&t._UZ(0,"cf-hint",34),2&c&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m kh\u1edfi h\xe0nh")}function st(c,f){1&c&&t._UZ(0,"cf-hint",34),2&c&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m \u0111\u1ebfn")}function ut(c,f){1&c&&t._UZ(0,"cf-hint",34),2&c&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m \u0111\u1ebfn")}function _t(c,f){1&c&&t._UZ(0,"cf-input-hint",35),2&c&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh")}function pt(c,f){1&c&&t._UZ(0,"cf-input-hint",35),2&c&&t.Q6J("hint","Ng\xe0y kh\u1edfi h\xe0nh ph\u1ea3i t\u1eeb ng\xe0y hi\u1ec7n t\u1ea1i tr\u1edf \u0111i")}function dt(c,f){1&c&&t._UZ(0,"cf-input-hint",35),2&c&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function ht(c,f){1&c&&t._UZ(0,"cf-input-hint",35),2&c&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y v\u1ec1")}function mt(c,f){1&c&&t._UZ(0,"cf-input-hint",35),2&c&&t.Q6J("hint","Ng\xe0y v\u1ec1 ph\u1ea3i l\u1edbn h\u01a1n ng\xe0y \u0111i")}function gt(c,f){1&c&&t._UZ(0,"cf-input-hint",35),2&c&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function ft(c,f){if(1&c){const n=t.EpF();t.TgZ(0,"div",50),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(4),a=t.MAs(5);return t.KtG(o.openAirlineMinFareBts(a))}),t.TgZ(1,"div",51),t._uU(2,"Ch\u1ecdn h\xe3ng"),t.qZA(),t._UZ(3,"cf-icon",52),t.qZA()}}function Ct(c,f){if(1&c){const n=t.EpF();t.TgZ(0,"div",50),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(4),a=t.MAs(7);return t.KtG(o.openConfigMinFareBts(a))}),t.TgZ(1,"div",51),t._uU(2,"T\xf9y ch\u1ec9nh"),t.qZA(),t._UZ(3,"cf-icon",52),t.qZA()}}function xt(c,f){1&c&&t._UZ(0,"cf-input-hint",35),2&c&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh")}function vt(c,f){1&c&&t._UZ(0,"cf-input-hint",35),2&c&&t.Q6J("hint","Ng\xe0y kh\u1edfi h\xe0nh ph\u1ea3i t\u1eeb ng\xe0y hi\u1ec7n t\u1ea1i tr\u1edf \u0111i")}function Dt(c,f){1&c&&t._UZ(0,"cf-input-hint",35),2&c&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function yt(c,f){1&c&&t._UZ(0,"cf-input-hint",35),2&c&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y v\u1ec1")}function Tt(c,f){1&c&&t._UZ(0,"cf-input-hint",35),2&c&&t.Q6J("hint","Ng\xe0y v\u1ec1 ph\u1ea3i l\u1edbn h\u01a1n ng\xe0y \u0111i")}function Et(c,f){1&c&&t._UZ(0,"cf-input-hint",35),2&c&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function bt(c,f){if(1&c){const n=t.EpF();t.TgZ(0,"div",68)(1,"div",43),t.YNc(2,ft,4,0,"div",44),t.YNc(3,Ct,4,0,"div",44),t.qZA(),t.TgZ(4,"div",69)(5,"cf-input-group",70)(6,"input",71),t.NdJ("ngModelChange",function(o){t.CHM(n);const a=t.oxw(2).$implicit,S=t.oxw();return t.KtG(S.fromDateChange(o,a.controls.returnDate))}),t.qZA(),t.YNc(7,xt,1,1,"cf-input-hint",28),t.YNc(8,vt,1,1,"cf-input-hint",28),t.YNc(9,Dt,1,1,"cf-input-hint",28),t.qZA(),t.TgZ(10,"div",72),t._uU(11,"~"),t.qZA(),t.TgZ(12,"cf-input-group",70)(13,"input",73),t.NdJ("ngModelChange",function(o){t.CHM(n);const a=t.oxw(2).$implicit,S=t.oxw();return t.KtG(S.toDateChange(o,a.controls.departDate))}),t.qZA(),t.YNc(14,yt,1,1,"cf-input-hint",28),t.YNc(15,Tt,1,1,"cf-input-hint",28),t.YNc(16,Et,1,1,"cf-input-hint",28),t.qZA()(),t.TgZ(17,"div",45)(18,"div",46),t.NdJ("scrolled",function(){t.CHM(n);const o=t.oxw(3);return t.KtG(o.scrollDown())}),t.TgZ(19,"cf-datepicker-inline",74),t.NdJ("dateSelect",function(o){t.CHM(n);const a=t.oxw(2).$implicit,S=t.oxw();return t.KtG(S.onMobileDateSelection(o,a.controls.departDate,a.controls.returnDate))}),t.qZA()()(),t.TgZ(20,"div",48)(21,"button",49),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(3);return t.KtG(o.onMobileDatePickerOK())}),t._uU(22," X\xe1c nh\u1eadn "),t.qZA()()()}if(2&c){const n=t.oxw(2).$implicit,i=t.oxw();t.xp6(2),t.Q6J("ngIf",i.minFareOptionConfig&&i.minFareOptionConfig.airlineMinPrice),t.xp6(1),t.Q6J("ngIf",i.minFareOptionConfig),t.xp6(2),t.Q6J("status",n.controls.departDate.invalid&&(n.controls.departDate.dirty||n.controls.departDate.touched)?"error":"default"),t.xp6(1),t.Q6J("minDate",i.currentDate)("formControl",n.controls.departDate),t.xp6(1),t.Q6J("ngIf",(null==n.controls.departDate.errors?null:n.controls.departDate.errors.required)&&(n.controls.departDate.dirty||n.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==n.controls.departDate.errors||null==n.controls.departDate.errors.ngbDate?null:n.controls.departDate.errors.ngbDate.minDate)&&(n.controls.departDate.dirty||n.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==n.controls.departDate.errors||null==n.controls.departDate.errors.ngbDate?null:n.controls.departDate.errors.ngbDate.invalid)&&(n.controls.departDate.dirty||n.controls.departDate.touched)),t.xp6(3),t.Q6J("status",n.controls.returnDate.invalid&&(n.controls.returnDate.dirty||n.controls.returnDate.touched)?"error":"default"),t.xp6(1),t.Q6J("minDate",i.minToDate)("formControl",n.controls.returnDate),t.xp6(1),t.Q6J("ngIf",(null==n.controls.returnDate.errors?null:n.controls.returnDate.errors.required)&&(n.controls.returnDate.dirty||n.controls.returnDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==n.controls.returnDate.errors||null==n.controls.returnDate.errors.ngbDate?null:n.controls.returnDate.errors.ngbDate.minDate)&&(n.controls.returnDate.dirty||n.controls.returnDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==n.controls.returnDate.errors||null==n.controls.returnDate.errors.ngbDate?null:n.controls.returnDate.errors.ngbDate.invalid)&&(n.controls.returnDate.dirty||n.controls.returnDate.touched)),t.xp6(2),t.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",2)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0)("infiniteScrollContainer",".ngb-dp-content"),t.xp6(1),t.Q6J("minDate",i.currentDate)("displayMonths",i.numOfMonth)("rangeSelection",!0)("secondaryCalendar","lunar")("footerOptionConfig",i.minFareOptionConfig)("fromDate",n.controls.departDate.value)("startDate",i.startDate)("toDate",n.controls.returnDate.value)("displayMonthsOffset",0)}}function St(c,f){if(1&c){const n=t.EpF();t.ynx(0),t.TgZ(1,"cf-select",53,8),t.NdJ("selectedChange",function(o){t.CHM(n);const a=t.MAs(20),S=t.oxw(2);return S.startPointChange(o),t.KtG(S.nextPosition(a))}),t._UZ(3,"cf-icon",9),t.TgZ(4,"label",10),t._uU(5," \u0110i\u1ec3m kh\u1edfi h\xe0nh "),t.qZA(),t._UZ(6,"input",16,12),t.YNc(8,at,1,1,"cf-hint",13),t.qZA(),t.TgZ(9,"div",54),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.openAirportBottomSheet(o.controls.startPoint,o.controls.endPoint))}),t.TgZ(10,"cf-select",55),t._UZ(11,"cf-icon",9),t.TgZ(12,"label",10),t._uU(13," \u0110i\u1ec3m kh\u1edfi h\xe0nh "),t.qZA(),t._UZ(14,"input",16,12),t.YNc(16,lt,1,1,"cf-hint",13),t.qZA()(),t.TgZ(17,"button",56),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.swapPoint(o.controls.startPoint,o.controls.endPoint))}),t._UZ(18,"cf-icon",18),t.qZA(),t.TgZ(19,"cf-select",57,20),t.NdJ("selectedChange",function(o){t.CHM(n);const a=t.oxw(2);return t.KtG(a.endPointChange(o))}),t._UZ(21,"cf-icon",9),t.TgZ(22,"label",21),t._uU(23," \u0110i\u1ec3m \u0111\u1ebfn "),t.qZA(),t._UZ(24,"input",22,12),t.YNc(26,st,1,1,"cf-hint",13),t.qZA(),t.TgZ(27,"div",54),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit,a=t.oxw();return t.KtG(a.openAirportBottomSheet(o.controls.endPoint,o.controls.startPoint))}),t.TgZ(28,"cf-select",58),t._UZ(29,"cf-icon",9),t.TgZ(30,"label",21),t._uU(31," \u0110i\u1ec3m \u0111\u1ebfn "),t.qZA(),t._UZ(32,"input",22,12),t.YNc(34,ut,1,1,"cf-hint",13),t.qZA()(),t.TgZ(35,"div",59)(36,"cf-field-group",60),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.onFocusDate())}),t._UZ(37,"cf-icon",25),t.TgZ(38,"label",61),t._uU(39," Ng\xe0y kh\u1edfi h\xe0nh "),t.qZA(),t.TgZ(40,"input",62),t.NdJ("input",function(){t.CHM(n);const o=t.MAs(45);return t.KtG(o.close())})("mousedown",function(o){t.CHM(n);const a=t.oxw(2);return t.KtG(a.roundTripFocus(o))})("ngModelChange",function(o){t.CHM(n);const a=t.oxw().$implicit,S=t.oxw();return t.KtG(S.fromDateChange(o,a.controls.returnDate))})("click",function(){t.CHM(n);const o=t.MAs(45),a=t.MAs(55),S=t.oxw().$implicit,F=t.oxw();return F.dateType="DEPART",t.KtG(F.roundTripDatePickerClick(o,a,S.controls.departDate))}),t.qZA(),t.YNc(41,_t,1,1,"cf-input-hint",28),t.YNc(42,pt,1,1,"cf-input-hint",28),t.YNc(43,dt,1,1,"cf-input-hint",28),t.qZA(),t.TgZ(44,"input",63,30),t.NdJ("reset",function(){t.CHM(n);const o=t.MAs(45),a=t.oxw().$implicit,S=t.oxw();return t.KtG(S.resetRangeDate(a.controls.departDate,a.controls.returnDate,o))})("dateSelect",function(o){t.CHM(n);const a=t.MAs(45),S=t.oxw().$implicit,F=t.oxw();return t.KtG(F.onDateSelection(o,S.controls.departDate,S.controls.returnDate,a))})("navigate",function(o){t.CHM(n);const a=t.oxw(2);return t.KtG(a.onNavigateDatepicker(o))})("closed",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.dateRangePickerClose())}),t.qZA(),t.TgZ(46,"cf-field-group",64),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(2);return t.KtG(o.onFocusDate())}),t._UZ(47,"cf-icon",25),t.TgZ(48,"label",65),t._uU(49," Ng\xe0y v\u1ec1 "),t.qZA(),t.TgZ(50,"input",66),t.NdJ("input",function(){t.CHM(n);const o=t.MAs(45);return t.KtG(o.close())})("mousedown",function(o){t.CHM(n);const a=t.oxw(2);return t.KtG(a.roundTripFocus(o))})("ngModelChange",function(o){t.CHM(n);const a=t.oxw().$implicit,S=t.oxw();return t.KtG(S.toDateChange(o,a.controls.departDate))})("click",function(){t.CHM(n);const o=t.MAs(45),a=t.MAs(55),S=t.oxw().$implicit,F=t.oxw();return F.dateType="ARRIVE",t.KtG(F.roundTripDatePickerClick(o,a,S.controls.departDate))}),t.qZA(),t.YNc(51,ht,1,1,"cf-input-hint",28),t.YNc(52,mt,1,1,"cf-input-hint",28),t.YNc(53,gt,1,1,"cf-input-hint",28),t.qZA(),t.YNc(54,bt,23,30,"ng-template",null,67,t.W1O),t.qZA(),t.BQk()}if(2&c){const n=t.oxw().$implicit,i=t.oxw(),o=t.MAs(3);t.xp6(1),t.ekj("!grow-269",n.controls.returnDate),t.Q6J("maxHeight",230)("typeInput","FIELD")("status",n.controls.startPoint.invalid&&(n.controls.startPoint.dirty||n.controls.startPoint.touched)?"error":"default")("customSearch",i.positionSearchCustom)("excludes",i.excludesStartPoint||t.VKq(69,R,n.controls.endPoint.value))("formControl",n.controls.startPoint)("data",i.data)("optionTmp",o),t.xp6(3),t.Q6J("ngClass",t.DdM(71,Q)),t.xp6(4),t.Q6J("ngIf",(null==n.controls.startPoint.errors?null:n.controls.startPoint.errors.required)&&(n.controls.startPoint.dirty||n.controls.startPoint.touched)),t.xp6(2),t.ekj("!grow-269",n.controls.returnDate),t.Q6J("typeInput","FIELD")("status",n.controls.startPoint.invalid&&(n.controls.startPoint.dirty||n.controls.startPoint.touched)?"error":"default")("customSearch",i.positionSearchCustom)("excludes",t.VKq(72,R,n.controls.endPoint.value))("formControl",n.controls.startPoint)("data",i.data)("optionTmp",o),t.xp6(2),t.Q6J("ngClass",t.DdM(74,Q)),t.xp6(4),t.Q6J("ngIf",(null==n.controls.startPoint.errors?null:n.controls.startPoint.errors.required)&&(n.controls.startPoint.dirty||n.controls.startPoint.touched)),t.xp6(3),t.ekj("!grow-269",n.controls.returnDate),t.Q6J("maxHeight",230)("typeInput","FIELD")("status",n.controls.endPoint.invalid&&(n.controls.endPoint.dirty||n.controls.endPoint.touched)?"error":"default")("customSearch",i.positionSearchCustom)("excludes",i.excludesEndPoint||t.VKq(75,R,n.controls.startPoint.value))("formControl",n.controls.endPoint)("data",i.data)("optionTmp",o),t.xp6(3),t.Q6J("ngClass",t.DdM(77,Q)),t.xp6(4),t.Q6J("ngIf",(null==n.controls.endPoint.errors?null:n.controls.endPoint.errors.required)&&(n.controls.endPoint.dirty||n.controls.endPoint.touched)),t.xp6(2),t.ekj("!grow-269",n.controls.returnDate),t.Q6J("typeInput","FIELD")("status",n.controls.endPoint.invalid&&(n.controls.endPoint.dirty||n.controls.endPoint.touched)?"error":"default")("customSearch",i.positionSearchCustom)("excludes",t.VKq(78,R,n.controls.endPoint.value))("formControl",n.controls.endPoint)("data",i.data)("optionTmp",o),t.xp6(2),t.Q6J("ngClass",t.DdM(80,Q)),t.xp6(4),t.Q6J("ngIf",(null==n.controls.endPoint.errors?null:n.controls.endPoint.errors.required)&&(n.controls.endPoint.dirty||n.controls.endPoint.touched)),t.xp6(2),t.Q6J("valid",n.value.departDate)("status",n.controls.departDate.invalid&&(n.controls.departDate.dirty||n.controls.departDate.touched)?"error":"default"),t.xp6(4),t.Q6J("minDate",i.currentDate)("formControl",n.controls.departDate),t.xp6(1),t.Q6J("ngIf",(null==n.controls.departDate.errors?null:n.controls.departDate.errors.required)&&(n.controls.departDate.dirty||n.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==n.controls.departDate.errors||null==n.controls.departDate.errors.ngbDate?null:n.controls.departDate.errors.ngbDate.minDate)&&(n.controls.departDate.dirty||n.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==n.controls.departDate.errors||null==n.controls.departDate.errors.ngbDate?null:n.controls.departDate.errors.ngbDate.invalid)&&(n.controls.departDate.dirty||n.controls.departDate.touched)),t.xp6(1),t.Q6J("minDate",i.currentDate)("footerOptionConfig",i.minFareOptionConfig)("secondaryCalendar","lunar")("displayMonths",i.isMobile?1:2)("rangeSelection",!0)("fromDate",n.controls.departDate.value)("startDate",i.startDate)("containerWidth",i.isMobile?300:600)("toDate",n.controls.returnDate.value),t.xp6(2),t.Q6J("valid",n.value.returnDate)("status",n.controls.returnDate.invalid&&(n.controls.returnDate.dirty||n.controls.returnDate.touched)?"error":"default"),t.xp6(4),t.Q6J("minDate",i.minToDate)("formControl",n.controls.returnDate),t.xp6(1),t.Q6J("ngIf",(null==n.controls.returnDate.errors?null:n.controls.returnDate.errors.required)&&(n.controls.returnDate.dirty||n.controls.returnDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==n.controls.returnDate.errors||null==n.controls.returnDate.errors.ngbDate?null:n.controls.returnDate.errors.ngbDate.minDate)&&(n.controls.returnDate.dirty||n.controls.returnDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==n.controls.returnDate.errors||null==n.controls.returnDate.errors.ngbDate?null:n.controls.returnDate.errors.ngbDate.invalid)&&(n.controls.returnDate.dirty||n.controls.returnDate.touched))}}function At(c,f){if(1&c&&(t.TgZ(0,"div")(1,"div",5),t.YNc(2,ct,50,74,"ng-container",6),t.YNc(3,St,56,81,"ng-container",6),t.qZA()()),2&c){const n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.type===n.FLIGHT_TYPE_SEARCH.OneWay),t.xp6(1),t.Q6J("ngIf",n.type===n.FLIGHT_TYPE_SEARCH.RoundTrip)}}function Ot(c,f){if(1&c&&(t.TgZ(0,"div",75),t._UZ(1,"div",76),t.ALo(2,"highlighter"),t._UZ(3,"div",77),t.ALo(4,"highlighter"),t.qZA()),2&c){const n=f.item,i=f.search;t.xp6(1),t.Q6J("innerHtml",t.xi3(2,2,n.CityName+", "+n.Title,i.text),t.oJD),t.xp6(2),t.Q6J("innerHtml",t.xi3(4,5,n.Code+" - "+n.AirportName,i.text),t.oJD)}}function Bt(c,f){if(1&c){const n=t.EpF();t.TgZ(0,"div")(1,"cf-checkbox",84),t.NdJ("checkChange",function(o){const S=t.CHM(n).$implicit,F=t.oxw(2);return t.KtG(F.onToggleAirline(S,o))}),t.TgZ(2,"span"),t._uU(3),t.qZA()()()}if(2&c){const n=f.$implicit;t.xp6(1),t.Q6J("checked",n.selected),t.xp6(1),t.Udp("color",n.color),t.xp6(1),t.Oqu(n.airline)}}function Mt(c,f){if(1&c){const n=t.EpF();t.TgZ(0,"div",78)(1,"div",79)(2,"div",80),t._uU(3,"Gi\xe1 th\u1ea5p nh\u1ea5t t\u1eeb c\xe1c h\xe3ng"),t.qZA(),t.TgZ(4,"div",81),t.YNc(5,Bt,4,4,"div",1),t.qZA()(),t.TgZ(6,"div",82)(7,"button",83),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.confirmAirlineMinFare())}),t._uU(8," X\xe1c nh\u1eadn "),t.qZA()()()}if(2&c){const n=t.oxw();t.xp6(5),t.Q6J("ngForOf",n.minFareOptionConfig.airlineMinPrice)}}function Pt(c,f){if(1&c){const n=t.EpF();t.TgZ(0,"div",78)(1,"div",79)(2,"div",80),t._uU(3,"T\xf9y ch\u1ec9nh hi\u1ec3n th\u1ecb"),t.qZA(),t.TgZ(4,"div",81)(5,"cf-checkbox",84),t.NdJ("checkChange",function(o){t.CHM(n);const a=t.oxw();return t.KtG(a.onToggleMinPrice(o))}),t._uU(6," Gi\xe1 r\u1ebb "),t.qZA(),t.TgZ(7,"cf-checkbox",84),t.NdJ("checkChange",function(o){t.CHM(n);const a=t.oxw();return t.KtG(a.onToggleLunarDate(o))}),t._uU(8," L\u1ecbch \xe2m "),t.qZA()()(),t.TgZ(9,"div",82)(10,"button",83),t.NdJ("click",function(){t.CHM(n);const o=t.oxw();return t.KtG(o.confirmConfigMinFare())}),t._uU(11," X\xe1c nh\u1eadn "),t.qZA()()()}if(2&c){const n=t.oxw();t.xp6(5),t.Q6J("checked",n.minFareOptionConfig.showMinPrice),t.xp6(2),t.Q6J("checked",n.minFareOptionConfig.showLunarDate)}}let It=(()=>{class c{constructor(n,i,o,a,S,F){this.calendar=n,this.changeDetectorRef=i,this._locationDataService=o,this._bottomSheetService=a,this._mobileDetectService=S,this.cfIconRegister=F,this.FLIGHT_TYPE_SEARCH=h.VB,this.removeRoute=new t.vpe,this.dataChange=new t.vpe,this.toggleAirline=new t.vpe,this.navigateDatepicker=new t.vpe,this.dateTypeChange=new t.vpe,this.data=[],this.isShowErrorDateRange=!1,this.multiMinDate=[],this.isMobile=matchMedia("(max-width: 768px)").matches,this.dateType="",this.hasMinFare=!0,this.positionSearchCustom=(G,kt)=>{const Zt=this.removeAccents(G.Code.toLowerCase()),wt=this.removeAccents(G.Title.toLowerCase()),Nt=this.removeAccents(G.CityName.toLowerCase()),Ft=this.removeAccents(G.AirportName.toLowerCase()),Y=this.removeAccents(kt.toLowerCase());return Zt.includes(Y)||wt.includes(Y)||Nt.includes(Y)||Ft.includes(Y)},this.numOfMonth=4,this.currentDate=n.getToday(),F.registerIcons([B.UNF,B.okA,B._tC,B.Ffn,B.wvd]),this.data=o.getAllOption()}ngOnChanges(n){this.hasMinFare=this.minFareOptionConfig&&this.minFareOptionConfig.minPrice.size>0}ngOnInit(){this.initMinDates()}startPointChange(n){this.excludesEndPoint=[n.Code]}endPointChange(n){this.excludesStartPoint=[n.Code],this.isMobile||this.nextDate(this.dateRange)}roundTripDatePickerClick(n,i,o){this._mobileDetectService.mobileSubject.value?(this.roundTripDatePickerBts=this._bottomSheetService.open(i,{headerTitle:"T\xf9y ch\u1ec9nh th\u1eddi gian",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",containerFullHeigh:!0}),this.roundTripDatePickerBts.containerInstance._leftButtonClick.subscribe(a=>this.roundTripDatePickerBts.dismiss())):(this.currentDate=(0,p.jy)("ARRIVE"===this.dateType&&o.value?o.value:new Date),setTimeout(()=>{n.navigateTo(this.currentDate)}),n.open())}oneWayDatePickerClick(n){this._mobileDetectService.mobileSubject.value&&(this.oneWayDatePickerBts=this._bottomSheetService.open(n,{headerTitle:"T\xf9y ch\u1ec9nh th\u1eddi gian",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",containerFullHeigh:!0}),this.oneWayDatePickerBts.containerInstance._leftButtonClick.subscribe(i=>this.oneWayDatePickerBts.dismiss()))}onFocusDate(){this.isMobile||this.nextDate(this.dateRange)}roundTripFocus(n){if(this.isMobile)return n.preventDefault(),!1}initMinDates(){this.formArray.controls.forEach(()=>{this.multiMinDate.push(this.calendar.getToday())})}nextPosition(n){setTimeout(()=>{n.selectFocus(),this.dataChange.emit()})}nextDate(n){n.focusTrigger(),this.dataChange.emit()}nextPositionRow(n){const i=this.startPoints.get(n+1);i&&setTimeout(()=>{i.onFocus()}),this.dataChange.emit()}calulateMinDate(n){let i=new Date;for(let o=n-1;o>=0;o--){const a=this.formArray.at(o).controls.departDate.value;if(a){i=a;break}}i&&(this.multiMinDate[n]=new p.Ao(i.getFullYear(),i.getMonth()+1,i.getDate()),this.changeDetectorRef.detectChanges())}onRemoveRoute(n){this.removeRoute.emit(n)}onDepartDateSelection(n,i){i.setValue(n),this.dataChange.emit()}onDateSelection(n,i,o,a){i.value||o.value?i.value&&!o.value&&n&&n.getTime()>=i.value.getTime()?(o.setValue(n),a.close(),this.startDate=i.value):i.value&&o.value&&n&&n.getTime()>=i.value.getTime()?"DEPART"===this.dateType?(i.setValue(n),this.currentDate=(0,p.jy)(i.value),this.dateType="ARRIVE"):(o.setValue(n),a.close()):(i.setValue(n),this.dateType="ARRIVE",this.currentDate=(0,p.jy)(i.value)):(i.setValue(n),this.currentDate=(0,p.jy)(i.value),this.dateType="ARRIVE"),this.dateTypeChange.emit(this.dateType)}onToDateSelection(n,i,o){o.fromDate=n.value,o.toDate=i.value,o.open()}dateRangePickerClose(){this.isShowErrorDateRange=!0}dateSelect(n,i){for(let o=i;o<this.formArray.length-1;o++){const a=this.formArray.at(o+1).controls.departDate.value;a&&n.getTime()>a.getTime()&&(this.formArray.at(o+1).controls.departDate.setValue(new Date(n.getTime()+864e5)),n=new Date(n.getTime()+864e5))}}onNavigateDatepicker(n){this.navigateDatepicker.emit(v(new Date(n.next.year,n.next.month)).add(2,"month").startOf("month").format("YYYY-MM-DD"))}dateSelectMobile(n,i){this.formArray.at(i).controls.departDate.setValue(n);for(let o=i;o<this.formArray.length-1;o++){const a=this.formArray.at(o+1).controls.departDate.value;a&&n.getTime()>a.getTime()&&(this.formArray.at(o+1).controls.departDate.setValue(new Date(n.getTime()+864e5)),n=new Date(n.getTime()+864e5))}}fromDateChange(n,i){"string"!=typeof n&&(n?(this.minToDate=new p.Ao(n.getFullYear(),n.getMonth()+1,n.getDate()),i.hasValidator(e.kI.required)&&i.removeValidators(e.kI.required),i.value&&n.getTime()>=i.value.getTime()&&i.setValue(null)):i.hasValidator(e.kI.required)||i.addValidators(e.kI.required),i.updateValueAndValidity({onlySelf:!0}),this.dataChange.emit())}toDateChange(n,i){i.hasValidator(e.kI.required)||i.addValidators(e.kI.required),i.updateValueAndValidity(),this.dataChange.emit()}resetDate(n){n.setValue("")}resetRangeDate(n,i,o){n.setValue(""),i.setValue(""),this.currentDate=(0,p.jy)(new Date),setTimeout(()=>{o.navigateTo(this.currentDate)})}swapPoint(n,i){if(""!=n.value&&""!=i.value){const o=n.value;n.setValue(i.value),i.setValue(o),this.changeDetectorRef.detectChanges()}}removeAccents(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D")}focusFirstStartPoint(){const n=this.startPoints.get(0);n&&setTimeout(()=>{n.inputElement.nativeElement.focus(),n.selectFocus()}),this.dataChange.emit()}openAirportBottomSheet(n,i){const o=this._bottomSheetService.open(E,{headerTitle:"Chuy\u1ebfn bay c\u1ee7a b\u1ea1n",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",containerFullHeigh:!0,data:{airportOptions:this.data,currentSelected:this._locationDataService.getCityNameByCode(n.value),excludes:[i.value]}});o.containerInstance._leftButtonClick.subscribe(a=>{o.dismiss()}),o.afterDismissed().subscribe(a=>{a&&(n.setValue(a.Code),this.dataChange.emit())})}scrollDown(){this.numOfMonth=this.numOfMonth+4;const n=v(new Date).add(this.numOfMonth,"month").startOf("month").format("YYYY-MM-DD");this.navigateDatepicker.emit(n)}onMobileDateSelection(n,i,o){i.value||o.value?i.value&&!o.value&&n&&n.getTime()>=i.value.getTime()?(o.setValue(n),this.startDate=new Date):(o.setValue(null),i.setValue(n)):i.setValue(n)}onMobileDatePickerOK(){this.dataChange.emit(),this.oneWayDatePickerBts&&this.oneWayDatePickerBts.dismiss(),this.roundTripDatePickerBts&&this.roundTripDatePickerBts.dismiss()}openAirlineMinFareBts(n){this._mobileDetectService.isMobile()&&(this.airlineMinFareBtsRef=this._bottomSheetService.open(n,{headerTitle:"Ch\u1ecdn h\xe3ng",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:""}),this.airlineMinFareBtsRef.containerInstance._leftButtonClick.subscribe(i=>this.airlineMinFareBtsRef.dismiss()))}openConfigMinFareBts(n){this._mobileDetectService.isMobile()&&(this.configMinFareBtsRef=this._bottomSheetService.open(n,{headerTitle:"T\xf9y ch\u1ec9nh",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:""}),this.configMinFareBtsRef.containerInstance._leftButtonClick.subscribe(i=>this.configMinFareBtsRef.dismiss()))}confirmAirlineMinFare(){this.airlineMinFareBtsRef&&this.airlineMinFareBtsRef.dismiss()}confirmConfigMinFare(){this.configMinFareBtsRef&&this.configMinFareBtsRef.dismiss()}onToggleMinPrice(n){this.minFareOptionConfig.showMinPrice=n,this.minFareOptionConfig=Object.assign({},this.minFareOptionConfig)}onToggleLunarDate(n){this.minFareOptionConfig.showLunarDate=n,this.minFareOptionConfig=Object.assign({},this.minFareOptionConfig)}onToggleAirline(n,i){n.selected=i,this.toggleAirline.emit(!0)}}return c.\u0275fac=function(n){return new(n||c)(t.Y36(p.jH),t.Y36(t.sBO),t.Y36(N._),t.Y36(u.a2),t.Y36(x.L),t.Y36(B.KNP))},c.\u0275cmp=t.Xpm({type:c,selectors:[["btc-search-input"]],viewQuery:function(n,i){if(1&n&&(t.Gf(O,5),t.Gf(I,5),t.Gf(J,5)),2&n){let o;t.iGM(o=t.CRH())&&(i.dateFrom=o.first),t.iGM(o=t.CRH())&&(i.dateRange=o.first),t.iGM(o=t.CRH())&&(i.startPoints=o)}},inputs:{formArray:"formArray",minFareOptionConfig:"minFareOptionConfig",type:"type"},outputs:{removeRoute:"removeRoute",dataChange:"dataChange",toggleAirline:"toggleAirline",navigateDatepicker:"navigateDatepicker",dateTypeChange:"dateTypeChange"},standalone:!0,features:[t.TTD,t.jDz],decls:8,vars:1,consts:[[1,"flex","flex-col","gap-y-2"],[4,"ngFor","ngForOf"],["optionTemplate",""],["airlineMinFareBts",""],["configMinFareBts",""],[1,"flex","items-start","gap-x-2","md:flex-wrap","md:gap-x-0","md:gap-y-4","md:flex-col","md:relative"],[4,"ngIf"],["textField","AirportDisplay","valueField","Code",1,"grow-[293]","!w-full","!max-w-none","md:flex-grow-0","md:w-[calc(50%-12px)]","md:hidden",3,"maxHeight","typeInput","status","customSearch","excludes","formControl","data","optionTmp","selectedChange"],["startPoint",""],["cf-head-icon","","icon","plane","size","medium",1,"text-neutral-gray-4"],["cf-label","","for","startPoint",1,"text-body-sm","text-neutral-gray-4","cursor-text",3,"ngClass"],["type","text","id","startPoint","type","text","size","medium","autocomplete","off","cf-field","",1,"text-neutral-gray-6","placeholder-neutral-gray-6","text-express-md","placeholder:text-express-md"],["cfInputElement",""],["cf-hint","",3,"hint",4,"ngIf"],[1,"grow-[293]","!max-w-none","md:flex-grow-0","md:w-[calc(50%-12px)]","hidden","md:block","!w-full",3,"click"],["textField","AirportDisplay","valueField","Code",1,"pointer-events-none","!w-full","!max-w-full",3,"typeInput","status","customSearch","excludes","formControl","data","optionTmp"],["type","text","id","startPoint","type","text","size","medium","autocomplete","off","cf-field","",1,"!p-0","placeholder-neutral-gray-6","placeholder:text-express-md"],["cf-button","","size","medium","type","secondary",1,"rounded-full","md:absolute","md:right-[10px]","flex","items-center","justify-center","!w-10","!h-10","md:bottom-[57%]","md:!bg-neutral-white","mt-2","md:m-0",3,"click"],["icon","switch","size","small",1,"text-primary-1-4","md:rotate-90"],["textField","AirportDisplay","valueField","Code",1,"grow-[293]","w-full","!max-w-none","md:flex-grow-0","md:hidden",3,"maxHeight","typeInput","status","customSearch","excludes","formControl","data","optionTmp","selectedChange"],["endPoint",""],["cf-label","","for","endPoint",1,"text-body-sm","text-neutral-gray-4","cursor-text",3,"ngClass"],["type","text","id","endPoint","type","text","size","medium","autocomplete","off","cf-field","",1,"!p-0","placeholder-neutral-gray-6","placeholder:text-express-md"],[1,"w-full","flex","md:hidden"],[1,"grow-[293]","!max-w-none","md:flex-grow-0","md:w-full","w-[calc(50%-12px)]",3,"valid","status","click"],["cfHeadIcon","","icon","calendar","size","medium",1,"text-neutral-gray-4"],["cfLabel","","for","departDate",1,"text-express-md","text-neutral-gray-4","cursor-text"],["id","departDate","cfDatepickerViewer","","type","text","size","medium","cf-input","","autocomplete","off",1,"!p-0",3,"minDate","formControl","input","mousedown","click"],["cfHint","",3,"hint",4,"ngIf"],["type","text","outsideDays","hidden","cfDatepicker","",1,"w-0","m-0","mr-2","bottom-0","md:h-0",3,"minDate","secondaryCalendar","displayMonths","rangeSelection","fromDate","startDate","containerWidth","navigate","dateSelect","closed"],["dateRange","cfDatepicker"],["class","w-full",4,"ngIf"],["icon","close","size","small","class","mt-3 cursor-pointer",3,"invisible","pointer-events-none","click",4,"ngIf"],["oneWayDatepickerBottomSheet",""],["cf-hint","",3,"hint"],["cfHint","",3,"hint"],[1,"w-full"],[1,"grow-[293]","md:flex-grow-0","w-full",3,"valid","status","click"],["cfLabel","",1,"text-express-md","text-neutral-gray-4","cursor-text"],["type","text","size","medium","cf-input","","autocomplete","off","cfDatepicker","",1,"!p-0",3,"secondaryCalendar","displayMonths","minDate","formControl","input","dateSelect","mousedown"],["dateFrom","cfDatepicker"],["icon","close","size","small",1,"mt-3","cursor-pointer",3,"click"],[1,"flex","w-full","flex-col","justify-between","h-full"],[1,"pt-4","px-4","flex","items-center","gap-x-2"],["class","flex gap-x-1.5 items-center border border-neutral-gray-3 rounded-full px-4 py-[5px]",3,"click",4,"ngIf"],[1,"grow","overflow-y-hidden","flex","pb-12"],["infinite-scroll","",1,"w-full","flex",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","scrollWindow","fromRoot","alwaysCallback","infiniteScrollContainer","scrolled"],["outsideDays","hidden","navigation","none","direction","vertical",1,"",3,"minDate","displayMonths","rangeSelection","secondaryCalendar","formControl","footerOptionConfig","fromDate","startDate","displayMonthsOffset","dateSelect"],[1,"p-4","fixed","bottom-0","w-full","right-0","bg-neutral-white"],["cf-button","",1,"justify-center","w-full",3,"click"],[1,"flex","gap-x-1.5","items-center","border","border-neutral-gray-3","rounded-full","px-4","py-[5px]",3,"click"],[1,"text-body-md","whitespace-nowrap"],["icon","down","size","small",1,"text-neutral-gray-5"],["textField","AirportDisplay","valueField","Code","placeholder","\u0110i\u1ec3m kh\u1edfi h\xe0nh",1,"grow-[293]","!max-w-none","md:flex-grow-0","w-[calc(50%-12px)]","md:hidden",3,"maxHeight","typeInput","status","customSearch","excludes","formControl","data","optionTmp","selectedChange"],[1,"grow-[293]","!max-w-none","md:flex-grow-0","hidden","md:block","md:w-full",3,"click"],["textField","AirportDisplay","valueField","Code","placeholder","\u0110i\u1ec3m kh\u1edfi h\xe0nh",1,"pointer-events-none","md:w-full","md:max-w-full",3,"typeInput","status","customSearch","excludes","formControl","data","optionTmp"],["cf-button","","size","medium","type","secondary",1,"rounded-full","md:absolute","md:right-[10px]","md:top-[45px]","md:!bg-neutral-white","mt-2","md:m-0","flex","items-center","justify-center","!w-10","!h-10",3,"click"],["textField","AirportDisplay","valueField","Code","placeholder","\u0110i\u1ec3m \u0111\u1ebfn",1,"grow-[293]","!max-w-none","md:flex-grow-0","w-[calc(50%-12px)]","md:hidden",3,"maxHeight","typeInput","status","customSearch","excludes","formControl","data","optionTmp","selectedChange"],["textField","AirportDisplay","valueField","Code","placeholder","\u0110i\u1ec3m \u0111\u1ebfn",1,"pointer-events-none","md:w-full","md:max-w-full",3,"typeInput","status","customSearch","excludes","formControl","data","optionTmp"],[1,"flex","w-full","md:flex-col"],[1,"grow","w-[calc(50%-12px)]","md:w-full","md:mb-4",3,"valid","status","click"],["cfLabel","","for","departDate",1,"text-express-md","text-neutral-gray-4","cursor-text","whitespace-nowrap"],["id","departDate","cfDatepickerViewer","","type","text","size","medium","cf-input","","autocomplete","off",1,"!p-0",3,"minDate","formControl","input","mousedown","ngModelChange","click"],["type","text","outsideDays","hidden","cfDatepicker","",1,"w-0","m-0","mr-2","bottom-0","md:h-0",3,"minDate","footerOptionConfig","secondaryCalendar","displayMonths","rangeSelection","fromDate","startDate","containerWidth","toDate","reset","dateSelect","navigate","closed"],[1,"grow","w-[calc(50%-12px)]","md:w-full",3,"valid","status","click"],["cfLabel","","for","returnDate",1,"text-express-md","text-neutral-gray-4","cursor-text","whitespace-nowrap"],["id","returnDate","autocomplete","off","cfDatepickerViewer","","type","text","size","medium","cf-input","",1,"!p-0",3,"minDate","formControl","input","mousedown","ngModelChange","click"],["roundTripDatepickerBottomSheet",""],[1,"flex","w-full","flex-col","justify-between","h-[100vh]"],[1,"flex","justify-between","items-center","p-4"],[1,"grow","!w-auto",3,"status"],["cfDatepickerViewer","","type","text","size","medium","cf-input","","placeholder","Ng\xe0y kh\u1edfi h\xe0nh","autocomplete","off",1,"py-[7px]",3,"minDate","formControl","ngModelChange"],[1,"text-body-md-short","text-neutral-gray-6","px-2"],["autocomplete","off","cfDatepickerViewer","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y v\u1ec1",1,"py-[7px]",3,"minDate","formControl","ngModelChange"],["outsideDays","hidden","navigation","none","direction","vertical",1,"",3,"minDate","displayMonths","rangeSelection","secondaryCalendar","footerOptionConfig","fromDate","startDate","toDate","displayMonthsOffset","dateSelect"],[1,"flex","flex-col"],[1,"text-body-md-short","text-neutral-gray-6",3,"innerHtml"],[1,"text-body-sm","text-neutral-gray-4",3,"innerHtml"],[1,"flex","flex-col","gap-y-2","w-full"],[1,"flex","flex-col","gap-y-1","pt-4","px-4"],[1,"text-body-md","text-neutral-gray-6"],[1,"flex","items-center","gap-x-6"],[1,"p-4"],["cf-button","","size","medium","color","primary-1",1,"justify-center","w-full",3,"click"],["size","medium",3,"checked","checkChange"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0),t.YNc(1,At,4,2,"div",1),t.qZA(),t.YNc(2,Ot,5,8,"ng-template",null,2,t.W1O),t.YNc(4,Mt,9,1,"ng-template",null,3,t.W1O),t.YNc(6,Pt,12,2,"ng-template",null,4,t.W1O)),2&n&&(t.xp6(1),t.Q6J("ngForOf",i.formArray.controls))},dependencies:[w.q,A.N8,A.Xq,T.j$,T.ND,T.BN,T.v2,P.C,B.AxE,B.Sm8,e.u5,e.Fj,e.JJ,e.UX,e.oH,p.Cs,p.hI,Z.m,y.ax,y.O5,y.mk,b.Rq,b.Ry,p._o,g.T,D.u],styles:["[_nghost-%COMP%]{display:block}"]}),c})()},82692:(U,k,s)=>{s.d(k,{T:()=>p});var y=s(36895),t=s(94650),e=s(24006),A=s(19123),D=s(64070);let p=(()=>{class P{constructor(){this.typeSearchChange=new t.vpe}set flightType(B){switch(B){case D.VB.OneWay:this._flightType="ONE_WAY";break;case D.VB.RoundTrip:this._flightType="ROUND_TRIP";break;case D.VB.MultiWay:this._flightType="MULTI_WAY"}}flightTypeChange(B){switch(B){case"ONE_WAY":this.typeSearchChange.emit(D.VB.OneWay);break;case"ROUND_TRIP":this.typeSearchChange.emit(D.VB.RoundTrip);break;case"MULTI_WAY":this.typeSearchChange.emit(D.VB.MultiWay)}}}return P.\u0275fac=function(B){return new(B||P)},P.\u0275cmp=t.Xpm({type:P,selectors:[["btc-type-search"]],inputs:{flightType:"flightType"},outputs:{typeSearchChange:"typeSearchChange"},standalone:!0,features:[t.jDz],decls:11,vars:19,consts:[[1,"flex","items-center","gap-x-8","md:hidden",3,"ngModel","checkChange"],["size","medium",3,"value"],[1,"items-center","gap-x-1.5","hidden","md:flex"],[1,"flex","justify-around","w-full","gap-x-4"],[1,"px-4","py-1.5","rounded-full","text-body-md-short","text-neutral-gray-4","border","border-transparent","w-1/2","flex","justify-center",3,"click"]],template:function(B,T){1&B&&(t.TgZ(0,"cf-radio-group",0),t.NdJ("checkChange",function(h){return T.flightTypeChange(h)}),t.TgZ(1,"cf-radio",1),t._uU(2,"M\u1ed9t chi\u1ec1u"),t.qZA(),t.TgZ(3,"cf-radio",1),t._uU(4,"Kh\u1ee9 h\u1ed3i"),t.qZA()(),t.TgZ(5,"div",2)(6,"div",3)(7,"div",4),t.NdJ("click",function(){return T.flightTypeChange("ONE_WAY")}),t._uU(8," M\u1ed9t chi\u1ec1u "),t.qZA(),t.TgZ(9,"div",4),t.NdJ("click",function(){return T.flightTypeChange("ROUND_TRIP")}),t._uU(10," Kh\u1ee9 h\u1ed3i "),t.qZA()()()),2&B&&(t.Q6J("ngModel",T._flightType),t.xp6(1),t.Q6J("value","ONE_WAY"),t.xp6(2),t.Q6J("value","ROUND_TRIP"),t.xp6(4),t.ekj("text-secondary-3-4","ONE_WAY"===T._flightType)("!border-secondary-3-4","ONE_WAY"===T._flightType)("bg-secondary-3-1","ONE_WAY"===T._flightType)("!text-espressive-md-short","ONE_WAY"===T._flightType),t.xp6(2),t.ekj("text-secondary-3-4","ROUND_TRIP"===T._flightType)("!border-secondary-3-4","ROUND_TRIP"===T._flightType)("bg-secondary-3-1","ROUND_TRIP"===T._flightType)("!text-espressive-md-short","ROUND_TRIP"===T._flightType))},dependencies:[A.o,A.T,e.u5,e.JJ,e.On,y.ez],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),P})()},53819:(U,k,s)=>{s.d(k,{W:()=>K});var y=s(36895),t=s(94650),e=s(24006),A=s(83700),D=s(72506),p=s(74891),P=s(74713),Z=s(62331),B=s(24513),T=s(88605),w=s(98184),h=s(37094),g=s(9381);const v=["voucher"];function b(E,N){1&E&&t._UZ(0,"cf-icon",12)}function u(E,N){if(1&E&&(t.TgZ(0,"div",13),t._uU(1),t.qZA()),2&E){const x=t.oxw();t.xp6(1),t.hij(" ",x.promotionApplyCount," ")}}function d(E,N){if(1&E){const x=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"cf-select",21),t.NdJ("ngModelChange",function(I){const L=t.CHM(x).$implicit;return t.KtG(L.selectedCode=I)})("ngModelChange",function(){t.CHM(x);const I=t.oxw(2);return t.KtG(I.onCodeChanges())})("selectedChange",function(I){const L=t.CHM(x).$implicit,H=t.oxw(2);return t.KtG(H.onPromotionChange(I,L))}),t.TgZ(3,"div",22),t._UZ(4,"img",23),t._uU(5),t.qZA()()()()}if(2&E){const x=N.$implicit;t.xp6(2),t.Q6J("ngModel",x.selectedCode)("allowCustomText",!0)("data",x.items)("allowClear",!0),t.xp6(2),t.Q6J("src",x.airlineLogo,t.LSH),t.xp6(1),t.hij(" ",x.airline," ")}}function _(E,N){if(1&E&&(t.TgZ(0,"div",14)(1,"div",15)(2,"div",16),t._uU(3,"M\xe3 khuy\u1ebfn m\xe3i"),t.qZA(),t.TgZ(4,"div",17),t.YNc(5,d,6,6,"div",18),t.qZA()()()),2&E){const x=t.oxw();t.xp6(5),t.Q6J("ngForOf",x.promotionGroupList)}}function l(E,N){if(1&E&&(t.TgZ(0,"div"),t._uU(1,"Ch\xfac m\u1eebng, "),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t._uU(4," \u0111\xe3 \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng cho b\u1ea1n!"),t.qZA()),2&E){const x=t.oxw(2);t.xp6(3),t.hij("",x.promotionApplyCount," m\xe3 khuy\u1ebfn m\xe3i")}}function r(E,N){1&E&&(t.TgZ(0,"div"),t._uU(1,"\u{1f525} Nh\u1eadp khuy\u1ebfn m\xe3i \u0111\u1ec3 \u0111\u01b0\u1ee3c gi\u1ea3m gi\xe1"),t.qZA())}function m(E,N){if(1&E&&(t.YNc(0,l,5,1,"div",24),t.YNc(1,r,2,0,"div",24)),2&E){const x=t.oxw();t.Q6J("ngIf",x.promotionApplyCount>0),t.xp6(1),t.Q6J("ngIf",0===x.promotionApplyCount)}}const C=function(E){return{"animated-button1":E}},M=function(E){return{"text-secondary-6-4":E}};let K=(()=>{class E{constructor(x,O,I,J){this._toastService=x,this._viewportRuler=O,this.bottomSheetService=I,this.mobileDetectService=J,this.isShowTooltipFirstTime=!1,this.promotionChange=new t.vpe,this.isOpen=!1,this.promotionApplyCount=0,this.isMobile=matchMedia("(max-width: 768px)").matches,this.isDirty=!1}ngAfterViewInit(){setTimeout(()=>{this.promotionApplyCount=this.promotionGroupList.filter(x=>""!=x.selectedCode).length})}ngOnChanges(x){x.promotionGroupList&&!x.promotionGroupList.firstChange&&this.reloadTooltip()}click(x,O){this.mobileDetectService.isMobile()?this.openBottomSheet(O):this.isOpen=!this.isOpen,x.stopPropagation(),this.isDirty=!0}reloadTooltip(x=!0){const O=this.promotionGroupList.filter(I=>""!=I.selectedCode).length;O>0?(this.promotionApplyCount=O,this.promotionApplyCount>0&&x&&(!this.isShowTooltipFirstTime&&this.isMobile||this.isShowTooltipFirstTime&&!this.isMobile)&&this._toastService.add({severity:"success",summary:"\xc1p d\u1ee5ng M\xe3 KM th\xe0nh c\xf4ng",detail:`${this.promotionApplyCount} m\xe3 khuy\u1ebfn m\xe3i \u0111\xe3 \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng cho b\u1ea1n!`,sticky:!1,contentStyleClass:"!p-3"})):this.promotionApplyCount=0}outsideClick(x){this.isOpen=!1}onPromotionChange(x,O){x&&"GMBR"===x.code.substr(0,4)&&10===x.code.length?0===O.items.map(I=>I.code).filter(I=>I===x.code).length&&(O.items.push({code:x.code,description:x.description,isSystemPromotion:!1}),this.reloadTooltip()):(O.selectedCode="",this.reloadTooltip(!1)),this.promotionChange.emit(this.promotionGroupList)}onCodeChanges(){console.log(this.promotionGroupList)}openBottomSheet(x){this.bottomSheetService.open(x,{headerTitle:"Khuy\u1ebfn m\xe3i",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",containerFullHeigh:!0}).containerInstance._rightButtonClick.subscribe(()=>this.bottomSheetService.dismiss())}}return E.\u0275fac=function(x){return new(x||E)(t.Y36(Z.BX),t.Y36(T.rL),t.Y36(h.a2),t.Y36(g.L))},E.\u0275cmp=t.Xpm({type:E,selectors:[["btc-voucher-selector"]],viewQuery:function(x,O){if(1&x&&t.Gf(v,5,B.Lk),2&x){let I;t.iGM(I=t.CRH())&&(O.voucher=I.first)}},inputs:{promotionGroupList:"promotionGroupList",isShowTooltipFirstTime:"isShowTooltipFirstTime"},outputs:{promotionChange:"promotionChange"},standalone:!0,features:[t.TTD,t.jDz],decls:22,vars:23,consts:[["tabIndex","-1","cdkOverlayOrigin","",1,"cursor-pointer",3,"manualHandle","placement","color","cfTooltip","ngClass","click"],["voucher","","trigger","","originOverlay","cdkOverlayOrigin"],[1,"flex","items-center","gap-x-2","py-[5px]","px-3.5","md:hidden",3,"ngClass"],["icon","coupon","size","small",4,"ngIf"],["class","flex items-center rounded justify-center w-4 h-4 text-espressive-xs bg-secondary-6-4 text-neutral-white",4,"ngIf"],[1,"text-body-md",3,"ngClass"],[1,"gap-x-1.5","items-center","px-4","py-[5px]","hidden","md:flex"],[1,"text-body-md","whitespace-nowrap",3,"ngClass"],["icon","down","size","small",3,"ngClass"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","overlayOutsideClick"],["bottomSheet",""],["toolTipTemplate",""],["icon","coupon","size","small"],[1,"flex","items-center","rounded","justify-center","w-4","h-4","text-espressive-xs","bg-secondary-6-4","text-neutral-white"],[1,"p-4","shadow-cf-lg","w-[280px]","bg-neutral-white","rounded","md:w-full","md:pt-1"],[1,"flex-col","justify-start","items-center","rounded"],[1,"text-heading-sm","text-neutral-black","md:hidden"],[1,"flex","flex-col","pt-4","gap-y-2","md:gap-y-3"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"flex","items-center"],[1,"flex","items-center","gap-x-2","md:w-full"],["textField","description","valueField","code","size","small","placeholder","Nh\u1eadp m\xe3",1,"select-promotion","md:max-w-none","md:w-full",3,"ngModel","allowCustomText","data","allowClear","ngModelChange","selectedChange"],["cfPrefix","",1,"min-w-[112px]","py-2.5","px-3","text-body-md","flex","gap-x-2","items-center","border-r","border-neutral-gray-2"],[1,"w-8","h-5","object-contain","shrink-0",3,"src"],[4,"ngIf"]],template:function(x,O){if(1&x){const I=t.EpF();t.TgZ(0,"div",0,1),t.NdJ("click",function(L){t.CHM(I);const H=t.MAs(18);return t.KtG(O.click(L,H))}),t._UZ(4,"span")(5,"span")(6,"span")(7,"span"),t.TgZ(8,"div",2),t.YNc(9,b,1,0,"cf-icon",3),t.YNc(10,u,2,1,"div",4),t.TgZ(11,"div",5),t._uU(12,"M\xe3 khuy\u1ebfn m\xe3i"),t.qZA()(),t.TgZ(13,"div",6)(14,"div",7),t._uU(15," Khuy\u1ebfn m\xe3i"),t.qZA(),t._UZ(16,"cf-icon",8),t.qZA()(),t.YNc(17,_,6,1,"ng-template",9,10,t.W1O),t.NdJ("overlayOutsideClick",function(L){return O.outsideClick(L)}),t.YNc(19,m,2,2,"ng-template",null,11,t.W1O),t._UZ(21,"cf-toast")}if(2&x){const I=t.MAs(3),J=t.MAs(20);t.Q6J("manualHandle",!0)("placement","topRight")("color","black")("cfTooltip",J)("ngClass",t.VKq(13,C,!O.promotionApplyCount&&!O.isDirty)),t.xp6(8),t.Q6J("ngClass",t.VKq(15,M,!O.promotionApplyCount&&!O.isDirty)),t.xp6(1),t.Q6J("ngIf",0===O.promotionApplyCount),t.xp6(1),t.Q6J("ngIf",O.promotionApplyCount>0),t.xp6(1),t.Q6J("ngClass",t.VKq(17,M,!O.promotionApplyCount&&!O.isDirty)),t.xp6(3),t.Q6J("ngClass",t.VKq(19,M,!O.promotionApplyCount&&!O.isDirty)),t.xp6(2),t.Q6J("ngClass",t.VKq(21,M,!O.promotionApplyCount&&!O.isDirty)),t.xp6(1),t.Q6J("cdkConnectedOverlayOrigin",I)("cdkConnectedOverlayOpen",O.isOpen)}},dependencies:[y.ez,y.mk,y.sg,y.O5,D.AxE,D.Sm8,p.f,w.pI,w.xu,P.q,e.u5,e.JJ,e.On,B.Lk,Z.hj,A.N8],styles:['[_nghost-%COMP%]{display:block}.animated-button[_ngcontent-%COMP%]{background:white;padding:20px 40px;margin:12px;display:inline-block;transform:translate(0);overflow:hidden;color:#d4e0f7;font-size:20px;letter-spacing:2.5px;text-align:center;text-transform:uppercase;text-decoration:none;box-shadow:0 20px 50px #00000080}.animated-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0px;left:0px;width:100%;height:100%;background-color:#8592ad;opacity:0;transition:.2s opacity ease-in-out}.animated-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute}.animated-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){top:0px;left:0px;width:100%;height:2px;background:linear-gradient(to left,rgba(8,20,43,0),#2662d9);animation:2s _ngcontent-%COMP%_animateTop linear infinite}.animated-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){top:0px;right:0px;height:100%;width:2px;background:linear-gradient(to top,rgba(8,20,43,0),#2662d9);animation:2s _ngcontent-%COMP%_animateRight linear -1s infinite}.animated-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){bottom:0px;left:0px;width:100%;height:2px;background:linear-gradient(to right,rgba(8,20,43,0),#2662d9);animation:2s _ngcontent-%COMP%_animateBottom linear infinite}.animated-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){top:0px;left:0px;height:100%;width:2px;background:linear-gradient(to bottom,rgba(8,20,43,0),#2662d9);animation:2s _ngcontent-%COMP%_animateLeft linear -1s infinite}.animated-button1[_ngcontent-%COMP%]{background:white;margin:12px;display:inline-block;transform:translate(0);overflow:hidden;color:#f7d4d4;font-size:20px;letter-spacing:2.5px;text-align:center;text-transform:uppercase;text-decoration:none}.animated-button1[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0px;left:0px;width:100%;height:100%;background-color:#fff;opacity:0;transition:.2s opacity ease-in-out}.animated-button1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute}.animated-button1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){top:0px;left:0px;width:100%;height:2px;background:linear-gradient(to left,rgba(43,8,8,0),#d92626);animation:2s _ngcontent-%COMP%_animateTop linear infinite}@keyframes _ngcontent-%COMP%_animateTop{0%{transform:translate(100%)}to{transform:translate(-100%)}}.animated-button1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){top:0px;right:0px;height:100%;width:2px;background:linear-gradient(to top,rgba(43,8,8,0),#d92626);animation:2s _ngcontent-%COMP%_animateRight linear -1s infinite}@keyframes _ngcontent-%COMP%_animateRight{0%{transform:translateY(100%)}to{transform:translateY(-100%)}}.animated-button1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){bottom:0px;left:0px;width:100%;height:2px;background:linear-gradient(to right,rgba(43,8,8,0),#d92626);animation:2s _ngcontent-%COMP%_animateBottom linear infinite}@keyframes _ngcontent-%COMP%_animateBottom{0%{transform:translate(-100%)}to{transform:translate(100%)}}.animated-button1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){top:0px;left:0px;height:100%;width:2px;background:linear-gradient(to bottom,rgba(43,8,8,0),#d92626);animation:2s _ngcontent-%COMP%_animateLeft linear -1s infinite}@keyframes _ngcontent-%COMP%_animateLeft{0%{transform:translateY(-100%)}to{transform:translateY(100%)}}']}),E})()},80429:(U,k,s)=>{s.d(k,{q:()=>t});var y=s(94650);let t=(()=>{class e{transform(D,p,...P){return p(D,...P)}}return e.\u0275fac=function(D){return new(D||e)},e.\u0275pipe=y.Yjl({name:"mapper",type:e,pure:!0,standalone:!0}),e})()}}]);