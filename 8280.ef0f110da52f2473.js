"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[8280],{49195:(w,Z,g)=>{g.d(Z,{t:()=>s});var l=g(53820);const s={[l.b.CREATE]:{name:"\u0110ang canh v\xe9",description:"Canh v\xe9 r\u1ebb \u0111ang ho\u1ea1t \u0111\u1ed9ng t\u1ef1 \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[l.b.IN_PROCESS]:{name:"\u0110ang canh v\xe9",description:"Canh v\xe9 r\u1ebb \u0111ang ho\u1ea1t \u0111\u1ed9ng t\u1ef1 \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[l.b.COMPLETED]:{name:"\u0110\xe3 canh th\xe0nh c\xf4ng",description:"\u0110\xe3 canh \u0111\u01b0\u1ee3c gi\xe1 v\xe9 r\u1ebb",icon:"check",backgroundColor:"bg-[#07A35D]",textColor:"text-neutral-white"},[l.b.IN_PROCESS_PRICE_UP]:{name:"\u0110ang canh gi\xe1 t\u0103ng",description:"Gi\xe1 v\xe9 \u0111\xe3 t\u0103ng, vui l\xf2ng c\xe2n nh\u1eafc xu\u1ea5t v\xe9",icon:"arrow_right_up",backgroundColor:"bg-[#ffd1bc]",textColor:"text-primary-1-4"},[l.b.CANCEL]:{name:"\u0110\xe3 h\u1ee7y",description:"\u0110\xe3 h\u1ee7y y\xeau c\u1ea7u canh v\xe9",icon:"delete",backgroundColor:"bg-[#999999]",textColor:"text-neutral-white"},[l.b.EXPIRED]:{name:"\u0110\xe3 h\u1ebft h\u1ea1n",description:"H\u1ebft h\u1ea1n canh v\xe9",icon:"clock",backgroundColor:"bg-[#CCCCCC]",textColor:"text-neutral-gray-6"}}},53820:(w,Z,g)=>{g.d(Z,{b:()=>l});var l=(()=>{return(s=l||(l={})).CREATE="CREATE",s.IN_PROCESS="IN_PROCESS",s.IN_PROCESS_PRICE_UP="IN_PROCESS_PRICE_UP",s.COMPLETED="COMPLETED",s.EXPIRED="EXPIRED",s.CANCEL="CANCEL",l;var s})()},97380:(w,Z,g)=>{g.d(Z,{D5:()=>I,VP:()=>R,_r:()=>k,v_:()=>U,xj:()=>v,yI:()=>T});var l=g(97582),s=g(87067),A=g(43429),y=g(53820),P=g(49195);let v=(()=>{class c{}return(0,l.gn)([(0,s.C)()],c.prototype,"status",void 0),(0,l.gn)([(0,A.D)(()=>o),(0,s.C)()],c.prototype,"data",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"objectError",void 0),c})(),o=(()=>{class c{}return(0,l.gn)([(0,A.D)(()=>R),(0,s.C)()],c.prototype,"listOrder",void 0),(0,l.gn)([(0,A.D)(()=>S),(0,s.C)()],c.prototype,"orderTaskStatus",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"pageOffset",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"pageSize",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"total",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"empty",void 0),c})(),S=(()=>{class c{}return(0,l.gn)([(0,s.C)()],c.prototype,"completeTask",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"inProcessTask",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"maxTask",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"numMaxFree",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"numOrderFree",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"ownerId",void 0),c})(),R=(()=>{class c{get stateDisplay(){switch(this.state){case y.b.CREATE:return P.t[y.b.CREATE].name;case y.b.IN_PROCESS:return P.t[y.b.IN_PROCESS].name;case y.b.COMPLETED:return P.t[y.b.COMPLETED].name;case y.b.CANCEL:return P.t[y.b.CANCEL].name;case y.b.EXPIRED:return P.t[y.b.EXPIRED].name;case y.b.IN_PROCESS_PRICE_UP:return P.t[y.b.IN_PROCESS_PRICE_UP].name;default:return""}}}return(0,l.gn)([(0,s.C)()],c.prototype,"orderId",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"canUpdate",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"code",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"state",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"monitorType",void 0),(0,l.gn)([(0,A.D)(()=>k),(0,s.C)()],c.prototype,"ticketInfo",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"orderInfo",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"fareInfo",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"ownerInfo",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"userActionInfo",void 0),(0,l.gn)([(0,A.D)(()=>U),(0,s.C)()],c.prototype,"availableSlotInfo",void 0),c})(),k=(()=>{class c{}return(0,l.gn)([(0,s.C)()],c.prototype,"leg",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"airline",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"flightType",void 0),(0,l.gn)([(0,A.D)(()=>I),(0,s.C)()],c.prototype,"journeys",void 0),(0,l.gn)([(0,A.D)(()=>T),(0,s.C)()],c.prototype,"passengers",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"totalFare",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"originalPrice",void 0),c})(),I=(()=>{class c{}return(0,l.gn)([(0,s.C)()],c.prototype,"leg",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"startPoint",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"endPoint",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"departTime",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"arrivalTime",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"duration",void 0),(0,l.gn)([(0,A.D)(()=>F),(0,s.C)()],c.prototype,"segments",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"rangeTime",void 0),c})(),F=(()=>{class c{}return(0,l.gn)([(0,s.C)()],c.prototype,"startPoint",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"endPoint",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"flightNumber",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"fareBasic",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"fareClass",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"departTime",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"departZone",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"arriveTime",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"arriveZone",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"index",void 0),c})(),T=(()=>{class c{}return(0,l.gn)([(0,s.C)()],c.prototype,"birthday",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"firstName",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"lastName",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"type",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"index",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"parentIndex",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"key",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"parentKey",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"namePrefix",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"gender",void 0),c})(),U=(()=>{class c{}return(0,l.gn)([(0,s.C)()],c.prototype,"amountPerPax",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"currency",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"free",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"percent",void 0),(0,l.gn)([(0,s.C)()],c.prototype,"type",void 0),c})()},80751:(w,Z,g)=>{g.d(Z,{A:()=>l});const l=s=>{switch(s){case"MALE":return"MR";case"FEMALE":return"MS";default:return""}}},97218:(w,Z,g)=>{g.d(Z,{X:()=>c});var l=g(36895),s=g(37094),A=g(83700),y=g(27898),P=g(72506),v=g(44143),o=g(94650),S=g(97579);function R(E,x){if(1&E){const p=o.EpF();o.TgZ(0,"button",17),o.NdJ("click",function(){o.CHM(p);const O=o.oxw().$implicit,b=o.oxw();return o.KtG(b.onFareTypeExpand(O))}),o._uU(1," Xem th\xeam "),o._UZ(2,"cf-icon",18),o.qZA()}}function k(E,x){if(1&E){const p=o.EpF();o.TgZ(0,"button",17),o.NdJ("click",function(){o.CHM(p);const O=o.oxw().$implicit,b=o.oxw();return o.KtG(b.onFareTypeColab(O))}),o._uU(1," \u1ea8n b\u1edbt "),o._UZ(2,"cf-icon",19),o.qZA()}}const I=function(E){return{"bg-[#FCB40A] text-neutral-white":E}};function F(E,x){if(1&E){const p=o.EpF();o.TgZ(0,"div",22),o.NdJ("click",function(){const b=o.CHM(p).$implicit,D=o.oxw(2).$implicit,B=o.oxw();return o.KtG(B.onToggleFareSelected(D,b))}),o._uU(1),o.qZA()}if(2&E){const p=x.$implicit;o.Q6J("ngClass",o.VKq(2,I,p.isActive)),o.xp6(1),o.hij(" ",p.name," ")}}function T(E,x){if(1&E&&(o.TgZ(0,"div",20),o.YNc(1,F,2,4,"div",21),o.qZA()),2&E){const p=o.oxw().$implicit;o.xp6(1),o.Q6J("ngForOf",p.fareClass)}}function U(E,x){if(1&E){const p=o.EpF();o.TgZ(0,"div")(1,"div",12)(2,"cf-checkbox",5),o.NdJ("checkChange",function(O){const D=o.CHM(p).$implicit,B=o.oxw();return o.KtG(B.onFareTypeSelectedChange(O,D))}),o.TgZ(3,"div",13),o._uU(4),o.TgZ(5,"span",14),o._uU(6),o.qZA()()(),o.YNc(7,R,3,0,"button",15),o.YNc(8,k,3,0,"button",15),o.qZA(),o.YNc(9,T,2,1,"div",16),o.qZA()}if(2&E){const p=x.$implicit;o.xp6(2),o.Q6J("checked",p.isActive),o.xp6(2),o.hij(" ",p.name," "),o.xp6(2),o.AsE("(",p.fareTypeSelected||0,"/",p.totalFareType,")"),o.xp6(1),o.Q6J("ngIf",!p.isExpand),o.xp6(1),o.Q6J("ngIf",p.isExpand),o.xp6(1),o.Q6J("ngIf",p.isExpand)}}let c=(()=>{class E{constructor(p,m,O){this.ref=p,this.bottomSheetRef=m,this.bottomSheetData=O,this.listFareTypeOptions=[],this.listFareTypeOptionsSource=[],p&&(this.listFareTypeOptionsSource=p.data.listFareTypeOptions,this.selectedAll=p.data.selectedAll,this.listFareTypeOptions=Object.assign({},p.data.listFareTypeOptionsSource)),O&&(this.listFareTypeOptionsSource=O.listFareTypeOptions,this.selectedAll=O.selectedAll),this.listFareTypeOptions=this.listFareTypeOptionsSource.map(b=>Object.assign(Object.assign({},b),{fareClass:b.fareClass.map(D=>Object.assign({},D))}))}reset(){this.listFareTypeOptions=this.listFareTypeOptionsSource.map(p=>Object.assign(Object.assign({},p),{isActive:!1,isAllFareClass:!1,fareTypeSelected:0,fareClass:p.fareClass.map(m=>Object.assign(Object.assign({},m),{isActive:!1}))})),this.selectedAll=!1}close(){this.ref&&this.ref.close(this.listFareTypeOptionsSource),this.bottomSheetData&&this.bottomSheetRef.dismiss(this.listFareTypeOptionsSource)}submit(){this.listFareTypeOptionsSource=this.listFareTypeOptions,this.ref&&this.ref.close(this.listFareTypeOptionsSource),this.bottomSheetData&&this.bottomSheetRef.dismiss(this.listFareTypeOptionsSource)}onSelectAllChange(p){this.listFareTypeOptions.forEach(m=>{m.isActive=p,m.isAllFareClass=p,m.fareClass.forEach(O=>{O.isActive=p})}),this.computeFareSelected()}onFareTypeSelectedChange(p,m){if(m.isActive=p,m.isAllFareClass=p,m.fareClass.forEach(O=>O.isActive=p),p){const O=this.listFareTypeOptions.every(b=>b.isActive);this.selectedAll=O}else this.selectedAll=!1;this.computeFareSelected()}onToggleFareSelected(p,m){m.isActive=!m.isActive;const O=p.fareClass.every(D=>D.isActive);p.isActive=p.fareClass.some(D=>D.isActive),p.isAllFareClass=O;const b=this.listFareTypeOptions.every(D=>D.isActive);this.selectedAll=b,this.computeFareSelected()}computeFareSelected(){this.listFareTypeOptions.forEach(p=>{p.fareTypeSelected=p.fareClass.filter(m=>m.isActive).length})}onFareTypeExpand(p){this.listFareTypeOptions.forEach(m=>{m.isExpand=m.code===p.code})}onFareTypeColab(p){p.isExpand=!1}}return E.\u0275fac=function(p){return new(p||E)(o.Y36(S.gb,8),o.Y36(s.Zu,8),o.Y36(s.Rr,8))},E.\u0275cmp=o.Xpm({type:E,selectors:[["lowfare-option-modal"]],standalone:!0,features:[o.jDz],decls:20,vars:2,consts:[[1,"w-[700px]","max-h-[600px]","overflow-hidden","rounded-lg","bg-neutral-white","flex","flex-col","md:w-screen","md:max-h-none","md:h-full","md:justify-between","md:rounded-none"],[1,"flex","justify-between","items-center","px-6","py-[13px]","md:hidden"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"px-6","py-[13px]","border-b","border-neutral-gray-1"],["size","medium",3,"checked","checkChange"],[1,"w-full","h-full","flex-1","overflow-auto","flex","flex-col"],[4,"ngFor","ngForOf"],[1,"w-full","p-6","flex","justify-end","gap-x-2","md:justify-between"],["cf-button","","size","medium","type","secondary",1,"justify-center","md:w-full",3,"click"],["cf-button","","size","medium","type","secondary",1,"justify-center","hidden","md:flex","md:w-full",3,"click"],["cf-button","","size","medium","color","primary-1",1,"justify-center","md:w-full",3,"click"],[1,"w-full","flex","justify-between","py-4","px-6"],[1,"text-body-md-long"],[1,"text-express-md"],["class","flex !pt-2 !outline-none !outline-transparent !text-express-md !text-blue-4 bottom-0 gap-x-2 items-center text-center","type","secondary",3,"click",4,"ngIf"],["class","flex flex-wrap gap-2 p-2 px-6 justify-start items-center",4,"ngIf"],["type","secondary",1,"flex","!pt-2","!outline-none","!outline-transparent","!text-express-md","!text-blue-4","bottom-0","gap-x-2","items-center","text-center",3,"click"],["size","small","icon","chevron_down"],["size","small","icon","chevron_up"],[1,"flex","flex-wrap","gap-2","p-2","px-6","justify-start","items-center"],["class","ml-1 mr-1 bg-[#F2F2F2] text-espressive-md p-2 text-center cursor-pointer rounded",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"ml-1","mr-1","bg-[#F2F2F2]","text-espressive-md","p-2","text-center","cursor-pointer","rounded",3,"ngClass","click"]],template:function(p,m){1&p&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2),o._uU(3,"Ch\u1ecdn h\u1ea1ng gh\u1ebf mong mu\u1ed1n"),o.qZA(),o.TgZ(4,"cf-icon",3),o.NdJ("click",function(){return m.close()}),o.qZA()(),o.TgZ(5,"div",4)(6,"cf-checkbox",5),o.NdJ("checkChange",function(b){return m.onSelectAllChange(b)}),o._uU(7," Ch\u1ecdn t\u1ea5t c\u1ea3 "),o.qZA()(),o.TgZ(8,"div",6),o.YNc(9,U,10,7,"div",7),o.qZA(),o.TgZ(10,"div",8)(11,"button",9),o.NdJ("click",function(){return m.close()}),o.TgZ(12,"span"),o._uU(13,"H\u1ee7y"),o.qZA()(),o.TgZ(14,"button",10),o.NdJ("click",function(){return m.reset()}),o.TgZ(15,"span"),o._uU(16,"\u0110\u1eb7t l\u1ea1i"),o.qZA()(),o.TgZ(17,"button",11),o.NdJ("click",function(){return m.submit()}),o.TgZ(18,"span"),o._uU(19,"X\xe1c nh\u1eadn"),o.qZA()()()()),2&p&&(o.xp6(6),o.Q6J("checked",m.selectedAll),o.xp6(3),o.Q6J("ngForOf",m.listFareTypeOptions))},dependencies:[l.ez,l.mk,l.sg,l.O5,P.AxE,P.Sm8,y.u,v.j$,A.N8,A.Xq],encapsulation:2}),E})()},44586:(w,Z,g)=>{g.d(Z,{g:()=>je});var l=g(36895),s=g(24006),A=g(83700),y=g(88516),P=g(72853),v=g(72506),o=g(44143),S=g(4688),R=g(74891),k=g(74713),I=g(76331),F=g(39840),T=g(62163),U=g(53820),c=g(38514),E=g(80751),x=g(15439),m=g(77296),O=g(77579),b=g(78372),D=g(28746),B=g(89701),Y=g(52013),H=g(61545),J=g(97218),q=g(37094),e=g(94650),Q=g(97579),$=g(82761),V=g(21505),W=g(62733),j=g(77492),z=g(9381);function G(r,u){if(1&r&&(e.TgZ(0,"div"),e._UZ(1,"tooltip-available-slot",39),e.qZA()),2&r){const t=e.oxw(3),n=e.MAs(12);e.xp6(1),e.Q6J("availableSlotData",t.availableSlotData)("content",n)}}function X(r,u){1&r&&e._UZ(0,"cf-hint",40),2&r&&e.Q6J("hint","M\xe3 canh v\xe9 kh\xf4ng h\u1ee3p l\u1ec7")}function ee(r,u){1&r&&e._UZ(0,"cf-hint",40),2&r&&e.Q6J("hint","M\xe3 canh v\xe9 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}function te(r,u){if(1&r){const t=e.EpF();e.TgZ(0,"div",31)(1,"div",32)(2,"div",33),e._UZ(3,"cf-icon",34),e.TgZ(4,"span",35),e._uU(5,"M\xe3 \u0111\u1eb7t ch\u1ed7 mu\u1ed1n canh v\xe9"),e.qZA()(),e.YNc(6,G,2,2,"div",10),e.qZA(),e.TgZ(7,"cf-select",36),e.NdJ("onSearch",function(i){e.CHM(t);const d=e.oxw(2);return e.KtG(d.onSearchValueChange(i))})("selectedChange",function(i){e.CHM(t);const d=e.oxw(2);return e.KtG(d.onSelectedPnr(i))}),e._UZ(8,"cf-icon",37),e.YNc(9,X,1,1,"cf-hint",38),e.YNc(10,ee,1,1,"cf-hint",38),e.qZA()()}if(2&r){const t=e.oxw(2);e.xp6(6),e.Q6J("ngIf",t.availableInfo),e.xp6(1),e.Q6J("status",t.registerOrderForm.controls.bookingCode.invalid&&(t.registerOrderForm.controls.bookingCode.dirty||t.registerOrderForm.controls.bookingCode.touched)?"error":"default")("data",t.pnrSuggestOptions)("placeholder","M\xe3 \u0111\u1eb7t ch\u1ed7 mu\u1ed1n canh v\xe9")("formControl",t.registerOrderForm.controls.bookingCode)("allowSearch",!0)("isEmpty",t.isDataEmpty),e.xp6(2),e.Q6J("ngIf",(null==t.registerOrderForm.controls.bookingCode.errors?null:t.registerOrderForm.controls.bookingCode.errors.invalid)&&(t.registerOrderForm.controls.bookingCode.dirty||t.registerOrderForm.controls.bookingCode.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.registerOrderForm.controls.bookingCode.errors?null:t.registerOrderForm.controls.bookingCode.errors.required)&&(t.registerOrderForm.controls.bookingCode.dirty||t.registerOrderForm.controls.bookingCode.touched))}}function re(r,u){if(1&r&&(e.TgZ(0,"div"),e._UZ(1,"tooltip-available-slot",39),e.qZA()),2&r){const t=e.oxw(3),n=e.MAs(12);e.xp6(1),e.Q6J("availableSlotData",t.availableSlotData)("content",n)}}function ie(r,u){if(1&r&&(e.TgZ(0,"div",31)(1,"div",32)(2,"div",33),e._UZ(3,"cf-icon",34),e.TgZ(4,"span",35),e._uU(5,"M\xe3 \u0111\u1eb7t ch\u1ed7 mu\u1ed1n canh v\xe9"),e.qZA()(),e.YNc(6,re,2,2,"div",10),e.qZA(),e.TgZ(7,"div",41),e._uU(8),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(6),e.Q6J("ngIf",t.availableInfo),e.xp6(2),e.Oqu(t.pnrOrderData.bookingCode)}}function ne(r,u){1&r&&e._UZ(0,"cf-hint",40),2&r&&e.Q6J("hint","Ng\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}function oe(r,u){if(1&r){const t=e.EpF();e.TgZ(0,"div",69)(1,"div",70),e.NdJ("scrolled",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.scrollDown())}),e._UZ(2,"cf-datepicker-inline",71),e.qZA(),e.TgZ(3,"div",72)(4,"div",73)(5,"button",74),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onCloseDatePicker())}),e._uU(6,"H\u1ee7y"),e.qZA(),e.TgZ(7,"button",75),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.onMobileDatePickerOK())}),e._uU(8,"X\xe1c nh\u1eadn"),e.qZA()()()()}if(2&r){const t=e.oxw(3);e.xp6(1),e.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",2)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0)("infiniteScrollContainer",".ngb-dp-content"),e.xp6(1),e.Q6J("minDate",t.minDate)("displayMonths",t.numOfMonth)("rangeSelection",!0)("secondaryCalendar","lunar")("formControl",t.registerOrderForm.controls.dayExpire)("maxDate",t.maxDate)("fromDate",t.registerOrderForm.controls.dayExpire.value)("displayMonthsOffset",0),e.xp6(5),e.Q6J("disabled",null==t.registerOrderForm?null:t.registerOrderForm.controls.dayExpire.invalid)}}function se(r,u){1&r&&e._UZ(0,"cf-hint",40),2&r&&e.Q6J("hint","Gi\u1edd kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}function ae(r,u){1&r&&e._UZ(0,"cf-hint",40),2&r&&e.Q6J("hint","Gi\u1edd k\u1ebft th\xfac kh\xf4ng h\u1ee3p l\u1ec7.")}function le(r,u){1&r&&e._UZ(0,"cf-hint",40),2&r&&e.Q6J("hint","M\u1ee9c gi\xe1 mong mu\u1ed1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}function ce(r,u){1&r&&e._UZ(0,"cf-hint",40),2&r&&e.Q6J("hint","Gi\xe1 tr\u1ecb t\u1ed1i thi\u1ec3u l\xe0 1\u0111")}function de(r,u){if(1&r&&(e._UZ(0,"cf-hint",40),e.ALo(1,"number")),2&r){const t=e.oxw(4);e.Q6J("hint","Gi\xe1 tr\u1ecb t\u1ed1i \u0111a l\xe0 "+e.lcZ(1,1,t.totalFare)+" \u0111"||0)}}function ue(r,u){if(1&r){const t=e.EpF();e.TgZ(0,"div",76)(1,"cf-input-group",77)(2,"label",78),e._uU(3,"Ch\u1ec9 canh gi\xe1 v\xe9 (c\u1ee7a 1 ng\u01b0\u1eddi l\u1edbn \u0111\u1ea1i di\u1ec7n) gi\u1ea3m th\u1ea5p h\u01a1n ho\u1eb7c b\u1eb1ng m\u1ee9c d\u01b0\u1edbi \u0111\xe2y"),e.qZA(),e.TgZ(4,"cf-input-number",79),e.NdJ("ngModelChange",function(i){e.CHM(t);const d=e.oxw(3);return e.KtG(d.checkDirtyNumber("targetPrice",i))}),e.qZA(),e.YNc(5,le,1,1,"cf-hint",38),e.YNc(6,ce,1,1,"cf-hint",38),e.YNc(7,de,2,3,"cf-hint",38),e.qZA()()}if(2&r){const t=e.oxw(3);e.xp6(1),e.Q6J("status",t.registerOrderForm.controls.targetPrice.invalid&&(t.registerOrderForm.controls.targetPrice.dirty||t.registerOrderForm.controls.targetPrice.touched)?"error":"default"),e.xp6(3),e.Q6J("placeholder","Nh\u1eadp m\u1ee9c gi\xe1 t\u1ed1i \u0111a mu\u1ed1n canh (gi\xe1 v\xe9 c\u1ee7a 1 ng\u01b0\u1eddi l\u1edbn \u0111\u1ea1i di\u1ec7n)")("decimal",!1)("negative",!1)("formControl",t.registerOrderForm.controls.targetPrice),e.xp6(1),e.Q6J("ngIf",(null==t.registerOrderForm.controls.targetPrice.errors?null:t.registerOrderForm.controls.targetPrice.errors.required)&&(t.registerOrderForm.controls.targetPrice.dirty||t.registerOrderForm.controls.targetPrice.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.registerOrderForm.controls.targetPrice.errors?null:t.registerOrderForm.controls.targetPrice.errors.minAmount)&&(t.registerOrderForm.controls.targetPrice.dirty||t.registerOrderForm.controls.targetPrice.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.registerOrderForm.controls.targetPrice.errors?null:t.registerOrderForm.controls.targetPrice.errors.maxAmount)&&(t.registerOrderForm.controls.targetPrice.dirty||t.registerOrderForm.controls.targetPrice.touched))}}function _e(r,u){1&r&&(e.TgZ(0,"div",85),e._uU(1," Ch\u1ecdn h\xe3ng bay mong mu\u1ed1n "),e.qZA())}function ge(r,u){if(1&r){const t=e.EpF();e.TgZ(0,"div",90)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"cf-icon",91),e.NdJ("click",function(i){e.CHM(t);const d=e.oxw().$implicit,h=e.oxw(5);return e.KtG(h.onRemoveFareTypeOption(i,d))}),e.qZA()()}if(2&r){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function pe(r,u){if(1&r){const t=e.EpF();e.TgZ(0,"div",90)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"cf-icon",91),e.NdJ("click",function(i){e.CHM(t);const d=e.oxw().$implicit,h=e.oxw(6);return e.KtG(h.onRemoveFareClassOption(i,d))}),e.qZA()()}if(2&r){const t=e.oxw().$implicit,n=e.oxw().$implicit;e.xp6(2),e.AsE(" ",n.name," - ",t.name," ")}}function he(r,u){if(1&r&&(e.ynx(0),e.YNc(1,pe,4,2,"div",88),e.BQk()),2&r){const t=u.$implicit,n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!n.isAllFareClass&&t.isActive)}}function fe(r,u){if(1&r&&(e.ynx(0,33),e.YNc(1,ge,4,1,"div",88),e.YNc(2,he,2,1,"ng-container",89),e.BQk()),2&r){const t=u.$implicit;e.xp6(1),e.Q6J("ngIf",t.isAllFareClass),e.xp6(1),e.Q6J("ngForOf",t.fareClass)}}function me(r,u){if(1&r&&(e.TgZ(0,"div",86),e.YNc(1,fe,3,2,"ng-container",87),e.qZA()),2&r){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",t.listFareTypeOptions)}}function ve(r,u){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"div",80),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.openFareOptions())}),e.TgZ(2,"div",81),e.YNc(3,_e,2,0,"div",82),e.YNc(4,me,2,1,"div",83),e.qZA(),e._UZ(5,"cf-icon",84),e.qZA()()}if(2&r){const t=e.oxw(3);e.xp6(3),e.Q6J("ngIf",!t.registerOrderForm.value.specifyFareClass),e.xp6(1),e.Q6J("ngIf",t.registerOrderForm.value.specifyFareClass)}}function Ee(r,u){1&r&&e._UZ(0,"cf-icon",92)}function xe(r,u){1&r&&e._UZ(0,"cf-icon",93)}function Ce(r,u){if(1&r){const t=e.EpF();e.TgZ(0,"div",94)(1,"div",95)(2,"div",33),e._UZ(3,"cf-icon",96),e.TgZ(4,"span",35),e._uU(5,"Th\xf4ng b\xe1o"),e.qZA()(),e.TgZ(6,"cf-switch",97),e.NdJ("checkedChange",function(i){e.CHM(t);const d=e.oxw(3);return e.KtG(d.onCheckNotify(i))}),e.qZA()(),e.TgZ(7,"div",98),e._uU(8,"Th\xf4ng b\xe1o s\u1eafp h\u1ebft h\u1ea1n canh v\xe9 tr\u01b0\u1edbc 15 ph\xfat"),e.qZA()()}if(2&r){const t=e.oxw(3);e.xp6(6),e.Q6J("disabled",t.notifyExpired)("checked",t.registerOrderForm.value.notifyBeforeExpired)}}const K=function(){return[]};function Oe(r,u){if(1&r){const t=e.EpF();e.TgZ(0,"div",11),e._UZ(1,"div",42),e.TgZ(2,"div",11)(3,"div",31)(4,"div",43)(5,"div",33),e._UZ(6,"cf-icon",44),e.TgZ(7,"span",35),e._uU(8,"Th\u1eddi h\u1ea1n canh v\xe9"),e.qZA()(),e.TgZ(9,"cf-label",45),e._uU(10),e.ALo(11,"date"),e.qZA()(),e.TgZ(12,"div",46)(13,"cf-input-group",47),e._UZ(14,"cf-icon",48),e.TgZ(15,"input",49,50),e.NdJ("input",function(){e.CHM(t);const i=e.MAs(16);return e.KtG(i.close())})("dateSelect",function(i){e.CHM(t);const d=e.MAs(16);return e.oxw(2).onDateSelected(i),e.KtG(d.close())})("click",function(){e.CHM(t);const i=e.MAs(19),d=e.oxw(2);return e.KtG(d.expireDatePickerClick(i))})("mousedown",function(i){e.CHM(t);const d=e.oxw(2);return e.KtG(d.expireDateFocus(i))}),e.qZA(),e.YNc(17,ne,1,1,"cf-hint",38),e.qZA(),e.YNc(18,oe,9,16,"ng-template",null,51,e.W1O),e.TgZ(20,"div",52)(21,"cf-select",53),e.NdJ("selectedChange",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onSelectedTimeExpire())}),e._UZ(22,"cf-icon",54),e.YNc(23,se,1,1,"cf-hint",38),e.YNc(24,ae,1,1,"cf-hint",38),e.qZA()()()()(),e._UZ(25,"div",55),e.TgZ(26,"div",31)(27,"div",56)(28,"div",33),e._UZ(29,"cf-icon",57),e.TgZ(30,"span",35),e._uU(31,"Canh theo gi\xe1"),e.qZA()(),e.TgZ(32,"div",58),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onChangePrice())}),e._UZ(33,"cf-switch",59),e.qZA()(),e.YNc(34,ue,8,8,"div",60),e.qZA(),e._UZ(35,"div",55),e.TgZ(36,"div",31)(37,"div",56)(38,"div")(39,"div",33),e._UZ(40,"cf-icon",61),e.TgZ(41,"span",35),e._uU(42,"Ch\u1ecdn h\u1ea1ng gh\u1ebf mong mu\u1ed1n"),e.qZA()()(),e.TgZ(43,"div",58),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onChangeLowFare())}),e._UZ(44,"cf-switch",59),e.qZA()(),e.YNc(45,ve,6,2,"div",10),e.qZA(),e._UZ(46,"div",55),e.TgZ(47,"div",62)(48,"div",63),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.onExpandConfig())}),e.TgZ(49,"div"),e._UZ(50,"cf-icon",64),e.qZA(),e.TgZ(51,"div",65),e._uU(52,"C\xe0i \u0111\u1eb7t n\xe2ng cao"),e.qZA(),e.TgZ(53,"div"),e.YNc(54,Ee,1,0,"cf-icon",66),e.YNc(55,xe,1,0,"cf-icon",67),e.qZA()(),e.YNc(56,Ce,9,2,"div",68),e.qZA()()}if(2&r){const t=e.oxw(2);e.xp6(9),e.Q6J("color","gray-2")("size","small"),e.xp6(1),e.hij(" Ch\u1ec9 \u0111\u01b0\u1ee3c ch\u1ecdn th\u1eddi h\u1ea1n \u0111\u1ebfn ",t.timeExpire?e.xi3(11,24,t.timeExpire,"dd/MM/yyyy HH:mm"):""," "),e.xp6(3),e.Q6J("status",t.registerOrderForm.controls.dayExpire.invalid&&(t.registerOrderForm.controls.dayExpire.dirty||t.registerOrderForm.controls.dayExpire.touched)?"error":"default"),e.xp6(2),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",t.minDate)("maxDate",t.maxDate)("formControl",t.registerOrderForm.controls.dayExpire),e.xp6(2),e.Q6J("ngIf",(null==t.registerOrderForm.controls.dayExpire.errors?null:t.registerOrderForm.controls.dayExpire.errors.required)&&(t.registerOrderForm.controls.dayExpire.dirty||t.registerOrderForm.controls.dayExpire.touched)),e.xp6(4),e.Q6J("status",t.registerOrderForm.controls.hoursExpire.invalid&&(t.registerOrderForm.controls.hoursExpire.dirty||t.registerOrderForm.controls.hoursExpire.touched)?"error":"default")("data",t.timeOption||e.DdM(27,K))("placeholder","Ch\u1ecdn gi\u1edd k\u1ebft th\xfac")("allowSearch",!0)("formControl",t.registerOrderForm.controls.hoursExpire),e.xp6(2),e.Q6J("ngIf",(null==t.registerOrderForm.controls.hoursExpire.errors?null:t.registerOrderForm.controls.hoursExpire.errors.required)&&(t.registerOrderForm.controls.hoursExpire.dirty||t.registerOrderForm.controls.hoursExpire.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.registerOrderForm.controls.hoursExpire.errors?null:t.registerOrderForm.controls.hoursExpire.errors.illegal)&&(t.registerOrderForm.controls.hoursExpire.dirty||t.registerOrderForm.controls.hoursExpire.touched)),e.xp6(9),e.Q6J("checked",t.registerOrderForm.value.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(1),e.Q6J("ngIf",t.registerOrderForm.value.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(10),e.Q6J("checked",t.registerOrderForm.value.monitorType===t.MONITOR_TYPE.FARE),e.xp6(1),e.Q6J("ngIf",t.registerOrderForm.value.monitorType===t.MONITOR_TYPE.FARE),e.xp6(9),e.Q6J("ngIf",!t.isExpand),e.xp6(1),e.Q6J("ngIf",t.isExpand),e.xp6(1),e.Q6J("ngIf",t.isExpand)}}function ye(r,u){if(1&r&&(e.TgZ(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14),e._UZ(4,"cf-icon",15)(5,"div",16),e.qZA(),e.TgZ(6,"div",17)(7,"div",18),e._uU(8,"Gi\u1eef ch\u1ed7"),e.qZA(),e.TgZ(9,"div",19),e._uU(10,"Gi\u1eef ch\u1ed7 th\xe0nh c\xf4ng"),e.qZA()()(),e.TgZ(11,"div",20)(12,"div",21),e._uU(13," 2 "),e._UZ(14,"div",22),e.qZA(),e.TgZ(15,"div",23)(16,"div",24),e._uU(17,"Canh v\xe9 r\u1ebb"),e.qZA(),e.TgZ(18,"div",25),e._uU(19,"T\u1ea1o y\xeau c\u1ea7u canh v\xe9 r\u1ebb"),e.qZA()()(),e.TgZ(20,"div",20)(21,"div",26),e._uU(22," 3 "),e._UZ(23,"div",27),e.qZA(),e.TgZ(24,"div",28)(25,"div",24),e._uU(26,"Theo d\xf5i"),e.qZA(),e.TgZ(27,"div",25),e._uU(28,"Theo d\xf5i bi\u1ebfn \u0111\u1ed9ng gi\xe1"),e.qZA()()(),e.TgZ(29,"div",20)(30,"div",29),e._uU(31," 4 "),e.qZA(),e.TgZ(32,"div",28)(33,"div",24),e._uU(34,"H\u1ebft h\u1ea1n"),e.qZA(),e.TgZ(35,"div",25),e._uU(36,"C\xf3 th\u1ec3 h\u1ee7y b\u1ea5t k\xec l\xfac n\xe0o"),e.qZA()()()(),e.YNc(37,te,11,9,"div",30),e.YNc(38,ie,9,2,"div",30),e.YNc(39,Oe,57,28,"div",5),e.qZA()),2&r){const t=e.oxw();e.xp6(37),e.Q6J("ngIf",t.isSuggest),e.xp6(1),e.Q6J("ngIf",!t.isSuggest),e.xp6(1),e.Q6J("ngIf",null==t.pnrOrderData?null:t.pnrOrderData.bookingCode)}}function Te(r,u){if(1&r&&(e.ynx(0),e.TgZ(1,"div",118)(2,"div",119)(3,"div",120),e._uU(4),e.qZA()(),e.TgZ(5,"div",121),e._UZ(6,"img",122),e.qZA(),e.TgZ(7,"div",123)(8,"div",124),e._uU(9),e.qZA(),e.TgZ(10,"div",125),e._uU(11),e.qZA()(),e.TgZ(12,"div",123)(13,"div",124),e._uU(14),e.qZA(),e.TgZ(15,"div",125),e._uU(16),e.qZA()(),e.TgZ(17,"div",123)(18,"div",124),e._uU(19),e.qZA(),e.TgZ(20,"div",125),e._uU(21),e.qZA()(),e.TgZ(22,"div",126)(23,"div",127)(24,"div"),e._uU(25),e.qZA(),e.TgZ(26,"div",128),e._UZ(27,"div",129)(28,"div",130),e.qZA(),e.TgZ(29,"div"),e._uU(30),e.qZA()(),e.TgZ(31,"div"),e._UZ(32,"cf-icon",131),e.qZA()(),e.TgZ(33,"div",123)(34,"div",124),e._uU(35),e.qZA(),e.TgZ(36,"div",125),e._uU(37),e.qZA()()(),e.TgZ(38,"div",132)(39,"div",133)(40,"div",128)(41,"div",120),e._uU(42),e.qZA()(),e.TgZ(43,"div",121),e._UZ(44,"img",122),e.qZA(),e.TgZ(45,"div",134)(46,"div",124),e._uU(47),e.qZA(),e.TgZ(48,"div",125),e._uU(49),e.qZA()(),e.TgZ(50,"div",123)(51,"div",124),e._uU(52),e.qZA(),e.TgZ(53,"div",125),e._uU(54),e.qZA()()(),e.TgZ(55,"div",135)(56,"div",123)(57,"div",124),e._uU(58),e.qZA(),e.TgZ(59,"div",125),e._uU(60),e.qZA()(),e.TgZ(61,"div",126)(62,"div",127)(63,"div"),e._uU(64),e.qZA(),e.TgZ(65,"div",128),e._UZ(66,"div",129)(67,"div",136),e.qZA(),e.TgZ(68,"div"),e._uU(69,"Bay th\u1eb3ng"),e.qZA()(),e.TgZ(70,"div"),e._UZ(71,"cf-icon",131),e.qZA()(),e.TgZ(72,"div",123)(73,"div",124),e._uU(74),e.qZA(),e.TgZ(75,"div",125),e._uU(76),e.qZA()()()(),e.BQk()),2&r){const t=u.$implicit,n=u.index;e.xp6(4),e.hij(" ",n+1," "),e.xp6(2),e.Q6J("src",t.airlineLogo,e.LSH),e.xp6(3),e.Oqu(t.flightNumber),e.xp6(2),e.Oqu(t.airlineName),e.xp6(3),e.Oqu(t.departure),e.xp6(2),e.Oqu(t.fareClass),e.xp6(3),e.Oqu(t.startTime),e.xp6(2),e.Oqu(t.startPoint),e.xp6(4),e.Oqu(t.durationStr),e.xp6(5),e.Oqu(t.departure),e.xp6(5),e.Oqu(t.endTime),e.xp6(2),e.Oqu(t.endPoint),e.xp6(5),e.hij(" ",n+1," "),e.xp6(2),e.Q6J("src",t.airlineLogo,e.LSH),e.xp6(3),e.Oqu(t.flightNumber),e.xp6(2),e.Oqu(t.airlineName),e.xp6(3),e.Oqu(t.departure),e.xp6(2),e.Oqu(t.fareClass),e.xp6(4),e.Oqu(t.startTime),e.xp6(2),e.Oqu(t.startPoint),e.xp6(4),e.Oqu(t.durationStr),e.xp6(10),e.Oqu(t.endTime),e.xp6(2),e.Oqu(t.endPoint)}}function be(r,u){1&r&&e._UZ(0,"div",55)}function Ae(r,u){if(1&r&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.lnq(" (",t.child.namePrefix,") ",null==t.child?null:t.child.displayName," - ",null==t.child?null:t.child.birthDay," ")}}function Fe(r,u){if(1&r&&(e.ynx(0),e.YNc(1,be,1,0,"div",137),e.TgZ(2,"div",138)(3,"div",24),e._uU(4),e.qZA(),e.TgZ(5,"div",139)(6,"div",24),e._uU(7),e.qZA(),e.YNc(8,Ae,2,3,"div",140),e.qZA()(),e.BQk()),2&r){const t=u.$implicit,n=u.index,i=u.first;e.xp6(1),e.Q6J("ngIf",!i),e.xp6(3),e.hij("",n+1,"."),e.xp6(3),e.AsE("(",t.namePrefix,") ",t.displayName,""),e.xp6(1),e.Q6J("ngIf",t.child)}}function De(r,u){if(1&r&&(e.TgZ(0,"div",90)(1,"span"),e._uU(2),e.qZA()()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function Ze(r,u){if(1&r&&(e.TgZ(0,"div",90)(1,"span"),e._uU(2),e.qZA()()),2&r){const t=e.oxw().$implicit,n=e.oxw().$implicit;e.xp6(2),e.AsE(" ",n.name," - ",t.name," ")}}function Pe(r,u){if(1&r&&(e.ynx(0),e.YNc(1,Ze,3,2,"div",88),e.BQk()),2&r){const t=u.$implicit,n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!n.isAllFareClass&&t.isActive)}}function Me(r,u){if(1&r&&(e.ynx(0,33),e.YNc(1,De,3,1,"div",88),e.YNc(2,Pe,2,1,"ng-container",89),e.BQk()),2&r){const t=u.$implicit;e.xp6(1),e.Q6J("ngIf",t.isAllFareClass),e.xp6(1),e.Q6J("ngForOf",t.fareClass)}}function Re(r,u){if(1&r&&(e.TgZ(0,"div",86),e.YNc(1,Me,3,2,"ng-container",87),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.listFareTypeOptions)}}function ke(r,u){1&r&&(e.TgZ(0,"span"),e._uU(1,"B\u1ea5t k\xec"),e.qZA())}function Ie(r,u){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.registerOrderForm.value.targetPrice)," \u0111 ")}}function Ue(r,u){1&r&&(e.TgZ(0,"span"),e._uU(1,"B\u1ea5t k\xec"),e.qZA())}function we(r,u){1&r&&(e.TgZ(0,"div",107)(1,"div",108),e._uU(2,"Th\xf4ng b\xe1o s\u1eafp h\u1ebft h\u1ea1n: "),e.qZA(),e.TgZ(3,"div",109),e._uU(4," Th\xf4ng b\xe1o tr\u01b0\u1edbc 15 ph\xfat tr\u01b0\u1edbc khi h\u1ebft h\u1ea1n canh v\xe9 "),e.qZA()())}function Se(r,u){1&r&&(e.TgZ(0,"div",144),e._uU(1,"B\u1ea1n \u0111\u01b0\u1ee3c mi\u1ec5n ph\xed y\xeau c\u1ea7u n\xe0y "),e.qZA())}function Be(r,u){if(1&r&&(e.TgZ(0,"div",144),e._uU(1),e.ALo(2,"number"),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.AsE("N\u1ebfu canh \u0111\u01b0\u1ee3c v\xe9, b\u1ea1n s\u1ebd tr\u1ea3 ph\xed b\u1eb1ng ",e.lcZ(2,2,t.availableInfo.percent),"",t.availableInfo.currency," ch\xeanh l\u1ec7ch gi\xe1 ")}}function Ne(r,u){if(1&r&&(e.TgZ(0,"div",141)(1,"div")(2,"div",33),e._UZ(3,"cf-icon",142),e.TgZ(4,"span",35),e._uU(5,"Ph\xed y\xeau c\u1ea7u"),e.qZA()(),e.YNc(6,Se,2,0,"div",143),e.YNc(7,Be,3,4,"div",143),e.qZA(),e._UZ(8,"tooltip-available-slot",39),e.qZA()),2&r){const t=e.oxw(2),n=e.MAs(14);e.xp6(6),e.Q6J("ngIf",t.availableInfo.free),e.xp6(1),e.Q6J("ngIf",!t.availableInfo.free),e.xp6(1),e.Q6J("availableSlotData",t.availableSlotData)("content",n)}}function qe(r,u){if(1&r&&(e.TgZ(0,"div",11)(1,"div",99)(2,"div",99)(3,"div",33),e._UZ(4,"cf-icon",100),e.TgZ(5,"span",35),e._uU(6,"Canh v\xe9 r\u1ebb c\xe1c chuy\u1ebfn bay sau"),e.qZA()(),e.TgZ(7,"div",101),e.YNc(8,Te,77,23,"ng-container",89),e.TgZ(9,"div",102)(10,"div",19),e._uU(11,"T\u1ed5ng gi\xe1 ban \u0111\u1ea7u"),e.qZA(),e.TgZ(12,"div",103),e._uU(13),e.ALo(14,"number"),e.qZA()()()(),e.TgZ(15,"div",99)(16,"div",33),e._UZ(17,"cf-icon",104),e.TgZ(18,"span",35),e._uU(19,"Th\xf4ng tin h\xe0nh kh\xe1ch"),e.qZA()(),e.TgZ(20,"div",105),e.YNc(21,Fe,9,5,"ng-container",89),e.qZA()()(),e.TgZ(22,"div",99)(23,"div",33),e._UZ(24,"cf-icon",106),e.TgZ(25,"span",35),e._uU(26,"Th\xf4ng tin y\xeau c\u1ea7u"),e.qZA()(),e.TgZ(27,"div",105)(28,"div",107)(29,"div",108),e._uU(30,"H\u1ea1n canh v\xe9:"),e.qZA(),e.TgZ(31,"div",109),e._uU(32),e.ALo(33,"date"),e.qZA()(),e.TgZ(34,"div",107)(35,"div",108),e._uU(36,"H\u1ea1ng gh\u1ebf mong mu\u1ed1n:"),e.qZA(),e.TgZ(37,"div",109),e.YNc(38,Re,2,1,"div",83),e.YNc(39,ke,2,0,"span",10),e.qZA()(),e.TgZ(40,"div",107)(41,"div",108),e._uU(42,"M\u1ee9c gi\xe1 mong mu\u1ed1n:"),e.qZA(),e.TgZ(43,"div",109),e.YNc(44,Ie,3,3,"span",10),e.YNc(45,Ue,2,0,"span",10),e.qZA()(),e.YNc(46,we,5,0,"div",110),e.qZA()(),e.YNc(47,Ne,9,4,"div",111),e._UZ(48,"div",55),e.TgZ(49,"div",99)(50,"div",33),e._UZ(51,"cf-icon",112),e.TgZ(52,"span",35),e._uU(53,"M\u1ed9t s\u1ed1 l\u01b0u \xfd"),e.qZA()(),e.TgZ(54,"div",113)(55,"div",114)(56,"div"),e._UZ(57,"cf-icon",115),e.qZA(),e.TgZ(58,"div")(59,"span",24),e._uU(60,"N\u1ebfu gi\xe1 v\xe9 t\u0103ng,"),e.qZA(),e._uU(61," th\xf4ng b\xe1o \u0111\u1ebfn b\u1ea1n v\u1ec1 thay \u0111\u1ed5i gi\xe1 mi\u1ec5n ph\xed v\xe0 ti\u1ebfp t\u1ee5c canh \u0111\u1ebfn khi h\u1ebft h\u1ea1n canh v\xe9. "),e.qZA()(),e.TgZ(62,"div",114)(63,"div"),e._UZ(64,"cf-icon",44),e.qZA(),e.TgZ(65,"div")(66,"span",24),e._uU(67,"B\u1ea1n kh\xf4ng m\u1ea5t b\u1ea5t c\u1ee9 kho\u1ea3n ph\xed n\u1ebfu kh\xf4ng canh \u0111\u01b0\u1ee3c v\xe9 r\u1ebb."),e.qZA(),e._uU(68," C\xf3 th\u1ec3 h\u1ee7y canh v\xe9 b\u1ea5t k\xec l\xfac n\xe0o!"),e.qZA()(),e.TgZ(69,"div",114)(70,"div"),e._UZ(71,"cf-icon",116),e.qZA(),e.TgZ(72,"div",24),e._uU(73,"B\u1ea1n \u0111\u1ed3ng \xfd v\u1edbi "),e.TgZ(74,"span",117),e._uU(75,"\u0111i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng"),e.qZA(),e._uU(76," khi s\u1eed d\u1ee5ng t\xednh n\u0103ng n\xe0y. "),e.qZA()()()()()),2&r){const t=e.oxw();e.xp6(8),e.Q6J("ngForOf",(null==t.pnrOrderData?null:t.pnrOrderData.journeys)||e.DdM(16,K)),e.xp6(5),e.hij("",e.lcZ(14,11,t.pnrOrderData.totalCharge||0)," \u0111 "),e.xp6(8),e.Q6J("ngForOf",t.pnrOrderData.passengers),e.xp6(11),e.AsE(" ",e.xi3(33,13,t.registerOrderForm.value.dayExpire,"dd/MM/yyyy")," ",t.registerOrderForm.value.hoursExpire," "),e.xp6(6),e.Q6J("ngIf",t.registerOrderForm.value.specifyFareClass),e.xp6(1),e.Q6J("ngIf",t.registerOrderForm.value.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(5),e.Q6J("ngIf",t.registerOrderForm.value.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(1),e.Q6J("ngIf",t.registerOrderForm.value.monitorType===t.MONITOR_TYPE.FARE),e.xp6(1),e.Q6J("ngIf",t.registerOrderForm.value.notifyBeforeExpired),e.xp6(1),e.Q6J("ngIf",t.availableInfo)}}function Ye(r,u){if(1&r){const t=e.EpF();e.TgZ(0,"div",145)(1,"button",146),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.close())}),e._uU(2," \u0110\xf3ng "),e.qZA(),e.TgZ(3,"button",147),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.close())}),e._UZ(4,"cf-icon",148),e._uU(5," Quay l\u1ea1i "),e.qZA(),e.TgZ(6,"button",149),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onChangeStep(i.STEP_ORDER.REVIEW))}),e.TgZ(7,"span"),e._uU(8,"Ti\u1ebfp t\u1ee5c"),e.qZA(),e._UZ(9,"cf-icon",150),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(6),e.Q6J("disabled",t.registerOrderForm.invalid)}}function Le(r,u){if(1&r){const t=e.EpF();e.TgZ(0,"div",145)(1,"button",151),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onChangeStep(i.STEP_ORDER.CREATE))}),e._UZ(2,"cf-icon",148),e._uU(3," Quay l\u1ea1i "),e.qZA(),e.TgZ(4,"button",149),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onRegisterOrder())}),e._uU(5," X\xe1c nh\u1eadn "),e._UZ(6,"cf-icon",152),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(4),e.Q6J("disabled",t.registerOrderForm.invalid)}}function Je(r,u){1&r&&(e.TgZ(0,"div",154)(1,"span",155),e._uU(2,"Thu ph\xed"),e.qZA(),e._UZ(3,"cf-icon",156),e.qZA())}function Qe(r,u){1&r&&(e.TgZ(0,"div",154)(1,"span",155),e._uU(2,"Mi\u1ec5n ph\xed"),e.qZA(),e._UZ(3,"cf-icon",156),e.qZA())}function Ke(r,u){if(1&r&&(e.YNc(0,Je,4,0,"div",153),e.YNc(1,Qe,4,0,"div",153)),2&r){const t=e.oxw();e.Q6J("ngIf",!t.availableSlotData.available),e.xp6(1),e.Q6J("ngIf",t.availableSlotData.available)}}function He(r,u){if(1&r&&(e.TgZ(0,"div",158)(1,"span",159),e._uU(2),e.ALo(3,"number"),e.qZA(),e._UZ(4,"cf-icon",156),e.qZA()),2&r){const t=e.oxw(2);e.xp6(2),e.AsE("",e.lcZ(3,2,t.availableInfo.percent),"",t.availableInfo.currency," ch\xeanh l\u1ec7ch gi\xe1")}}function $e(r,u){if(1&r&&(e.TgZ(0,"div",158)(1,"span"),e._uU(2),e.ALo(3,"number"),e.qZA(),e._UZ(4,"cf-icon",156),e.qZA()),2&r){const t=e.oxw(2);e.xp6(2),e.AsE("",e.lcZ(3,2,t.availableInfo.percent),"",t.availableInfo.currency," ch\xeanh l\u1ec7ch gi\xe1")}}function Ve(r,u){if(1&r&&(e.YNc(0,He,5,4,"div",157),e.YNc(1,$e,5,4,"div",157)),2&r){const t=e.oxw();e.Q6J("ngIf",t.availableInfo.free),e.xp6(1),e.Q6J("ngIf",!t.availableInfo.free)}}function We(r,u){1&r&&e._UZ(0,"cf-spinner")}var M=(()=>{return(r=M||(M={})).CREATE="CREATE",r.REVIEW="REVIEW",M;var r})();let je=(()=>{class r{constructor(t,n,i,d,h,a,_,f,C,N,ze,Ge,Xe,et){var L;this.ref=t,this.bottomSheetData=n,this.bottomSheetRef=i,this.calendar=h,this._fb=a,this._modal=_,this._route=f,this._cd=C,this._ticketLowFareService=N,this._flightDataService=ze,this._eventLogService=Ge,this._mobileDetectService=Xe,this._bottomSheetService=et,this.isOpen=!1,this.bottomCenter=[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:0,offsetY:0}],this.timeExpireStr="",this.scheduleTimeOptions=[],this.steps=[{id:1,icon:"check"},{id:2,icon:"unlock"},{id:3,icon:"search"},{id:4,icon:"lock"}],this.currentStep=1,this.isExpand=!1,this.step=M.CREATE,this.MONITOR_TYPE=T.$,this.title="T\u1ea1o y\xeau c\u1ea7u canh v\xe9 r\u1ebb",this.STEP_ORDER=M,this.STATUS_ORDER=U.b,this.MAX_TIME_EXECUTE=48,this.isLoading=!1,this.lowerFareClassOptions=[],this.listFareTypeOptions=[],this.searchValueChanged$=new O.x,this.pnrSuggestOptions=[],this.isSuggest=!1,this.multiMinDate=[],this.hoursOption=[],this.minuteOption=[],this.timeOption=[],this.infiniteScrollCount=10,this.isDataEmpty=!1,this.regenerate=!1,this.numOfMonth=1,this.notifyExpired=!1,d.registerIcons([v.YvC,v.KMO,v.TM4,v.RxK,v.Vn9,v.NNX,v.Tas,v.$PG,v.toh,v.rJw,v._hx,v.okA,v.TOh,v.B2I,v.qDv,v.PcQ,v.PSW,v.cnj,v.Lji,v.Nnv,v.tLH,v.esH,v.ZlA,v.UNF,v.SK7]),t&&(this.bookingDetail=t.data.bookingDetail,this.registerOrderDetail=t.data.registerOrderDetail,this.regenerate=t.data.regenerate,this.isSuggest=null!==(L=t.data.isSuggest)&&void 0!==L&&L,this.sourceEvent=t.data.sourceEvent),n&&(this.bookingDetail=n.bookingDetail,this.registerOrderDetail=n.registerOrderDetail,this.regenerate=n.regenerate,this.isSuggest=n.isSuggest,this.sourceEvent=n.sourceEvent),this.minDate=h.getToday(),this.bookingDetail&&!this.regenerate&&(this.handleRegisterOrderData(),this.getAvailableAgent(this.bookingDetail.coOwnerId)),this.regenerate&&this.handleRegenerateRegister()}ngOnInit(){this.initFormGroup(),this.pnrOrderData&&(this.generateTime(),this.getListLowerFareClass(this.pnrOrderData.airline,this.pnrOrderData.journeys[0].fareClass)),this.isSuggest&&this.onSearchPnrSuggest(""),this.searchValueChanged$.pipe((0,b.b)(1e3)).subscribe(t=>{this.pnrSuggestOptions.some(n=>n.bookingCode===t)||this.onSearchPnrSuggest(t)})}initFormGroup(){var t,n,i;this.registerOrderForm=this._fb.group({notifyBeforeExpired:[!0],bookingCode:[(null===(t=this.pnrOrderData)||void 0===t?void 0:t.bookingCode)||"",s.kI.required],monitorType:[(null===(n=this.pnrOrderData)||void 0===n?void 0:n.monitorType)||T.$.PRICE],timeExecute:[this.MAX_TIME_EXECUTE],dayExpire:[null,s.kI.required],hoursExpire:[null,s.kI.required],targetPrice:[(null===(i=this.pnrOrderData)||void 0===i?void 0:i.targetPrice)||0,s.kI.required],specifyFareClass:[null]})}getAvailableAgent(t){this._ticketLowFareService.getInfoAvailableAgent({agentId:t||"",type:c.G.DOWN_FARE_TICKET}).subscribe({next:i=>{"OK"===i.status&&(this.availableInfo=i.data,this.availableSlotData={available:i.data.free,type:i.data.type,amount:i.data.type===c.G.DOWN_FARE_TICKET?i.data.percent:i.data.amountPerPax,currency:i.data.type===c.G.DOWN_FARE_TICKET?i.data.currency:"\u0111"})}})}getListLowerFareClass(t,n){this._ticketLowFareService.getListLowerFareClass({airline:t,fareClass:n}).subscribe({next:d=>{var h,a;"OK"===d.status&&(this.lowerFareClassOptions=(null===(h=d.data.cabin)||void 0===h?void 0:h.flatMap(_=>_.fareType.map(f=>({code:f.code,value:f.description,children:f.fareClass.map(C=>({code:C.code,value:C.name}))}))))||[],this.listFareTypeOptions=(null===(a=d.data.cabin)||void 0===a?void 0:a.flatMap(_=>_.fareType.map(f=>({order:f.order,code:f.code,name:f.description,isActive:!1,isExpand:!1,isAllFareClass:!1,fareTypeSelected:0,totalFareType:f.fareClass.length,fareClass:f.fareClass.map(C=>({order:C.order,code:C.code,name:C.name,isActive:!1}))}))))||[],this.pnrOrderData&&this.pnrOrderData.specifyFareClass&&(this.registerOrderForm.controls.specifyFareClass.setValue(this.pnrOrderData.specifyFareClass||null),this.listFareTypeOptions.forEach(_=>{_.fareClass.forEach(f=>{f.isActive=this.pnrOrderData.specifyFareClass.includes(f.code)}),_.isAllFareClass=_.fareClass.every(f=>f.isActive),_.isActive=_.fareClass.some(f=>f.isActive)})),this._cd.detectChanges())}})}generateTimeArrays(t=0,n=0,i=23,d=60){const h=[];let a=t,_=n;for(;a<i&&i<24||a===i&&_<d;){const f=a.toString().padStart(2,"0"),C=_.toString().padStart(2,"0");h.push({value:`${f}:${C}`,text:`${f}:${C}`}),_+=15,_>=d&&(_=0,a++)}return h}generateTime(){var t,n,i;const d=new Date,_=(this.pnrOrderData.journeys[0].departureDateTime.getTime()-d.getTime())/36e5-2,f=Math.min(Math.floor(_),this.MAX_TIME_EXECUTE);d.setHours(d.getHours()+f),this.timeExpire=d,this.maxDate=(0,y.jy)(this.timeExpire),null===(t=this.registerOrderForm)||void 0===t||t.controls.dayExpire.setValue(this.timeExpire),this.timeOption=this.generateTimeArrays(0,0,this.timeExpire.getHours(),this.timeExpire.getMinutes());const C=(null===(n=this.timeOption[this.timeOption.length-1])||void 0===n?void 0:n.value)||"";null===(i=this.registerOrderForm)||void 0===i||i.controls.hoursExpire.setValue(C),this._cd.detectChanges()}handleRegisterOrderData(){var t,n;const i=(null===(t=this.bookingDetail.passengers)||void 0===t?void 0:t.map(a=>({key:a.key||"",parentKey:a.parentKey||"",firstName:a.firstName||"",lastName:a.lastName||"",displayName:`${a.lastName} ${a.firstName}`||"",birthDay:a.birthday?x(a.birthday).format("DD/MM/YYYY"):"",type:a.type||"",namePrefix:"UNDEFINE"===a.namePrefix?(0,E.A)(a.gender):a.namePrefix,gender:a.gender})))||[],d=(null==i?void 0:i.filter(a=>"INF"===a.type.toUpperCase()))||[],h=(null==i?void 0:i.filter(a=>"INF"!==a.type.toUpperCase()))||[];d.forEach(a=>{var _;const f=h.find(C=>C.key===a.parentKey);f&&(f.child=Object.assign(Object.assign({},a),{namePrefix:"MALE"===(null===(_=a.gender)||void 0===_?void 0:_.toUpperCase())?"B\xc9 TRAI":"B\xc9 G\xc1I"}))}),this.pnrOrderData={airline:this.bookingDetail.airline,bookingCode:this.bookingDetail.bookingCode,passengers:h||[],monitorType:T.$.PRICE,specifyFareClass:[],journeys:(null===(n=this.bookingDetail.journeys)||void 0===n?void 0:n.map(a=>{var _,f,C,N;return{airline:a.airline,airlineName:a.airlineName,airlineLogo:a.airlineLogo,flightNumber:`${a.airline}${a.segments[0].flightNumber}`,startPoint:a.startPoint,endPoint:a.endPoint,startTime:x(null!==(_=a.startTime)&&void 0!==_?_:new Date).format("HH:mm"),endTime:x(null!==(f=a.endTime)&&void 0!==f?f:new Date).format("HH:mm"),departure:x(null!==(C=a.startTime)&&void 0!==C?C:new Date).format("DD/MM/YYYY"),departureDateTime:null!==(N=a.startTime)&&void 0!==N?N:new Date,fareClass:"QH"===a.airline?`${a.segments[0].fareClass}-${a.segments[0].fareBasic}`:a.segments[0].fareClass,duration:a.segments[0].duration,durationStr:a.segments[0].shortDuration}}))||[],targetPrice:this.bookingDetail.targetPriceOrder||0,totalCharge:this.bookingDetail.totalCharge||0+this.bookingDetail.totalServiceFee||0},this.totalFare=this.pnrOrderData.targetPrice}handleRegenerateRegister(){var t,n;this.pnrOrderData={airline:this.registerOrderDetail.airline,bookingCode:this.registerOrderDetail.bookingCode,passengers:this.registerOrderDetail.passengers||[],monitorType:this.registerOrderDetail.monitorType,specifyFareClass:(null===(t=this.registerOrderDetail.monitors[0])||void 0===t?void 0:t.specifyFareClass)||[],journeys:(null===(n=this.registerOrderDetail.journeys)||void 0===n?void 0:n.map(i=>{var d;return{airline:i.airline,airlineName:i.airlineName,airlineLogo:i.airlineLogo,flightNumber:i.flightNumber,startPoint:i.startPoint,endPoint:i.endPoint,startTime:x(i.startTime).format("HH:mm"),endTime:x(i.endTime).format("HH:mm"),departure:x(i.startTime).format("DD/MM/YYYY"),departureDateTime:i.startTime,fareClass:(null===(d=this.registerOrderDetail.monitors[0])||void 0===d?void 0:d.currentFareClass)||"",duration:i.segments[0].shortDuration,durationStr:i.segments[0].shortDuration}}))||[],targetPrice:this.registerOrderDetail.targetPrice||0,totalCharge:this.registerOrderDetail.totalCharge},this.getAvailableAgent(this.registerOrderDetail.ownerId||"")}close(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}onExpandConfig(){this.registerOrderForm.controls.targetPrice.valid&&(this.isExpand=!this.isExpand)}onChangeStep(t){t===M.REVIEW&&(this.title="X\xe1c nh\u1eadn y\xeau c\u1ea7u canh v\xe9 r\u1ebb"),this.step=t}checkDirtyNumber(t,n){this.registerOrderForm.controls[t].setErrors(n<=0?{minAmount:!0}:n>this.totalFare?{maxAmount:!0}:n?null:{required:!0})}onRegisterOrder(){if(this.registerOrderForm.markAllAsTouched(),this.registerOrderForm.invalid)return;const t=this.registerOrderForm.value,n={advanceSetting:{notifyBeforeExpired:t.notifyBeforeExpired},airline:this.pnrOrderData.airline,fareMonitor:{expectLowerFareClass:this.pnrOrderData.journeys[0].fareClass,specifyFareClass:t.specifyFareClass||[]},priceMonitor:{targetPrice:t.targetPrice},pnr:this.pnrOrderData.bookingCode,timeExpire:x(t.dayExpire).format("YYYY-MM-DD")+`T${t.hoursExpire}:00`,monitorType:t.monitorType,stateClientFree:this.availableInfo.free};this._eventLogService.captureRegisterDownFare({hasPNR:this.isSuggest?0:1,airline:this.pnrOrderData.airline,source:this.getSourceEvent(),mode:t.monitorType===T.$.FARE?1:0,isDuplicated:this.regenerate?1:0,createdDate:x().format("YYYY-MM-DD HH:mm:ss")}),this.isLoading=!0,this._ticketLowFareService.registerOrder(n).pipe((0,D.x)(()=>this.isLoading=!1)).subscribe({next:i=>{var d,h;if("OK"===i.status){let a="",_="";if(this.availableInfo.free?(_="well_done",a=`<div>Ch\xfac m\u1eebng b\u1ea1n, b\u1ea1n \u0111\u01b0\u1ee3c mi\u1ec5n ph\xed y\xeau c\u1ea7u canh v\xe9 r\u1ebb <strong>#${i.data.code}</strong> cho m\xe3 \u0111\u1eb7t ch\u1ed7 <strong>${this.pnrOrderData.bookingCode}</strong>. Ch\xfang t\xf4i s\u1ebd th\xf4ng b\xe1o \u0111\u1ebfn b\u1ea1n khi c\xf3 c\u1eadp nh\u1eadt m\u1edbi nh\u1ea5t.</div>`):(_="success",a=`<div>Y\xeau c\u1ea7u canh v\xe9 r\u1ebb <strong>#${i.data.code}</strong> cho m\xe3 \u0111\u1eb7t ch\u1ed7 <strong>${this.pnrOrderData.bookingCode}</strong> \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o. Ch\xfang t\xf4i s\u1ebd th\xf4ng b\xe1o \u0111\u1ebfn b\u1ea1n khi c\xf3 c\u1eadp nh\u1eadt m\u1edbi nh\u1ea5t.</div>`),this._mobileDetectService.isMobile()){const f=this._bottomSheetService.open(F.Q4,{headerTitle:"",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",data:{title:"T\u1ea1o y\xeau c\u1ea7u canh v\xe9 th\xe0nh c\xf4ng",body:a,okText:"Xem danh s\xe1ch",cancelText:"\u0110\xf3ng",hasIcon:!0,status:_}});f.containerInstance._rightButtonClick.subscribe(()=>{f.dismiss()}),f.afterDismissed().subscribe(C=>{C?(this._route.navigate(["admin/manage-pnr-orders"]),this.bottomSheetRef.dismiss(!0)):this.bottomSheetRef.dismiss(!1)})}else this._modal.open(Y.V,{title:"T\u1ea1o y\xeau c\u1ea7u canh v\xe9 th\xe0nh c\xf4ng",content:a,status:_,cancelText:"\u0110\xf3ng",okText:"Xem danh s\xe1ch"}).afterClosed$.subscribe({next:C=>{C.data?(this.ref.close(!0),this.isSuggest||this._route.navigate(["admin/manage-pnr-orders"])):this.ref.close(!1)}})}else if("TPS-TLF12"===i.objectError.errorCode)if(this.availableInfo.free=!1,this._mobileDetectService.isMobile()){const a=this._bottomSheetService.open(F.Q4,{headerTitle:"X\xe1c nh\u1eadn",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",data:{title:"",body:"B\u1ea1n \u0111\xe3 \u0111\u1ea1t gi\u1edbi h\u1ea1n 2 y\xeau c\u1ea7u mi\u1ec5n ph\xed. Y\xeau c\u1ea7u n\xe0y l\xe0 c\xf3 <strong>Thu ph\xed</strong>. B\u1ea1n c\xf3 mu\u1ed1n ti\u1ebfp t\u1ee5c y\xeau c\u1ea7u canh v\xe9 r\u1ebb kh\xf4ng?",okText:"X\xe1c nh\u1eadn",cancelText:"\u0110\xf3ng",hasIcon:!0,status:"info"}});a.containerInstance._rightButtonClick.subscribe(()=>{a.dismiss()}),a.afterDismissed().subscribe(_=>{_&&this.onRegisterOrder()})}else this._modal.open(F.V0,{title:"X\xe1c nh\u1eadn thay \u0111\u1ed5i",body:"B\u1ea1n \u0111\xe3 \u0111\u1ea1t gi\u1edbi h\u1ea1n 2 y\xeau c\u1ea7u mi\u1ec5n ph\xed. Y\xeau c\u1ea7u n\xe0y l\xe0 c\xf3 <strong>Thu ph\xed</strong>. B\u1ea1n c\xf3 mu\u1ed1n ti\u1ebfp t\u1ee5c y\xeau c\u1ea7u canh v\xe9 r\u1ebb kh\xf4ng?",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",hasIcon:!0}).afterClosed$.subscribe({next:_=>{_.data&&this.onRegisterOrder()}});else{let a="Xem danh s\xe1ch";a="TPS-TLF006"===i.objectError.errorCode?"Qu\u1ea3n l\xfd canh v\xe9":"Canh v\xe9 kh\xe1c";const _=(null===(h=null===(d=i.objectError)||void 0===d?void 0:d.errorDescription)||void 0===h?void 0:h.vi)||`M\xe3 \u0111\u1eb7t ch\u1ed7 <strong>${this.pnrOrderData.bookingCode}</strong> kh\xf4ng c\xf2n h\u1ee3p l\u1ec7 \u0111\u1ec3 t\u1ea1o y\xeau c\u1ea7u canh v\xe9. Vui l\xf2ng canh v\xe9 v\u1edbi m\xe3 \u0111\u1eb7t ch\u1ed7 kh\xe1c.`;if(this._mobileDetectService.isMobile()){const f=this._bottomSheetService.open(F.Q4,{headerTitle:"",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",data:{title:"M\xe3 \u0111\u1eb7t ch\u1ed7 kh\xf4ng h\u1ee3p l\u1ec7",body:_,okText:a,cancelText:"\u0110\xf3ng",hasIcon:!0,status:"error"}});f.containerInstance._rightButtonClick.subscribe(()=>{f.dismiss()}),f.afterDismissed().subscribe(C=>{C?"TPS-TLF006"===i.objectError.errorCode?(this.bottomSheetRef.dismiss(!0),this._route.navigate(["admin/manage-pnr-orders"])):this.onRegisterNewPnrOrder():this.bottomSheetRef.dismiss(!1)})}else this._modal.open(Y.V,{title:"M\xe3 \u0111\u1eb7t ch\u1ed7 kh\xf4ng h\u1ee3p l\u1ec7",content:_,status:"error",cancelText:"\u0110\xf3ng",okText:a}).afterClosed$.subscribe({next:C=>{C.data&&("TPS-TLF006"===i.objectError.errorCode?(this.ref.close(!0),this._route.navigate(["admin/manage-pnr-orders"])):this.onRegisterNewPnrOrder())}})}},error:()=>{const i="Canh v\xe9 kh\xe1c";if(this._mobileDetectService.isMobile()){const d=this._bottomSheetService.open(F.Q4,{headerTitle:"",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",data:{title:"M\xe3 \u0111\u1eb7t ch\u1ed7 kh\xf4ng h\u1ee3p l\u1ec7",body:`<div>M\xe3 \u0111\u1eb7t ch\u1ed7 <strong>${this.pnrOrderData.bookingCode}</strong> kh\xf4ng c\xf2n h\u1ee3p l\u1ec7 \u0111\u1ec3 t\u1ea1o y\xeau c\u1ea7u canh v\xe9. Vui l\xf2ng canh v\xe9 v\u1edbi m\xe3 \u0111\u1eb7t ch\u1ed7 kh\xe1c.</div>`,okText:i,cancelText:"\u0110\xf3ng",hasIcon:!0,status:"error"}});d.containerInstance._rightButtonClick.subscribe(()=>{d.dismiss()}),d.afterDismissed().subscribe(h=>{h?this.onRegisterNewPnrOrder():this.bottomSheetRef.dismiss(!1)})}else this._modal.open(Y.V,{title:"M\xe3 \u0111\u1eb7t ch\u1ed7 kh\xf4ng h\u1ee3p l\u1ec7",content:`<div>M\xe3 \u0111\u1eb7t ch\u1ed7 <strong>${this.pnrOrderData.bookingCode}</strong> kh\xf4ng c\xf2n h\u1ee3p l\u1ec7 \u0111\u1ec3 t\u1ea1o y\xeau c\u1ea7u canh v\xe9. Vui l\xf2ng canh v\xe9 v\u1edbi m\xe3 \u0111\u1eb7t ch\u1ed7 kh\xe1c.</div>`,status:"error",cancelText:"\u0110\xf3ng",okText:i}).afterClosed$.subscribe({next:h=>{h.data&&this.onRegisterNewPnrOrder()}})}})}getSourceEvent(){switch(this.sourceEvent){case"BOOKING_SUCCESS":return 0;case"BOOKING_DETAIL":return 1;case"SUGGEST":return 2;case"HEADER_MANAGE":return 3;case"EMPTY_STATE":return 4;case"REGENERATE":return 5;default:return-1}}onRegisterNewPnrOrder(){this.isSuggest=!0,this.step=M.CREATE,this.pnrOrderData={bookingCode:"",airline:"",monitorType:T.$.PRICE,specifyFareClass:[],passengers:[],journeys:[],targetPrice:0,totalCharge:0},this.onSearchPnrSuggest(""),this.registerOrderForm.reset(),this.registerOrderForm.pacthValue({notifyBeforeExpired:!0})}onChangeLowFare(){if(this.registerOrderForm.value.monitorType===T.$.PRICE)if(this._mobileDetectService.isMobile()){const t=this._bottomSheetService.open(F.Q4,{headerTitle:"X\xe1c nh\u1eadn",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",data:{body:"Vi\u1ec7c ch\u1ecdn h\u1ea1ng gh\u1ebf mong mu\u1ed1n s\u1ebd h\u1ee7y c\xe1c ch\u1ec9nh s\u1eeda c\u1ee7a t\xednh n\u0103ng <strong>Canh theo gi\xe1 v\xe9</strong>. B\u1ea1n mu\u1ed1n ti\u1ebfp t\u1ee5c ch\u1ecdn h\u1ea1ng gh\u1ebf mong mu\u1ed1n?",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",hasIcon:!0}});t.containerInstance._rightButtonClick.subscribe(()=>{t.dismiss()}),t.afterDismissed().subscribe(n=>{n&&(this.registerOrderForm.controls.monitorType.setValue(T.$.FARE),this.registerOrderForm.controls.specifyFareClass.setValue(null),this.registerOrderForm.controls.specifyFareClass.setValidators([s.kI.required]),this.registerOrderForm.controls.specifyFareClass.updateValueAndValidity(),this.registerOrderForm.controls.targetPrice.setErrors(null))})}else this._modal.open(F.V0,{title:"X\xe1c nh\u1eadn thay \u0111\u1ed5i",body:"Vi\u1ec7c ch\u1ecdn h\u1ea1ng gh\u1ebf mong mu\u1ed1n s\u1ebd h\u1ee7y c\xe1c ch\u1ec9nh s\u1eeda c\u1ee7a t\xednh n\u0103ng <strong>Canh theo gi\xe1 v\xe9</strong>. B\u1ea1n mu\u1ed1n ti\u1ebfp t\u1ee5c ch\u1ecdn h\u1ea1ng gh\u1ebf mong mu\u1ed1n?",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",hasIcon:!0}).afterClosed$.subscribe({next:n=>{n.data&&(this.registerOrderForm.controls.monitorType.setValue(T.$.FARE),this.registerOrderForm.controls.specifyFareClass.setValue(null),this.registerOrderForm.controls.specifyFareClass.setValidators([s.kI.required]),this.registerOrderForm.controls.specifyFareClass.updateValueAndValidity(),this.registerOrderForm.controls.targetPrice.setErrors(null))}})}onChangePrice(){var t;if(this.registerOrderForm.value.monitorType===T.$.FARE&&null!==(t=this.registerOrderForm.value.specifyFareClass)&&void 0!==t&&t.length)if(this._mobileDetectService.isMobile()){const n=this._bottomSheetService.open(F.Q4,{headerTitle:"X\xe1c nh\u1eadn",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",data:{body:"Vi\u1ec7c b\u1eadt t\xednh n\u0103ng <strong>Canh theo gi\xe1 v\xe9</strong> s\u1ebd h\u1ee7y ch\u1ec9nh s\u1eeda c\u1ee7a c\xe1c h\u1ea1ng gh\u1ebf mong mu\u1ed1n. B\u1ea1n mu\u1ed1n ti\u1ebfp t\u1ee5c canh theo gi\xe1 v\xe9?",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",hasIcon:!0}});n.containerInstance._rightButtonClick.subscribe(()=>{n.dismiss()}),n.afterDismissed().subscribe(i=>{i&&(this.registerOrderForm.controls.monitorType.setValue(T.$.PRICE),this.registerOrderForm.controls.targetPrice.setValue(this.pnrOrderData.targetPrice),this.registerOrderForm.controls.targetPrice.setValidators([s.kI.required]),this.registerOrderForm.controls.targetPrice.updateValueAndValidity(),this.registerOrderForm.controls.specifyFareClass.setErrors(null))})}else this._modal.open(F.V0,{title:"X\xe1c nh\u1eadn thay \u0111\u1ed5i",body:"Vi\u1ec7c b\u1eadt t\xednh n\u0103ng <strong>Canh theo gi\xe1 v\xe9</strong> s\u1ebd h\u1ee7y ch\u1ec9nh s\u1eeda c\u1ee7a c\xe1c h\u1ea1ng gh\u1ebf mong mu\u1ed1n. B\u1ea1n mu\u1ed1n ti\u1ebfp t\u1ee5c canh theo gi\xe1 v\xe9?",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",hasIcon:!0}).afterClosed$.subscribe({next:i=>{i.data&&(this.registerOrderForm.controls.monitorType.setValue(T.$.PRICE),this.registerOrderForm.controls.targetPrice.setValue(this.pnrOrderData.targetPrice),this.registerOrderForm.controls.targetPrice.setValidators([s.kI.required]),this.registerOrderForm.controls.targetPrice.updateValueAndValidity(),this.registerOrderForm.controls.specifyFareClass.setErrors(null))}});else this.registerOrderForm.controls.monitorType.setValue(T.$.PRICE),this.registerOrderForm.controls.targetPrice.setValue(this.pnrOrderData.targetPrice),this.registerOrderForm.controls.targetPrice.setValidators([s.kI.required]),this.registerOrderForm.controls.targetPrice.updateValueAndValidity(),this.registerOrderForm.controls.specifyFareClass.setErrors(null)}onCheckNotify(t){this.registerOrderForm.controls.notifyBeforeExpired.setValue(t)}onSearchPnrSuggest(t){this._ticketLowFareService.searchSuggestPnrMonitorLowFare({pnrSearch:t}).subscribe({next:i=>{if("OK"===i.status&&i.data){(h=>{this.pnrSuggestOptions=(null==h?void 0:h.map(a=>({bookingCode:a.bookingCode,airline:a.airline,ownerId:a.ownerId,monitorType:T.$.PRICE,specifyFareClass:[],passengers:a.passengers.map(_=>({key:_.key,parentKey:_.parentKey,firstName:_.firstName,lastName:_.lastName,displayName:`${_.lastName} ${_.firstName}`,birthDay:"",type:_.type,namePrefix:_.namePrefix,gender:_.gender})),journeys:a.journeys.map(_=>({airline:a.airline,airlineName:this._flightDataService.getAirlineNameByCode(a.airline),airlineLogo:this._flightDataService.getAirlineLogoByCode(a.airline),flightNumber:`${a.airline}${_.segments[0].flightNumber}`,startPoint:_.startPoint,endPoint:_.endPoint,startTime:x(_.departTime).format("HH:mm"),endTime:x(_.arrivalTime).format("HH:mm"),departure:x(_.departTime).format("DD/MM/YYYY"),departureDateTime:x(_.departTime).toDate(),fareClass:"QH"===a.airline?`${_.segments[0].fareClass}-${_.segments[0].fareBasic}`:_.segments[0].fareClass,duration:"",durationStr:(0,B.N)(_.duration)})),targetPrice:a.totalFare,totalCharge:a.totalFareCharge||0+a.totalServiceFee||0})))||[],this.isDataEmpty=0===this.pnrSuggestOptions.length})(i.data.pnrSearch?i.data.pnrSearchResults:i.data.prnSuggest)}else this.isDataEmpty=!0;this.isDataEmpty&&t&&this.registerOrderForm.controls.bookingCode.setErrors({invalid:!0}),this._cd.detectChanges()},error:()=>{this.isDataEmpty&&t&&this.registerOrderForm.controls.bookingCode.setErrors({invalid:!0})}})}onSelectedPnr(t){this.getAvailableAgent(t.ownerId||""),this.getListLowerFareClass(t.airline,t.journeys[0].fareClass),this.pnrOrderData=t,this.totalFare=t.targetPrice,this.registerOrderForm.controls.targetPrice.setValue(t.targetPrice),this.generateTime(),this.pnrSuggestOptions.find(i=>i.bookingCode===t.bookingCode)||this.pnrSuggestOptions.unshift(t)}onSearchValueChange(t){this.registerOrderForm.controls.bookingCode.setErrors(t?null:{required:!0}),this.searchValueChanged$.next(t)}click(t){this.isOpen=!this.isOpen,t.stopPropagation()}onSelectedTimeExpire(){const t=this.registerOrderForm.value,n=new Date(x(t.dayExpire).format("YYYY-MM-DD")+`T${t.hoursExpire}:00`),d=new Date((new Date).getTime()+9e5);this.notifyExpired=n.getTime()<d.getTime(),this.registerOrderForm.controls.notifyBeforeExpired.setValue(!this.notifyExpired)}onDateSelected(t){var n;const i=x(t).format("DD/MM/YYYY"),d=x(new Date).format("DD/MM/YYYY"),h=x(this.timeExpire).format("DD/MM/YYYY");this.timeOption=i===d?this.generateTimeArrays((new Date).getHours(),(new Date).getMinutes(),23,60):i===h?this.generateTimeArrays(0,0,this.timeExpire.getHours(),this.timeExpire.getMinutes()):this.generateTimeArrays(0,0,23,60),(null===(n=this.timeOption)||void 0===n?void 0:n.map(_=>_.value).includes(this.registerOrderForm.controls.hoursExpire.value))?this.registerOrderForm.controls.hoursExpire.setErrors(null):(this.registerOrderForm.controls.hoursExpire.setErrors({illegal:!0}),this.registerOrderForm.markAllAsTouched())}onCheckedAll(t){var n,i;if(t){const d=(null===(i=null===(n=this.lowerFareClassOptions)||void 0===n?void 0:n.flatMap(h=>h.children))||void 0===i?void 0:i.map(h=>null==h?void 0:h.code))||[];this.registerOrderForm.controls.specifyFareClass.setValue(d)}else this.registerOrderForm.controls.specifyFareClass.setValue(null)}openFareOptions(){const t=this.listFareTypeOptions.every(n=>n.isActive);if(this._mobileDetectService.isMobile()){const n=this._bottomSheetService.open(J.X,{headerTitle:"H\xe3ng bay/H\u1ea1ng gh\u1ebf",containerFullHeigh:!0,data:{listFareTypeOptions:this.listFareTypeOptions,selectedAll:t}});n.containerInstance._rightButtonClick.subscribe(()=>n.dismiss()),n.afterDismissed().subscribe({next:i=>{var d;i&&(this.listFareTypeOptions=i),n.dismiss();const h=(null===(d=this.listFareTypeOptions)||void 0===d?void 0:d.flatMap(a=>a.fareClass).filter(a=>a.isActive).map(a=>a.code))||[];this.registerOrderForm.controls.specifyFareClass.setValue(h||null)}})}else this._modal.open(J.X,{listFareTypeOptions:this.listFareTypeOptions,selectedAll:t}).afterClosed$.subscribe(i=>{var d;i.data&&(this.listFareTypeOptions=i.data);const h=(null===(d=this.listFareTypeOptions)||void 0===d?void 0:d.flatMap(a=>a.fareClass).filter(a=>a.isActive).map(a=>a.code))||[];this.registerOrderForm.controls.specifyFareClass.setValue(h||null)})}onRemoveFareTypeOption(t,n){t.preventDefault(),t.stopPropagation(),n.isActive=!1,n.isAllFareClass=!1,n.fareClass.forEach(i=>i.isActive=!1),this.handleFareClassOption()}onRemoveFareClassOption(t,n){t.preventDefault(),t.stopPropagation(),n.isActive=!1,this.handleFareClassOption()}handleFareClassOption(){var t;if(this.listFareTypeOptions.every(i=>!i.isActive))this.registerOrderForm.controls.specifyFareClass.setValue(null);else{const i=(null===(t=this.listFareTypeOptions)||void 0===t?void 0:t.flatMap(d=>d.fareClass).filter(d=>d.isActive).map(d=>d.code))||[];this.registerOrderForm.controls.specifyFareClass.setValue(i||null)}}scrollDown(){this.numOfMonth=this.numOfMonth+4}expireDatePickerClick(t){if(this._mobileDetectService.isMobile()){const n=this._bottomSheetService.open(t,{headerTitle:"Ch\u1ecdn ng\xe0y k\u1ebft th\xfac",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",leftButtonIcon:""});n.containerInstance._rightButtonClick.subscribe(()=>n.dismiss()),n.afterDismissed().subscribe(i=>{var d;i||null===(d=this.registerOrderForm)||void 0===d||d.controls.dayExpire.setValue(null)})}}onMobileDatePickerOK(){var t,n,i;this._bottomSheetService.dismiss(!0),null===(t=this.registerOrderForm)||void 0===t||t.controls.dayExpire.setValue(null===(n=this.registerOrderForm)||void 0===n?void 0:n.controls.dayExpire.value),this.onDateSelected(null===(i=this.registerOrderForm)||void 0===i?void 0:i.controls.dayExpire.value)}expireDateFocus(t){if(this._mobileDetectService.isMobile())return t.preventDefault(),!1}onCloseDatePicker(){this._bottomSheetService.dismiss()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Q.gb,8),e.Y36(q.Rr,8),e.Y36(q.Zu,8),e.Y36(v.KNP),e.Y36(y.jH),e.Y36(s.qu),e.Y36(Q.oE),e.Y36($.F0),e.Y36(e.sBO),e.Y36(V.s),e.Y36(W.G),e.Y36(j.x),e.Y36(z.L),e.Y36(q.a2))},r.\u0275cmp=e.Xpm({type:r,selectors:[["register-pnr-order"]],standalone:!0,features:[e.jDz],decls:16,vars:6,consts:[[1,"w-[700px]","max-h-[600px]","overflow-hidden","rounded-lg","bg-neutral-white","flex","flex-col","md:w-screen","md:max-h-none","md:h-full","md:justify-between","md:rounded-none"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-neutral-gray-1","md:hidden"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"p-6","w-full","h-full","flex-1","overflow-auto"],["class","flex flex-col gap-y-5",4,"ngIf"],[1,"p-6"],["class","flex justify-end gap-x-2 md:justify-between",4,"ngIf"],["availableSlotRef",""],["availableSlotFeeRef",""],[4,"ngIf"],[1,"flex","flex-col","gap-y-5"],[1,"flex","justify-around","items-center","md:hidden"],[1,"flex","flex-col","gap-y-3","justify-center","items-center"],[1,"relative","flex-shrink-0","w-9","h-9","rounded-full","flex","items-center","justify-center","border","border-secondary-7-4","text-white","bg-neutral-white"],["icon","check","size","small",1,"text-secondary-7-4"],[1,"absolute","w-[120px]","h-[1px]","bg-secondary-7-4","top-[50%]","left-[100%]"],[1,"flex","flex-col","items-center","justify-center","gap-y-"],[1,"text-express-md","text-neutral-gray-6"],[1,"text-body-sm","text-neutral-gray-4"],[1,"flex","flex-col","items-center","gap-y-3"],[1,"relative","flex-shrink-0","w-9","h-9","rounded-full","flex","items-center","justify-center","bg-secondary-7-4","text-white"],[1,"absolute","w-[126px]","h-[1px]","bg-neutral-gray-3","top-[50%]","left-[100%]"],[1,"flex","flex-col","items-center","justify-center","text-neutral-gray-6"],[1,"text-express-md"],[1,"text-body-sm"],[1,"relative","z-10","flex-shrink-0","w-9","h-9","rounded-full","flex","items-center","justify-center","border","border-neutral-gray-3","text-neutral-gray-3","bg-neutral-white"],[1,"absolute","w-[136px]","h-[1px]","bg-neutral-gray-3","top-[50%]","left-[100%]"],[1,"flex","flex-col","items-center","justify-center","text-neutral-gray-4"],[1,"z-10","flex-shrink-0","w-9","h-9","rounded-full","flex","items-center","justify-center","border","border-neutral-gray-3","text-neutral-gray-3","bg-neutral-white"],["class","flex flex-col gap-y-2.5",4,"ngIf"],[1,"flex","flex-col","gap-y-2.5"],[1,"flex","justify-between","items-center"],[1,"flex","items-center","gap-x-2"],["icon","coupon","size","small"],[1,"text-heading-sm","text-neutral-black"],["textField","bookingCode","valueField","bookingCode",1,"!max-w-none","w-full",3,"status","data","placeholder","formControl","allowSearch","isEmpty","onSearch","selectedChange"],["icon","search","size","small"],["cfHint","",3,"hint",4,"ngIf"],[3,"availableSlotData","content"],["cfHint","",3,"hint"],[1,"text-heading-lg"],[1,"w-full","h-[1px]","bg-neutral-gray-1","md:hidden"],[1,"flex","gap-x-2","items-center","md:flex-col","md:gap-y-2","md:items-baseline","md:justify-start"],["icon","clock","size","small"],[3,"color","size"],[1,"flex","justify-between","gap-x-6","md:flex-col","md:gap-y-4"],[1,"!w-1/2","md:!w-full",3,"status"],["cfHeadIcon","","icon","calendar","size","small"],["cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y k\u1ebft th\xfac",1,"py-[7px]",3,"secondaryCalendar","displayMonths","minDate","maxDate","formControl","input","dateSelect","click","mousedown"],["dateFrom","cfDatepicker"],["datepickerBottomSheet",""],[1,"!w-1/2","md:!w-full"],["textField","text","valueField","value",1,"!max-w-none","md:!max-w-full",3,"status","data","placeholder","allowSearch","formControl","selectedChange"],["cfHeadIcon","","icon","clock","size","small"],[1,"w-full","h-[1px]","bg-neutral-gray-1"],[1,"flex","justify-between","items-start"],["icon","price_down","size","small"],[1,"cursor-pointer",3,"click"],[1,"pointer-events-none",3,"checked"],["class","",4,"ngIf"],["icon","seat","size","small"],[1,"border","border-dashed","border-neutral-gray-3","rounded"],[1,"py-[9px]","px-[14px]","flex","items-center","gap-x-2","cursor-pointer",3,"click"],["icon","filter","size","small"],[1,"flex-1"],["icon","plus","size","small",4,"ngIf"],["icon","remove","size","small",4,"ngIf"],["class","p-4 border-t border-neutral-gray-2",4,"ngIf"],[1,"flex","w-full","flex-col","justify-between"],["infinite-scroll","",1,"w-full","flex",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","scrollWindow","fromRoot","alwaysCallback","infiniteScrollContainer","scrolled"],["outsideDays","hidden","navigation","none","direction","vertical",1,"",3,"minDate","displayMonths","rangeSelection","secondaryCalendar","formControl","maxDate","fromDate","displayMonthsOffset"],[1,"p-6","w-full","bg-neutral-white"],[1,"flex","gap-x-4"],["cf-button","","type","secondary",1,"justify-center","w-full",3,"click"],["cf-button","",1,"justify-center","w-full",3,"disabled","click"],[1,""],[1,"!w-full",3,"status"],["cfLabel",""],["size","medium",3,"placeholder","decimal","negative","formControl","ngModelChange"],[1,"flex","justify-between","items-center","border","border-[#CCCCCC]","rounded","mt-2","mb-2","cursor-pointer","p-2",3,"click"],["id","faresgroup",1,"flex","flex-wrap","gap-2","max-h-[7em]","overflow-y-auto"],["class","text-neutral-gray-4 text-body-md-short",4,"ngIf"],["class","flex items-center gap-2 flex-wrap",4,"ngIf"],["icon","chevron_down","size","small",1,"cursor-pointer"],[1,"text-neutral-gray-4","text-body-md-short"],[1,"flex","items-center","gap-2","flex-wrap"],["class","flex items-center gap-x-2",4,"ngFor","ngForOf"],["class","border border-neutral-gray-1 flex items-center gap-x-2 bg-[#F2F2F2] text-espressive-sm p-1",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"border","border-neutral-gray-1","flex","items-center","gap-x-2","bg-[#F2F2F2]","text-espressive-sm","p-1"],["icon","close","size","small",3,"click"],["icon","plus","size","small"],["icon","remove","size","small"],[1,"p-4","border-t","border-neutral-gray-2"],[1,"flex","items-center","justify-between","gap-x-2"],["icon","notification","size","small",1,"inline-block"],[3,"disabled","checked","checkedChange"],[1,"text-body-md","pl-6"],[1,"flex","flex-col","gap-y-4"],["icon","plane","size","small"],[1,"border","border-dashed","border-neutral-gray-3","rounded-lg","p-3","flex","flex-col","gap-y-4"],[1,"flex","gap-x-4","justify-end","items-center","border-t","border-neutral-gray-2","pt-2"],[1,"min-w-[104px]","text-heading-sm","text-right"],["icon","users","size","small"],[1,"border","border-dashed","border-neutral-gray-2","rounded-lg","p-3","flex","flex-col","gap-y-2"],["icon","clipboard_list","size","small"],[1,"p-3","border-b","border-neutral-gray-1","flex","gap-x-3","md:flex-col"],[1,"min-w-[142px]","whitespace-nowrap","text-body-md-short","text-neutral-black"],[1,"flex-1","text-express-md","text-neutral-gray-6"],["class","p-3 border-b border-neutral-gray-1 flex gap-x-3 md:flex-col",4,"ngIf"],["class","flex items-start justify-between gap-x-2",4,"ngIf"],["icon","circle_information","size","small"],[1,"flex","flex-col","gap-y-2","text-body-md-short"],[1,"flex","gap-x-3"],["icon","price_up","size","small"],["icon","document_check","size","small"],[1,"text-secondary-3-4"],[1,"flex","justify-between","gap-x-3","md:hidden"],[1,"flex","items-center","mr-4"],[1,"flex","justify-center","items-center","w-[22px]","h-[22px]","rounded-full","bg-neutral-gray-1","text-neutral-gray-4","text-heading-sm"],[1,"w-[80px]","flex-shrink-0","px-4"],[1,"w-[80px]","h-[40px]","object-contain",3,"src"],[1,"flex","flex-col","items-center"],[1,"text-heading-sm"],[1,"text-express-sm","text-neutral-gray-4"],[1,"flex","gap-x-1","items-center"],[1,"flex","flex-col","items-center","gap-y-1","text-express-sm","text-neutral-gray-4","relative"],[1,"flex","items-center"],[1,"w-1","h-1","bg-neutral-gray-3","rounded-full"],[1,"w-[100px]","h-[1px]","bg-neutral-gray-3"],["icon","plane","size","small",1,"text-neutral-gray-3"],[1,"hidden","md:flex","flex-col","gap-y-3"],[1,"flex","justify-between","gap-x-3"],[1,"flex-1","flex","flex-col","items-start"],[1,"flex","justify-end","gap-x-3"],[1,"w-[66px]","h-[1px]","bg-neutral-gray-3"],["class","w-full h-[1px] bg-neutral-gray-1",4,"ngIf"],[1,"flex","gap-x-2","justify-start"],[1,"flex","flex-col","gap-y-2"],["class","text-body-sm",4,"ngIf"],[1,"flex","items-start","justify-between","gap-x-2"],["icon","coupon","size","small",1,"inline-block"],["class","text-body-md pl-6 text-neutral-gray-4",4,"ngIf"],[1,"text-body-md","pl-6","text-neutral-gray-4"],[1,"flex","justify-end","gap-x-2","md:justify-between"],["cf-button","","size","medium","type","secondary",1,"justify-center","md:w-full","md:hidden",3,"click"],["cf-button","","size","medium","type","secondary",1,"justify-center","md:w-full","hidden","md:flex",3,"click"],["icon","chevron_left","size","small",1,"mr-2.5"],["cf-button","","size","medium","color","primary-1",1,"justify-center","md:w-full",3,"disabled","click"],["icon","chevron_right","size","small",1,"ml-2.5"],["cf-button","","size","medium","type","secondary",1,"justify-center","md:w-full",3,"click"],["icon","circle_check","size","small",1,"ml-2.5"],["class","px-2.5 py-1 rounded bg-black bg-opacity-30 flex items-center gap-x-2 cursor-default",4,"ngIf"],[1,"px-2.5","py-1","rounded","bg-black","bg-opacity-30","flex","items-center","gap-x-2","cursor-default"],[1,"text-neutral-white","text-button-md"],["icon","circle_help","size","small",1,"text-neutral-white"],["class","inline-flex gap-x-1 items-center whitespace-nowrap text-express-md text-neutral-white px-2 py-1 rounded bg-black bg-opacity-30",4,"ngIf"],[1,"inline-flex","gap-x-1","items-center","whitespace-nowrap","text-express-md","text-neutral-white","px-2","py-1","rounded","bg-black","bg-opacity-30"],[1,"line-through"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return n.close()}),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,ye,40,3,"div",5),e.YNc(7,qe,77,17,"div",5),e.qZA(),e.TgZ(8,"div",6),e.YNc(9,Ye,10,1,"div",7),e.YNc(10,Le,7,1,"div",7),e.qZA()(),e.YNc(11,Ke,2,2,"ng-template",null,8,e.W1O),e.YNc(13,Ve,2,2,"ng-template",null,9,e.W1O),e.YNc(15,We,1,0,"cf-spinner",10)),2&t&&(e.xp6(3),e.Oqu(n.title),e.xp6(3),e.Q6J("ngIf",n.step===n.STEP_ORDER.CREATE),e.xp6(1),e.Q6J("ngIf",n.step===n.STEP_ORDER.REVIEW),e.xp6(2),e.Q6J("ngIf","CREATE"===n.step),e.xp6(1),e.Q6J("ngIf",n.step===n.STEP_ORDER.REVIEW),e.xp6(5),e.Q6J("ngIf",n.isLoading))},dependencies:[l.ez,l.sg,l.O5,l.JJ,l.uU,v.AxE,v.Sm8,A.N8,A.Xq,k.q,s.u5,s.Fj,s.JJ,s.UX,s.oH,I.I,o.j$,o.ND,o.BN,o.lt,F.OR,y.Cs,R.f,S.b,P.m,m.Rq,m.Ry,q.DW,y._o,H._],encapsulation:2}),r})()}}]);