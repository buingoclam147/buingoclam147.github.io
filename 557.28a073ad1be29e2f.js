"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[557],{58398:(O,S,s)=>{s.r(S),s.d(S,{BtcDetailTimeConfigAutoComponent:()=>Qe,BtcListTimeConfigAutoComponent:()=>Ee});var g=s(36895),o=s(24006),x=s(10908),k=s(83700),E=s(88516),u=s(72506),_=s(44143),b=s(74713),T=s(76331),v=s(48373),d=s(67534),D=s(77296),C=s(28746),e=s(94650),X=s(62733),w=s(82761),ee=s(80529),re=s(88001),te=s(50494),ie=s(54004),p=s(97582),m=s(87067),B=s(43429);let ae=(()=>{class n{}return(0,p.gn)([(0,m.C)()],n.prototype,"listDayOfWeekExclude",void 0),n})(),se=(()=>{class n{}return(0,p.gn)([(0,m.C)()],n.prototype,"startTimeOfDayExclude",void 0),(0,p.gn)([(0,m.C)()],n.prototype,"endTimeOfDayExclude",void 0),n})(),ce=(()=>{class n{}return(0,p.gn)([(0,m.C)()],n.prototype,"startTimeExclude",void 0),(0,p.gn)([(0,m.C)()],n.prototype,"endTimeExclude",void 0),n})();const ue={SUNDAY:"Ch\u1ee7 nh\u1eadt",MONDAY:"Th\u1ee9 hai",TUESDAY:"Th\u1ee9 ba",WEDNESDAY:"Th\u1ee9 t\u01b0",THURSDAY:"Th\u1ee9 n\u0103m",FRIDAY:"Th\u1ee9 s\xe1u",SATURDAY:"Th\u1ee9 b\u1ea3y"};let ne=(()=>{class n{get createdTimeDate(){return new Date(this.createdTime)}get listDayOfWeekExcludeStr(){var t;return null!==(t=this.dayOfWeekExclude)&&void 0!==t&&t.listDayOfWeekExclude?this.dayOfWeekExclude.listDayOfWeekExclude.split(",").map(i=>ue[i.trim()]||i).join(", "):""}}return(0,p.gn)([(0,m.C)()],n.prototype,"id",void 0),(0,p.gn)([(0,m.C)()],n.prototype,"airline",void 0),(0,p.gn)([(0,m.C)()],n.prototype,"startTime",void 0),(0,p.gn)([(0,m.C)()],n.prototype,"endTime",void 0),(0,p.gn)([(0,m.C)()],n.prototype,"createdTime",void 0),(0,p.gn)([(0,B.D)(()=>ae),(0,m.C)()],n.prototype,"dayOfWeekExclude",void 0),(0,p.gn)([(0,B.D)(()=>se),(0,m.C)()],n.prototype,"listTimeOfDayExclude",void 0),(0,p.gn)([(0,B.D)(()=>ce),(0,m.C)()],n.prototype,"listTimeExclude",void 0),(0,p.gn)([(0,m.C)()],n.prototype,"disabled",void 0),n})(),de=(()=>{class n{}return(0,p.gn)([(0,m.C)()],n.prototype,"status",void 0),(0,p.gn)([(0,B.D)(()=>ne),(0,m.C)()],n.prototype,"data",void 0),(0,p.gn)([(0,m.C)()],n.prototype,"objectError",void 0),(0,p.gn)([(0,m.C)()],n.prototype,"traceId",void 0),(0,p.gn)([(0,m.C)()],n.prototype,"success",void 0),(0,p.gn)([(0,m.C)()],n.prototype,"errorCode",void 0),n})(),pe=(()=>{class n{}return(0,p.gn)([(0,m.C)()],n.prototype,"status",void 0),(0,p.gn)([(0,B.D)(()=>ne),(0,m.C)()],n.prototype,"data",void 0),(0,p.gn)([(0,m.C)()],n.prototype,"objectError",void 0),(0,p.gn)([(0,m.C)()],n.prototype,"traceId",void 0),(0,p.gn)([(0,m.C)()],n.prototype,"success",void 0),(0,p.gn)([(0,m.C)()],n.prototype,"errorCode",void 0),n})();const F={headers:new ee.WM({"Content-Type":"application/json"})};let oe=(()=>{class n{constructor(t,i){this.http=t,this.appConfig=i}createConfigBtcAutoIssuedTime(t){return this.http.post(this.appConfig.apiUrl+"bc-server/create-config-bc-auto-issued-time",JSON.stringify(t),F)}getListConfigBtcAutoIssuedTime(t){return this.http.post(this.appConfig.apiUrl+"bc-server/get-list-config-bc-auto-issued-time",JSON.stringify(t),F).pipe((0,ie.U)(i=>(0,te.yE)(de,i,{excludeExtraneousValues:!0})))}getDetailConfigBtcAutoIssuedTime(t){return this.http.post(this.appConfig.apiUrl+"bc-server/get-detail-config-bc-auto-issued-time",{id:t},F).pipe((0,ie.U)(i=>(0,te.yE)(pe,i,{excludeExtraneousValues:!0})))}updateConfigBtcAutoIssuedTime(t){return this.http.put(this.appConfig.apiUrl+"bc-server/update-detail-config-bc-auto-issued-time",JSON.stringify(t),F)}updateDisableConfigBtcAutoIssuedTime(t,i){return this.http.put(this.appConfig.apiUrl+"bc-server/update-disable-config-bc-auto-issued-time",{id:t,disabled:i},F)}deleteConfigBtcAutoIssuedTime(t){return this.http.delete(`${this.appConfig.apiUrl}bc-server/delete-config-bc-auto-issued-time?id=${t}`,F)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ee.eN),e.LFG(re.qB))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var le=s(62331),me=s(97579);function ge(n,c){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=c.$implicit,i=c.index;e.xp6(1),e.lnq(" ",0!=i?",":""," ",t.startTimeOfDayExclude," - ",t.endTimeOfDayExclude," ")}}function fe(n,c){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=c.$implicit,i=c.index;e.xp6(1),e.lnq(" ",0!=i?",":""," ",t.startTimeExclude," - ",t.endTimeExclude," ")}}function he(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"tr",27)(1,"td",28),e._uU(2),e.qZA(),e.TgZ(3,"td",29),e._uU(4),e.qZA(),e.TgZ(5,"td",29),e._uU(6),e.qZA(),e.TgZ(7,"td",30),e.YNc(8,ge,2,3,"ng-container",31),e.qZA(),e.TgZ(9,"td",29),e._uU(10),e.qZA(),e.TgZ(11,"td",30),e.YNc(12,fe,2,3,"ng-container",31),e.qZA(),e.TgZ(13,"td",29),e._uU(14),e.ALo(15,"date"),e.qZA(),e.TgZ(16,"td",32)(17,"cf-icon",33),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.editConfig(r))}),e.qZA(),e.TgZ(18,"cf-icon",34),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.deleteConfig(r))}),e.qZA(),e.TgZ(19,"cf-switch",35),e.NdJ("checkedChange",function(){const r=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onSwitchChange(r))}),e.qZA()()()}if(2&n){const t=c.$implicit,i=e.oxw();e.xp6(2),e.hij(" ",t.airline||"N/A"," "),e.xp6(2),e.hij(" ",t.startTime||"--/--/---"," "),e.xp6(2),e.hij(" ",t.endTime||"--/--/---"," "),e.xp6(2),e.Q6J("ngForOf",t.listTimeOfDayExclude),e.xp6(2),e.hij(" ",t.listDayOfWeekExcludeStr," "),e.xp6(2),e.Q6J("ngForOf",t.listTimeExclude),e.xp6(2),e.Oqu(e.xi3(15,11,t.createdTimeDate,"dd/MM/yyyy")),e.xp6(2),e.Q6J("sticky","right"),e.xp6(3),e.Q6J("checked",!t.disabled)("color","#277FFF")("disabled",i.isLoadingSwitch)}}function _e(n,c){1&n&&e._UZ(0,"cf-spinner")}const Te=function(){return{num:25}},Ce=function(){return{num:50}},ye=function(){return{num:75}},xe=function(){return{num:100}},ve=function(n,c,t,i){return[n,c,t,i]};let Ee=(()=>{class n{constructor(t,i,l,r,a,f,y){this._flightDataService=l,this._route=r,this.btcTimeConfigAutoTicketSvc=a,this._toastService=f,this._modal=y,this.airlineSelectOption=[],this.pageSize=25,this.currentPage=1,this.dataSource=[],this.TICKET_INFINITE_SCROLL_DEFAULT=10,this.TICKET_INFINITE_OFSET_INCREASE=10,this.ticketInfiniteScrollCount=this.TICKET_INFINITE_SCROLL_DEFAULT,this.dateRangeStr="",this.isLoading=!1,this.numberOfDateFilter=6,this.isLoadingSwitch=!1,this.searchChange=(A,Z)=>Z,this.sortChange=(A,Z)=>Z,t.registerIcons([u.wvd,u.esH,u.n78,u.PlV,u.LdZ,u.D7,u.xbi,u.fXw,u.poJ,u.iK7,u.TM4,u.Lxr,u.Hge]),this.searchForm=i.group({startTime:[null],endTime:[null],airline:[""]}),this.search()}ngOnInit(){this.airlineSelectOption=[{name:"T\u1ea5t c\u1ea3 h\xe3ng bay",value:"",logo:this._flightDataService.getAirlineLogoByCode("")},{name:"Vietnam Airlines",value:"VN",logo:this._flightDataService.getAirlineLogoByCode("VN")},{name:"Bamboo Airways",value:"QH",logo:this._flightDataService.getAirlineLogoByCode("QH")},{name:"Vietjet Air",value:"VJ",logo:this._flightDataService.getAirlineLogoByCode("VJ")},{name:"Vietravel Airlines",value:"VU",logo:this._flightDataService.getAirlineLogoByCode("VU")}]}fromDateChange(t){t&&(this.minToDate=new E.Ao(t.getFullYear(),t.getMonth()+1,t.getDate()))}resetRangeDate(t,i){t.setValue(""),i.setValue(""),this.searchForm.patchValue({startTime:null,endTime:null})}onDateSelection(t,i,l,r){if(console.log(t),console.log(i),console.log(l),console.log(r),i.value||l.value)if(i.value&&!l.value&&t&&t.getTime()>=i.value.getTime()){l.setValue(t),r.close(),this.startDate=i.value;const a=(0,g.p6)(t,"dd/MM/yyyy","vi-VN");this.dateRangeStr+=a}else{l.setValue(null),i.setValue(t);const a=(0,g.p6)(t,"dd/MM/yyyy","vi-VN");this.dateRangeStr=a+" - "}else{i.setValue(t),l.setValue(null);const a=(0,g.p6)(t,"dd/MM/yyyy","vi-VN");this.dateRangeStr=a+" - "}}search(){if(this.searchForm.valid){console.log(this.searchForm);const t={airline:this.searchForm.controls.airline.value,startTime:this.searchForm.controls.startTime.value?(0,g.p6)(this.searchForm.controls.startTime.value,"dd/MM/yyyy","vi-VN"):null,endTime:this.searchForm.controls.endTime.value?(0,g.p6)(this.searchForm.controls.endTime.value,"dd/MM/yyyy","vi-VN"):null};console.log(t),this.isLoading=!0,this.btcTimeConfigAutoTicketSvc.getListConfigBtcAutoIssuedTime(t).pipe((0,C.x)(()=>this.isLoading=!1)).subscribe({next:i=>{i.data&&(this.dataSource=[...i.data],this.reloadScroll())}}),sessionStorage.setItem("manageBookingFilter",JSON.stringify(this.searchForm.value))}this.searchForm.markAllAsTouched()}reloadScroll(){this.ticketInfiniteScrollCount=this.TICKET_INFINITE_SCROLL_DEFAULT}removeAccents(t){return t?t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D"):""}checkChange(t){this.pageSize=parseInt(t)}ticketTrackByFn(t,i){return i.bookingCode}onScrollDown(){this.ticketInfiniteScrollCount+=this.TICKET_INFINITE_OFSET_INCREASE}editConfig(t){this._route.navigate(["admin/btc-detail-time-config-auto",t.id])}deleteConfig(t){this._modal.open(d.V0,{title:"X\xf3a c\u1ea5u h\xecnh n\xe0y?",body:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a c\u1ea5u h\xecnh n\xe0y? Vi\u1ec7c n\xe0y kh\xf4ng th\u1ec3 ho\xe0n t\xe1c, vui l\xf2ng ki\u1ec3m tra k\u0129 tr\u01b0\u1edbc khi thao t\xe1c."}).afterClosed$.subscribe({next:l=>{l.data&&this.btcTimeConfigAutoTicketSvc.deleteConfigBtcAutoIssuedTime(t.id).subscribe({next:r=>{"OK"===r.status?(this.search(),this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"X\xf3a c\u1ea5u h\xecnh th\xe0nh c\xf4ng",sticky:!1})):this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"X\xf3a c\u1ea5u h\xecnh th\u1ea5t b\u1ea1i",sticky:!0})}})}})}createConfig(){this._route.navigate(["admin/btc-detail-time-config-auto"])}onSwitchChange(t){this.isLoadingSwitch=!0,this.btcTimeConfigAutoTicketSvc.updateDisableConfigBtcAutoIssuedTime(t.id,!t.disabled).pipe((0,C.x)(()=>this.isLoadingSwitch=!1)).subscribe({next:i=>{i.success?(this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i th\xe0nh c\xf4ng"}),this.dataSource=[...this.dataSource.map(l=>(l.id===t.id&&(l.disabled=!t.disabled),l))]):(this.dataSource=[...this.dataSource.map(l=>(l.id===t.id&&(l.disabled=!t.disabled),l))],this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i th\u1ea5t b\u1ea1i"}))}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.KNP),e.Y36(o.qu),e.Y36(X.G),e.Y36(w.F0),e.Y36(oe),e.Y36(le.BX),e.Y36(me.oE))},n.\u0275cmp=e.Xpm({type:n,selectors:[["btc-list-time-config-auto"]],standalone:!0,features:[e.jDz],decls:49,vars:30,consts:[[1,"flex","flex-col","py-4","px-[30px]","bg-white","w-full","md:py-3","md:pl-4","md:pr-0"],[1,"text-heading-lg","font-medium","text-neutral-gray-6","mb-3"],[1,"flex","w-full","gap-x-2","md:flex-col"],[1,"flex","mr-2"],[1,"grow",3,"status"],["cfHeadIcon","","icon","calendar","size","small"],["cfLabel",""],["cf-input","","type","text","size","medium","placeholder","Ch\u1ecdn th\u1eddi gian",1,"py-[7px]",3,"ngModel","click","ngModelChange"],["cfDatepicker","","type","text","outsideDays","hidden",1,"w-0","m-0","mr-2","bottom-0",3,"secondaryCalendar","displayMonths","rangeSelection","containerWidth","startDate","canReset","fromDate","toDate","reset","dateSelect"],["dateRange","cfDatepicker"],["textField","name","valueField","value","size","medium",1,"grow-[180]","mr-4",3,"formControl","data","allowSearch"],[1,"flex-1","flex","flex-col","w-full","justify-end"],["cf-button","","type","secondary","size","medium",1,"justify-center","min-w-[100px]","max-w-[140px]",3,"click"],["cfHeadIcon","","icon","search","size","small",1,"mr-2"],[1,"py-4","px-[30px]","rounded-lg"],[1,"bg-neutral-white","rounded-lg","shadow-cf-md"],[1,"p-4","flex","justify-between","items-center"],[1,"text-heading-sm"],["cf-button","",3,"click"],["icon","plus","size","small",1,"mr-2"],[3,"fnSort","fnSearch","pageSizeList","listData","pageSize"],["managerTable",""],["cf-thead",""],["cf-th","",1,"whitespace-nowrap"],["cf-th","",3,"sticky"],["ngFor","",3,"ngForOf"],[4,"ngIf"],[1,"border-b","border-neutral-gray-1"],[1,"py-2","px-3","text-body-md"],[1,"py-2","px-3","text-body-sm"],[1,"py-2","px-3","text-body-sm","whitespace-nowrap"],[4,"ngFor","ngForOf"],["cf-td","",1,"py-2","px-3","flex","gap-2","items-center","text-body-sm","whitespace-nowrap","text-right",3,"sticky"],["icon","edit","size","small",1,"cursor-pointer",3,"click"],["icon","delete","size","small",1,"cursor-pointer","ml-2",3,"click"],[3,"checked","color","disabled","checkedChange"]],template:function(t,i){if(1&t){const l=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Time xu\u1ea5t v\xe9 t\u1ef1 \u0111\u1ed9ng"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"cf-input-group",4),e._UZ(6,"cf-icon",5),e.TgZ(7,"label",6),e._uU(8,"Th\u1eddi gian"),e.qZA(),e.TgZ(9,"input",7),e.NdJ("click",function(){e.CHM(l);const a=e.MAs(11);return e.KtG(a.open())})("ngModelChange",function(a){return i.dateRangeStr=a}),e.qZA()(),e.TgZ(10,"input",8,9),e.NdJ("reset",function(){return i.resetRangeDate(i.searchForm.controls.startTime,i.searchForm.controls.endTime)})("dateSelect",function(a){e.CHM(l);const f=e.MAs(11);return e.KtG(i.onDateSelection(a,i.searchForm.controls.startTime,i.searchForm.controls.endTime,f))}),e.qZA()(),e.TgZ(12,"cf-select",10)(13,"label",6),e._uU(14,"H\xe3ng bay"),e.qZA()(),e.TgZ(15,"div",11)(16,"button",12),e.NdJ("click",function(){return i.search()}),e._UZ(17,"cf-icon",13),e._uU(18," T\xecm ki\u1ebfm "),e.qZA()()()(),e.TgZ(19,"div",14)(20,"div",15)(21,"div",16)(22,"div",17),e._uU(23,"Qu\u1ea3n l\xfd danh s\xe1ch time xu\u1ea5t v\xe9 t\u1ef1 \u0111\u1ed9ng"),e.qZA(),e.TgZ(24,"button",18),e.NdJ("click",function(){return i.createConfig()}),e._UZ(25,"cf-icon",19),e._uU(26," T\u1ea1o config "),e.qZA()(),e.TgZ(27,"cf-table",20,21)(29,"thead",22)(30,"th",23),e._uU(31,"H\xe3ng bay"),e.qZA(),e.TgZ(32,"th",23),e._uU(33,"Ng\xe0y b\u1eaft \u0111\u1ea7u"),e.qZA(),e.TgZ(34,"th",23),e._uU(35,"Ng\xe0y k\u1ebft th\xfac"),e.qZA(),e.TgZ(36,"th",23),e._uU(37,"Lo\u1ea1i tr\u1eeb theo gi\u1edd"),e.qZA(),e.TgZ(38,"th",23),e._uU(39,"Lo\u1ea1i tr\u1eeb theo th\u1ee9"),e.qZA(),e.TgZ(40,"th",23),e._uU(41,"Lo\u1ea1i tr\u1eeb ng\xe0y c\u1ee5 th\u1ec3"),e.qZA(),e.TgZ(42,"th",23),e._uU(43,"Ng\xe0y t\u1ea1o"),e.qZA(),e.TgZ(44,"th",24),e._uU(45," Ch\u1ee9c n\u0103ng"),e.qZA()(),e.TgZ(46,"tbody"),e.YNc(47,he,20,14,"ng-template",25),e.qZA()()()(),e.YNc(48,_e,1,0,"cf-spinner",26)}2&t&&(e.xp6(5),e.Q6J("status","default"),e.xp6(4),e.Q6J("ngModel",i.dateRangeStr),e.xp6(1),e.Q6J("secondaryCalendar","lunar")("displayMonths",2)("rangeSelection",!0)("containerWidth",600)("startDate",i.startDate)("canReset",!0)("fromDate",i.searchForm.controls.startTime.value)("toDate",i.searchForm.controls.endTime.value),e.xp6(2),e.Q6J("formControl",i.searchForm.controls.airline)("data",i.airlineSelectOption)("allowSearch",!1),e.xp6(15),e.Q6J("fnSort",i.sortChange)("fnSearch",i.searchChange)("pageSizeList",e.l5B(25,ve,e.DdM(21,Te),e.DdM(22,Ce),e.DdM(23,ye),e.DdM(24,xe)))("listData",i.dataSource)("pageSize",i.pageSize),e.xp6(17),e.Q6J("sticky","right"),e.xp6(3),e.Q6J("ngForOf",i.dataSource),e.xp6(1),e.Q6J("ngIf",i.isLoading))},dependencies:[b.q,o.u5,o.Fj,o.JJ,o.On,o.UX,o.oH,_.j$,_.ND,_.BN,g.ez,g.sg,g.O5,g.uU,u.AxE,u.Sm8,E.Cs,k.N8,k.Xq,v.rC,v.E_,v.qS,v.zs,D.Rq,d.OR,x.DW,T.I],encapsulation:2}),n})();var De=s(17736),Ae=s(34541),ke=s(80429),I=s(54801),M=s(47910);function be(n,c){1&n&&e._UZ(0,"cf-input-hint",24),2&n&&e.Q6J("hint","Vui l\xf2ng ch\u1ecdn h\xe3ng bay")}function Se(n,c){1&n&&e._UZ(0,"cf-input-hint",24),2&n&&e.Q6J("hint","Vui l\xf2ng ch\u1ecdn ng\xe0y b\u1eaft \u0111\u1ea7u")}function Ze(n,c){1&n&&e._UZ(0,"cf-input-hint",24),2&n&&e.Q6J("hint","Vui l\xf2ng ch\u1ecdn ng\xe0y k\u1ebft th\xfac")}function Fe(n,c){1&n&&e._UZ(0,"cf-input-hint",24),2&n&&e.Q6J("hint","Vui l\xf2ng ch\u1ecdn th\u1ee9 trong tu\u1ea7n ")}function Be(n,c){if(1&n&&(e.ynx(0),e.TgZ(1,"cf-multi-select",34)(2,"label",35),e._uU(3," Ch\u1ecdn th\u1ee9 "),e.qZA(),e.YNc(4,Fe,1,1,"cf-input-hint",7),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit,i=e.oxw(2);let l,r;e.xp6(1),e.Q6J("status",null!=(l=t.get("dayPicker"))&&l.invalid&&(null!=(l=t.get("dayPicker"))&&l.dirty||null!=(l=t.get("dayPicker"))&&l.touched)?"error":"default")("data",i.dayPickerOptions)("allowSearch",!1)("size","small"),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",(null==(r=t.get("dayPicker"))||null==r.errors?null:r.errors.required)&&((null==(r=t.get("dayPicker"))?null:r.dirty)||(null==(r=t.get("dayPicker"))?null:r.touched)))}}function Ie(n,c){1&n&&e._UZ(0,"cf-input-hint",24),2&n&&e.Q6J("hint","Vui l\xf2ng ch\u1ecdn ng\xe0y b\u1eaft \u0111\u1ea7u")}function Me(n,c){1&n&&e._UZ(0,"cf-input-hint",24),2&n&&e.Q6J("hint","Vui l\xf2ng ch\u1ecdn ng\xe0y k\u1ebft th\xfac")}function Ne(n,c){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"cf-input-group",10),e._UZ(2,"cf-icon",11),e.TgZ(3,"label",5),e._uU(4," T\u1eeb ng\xe0y "),e.qZA(),e.TgZ(5,"input",36,13),e.NdJ("input",function(){e.CHM(t);const l=e.MAs(6);return e.KtG(l.close())})("dateSelect",function(){e.CHM(t);const l=e.MAs(6);return e.KtG(l.close())}),e.qZA(),e.YNc(7,Ie,1,1,"cf-input-hint",7),e.qZA(),e.TgZ(8,"cf-input-group",10),e._UZ(9,"cf-icon",11),e.TgZ(10,"label",5),e._uU(11," \u0110\u1ebfn ng\xe0y "),e.qZA(),e.TgZ(12,"input",37,15),e.NdJ("input",function(){e.CHM(t);const l=e.MAs(13);return e.KtG(l.close())})("dateSelect",function(){e.CHM(t);const l=e.MAs(13);return e.KtG(l.close())}),e.ALo(14,"mapper"),e.qZA(),e.YNc(15,Me,1,1,"cf-input-hint",7),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(2);let l,r,a,f,y;e.xp6(1),e.Q6J("status",null!=(l=t.get("startDate"))&&l.invalid&&(null!=(l=t.get("startDate"))&&l.dirty||null!=(l=t.get("startDate"))&&l.touched)?"error":"default")("status","default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",i.minDate),e.xp6(2),e.Q6J("ngIf",(null==(r=t.get("startDate"))||null==r.errors?null:r.errors.required)&&((null==(r=t.get("startDate"))?null:r.dirty)||(null==(r=t.get("startDate"))?null:r.touched))),e.xp6(1),e.Q6J("status",null!=(a=t.get("endDate"))&&a.invalid&&(null!=(a=t.get("endDate"))&&a.dirty||null!=(a=t.get("endDate"))&&a.touched)?"error":"default")("status","default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("minDate",e.xi3(14,13,null==(f=t.get("startDate"))?null:f.value,i.mapperDateToCfDate))("secondaryCalendar","lunar"),e.xp6(3),e.Q6J("ngIf",(null==(y=t.get("endDate"))||null==y.errors?null:y.errors.required)&&((null==(y=t.get("endDate"))?null:y.dirty)||(null==(y=t.get("endDate"))?null:y.touched)))}}function Oe(n,c){1&n&&e._UZ(0,"cf-input-hint",42),2&n&&e.Q6J("hint","Vui l\xf2ng ch\u1ecdn gi\u1edd b\u1eaft \u0111\u1ea7u ")}function we(n,c){1&n&&e._UZ(0,"cf-input-hint",42),2&n&&e.Q6J("hint","Vui l\xf2ng ch\u1ecdn gi\u1edd k\u1ebft th\xfac")}function Je(n,c){if(1&n&&(e.ynx(0),e.TgZ(1,"div",38)(2,"label",5),e._uU(3,"Gi\u1edd b\u1eaft \u0111\u1ea7u"),e.qZA(),e._UZ(4,"time-picker",39),e.YNc(5,Oe,1,1,"cf-input-hint",40),e.qZA(),e.TgZ(6,"div",38)(7,"label",5),e._uU(8,"Gi\u1edd k\u1ebft th\xfac"),e.qZA(),e._UZ(9,"time-picker",41),e.YNc(10,we,1,1,"cf-input-hint",40),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;let i,l,r,a,f;e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("error",(null==(i=t.get("startTime"))?null:i.hasError("required"))&&((null==(i=t.get("startTime"))?null:i.touched)||(null==(i=t.get("startTime"))?null:i.dirty))),e.xp6(1),e.Q6J("ngIf",(null==(l=t.get("startTime"))||null==l.errors?null:l.errors.required)&&((null==(l=t.get("startTime"))?null:l.dirty)||(null==(l=t.get("startTime"))?null:l.touched))),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("disabledTimes",null==(r=t.get("startTime"))?null:r.value)("error",(null==(a=t.get("endTime"))?null:a.hasError("required"))&&((null==(a=t.get("endTime"))?null:a.touched)||(null==(a=t.get("endTime"))?null:a.dirty))),e.xp6(1),e.Q6J("ngIf",(null==(f=t.get("endTime"))||null==f.errors?null:f.errors.required)&&((null==(f=t.get("endTime"))?null:f.dirty)||(null==(f=t.get("endTime"))?null:f.touched)))}}function Ue(n,c){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",28)(2,"cf-select",29),e.NdJ("selectedChange",function(){const l=e.CHM(t),r=l.index,a=l.$implicit,f=e.oxw(2);return e.KtG(f.onExceptTypeChange(r,a.value.type))}),e.TgZ(3,"label",5),e._uU(4," Type "),e.qZA()(),e.ynx(5,30),e.YNc(6,Be,5,6,"ng-container",31),e.YNc(7,Ne,16,16,"ng-container",31),e.YNc(8,Je,11,7,"ng-container",32),e.BQk(),e.TgZ(9,"cf-icon",33),e.NdJ("click",function(){const r=e.CHM(t).index,a=e.oxw(2);return e.KtG(a.removeExcept(r))}),e.qZA()(),e.BQk()}if(2&n){const t=c.$implicit,i=c.index,l=e.oxw(2);let r;e.xp6(1),e.Q6J("formGroupName",i),e.xp6(1),e.Q6J("status",null!=(r=t.get("type"))&&r.invalid&&(null!=(r=t.get("type"))&&r.dirty||null!=(r=t.get("type"))&&r.touched)?"error":"default")("data",l.exceptTypeOptions)("allowSearch",!1),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngSwitch",t.value.type),e.xp6(1),e.Q6J("ngSwitchCase","day"),e.xp6(1),e.Q6J("ngSwitchCase","date")}}function qe(n,c){if(1&n&&(e.TgZ(0,"div",25),e.ynx(1,26),e.YNc(2,Ue,10,8,"ng-container",27),e.BQk(),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.excepts.controls)}}let Qe=(()=>{class n{constructor(t,i,l,r,a,f,y){this.fb=t,this.calendar=l,this._toastService=r,this.btcTimeConfigAutoTicketSvc=a,this.route=f,this._router=y,this.exceptTypeOptions=[{value:"time",text:"Theo gi\u1edd"},{value:"day",text:"Theo th\u1ee9"},{value:"date",text:"Ng\xe0y c\u1ee5 th\u1ec3"}],this.airlineOptions=[{value:"VN",text:"Vietnam Airlines"},{value:"VJ",text:"VietJet Air"},{value:"QH",text:"Bamboo Airways"},{value:"VU",text:"Vietravel Airlines"}],this.dayPickerOptions=[{value:"MONDAY",text:"Th\u1ee9 2"},{value:"TUESDAY",text:"Th\u1ee9 3"},{value:"WEDNESDAY",text:"Th\u1ee9 4"},{value:"THURSDAY",text:"Th\u1ee9 5"},{value:"FRIDAY",text:"Th\u1ee9 6"},{value:"SATURDAY",text:"Th\u1ee9 7"},{value:"SUNDAY",text:"Ch\u1ee7 nh\u1eadt"}],this.isExpanded=!0,this.mapperDateToCfDate=A=>(console.log(A),A?{year:A.getFullYear(),month:A.getMonth()+1,day:A.getDate()}:this.minDate),this.minDate=this.calendar.getToday(),i.registerIcons([u.n78,u.fqi,u.UNF,u.NNX]),this.form=this.fb.group({id:[null],airline:[null,o.kI.required],startTime:[null,o.kI.required],endTime:[null,o.kI.required],excepts:this.fb.array([])})}get excepts(){return this.form.get("excepts")}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");t&&this.loadDetail(t)}loadDetail(t){this.btcTimeConfigAutoTicketSvc.getDetailConfigBtcAutoIssuedTime(t).subscribe(i=>{i.success&&i.data&&this.patchForm(i.data)})}patchForm(t){if(this.form.patchValue({id:t.id,airline:t.airline,startTime:(0,I.Z)(t.startTime,"dd/MM/yyyy",new Date),endTime:(0,I.Z)(t.endTime,"dd/MM/yyyy",new Date)}),this.excepts.clear(),t.listTimeOfDayExclude&&t.listTimeOfDayExclude.length)for(const i of t.listTimeOfDayExclude){const l=this.fb.group({type:["time",o.kI.required],startDate:[null],endDate:[null],startTime:[i.startTimeOfDayExclude,o.kI.required],endTime:[i.endTimeOfDayExclude,o.kI.required],dayPicker:[null]});this.excepts.push(l)}if(t.listTimeExclude&&t.listTimeExclude.length)for(const i of t.listTimeExclude){const l=this.fb.group({type:["date",o.kI.required],startDate:[(0,I.Z)(i.startTimeExclude,"dd/MM/yyyy",new Date),o.kI.required],endDate:[(0,I.Z)(i.endTimeExclude,"dd/MM/yyyy",new Date),o.kI.required],startTime:[null],endTime:[null],dayPicker:[null]});this.excepts.push(l)}if(t.dayOfWeekExclude&&t.dayOfWeekExclude.listDayOfWeekExclude){const i=this.fb.group({type:["day",o.kI.required],startDate:[null],endDate:[null],startTime:[null],endTime:[null],dayPicker:[t.dayOfWeekExclude.listDayOfWeekExclude.split(",")]});this.excepts.push(i)}}createExcept(){return this.fb.group({type:["time",o.kI.required],startDate:[null],endDate:[null],startTime:[null,o.kI.required],endTime:[null,o.kI.required],dayPicker:[null]})}addExcept(){this.excepts.push(this.createExcept()),console.log(this.excepts)}removeExcept(t){this.excepts.removeAt(t)}onExceptTypeChange(t,i){var l,r,a,f,y,A,Z,J,U,q,Q,L,V,Y,R,z,P,H,j,W,K;const N=[];if(this.excepts.controls.forEach((G,Le)=>{var $;"day"===(null===($=G.get("type"))||void 0===$?void 0:$.value)&&N.push(Le)}),N.length>1){const G=N[N.length-1];setTimeout(()=>{this.excepts.at(G).patchValue({type:"time"})}),this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"Ch\u1ec9 \u0111\u01b0\u1ee3c t\u1ed1i \u0111a 1 lo\u1ea1i tr\u1eeb theo th\u1ee9",sticky:!0})}const h=this.excepts.at(t);null===(l=h.get("type"))||void 0===l||l.setValue(i),"time"===i?(null===(r=h.get("startDate"))||void 0===r||r.clearValidators(),null===(a=h.get("endDate"))||void 0===a||a.clearValidators(),null===(f=h.get("dayPicker"))||void 0===f||f.clearValidators(),null===(y=h.get("startTime"))||void 0===y||y.setValidators([o.kI.required]),null===(A=h.get("endTime"))||void 0===A||A.setValidators([o.kI.required])):"day"===i?(null===(Z=h.get("startDate"))||void 0===Z||Z.clearValidators(),null===(J=h.get("endDate"))||void 0===J||J.clearValidators(),null===(U=h.get("dayPicker"))||void 0===U||U.setValidators([o.kI.required]),null===(q=h.get("startTime"))||void 0===q||q.clearValidators(),null===(Q=h.get("endTime"))||void 0===Q||Q.clearValidators()):(null===(L=h.get("startDate"))||void 0===L||L.setValidators([o.kI.required]),null===(V=h.get("endDate"))||void 0===V||V.setValidators([o.kI.required]),null===(Y=h.get("startTime"))||void 0===Y||Y.clearValidators(),null===(R=h.get("endTime"))||void 0===R||R.clearValidators(),null===(z=h.get("dayPicker"))||void 0===z||z.clearValidators()),null===(P=h.get("startDate"))||void 0===P||P.updateValueAndValidity(),null===(H=h.get("endDate"))||void 0===H||H.updateValueAndValidity(),null===(j=h.get("dayPicker"))||void 0===j||j.updateValueAndValidity(),null===(W=h.get("startTime"))||void 0===W||W.updateValueAndValidity(),null===(K=h.get("endTime"))||void 0===K||K.updateValueAndValidity()}onSubmit(){if(this.form.markAllAsTouched(),this.form.invalid)return;const t=this.form.value;t.id?this.btcTimeConfigAutoTicketSvc.updateConfigBtcAutoIssuedTime(Object.assign(Object.assign({},this.transformData(t)),{id:t.id})).subscribe(i=>{var l,r;i.success?(this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"C\u1eadp nh\u1eadt c\u1ea5u h\xecnh th\xe0nh c\xf4ng"}),this._router.navigate(["admin/btc-list-time-config-auto"])):this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:null===(r=null===(l=i.objectError)||void 0===l?void 0:l.errorDescription)||void 0===r?void 0:r.vi})}):(this.btcTimeConfigAutoTicketSvc.createConfigBtcAutoIssuedTime(this.transformData(t)).subscribe(i=>{var l,r;i.success?(this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"T\u1ea1o c\u1ea5u h\xecnh th\xe0nh c\xf4ng"}),this._router.navigate(["admin/btc-list-time-config-auto"])):this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:null===(r=null===(l=i.objectError)||void 0===l?void 0:l.errorDescription)||void 0===r?void 0:r.vi})}),console.log(this.transformData(t)))}transformData(t){console.log(t);const i={airline:t.airline,startTime:(0,M.Z)(t.startTime,"dd/MM/yyyy"),endTime:(0,M.Z)(t.endTime,"dd/MM/yyyy"),createdTime:(new Date).toISOString().slice(0,19),dayOfWeekExclude:null,listTimeOfDayExclude:[],listTimeExclude:[]},l=[];for(const r of t.excepts)switch(r.type){case"day":r.dayPicker&&l.push(...r.dayPicker);break;case"time":i.listTimeOfDayExclude.push({startTimeOfDayExclude:r.startTime,endTimeOfDayExclude:r.endTime});break;case"date":i.listTimeExclude.push({startTimeExclude:(0,M.Z)(r.startDate,"dd/MM/yyyy"),endTimeExclude:(0,M.Z)(r.endDate,"dd/MM/yyyy")})}return l.length>0&&(i.dayOfWeekExclude={listDayOfWeekExclude:l.join(",")}),console.log(i),i}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(o.qu),e.Y36(u.KNP),e.Y36(E.jH),e.Y36(le.BX),e.Y36(oe),e.Y36(w.gz),e.Y36(w.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["btc-detail-time-config-auto"]],standalone:!0,features:[e.jDz],decls:45,vars:25,consts:[[1,"flex","flex-col","gap-4","p-6",3,"formGroup"],[1,"w-full","max-w-[764px]","bg-white","rounded-lg","shadow-md","p-6","flex","flex-col","gap-3","mx-auto"],[1,"text-gray-6","font-medium","text-heading-sm"],[1,"text-neutral-gray-4","text-heading-xs"],[1,"text-espressive-md","text-neutral-gray-5","mb-1.5","empty:!m-0"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5",3,"CfRequired"],["textField","text","valueField","value","size","medium","placeholder","Ch\u1ecdn h\xe3ng","formControlName","airline",1,"!w-full","!max-w-full",3,"status","data"],["cfHint","",3,"hint",4,"ngIf"],[1,"w-full","flex","gap-4"],[1,"w-full","flex-1","flex","gap-2"],[1,"grow-[400]","flex-1",3,"status"],["cfHeadIcon","","icon","calendar","size","small"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","formControlName","startTime","placeholder","Ch\u1ecdn ng\xe0y b\u1eaft \u0111\u1ea7u",1,"py-[7px]",3,"secondaryCalendar","displayMonths","minDate","input","dateSelect"],["dateFrom","cfDatepicker"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","formControlName","endTime","placeholder","Ch\u1ecdn ng\xe0y k\u1ebft th\xfac",1,"py-[7px]",3,"displayMonths","secondaryCalendar","minDate","input","dateSelect"],["dateTo","cfDatepicker"],[1,"flex","justify-between","items-center","mt-2"],[1,"text-neutral-gray-6","font-medium","text-body-sm"],["size","small",1,"cursor-pointer",3,"icon","click"],["class","flex flex-col gap-4",4,"ngIf"],[1,"text-blue-4","font-bold","text-body-sm","cursor-pointer","w-fit",3,"click"],[1,"flex","justify-end","mx-auto","items-center","w-full","max-w-[764px]"],["cf-button","",1,"min-w-[100px]","justify-center","text-white",3,"click"],["icon","check","size","small",1,"mr-1.5"],["cfHint","",3,"hint"],[1,"flex","flex-col","gap-4"],["formArrayName","excepts"],[4,"ngFor","ngForOf"],[1,"flex","gap-4","w-full",3,"formGroupName"],["textField","text","valueField","value","placeholder","type","formControlName","type",1,"w-full","max-w-[220px]",3,"status","data","allowSearch","selectedChange"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["icon","close","size","small",1,"cursor-pointer","h-full","mt-10",3,"click"],["textField","text","valueField","value","placeholder","Ch\u1ecdn th\u1ee9 trong tu\u1ea7n","formControlName","dayPicker",1,"flex-1","w-full","max-w-full",3,"status","data","allowSearch","size"],["cfLabel","",1,"text-express-sm","text-black",3,"CfRequired"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","formControlName","startDate","placeholder","T\u1eeb ng\xe0y",1,"py-[7px]",3,"secondaryCalendar","displayMonths","minDate","input","dateSelect"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","formControlName","endDate","placeholder","\u0110\u1ebfn ng\xe0y",1,"py-[7px]",3,"minDate","secondaryCalendar","input","dateSelect"],[1,"flex-1","gap-1","mt-1","flex","flex-col"],["formControlName","startTime",1,"flex-1",3,"error"],["cfHint","","class","text-primary-1-4 text-body-sm",3,"hint",4,"ngIf"],["formControlName","endTime",1,"flex-1",3,"disabledTimes","error"],["cfHint","",1,"text-primary-1-4","text-body-sm",3,"hint"]],template:function(t,i){if(1&t){const l=e.EpF();e.TgZ(0,"form",0)(1,"div",1)(2,"div",2),e._uU(3," H\xe3ng bay "),e.qZA(),e.TgZ(4,"div",3),e._uU(5," Ch\u1ec9 \u0111\u1ecbnh h\xe3ng bay \u0111\u01b0\u1ee3c xu\u1ea5t v\xe9 t\u1ef1 \u0111\u1ed9ng "),e.qZA(),e.TgZ(6,"div")(7,"div",4)(8,"label",5),e._uU(9," Ch\u1ecdn h\xe3ng "),e.qZA()(),e.TgZ(10,"cf-select",6),e.YNc(11,be,1,1,"cf-input-hint",7),e.qZA()()(),e.TgZ(12,"div",1)(13,"div",2),e._uU(14," Th\u1eddi gian xu\u1ea5t v\xe9 t\u1ef1 \u0111\u1ed9ng "),e.qZA(),e.TgZ(15,"div",3),e._uU(16," Th\u1eddi gian \xe1p d\u1ee5ng xu\u1ea5t v\xe9 t\u1ef1 \u0111\u1ed9ng "),e.qZA(),e.TgZ(17,"div",8)(18,"div",9)(19,"cf-input-group",10),e._UZ(20,"cf-icon",11),e.TgZ(21,"label",5),e._uU(22," Ng\xe0y b\u1eaft \u0111\u1ea7u "),e.qZA(),e.TgZ(23,"input",12,13),e.NdJ("input",function(){e.CHM(l);const a=e.MAs(24);return e.KtG(a.close())})("dateSelect",function(){e.CHM(l);const a=e.MAs(24);return e.KtG(a.close())}),e.qZA(),e.YNc(25,Se,1,1,"cf-input-hint",7),e.qZA(),e.TgZ(26,"cf-input-group",10),e._UZ(27,"cf-icon",11),e.TgZ(28,"label",5),e._uU(29," Ng\xe0y k\u1ebft th\xfac "),e.qZA(),e.TgZ(30,"input",14,15),e.NdJ("input",function(){e.CHM(l);const a=e.MAs(31);return e.KtG(a.close())})("dateSelect",function(){e.CHM(l);const a=e.MAs(31);return e.KtG(a.close())}),e.ALo(32,"mapper"),e.qZA(),e.YNc(33,Ze,1,1,"cf-input-hint",7),e.qZA()()(),e.TgZ(34,"div",16)(35,"div",17),e._uU(36," Tu\u1ef3 ch\u1ec9nh th\u1eddi gian lo\u1ea1i tr\u1eeb "),e.qZA(),e.TgZ(37,"cf-icon",18),e.NdJ("click",function(){return i.isExpanded=!i.isExpanded}),e.qZA()(),e.YNc(38,qe,3,1,"div",19),e.TgZ(39,"div",20),e.NdJ("click",function(){return i.addExcept()}),e._uU(40," Th\xeam th\u1eddi gian lo\u1ea1i tr\u1eeb "),e.qZA()(),e.TgZ(41,"div",21)(42,"button",22),e.NdJ("click",function(){return i.onSubmit()}),e._UZ(43,"cf-icon",23),e._uU(44),e.qZA()()()}2&t&&(e.Q6J("formGroup",i.form),e.xp6(8),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("status",i.form.controls.airline.invalid&&(i.form.controls.airline.dirty||i.form.controls.airline.touched)?"error":"default")("data",i.airlineOptions),e.xp6(1),e.Q6J("ngIf",(null==i.form.controls.airline.errors?null:i.form.controls.airline.errors.required)&&(i.form.controls.airline.dirty||i.form.controls.airline.touched)),e.xp6(8),e.Q6J("status",i.form.controls.startTime.invalid&&(i.form.controls.startTime.dirty||i.form.controls.startTime.touched)?"error":"default")("status","default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",i.minDate),e.xp6(2),e.Q6J("ngIf",(null==i.form.controls.startTime.errors?null:i.form.controls.startTime.errors.required)&&(i.form.controls.startTime.dirty||i.form.controls.startTime.touched)),e.xp6(1),e.Q6J("status",i.form.controls.endTime.invalid&&(i.form.controls.endTime.dirty||i.form.controls.endTime.touched)?"error":"default")("status","default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("displayMonths",1)("secondaryCalendar","lunar")("minDate",e.xi3(32,22,i.form.controls.startTime.value,i.mapperDateToCfDate)),e.xp6(3),e.Q6J("ngIf",(null==i.form.controls.endTime.errors?null:i.form.controls.endTime.errors.required)&&(i.form.controls.endTime.dirty||i.form.controls.endTime.touched)),e.xp6(4),e.Q6J("icon",i.isExpanded?"chevron_down":"chevron_up"),e.xp6(1),e.Q6J("ngIf",i.isExpanded),e.xp6(6),e.hij(" ",i.form.value.id?"C\u1eadp nh\u1eadt":"T\u1ea1o m\u1edbi"," "))},dependencies:[g.ez,g.sg,g.O5,g.RF,g.n9,g.ED,o.UX,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,o.x0,o.CE,u.AxE,u.Sm8,b.q,Ae.C,_.j$,_.ND,_.BN,_.v2,E.Cs,d.eQ,De.U,ke.q,k.N8,k.Xq],encapsulation:2}),n})()},80429:(O,S,s)=>{s.d(S,{q:()=>o});var g=s(94650);let o=(()=>{class x{transform(E,u,..._){return u(E,..._)}}return x.\u0275fac=function(E){return new(E||x)},x.\u0275pipe=g.Yjl({name:"mapper",type:x,pure:!0,standalone:!0}),x})()},4688:(O,S,s)=>{s.d(S,{b:()=>u});var g=s(36895),o=s(94650),x=s(72506);function k(_,b){if(1&_){const T=o.EpF();o.TgZ(0,"cf-icon",3),o.NdJ("click",function(d){o.CHM(T);const D=o.oxw();return o.KtG(D.close(d))}),o.qZA()}}const E=["*"];let u=(()=>{class _{constructor(T,v,d){this.renderer=T,this.elementRef=v,this.mode="default",this.type="solid",this.size="medium",this.color="red",this.onClose=new o.vpe,d.registerIcons([x.UNF])}ngOnChanges(T){this.loadClasses()}ngOnInit(){this.loadClasses()}loadClasses(){this.classes="rounded inline-flex justify-center items-center gap-x-1 "+this.getSizeClass()+" "+this.getModeClass()}getSizeClass(){return"small"===this.size?"py-1 px-2 text-express-sm":"xsmall"===this.size?"py-[2px] px-1 text-express-sm":"py-1.5 px-3 text-express-md"}getModeClass(){return"outline"===this.type?`bg-white bordertext-${this.color}-4 border-${this.color}-4`:"inverted"===this.type?`bg-${this.color}-1 text-${this.color}-4`:"gray-2"===this.color?"text-neutral-gray-6 bg-neutral-gray-2":`text-neutral-white bg-${this.color}-4`}close(T){this.onClose.emit(T),T.defaultPrevented||this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}}return _.\u0275fac=function(T){return new(T||_)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(x.KNP))},_.\u0275cmp=o.Xpm({type:_,selectors:[["cf-label"]],hostVars:2,hostBindings:function(T,v){2&T&&o.Tol(v.classes)},inputs:{mode:"mode",type:"type",size:"size",color:"color"},outputs:{onClose:"onClose"},standalone:!0,features:[o.TTD,o.jDz],ngContentSelectors:E,decls:4,vars:1,consts:[[1,"flex","justify-between","items-center","gap-x-2"],[1,"text-ellipsis","overflow-hidden","whitespace-normal","flex","items-center"],["icon","close","size","small","class","cursor-pointer",3,"click",4,"ngIf"],["icon","close","size","small",1,"cursor-pointer",3,"click"]],template:function(T,v){1&T&&(o.F$t(),o.TgZ(0,"div",0)(1,"div",1),o.Hsn(2),o.qZA(),o.YNc(3,k,1,0,"cf-icon",2),o.qZA()),2&T&&(o.xp6(3),o.Q6J("ngIf","closeable"===v.mode))},dependencies:[g.ez,g.O5,x.AxE,x.Sm8],encapsulation:2,changeDetection:0}),_})()},76331:(O,S,s)=>{s.d(S,{I:()=>v});var g=s(36895),o=s(94650),x=s(24006);function k(d,D){if(1&d&&(o.ynx(0),o._uU(1),o.BQk()),2&d){const C=o.oxw(2);o.xp6(1),o.hij(" ",C.checkedChildren," ")}}function E(d,D){if(1&d&&o._uU(0),2&d){const C=o.oxw(2);o.hij(" ",C.unCheckedChildren," ")}}function u(d,D){if(1&d&&(o.ynx(0),o.YNc(1,k,2,1,"ng-container",2),o.YNc(2,E,1,1,"ng-template",null,3,o.W1O),o.BQk()),2&d){const C=o.MAs(3),e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.checked)("ngIfElse",C)}}function _(d,D){1&d&&(o.ynx(0),o.Hsn(1,0,["class","text-body-lg text-neutral-gray-6"]),o.BQk())}const b=function(d,D){return{"checked !pl-2 !pr-[28px] !text-neutral-white":d,"opacity-50 pointer-events-none cursor-default":D}},T=["*"];let v=(()=>{class d{constructor(){this.size="medium",this.disabled=!1,this.checked=!1,this.checkedChildren="",this.unCheckedChildren="",this.type="label",this.checkedChange=new o.vpe,this.color="#fcb40a",this.statusColor=""}ngOnChanges(C){(C.checked||C.color)&&this.statusColorChange()}onToggleSwitch(){this.disabled||(this.checked=!this.checked,this.checkedChange.emit(this.checked),this.statusColorChange())}statusColorChange(){this.statusColor=this.checked?this.color:"#ccc"}}return d.\u0275fac=function(C){return new(C||d)},d.\u0275cmp=o.Xpm({type:d,selectors:[["cf-switch"]],hostAttrs:[1,"flex","gap-x-3","items-center","inline-flex"],inputs:{size:"size",disabled:"disabled",checked:"checked",checkedChildren:"checkedChildren",unCheckedChildren:"unCheckedChildren",type:"type",color:"color"},outputs:{checkedChange:"checkedChange"},standalone:!0,features:[o.TTD,o.jDz],ngContentSelectors:T,decls:3,vars:8,consts:[["type","button","id","switch-toggle",1,"cursor-pointer","min-w-[44px]","h-[24px]","pl-[28px]","pr-2","text-express-md","text-neutral-gray-6","bg-[#ccc]","block","rounded-full","relative","after:bg-neutral-white",3,"ngClass","click"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["uncheckTemplate",""]],template:function(C,e){1&C&&(o.F$t(),o.TgZ(0,"button",0),o.NdJ("click",function(){return e.onToggleSwitch()}),o.YNc(1,u,4,2,"ng-container",1),o.qZA(),o.YNc(2,_,2,0,"ng-container",1)),2&C&&(o.Udp("background-color",e.statusColor),o.Q6J("ngClass",o.WLB(5,b,e.checked,e.disabled)),o.xp6(1),o.Q6J("ngIf","inside"===e.type),o.xp6(1),o.Q6J("ngIf","label"===e.type))},dependencies:[g.ez,g.mk,g.O5,x.u5],styles:['#switch-toggle[_ngcontent-%COMP%]:after{content:"";position:absolute;top:2px;left:3px;width:20px;height:20px;border-radius:20px;transition:.3s}#switch-toggle.checked[_ngcontent-%COMP%]:after{left:calc(100% - 5px);transform:translate(-90%)}#switch-toggle[_ngcontent-%COMP%]:active:after{width:20px}']}),d})()}}]);