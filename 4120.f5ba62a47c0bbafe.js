"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[4120],{85114:(O,F,d)=>{d.d(F,{v:()=>I});var t=d(36895),c=d(24006),g=d(15439),p=d(94650),D=d(13138),f=d(62733),T=d(72725),x=d(40899),P=d(9381);let I=(()=>{class v{constructor(l,s,m,h,_,C){this._fb=l,this._dataProvider=s,this._flightDataService=m,this._promotionService=h,this._permissionService=_,this._mobileDetectService=C,this.airlineFilters=[],this.promotionGroupFilters=[],this.promotionRaws=[],this.numberOfPassenger={adult:1,child:0,infant:0},this.MULTI_ROUTE_LIMIT=4,this.isDirectFlight=!1,this.flightType="ONE_WAY",this.initForm(),this.initAirlineFilter()}initForm(){this.searchInputForm=this._fb.array([this._fb.group({startPoint:["",c.kI.required],endPoint:["",c.kI.required],departDate:["",c.kI.required]})])}patchForm(){if(this._dataProvider.searchInputData){const l=this._dataProvider.searchInputData.journey[0],s=this._dataProvider.searchInputData.journey[1],m=this._dataProvider.searchInputData.journey.length;1===m?this.flightType="ONE_WAY":2===m&&(this.flightType="ROUND_TRIP",this.searchInputForm=this._fb.array([this._fb.group({startPoint:["",c.kI.required],endPoint:["",c.kI.required],departDate:["",c.kI.required],returnDate:[""]})])),"ONE_WAY"===this.flightType?this.searchInputForm.at(0).patchValue({startPoint:l.startPoint,endPoint:l.endPoint,departDate:new Date(l.departDate)}):"ROUND_TRIP"===this.flightType&&this.searchInputForm.at(0).patchValue({startPoint:l.startPoint,endPoint:l.endPoint,departDate:new Date(l.departDate),returnDate:new Date(s.departDate)}),this.airlineFilters.forEach(h=>{var _;h.actived=!(null===(_=null==l?void 0:l.airline.toLowerCase())||void 0===_||!_.includes(h.value.toLowerCase()))}),this.numberOfPassengerChange({adult:this._dataProvider.searchInputData.adult,child:this._dataProvider.searchInputData.child,infant:this._dataProvider.searchInputData.infant}),this._dataProvider.searchInputData.promotionGroupFilters&&(this.promotionGroupFilters=this._dataProvider.searchInputData.promotionGroupFilters)}}initAirlineFilter(){this.airlineFilters=[{name:"Vietnam Airlines (VN)",value:"VN",actived:!1,logo:"assets/icons/vn-icon.svg"},{name:"Vietjet Air (VJ)",value:"VJ",actived:!1,logo:"assets/icons/vj-icon.svg"},{name:"Bamboo Airways (QH)",value:"QH",actived:!1,logo:"assets/icons/qh-icon.svg"},{name:"GDS (1G)",value:"GDS",actived:!1,logo:"assets/icons/airline-default-icon.svg"}]}initPromotionGroup(){this.promotionGroupFilters=[{airline:"VN",airlineLogo:"assets/icons/vn-icon.svg",items:[],selectedCode:""},{airline:"QH",airlineLogo:"assets/icons/qh-icon.svg",items:[],selectedCode:""},{airline:"VJ",airlineLogo:"assets/icons/vj-icon.svg",items:[],selectedCode:""}];const l=new Date,s=new Date;l.setFullYear(l.getFullYear()-2),s.setFullYear(s.getFullYear()+2),this._promotionService.getAllPromotion({airline:"",dayType:"FLY_DAY",fromDay:(0,t.p6)(l,"dd/MM/yyyy","vi-VN"),toDay:(0,t.p6)(s,"dd/MM/yyyy","vi-VN"),hidePromoExpired:!0,priority:"ALL",searchText:"",status:"ACTIVE"}).subscribe({next:m=>{this.promotionRaws=m.data,m.data.forEach(h=>{const _=this.promotionGroupFilters.find(C=>C.airline===h.airline);null==_||_.items.push({code:h.promoCode,description:h.description,isSystemPromotion:!0})})}})}numberOfPassengerChange(l){this.numberOfPassenger=l}checkDirectFlight(l){this.isDirectFlight=l}suggestPromotion(){var l,s;let m="ONE_WAY";m="ROUND_TRIP"===this.flightType&&this.searchInputForm.controls[0].controls.departDate.value?"ROUND_TRIP":"ONE_WAY";const h=this.searchInputForm.controls[0].controls.startPoint.value,_=this.searchInputForm.controls[0].controls.endPoint.value,C=null===(l=this.searchInputForm.controls[0].controls.departDate)||void 0===l?void 0:l.value,S=null===(s=this.searchInputForm.controls[0].controls.returnDate)||void 0===s?void 0:s.value,M=this.promotionRaws.filter(E=>E.autoSuggest&&this.isMatchPromotion(E,{journeyType:m,startPoint:h,endPoint:_,departDate:C,returnDate:S}));let J=!1;const U=this.promotionGroupFilters.map(E=>{if(""!==E.selectedCode)return E;{const G=M.filter(Z=>Z.airline===E.airline).sort((Z,q)=>("HIGH"===Z.priority?1:0)-("HIGH"===q.priority?1:0));return G.length>0&&(E.selectedCode=G[0].promoCode,J=!0),E}});J&&(this.promotionGroupFilters=U,this._dataProvider.searchInputData=Object.assign(Object.assign({},this._dataProvider.searchInputData),{promotionGroupFilters:U}))}isMatchPromotion(l,s){if("ALL"!==l.journeyType&&l.journeyType!==s.journeyType||""!==l.startPoint&&l.startPoint!==s.startPoint||""!==l.endPoint&&l.endPoint!==s.endPoint)return!1;let m=!0;((s.departDate?s.departDate.getTime():0)<1e3*l.startFlyDay||s.departDate.getTime()>1e3*l.endFlyDay)&&(m=!1);let _=!0;if(((s.returnDate?s.returnDate.getTime():0)<1e3*l.startFlyDay||s.returnDate.getTime()>1e3*l.endFlyDay)&&(_=!1),!m&&!_)return!1;const S=(new Date).getTime();return!(S<1e3*l.startIssuedDay||S>1e3*l.endIssuedDay||"ADT"===l.paxType&&0!==l.paxNum&&this.numberOfPassenger.adult<l.paxNum||"CHD"===l.paxType&&0!==l.paxNum&&this.numberOfPassenger.child<l.paxNum||"ALL"===l.paxType&&0!==l.paxNum&&this.numberOfPassenger.adult+this.numberOfPassenger.child<l.paxNum)}airlineFilterChange(l){this.airlineFilters.forEach(s=>s.actived=!1),this.airlineFilters.filter(s=>l.includes(s.value)).forEach(s=>s.actived=!0)}addMultiRoute(){if(this.searchInputForm.length<this.MULTI_ROUTE_LIMIT){const l=this._fb.group({startPoint:["",c.kI.required],endPoint:["",c.kI.required],departDate:["",c.kI.required]});this.searchInputForm.controls.push(l)}}removeRoute(l){this.searchInputForm.removeAt(l)}removeAllDataMultiRoute(){const l=this.searchInputForm.length;this.searchInputForm.clear();for(let s=0;s<l;s++){const m=this._fb.group({startPoint:["",c.kI.required],endPoint:["",c.kI.required],departDate:["",c.kI.required]});this.searchInputForm.controls.push(m)}}flightTypeChange(l){var s,m,h;if(this.flightType=l,"ONE_WAY"==l){const _=null===(s=this.searchInputForm.controls[0])||void 0===s?void 0:s.value;_.returnDate&&(this.oldReturnDate=_.returnDate);const C=this._fb.group({startPoint:["",c.kI.required],endPoint:["",c.kI.required],departDate:["",c.kI.required]});C.patchValue(_),this.searchInputForm.clear(),this.searchInputForm.controls.push(C)}else if("ROUND_TRIP"==l){const _=null===(m=this.searchInputForm.controls[0])||void 0===m?void 0:m.value,C=this._fb.group({startPoint:["",c.kI.required],endPoint:["",c.kI.required],departDate:["",c.kI.required],returnDate:[""]});C.patchValue(_),this.oldReturnDate&&C.controls.departDate.value&&g(C.controls.departDate.value).toDate().getTime()<=g(this.oldReturnDate).toDate().getTime()&&C.controls.returnDate.setValue(this.oldReturnDate),this.searchInputForm.clear(),this.searchInputForm.controls.push(C)}else{const _=null===(h=this.searchInputForm.controls[0])||void 0===h?void 0:h.value;_.returnDate&&(this.oldReturnDate=_.returnDate);const C=this._fb.group({startPoint:["",c.kI.required],endPoint:["",c.kI.required],departDate:["",c.kI.required]}),S=this._fb.group({startPoint:["",c.kI.required],endPoint:["",c.kI.required],departDate:["",c.kI.required]}),M=this._fb.group({startPoint:["",c.kI.required],endPoint:["",c.kI.required],departDate:["",c.kI.required]});C.patchValue(_),this.searchInputForm.clear(),this.searchInputForm.controls.push(C),this.searchInputForm.controls.push(S),this.searchInputForm.controls.push(M)}}prepareRequestFlight(l){var s,m;if("ROUND_TRIP"===l&&""!=(null===(s=this.searchInputForm.controls[0].controls.returnDate)||void 0===s?void 0:s.value)&&this.searchInputForm.controls[0].controls.returnDate.setValidators([c.kI.required]),this.searchInputForm.markAllAsTouched(),this.searchInputForm.updateValueAndValidity(),this.searchInputForm.valid){if("ONE_WAY"===l&&(this._dataProvider.searchInputData={adult:this.numberOfPassenger.adult,child:this.numberOfPassenger.child,infant:this.numberOfPassenger.infant,journey:[Object.assign(Object.assign({},null===(m=this.searchInputForm.controls[0])||void 0===m?void 0:m.value),{airline:this.getListAirlineSearch()})],promotion:this.promotionGroupFilters.filter(h=>""!=h.selectedCode).map(h=>({airline:h.airline,code:h.selectedCode})),promotionGroupFilters:this.promotionGroupFilters.filter(h=>""!=h.selectedCode),isDirectFlight:this.isDirectFlight,type:l}),"ROUND_TRIP"===l){const h={adult:this.numberOfPassenger.adult,child:this.numberOfPassenger.child,infant:this.numberOfPassenger.infant,journey:[],promotion:this.promotionGroupFilters.filter(_=>""!=_.selectedCode).map(_=>({airline:_.airline,code:_.selectedCode})),isDirectFlight:this.isDirectFlight,type:l};""!=this.searchInputForm.controls[0].controls.departDate.value&&null!=this.searchInputForm.controls[0].controls.departDate.value&&h.journey.push({startPoint:this.searchInputForm.controls[0].controls.startPoint.value,endPoint:this.searchInputForm.controls[0].controls.endPoint.value,departDate:this.searchInputForm.controls[0].controls.departDate.value,airline:this.getListAirlineSearch()}),""!=this.searchInputForm.controls[0].controls.returnDate.value&&null!=this.searchInputForm.controls[0].controls.returnDate.value&&h.journey.push({startPoint:this.searchInputForm.controls[0].controls.endPoint.value,endPoint:this.searchInputForm.controls[0].controls.startPoint.value,departDate:this.searchInputForm.controls[0].controls.returnDate.value,airline:this.getListAirlineSearch()}),this._dataProvider.searchInputData=h}return"MULTI_WAY"===l&&(this._dataProvider.searchInputData={adult:this.numberOfPassenger.adult,child:this.numberOfPassenger.child,infant:this.numberOfPassenger.infant,journey:this.searchInputForm.controls.map(h=>Object.assign(Object.assign({},h.value),{airline:this.getListAirlineSearch()})),promotion:this.promotionGroupFilters.filter(h=>""!=h.selectedCode).map(h=>({airline:h.airline,code:h.selectedCode})),isDirectFlight:this.isDirectFlight,type:l}),!0}return this.promotionGroupFilters.length&&(this._dataProvider.searchInputData=Object.assign(Object.assign({},this._dataProvider.searchInputData),{promotionGroupFilters:this.promotionGroupFilters})),!1}reset(){this.initForm(),this.initAirlineFilter(),this.numberOfPassenger={adult:1,child:0,infant:0},this.initPromotionGroup(),this.isDirectFlight=!1}getListAirlineSearch(){const l=this.airlineFilters.map(m=>m.value).join(","),s=this.airlineFilters.filter(m=>m.actived).map(m=>m.value.toLocaleLowerCase());return s.length?s.join(","):l}}return v.\u0275fac=function(l){return new(l||v)(p.LFG(c.qu),p.LFG(D.R),p.LFG(f.G),p.LFG(T.q),p.LFG(x.$A),p.LFG(P.L))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},34120:(O,F,d)=>{d.d(F,{h4:()=>Z,hm:()=>V,jX:()=>p,DA:()=>D,z6:()=>J,t3:()=>ee,uX:()=>it});var t=d(94650),c=d(24006),g=d(19123),p=(()=>{return(i=p||(p={}))[i.OneWay=0]="OneWay",i[i.RoundTrip=1]="RoundTrip",i[i.MultiWay=2]="MultiWay",p;var i})();let D=(()=>{class i{constructor(){this.flightTypeSearchChange=new t.vpe}set flightType(e){switch(e){case p.OneWay:this._flightType="ONE_WAY";break;case p.RoundTrip:this._flightType="ROUND_TRIP";break;case p.MultiWay:this._flightType="MULTI_WAY"}}flightTypeChange(e){switch(e){case"ONE_WAY":this.flightTypeSearchChange.emit(p.OneWay);break;case"ROUND_TRIP":this.flightTypeSearchChange.emit(p.RoundTrip);break;case"MULTI_WAY":this.flightTypeSearchChange.emit(p.MultiWay)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["cf-flight-type-selector"]],hostAttrs:[1,"w-full"],inputs:{flightType:"flightType"},outputs:{flightTypeSearchChange:"flightTypeSearchChange"},standalone:!0,features:[t.jDz],decls:11,vars:19,consts:[[1,"flex","items-center","gap-x-8","md:hidden",3,"ngModel","checkChange"],["size","medium",3,"value"],[1,"items-center","gap-x-1.5","hidden","md:flex"],[1,"flex","justify-around","w-full","gap-x-4"],[1,"px-4","py-1.5","rounded-full","text-body-md-short","text-neutral-gray-4","border","border-transparent","w-1/2","flex","justify-center",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"cf-radio-group",0),t.NdJ("checkChange",function(r){return n.flightTypeChange(r)}),t.TgZ(1,"cf-radio",1),t._uU(2,"M\u1ed9t chi\u1ec1u"),t.qZA(),t.TgZ(3,"cf-radio",1),t._uU(4,"Kh\u1ee9 h\u1ed3i"),t.qZA()(),t.TgZ(5,"div",2)(6,"div",3)(7,"div",4),t.NdJ("click",function(){return n.flightTypeChange("ONE_WAY")}),t._uU(8," M\u1ed9t chi\u1ec1u "),t.qZA(),t.TgZ(9,"div",4),t.NdJ("click",function(){return n.flightTypeChange("ROUND_TRIP")}),t._uU(10," Kh\u1ee9 h\u1ed3i "),t.qZA()()()),2&e&&(t.Q6J("ngModel",n._flightType),t.xp6(1),t.Q6J("value","ONE_WAY"),t.xp6(2),t.Q6J("value","ROUND_TRIP"),t.xp6(4),t.ekj("text-secondary-3-4","ONE_WAY"===n._flightType)("!border-secondary-3-4","ONE_WAY"===n._flightType)("bg-secondary-3-1","ONE_WAY"===n._flightType)("!text-espressive-md-short","ONE_WAY"===n._flightType),t.xp6(2),t.ekj("text-secondary-3-4","ROUND_TRIP"===n._flightType)("!border-secondary-3-4","ROUND_TRIP"===n._flightType)("bg-secondary-3-1","ROUND_TRIP"===n._flightType)("!text-espressive-md-short","ROUND_TRIP"===n._flightType))},dependencies:[g.o,g.T,c.u5,c.JJ,c.On],encapsulation:2}),i})();var f=d(98184),T=d(83700),x=d(72506),P=d(74891),I=d(37094),v=d(36895);const k=["bottomSheet"];function l(i,a){1&i&&t._UZ(0,"cf-icon",12)}function s(i,a){if(1&i&&(t.TgZ(0,"div",8),t._UZ(1,"cf-icon",9),t.TgZ(2,"div",10),t._uU(3),t.qZA(),t.YNc(4,l,1,0,"cf-icon",11),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.hij("",e.adultNumber+e.childNumber," kh\xe1ch"),t.xp6(1),t.Q6J("ngIf",e.showIcon)}}function m(i,a){if(1&i&&(t.TgZ(0,"div",13),t._UZ(1,"cf-icon",14),t.TgZ(2,"div",15)(3,"label",16),t._uU(4," H\xe0nh kh\xe1ch "),t.qZA(),t.TgZ(5,"div",10),t._uU(6),t.qZA()()()),2&i){const e=t.oxw();t.xp6(6),t.hij("",e.adultNumber+e.childNumber," kh\xe1ch")}}function h(i,a){1&i&&t._UZ(0,"cf-icon",12)}function _(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openBottomSheet())}),t.TgZ(1,"div",18),t._uU(2),t.qZA(),t.YNc(3,h,1,0,"cf-icon",11),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.hij("",e.adultNumber+e.childNumber," kh\xe1ch"),t.xp6(1),t.Q6J("ngIf",e.showIcon)}}function C(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openBottomSheet())}),t._UZ(1,"cf-icon",14),t.TgZ(2,"div",15)(3,"label",16),t._uU(4," H\xe0nh kh\xe1ch "),t.qZA(),t.TgZ(5,"div",10),t._uU(6),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(6),t.hij("",e.adultNumber+e.childNumber," kh\xe1ch")}}function S(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",21)(2,"div",22),t._uU(3,"H\xe0nh kh\xe1ch"),t.qZA()(),t.TgZ(4,"div",23)(5,"div",13),t._UZ(6,"cf-icon",24),t.TgZ(7,"div",15)(8,"div",25),t._uU(9,"Ng\u01b0\u1eddi l\u1edbn"),t.qZA(),t.TgZ(10,"div",26),t._uU(11,"Tr\xean 12 tu\u1ed5i"),t.qZA()()(),t.TgZ(12,"div",27)(13,"button",28),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.decrease("ADT"))}),t._UZ(14,"cf-icon",29),t.qZA(),t.TgZ(15,"div",30),t._uU(16),t.qZA(),t.TgZ(17,"button",28),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.increase("ADT"))}),t._UZ(18,"cf-icon",31),t.qZA()()(),t.TgZ(19,"div",23)(20,"div",13),t._UZ(21,"cf-icon",24),t.TgZ(22,"div",15)(23,"div",25),t._uU(24,"Tr\u1ebb em"),t.qZA(),t.TgZ(25,"div",26),t._uU(26,"T\u1eeb 2 - 12 tu\u1ed5i"),t.qZA()()(),t.TgZ(27,"div",27)(28,"button",28),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.decrease("CHD"))}),t._UZ(29,"cf-icon",29),t.qZA(),t.TgZ(30,"div",30),t._uU(31),t.qZA(),t.TgZ(32,"button",28),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.increase("CHD"))}),t._UZ(33,"cf-icon",31),t.qZA()()(),t.TgZ(34,"div",32)(35,"div",13),t._UZ(36,"cf-icon",24),t.TgZ(37,"div",15)(38,"div",25),t._uU(39,"Em b\xe9"),t.qZA(),t.TgZ(40,"div",26),t._uU(41,"D\u01b0\u1edbi 2 tu\u1ed5i"),t.qZA()()(),t.TgZ(42,"div",27)(43,"button",28),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.decrease("INF"))}),t._UZ(44,"cf-icon",29),t.qZA(),t.TgZ(45,"div",30),t._uU(46),t.qZA(),t.TgZ(47,"button",28),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.increase("INF"))}),t._UZ(48,"cf-icon",31),t.qZA()()(),t.TgZ(49,"div",33)(50,"button",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeBotomSheet())}),t._uU(51,"X\xe1c nh\u1eadn"),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(13),t.Q6J("disabled",e._adultNumber<=1||1===e._adultNumber&&1===e._infantNumber),t.xp6(3),t.Oqu(e._adultNumber),t.xp6(1),t.Q6J("disabled",e._adultNumber+e._childNumber===e.ADULT_CHILD_LIMIT),t.xp6(11),t.Q6J("disabled",0===e._childNumber||e._adultNumber+e._childNumber===1),t.xp6(3),t.Oqu(e._childNumber),t.xp6(1),t.Q6J("disabled",e._adultNumber+e._childNumber===e.ADULT_CHILD_LIMIT||e._childNumber===e.CHILD_LIMIT),t.xp6(11),t.Q6J("disabled",0===e._infantNumber),t.xp6(3),t.Oqu(e._infantNumber),t.xp6(1),t.Q6J("disabled",e._infantNumber===e._adultNumber)}}let J=(()=>{class i{constructor(e){this.bottomSheetService=e,this.adultNumber=1,this.childNumber=0,this.infantNumber=0,this.showIcon=!0,this._adultNumber=0,this._childNumber=0,this._infantNumber=0,this.bottomCenter=[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:0,offsetY:0}],this.ADULT_CHILD_LIMIT=9,this.CHILD_LIMIT=8,this.numberOfPassengerChange=new t.vpe,this.isOpen=!1}ngOnChanges(){this._adultNumber=this.adultNumber,this._childNumber=this.childNumber,this._infantNumber=this.infantNumber}click(e){this.loadTempData(),this.isOpen=!this.isOpen,e.stopPropagation()}outsideClick(e){this.isOpen=!1}emitData(){this.numberOfPassengerChange.emit({adult:this._adultNumber,child:this._childNumber,infant:this._infantNumber})}reset(){this.loadTempData()}loadTempData(){this._adultNumber=this.adultNumber,this._childNumber=this.childNumber,this._infantNumber=this.infantNumber}increase(e){switch(e){case"ADT":this._adultNumber++;break;case"CHD":this._childNumber++;break;case"INF":this._infantNumber++}this.emitData()}decrease(e){switch(e){case"ADT":this._adultNumber===this._infantNumber&&1!==this._adultNumber&&this._infantNumber--,this._adultNumber--;break;case"CHD":this._childNumber--;break;case"INF":this._infantNumber--}this.emitData()}openBottomSheet(){this.bottomSheetService.open(this.bottomSheet,{headerTitle:"S\u1ed1 l\u01b0\u1ee3ng h\xe0nh kh\xe1ch",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"}).containerInstance._rightButtonClick.subscribe(()=>this.bottomSheetService.dismiss())}closeBotomSheet(){this.bottomSheetService.dismiss()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(I.a2))},i.\u0275cmp=t.Xpm({type:i,selectors:[["cf-number-of-passenger"]],viewQuery:function(e,n){if(1&e&&t.Gf(k,5),2&e){let o;t.iGM(o=t.CRH())&&(n.bottomSheet=o.first)}},inputs:{adultNumber:"adultNumber",childNumber:"childNumber",infantNumber:"infantNumber",showIcon:"showIcon"},outputs:{numberOfPassengerChange:"numberOfPassengerChange"},standalone:!0,features:[t.TTD,t.jDz],decls:9,vars:7,consts:[["cdkOverlayOrigin","","tabIndex","-1",1,"cursor-pointer","md:hidden",3,"click"],["trigger","","originOverlay","cdkOverlayOrigin"],["class","flex items-center gap-x-2",4,"ngIf"],["class","flex items-center gap-x-3",4,"ngIf"],["class","gap-x-1.5 items-center border border-neutral-gray-3 rounded-full px-4 py-[5px] hidden md:flex",3,"click",4,"ngIf"],["class","hidden md:flex md:items-center md:gap-x-3",3,"click",4,"ngIf"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","overlayOutsideClick"],["bottomSheet",""],[1,"flex","items-center","gap-x-2"],["icon","users","size","small",1,"text-neutral-gray-5"],[1,"text-body-md","text-neutral-black"],["class","text-neutral-gray-5","icon","down","size","small",4,"ngIf"],["icon","down","size","small",1,"text-neutral-gray-5"],[1,"flex","items-center","gap-x-3"],["icon","users","size","medium",1,"text-neutral-gray-4"],[1,"flex","flex-col","gap-y-1"],["cfLabel","","for","departDate",1,"text-express-md","text-neutral-gray-4","cursor-text"],[1,"gap-x-1.5","items-center","border","border-neutral-gray-3","rounded-full","px-4","py-[5px]","hidden","md:flex",3,"click"],[1,"text-body-md","whitespace-nowrap"],[1,"hidden","md:flex","md:items-center","md:gap-x-3",3,"click"],[1,"p-4","shadow-cf-lg","w-[280px]","bg-neutral-white","rounded","md:w-full","md:pt-5"],[1,"flex","justify-start","items-center","pb-3.5","rounded","md:hidden"],[1,"text-heading-sm","text-neutral-black"],[1,"flex","items-center","justify-between","mb-3","md:mb-4"],["icon","user","size","small"],[1,"text-espressive-md","text-neutral-black","md:text-heading-xs"],[1,"text-espressive-xs","text-neutral-gray-4","md:text-body-sm"],[1,"flex","items-center","justify-end"],["cf-button","","size","small","type","secondary",3,"disabled","click"],["icon","minus","size","small"],[1,"text-espressive-md","text-neutral-black","mx-4"],["icon","plus","size","small"],[1,"flex","items-center","justify-between","mb-[22px]","md:mb-6"],[1,"hidden","md:block"],["cf-button","",1,"w-full","justify-center",3,"click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0,1),t.NdJ("click",function(r){return n.click(r)}),t.YNc(3,s,5,2,"div",2),t.YNc(4,m,7,1,"div",3),t.qZA(),t.YNc(5,_,4,2,"div",4),t.YNc(6,C,7,1,"div",5),t.YNc(7,S,52,9,"ng-template",6,7,t.W1O),t.NdJ("overlayOutsideClick",function(r){return n.outsideClick(r)})),2&e){const o=t.MAs(2);t.xp6(3),t.Q6J("ngIf",n.showIcon),t.xp6(1),t.Q6J("ngIf",!n.showIcon),t.xp6(1),t.Q6J("ngIf",n.showIcon),t.xp6(1),t.Q6J("ngIf",!n.showIcon),t.xp6(1),t.Q6J("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayOpen",n.isOpen)("cdkConnectedOverlayPositions",n.bottomCenter)}},dependencies:[v.ez,v.O5,x.AxE,x.Sm8,T.N8,T.Xq,P.f,f.pI,f.xu,f.U8,I.DW],encapsulation:2}),i})();var U=d(27898);function E(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",16)(1,"cf-checkbox",17),t.NdJ("checkChange",function(o){const u=t.CHM(e).$implicit,y=t.oxw(2);return t.KtG(y.checkChange(o,u.value))}),t.TgZ(2,"div",18),t._UZ(3,"img",19),t.TgZ(4,"div",20),t._uU(5),t.qZA()()()()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("checked",e.actived),t.xp6(2),t.Q6J("src",e.logo,t.LSH),t.xp6(2),t.hij(" ",e.name," ")}}function G(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"div",11),t._uU(3,"H\xe3ng bay"),t.qZA(),t.TgZ(4,"div",12),t.YNc(5,E,6,3,"div",13),t.qZA(),t.TgZ(6,"div",14)(7,"button",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeBotomSheet())}),t._uU(8,"X\xe1c nh\u1eadn"),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.airlineList)}}let Z=(()=>{class i{constructor(e){this.bottomSheetService=e,this.airlineFilterChange=new t.vpe,this.isOpen=!1,this.airlineSelected=[],this.title="T\u1ea5t c\u1ea3 c\xe1c h\xe3ng",this.bottomCenter=[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:0,offsetY:0}]}ngOnInit(){this.airlineSelected=this.airlineList.filter(e=>e.actived).map(e=>e.value),this.getTitle()}click(e){this.isOpen=!this.isOpen,e.stopPropagation()}outsideClick(e){this.isOpen=!1}checkChange(e,n){const o=this.airlineList.find(r=>r.value===n);o&&(o.actived=e),this.airlineSelected=this.airlineList.filter(r=>r.actived).map(r=>r.value),this.getTitle(),this.airlineFilterChange.emit(this.airlineSelected)}getTitle(){this.title=this.airlineSelected.length&&this.airlineSelected.length!==this.airlineList.length?this.airlineSelected.join(", "):"T\u1ea5t c\u1ea3 c\xe1c h\xe3ng"}openBottomSheet(e){this.bottomSheetService.open(e,{headerTitle:"H\xe3ng bay",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"}).containerInstance._rightButtonClick.subscribe(()=>this.bottomSheetService.dismiss())}closeBotomSheet(){this.bottomSheetService.dismiss()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(I.a2))},i.\u0275cmp=t.Xpm({type:i,selectors:[["cf-airline-filter"]],inputs:{airlineList:"airlineList"},outputs:{airlineFilterChange:"airlineFilterChange"},standalone:!0,features:[t.jDz],decls:13,vars:5,consts:[["cdkOverlayOrigin","","tabIndex","-1",1,"flex","items-center","gap-x-2","cursor-pointer","md:hidden",3,"click"],["trigger","","originOverlay","cdkOverlayOrigin"],["icon","grid","size","small",1,"text-neutral-gray-5"],[1,"text-body-md","text-neutral-black"],["icon","down","size","small",1,"text-neutral-gray-5"],[1,"gap-x-1.5","items-center","border","border-neutral-gray-3","rounded-full","px-4","py-[5px]","hidden","md:flex",3,"click"],[1,"text-body-md","whitespace-nowrap"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","overlayOutsideClick"],["bottomSheet",""],[1,"p-4","shadow-cf-lg","w-[280px]","bg-neutral-white","rounded","md:w-full"],[1,"flex","flex-col","gap-y-4"],[1,"text-heading-sm","text-neutral-black","md:hidden"],[1,"flex","flex-col","gap-y-[9px]","md:gap-y-4"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"hidden","md:block"],["cf-button","",1,"w-full","justify-center",3,"click"],[1,"flex","items-center"],["size","medium",3,"checked","checkChange"],[1,"flex","items-center","gap-x-2"],[1,"w-6","h-6","object-contain",3,"src"],[1,"text-body-md-long"]],template:function(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",0,1),t.NdJ("click",function(u){return n.click(u)}),t._UZ(3,"cf-icon",2),t.TgZ(4,"div",3),t._uU(5),t.qZA(),t._UZ(6,"cf-icon",4),t.qZA(),t.TgZ(7,"div",5),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(12);return t.KtG(n.openBottomSheet(u))}),t.TgZ(8,"div",6),t._uU(9),t.qZA(),t._UZ(10,"cf-icon",4),t.qZA(),t.YNc(11,G,9,1,"ng-template",7,8,t.W1O),t.NdJ("overlayOutsideClick",function(u){return n.outsideClick(u)})}if(2&e){const o=t.MAs(2);t.xp6(5),t.Oqu(n.title),t.xp6(4),t.Oqu(n.title),t.xp6(2),t.Q6J("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayOpen",n.isOpen)("cdkConnectedOverlayPositions",n.bottomCenter)}},dependencies:[x.AxE,x.Sm8,P.f,f.pI,f.xu,U.u,v.ax,T.N8,T.Xq],encapsulation:2}),i})();var q=d(74713),Q=d(24513),R=d(62331),j=d(88605);const W=["voucher"];function z(i,a){1&i&&t._UZ(0,"cf-icon",11)}function $(i,a){if(1&i&&(t.TgZ(0,"div",12),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",e.promotionApplyCount,"")}}function X(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",21)(2,"cf-select",22),t.NdJ("ngModelChange",function(o){const u=t.CHM(e).$implicit;return t.KtG(u.selectedCode=o)})("ngModelChange",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onCodeChanges())})("selectedChange",function(o){const u=t.CHM(e).$implicit,y=t.oxw(2);return t.KtG(y.onPromotionChange(o,u))}),t.TgZ(3,"div",23),t._UZ(4,"img",24),t._uU(5),t.qZA()()()()}if(2&i){const e=a.$implicit;t.xp6(2),t.Q6J("ngModel",e.selectedCode)("allowCustomText",!0)("data",e.items)("allowClear",!0),t.xp6(2),t.Q6J("src",e.airlineLogo,t.LSH),t.xp6(1),t.hij(" ",e.airline," ")}}function tt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"div",15),t._uU(3,"M\xe3 khuy\u1ebfn m\xe3i"),t.qZA(),t.TgZ(4,"div",16),t.YNc(5,X,6,6,"div",17),t.qZA(),t.TgZ(6,"div",18)(7,"button",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeBotomSheet())}),t._uU(8,"X\xe1c nh\u1eadn"),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.promotionGroupList)}}function et(i,a){if(1&i&&(t.TgZ(0,"div"),t._uU(1,"Ch\xfac m\u1eebng, "),t.TgZ(2,"strong"),t._uU(3),t.qZA(),t._uU(4," \u0111\xe3 \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng cho b\u1ea1n!"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.hij("",e.promotionApplyCount," m\xe3 khuy\u1ebfn m\xe3i")}}function nt(i,a){1&i&&(t.TgZ(0,"div"),t._uU(1,"\u{1f525} Nh\u1eadp khuy\u1ebfn m\xe3i \u0111\u1ec3 \u0111\u01b0\u1ee3c gi\u1ea3m gi\xe1"),t.qZA())}function ot(i,a){if(1&i&&(t.YNc(0,et,5,1,"div",25),t.YNc(1,nt,2,0,"div",25)),2&i){const e=t.oxw();t.Q6J("ngIf",e.promotionApplyCount>0),t.xp6(1),t.Q6J("ngIf",0===e.promotionApplyCount)}}let it=(()=>{class i{constructor(e,n,o){this._toastService=e,this._viewportRuler=n,this.bottomSheetService=o,this.isShowTooltipFirstTime=!1,this.promotionChange=new t.vpe,this.isOpen=!1,this.promotionApplyCount=0,this.isMobile=matchMedia("(max-width: 768px)").matches,this.bottomCenter=[{originX:"start",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:0,offsetY:0}]}ngAfterViewInit(){setTimeout(()=>{this.promotionApplyCount=this.promotionGroupList.filter(e=>""!=e.selectedCode).length})}ngOnChanges(e){e.promotionGroupList&&!e.promotionGroupList.firstChange&&this.reloadTooltip()}click(e){this.isOpen=!this.isOpen,e.stopPropagation()}reloadTooltip(e=!0){const n=this.promotionGroupList.filter(o=>""!=o.selectedCode).length;n>0?(this.promotionApplyCount=n,this.promotionApplyCount>0&&e&&(!this.isShowTooltipFirstTime&&this.isMobile||this.isShowTooltipFirstTime&&!this.isMobile)&&this._toastService.add({severity:"success",summary:"\xc1p d\u1ee5ng M\xe3 KM th\xe0nh c\xf4ng",detail:`${this.promotionApplyCount} m\xe3 khuy\u1ebfn m\xe3i \u0111\xe3 \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng cho b\u1ea1n!`,sticky:!1,contentStyleClass:"!p-3"})):this.promotionApplyCount=0}outsideClick(e){this.isOpen=!1}onPromotionChange(e,n){e?0===n.items.map(o=>o.code).filter(o=>o===e.code).length&&(n.items.push({code:e.code,description:e.description,isSystemPromotion:!1}),this.reloadTooltip()):(n.selectedCode="",this.reloadTooltip(!1)),this.promotionChange.emit(this.promotionGroupList)}openBottomSheet(e){this.bottomSheetService.open(e,{headerTitle:"Khuy\u1ebfn m\xe3i",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"}).containerInstance._rightButtonClick.subscribe(()=>this.bottomSheetService.dismiss())}closeBotomSheet(){this.bottomSheetService.dismiss()}onCodeChanges(){console.log(this.promotionGroupList)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(R.BX),t.Y36(j.rL),t.Y36(I.a2))},i.\u0275cmp=t.Xpm({type:i,selectors:[["cf-voucher-selector"]],viewQuery:function(e,n){if(1&e&&t.Gf(W,5,Q.Lk),2&e){let o;t.iGM(o=t.CRH())&&(n.voucher=o.first)}},inputs:{promotionGroupList:"promotionGroupList",isShowTooltipFirstTime:"isShowTooltipFirstTime"},outputs:{promotionChange:"promotionChange"},standalone:!0,features:[t.TTD,t.jDz],decls:17,vars:9,consts:[["tabIndex","-1","cdkOverlayOrigin","",1,"flex","items-center","gap-x-2","py-[5px]","px-3.5","cursor-pointer","md:hidden",3,"manualHandle","placement","color","cfTooltip","click"],["voucher","","trigger","","originOverlay","cdkOverlayOrigin"],["icon","coupon","size","small",4,"ngIf"],["class","flex items-center rounded justify-center w-4 h-4 text-espressive-xs bg-secondary-6-4 text-neutral-white",4,"ngIf"],[1,"text-body-md","text-neutral-black"],[1,"gap-x-1.5","items-center","border","border-neutral-gray-3","rounded-full","px-4","py-[5px]","hidden","md:flex",3,"click"],[1,"text-body-md","whitespace-nowrap"],["icon","down","size","small",1,"text-neutral-gray-5"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","overlayOutsideClick"],["bottomSheet",""],["toolTipTemplate",""],["icon","coupon","size","small"],[1,"flex","items-center","rounded","justify-center","w-4","h-4","text-espressive-xs","bg-secondary-6-4","text-neutral-white"],[1,"p-4","shadow-cf-lg","w-[280px]","bg-neutral-white","rounded","md:w-full","md:pt-1"],[1,"flex-col","justify-start","items-center","rounded"],[1,"text-heading-sm","text-neutral-black","md:hidden"],[1,"flex","flex-col","pt-4","gap-y-2","md:gap-y-3"],["class","flex items-center",4,"ngFor","ngForOf"],[1,"hidden","md:block","mt-4"],["cf-button","",1,"w-full","justify-center",3,"click"],[1,"flex","items-center"],[1,"flex","items-center","gap-x-2","md:w-full"],["textField","description","valueField","code","size","small","placeholder","Nh\u1eadp m\xe3",1,"select-promotion","md:max-w-none","md:w-full",3,"ngModel","allowCustomText","data","allowClear","ngModelChange","selectedChange"],["cfPrefix","",1,"min-w-[112px]","py-2.5","px-3","text-body-md","flex","gap-x-2","items-center","border-r","border-neutral-gray-2"],[1,"w-8","h-5","object-contain","shrink-0",3,"src"],[4,"ngIf"]],template:function(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",0,1),t.NdJ("click",function(u){return n.click(u)}),t.YNc(4,z,1,0,"cf-icon",2),t.YNc(5,$,2,1,"div",3),t.TgZ(6,"div",4),t._uU(7,"M\xe3 khuy\u1ebfn m\xe3i"),t.qZA()(),t.TgZ(8,"div",5),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(13);return t.KtG(n.openBottomSheet(u))}),t.TgZ(9,"div",6),t._uU(10,"Khuy\u1ebfn m\xe3i"),t.qZA(),t._UZ(11,"cf-icon",7),t.qZA(),t.YNc(12,tt,9,1,"ng-template",8,9,t.W1O),t.NdJ("overlayOutsideClick",function(u){return n.outsideClick(u)}),t.YNc(14,ot,2,2,"ng-template",null,10,t.W1O),t._UZ(16,"cf-toast")}if(2&e){const o=t.MAs(3),r=t.MAs(15);t.Q6J("manualHandle",!0)("placement","topRight")("color","black")("cfTooltip",r),t.xp6(4),t.Q6J("ngIf",0===n.promotionApplyCount),t.xp6(1),t.Q6J("ngIf",n.promotionApplyCount>0),t.xp6(7),t.Q6J("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayOpen",n.isOpen)("cdkConnectedOverlayPositions",n.bottomCenter)}},dependencies:[v.ez,v.sg,v.O5,x.AxE,x.Sm8,P.f,f.pI,f.xu,q.q,c.u5,c.JJ,c.On,Q.Lk,R.hj,T.N8,T.Xq],styles:[".select-promotion input::placeholder{color:#999!important;opacity:1;color:#0ff}  .select-promotion input:-ms-input-placeholder{color:#999!important}  .select-promotion input::-ms-input-placeholder{color:#999!important}"]}),i})();var b=d(88516),rt=d(72853),N=d(44143),at=d(99590),B=d(77296),lt=d(61135),ct=d(78372),Y=d(50633);function st(i,a){1&i&&(t.TgZ(0,"div",9),t._uU(1," Th\xe0nh ph\u1ed1 - S\xe2n bay "),t.qZA())}function ut(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.optionClick(o))}),t._UZ(1,"div",14),t.ALo(2,"highlighter"),t._UZ(3,"div",15),t.ALo(4,"highlighter"),t.qZA()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("innerHtml",t.xi3(2,2,e.CityName+", "+e.Title,n.data.currentSelected),t.oJD),t.xp6(2),t.Q6J("innerHtml",t.xi3(4,5,e.Code+" - "+e.AirportName,n.data.currentSelected),t.oJD)}}function dt(i,a){if(1&i&&(t.ynx(0),t.YNc(1,ut,5,8,"div",12),t.BQk()),2&i){const e=a.index,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e<n.ticketInfiniteScrollCount)}}function pt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",10),t.NdJ("scrolled",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onScrollDown())}),t.YNc(1,dt,2,1,"ng-container",11),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0),t.xp6(1),t.Q6J("ngForOf",e.optionsDisplay)("ngForTrackBy",e.airportTrackByFn)}}function ht(i,a){1&i&&(t.TgZ(0,"div",16),t._UZ(1,"img",17),t.TgZ(2,"div",18)(3,"div",19),t._uU(4," Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3 "),t.qZA(),t.TgZ(5,"div",20),t._uU(6," Vui l\xf2ng nh\u1eadp \u0111\xfang t\xean th\xe0nh ph\u1ed1 "),t._UZ(7,"br"),t._uU(8,"v\xe0 s\xe2n bay. "),t.qZA()()())}let V=(()=>{class i{constructor(e,n,o,r){this.data=e,this.registerIcons=n,this.cfBottomSheetRef=o,this.elementRef=r,this.TICKET_INFINITE_SCROLL_DEFAULT=40,this.TICKET_INFINITE_OFSET_INCREASE=30,this.ticketInfiniteScrollCount=this.TICKET_INFINITE_SCROLL_DEFAULT,this.searchTextChange=new lt.X(""),this.optionsDisplay=[],n.registerIcons([x.esH]),e.airportOptions=e.airportOptions.filter(u=>!e.excludes.includes(u.Code)),this.optionsDisplay=e.airportOptions,e.currentSelected||(e.currentSelected="")}ngAfterViewInit(){const e=this.elementRef.nativeElement.querySelector("#search-airport");e&&e.focus()}ngOnInit(){this.searchTextChange.pipe((0,ct.b)(200)).subscribe(e=>{this.searchFilter(e)})}searchChange(e){this.searchTextChange.next(e.target.value)}searchFilter(e){this.optionsDisplay=""===e?this.data.airportOptions:this.data.airportOptions.filter(n=>this.removeAccents(n.Code.toLocaleLowerCase()).includes(this.removeAccents(e.toLocaleLowerCase()))||this.removeAccents(n.AirportName.toLocaleLowerCase()).includes(this.removeAccents(e.toLocaleLowerCase()))||this.removeAccents(n.CityName.toLocaleLowerCase()).includes(this.removeAccents(e.toLocaleLowerCase()))||this.removeAccents(n.Title.toLocaleLowerCase()).includes(this.removeAccents(e.toLocaleLowerCase())))}removeAccents(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D")}airportTrackByFn(e,n){return n.Code}onScrollDown(){this.ticketInfiniteScrollCount+=this.TICKET_INFINITE_OFSET_INCREASE}optionClick(e){this.cfBottomSheetRef.dismiss(e)}resetSearch(){this.data.currentSelected="",this.searchFilter("")}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(I.Rr),t.Y36(x.KNP),t.Y36(I.Zu),t.Y36(t.SBq))},i.\u0275cmp=t.Xpm({type:i,selectors:[["airport-bottom-sheet"]],hostAttrs:[1,"w-full","flex"],standalone:!0,features:[t.jDz],decls:9,vars:4,consts:[[1,"p-4","pb-0","flex","flex-col","gap-y-4","flex-auto"],[1,"relative"],[1,"!max-w-none","w-full","flex-grow-0","flex"],["id","search-airport","cf-input","",3,"ngModel","ngModelChange","input"],["cfHeadIcon","","icon","search","size","small",1,"text-neutral-gray-4"],["icon","close","size","small",1,"absolute","right-0","top-1/2","-translate-y-1/2","mr-3",3,"click"],["class","text-neutral-gray-6-brandcolor text-left relative text-heading-xs text-neutral-gray-6",4,"ngIf"],["class","flex flex-col w-full flex-auto overflow-y-auto","infinite-scroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","fromRoot","alwaysCallback","scrolled",4,"ngIf"],["class","flex flex-col justify-center items-center gap-y-5 flex-auto pb-[168px]",4,"ngIf"],[1,"text-neutral-gray-6-brandcolor","text-left","relative","text-heading-xs","text-neutral-gray-6"],["infinite-scroll","",1,"flex","flex-col","w-full","flex-auto","overflow-y-auto",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","fromRoot","alwaysCallback","scrolled"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","flex flex-col py-2 px-3 border-b border-b-neutral-gray-1 shrink-0",3,"click",4,"ngIf"],[1,"flex","flex-col","py-2","px-3","border-b","border-b-neutral-gray-1","shrink-0",3,"click"],[1,"text-body-md-short","text-neutral-gray-6",3,"innerHtml"],[1,"text-body-sm","text-neutral-gray-4",3,"innerHtml"],[1,"flex","flex-col","justify-center","items-center","gap-y-5","flex-auto","pb-[168px]"],["src","assets/images/empty-result.svg",1,"w-16","h-16","object-contain"],[1,"flex","flex-col","gap-1","items-center","justify-start","shrink-0","relative"],[1,"text-neutral-gray-6-brandcolor","text-center","relative","text-heading-sm"],[1,"text-neutral-gray-5","text-center","relative","w-[257px]","text-body-md-long"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"cf-input-group",2)(3,"input",3),t.NdJ("ngModelChange",function(r){return n.data.currentSelected=r})("input",function(r){return n.searchChange(r)}),t.qZA(),t._UZ(4,"cf-icon",4),t.qZA(),t.TgZ(5,"cf-icon",5),t.NdJ("click",function(){return n.resetSearch()}),t.qZA()(),t.YNc(6,st,2,0,"div",6),t.YNc(7,pt,2,7,"div",7),t.YNc(8,ht,9,0,"div",8),t.qZA()),2&e&&(t.xp6(3),t.Q6J("ngModel",n.data.currentSelected),t.xp6(3),t.Q6J("ngIf",n.optionsDisplay.length>0),t.xp6(1),t.Q6J("ngIf",n.optionsDisplay.length>0),t.xp6(1),t.Q6J("ngIf",0===n.optionsDisplay.length))},dependencies:[v.ez,v.sg,v.O5,N.j$,N.ND,N.BN,x.AxE,x.Sm8,B.Rq,B.Ry,c.u5,c.Fj,c.JJ,c.On,Y.T],encapsulation:2}),i})();var _t=d(28490),mt=d(9381),ft=d(85114);const gt=["dateFrom"],xt=["dateRange"],vt=["startPoint"];function Ct(i,a){1&i&&t._UZ(0,"cf-hint",24),2&i&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m kh\u1edfi h\xe0nh")}function Dt(i,a){1&i&&t._UZ(0,"cf-hint",24),2&i&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m kh\u1edfi h\xe0nh")}function yt(i,a){1&i&&t._UZ(0,"cf-hint",24),2&i&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m \u0111\u1ebfn")}function Tt(i,a){1&i&&t._UZ(0,"cf-hint",24),2&i&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m \u0111\u1ebfn")}function bt(i,a){1&i&&t._UZ(0,"cf-input-hint",32),2&i&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh")}function It(i,a){1&i&&t._UZ(0,"cf-input-hint",32),2&i&&t.Q6J("hint","Ng\xe0y kh\u1edfi h\xe0nh ph\u1ea3i t\u1eeb ng\xe0y hi\u1ec7n t\u1ea1i tr\u1edf \u0111i")}function Et(i,a){1&i&&t._UZ(0,"cf-input-hint",32),2&i&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function Ft(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",25)(1,"cf-field-group",26),t._UZ(2,"cf-icon",27),t.TgZ(3,"label",28),t._uU(4," Ng\xe0y kh\u1edfi h\xe0nh "),t.qZA(),t.TgZ(5,"input",29,30),t.NdJ("input",function(){t.CHM(e);const o=t.MAs(6);return t.KtG(o.close())})("reset",function(){t.CHM(e);const o=t.oxw(2).$implicit,r=t.oxw();return t.KtG(r.resetDate(o.controls.departDate))})("focus",function(){t.CHM(e);const o=t.oxw(2).index,r=t.oxw();return t.KtG(r.calulateMinDate(o))})("mousedown",function(o){t.CHM(e);const r=t.oxw(3);return t.KtG(r.roundTripFocus(o))})("click",function(){t.CHM(e),t.oxw();const o=t.MAs(39),r=t.oxw(2);return t.KtG(r.oneWayDatePickerClick(o))})("dateSelect",function(o){t.CHM(e);const r=t.MAs(6),u=t.oxw(2).index,y=t.oxw();return y.dateSelect(o,u),r.close(),t.KtG(y.nextPositionRow(u))}),t.qZA(),t.YNc(7,bt,1,1,"cf-input-hint",31),t.YNc(8,It,1,1,"cf-input-hint",31),t.YNc(9,Et,1,1,"cf-input-hint",31),t.qZA()()}if(2&i){const e=t.oxw(2),n=e.$implicit,o=e.index,r=t.oxw();t.xp6(1),t.Q6J("valid",n.controls.departDate.valid)("status",n.controls.departDate.invalid&&(n.controls.departDate.dirty||n.controls.departDate.touched)?"error":"default"),t.xp6(4),t.Q6J("minDate",r.multiMinDate[o])("secondaryCalendar","lunar")("displayMonths",1)("formControl",n.controls.departDate),t.xp6(2),t.Q6J("ngIf",(null==n.controls.departDate.errors?null:n.controls.departDate.errors.required)&&(n.controls.departDate.dirty||n.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==n.controls.departDate.errors||null==n.controls.departDate.errors.ngbDate?null:n.controls.departDate.errors.ngbDate.minDate)&&(n.controls.departDate.dirty||n.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==n.controls.departDate.errors||null==n.controls.departDate.errors.ngbDate?null:n.controls.departDate.errors.ngbDate.invalid)&&(n.controls.departDate.dirty||n.controls.departDate.touched))}}function St(i,a){1&i&&t._UZ(0,"cf-input-hint",32),2&i&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh")}function wt(i,a){1&i&&t._UZ(0,"cf-input-hint",32),2&i&&t.Q6J("hint","Ng\xe0y kh\u1edfi h\xe0nh ph\u1ea3i t\u1eeb ng\xe0y hi\u1ec7n t\u1ea1i tr\u1edf \u0111i")}function At(i,a){1&i&&t._UZ(0,"cf-input-hint",32),2&i&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function Pt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",25)(1,"cf-field-group",33),t.NdJ("click",function(){t.CHM(e),t.oxw();const o=t.MAs(39),r=t.oxw(2);return t.KtG(r.oneWayDatePickerClick(o))}),t._UZ(2,"cf-icon",27),t.TgZ(3,"label",34),t._uU(4," Ng\xe0y kh\u1edfi h\xe0nh "),t.qZA(),t.TgZ(5,"input",35,30),t.NdJ("input",function(){t.CHM(e);const o=t.MAs(6);return t.KtG(o.close())})("dateSelect",function(){t.CHM(e);const o=t.MAs(6);return t.KtG(o.close())})("mousedown",function(o){t.CHM(e);const r=t.oxw(3);return t.KtG(r.roundTripFocus(o))}),t.qZA(),t.YNc(7,St,1,1,"cf-input-hint",31),t.YNc(8,wt,1,1,"cf-input-hint",31),t.YNc(9,At,1,1,"cf-input-hint",31),t.qZA()()}if(2&i){const e=t.oxw(2),n=e.$implicit,o=e.index,r=t.oxw();t.xp6(1),t.Q6J("valid",n.controls.departDate.valid)("status",n.controls.departDate.invalid&&(n.controls.departDate.dirty||n.controls.departDate.touched)?"error":"default"),t.xp6(4),t.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",r.multiMinDate[o])("formControl",n.controls.departDate),t.xp6(2),t.Q6J("ngIf",(null==n.controls.departDate.errors?null:n.controls.departDate.errors.required)&&(n.controls.departDate.dirty||n.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==n.controls.departDate.errors||null==n.controls.departDate.errors.ngbDate?null:n.controls.departDate.errors.ngbDate.minDate)&&(n.controls.departDate.dirty||n.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",(null==n.controls.departDate.errors||null==n.controls.departDate.errors.ngbDate?null:n.controls.departDate.errors.ngbDate.invalid)&&(n.controls.departDate.dirty||n.controls.departDate.touched))}}function Nt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"cf-icon",36),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).index,r=t.oxw();return t.KtG(r.onRemoveRoute(o))}),t.qZA()}if(2&i){const e=t.oxw(2).first;t.ekj("invisible",e)("pointer-events-none",e)}}function kt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",37)(1,"div",38)(2,"div",39),t.NdJ("scrolled",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.scrollDown())}),t.TgZ(3,"cf-datepicker-inline",40),t.NdJ("dateSelect",function(o){t.CHM(e);const r=t.oxw(2).index,u=t.oxw();return t.KtG(u.dateSelectMobile(o,r))}),t.qZA()()(),t.TgZ(4,"div",41)(5,"button",42),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.onMobileDatePickerOK())}),t._uU(6,"X\xe1c nh\u1eadn"),t.qZA()()()}if(2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(2),t.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",2)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0)("infiniteScrollContainer",".ngb-dp-content"),t.xp6(1),t.Q6J("minDate",n.currentDate)("displayMonths",n.numOfMonth)("rangeSelection",!0)("secondaryCalendar","lunar")("formControl",e.controls.departDate)("fromDate",e.controls.departDate.value)("startDate",n.startDate)("displayMonthsOffset",0)}}const w=function(i){return[i]},A=function(){return{"text-express-md":!0}};function Zt(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-select",5,6),t.NdJ("selectedChange",function(o){t.CHM(e);const r=t.MAs(20),u=t.oxw(2);return u.startPointChange(o),t.KtG(u.nextPosition(r))}),t._UZ(3,"cf-icon",7),t.TgZ(4,"label",8),t._uU(5," \u0110i\u1ec3m kh\u1edfi h\xe0nh "),t.qZA(),t._UZ(6,"input",9,10),t.YNc(8,Ct,1,1,"cf-hint",11),t.qZA(),t.TgZ(9,"div",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.openAirportBottomSheet(o.controls.startPoint,o.controls.endPoint))}),t.TgZ(10,"cf-select",13),t._UZ(11,"cf-icon",7),t.TgZ(12,"label",8),t._uU(13," \u0110i\u1ec3m kh\u1edfi h\xe0nh "),t.qZA(),t._UZ(14,"input",14,10),t.YNc(16,Dt,1,1,"cf-hint",11),t.qZA()(),t.TgZ(17,"button",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.swapPoint(o.controls.startPoint,o.controls.endPoint))}),t._UZ(18,"cf-icon",16),t.qZA(),t.TgZ(19,"cf-select",17,18),t.NdJ("selectedChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.endPointChange(o))}),t._UZ(21,"cf-icon",7),t.TgZ(22,"label",19),t._uU(23," \u0110i\u1ec3m \u0111\u1ebfn "),t.qZA(),t._UZ(24,"input",20,10),t.YNc(26,yt,1,1,"cf-hint",11),t.qZA(),t.TgZ(27,"div",12),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.openAirportBottomSheet(o.controls.endPoint,o.controls.startPoint))}),t.TgZ(28,"cf-select",13),t._UZ(29,"cf-icon",7),t.TgZ(30,"label",19),t._uU(31," \u0110i\u1ec3m \u0111\u1ebfn "),t.qZA(),t._UZ(32,"input",20,10),t.YNc(34,Tt,1,1,"cf-hint",11),t.qZA()(),t.YNc(35,Ft,10,9,"div",21),t.YNc(36,Pt,10,9,"div",21),t.YNc(37,Nt,1,4,"cf-icon",22),t.YNc(38,kt,7,15,"ng-template",null,23,t.W1O),t.BQk()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(),o=t.MAs(3);t.xp6(1),t.ekj("!grow-269",e.controls.returnDate),t.Q6J("maxHeight",230)("typeInput","FIELD")("status",e.controls.startPoint.invalid&&(e.controls.startPoint.dirty||e.controls.startPoint.touched)?"error":"default")("customSearch",n.positionSearchCustom)("excludes",n.excludesStartPoint||t.VKq(49,w,e.controls.endPoint.value))("formControl",e.controls.startPoint)("data",n.data)("optionTmp",o),t.xp6(3),t.Q6J("ngClass",t.DdM(51,A)),t.xp6(4),t.Q6J("ngIf",(null==e.controls.startPoint.errors?null:e.controls.startPoint.errors.required)&&(e.controls.startPoint.dirty||e.controls.startPoint.touched)),t.xp6(2),t.ekj("!grow-269",e.controls.returnDate),t.Q6J("typeInput","FIELD")("status",e.controls.startPoint.invalid&&(e.controls.startPoint.dirty||e.controls.startPoint.touched)?"error":"default")("customSearch",n.positionSearchCustom)("excludes",t.VKq(52,w,e.controls.endPoint.value))("formControl",e.controls.startPoint)("data",n.data)("optionTmp",o),t.xp6(2),t.Q6J("ngClass",t.DdM(54,A)),t.xp6(4),t.Q6J("ngIf",(null==e.controls.startPoint.errors?null:e.controls.startPoint.errors.required)&&(e.controls.startPoint.dirty||e.controls.startPoint.touched)),t.xp6(3),t.ekj("!grow-269",e.controls.returnDate),t.Q6J("maxHeight",230)("typeInput","FIELD")("status",e.controls.endPoint.invalid&&(e.controls.endPoint.dirty||e.controls.endPoint.touched)?"error":"default")("customSearch",n.positionSearchCustom)("excludes",n.excludesEndPoint||t.VKq(55,w,e.controls.startPoint.value))("formControl",e.controls.endPoint)("data",n.data)("optionTmp",o),t.xp6(3),t.Q6J("ngClass",t.DdM(57,A)),t.xp6(4),t.Q6J("ngIf",(null==e.controls.endPoint.errors?null:e.controls.endPoint.errors.required)&&(e.controls.endPoint.dirty||e.controls.endPoint.touched)),t.xp6(2),t.ekj("!grow-269",e.controls.returnDate),t.Q6J("typeInput","FIELD")("status",e.controls.endPoint.invalid&&(e.controls.endPoint.dirty||e.controls.endPoint.touched)?"error":"default")("customSearch",n.positionSearchCustom)("excludes",t.VKq(58,w,e.controls.endPoint.value))("formControl",e.controls.endPoint)("data",n.data)("optionTmp",o),t.xp6(2),t.Q6J("ngClass",t.DdM(60,A)),t.xp6(4),t.Q6J("ngIf",(null==e.controls.endPoint.errors?null:e.controls.endPoint.errors.required)&&(e.controls.endPoint.dirty||e.controls.endPoint.touched)),t.xp6(1),t.Q6J("ngIf",!n.isMobile),t.xp6(1),t.Q6J("ngIf",n.isMobile),t.xp6(1),t.Q6J("ngIf",n.formArray.length>2)}}function Ot(i,a){1&i&&t._UZ(0,"cf-hint",24),2&i&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m kh\u1edfi h\xe0nh")}function Mt(i,a){1&i&&t._UZ(0,"cf-hint",24),2&i&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m kh\u1edfi h\xe0nh")}function Jt(i,a){1&i&&t._UZ(0,"cf-hint",24),2&i&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m \u0111\u1ebfn")}function Ut(i,a){1&i&&t._UZ(0,"cf-hint",24),2&i&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m \u0111\u1ebfn")}function Gt(i,a){1&i&&t._UZ(0,"cf-input-hint",32),2&i&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh")}function qt(i,a){1&i&&t._UZ(0,"cf-input-hint",32),2&i&&t.Q6J("hint","Ng\xe0y kh\u1edfi h\xe0nh ph\u1ea3i t\u1eeb ng\xe0y hi\u1ec7n t\u1ea1i tr\u1edf \u0111i")}function Qt(i,a){1&i&&t._UZ(0,"cf-input-hint",32),2&i&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function Rt(i,a){1&i&&t._UZ(0,"cf-input-hint",32),2&i&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y v\u1ec1")}function Bt(i,a){1&i&&t._UZ(0,"cf-input-hint",32),2&i&&t.Q6J("hint","Ng\xe0y v\u1ec1 ph\u1ea3i l\u1edbn h\u01a1n ng\xe0y \u0111i")}function Ht(i,a){1&i&&t._UZ(0,"cf-input-hint",32),2&i&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function Lt(i,a){1&i&&t._UZ(0,"cf-input-hint",32),2&i&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh")}function Yt(i,a){1&i&&t._UZ(0,"cf-input-hint",32),2&i&&t.Q6J("hint","Ng\xe0y kh\u1edfi h\xe0nh ph\u1ea3i t\u1eeb ng\xe0y hi\u1ec7n t\u1ea1i tr\u1edf \u0111i")}function Vt(i,a){1&i&&t._UZ(0,"cf-input-hint",32),2&i&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function Kt(i,a){1&i&&t._UZ(0,"cf-input-hint",32),2&i&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y v\u1ec1")}function jt(i,a){1&i&&t._UZ(0,"cf-input-hint",32),2&i&&t.Q6J("hint","Ng\xe0y v\u1ec1 ph\u1ea3i l\u1edbn h\u01a1n ng\xe0y \u0111i")}function Wt(i,a){1&i&&t._UZ(0,"cf-input-hint",32),2&i&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function zt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",37)(1,"div",59)(2,"cf-input-group",60)(3,"input",61),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2).$implicit,u=t.oxw();return t.KtG(u.fromDateChange(o,r.controls.returnDate))}),t.qZA(),t.YNc(4,Lt,1,1,"cf-input-hint",31),t.YNc(5,Yt,1,1,"cf-input-hint",31),t.YNc(6,Vt,1,1,"cf-input-hint",31),t.qZA(),t.TgZ(7,"div",62),t._uU(8,"~"),t.qZA(),t.TgZ(9,"cf-input-group",60)(10,"input",63),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw(2).$implicit,u=t.oxw();return t.KtG(u.toDateChange(o,r.controls.departDate))}),t.qZA(),t.YNc(11,Kt,1,1,"cf-input-hint",31),t.YNc(12,jt,1,1,"cf-input-hint",31),t.YNc(13,Wt,1,1,"cf-input-hint",31),t.qZA()(),t.TgZ(14,"div",38)(15,"div",39),t.NdJ("scrolled",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.scrollDown())}),t.TgZ(16,"cf-datepicker-inline",64),t.NdJ("dateSelect",function(o){t.CHM(e);const r=t.oxw(2).$implicit,u=t.oxw();return t.KtG(u.onMobileDateSelection(o,r.controls.departDate,r.controls.returnDate))}),t.qZA()()(),t.TgZ(17,"div",41)(18,"button",42),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.onMobileDatePickerOK())}),t._uU(19," X\xe1c nh\u1eadn "),t.qZA()()()}if(2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(2),t.Q6J("status",n.isShowErrorDateRange&&e.controls.departDate.invalid&&(e.controls.departDate.dirty||e.controls.departDate.touched)?"error":"default"),t.xp6(1),t.Q6J("minDate",n.currentDate)("formControl",e.controls.departDate),t.xp6(1),t.Q6J("ngIf",n.isShowErrorDateRange&&(null==e.controls.departDate.errors?null:e.controls.departDate.errors.required)&&(e.controls.departDate.dirty||e.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",n.isShowErrorDateRange&&(null==e.controls.departDate.errors||null==e.controls.departDate.errors.ngbDate?null:e.controls.departDate.errors.ngbDate.minDate)&&(e.controls.departDate.dirty||e.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",n.isShowErrorDateRange&&(null==e.controls.departDate.errors||null==e.controls.departDate.errors.ngbDate?null:e.controls.departDate.errors.ngbDate.invalid)&&(e.controls.departDate.dirty||e.controls.departDate.touched)),t.xp6(3),t.Q6J("status",n.isShowErrorDateRange&&e.controls.returnDate.invalid&&(e.controls.returnDate.dirty||e.controls.returnDate.touched)?"error":"default"),t.xp6(1),t.Q6J("minDate",n.minToDate)("formControl",e.controls.returnDate),t.xp6(1),t.Q6J("ngIf",n.isShowErrorDateRange&&(null==e.controls.returnDate.errors?null:e.controls.returnDate.errors.required)&&(e.controls.returnDate.dirty||e.controls.returnDate.touched)),t.xp6(1),t.Q6J("ngIf",n.isShowErrorDateRange&&(null==e.controls.returnDate.errors||null==e.controls.returnDate.errors.ngbDate?null:e.controls.returnDate.errors.ngbDate.minDate)&&(e.controls.returnDate.dirty||e.controls.returnDate.touched)),t.xp6(1),t.Q6J("ngIf",n.isShowErrorDateRange&&(null==e.controls.returnDate.errors||null==e.controls.returnDate.errors.ngbDate?null:e.controls.returnDate.errors.ngbDate.invalid)&&(e.controls.returnDate.dirty||e.controls.returnDate.touched)),t.xp6(2),t.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",2)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0)("infiniteScrollContainer",".ngb-dp-content"),t.xp6(1),t.Q6J("minDate",n.currentDate)("displayMonths",n.numOfMonth)("rangeSelection",!0)("secondaryCalendar","lunar")("fromDate",e.controls.departDate.value)("startDate",n.startDate)("toDate",e.controls.returnDate.value)("displayMonthsOffset",0)}}function $t(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-select",43,6),t.NdJ("selectedChange",function(o){t.CHM(e);const r=t.MAs(20),u=t.oxw(2);return u.startPointChange(o),t.KtG(u.nextPosition(r))}),t._UZ(3,"cf-icon",7),t.TgZ(4,"label",8),t._uU(5," \u0110i\u1ec3m kh\u1edfi h\xe0nh "),t.qZA(),t._UZ(6,"input",14,10),t.YNc(8,Ot,1,1,"cf-hint",11),t.qZA(),t.TgZ(9,"div",44),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.openAirportBottomSheet(o.controls.startPoint,o.controls.endPoint))}),t.TgZ(10,"cf-select",45),t._UZ(11,"cf-icon",7),t.TgZ(12,"label",8),t._uU(13," \u0110i\u1ec3m kh\u1edfi h\xe0nh "),t.qZA(),t._UZ(14,"input",14,10),t.YNc(16,Mt,1,1,"cf-hint",11),t.qZA()(),t.TgZ(17,"button",46),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.swapPoint(o.controls.startPoint,o.controls.endPoint))}),t._UZ(18,"cf-icon",16),t.qZA(),t.TgZ(19,"cf-select",47,18),t.NdJ("selectedChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.endPointChange(o))}),t._UZ(21,"cf-icon",7),t.TgZ(22,"label",19),t._uU(23," \u0110i\u1ec3m \u0111\u1ebfn "),t.qZA(),t._UZ(24,"input",20,10),t.YNc(26,Jt,1,1,"cf-hint",11),t.qZA(),t.TgZ(27,"div",44),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.openAirportBottomSheet(o.controls.endPoint,o.controls.startPoint))}),t.TgZ(28,"cf-select",48),t._UZ(29,"cf-icon",7),t.TgZ(30,"label",19),t._uU(31," \u0110i\u1ec3m \u0111\u1ebfn "),t.qZA(),t._UZ(32,"input",20,10),t.YNc(34,Ut,1,1,"cf-hint",11),t.qZA()(),t.TgZ(35,"div",49)(36,"cf-field-group",50),t._UZ(37,"cf-icon",27),t.TgZ(38,"label",51),t._uU(39," Ng\xe0y kh\u1edfi h\xe0nh "),t.qZA(),t.TgZ(40,"input",52),t.NdJ("input",function(){t.CHM(e);const o=t.MAs(45);return t.KtG(o.close())})("mousedown",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.roundTripFocus(o))})("ngModelChange",function(o){t.CHM(e);const r=t.oxw().$implicit,u=t.oxw();return t.KtG(u.fromDateChange(o,r.controls.returnDate))})("click",function(){t.CHM(e);const o=t.MAs(45),r=t.MAs(55),u=t.oxw().$implicit,y=t.oxw();return y.dateType="DEPART",t.KtG(y.roundTripDatePickerClick(o,r,u.controls.departDate))}),t.qZA(),t.YNc(41,Gt,1,1,"cf-input-hint",31),t.YNc(42,qt,1,1,"cf-input-hint",31),t.YNc(43,Qt,1,1,"cf-input-hint",31),t.qZA(),t.TgZ(44,"input",53,54),t.NdJ("reset",function(){t.CHM(e);const o=t.MAs(45),r=t.oxw().$implicit,u=t.oxw();return t.KtG(u.resetRangeDate(r.controls.departDate,r.controls.returnDate,o))})("dateSelect",function(o){t.CHM(e);const r=t.MAs(45),u=t.oxw().$implicit,y=t.oxw();return t.KtG(y.onDateSelection(o,u.controls.departDate,u.controls.returnDate,r))})("closed",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.dateRangePickerClose())}),t.qZA(),t.TgZ(46,"cf-field-group",55),t._UZ(47,"cf-icon",27),t.TgZ(48,"label",56),t._uU(49," Ng\xe0y v\u1ec1 "),t.qZA(),t.TgZ(50,"input",57),t.NdJ("input",function(){t.CHM(e);const o=t.MAs(45);return t.KtG(o.close())})("mousedown",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.roundTripFocus(o))})("ngModelChange",function(o){t.CHM(e);const r=t.oxw().$implicit,u=t.oxw();return t.KtG(u.toDateChange(o,r.controls.departDate))})("click",function(){t.CHM(e);const o=t.MAs(45),r=t.MAs(55),u=t.oxw().$implicit,y=t.oxw();return y.dateType="ARRIVE",t.KtG(y.roundTripDatePickerClick(o,r,u.controls.departDate))}),t.qZA(),t.YNc(51,Rt,1,1,"cf-input-hint",31),t.YNc(52,Bt,1,1,"cf-input-hint",31),t.YNc(53,Ht,1,1,"cf-input-hint",31),t.qZA(),t.YNc(54,zt,20,27,"ng-template",null,58,t.W1O),t.qZA(),t.BQk()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(),o=t.MAs(3);t.xp6(1),t.ekj("!grow-269",e.controls.returnDate),t.Q6J("maxHeight",230)("typeInput","FIELD")("status",e.controls.startPoint.invalid&&(e.controls.startPoint.dirty||e.controls.startPoint.touched)?"error":"default")("customSearch",n.positionSearchCustom)("excludes",n.excludesStartPoint||t.VKq(68,w,e.controls.endPoint.value))("formControl",e.controls.startPoint)("data",n.data)("optionTmp",o),t.xp6(3),t.Q6J("ngClass",t.DdM(70,A)),t.xp6(4),t.Q6J("ngIf",(null==e.controls.startPoint.errors?null:e.controls.startPoint.errors.required)&&(e.controls.startPoint.dirty||e.controls.startPoint.touched)),t.xp6(2),t.ekj("!grow-269",e.controls.returnDate),t.Q6J("typeInput","FIELD")("status",e.controls.startPoint.invalid&&(e.controls.startPoint.dirty||e.controls.startPoint.touched)?"error":"default")("customSearch",n.positionSearchCustom)("excludes",t.VKq(71,w,e.controls.endPoint.value))("formControl",e.controls.startPoint)("data",n.data)("optionTmp",o),t.xp6(2),t.Q6J("ngClass",t.DdM(73,A)),t.xp6(4),t.Q6J("ngIf",(null==e.controls.startPoint.errors?null:e.controls.startPoint.errors.required)&&(e.controls.startPoint.dirty||e.controls.startPoint.touched)),t.xp6(3),t.ekj("!grow-269",e.controls.returnDate),t.Q6J("maxHeight",230)("typeInput","FIELD")("status",e.controls.endPoint.invalid&&(e.controls.endPoint.dirty||e.controls.endPoint.touched)?"error":"default")("customSearch",n.positionSearchCustom)("excludes",n.excludesEndPoint||t.VKq(74,w,e.controls.startPoint.value))("formControl",e.controls.endPoint)("data",n.data)("optionTmp",o),t.xp6(3),t.Q6J("ngClass",t.DdM(76,A)),t.xp6(4),t.Q6J("ngIf",(null==e.controls.endPoint.errors?null:e.controls.endPoint.errors.required)&&(e.controls.endPoint.dirty||e.controls.endPoint.touched)),t.xp6(2),t.ekj("!grow-269",e.controls.returnDate),t.Q6J("typeInput","FIELD")("status",e.controls.endPoint.invalid&&(e.controls.endPoint.dirty||e.controls.endPoint.touched)?"error":"default")("customSearch",n.positionSearchCustom)("excludes",t.VKq(77,w,e.controls.endPoint.value))("formControl",e.controls.endPoint)("data",n.data)("optionTmp",o),t.xp6(2),t.Q6J("ngClass",t.DdM(79,A)),t.xp6(4),t.Q6J("ngIf",(null==e.controls.endPoint.errors?null:e.controls.endPoint.errors.required)&&(e.controls.endPoint.dirty||e.controls.endPoint.touched)),t.xp6(2),t.Q6J("valid",e.value.departDate)("status",n.isShowErrorDateRange&&e.controls.departDate.invalid&&(e.controls.departDate.dirty||e.controls.departDate.touched)?"error":"default"),t.xp6(4),t.Q6J("minDate",n.currentDate)("formControl",e.controls.departDate),t.xp6(1),t.Q6J("ngIf",n.isShowErrorDateRange&&(null==e.controls.departDate.errors?null:e.controls.departDate.errors.required)&&(e.controls.departDate.dirty||e.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",n.isShowErrorDateRange&&(null==e.controls.departDate.errors||null==e.controls.departDate.errors.ngbDate?null:e.controls.departDate.errors.ngbDate.minDate)&&(e.controls.departDate.dirty||e.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",n.isShowErrorDateRange&&(null==e.controls.departDate.errors||null==e.controls.departDate.errors.ngbDate?null:e.controls.departDate.errors.ngbDate.invalid)&&(e.controls.departDate.dirty||e.controls.departDate.touched)),t.xp6(1),t.Q6J("minDate",n.currentDate)("secondaryCalendar","lunar")("displayMonths",n.isMobile?1:2)("rangeSelection",!0)("fromDate",e.controls.departDate.value)("startDate",n.startDate)("containerWidth",600)("toDate",e.controls.returnDate.value),t.xp6(2),t.Q6J("valid",e.value.returnDate)("status",n.isShowErrorDateRange&&e.controls.returnDate.invalid&&(e.controls.returnDate.dirty||e.controls.returnDate.touched)?"error":"default"),t.xp6(4),t.Q6J("minDate",n.minToDate)("formControl",e.controls.returnDate),t.xp6(1),t.Q6J("ngIf",n.isShowErrorDateRange&&(null==e.controls.returnDate.errors?null:e.controls.returnDate.errors.required)&&(e.controls.returnDate.dirty||e.controls.returnDate.touched)),t.xp6(1),t.Q6J("ngIf",n.isShowErrorDateRange&&(null==e.controls.returnDate.errors||null==e.controls.returnDate.errors.ngbDate?null:e.controls.returnDate.errors.ngbDate.minDate)&&(e.controls.returnDate.dirty||e.controls.returnDate.touched)),t.xp6(1),t.Q6J("ngIf",n.isShowErrorDateRange&&(null==e.controls.returnDate.errors||null==e.controls.returnDate.errors.ngbDate?null:e.controls.returnDate.errors.ngbDate.invalid)&&(e.controls.returnDate.dirty||e.controls.returnDate.touched))}}function Xt(i,a){if(1&i&&(t.TgZ(0,"div")(1,"div",3),t.YNc(2,Zt,40,61,"ng-container",4),t.YNc(3,$t,56,80,"ng-container",4),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf","ONE_WAY"===e._searchFlightService.flightType),t.xp6(1),t.Q6J("ngIf","ROUND_TRIP"===e._searchFlightService.flightType)}}function te(i,a){if(1&i&&(t.TgZ(0,"div",65),t._UZ(1,"div",66),t.ALo(2,"highlighter"),t._UZ(3,"div",67),t.ALo(4,"highlighter"),t.qZA()),2&i){const e=a.item,n=a.search;t.xp6(1),t.Q6J("innerHtml",t.xi3(2,2,e.CityName+", "+e.Title,n.text),t.oJD),t.xp6(2),t.Q6J("innerHtml",t.xi3(4,5,e.Code+" - "+e.AirportName,n.text),t.oJD)}}let ee=(()=>{class i{constructor(e,n,o,r,u,y,K){this.calendar=e,this.changeDetectorRef=n,this._locationDataService=o,this._bottomSheetService=r,this._mobileDetectService=u,this._searchFlightService=y,this.cfIconRegister=K,this.removeRoute=new t.vpe,this.dataChange=new t.vpe,this.data=[],this.isShowErrorDateRange=!1,this.multiMinDate=[],this.isMobile=matchMedia("(max-width: 768px)").matches,this.dateType="",this.positionSearchCustom=(H,ne)=>{const oe=this.removeAccents(H.Code.toLowerCase()),ie=this.removeAccents(H.Title.toLowerCase()),re=this.removeAccents(H.CityName.toLowerCase()),ae=this.removeAccents(H.AirportName.toLowerCase()),L=this.removeAccents(ne.toLowerCase());return oe.includes(L)||ie.includes(L)||re.includes(L)||ae.includes(L)},this.numOfMonth=4,this.currentDate=e.getToday(),K.registerIcons([x.UNF,x.okA,x._tC,x.Ffn]),this.data=o.getAllOption()}ngOnInit(){this.initMinDates()}startPointChange(e){this.excludesEndPoint=[e.Code]}endPointChange(e){this.excludesStartPoint=[e.Code],this.isMobile||("ONE_WAY"===this._searchFlightService.flightType&&this.nextDate(this.dateFrom),"ROUND_TRIP"===this._searchFlightService.flightType&&this.nextDate(this.dateRange))}roundTripDatePickerClick(e,n,o){if(this._mobileDetectService.mobileSubject.value){const r=this._bottomSheetService.open(n,{headerTitle:"T\xf9y ch\u1ec9nh th\u1eddi gian",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",containerFullHeigh:!0});r.containerInstance._leftButtonClick.subscribe(u=>r.dismiss())}else this.currentDate=(0,b.jy)("ARRIVE"===this.dateType&&o.value?o.value:new Date),setTimeout(()=>{e.navigateTo(this.currentDate)}),e.open()}oneWayDatePickerClick(e){if(this._mobileDetectService.mobileSubject.value){const n=this._bottomSheetService.open(e,{headerTitle:"T\xf9y ch\u1ec9nh th\u1eddi gian",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",containerFullHeigh:!0});n.containerInstance._leftButtonClick.subscribe(o=>n.dismiss())}}roundTripFocus(e){if(this.isMobile)return e.preventDefault(),!1}initMinDates(){this.formArray.controls.forEach(()=>{this.multiMinDate.push(this.calendar.getToday())})}nextPosition(e){setTimeout(()=>{e.selectFocus(),this.dataChange.emit()})}nextDate(e){e.focusTrigger(),this.dataChange.emit()}nextPositionRow(e){const n=this.startPoints.get(e+1);n&&setTimeout(()=>{n.onFocus()}),this.dataChange.emit()}calulateMinDate(e){let n=new Date;for(let o=e-1;o>=0;o--){const r=this.formArray.at(o).controls.departDate.value;if(r){n=r;break}}n&&(this.multiMinDate[e]=new b.Ao(n.getFullYear(),n.getMonth()+1,n.getDate()),this.changeDetectorRef.detectChanges())}onRemoveRoute(e){this.removeRoute.emit(e)}onDateSelection(e,n,o,r){n.value||o.value?n.value&&!o.value&&e&&e.getTime()>=n.value.getTime()?(o.setValue(e),r.close(),this.startDate=n.value):n.value&&o.value&&e&&e.getTime()>=n.value.getTime()?"DEPART"===this.dateType?(n.setValue(e),this.currentDate=(0,b.jy)(n.value),this.dateType="ARRIVE"):(o.setValue(e),r.close()):(n.setValue(e),this.dateType="ARRIVE",this.currentDate=(0,b.jy)(n.value)):(n.setValue(e),this.currentDate=(0,b.jy)(n.value),this.dateType="ARRIVE")}onToDateSelection(e,n,o){o.fromDate=e.value,o.toDate=n.value,o.open()}dateRangePickerClose(){this.isShowErrorDateRange=!0}dateSelect(e,n){for(let o=n;o<this.formArray.length-1;o++){const r=this.formArray.at(o+1).controls.departDate.value;r&&e.getTime()>r.getTime()&&(this.formArray.at(o+1).controls.departDate.setValue(new Date(e.getTime()+864e5)),e=new Date(e.getTime()+864e5))}}dateSelectMobile(e,n){this.formArray.at(n).controls.departDate.setValue(e);for(let o=n;o<this.formArray.length-1;o++){const r=this.formArray.at(o+1).controls.departDate.value;r&&e.getTime()>r.getTime()&&(this.formArray.at(o+1).controls.departDate.setValue(new Date(e.getTime()+864e5)),e=new Date(e.getTime()+864e5))}}fromDateChange(e,n){"string"!=typeof e&&(e?(this.minToDate=new b.Ao(e.getFullYear(),e.getMonth()+1,e.getDate()),n.hasValidator(c.kI.required)&&n.removeValidators(c.kI.required),n.value&&e.getTime()>=n.value.getTime()&&n.setValue(null)):n.hasValidator(c.kI.required)||n.addValidators(c.kI.required),n.updateValueAndValidity({onlySelf:!0}),this.dataChange.emit())}toDateChange(e,n){n.hasValidator(c.kI.required)||n.addValidators(c.kI.required),n.updateValueAndValidity(),this.dataChange.emit()}resetDate(e){e.setValue("")}resetRangeDate(e,n,o){e.setValue(""),n.setValue(""),this.currentDate=(0,b.jy)(new Date),setTimeout(()=>{o.navigateTo(this.currentDate)})}swapPoint(e,n){if(""!=e.value&&""!=n.value){const o=e.value;e.setValue(n.value),n.setValue(o),this.changeDetectorRef.detectChanges()}}removeAccents(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D")}focusFirstStartPoint(){const e=this.startPoints.get(0);e&&setTimeout(()=>{e.onFocus(),e.selectFocus()}),this.dataChange.emit()}openAirportBottomSheet(e,n){const o=this._bottomSheetService.open(V,{headerTitle:"Chuy\u1ebfn bay c\u1ee7a b\u1ea1n",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",containerFullHeigh:!0,restoreFocus:!1,data:{airportOptions:this.data,currentSelected:this._locationDataService.getCityNameByCode(e.value),excludes:[n.value]}});o.containerInstance._leftButtonClick.subscribe(r=>{o.dismiss()}),o.afterDismissed().subscribe(r=>{r&&e.setValue(r.Code)})}scrollDown(){this.numOfMonth=this.numOfMonth+4}onMobileDateSelection(e,n,o){n.value||o.value?n.value&&!o.value&&e&&e.getTime()>=n.value.getTime()?(o.setValue(e),this.startDate=new Date):(o.setValue(null),n.setValue(e)):n.setValue(e)}onMobileDatePickerOK(){this._bottomSheetService.dismiss()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(b.jH),t.Y36(t.sBO),t.Y36(_t._),t.Y36(I.a2),t.Y36(mt.L),t.Y36(ft.v),t.Y36(x.KNP))},i.\u0275cmp=t.Xpm({type:i,selectors:[["cf-search-flight-input"]],viewQuery:function(e,n){if(1&e&&(t.Gf(gt,5),t.Gf(xt,5),t.Gf(vt,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.dateFrom=o.first),t.iGM(o=t.CRH())&&(n.dateRange=o.first),t.iGM(o=t.CRH())&&(n.startPoints=o)}},inputs:{formArray:"formArray"},outputs:{removeRoute:"removeRoute",dataChange:"dataChange"},standalone:!0,features:[t.jDz],decls:4,vars:1,consts:[[1,"flex","flex-col","gap-y-2"],[4,"ngFor","ngForOf"],["optionTemplate",""],[1,"flex","items-start","gap-x-2","md:flex-wrap","md:gap-x-0","md:gap-y-4","md:flex-col","md:relative"],[4,"ngIf"],["textField","AirportDisplay","valueField","Code",1,"grow-[293]","!w-full","!max-w-none","md:flex-grow-0","md:w-[calc(50%-12px)]","md:hidden",3,"maxHeight","typeInput","status","customSearch","excludes","formControl","data","optionTmp","selectedChange"],["startPoint",""],["cf-head-icon","","icon","plane","size","medium",1,"text-neutral-gray-4"],["cf-label","","for","startPoint",1,"text-body-sm","text-neutral-gray-4","cursor-text",3,"ngClass"],["type","text","id","startPoint","type","text","size","medium","autocomplete","off","cf-field","",1,"text-neutral-gray-6","placeholder-neutral-gray-6","text-express-md","placeholder:text-express-md"],["cfInputElement",""],["cf-hint","",3,"hint",4,"ngIf"],[1,"grow-[293]","!max-w-none","md:flex-grow-0","md:w-[calc(50%-12px)]","hidden","md:block","!w-full",3,"click"],["textField","AirportDisplay","valueField","Code",1,"pointer-events-none","!w-full","!max-w-full",3,"typeInput","status","customSearch","excludes","formControl","data","optionTmp"],["type","text","id","startPoint","type","text","size","medium","autocomplete","off","cf-field","",1,"!p-0","placeholder-neutral-gray-6","placeholder:text-express-md"],["cf-button","","size","medium","type","secondary",1,"rounded-full","md:absolute","md:right-[10px]","md:bottom-[57%]","md:!bg-neutral-white","mt-2","md:m-0",3,"click"],["icon","switch","size","small",1,"text-primary-1-4","md:rotate-90"],["textField","AirportDisplay","valueField","Code",1,"grow-[293]","w-full","!max-w-none","md:flex-grow-0","md:w-[calc(50%-12px)]","md:hidden",3,"maxHeight","typeInput","status","customSearch","excludes","formControl","data","optionTmp","selectedChange"],["endPoint",""],["cf-label","","for","endPoint",1,"text-body-sm","text-neutral-gray-4","cursor-text",3,"ngClass"],["type","text","id","endPoint","type","text","size","medium","autocomplete","off","cf-field","",1,"!p-0","placeholder-neutral-gray-6","placeholder:text-express-md"],["class","w-full",4,"ngIf"],["icon","close","size","small","class","mt-3 cursor-pointer",3,"invisible","pointer-events-none","click",4,"ngIf"],["oneWayDatepickerBottomSheet",""],["cf-hint","",3,"hint"],[1,"w-full"],[1,"grow-[293]","!max-w-none","md:flex-grow-0","md:w-full","w-[calc(50%-12px)]",3,"valid","status"],["cfHeadIcon","","icon","calendar","size","medium",1,"text-neutral-gray-4"],["cfLabel","","for","departDate",1,"text-express-md","text-neutral-gray-4","cursor-text"],["id","departDate","cfDatepicker","","type","text","size","medium","cf-input","","autocomplete","off",1,"!p-0",3,"minDate","secondaryCalendar","displayMonths","formControl","input","reset","focus","mousedown","click","dateSelect"],["dateFrom","cfDatepicker"],["cfHint","",3,"hint",4,"ngIf"],["cfHint","",3,"hint"],[1,"grow-[293]","md:flex-grow-0","w-full",3,"valid","status","click"],["cfLabel","",1,"text-express-md","text-neutral-gray-4","cursor-text"],["type","text","size","medium","cf-input","","autocomplete","off","cfDatepicker","",1,"!p-0",3,"secondaryCalendar","displayMonths","minDate","formControl","input","dateSelect","mousedown"],["icon","close","size","small",1,"mt-3","cursor-pointer",3,"click"],[1,"flex","w-full","flex-col","justify-between"],[1,"grow","overflow-y-hidden","flex","pb-12"],["infinite-scroll","",1,"w-full","flex",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","scrollWindow","fromRoot","alwaysCallback","infiniteScrollContainer","scrolled"],["outsideDays","hidden","navigation","none","direction","vertical",1,"",3,"minDate","displayMonths","rangeSelection","secondaryCalendar","formControl","fromDate","startDate","displayMonthsOffset","dateSelect"],[1,"p-4","fixed","bottom-0","w-full","right-0","bg-neutral-white"],["cf-button","",1,"justify-center","w-full",3,"click"],["textField","AirportDisplay","valueField","Code","placeholder","\u0110i\u1ec3m kh\u1edfi h\xe0nh",1,"grow-[293]","!max-w-none","md:flex-grow-0","w-[calc(50%-12px)]","md:hidden",3,"maxHeight","typeInput","status","customSearch","excludes","formControl","data","optionTmp","selectedChange"],[1,"grow-[293]","!max-w-none","md:flex-grow-0","hidden","md:block","md:w-full",3,"click"],["textField","AirportDisplay","valueField","Code","placeholder","\u0110i\u1ec3m kh\u1edfi h\xe0nh",1,"pointer-events-none","md:w-full","md:max-w-full",3,"typeInput","status","customSearch","excludes","formControl","data","optionTmp"],["cf-button","","size","medium","type","secondary",1,"rounded-full","md:absolute","md:right-[10px]","md:top-[45px]","md:!bg-neutral-white","mt-2","md:m-0",3,"click"],["textField","AirportDisplay","valueField","Code","placeholder","\u0110i\u1ec3m \u0111\u1ebfn",1,"grow-[293]","!max-w-none","md:flex-grow-0","w-[calc(50%-12px)]","md:hidden",3,"maxHeight","typeInput","status","customSearch","excludes","formControl","data","optionTmp","selectedChange"],["textField","AirportDisplay","valueField","Code","placeholder","\u0110i\u1ec3m \u0111\u1ebfn",1,"pointer-events-none","md:w-full","md:max-w-full",3,"typeInput","status","customSearch","excludes","formControl","data","optionTmp"],[1,"flex","w-full","md:flex-col"],[1,"grow","w-[calc(50%-12px)]","md:w-full","md:mb-4",3,"valid","status"],["cfLabel","","for","departDate",1,"text-express-md","text-neutral-gray-4","cursor-text","whitespace-nowrap"],["id","departDate","cfDatepickerViewer","","type","text","size","medium","cf-input","","autocomplete","off",1,"!p-0",3,"minDate","formControl","input","mousedown","ngModelChange","click"],["type","text","outsideDays","hidden","cfDatepicker","",1,"w-0","m-0","mr-2","bottom-0","md:h-0",3,"minDate","secondaryCalendar","displayMonths","rangeSelection","fromDate","startDate","containerWidth","toDate","reset","dateSelect","closed"],["dateRange","cfDatepicker"],[1,"grow","w-[calc(50%-12px)]","md:w-full",3,"valid","status"],["cfLabel","","for","returnDate",1,"text-express-md","text-neutral-gray-4","cursor-text","whitespace-nowrap"],["id","returnDate","autocomplete","off","cfDatepickerViewer","","type","text","size","medium","cf-input","",1,"!p-0",3,"minDate","formControl","input","mousedown","ngModelChange","click"],["roundTripDatepickerBottomSheet",""],[1,"flex","justify-between","items-center","p-4"],[1,"grow","!w-auto",3,"status"],["cfDatepickerViewer","","type","text","size","medium","cf-input","","placeholder","Ng\xe0y kh\u1edfi h\xe0nh","autocomplete","off",1,"py-[7px]",3,"minDate","formControl","ngModelChange"],[1,"text-body-md-short","text-neutral-gray-6","px-2"],["autocomplete","off","cfDatepickerViewer","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y v\u1ec1",1,"py-[7px]",3,"minDate","formControl","ngModelChange"],["outsideDays","hidden","navigation","none","direction","vertical",1,"",3,"minDate","displayMonths","rangeSelection","secondaryCalendar","fromDate","startDate","toDate","displayMonthsOffset","dateSelect"],[1,"flex","flex-col"],[1,"text-body-md-short","text-neutral-gray-6",3,"innerHtml"],[1,"text-body-sm","text-neutral-gray-4",3,"innerHtml"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Xt,4,2,"div",1),t.qZA(),t.YNc(2,te,5,8,"ng-template",null,2,t.W1O)),2&e&&(t.xp6(1),t.Q6J("ngForOf",n.formArray.controls))},dependencies:[q.q,T.N8,T.Xq,N.j$,N.ND,N.BN,N.v2,at.C,x.AxE,x.Sm8,c.u5,c.Fj,c.JJ,c.UX,c.oH,b.Cs,b.hI,rt.m,v.ax,v.O5,v.mk,B.Rq,B.Ry,b._o,Y.T],encapsulation:2}),i})()},13138:(O,F,d)=>{d.d(F,{R:()=>c});var t=d(94650);let c=(()=>{class g{get searchInputData(){return JSON.parse(sessionStorage.getItem("searchInputData"))}set searchInputData(D){sessionStorage.setItem("searchInputData",JSON.stringify(D))}}return g.\u0275fac=function(D){return new(D||g)},g.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},50633:(O,F,d)=>{d.d(F,{T:()=>c});var t=d(94650);let c=(()=>{class g{transform(D,f){if(!f)return D;f=f.toLocaleLowerCase(),f=(f=(f=(f=(f=(f=(f=(f=this.removeAccents(f)).replace("a","[a|\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5]")).replace("e","[e|\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5]")).replace("i","[i|\xec|\xed|\u1ecb|\u1ec9|\u0129]")).replace("o","[o|\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1]")).replace("u","[u|\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef]")).replace("y","[y|\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9]")).replace("d","[d|\u0111]");const T=new RegExp(f,"igm");return D.replace(T,'<span class="text-secondary-7-5">$&</span>')}removeAccents(D){return D.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D")}}return g.\u0275fac=function(D){return new(D||g)},g.\u0275pipe=t.Yjl({name:"highlighter",type:g,pure:!0,standalone:!0}),g})()},99590:(O,F,d)=>{d.d(F,{C:()=>l});var t=d(74891),c=d(72506),g=d(36895),p=d(94650),D=d(24006),f=d(77296);const T=[[["","cfHeadIcon",""]],[["","cfLabel",""]],[["","cf-input",""]],[["","cfHint",""]]],x=function(s){return{"!border !border-secondary-6-3":s}},P=function(s){return{"!border !border-secondary-7-3":s}},I=function(s){return{"!flex-col !items-start":s}},v=function(s){return{"!w-full":s}},k=["[cfHeadIcon]","[cfLabel]","[cf-input]","[cfHint]"];let l=(()=>{class s{constructor(h,_){this._changeDetectorRef=_,this.status="default",this.showHint=!0,this.valid=!1,h.registerIcons([c.xgX,c.B2I])}}return s.\u0275fac=function(h){return new(h||s)(p.Y36(c.KNP),p.Y36(p.sBO))},s.\u0275cmp=p.Xpm({type:s,selectors:[["cf-field-group"]],inputs:{status:"status",showHint:"showHint",valid:"valid"},standalone:!0,features:[p.jDz],ngContentSelectors:k,decls:9,vars:20,consts:[[1,"w-full","items-center"],[1,"w-full","bg-neutral-gray-0.5","flex","items-center","gap-x-3","rounded-lg","px-3","py-2","h-14",3,"ngClass"],[1,"flex","flex-1","items-center","group","focus-within:flex-col","focus-within:items-start","outline-none","cursor-text","transition-all","duration-500","ease-in-out",3,"ngClass"],[1,"flex-1","group-focus-within:!w-full",3,"ngClass"],[1,"text-body-sm","mt-1.5","empty:!m-0"]],template:function(h,_){1&h&&(p.F$t(T),p.TgZ(0,"div",0)(1,"div",1),p.Hsn(2),p.TgZ(3,"div",2),p.Hsn(4,1),p.TgZ(5,"div",3),p.Hsn(6,2),p.qZA()()(),p.TgZ(7,"div",4),p.Hsn(8,3),p.qZA()()),2&h&&(p.xp6(1),p.Q6J("ngClass",p.VKq(12,x,"error"===_.status))("ngClass",p.VKq(14,P,"warning"===_.status)),p.xp6(2),p.Q6J("ngClass",p.VKq(16,I,_.valid)),p.xp6(2),p.Q6J("ngClass",p.VKq(18,v,_.valid)),p.xp6(2),p.ekj("!hidden",!_.showHint)("!m-0",!_.showHint)("text-secondary-6-5","error"===_.status)("text-secondary-7-5","warning"===_.status))},dependencies:[g.ez,g.mk,c.AxE,t.f,D.u5,f.Rq],encapsulation:2,changeDetection:0}),s})()}}]);