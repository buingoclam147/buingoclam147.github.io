"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[2678],{42678:(N,I,a)=>{a.d(I,{zz:()=>R,Cs:()=>m,yL:()=>ee,u1:()=>ge,I5:()=>h,FH:()=>pe});var t=a(80529),e=a(88001),g=a(54004),h=(()=>{return(c=h||(h={})).JOURNEY="JOURNEY",c.PASSENGER="PASSENGER",c.CONFIGURATION="CONFIGURATION",h;var c})(),n=a(97582),T=a(97380),i=a(87067),P=a(43429);class m{}(0,n.gn)([(0,i.C)()],m.prototype,"status",void 0),(0,n.gn)([(0,P.D)(()=>D),(0,i.C)()],m.prototype,"data",void 0),(0,n.gn)([(0,i.C)()],m.prototype,"objectError",void 0),(0,n.gn)([(0,i.C)()],m.prototype,"success",void 0);class D extends T.VP{}class p{}(0,n.gn)([(0,i.C)()],p.prototype,"airline",void 0),(0,n.gn)([(0,i.C)()],p.prototype,"flightType",void 0),(0,n.gn)([(0,P.D)(()=>d),(0,i.C)()],p.prototype,"journeys",void 0),(0,n.gn)([(0,P.D)(()=>f),(0,i.C)()],p.prototype,"passengers",void 0);class d{}(0,n.gn)([(0,i.C)()],d.prototype,"leg",void 0),(0,n.gn)([(0,i.C)()],d.prototype,"startPoint",void 0),(0,n.gn)([(0,i.C)()],d.prototype,"endPoint",void 0),(0,n.gn)([(0,i.C)()],d.prototype,"departTime",void 0),(0,n.gn)([(0,i.C)()],d.prototype,"arrivalTime",void 0),(0,n.gn)([(0,i.C)()],d.prototype,"duration",void 0),(0,n.gn)([(0,i.C)()],d.prototype,"segments",void 0),(0,n.gn)([(0,i.C)()],d.prototype,"rangeTime",void 0);class f{}(0,n.gn)([(0,i.C)()],f.prototype,"birthday",void 0),(0,n.gn)([(0,i.C)()],f.prototype,"firstName",void 0),(0,n.gn)([(0,i.C)()],f.prototype,"lastName",void 0),(0,n.gn)([(0,i.C)()],f.prototype,"type",void 0),(0,n.gn)([(0,i.C)()],f.prototype,"key",void 0),(0,n.gn)([(0,i.C)()],f.prototype,"parentKey",void 0),(0,n.gn)([(0,i.C)()],f.prototype,"namePrefix",void 0),(0,n.gn)([(0,i.C)()],f.prototype,"gender",void 0),(0,n.gn)([(0,i.C)()],f.prototype,"index",void 0);class b{}(0,n.gn)([(0,i.C)()],b.prototype,"timeCreate",void 0),(0,n.gn)([(0,i.C)()],b.prototype,"timeExpire",void 0),(0,n.gn)([(0,i.C)()],b.prototype,"timeUpdate",void 0),(0,n.gn)([(0,i.C)()],b.prototype,"timeFinished",void 0),(0,n.gn)([(0,P.D)(()=>r),(0,i.C)()],b.prototype,"fareMonitors",void 0),(0,n.gn)([(0,i.C)()],b.prototype,"notifyBeforeExpired",void 0),(0,n.gn)([(0,i.C)()],b.prototype,"targetPrice",void 0);class r{}(0,n.gn)([(0,i.C)()],r.prototype,"onlyCareLowerFare",void 0),(0,n.gn)([(0,i.C)()],r.prototype,"expectLowerFareClass",void 0),(0,n.gn)([(0,i.C)()],r.prototype,"specifyFareClass",void 0),(0,n.gn)([(0,i.C)()],r.prototype,"currentFareClass",void 0),(0,n.gn)([(0,i.C)()],r.prototype,"specifyFareClassInfo",void 0);class C{}(0,n.gn)([(0,i.C)()],C.prototype,"airline",void 0),(0,n.gn)([(0,i.C)()],C.prototype,"originalPnr",void 0),(0,n.gn)([(0,i.C)()],C.prototype,"detectedPnr",void 0),(0,n.gn)([(0,i.C)()],C.prototype,"originalFare",void 0),(0,n.gn)([(0,i.C)()],C.prototype,"detectedFare",void 0),(0,n.gn)([(0,i.C)()],C.prototype,"originalFareClass",void 0),(0,n.gn)([(0,i.C)()],C.prototype,"detectedFareClass",void 0),(0,n.gn)([(0,i.C)()],C.prototype,"higherFare",void 0),(0,n.gn)([(0,i.C)()],C.prototype,"lastTimeUpdate",void 0);class R{}(0,n.gn)([(0,i.C)()],R.prototype,"status",void 0),(0,n.gn)([(0,P.D)(()=>B),(0,i.C)()],R.prototype,"data",void 0),(0,n.gn)([(0,i.C)()],R.prototype,"objectError",void 0),(0,n.gn)([(0,i.C)()],R.prototype,"success",void 0);class B{}(0,n.gn)([(0,i.C)()],B.prototype,"orderId",void 0),(0,n.gn)([(0,i.C)()],B.prototype,"canUpdate",void 0),(0,n.gn)([(0,i.C)()],B.prototype,"code",void 0),(0,n.gn)([(0,i.C)()],B.prototype,"huntFareConditions",void 0),(0,n.gn)([(0,i.C)()],B.prototype,"conditions",void 0),(0,n.gn)([(0,i.C)()],B.prototype,"advanceSetting",void 0),(0,n.gn)([(0,i.C)()],B.prototype,"ticketInfo",void 0),(0,n.gn)([(0,P.D)(()=>T.v_),(0,i.C)()],B.prototype,"availableSlotInfo",void 0);var j=a(50494),x=a(94650);const U={headers:new t.WM({"Content-Type":"application/json"})};let ee=(()=>{class c{constructor(o,v){this.http=o,this.appConfig=v}getLstAirlineFareoptions(){return this.http.post(this.appConfig.apiUrlTPS+"ticket-low-fare/get-list-airline-fare-class",JSON.stringify({airline:"vn,qh,vj"}),U)}registerHuntBooking(o){return this.http.post(this.appConfig.apiUrlTPS+"hunt_for_ticket/register-order",JSON.stringify(o),U)}getPnrOrderDetail(o){return this.http.get(this.appConfig.apiUrlTPS+"hunt_for_ticket/pnr-order_detail/"+o,U).pipe((0,g.U)(v=>(0,j.yE)(m,v,{excludeExtraneousValues:!0})))}getCurrentConfigOrder(o){return this.http.post(this.appConfig.apiUrlTPS+"hunt_for_ticket/current-config-order",JSON.stringify({orderId:o}),U).pipe((0,g.U)(v=>(0,j.yE)(R,v,{excludeExtraneousValues:!0})))}updateConfigOrder(o){return this.http.post(this.appConfig.apiUrlTPS+"hunt_for_ticket/update_order_config",JSON.stringify(o),U).pipe((0,g.U)(v=>(0,j.yE)(m,v,{excludeExtraneousValues:!0})))}}return c.\u0275fac=function(o){return new(o||c)(x.LFG(t.eN),x.LFG(e.qB))},c.\u0275prov=x.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();var l=a(24006),G=a(57085),te=a(35650),J=a(43201),A=a(15439),le=a(77579);const re=c=>{const k=c.get("targetVNPrice"),o=c.get("targetVJPrice"),v=c.get("targetQHPrice"),y=c.get("fareOptions"),E=c.get("enableTimeStart"),F=c.get("enableFareOption"),_=c.get("enablePriceOption"),S=c.get("startTimeRange");let O={};return null!=E&&E.value&&(null!=S&&S.value&&(null==S?void 0:S.value.length)>0||(O.invalidTimeRanges=!0)),null!=F&&F.value&&(null!=y&&y.value&&(null==y?void 0:y.value.length)>0||(O.invalidFares=!0)),null!=_&&_.value&&(null!=k&&k.value||null!=o&&o.value||null!=v&&v.value?((null==k?void 0:k.value)<0||(null==o?void 0:o.value)<0||(null==v?void 0:v.value)<0)&&(O.negativePrice=!0):O.invalidPrice=!0),!E&&!_&&(O.invalidPriceFareOption=!0),Object.values(O),Object.values(O).length>0?O:null};var ne=a(82761),ue=a(40899),de=a(9497);let pe=(()=>{class c{constructor(o,v,y,E,F,_){this.route=o,this._route=v,this.fb=y,this._permissionService=E,this._systemService=F,this._bookingHunterService=_,this.optionsAdultPassenger=[],this.numberOfPassenger={adult:1,child:0,infant:0},this.phoneAreaDefault=e.$T,this.hasVJAirline=!1,this.showPriceOption=!1,this.showTimeStartOption=!1,this.showFareOption=!0,this.numberOfPassengerChange$=new le.x,this.isBooker=!this._permissionService.isVNAccount(),this.optionDepartureTime=[{name:"S\xe1ng s\u1edbm",code:"early_morning",start:"00:00",end:"05:59",isActive:!1,disable:!1,startTime:0,endTime:360,totalAvailable:0},{name:"Bu\u1ed5i s\xe1ng",code:"morning",start:"06:00",end:"11:59",isActive:!1,disable:!1,startTime:360,endTime:720,totalAvailable:0},{name:"Bu\u1ed5i chi\u1ec1u",code:"afternoon",start:"12:00",end:"17:59",isActive:!1,disable:!1,startTime:720,endTime:1080,totalAvailable:0},{name:"Bu\u1ed5i t\u1ed1i",code:"evening",start:"18:00",end:"23:59",isActive:!1,disable:!1,startTime:1080,endTime:1439,totalAvailable:0},{name:"T\xf9y ch\u1ecdn",code:"custom",start:"00:00",end:"23:59",isActive:!1,disable:!1,startTime:0,endTime:1439,totalAvailable:0}],this.customRangeItem={rangeValues:[0,1439],startTimeStr:"00:00",endTimeStr:"23:59"},this.checkPhoneRequired=this._systemService.isFeatureEnabled(e.Ke.Web_Features_RulePhoneNumber_RulePhoneNumberVJ_Enable),this.CF_IDENTIFY_TYPE=e.FV,this.departureTime=A().toDate().getTime(),this.earliestDoBChild=(0,J.Z)(this.departureTime,-2),this.earliestDoBChild=(0,te.Z)(this.earliestDoBChild,-1),this.earliestDoBInfant=A().toDate(),this.lastestDoBChild=(0,J.Z)(this.departureTime,-11),this.lastestDoBInfant=(0,J.Z)(this.departureTime,-2),this.lastestDoBInfant=(0,te.Z)(this.lastestDoBInfant,1)}initForm(){this.resetDataService(),this.initJourneyForm(),this.initConfigurationForm(),this.initPassengerForm()}preloadForm(o){var v,y,E,F,_,S,O,Z,w,Y,q,K,W,$,Q,z;const L=o.ticketInfo.journeys[0],H="PRICE"===o.huntFareConditions.type;this.showPriceOption=H,this.showFareOption=!H;const ce=(null===(y=null===(v=o.huntFareConditions.specifyPriceList)||void 0===v?void 0:v.find(s=>"VN"===s.airline.toUpperCase()))||void 0===y?void 0:y.targetPrice)||0,ve=(null===(F=null===(E=o.huntFareConditions.specifyPriceList)||void 0===E?void 0:E.find(s=>"QH"===s.airline.toUpperCase()))||void 0===F?void 0:F.targetPrice)||0,me=(null===(S=null===(_=o.huntFareConditions.specifyPriceList)||void 0===_?void 0:_.find(s=>"VJ"===s.airline.toUpperCase()))||void 0===S?void 0:S.targetPrice)||0;let oe=!0;if(L.rangeTime.forEach(s=>{this.optionDepartureTime.forEach(u=>{u.start===s.fromDate&&u.end===s.toDate&&(u.isActive=!0,oe=!1)})}),oe&&L.rangeTime[0]){const s=L.rangeTime[0],u=this.convertTimeRangeStrToMin(s.fromDate),se=this.convertTimeRangeStrToMin(s.toDate);this.customRangeItem={rangeValues:[u,se],startTimeStr:s.fromDate,endTimeStr:s.toDate},this.optionDepartureTime[4].isActive=!0,this.optionDepartureTime[4].start=s.fromDate,this.optionDepartureTime[4].end=s.toDate,this.optionDepartureTime[4].startTime=u,this.optionDepartureTime[4].endTime=se}const X=this.optionDepartureTime.filter(s=>s.isActive),ie=X&&X.length>0;this.showTimeStartOption=ie;const he=(null!==(O=A(L.departTime))&&void 0!==O&&O.isBefore(A())?null:A(L.departTime).toDate())||null;this.journeyFormGroup=this.fb.group({startPoint:[L.startPoint,[l.kI.required]],endPoint:[L.endPoint,[l.kI.required]],departDate:[he,[l.kI.required]],startTimeRange:[X],enablePriceOption:[H],targetVNPrice:[ce],targetVJPrice:[ve],targetQHPrice:[me],enableFareOption:[!H],enableTimeStart:[ie],fareOptions:[o.huntFareConditions.specifyFareClassList]},{validators:re});const ae=A(o.advanceSetting.timeExecute).isAfter(A().toDate()),V=ae?A(o.advanceSetting.timeExecute).toDate():null,fe=ae&&V?`${null==V?void 0:V.getHours().toString().padStart(2,"0")}:${null==V?void 0:V.getMinutes().toString().padStart(2,"0")}`:null;this.configurationFormGroup=this.fb.group({dateExpires:[V,[l.kI.required]],timeExpires:[fe,[l.kI.required]],sendNotify:[o.advanceSetting.notifBeforExpire,[l.kI.required]],agentDisplayName:[null],agentAvatar:[null],agentName:[null],agentPhone:[null,[l.kI.required,l.kI.minLength(7),l.kI.maxLength(11)]],agentPhoneArea:[this.phoneAreaDefault,l.kI.required],agentEmail:[null],agentId:[null,[l.kI.required]]}),this.numberOfPassenger={adult:(null===(w=null===(Z=o.ticketInfo.passengers)||void 0===Z?void 0:Z.filter(s=>{var u;return"ADT"===(null===(u=s.type)||void 0===u?void 0:u.toUpperCase())}))||void 0===w?void 0:w.length)||0,child:(null===(q=null===(Y=o.ticketInfo.passengers)||void 0===Y?void 0:Y.filter(s=>{var u;return"CHD"===(null===(u=s.type)||void 0===u?void 0:u.toUpperCase())}))||void 0===q?void 0:q.length)||0,infant:(null===(W=null===(K=o.ticketInfo.passengers)||void 0===K?void 0:K.filter(s=>{var u;return"INF"===(null===(u=s.type)||void 0===u?void 0:u.toUpperCase())}))||void 0===W?void 0:W.length)||0},this.passengerFormGroup=this.fb.group({adultPassenger:this.fb.array([]),childPassenger:this.fb.array([]),infantPassenger:this.fb.array([])},{validator:(0,G.aV)()});const Ce=(null===($=o.ticketInfo.passengers)||void 0===$?void 0:$.filter(s=>{var u;return"ADT"===(null===(u=s.type)||void 0===u?void 0:u.toUpperCase())}).map(s=>{var u;return{firstName:s.firstName,lastName:s.lastName,gender:(null===(u=s.gender)||void 0===u?void 0:u.toLowerCase())||"male"}}))||[],ye=(null===(Q=o.ticketInfo.passengers)||void 0===Q?void 0:Q.filter(s=>{var u;return"CHD"===(null===(u=s.type)||void 0===u?void 0:u.toUpperCase())}).map(s=>{var u;return{firstName:s.firstName,lastName:s.lastName,gender:(null===(u=s.gender)||void 0===u?void 0:u.toLowerCase())||"male",birthday:A(s.birthday).toDate()}}))||[],Pe=(null===(z=o.ticketInfo.passengers)||void 0===z?void 0:z.filter(s=>{var u;return"INF"===(null===(u=s.type)||void 0===u?void 0:u.toUpperCase())}).map(s=>{var u;return{firstName:s.firstName,lastName:s.lastName,gender:(null===(u=s.gender)||void 0===u?void 0:u.toLowerCase())||"male",birthday:A(s.birthday).toDate(),parentIndex:s.parentIndex+""}}))||[];this.initPassengerForm(),this.initAdultFormGroup(),this.initChildFormGroup(),this.initInfantFormGroup(),this.passengerFormGroup.patchValue({adultPassenger:Ce,childPassenger:ye,infantPassenger:Pe}),this.preInitialFormOrderId=void 0}reloadPassengerForm(){const o=this.passengerFormGroup.value;this.initPassengerForm(),this.initAdultFormGroup(),this.initChildFormGroup(),this.initInfantFormGroup(),this.passengerFormGroup.patchValue(Object.assign({},o))}initJourneyForm(){this.journeyFormGroup=this.fb.group({startPoint:["",[l.kI.required]],endPoint:["",[l.kI.required]],departDate:[null,[l.kI.required]],startTimeRange:[null],enablePriceOption:[!1],targetVNPrice:[0],targetVJPrice:[0],targetQHPrice:[0],enableFareOption:[!0],enableTimeStart:[!1],fareOptions:[null]},{validators:re})}initConfigurationForm(){this.configurationFormGroup=this.fb.group({dateExpires:[null,[l.kI.required]],timeExpires:[null,[l.kI.required]],sendNotify:[!1,[l.kI.required]],agentDisplayName:[null],agentAvatar:[null],agentName:[null],agentPhone:[null,[l.kI.required,l.kI.minLength(7),l.kI.maxLength(11)]],agentPhoneArea:[this.phoneAreaDefault,l.kI.required],agentEmail:[null],agentId:[null,[l.kI.required]]})}initPassengerForm(){this.passengerFormGroup=this.fb.group({secretRemark:[null],publicRemark:[null],adultPassenger:this.fb.array([]),childPassenger:this.fb.array([]),infantPassenger:this.fb.array([])},{validator:(0,G.aV)()})}initAdultFormGroup(){for(let o=0;o<this.numberOfPassenger.adult;o++){const v=this.fb.group({firstName:[null,[l.kI.required]],lastName:[null,[l.kI.required]],gender:["male",[l.kI.required]],birthday:[null],membershipQH:[null],membershipVN:[null],issuanceDate:[null],expiryDate:[null],issuanceCountry:[null],nationality:[null],number:[null],cccdNumber:[null],documentType:[e.FV.CCCD],type:"ADT"},{validator:(0,G.fJ)("birthday",this.departureTime)});this.getFormArray("adultPassenger").push(v)}}initChildFormGroup(){for(let o=0;o<this.numberOfPassenger.child;o++){const v=this.fb.group({birthday:[null,[l.kI.required]],firstName:[null,[l.kI.required]],lastName:[null,[l.kI.required]],gender:["male",[l.kI.required]],membershipQH:[null],membershipVN:[null],issuanceDate:[null],expiryDate:[null],issuanceCountry:[null],nationality:[null],number:[null],cccdNumber:[null],documentType:[e.FV.CCCD],type:"CHD"},{validator:(0,G.$K)("birthday",this.departureTime)});this.getFormArray("childPassenger").push(v)}}initInfantFormGroup(){for(let o=0;o<this.numberOfPassenger.infant;o++){const v=this.fb.group({birthday:[null,[l.kI.required]],firstName:[null,[l.kI.required]],lastName:[null,[l.kI.required]],gender:["male",[l.kI.required]],parentIndex:[o+"",[l.kI.required]],membershipQH:[null],membershipVN:[null],issuanceDate:[null],expiryDate:[null],issuanceCountry:[null],nationality:[null],number:[null],cccdNumber:[null],documentType:[e.FV.CCCD],type:"INF"},{validator:(0,G.DW)("birthday",this.departureTime)});this.getFormArray("infantPassenger").push(v)}}getNumberOfPassenger(){this.initAdultPassengerOptions()}getFormArray(o){return this.passengerFormGroup.controls[o]}getFormControlInArray(o,v){return o.controls[v]}initAdultPassengerOptions(){for(let o=0;o<this.numberOfPassenger.adult;o++)this.optionsAdultPassenger.push({code:o+"",name:`Ng\u01b0\u1eddi l\u1edbn ${o+1}`})}changeNumberOfPassenger(o){this.numberOfPassenger=o,this.numberOfPassengerChange$.next(o)}numOfPax(){return this.numberOfPassenger}formJourneyData(){return this.journeyFormGroup.value}formPassengerData(){return this.passengerFormGroup.value}formConfigurationData(){return this.configurationFormGroup.value}resetDataService(){this.customRangeItem={rangeValues:[0,1439],startTimeStr:"00:00",endTimeStr:"23:59"},this.showPriceOption=!1,this.showTimeStartOption=!1,this.showFareOption=!0,this.selectedFaresTree=[],this.optionDepartureTime=[{name:"S\xe1ng s\u1edbm",code:"early_morning",start:"00:00",end:"05:59",isActive:!1,disable:!1,startTime:0,endTime:360,totalAvailable:0},{name:"Bu\u1ed5i s\xe1ng",code:"morning",start:"06:00",end:"11:59",isActive:!1,disable:!1,startTime:360,endTime:720,totalAvailable:0},{name:"Bu\u1ed5i chi\u1ec1u",code:"afternoon",start:"12:00",end:"17:59",isActive:!1,disable:!1,startTime:720,endTime:1080,totalAvailable:0},{name:"Bu\u1ed5i t\u1ed1i",code:"evening",start:"18:00",end:"23:59",isActive:!1,disable:!1,startTime:1080,endTime:1439,totalAvailable:0},{name:"T\xf9y ch\u1ecdn",code:"custom",start:"00:00",end:"23:59",isActive:!1,disable:!1,startTime:0,endTime:1439,totalAvailable:0}]}isAgent2Show(){const o=this._permissionService.getCurrentAuthor();return"AGENT2"===(null==o?void 0:o.titleCode.toUpperCase())}getSourceEvent(){switch(this.sourceEvent){case"SEARCH_INPUT":return 0;case"SEARCH_RESULT":return 1;case"HEADER_MANAGE":return 2;case"EMPTY_STATE":return 3;case"REGENERATE":return 4;default:return-1}}convertTimeRangeStrToMin(o){return A.duration(o).asMinutes()}minuteToString(o){const v=Math.floor(o/60),y=o%60;let E=`${v}`,F=`${y}`;return v<10&&(E=`0${v}`),y<10&&(F=`0${y}`),`${E}:${F}`}checkVJAirline(){var o;const v=null===(o=this.selectedFaresTree)||void 0===o?void 0:o.filter(y=>y.isActive).map(y=>y.code.toUpperCase());if(this.journeyFormGroup.value.enableFareOption&&v.includes("VJ")){if(this.hasVJAirline=!0,!this.checkPhoneRequired){const y=this._permissionService.getCurrentUser();this.configurationFormGroup.controls.agentPhone.setValue(y.phone)}this.configurationFormGroup.controls.agentPhone.setValidators([l.kI.required,l.kI.minLength(7),l.kI.maxLength(11)]),this.configurationFormGroup.controls.agentPhoneArea.setValidators([l.kI.required])}else if(this.journeyFormGroup.value.enablePriceOption&&this.journeyFormGroup.value.targetVJPrice){if(this.hasVJAirline=!0,!this.checkPhoneRequired){const y=this._permissionService.getCurrentUser();this.configurationFormGroup.controls.agentPhone.setValue(y.phone)}this.configurationFormGroup.controls.agentPhone.setValidators([l.kI.required,l.kI.minLength(7),l.kI.maxLength(11)]),this.configurationFormGroup.controls.agentPhoneArea.setValidators([l.kI.required])}else this.hasVJAirline=!1,this.configurationFormGroup.controls.agentPhone.setValidators(null),this.configurationFormGroup.controls.agentPhoneArea.setValidators(null)}}return c.\u0275fac=function(o){return new(o||c)(x.LFG(ne.gz),x.LFG(ne.F0),x.LFG(l.qu),x.LFG(ue.$A),x.LFG(de.o),x.LFG(ee))},c.\u0275prov=x.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();var M=a(53820);const ge={[M.b.CREATE]:{name:"\u0110ang s\u0103n v\xe9",description:"S\u0103n v\xe9 t\u1ef1 \u0111\u1ed9ng \u0111ang ho\u1ea1t \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[M.b.IN_PROCESS]:{name:"\u0110ang canh v\xe9",description:"Canh v\xe9 r\u1ebb t\u1ef1 \u0111\u1ed9ng \u0111ang ho\u1ea1t \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[M.b.COMPLETED]:{name:"\u0110\xe3 s\u0103n th\xe0nh c\xf4ng",description:"\u0110\xe3 s\u0103n \u0111\u01b0\u1ee3c v\xe9",icon:"check",backgroundColor:"bg-[#07A35D]",textColor:"text-neutral-white"},[M.b.IN_PROCESS_PRICE_UP]:{name:"\u0110ang s\u0103n gi\xe1 t\u0103ng",description:"Gi\xe1 v\xe9 \u0111\xe3 t\u0103ng, vui l\xf2ng c\xe2n nh\u1eafc xu\u1ea5t v\xe9",icon:"arrow_right_up",backgroundColor:"bg-[#ffd1bc]",textColor:"text-primary-1-4"},[M.b.CANCEL]:{name:"\u0110\xe3 h\u1ee7y",description:"\u0110\xe3 h\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9",icon:"coupon_slash",backgroundColor:"bg-[#999999]",textColor:"text-neutral-white"},[M.b.EXPIRED]:{name:"\u0110\xe3 h\u1ebft s\u0103n",description:"H\u1ebft h\u1ea1n s\u0103n v\xe9",icon:"clock",backgroundColor:"bg-[#CCCCCC]",textColor:"text-neutral-gray-6"}}},57085:(N,I,a)=>{a.d(I,{bz:()=>t,fJ:()=>n,$K:()=>g,DW:()=>h,Ab:()=>T,i4:()=>P,aV:()=>i});const t=(m,D)=>m.get(D);var e=a(15439);const g=(m,D)=>p=>{const d=p.controls[m];if(!d.value)return;const f=e(D).startOf("day").add(0,"hours").toDate().getTime(),b=e(d.value).toDate();b.setFullYear(b.getFullYear()+2);const r=b.getTime(),C=e(d.value).toDate();C.setFullYear(C.getFullYear()+12);const R=C.getTime();f<=R&&f>r?d.setErrors(null):f<=R?d.setErrors({DoBChildUnder:!0}):f>r&&d.setErrors({DoBChildUpper:!0})},h=(m,D)=>p=>{const d=p.controls[m];if(!d.value)return;const f=e(D).startOf("day").add(0,"hours").toDate().getTime(),b=e(d.value).toDate().getTime(),r=e(d.value).toDate();r.setFullYear(r.getFullYear()+2);const C=r.getTime();d.setErrors(f<=C&&f>b?null:{DoBInfant:!0})},n=(m,D)=>p=>{const d=p.controls[m];if(!d.value)return;const f=e(D).startOf("day").add(0,"hours").toDate().getTime(),b=e(d.value).toDate().getTime();d.setErrors(f-b>=378683424e3?null:{DoBAdult:!0})},T=m=>D=>{const p=D.controls[m];p.value&&p.setErrors(""!=p.value?null:{required:!0})},i=()=>m=>{let D=[];for(let p=0;p<m.controls.infantPassenger.controls.length;p++){const d=m.controls.infantPassenger.at(p).controls.parentIndex.value;D.push({index:p,parentIndex:d})}for(let p=0;p<m.controls.infantPassenger.controls.length;p++){const d=m.controls.infantPassenger.at(p).controls.parentIndex.value;D.filter(b=>b.parentIndex===d).length>1?m.controls.infantPassenger.at(p).controls.parentIndex.setErrors({ParentInfantDupplicate:!0}):m.controls.infantPassenger.at(p).controls.parentIndex.setErrors(null)}},P=(m,D)=>p=>{const d=p.controls[m],f=p.controls[D];if(!d.value||!f.value)return;const b=e(d.value).startOf("day").add(0,"hours").toDate().getTime();e(f.value).startOf("day").add(0,"hours").toDate().getTime()<=b?d.setErrors({issuanceDateInvalid:!0}):d.setErrors(null)}},49195:(N,I,a)=>{a.d(I,{t:()=>e});var t=a(53820);const e={[t.b.CREATE]:{name:"\u0110ang canh v\xe9",description:"Canh v\xe9 r\u1ebb \u0111ang ho\u1ea1t \u0111\u1ed9ng t\u1ef1 \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[t.b.IN_PROCESS]:{name:"\u0110ang canh v\xe9",description:"Canh v\xe9 r\u1ebb \u0111ang ho\u1ea1t \u0111\u1ed9ng t\u1ef1 \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[t.b.COMPLETED]:{name:"\u0110\xe3 canh th\xe0nh c\xf4ng",description:"\u0110\xe3 canh \u0111\u01b0\u1ee3c gi\xe1 v\xe9 r\u1ebb",icon:"check",backgroundColor:"bg-[#07A35D]",textColor:"text-neutral-white"},[t.b.IN_PROCESS_PRICE_UP]:{name:"\u0110ang canh gi\xe1 t\u0103ng",description:"Gi\xe1 v\xe9 \u0111\xe3 t\u0103ng, vui l\xf2ng c\xe2n nh\u1eafc xu\u1ea5t v\xe9",icon:"arrow_right_up",backgroundColor:"bg-[#ffd1bc]",textColor:"text-primary-1-4"},[t.b.CANCEL]:{name:"\u0110\xe3 h\u1ee7y",description:"\u0110\xe3 h\u1ee7y y\xeau c\u1ea7u canh v\xe9",icon:"delete",backgroundColor:"bg-[#999999]",textColor:"text-neutral-white"},[t.b.EXPIRED]:{name:"\u0110\xe3 h\u1ebft h\u1ea1n",description:"H\u1ebft h\u1ea1n canh v\xe9",icon:"clock",backgroundColor:"bg-[#CCCCCC]",textColor:"text-neutral-gray-6"}}},53820:(N,I,a)=>{a.d(I,{b:()=>t});var t=(()=>{return(e=t||(t={})).CREATE="CREATE",e.IN_PROCESS="IN_PROCESS",e.IN_PROCESS_PRICE_UP="IN_PROCESS_PRICE_UP",e.COMPLETED="COMPLETED",e.EXPIRED="EXPIRED",e.CANCEL="CANCEL",t;var e})()},97380:(N,I,a)=>{a.d(I,{D5:()=>p,VP:()=>m,_r:()=>D,v_:()=>b,xj:()=>T,yI:()=>f});var t=a(97582),e=a(87067),g=a(43429),h=a(53820),n=a(49195);let T=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"status",void 0),(0,t.gn)([(0,g.D)(()=>i),(0,e.C)()],r.prototype,"data",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"objectError",void 0),r})(),i=(()=>{class r{}return(0,t.gn)([(0,g.D)(()=>m),(0,e.C)()],r.prototype,"listOrder",void 0),(0,t.gn)([(0,g.D)(()=>P),(0,e.C)()],r.prototype,"orderTaskStatus",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"pageOffset",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"pageSize",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"total",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"empty",void 0),r})(),P=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"canCreateOrder",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"completeTask",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"inProcessTask",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"maxTask",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"numMaxFree",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"numOrderFree",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"ownerId",void 0),r})(),m=(()=>{class r{get stateDisplay(){switch(this.state){case h.b.CREATE:return n.t[h.b.CREATE].name;case h.b.IN_PROCESS:return n.t[h.b.IN_PROCESS].name;case h.b.COMPLETED:return n.t[h.b.COMPLETED].name;case h.b.CANCEL:return n.t[h.b.CANCEL].name;case h.b.EXPIRED:return n.t[h.b.EXPIRED].name;case h.b.IN_PROCESS_PRICE_UP:return n.t[h.b.IN_PROCESS_PRICE_UP].name;default:return""}}}return(0,t.gn)([(0,e.C)()],r.prototype,"orderId",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"canUpdate",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"code",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"state",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"monitorType",void 0),(0,t.gn)([(0,g.D)(()=>D),(0,e.C)()],r.prototype,"ticketInfo",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"orderInfo",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"fareInfo",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"ownerInfo",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"userActionInfo",void 0),(0,t.gn)([(0,g.D)(()=>b),(0,e.C)()],r.prototype,"availableSlotInfo",void 0),r})(),D=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"leg",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"airline",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"flightType",void 0),(0,t.gn)([(0,g.D)(()=>p),(0,e.C)()],r.prototype,"journeys",void 0),(0,t.gn)([(0,g.D)(()=>f),(0,e.C)()],r.prototype,"passengers",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"totalFare",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"originalPrice",void 0),r})(),p=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"leg",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"startPoint",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"endPoint",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"departTime",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"arrivalTime",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"duration",void 0),(0,t.gn)([(0,g.D)(()=>d),(0,e.C)()],r.prototype,"segments",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"rangeTime",void 0),r})(),d=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"startPoint",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"endPoint",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"flightNumber",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"fareBasic",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"fareClass",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"departTime",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"departZone",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"arriveTime",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"arriveZone",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"index",void 0),r})(),f=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"birthday",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"firstName",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"lastName",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"type",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"index",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"parentIndex",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"key",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"parentKey",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"namePrefix",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"gender",void 0),r})(),b=(()=>{class r{}return(0,t.gn)([(0,e.C)()],r.prototype,"amountPerPax",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"currency",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"free",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"percent",void 0),(0,t.gn)([(0,e.C)()],r.prototype,"type",void 0),r})()},40833:(N,I,a)=>{function t(e,g){if(g.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+g.length+" present")}a.d(I,{Z:()=>t})},91998:(N,I,a)=>{function t(e){if(null===e||!0===e||!1===e)return NaN;var g=Number(e);return isNaN(g)?g:g<0?Math.ceil(g):Math.floor(g)}a.d(I,{Z:()=>t})},35650:(N,I,a)=>{a.d(I,{Z:()=>h});var t=a(91998),e=a(80953),g=a(40833);function h(n,T){(0,g.Z)(2,arguments);var i=(0,e.Z)(n),P=(0,t.Z)(T);return isNaN(P)?new Date(NaN):(P&&i.setDate(i.getDate()+P),i)}},43201:(N,I,a)=>{a.d(I,{Z:()=>n});var t=a(91998),e=a(80953),g=a(40833);function n(T,i){return(0,g.Z)(2,arguments),function h(T,i){(0,g.Z)(2,arguments);var P=(0,e.Z)(T),m=(0,t.Z)(i);if(isNaN(m))return new Date(NaN);if(!m)return P;var D=P.getDate(),p=new Date(P.getTime());return p.setMonth(P.getMonth()+m+1,0),D>=p.getDate()?p:(P.setFullYear(p.getFullYear(),p.getMonth(),D),P)}(T,12*(0,t.Z)(i))}},80953:(N,I,a)=>{a.d(I,{Z:()=>g});var t=a(86),e=a(40833);function g(h){(0,e.Z)(1,arguments);var n=Object.prototype.toString.call(h);return h instanceof Date||"object"===(0,t.Z)(h)&&"[object Date]"===n?new Date(h.getTime()):"number"==typeof h||"[object Number]"===n?new Date(h):(("string"==typeof h||"[object String]"===n)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},86:(N,I,a)=>{function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(e)}a.d(I,{Z:()=>t})}}]);