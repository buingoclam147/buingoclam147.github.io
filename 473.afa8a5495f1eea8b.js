(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[473],{8473:(Nt,L,w)=>{"use strict";w.r(L),w.d(L,{BtcResultBookingComponent:()=>bl,BtcResultDepositComponent:()=>Dr,BtcResultListComponent:()=>Xx,BtcResultPaxComponent:()=>UC,BtcResultPaymentComponent:()=>jC,BtcResultSearchComponent:()=>YC});var q={};w.r(q),w.d(q,{Decoder:()=>Po,Encoder:()=>ul,PacketType:()=>zt,protocol:()=>gp});var g=w(6895),t=w(4650),A=w(4006),I=w(1253),S=w(3700),v=w(2506),M=w(9123),ot=(()=>{return(n=ot||(ot={})).QR="QR",n.TRANSFER="TRANSFER",n.ATM="ATM",n.VISA="VISA",n.NINE_PAY="NINE_PAY",ot;var n})();const rt={PAYMENT_PROCESSING:{name:"Ch\u01b0a thanh to\xe1n",icon:"money",bgColor:"bg-orange-3"},PAYMENT_SUCCESS:{name:"\u0110\xe3 thanh to\xe1n (\u0111ang x\u1eed l\xfd v\xe9)",icon:"money",bgColor:"bg-blue-3"},CANCELLED:{name:"\u0110\xe3 h\u1ee7y",icon:"circle_error",bgColor:"bg-neutral-gray-4"},SUCCESS:{name:"\u0110\u1eb7t v\xe9 th\xe0nh c\xf4ng",icon:"circle_check",bgColor:"bg-green-3"},FAILED:{name:"\u0110\u1eb7t v\xe9 th\u1ea5t b\u1ea1i",icon:"circle_warning",bgColor:"bg-red-4"},REFUNDED:{name:"\u0110\xe3 ho\xe0n ti\u1ec1n",icon:"profit",bgColor:"bg-purple-3"}};var et=w(429);let it=(()=>{class n{transform(e,i,a){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"replace",type:n,pure:!0,standalone:!0}),n})(),nt=(()=>{class n{transform(e){const i={Mon:"Th2",Tue:"Th3",Wed:"Th4",Thu:"Th5",Fri:"Th6",Sat:"Th7",Sun:"CN"};return(0,g.p6)(e,"EEE, dd/MM/yyyy","en-US").replace(/Mon|Tue|Wed|Thu|Fri|Sat|Sun/g,c=>i[c])}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"formatVietnameseDate",type:n,pure:!0,standalone:!0}),n})();var ut=w(1390),wt=w(8017);function ee(n,o){if(1&n&&(t.TgZ(0,"div",69),t._UZ(1,"cf-icon",70),t.TgZ(2,"span",71),t._uU(3),t.ALo(4,"mapper"),t.qZA()()),2&n){const e=t.oxw().$implicit,i=t.oxw(4);t.xp6(3),t.lnq(" D\u1eebng t\u1ea1i: ",t.xi3(4,3,e.startPoint,i.getLocationData)," (",e.startPoint,"). Th\u1eddi gian d\u1eebng: ",e.delaySt," ")}}function Bt(n,o){1&n&&t._UZ(0,"div",72)}function Mt(n,o){if(1&n&&(t.TgZ(0,"span",73)(1,"span",74),t._uU(2),t.qZA(),t.TgZ(3,"span",75),t._uU(4),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.hij("",e.name,":\xa0"),t.xp6(2),t.Oqu(e.value)}}function Tt(n,o){if(1&n&&(t.TgZ(0,"div",76),t._UZ(1,"cf-icon",70),t.TgZ(2,"span",71),t._uU(3),t.ALo(4,"mapper"),t.qZA()()),2&n){const e=t.oxw().$implicit,i=t.oxw(4);t.xp6(3),t.lnq(" D\u1eebng t\u1ea1i: ",t.xi3(4,3,e.startPoint,i.getLocationData)," (",e.startPoint,"). Th\u1eddi gian d\u1eebng: ",e.delaySt," ")}}function Et(n,o){1&n&&(t.TgZ(0,"div",77),t._uU(1," Chi\u1ec1u \u0111i"),t.qZA())}function se(n,o){1&n&&(t.TgZ(0,"div",77),t._uU(1," Chi\u1ec1u v\u1ec1"),t.qZA())}function Ee(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3).ngIf;t.xp6(1),t.hij("\xa0(",null==e.fareCur?null:e.fareCur.fareClass,")")}}function _t(n,o){if(1&n&&(t.TgZ(0,"span",64)(1,"span",78),t._uU(2),t.qZA(),t.YNc(3,Ee,2,1,"span",10),t.qZA()),2&n){const e=t.oxw(2).ngIf;t.xp6(2),t.Oqu(null==e.fareCur?null:e.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.fareCur?null:e.fareCur.fareClass)}}function St(n,o){if(1&n&&(t.TgZ(0,"span",64),t._uU(1),t.qZA()),2&n){const e=t.oxw(3).ngIf;t.xp6(1),t.hij("H\u1ea1ng ch\u1ed7: ",null==e.fareCur?null:e.fareCur.fareClass,"")}}function At(n,o){if(1&n&&t.YNc(0,St,2,1,"span",79),2&n){const e=t.oxw(2).ngIf;t.Q6J("ngIf",null==e.fareCur?null:e.fareCur.fareClass)}}function mt(n,o){1&n&&(t.TgZ(0,"div",23),t._uU(1,"H\xe0nh l\xfd k\xfd g\u1eedi:\xa0"),t.qZA())}function Ht(n,o){1&n&&(t.TgZ(0,"div",23),t._uU(1,"H\xe0nh l\xfd x\xe1ch tay:\xa0"),t.qZA())}function Ft(n,o){if(1&n&&(t.TgZ(0,"div",63),t.YNc(1,mt,2,0,"div",81),t.YNc(2,Ht,2,0,"div",81),t.TgZ(3,"div",64),t._uU(4),t.qZA()()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf","CHECKED_BAGGAGE"===e.cate),t.xp6(1),t.Q6J("ngIf","HAND_BAGGAGE"===e.cate),t.xp6(2),t.Oqu(e.value)}}function kt(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Ft,5,3,"div",80),t.BQk()),2&n){const e=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngForOf",e.fareRuleClassesObj[e.IDF])}}function Yt(n,o){1&n&&(t.TgZ(0,"div",63)(1,"div",23),t._uU(2,"H\xe0nh l\xfd k\xfd g\u1eedi:\xa0"),t.qZA(),t.TgZ(3,"div",64),t._uU(4,"N/A"),t.qZA()(),t.TgZ(5,"div",63)(6,"div",23),t._uU(7,"H\xe0nh l\xfd x\xe1ch tay:\xa0"),t.qZA(),t.TgZ(8,"div",64),t._uU(9,"N/A"),t.qZA()())}const Jt=function(){return[]};function Bn(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",13),t.YNc(2,ee,5,6,"div",14),t.TgZ(3,"div",15)(4,"div",16),t.YNc(5,Bt,1,0,"div",17),t.qZA(),t.TgZ(6,"div",18)(7,"div",19)(8,"div"),t._UZ(9,"img",20),t.qZA(),t.TgZ(10,"div",21)(11,"div",22),t._uU(12),t.qZA(),t.TgZ(13,"div",23),t._uU(14),t.qZA()(),t.TgZ(15,"div",24),t._uU(16),t.qZA()(),t.TgZ(17,"div",25)(18,"div",26)(19,"div",27)(20,"div",28),t._UZ(21,"cf-icon",29),t.TgZ(22,"div"),t._uU(23),t.ALo(24,"date"),t.qZA()(),t.TgZ(25,"div",30),t._UZ(26,"div",31)(27,"div",32)(28,"cf-icon",33),t.qZA()(),t.TgZ(29,"div",34),t._UZ(30,"cf-icon",35),t.TgZ(31,"div",36),t._uU(32),t.ALo(33,"formatVietnameseDate"),t.qZA()(),t.TgZ(34,"div",37),t._UZ(35,"cf-icon",38),t.TgZ(36,"div",39)(37,"span",40),t._uU(38),t.qZA(),t.TgZ(39,"span",41),t._uU(40),t.ALo(41,"mapper"),t.qZA()()()(),t.TgZ(42,"div")(43,"div",42),t._UZ(44,"cf-icon",29),t.TgZ(45,"div"),t._uU(46),t.ALo(47,"date"),t.qZA()(),t.TgZ(48,"div",34),t._UZ(49,"cf-icon",35),t.TgZ(50,"div",36),t._uU(51),t.ALo(52,"formatVietnameseDate"),t.qZA()(),t.TgZ(53,"div",37),t._UZ(54,"cf-icon",38),t.TgZ(55,"div",39)(56,"span",40),t._uU(57),t.qZA(),t.TgZ(58,"span",41),t._uU(59),t.ALo(60,"mapper"),t.qZA()()()()()(),t.TgZ(61,"div",43),t.YNc(62,Mt,5,2,"span",44),t.ALo(63,"mapper"),t.qZA()()(),t.YNc(64,Tt,5,6,"div",45),t.TgZ(65,"div",46)(66,"div",47)(67,"div",48)(68,"div",37),t._UZ(69,"img",49),t.TgZ(70,"div",50)(71,"div",51),t._uU(72),t.qZA(),t.TgZ(73,"div",52),t._uU(74),t.qZA()()(),t.YNc(75,Et,2,0,"div",53),t.YNc(76,se,2,0,"div",53),t.qZA(),t.TgZ(77,"div",54)(78,"div",55)(79,"div",56)(80,"div",51),t._uU(81),t.ALo(82,"date"),t.qZA(),t.TgZ(83,"div",52),t._uU(84),t.ALo(85,"date"),t.qZA()(),t.TgZ(86,"div",56)(87,"div",51),t._uU(88),t.ALo(89,"date"),t.qZA(),t.TgZ(90,"div",52),t._uU(91),t.ALo(92,"date"),t.qZA()()(),t.TgZ(93,"div",57),t._UZ(94,"div",58)(95,"div",59)(96,"cf-icon",60),t.qZA(),t.TgZ(97,"div",55)(98,"div",50)(99,"div",51),t._uU(100),t.ALo(101,"mapper"),t.qZA()(),t.TgZ(102,"div",50)(103,"div",51),t._uU(104),t.ALo(105,"mapper"),t.qZA()()()()(),t.TgZ(106,"div",61)(107,"div",62)(108,"div",63)(109,"div",23),t._uU(110,"Th\u1eddi gian bay:\xa0"),t.qZA(),t.TgZ(111,"div",64),t._uU(112),t.qZA()(),t.TgZ(113,"div",63)(114,"div",23),t._uU(115,"Lo\u1ea1i m\xe1y bay:\xa0"),t.qZA(),t.TgZ(116,"div",64),t._uU(117),t.qZA()(),t.TgZ(118,"div",63)(119,"div",23),t._uU(120,"H\u1ea1ng ch\u1ed7:\xa0"),t.qZA(),t.YNc(121,_t,4,2,"span",65),t.YNc(122,At,1,1,"ng-template",null,66,t.W1O),t.qZA(),t.YNc(124,kt,2,1,"ng-container",67),t.YNc(125,Yt,10,0,"ng-template",null,68,t.W1O),t.qZA()()(),t.BQk()),2&n){const e=o.$implicit,i=t.MAs(123),a=t.MAs(126),c=t.oxw().ngIf,u=t.oxw(3);t.xp6(2),t.Q6J("ngIf",e.delaySt),t.xp6(3),t.Q6J("ngForOf",t.DdM(75,Jt).constructor(6)),t.xp6(4),t.Q6J("src",e.logoAirline,t.LSH),t.xp6(3),t.hij("",e.operating," - "),t.xp6(2),t.hij("\xa0",e.operatingName,""),t.xp6(2),t.hij(" ",e.flightNumber," "),t.xp6(7),t.Oqu(t.xi3(24,36,e.startTime,"HH:mm")),t.xp6(9),t.hij(" ",t.lcZ(33,39,e.departure.localTime)," "),t.xp6(6),t.hij("",e.startPoint," - "),t.xp6(2),t.Oqu(t.xi3(41,41,e.startPoint,u.getLocationData)),t.xp6(6),t.hij(" ",t.xi3(47,44,e.endTime,"HH:mm")," "),t.xp6(5),t.hij("",t.lcZ(52,47,e.arrival.localTime)," "),t.xp6(6),t.hij("",e.endPoint," - "),t.xp6(2),t.Oqu(t.xi3(60,49,e.endPoint,u.getLocationData)),t.xp6(3),t.Q6J("ngForOf",t.gM2(63,52,e,u.formatRuleBySegment,u.ticketCur,u.index)),t.xp6(2),t.Q6J("ngIf",e.delaySt),t.xp6(5),t.Q6J("src","assets/airline-logo/"+e.operating+".png",t.LSH),t.xp6(3),t.AsE("",e.airline,"",e.flightNumber,""),t.xp6(2),t.Oqu(e.airlineName),t.xp6(1),t.Q6J("ngIf",0===u.index),t.xp6(1),t.Q6J("ngIf",1===u.index),t.xp6(5),t.Oqu(t.xi3(82,57,e.startTime,"HH:mm")),t.xp6(3),t.Oqu(t.xi3(85,60,e.startTime,"dd/MM/yyy")),t.xp6(4),t.Oqu(t.xi3(89,63,e.endTime,"HH:mm")),t.xp6(3),t.Oqu(t.xi3(92,66,e.endTime,"dd/MM/yyy")),t.xp6(9),t.AsE("",t.xi3(101,69,e.startPoint,u.getLocationData)," - ",e.startPoint," "),t.xp6(4),t.AsE("",t.xi3(105,72,e.endPoint,u.getLocationData)," - ",e.endPoint," "),t.xp6(8),t.Oqu(e.durationStrMobile),t.xp6(5),t.Oqu(e.modelAirplaneName),t.xp6(4),t.Q6J("ngIf",(null==c.fareCur?null:c.fareCur.cabinName)&&"null"!==(null==c.fareCur?null:c.fareCur.cabinName))("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",c.fareRuleClassesObj&&c.IDF)("ngIfElse",a)}}function en(n,o){if(1&n&&(t.TgZ(0,"div")(1,"div",11),t._UZ(2,"cf-icon",12),t.TgZ(3,"span",3),t._uU(4),t.ALo(5,"mapper"),t.ALo(6,"mapper"),t.qZA()(),t.YNc(7,Bn,127,76,"ng-container",5),t.qZA()),2&n){const e=o.ngIf,i=t.oxw(3);t.xp6(4),t.AsE("Chuy\u1ebfn bay: ",t.xi3(5,3,null==e||null==e.departure||null==e.departure.airport?null:e.departure.airport.code,i.getLocationData)," - ",t.xi3(6,6,null==e||null==e.arrival||null==e.arrival.airport?null:e.arrival.airport.code,i.getLocationData),""),t.xp6(3),t.Q6J("ngForOf",e.segments)}}function Zn(n,o){1&n&&(t.TgZ(0,"th",84),t._uU(1," Gi\u1ea3m gi\xe1 "),t.qZA())}function jo(n,o){if(1&n&&(t.TgZ(0,"td",96),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" (",t.Dn7(2,1,t.lcZ(3,5,e.discountAmount),",","."),") ")}}function Si(n,o){if(1&n&&(t.TgZ(0,"td",97),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.totalFare-e.discountAmount*e.quantity),",",".")," ")}}function Ke(n,o){if(1&n&&(t.TgZ(0,"td",97),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.totalFare),",",".")," ")}}function Fi(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td",92),t._uU(2),t.qZA(),t.TgZ(3,"td",92),t._uU(4),t.ALo(5,"number"),t.qZA(),t.TgZ(6,"td",92),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"td",92),t._uU(10),t.ALo(11,"number"),t.qZA(),t.YNc(12,jo,4,7,"td",93),t.ALo(13,"mapper"),t.YNc(14,Si,4,7,"td",94),t.ALo(15,"mapper"),t.YNc(16,Ke,4,7,"ng-template",null,95,t.W1O),t.qZA()),2&n){const e=o.$implicit,i=t.MAs(17),a=t.oxw(3).$implicit,c=t.oxw();t.xp6(2),t.Oqu(e.type),t.xp6(2),t.Oqu(t.lcZ(5,7,e.quantity)),t.xp6(3),t.Oqu(t.lcZ(8,9,e.baseFare)),t.xp6(3),t.Oqu(t.lcZ(11,11,e.surCharge)),t.xp6(2),t.Q6J("ngIf",t.xi3(13,13,a.ticketPriceList,c.isDiscountAmount)),t.xp6(2),t.Q6J("ngIf",t.xi3(15,16,a.ticketPriceList,c.isDiscountAmount))("ngIfElse",i)}}function Yo(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.totalFare-e.discountAmount*e.quantity),",","."),"\u0111 ")}}function oo(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("",t.Dn7(2,1,t.lcZ(3,5,e.totalFare),",","."),"\u0111")}}function zn(n,o){if(1&n&&(t.TgZ(0,"div",102)(1,"div",100),t._uU(2,"Gi\u1ea3m gi\xe1"),t.qZA(),t.TgZ(3,"div",103),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(4),t.AsE(" ",t.Dn7(5,2,t.lcZ(6,6,e.discountAmount),",",".")," X ",e.quantity,"")}}function Wn(n,o){if(1&n&&(t.TgZ(0,"div",50)(1,"div",98)(2,"div",99),t._uU(3),t.qZA(),t.TgZ(4,"div",99),t.YNc(5,Yo,4,7,"span",67),t.ALo(6,"mapper"),t.YNc(7,oo,4,7,"ng-template",null,95,t.W1O),t.qZA()(),t.TgZ(9,"div",98)(10,"div",100),t._uU(11,"Gi\xe1 v\xe9 m\xe1y bay"),t.qZA(),t.TgZ(12,"div",100),t._uU(13),t.ALo(14,"replace"),t.ALo(15,"number"),t.qZA()(),t.TgZ(16,"div",98)(17,"div",100),t._uU(18,"Thu\u1ebf & ph\xed"),t.qZA(),t.TgZ(19,"div",100),t._uU(20),t.ALo(21,"replace"),t.ALo(22,"number"),t.qZA()(),t.YNc(23,zn,7,8,"div",101),t.ALo(24,"mapper"),t.qZA()),2&n){const e=o.$implicit,i=t.MAs(8),a=t.oxw(3).$implicit,c=t.oxw();t.xp6(3),t.Oqu(e.type),t.xp6(2),t.Q6J("ngIf",t.xi3(6,8,a.ticketPriceList,c.isDiscountAmount))("ngIfElse",i),t.xp6(8),t.AsE("",t.Dn7(14,11,t.lcZ(15,15,e.baseFare),",","."),"\u0111 x ",e.quantity,""),t.xp6(7),t.AsE("",t.Dn7(21,17,t.lcZ(22,21,e.surCharge),",","."),"\u0111 x ",e.quantity,""),t.xp6(3),t.Q6J("ngIf",t.xi3(24,23,a.ticketPriceList,c.isDiscountAmount))}}function Qo(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",13)(2,"div",11),t._UZ(3,"cf-icon",12),t.TgZ(4,"span",3),t._uU(5,"Gi\xe1 v\xe9"),t.qZA()(),t.TgZ(6,"table",82)(7,"thead")(8,"tr",83)(9,"th",84),t._uU(10,"H\xe0nh kh\xe1ch"),t.qZA(),t.TgZ(11,"th",84),t._uU(12,"S\u1ed1 l\u01b0\u1ee3ng"),t.qZA(),t.TgZ(13,"th",84),t._uU(14,"Gi\xe1 v\xe9"),t.qZA(),t.TgZ(15,"th",84),t._uU(16,"Thu\u1ebf ph\xed"),t.qZA(),t.YNc(17,Zn,2,0,"th",85),t.ALo(18,"mapper"),t.TgZ(19,"th",86),t._uU(20,"T\u1ed5ng chi ph\xed"),t.qZA()()(),t.TgZ(21,"tbody"),t.YNc(22,Fi,18,19,"tr",5),t.qZA()(),t.TgZ(23,"div",87)(24,"div",22),t._uU(25,"T\u1ed5ng chi ph\xed"),t.qZA(),t.TgZ(26,"div",88),t._uU(27),t.ALo(28,"number"),t.ALo(29,"mapper"),t.qZA()()(),t.TgZ(30,"div",89)(31,"div",90),t.YNc(32,Wn,25,26,"div",91),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(17),t.Q6J("ngIf",t.xi3(18,4,e.ticketPriceList,i.isDiscountAmount)),t.xp6(5),t.Q6J("ngForOf",e.ticketPriceList||t.DdM(12,Jt)),t.xp6(5),t.hij(" ",t.lcZ(28,7,t.xi3(29,9,e.ticketPriceList,i.sumPriceTicket))," \u0111"),t.xp6(5),t.Q6J("ngForOf",e.ticketPriceList)}}function Me(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("",e.name,": ")}}function Je(n,o){if(1&n&&(t.TgZ(0,"div",23),t.YNc(1,Me,2,1,"span",10),t._UZ(2,"span",111),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.name),t.xp6(1),t.Q6J("innerHTML",e.value,t.oJD)}}function Xn(n,o){if(1&n&&(t.TgZ(0,"div",107)(1,"div",108),t._uU(2),t.qZA(),t.TgZ(3,"div",109),t.YNc(4,Je,3,2,"div",110),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.hij("",e.desc.vn,":"),t.xp6(2),t.Q6J("ngForOf",null==e?null:e.items)}}function ti(n,o){if(1&n&&(t.TgZ(0,"div",105),t.YNc(1,Xn,5,2,"div",106),t.qZA()),2&n){const e=o.ngIf;t.xp6(1),t.Q6J("ngForOf",e.fareRulesObj[e.IDF])}}function Ho(n,o){if(1&n&&(t.ynx(0),t.YNc(1,ti,2,1,"div",104),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.ticketCur.ticketSelected[e.index].ticketData)}}function Ds(n,o){1&n&&(t.TgZ(0,"div",22),t._uU(1," Li\xean h\u1ec7 t\u1ed5ng \u0111\xe0i: 1900 866 657 \u0111\u1ec3 bi\u1ebft th\xf4ng tin ch\xednh x\xe1c "),t.qZA())}function En(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Ds,2,0,"div",112),t.BQk()),2&n){const e=o.ngIf;t.xp6(1),t.Q6J("ngIf",!e.fareRulesObj||!e.fareRulesObj[e.IDF])}}function ro(n,o){if(1&n&&(t.TgZ(0,"div",9),t.YNc(1,en,8,9,"div",10),t.YNc(2,Qo,33,13,"ng-container",10),t.YNc(3,Ho,2,1,"ng-container",10),t.YNc(4,En,2,1,"ng-container",10),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ticketData),t.xp6(1),t.Q6J("ngIf",e.ticketPriceList),t.xp6(1),t.Q6J("ngIf",i.ticketCur.ticketSelected&&i.ticketCur.ticketSelected.length&&e.ticketData.fareRulesObj),t.xp6(1),t.Q6J("ngIf",e.ticketData)}}function pu(n,o){if(1&n&&(t.ynx(0),t.YNc(1,ro,5,4,"div",8),t.BQk()),2&n){const e=o.$implicit,i=o.index,a=t.oxw();t.xp6(1),t.Q6J("ngIf",a.index===i&&e.ticketData)}}let nn=(()=>{class n{constructor(e,i,a,c,u,d,f){this.ref=e,this.cfIconRegister=i,this._cdr=a,this._locationDataSvc=c,this._bottomSheetService=u,this.bottomSheetData=d,this.bottomSheetRef=f,this.index=0,this.sumPriceTicket=_=>_.reduce((m,x)=>m+x.totalFare-x.discountAmount*x.quantity,0),this.isDiscountAmount=_=>_.find(m=>m.discountAmount),this.getLocationData=_=>this._locationDataSvc.getCityNameByCode(_),this.formatRuleBySegment=(_,m,x)=>{var E,Z,D,P;const R=null===(Z=null===(E=m.ticketSelected)||void 0===E?void 0:E.find((X,z)=>z===x))||void 0===Z?void 0:Z.ticketData,$=R.fareRuleClassesObj?null===(D=R.fareRuleClassesObj[R.IDF])||void 0===D?void 0:D.find(X=>"CHECKED_BAGGAGE"===X.cate):null,Q=R.fareRuleClassesObj?null===(P=R.fareRuleClassesObj[R.IDF])||void 0===P?void 0:P.find(X=>"HAND_BAGGAGE"===X.cate):null;return[{name:"Th\u1eddi gian bay",value:_.durationStr},{name:"Lo\u1ea1i m\xe1y bay",value:_.modelAirplane},{name:"H\u1ea1ng ch\u1ed7",value:null!=R&&R.fareCur?R.fareCur.fareName+(R.fareCur.fareClass?`(${R.fareCur.fareClass})`:"N/A"):"N/A"},{name:"H\xe0nh l\xfd k\xfd g\u1eedi",value:$?$.value:"N/A"},{name:"H\xe0nh l\xfd x\xe1ch tay",value:Q?Q.value:"N/A"}]},i.registerIcons([v.UNF,v.Xlt,v.qDv,v.s5C,v.okA,v.B2I]),null!=e&&e.data&&(this.dataSearch=e.data.dataSearch,this.ticketCur=e.data.ticketCur,this.index=e.data.index,this.isAirLineInternational=e.data.isAirLineInternational),d&&(this.dataSearch=d.dataSearch,this.ticketCur=d.ticketCur,this.index=d.index,this.isAirLineInternational=d.isAirLineInternational)}onClose(){this.ref&&this.ref.close(!1),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!1)}ok(){this.ref&&this.ref.close(!0),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ut.gb,8),t.Y36(v.KNP),t.Y36(t.sBO),t.Y36(wt._h),t.Y36(I.a2),t.Y36(I.Rr,8),t.Y36(I.Zu,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-info-modal"]],standalone:!0,features:[t.jDz],decls:10,vars:1,consts:[[1,"w-full","h-[600px]","rounded-lg","bg-neutral-white","overflow-hidden","md:w-full","max-w-[768px]","md:max-w-full","md:h-full"],[1,"w-full","h-full","flex","flex-col","max-h-[600px]","md:max-h-full","md:pb-[80px]"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-neutral-gray-1","md:hidden"],[1,"text-heading-sm","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[4,"ngFor","ngForOf"],[1,"w-full","hidden","fixed","bottom-0","left-0","right-0","justify-center","items-center","py-4","bg-white","px-6","md:flex"],["cf-button","","size","medium",1,"md:w-full","py-3","justify-center",3,"click"],["class","flow-auto w-ful h-full overflow-auto py-4 px-6 flex flex-col gap-y-6",4,"ngIf"],[1,"flow-auto","w-ful","h-full","overflow-auto","py-4","px-6","flex","flex-col","gap-y-6"],[4,"ngIf"],[1,"mb-4","flex","items-center","gap-x-2"],["icon","circle_information","size","small",1,"cf-icon-small"],[1,"md:hidden"],["class","w-full bg-[#F0EAF4] rounded flex items-center  gap-x-2 py-1.5 px-3 my-3",4,"ngIf"],[1,"flex","md:flex-col","justify-between","items-center","border","border-neutral-gray-2","rounded","shadow-cf-journey-booking-success","relative"],[1,"absolute","md:hidden","-translate-x-[18%]","top-0","h-full","flex","flex-col","justify-between","py-3.5"],["class","w-1.5 h-3 border border-l-0 bg-neutral-white border-neutral-gray-2 rounded-r-full",4,"ngFor","ngForOf"],[1,"px-6","pt-4","pb-6","flex","flex-1","md:flex-col","justify-between","gap-x-8","gap-y-4","md:items-start","md:px-0"],[1,"flex","flex-col","items-center","justify-center"],[1,"w-[120px]","h-[60px]","object-contain",3,"src"],[1,"flex","items-center","mt-1.5"],[1,"text-espressive-sm"],[1,"text-body-sm"],[1,"py-[2px]","px-2","bg-neutral-gray-1","rounded","text-espressive-sm","text-neutral-black","mt-2"],[1,"flex","justify-between","gap-x-3"],[1,""],[1,"flex","items-center","gap-x-[20px]","mb-3"],[1,"text-heading-lg","text-neutral-black","flex","gap-x-2","items-center"],["icon","clock","size","small"],[1,"flex","items-center","w-[50px]","py-1","px-2.5"],[1,"w-1.5","h-1.5","bg-neutral-gray-2","rounded-full"],[1,"w-full","h-[1px]","bg-neutral-gray-2"],["icon","plane","size","small",1,"text-[#ccc]"],[1,"flex","items-center","gap-x-2","mb-2"],["icon","calendar","size","small"],[1,"text-body-md","text-neutral-black"],[1,"flex","items-center","gap-x-2"],["icon","location","size","small"],[1,"text-neutral-black"],[1,"text-espressive-md"],[1,"text-body-md"],[1,"text-heading-lg","text-neutral-black","mb-3","flex","gap-x-2","items-center"],[1,"py-6","px-[18px]","max-w-[232px]","md:max-w-full","md:w-full","border-l","md:border-l-0","md:border-t","border-dashed","border-neutral-gray-2","flex","flex-col","justify-between","gap-y-2"],["class","flex flex-nowrap",4,"ngFor","ngForOf"],["class","w-full bg-[#F0EAF4] rounded md:flex items-center  gap-x-2 py-1.5 px-3 my-3 hidden",4,"ngIf"],[1,"md:flex","border","border-neutral-gray-2","hidden","py-4","md:w-full","bg-white","flex-col","rounded-lg","gap-3"],[1,"flex","flex-1","gap-x-9","px-3","flex-col"],[1,"flex","justify-between"],[1,"w-9","h-9","object-contain",3,"src"],[1,"flex","flex-col","gap-y-1"],[1,"text-heading-xs","text-neutral-gray-6"],[1,"text-espressive-xs","text-neutral-gray-4"],["class","h-fit py-1 px-2 text-neutral-white text-espressive-sm bg-secondary-5-3 rounded ",4,"ngIf"],[1,"flex","mt-2","gap-x-4"],[1,"flex","flex-col","gap-y-4"],[1,"flex","flex-col","items-center","gap-y-1"],[1,"flex","flex-col","items-center","justify-between","py-3"],[1,"w-1","h-1","rounded-full","bg-neutral-gray-3"],[1,"border-r","border-r-neutral-gray-3","h-full"],["icon","plane","size","small",1,"text-neutral-gray-3"],[1,"w-full","pt-4","px-4"],[1,"w-full","border-t","pt-3","border-dashed","border-neutral-gray-2","flex","justify-between","gap-y-2","flex-col"],[1,"flex","flex-nowrap","items-center"],[1,"text-espressive-sm","text-neutral-black","font-semibold"],["class","text-espressive-sm text-neutral-black font-semibold",4,"ngIf","ngIfElse"],["noncabinTemplate",""],[4,"ngIf","ngIfElse"],["emptyFareRuleTpl",""],[1,"w-full","bg-[#F0EAF4]","rounded","flex","items-center","gap-x-2","py-1.5","px-3","my-3"],["icon","circle_information","size","small",1,"text-secondary-2-4"],[1,"text-express-md","text-neutral-gray-6"],[1,"w-1.5","h-3","border","border-l-0","bg-neutral-white","border-neutral-gray-2","rounded-r-full"],[1,"flex","flex-nowrap"],[1,"whitespace-nowrap","text-body-sm"],[1,"text-espressive-sm","text-neutral-black"],[1,"w-full","bg-[#F0EAF4]","rounded","md:flex","items-center","gap-x-2","py-1.5","px-3","my-3","hidden"],[1,"h-fit","py-1","px-2","text-neutral-white","text-espressive-sm","bg-secondary-5-3","rounded"],[1,"capitalize"],["class","text-espressive-sm text-neutral-black font-semibold",4,"ngIf"],["class","flex flex-nowrap items-center",4,"ngFor","ngForOf"],["class","text-body-sm",4,"ngIf"],[1,"table-auto","w-full"],[1,"border-b","border-neutral-gray-1"],[1,"text-left","text-espressive-sm","text-neutral-gray-4","py-3"],["class","text-left text-espressive-sm text-neutral-gray-4 py-3",4,"ngIf"],[1,"text-right","text-espressive-sm","text-neutral-gray-4","py-3"],[1,"flex","justify-end","items-center","gap-x-6","bg-secondary-3-1","py-1","px-2"],[1,"text-heading-md"],[1,"hidden","md:flex","flex-col","gap-y-4","border","border-neutral-gray-2","rounded-lg"],[1,"flex","flex-col","bg-neutral-white","rounded-lg","p-4","gap-y-2"],["class","flex flex-col gap-y-1",4,"ngFor","ngForOf"],[1,"text-body-md","text-neutral-black","py-3"],["class","text-body-md text-secondary-5-3 py-3",4,"ngIf"],["class","text-right text-body-md text-neutral-black py-3",4,"ngIf","ngIfElse"],["noDiscountTempl",""],[1,"text-body-md","text-secondary-5-3","py-3"],[1,"text-right","text-body-md","text-neutral-black","py-3"],[1,"flex","justify-between","items-center"],[1,"text-heading-xs","text-neutral-black"],[1,"text-body-sm","text-neutral-gray-4"],["class","flex justify-between items-center pb-3",4,"ngIf"],[1,"flex","justify-between","items-center","pb-3"],[1,"text-body-sm","text-secondary-5-3"],["class","flex flex-col gap-y-2",4,"ngIf"],[1,"flex","flex-col","gap-y-2"],["class","border border-neutral-gray-2 rounded-lg p-4",4,"ngFor","ngForOf"],[1,"border","border-neutral-gray-2","rounded-lg","p-4"],[1,"text-express-md","mb-2"],[1,"text-body-sm","flex","flex-col","gap-y-2"],["class","text-body-sm",4,"ngFor","ngForOf"],[3,"innerHTML"],["class","text-espressive-sm",4,"ngIf"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"Th\xf4ng tin chuy\u1ebfn bay"),t.qZA(),t.TgZ(5,"cf-icon",4),t.NdJ("click",function(){return i.onClose()}),t.qZA()(),t.YNc(6,pu,2,1,"ng-container",5),t.qZA(),t.TgZ(7,"div",6)(8,"button",7),t.NdJ("click",function(){return i.onClose()}),t._uU(9," \u0110\xf3ng "),t.qZA()()()),2&e&&(t.xp6(6),t.Q6J("ngForOf",i.ticketCur.ticketSelected))},dependencies:[g.ez,g.sg,g.O5,g.JJ,g.uU,v.AxE,v.Sm8,S.N8,S.Xq,nt,et.q,I.DW,it],styles:["[_nghost-%COMP%]{display:block;width:100%}"],changeDetection:0}),n})();var Re=w(4143);const gu=["*"];let gi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["cf-spinner"]],standalone:!0,features:[t.jDz],ngContentSelectors:gu,decls:6,vars:0,consts:[[1,"bg-white/80","w-screen","h-screen","fixed","top-0","left-0","flex","justify-center","z-1000"],[1,"m-auto","flex","flex-col","justify-center","items-center"],[1,"relative"],["src","assets/icons/loading.png","alt","",1,"animate-[spin_1.2s_linear_infinite]","w-[100px]","h-[100px]"],["src","assets/icons/logo-icon.png","alt","",1,"absolute","top-[25%]","left-[25%]","w-[48px]","h-[48px]"]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3)(4,"img",4),t.qZA(),t.Hsn(5),t.qZA()())},encapsulation:2}),n})(),fn=(()=>{class n{constructor(e,i,a){this.elementRef=e,this.renderer=i,this.document=a}set CfRequired(e){if(e){const i=this.document.createElement("span");i.innerHTML="&nbsp;(*)",i.className="text-primary-1-4 text-espressive-sm",this.renderer.appendChild(this.elementRef.nativeElement,i)}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(g.K0))},n.\u0275dir=t.lG2({type:n,selectors:[["","CfRequired",""]],inputs:{CfRequired:"CfRequired"},standalone:!0}),n})();var ue=w(529),Rt=w(8001),oe=w(494),be=w(3900),Be=w(4004),b=w(7582),C=w(7067);let ea=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"traceId",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"status",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"data",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"objectError",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"errorCode",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"success",void 0),n})();var on=w(9557);const Go={headers:new ue.WM({"Content-Type":"application/json"})};let Ko=(()=>{class n{constructor(e,i,a){this.http=e,this.appConfig=i,this._recaptchaService=a}bookingPayment(e){return this._recaptchaService.getRecaptchaToken$().pipe((0,be.w)(i=>this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/booking-payment",JSON.stringify(Object.assign(Object.assign({},e),{recaptcha:i})),Go)),(0,Be.U)(i=>(0,oe.yE)(ea,i,{excludeExtraneousValues:!0})))}createRefundPaymentOrder(e){return this._recaptchaService.getRecaptchaToken$().pipe((0,be.w)(i=>this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/create-refund-payment-order",JSON.stringify(Object.assign(Object.assign({},e),{recaptcha:i})),Go)))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(ue.eN),t.LFG(Rt.qB),t.LFG(on.K))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Pn=w(2331);function na(n,o){if(1&n&&(t.TgZ(0,"div",28),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.dataBooking.orderInfo.orderId," ")}}function ia(n,o){if(1&n&&(t.TgZ(0,"div",27)(1,"div",10),t._uU(2," M\xe3 \u0111\u01a1n h\xe0ng "),t.qZA(),t.YNc(3,na,2,1,"div",11),t.qZA()),2&n){const e=t.oxw(),i=t.MAs(50);t.xp6(3),t.Q6J("ngIf",e.dataBooking&&(null==e.dataBooking?null:e.dataBooking.orderInfo))("ngIfElse",i)}}function oa(n,o){if(1&n&&(t.TgZ(0,"div",28),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.dataBooking.orderInfo.totalPrice),",",".")," \u0111 ")}}function fu(n,o){if(1&n&&(t.TgZ(0,"div",31),t._UZ(1,"cf-icon",32),t.TgZ(2,"span",33),t._uU(3),t.qZA()()),2&n){const e=o.ngIf;t.Q6J("ngClass",e.bgColor),t.xp6(1),t.Q6J("icon",e.icon),t.xp6(2),t.hij(" ",e.name," ")}}function _u(n,o){if(1&n&&(t.TgZ(0,"div",29),t.YNc(1,fu,4,3,"div",30),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.configStatus[e.dataBooking.orderInfo.state])}}function hu(n,o){1&n&&t._UZ(0,"cf-input-hint",34),2&n&&t.Q6J("hint","Sdt kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Bs(n,o){1&n&&t._UZ(0,"cf-input-hint",34),2&n&&t.Q6J("hint","\u0110i\u1ec7n tho\u1ea1i di \u0111\u1ed9ng t\u1ed1i thi\u1ec3u 7 s\u1ed1")}function Zs(n,o){1&n&&t._UZ(0,"cf-input-hint",34),2&n&&t.Q6J("hint","\u0110i\u1ec7n tho\u1ea1i di \u0111\u1ed9ng t\u1ed1i \u0111a 11 s\u1ed1")}function mu(n,o){1&n&&t._UZ(0,"cf-input-hint",34),2&n&&t.Q6J("hint","H\u1ecd v\xe0 t\xean kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function vu(n,o){1&n&&t._UZ(0,"cf-input-hint",34),2&n&&t.Q6J("hint","Email kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function xu(n,o){1&n&&t._UZ(0,"cf-input-hint",34),2&n&&t.Q6J("hint","\u0110\u1ecbnh d\u1ea1ng kh\xf4ng h\u1ee3p l\u1ec7")}function yu(n,o){1&n&&t._UZ(0,"div",35)}function Is(n,o){1&n&&t._UZ(0,"cf-spinner")}let Ss=(()=>{class n{onEnterKey(e){e.preventDefault(),this.ok()}constructor(e,i,a,c,u,d){this.cfIconRegister=e,this.bottomSheetData=i,this.bottomSheetRef=a,this.ref=c,this.btcBookingPaymentSvc=u,this._toastService=d,this.form=(0,t.f3M)(A.qu).nonNullable.group({phoneNumber:["",[A.kI.required,A.kI.minLength(7),A.kI.maxLength(11)]],email:["",[A.kI.required,A.kI.email]],name:["",A.kI.required]}),this.isLoading=!1,this.configStatus=rt,this.cfIconRegister.registerIcons([v.gW0,v.qDv,v.o1t,v.P5K,v.PcQ,v.PcQ,v.Gey,v.B2I,v.UNF,v.glu,v.rks,v.S7Q]),c&&(this.dataBooking=c.data.dataBooking),i&&(this.dataBooking=i.dataBooking)}onClose(){this.ref&&this.ref.close(),this.bottomSheetData&&this.bottomSheetRef.dismiss()}ok(){if(this.form.markAllAsTouched(),this.form.invalid)return;this.isLoading=!0;const e=Object.assign(Object.assign({},this.form.value),this.dataBooking);this.btcBookingPaymentSvc.createRefundPaymentOrder(e).subscribe({next:i=>{this.onClose(),this._toastService.add({severity:"success",summary:"T\u1ea1o y\xeau c\u1ea7u ho\xe0n ti\u1ec1n th\xe0nh c\xf4ng",detail:"\u0110\xe3 t\u1ea1o y\xeau c\u1ea7u ho\xe0n ti\u1ec1n th\xe0nh c\xf4ng!",sticky:!1})},error:i=>{this._toastService.add({severity:"error",summary:"T\u1ea1o y\xeau c\u1ea7u ho\xe0n ti\u1ec1n th\u1ea5t b\u1ea1i",detail:"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i sau!",sticky:!1}),console.error(i)},complete:()=>{this.isLoading=!1}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.KNP),t.Y36(I.Rr,8),t.Y36(I.Zu,8),t.Y36(ut.gb,8),t.Y36(Ko),t.Y36(Pn.BX))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-booking-refund"]],hostBindings:function(e,i){1&e&&t.NdJ("keydown.enter",function(c){return i.onEnterKey(c)})},standalone:!0,features:[t.jDz],decls:52,vars:22,consts:[[1,"w-[800px]","h-[600px]","rounded-lg","bg-neutral-white","overflow-hidden","md:w-full",3,"formGroup"],[1,"w-full","h-full","flex","flex-col","max-h-[600px]"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-neutral-gray-1","md:hidden"],[1,"text-heading-sm","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"bg-white","shadow-lg","flex-1","rounded","py-4","px-6","md:px-3","md:py-3","flex","flex-col","gap-4"],[1,"text-body-md-long"],[1,"flex","md:bg-white"],["class","flex flex-col justify-between pr-[30px] md:pr-2 border-r border-dashed border-neutral-gray-3",4,"ngIf"],[1,"flex","flex-col","justify-between","pr-[30px]","md:px-2","border-r","border-dashed","border-neutral-gray-3",3,"ngClass"],[1,"text-body-md","md:text-body-xs","text-neutral-gray-4"],["class","font-semibold text-heading-lg md:text-heading-md",4,"ngIf","ngIfElse"],[1,"flex-1","flex","flex-col","justify-between","pl-[30px]","md:pl-2"],["class","font-semibold text-heading-lg md:text-body-sm",4,"ngIf","ngIfElse"],[1,"flex","flex-col","gap-3","w-full"],[1,"grow-[400]","!w-full",3,"status"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],[3,"CfRequired"],["cf-input","","size","medium","autocomplete","off","formControlName","phoneNumber","placeholder","Nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"],["cfHint","",3,"hint",4,"ngIf"],["cf-input","","size","medium","autocomplete","off","formControlName","name","placeholder","Nh\u1eadp h\u1ecd v\xe0 t\xean"],["cf-input","","size","medium","autocomplete","off","formControlName","email","placeholder","Nh\u1eadp email"],[1,"flex-1","flex","gap-x-4","justify-end","md:justify-between","items-end"],["cf-button","","size","medium","type","secondary",1,"min-w-[100px]","md:w-full","justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"min-w-[100px]","md:w-full","justify-center",3,"disabled","click"],["emptyTabComboItemTpl",""],[4,"ngIf"],[1,"flex","flex-col","justify-between","pr-[30px]","md:pr-2","border-r","border-dashed","border-neutral-gray-3"],[1,"font-semibold","text-heading-lg","md:text-heading-md"],[1,"font-semibold","text-heading-lg","md:text-body-sm"],["class","py-1 px-2 rounded-full w-fit gap-1 h-fit flex items-center justify-center",3,"ngClass",4,"ngIf"],[1,"py-1","px-2","rounded-full","w-fit","gap-1","h-fit","flex","items-center","justify-center",3,"ngClass"],["size","small",1,"md:hidden","text-white",3,"icon"],[1,"text-neutral-white","text-body-sm"],["cfHint","",3,"hint"],[1,"w-28","md:w-20","bg-neutral-gray-2","h-8","mt-1","rounded-md","animate-pulse"]],template:function(e,i){if(1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"Y\xeau c\u1ea7u ho\xe0n ti\u1ec1n"),t.qZA(),t.TgZ(5,"cf-icon",4),t.NdJ("click",function(){return i.onClose()}),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6),t._uU(8," B\u1ea1n \u0111ang g\u1eedi y\xeau c\u1ea7u ho\xe0n ti\u1ec1n cho \u0111\u01a1n h\xe0ng "),t.TgZ(9,"b"),t._uU(10),t.qZA(),t._uU(11," do l\u1ed7i x\u1ea3y ra trong qu\xe1 tr\xecnh \u0111\u1eb7t v\xe9. Ch\xfang t\xf4i s\u1ebd li\xean h\u1ec7 x\xe1c minh th\xf4ng tin v\xe0 ho\xe0n ti\u1ec1n ngay khi nh\u1eadn \u0111\u01b0\u1ee3c y\xeau c\u1ea7u "),t.qZA(),t.TgZ(12,"div",7),t.YNc(13,ia,4,2,"div",8),t.TgZ(14,"div",9)(15,"div",10),t._uU(16," T\u1ed5ng ti\u1ec1n (\u0111\xe3 g\u1ed3m VAT) "),t.qZA(),t.YNc(17,oa,4,7,"div",11),t.qZA(),t.TgZ(18,"div",12)(19,"div",10),t._uU(20," Tr\u1ea1ng th\xe1i "),t.qZA(),t.YNc(21,_u,2,1,"div",13),t.qZA()(),t.TgZ(22,"div",14)(23,"cf-input-group",15)(24,"label",16)(25,"span",17),t._uU(26,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),t.qZA()(),t._UZ(27,"input",18),t.YNc(28,hu,1,1,"cf-input-hint",19),t.YNc(29,Bs,1,1,"cf-input-hint",19),t.YNc(30,Zs,1,1,"cf-input-hint",19),t.qZA(),t.TgZ(31,"cf-input-group",15)(32,"label",16)(33,"span",17),t._uU(34,"H\u1ecd v\xe0 t\xean"),t.qZA()(),t.YNc(35,mu,1,1,"cf-input-hint",19),t._UZ(36,"input",20),t.qZA(),t.TgZ(37,"cf-input-group",15)(38,"label",16)(39,"span",17),t._uU(40,"Email"),t.qZA()(),t._UZ(41,"input",21),t.YNc(42,vu,1,1,"cf-input-hint",19),t.YNc(43,xu,1,1,"cf-input-hint",19),t.qZA()(),t.TgZ(44,"div",22)(45,"button",23),t.NdJ("click",function(){return i.onClose()}),t._uU(46," Hu\u1ef7 "),t.qZA(),t.TgZ(47,"button",24),t.NdJ("click",function(){return i.ok()}),t._uU(48," G\u1eedi y\xeau c\u1ea7u "),t.qZA()()()()(),t.YNc(49,yu,1,0,"ng-template",null,25,t.W1O),t.YNc(51,Is,1,0,"cf-spinner",26)),2&e){const a=t.MAs(50);let c,u;t.Q6J("formGroup",i.form),t.xp6(10),t.hij(" ",i.dataBooking.orderInfo.orderId,""),t.xp6(3),t.Q6J("ngIf","PAYMENT_PROCESSING"!==(null==i.dataBooking||null==i.dataBooking.orderInfo?null:i.dataBooking.orderInfo.state)),t.xp6(1),t.Q6J("ngClass","PAYMENT_PROCESSING"!==(null==i.dataBooking.orderInfo?null:i.dataBooking.orderInfo.state)?"pl-[30px]":"pl-0"),t.xp6(3),t.Q6J("ngIf",i.dataBooking&&(null==i.dataBooking?null:i.dataBooking.orderInfo))("ngIfElse",a),t.xp6(4),t.Q6J("ngIf",i.dataBooking&&(null==i.dataBooking||null==i.dataBooking.orderInfo?null:i.dataBooking.orderInfo.state))("ngIfElse",a),t.xp6(2),t.Q6J("status",i.form.controls.phoneNumber.invalid&&(i.form.controls.phoneNumber.dirty||i.form.controls.phoneNumber.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("ngIf",i.form.controls.phoneNumber.hasError("required")&&(i.form.controls.phoneNumber.touched||i.form.controls.phoneNumber.dirty)),t.xp6(1),t.Q6J("ngIf",i.form.controls.phoneNumber.hasError("minlength")&&(i.form.controls.phoneNumber.touched||i.form.controls.phoneNumber.dirty)),t.xp6(1),t.Q6J("ngIf",i.form.controls.phoneNumber.hasError("maxlength")&&(i.form.controls.phoneNumber.touched||i.form.controls.phoneNumber.dirty)),t.xp6(1),t.Q6J("status",i.form.controls.name.invalid&&(i.form.controls.name.dirty||i.form.controls.name.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("ngIf",i.form.controls.name.hasError("required")&&(i.form.controls.name.touched||i.form.controls.name.dirty)),t.xp6(2),t.Q6J("status",i.form.controls.email.invalid&&(i.form.controls.email.dirty||i.form.controls.email.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("ngIf",(null==(c=i.form.get("email"))?null:c.hasError("required"))&&((null==(c=i.form.get("email"))?null:c.touched)||(null==(c=i.form.get("email"))?null:c.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(u=i.form.get("email"))?null:u.hasError("email"))&&((null==(u=i.form.get("email"))?null:u.touched)||(null==(u=i.form.get("email"))?null:u.dirty))),t.xp6(4),t.Q6J("disabled",!i.form.dirty),t.xp6(4),t.Q6J("ngIf",i.isLoading)}},dependencies:[g.ez,g.mk,g.O5,g.JJ,v.AxE,v.Sm8,S.N8,S.Xq,it,I.DW,A.UX,A._Y,A.Fj,A.JJ,A.JL,A.sg,A.u,Re.j$,Re.ND,Re.BN,Re.v2,gi,fn],encapsulation:2}),n})();function Cu(n,o){if(1&n&&(t.TgZ(0,"div"),t.Hsn(1),t.qZA()),2&n){const e=t.oxw();t.Tol(""==e.contentClass?"p-4 bg-neutral-white":e.contentClass)}}const bu=function(n){return{active:n}},$o=["*"];let ao=(()=>{class n{constructor(e){this.active=!1,this.panelClass="",this.contentClass="",this.collapsePanelClick=new t.vpe,e.registerIcons([v._7G])}onCollapseClick(e){this.collapsePanelClick.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.KNP))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cf-collapse-panel"]],hostAttrs:[1,"w-full","border-b","border-neutral-gray-1"],inputs:{title:"title",active:"active",panelClass:"panelClass",contentClass:"contentClass"},outputs:{collapsePanelClick:"collapsePanelClick"},standalone:!0,features:[t.jDz],ngContentSelectors:$o,decls:5,vars:9,consts:[[3,"click"],[1,"flex","items-center","justify-between"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["icon","down","size","small",1,"text-neutral-gray-4"],[3,"class",4,"ngIf"]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.NdJ("click",function(c){return i.onCollapseClick(c)}),t.TgZ(1,"div",1),t.GkF(2,2),t._UZ(3,"cf-icon",3),t.qZA()(),t.YNc(4,Cu,2,2,"div",4)),2&e&&(t.Tol(""==i.panelClass?"flex flex-col p-4 bg-neutral-white cursor-pointer gap-y-4":i.panelClass),t.xp6(2),t.Q6J("ngTemplateOutlet",i.title)("ngTemplateOutletContext",t.VKq(7,bu,i.active)),t.xp6(1),t.ekj("rotate-180",i.active),t.xp6(1),t.Q6J("ngIf",i.active))},dependencies:[v.AxE,v.Sm8,g.ez,g.O5,g.tP],encapsulation:2}),n})(),Ni=(()=>{class n{constructor(){this.accordion=!1,this.selectedIndexChange=new t.vpe,this._subscriptions=[]}ngAfterContentInit(){this.initListener()}initListener(){this.panelList.forEach((e,i)=>{let a=e.collapsePanelClick.subscribe(()=>{let c=e.active;this.accordion&&this.clearSelect(),e.active=!c,this.selectedIndexChange.emit(i)});this._subscriptions.push(a)})}clearSelect(){this.panelList.forEach(e=>e.active=!1)}clearListener(){this._subscriptions&&this._subscriptions.length&&this._subscriptions.forEach(e=>e.unsubscribe()),this._subscriptions=[]}ngOnDestroy(){this.clearListener()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["cf-collapse"]],contentQueries:function(e,i,a){if(1&e&&t.Suo(a,ao,4),2&e){let c;t.iGM(c=t.CRH())&&(i.panelList=c)}},hostAttrs:[1,"flex","flex-col"],inputs:{accordion:"accordion"},outputs:{selectedIndexChange:"selectedIndexChange"},standalone:!0,features:[t.jDz],ngContentSelectors:$o,decls:1,vars:0,template:function(e,i){1&e&&(t.F$t(),t.Hsn(0))},dependencies:[v.AxE],encapsulation:2}),n})();var so=w(1380);function Tu(n,o){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"formatVietnameseDate"),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.departDate),"")}}function Eu(n,o){if(1&n&&(t.TgZ(0,"div",5)(1,"div",6)(2,"div",7),t._uU(3),t.qZA()(),t.TgZ(4,"div",8),t.YNc(5,Tu,3,3,"div",9),t.TgZ(6,"div",10),t._uU(7),t.ALo(8,"mapper"),t.ALo(9,"mapper"),t.qZA()()()),2&n){const e=t.oxw(),i=e.index,a=e.$implicit,c=t.oxw();t.xp6(1),t.ekj("!text-primary-2-4",c.ticketCur.idxTicketSelected===i)("!bg-primary-2-1",c.ticketCur.idxTicketSelected===i),t.xp6(2),t.hij(" ",i+1," "),t.xp6(2),t.Q6J("ngIf",a.departDate),t.xp6(2),t.AsE("",t.xi3(8,8,a.startPoint,c.convertCodeToCity)," - ",t.xi3(9,11,a.endPoint,c.convertCodeToCity),"")}}function ku(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",31),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4).index,c=t.oxw();return t.KtG(c.onShowTicketDetail(a))}),t._uU(1," Chi ti\u1ebft "),t.qZA()}}function Au(n,o){1&n&&(t.TgZ(0,"div",24),t._uU(1,"Bay th\u1eb3ng "),t.qZA())}function Du(n,o){if(1&n&&(t.TgZ(0,"div",24),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngIf;t.xp6(1),t.hij(" ",e.numOfStops," \u0111i\u1ec3m d\u1eebng")}}function wu(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",16),t._UZ(2,"img",17),t.TgZ(3,"div",18)(4,"div",10),t._uU(5),t.qZA(),t.TgZ(6,"div",19),t._uU(7),t.qZA()(),t.YNc(8,ku,2,0,"div",20),t.qZA(),t.TgZ(9,"div",21)(10,"div",22)(11,"div",23),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"div",24),t._uU(15),t.qZA()(),t.TgZ(16,"div",25)(17,"div",24),t._uU(18),t.qZA(),t.TgZ(19,"div",26),t._UZ(20,"div",27)(21,"div",28),t.qZA(),t.YNc(22,Au,2,0,"div",29),t.YNc(23,Du,2,1,"div",29),t.qZA(),t._UZ(24,"cf-icon",30),t.TgZ(25,"div",22)(26,"div",23),t._uU(27),t.ALo(28,"date"),t.qZA(),t.TgZ(29,"div",24),t._uU(30),t.qZA()()(),t.BQk()),2&n){const e=o.ngIf,i=t.oxw(4);t.xp6(2),t.Q6J("src",e.logoAirline,t.LSH),t.xp6(3),t.AsE("",e.segments[0].airline," ",e.segments[0].flightNumber,""),t.xp6(2),t.Oqu(e.airlineName),t.xp6(1),t.Q6J("ngIf",i.hiddenBtn),t.xp6(4),t.hij("",t.xi3(13,12,e.departure.localTime,"HH:mm")," "),t.xp6(3),t.Oqu(e.departure.airport.code),t.xp6(3),t.Oqu(e.durationStr),t.xp6(4),t.Q6J("ngIf",0===e.numOfStops),t.xp6(1),t.Q6J("ngIf",e.numOfStops>0),t.xp6(4),t.Oqu(t.xi3(28,15,e.arrival.localTime,"HH:mm")),t.xp6(3),t.Oqu(e.arrival.airport.code)}}function Bu(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",32)(1,"button",33),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3).index,c=t.oxw();return t.KtG(c.reselectTicket(a))}),t._UZ(2,"cf-icon",34),t._uU(3," Ch\u1ecdn l\u1ea1i "),t.qZA(),t.TgZ(4,"button",33),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3).index,c=t.oxw();return t.KtG(c.onShowTicketDetail(a))}),t._UZ(5,"cf-icon",35),t._uU(6," Chi ti\u1ebft "),t.qZA()()}}function Fs(n,o){if(1&n&&(t.TgZ(0,"div",13)(1,"div",14),t.YNc(2,wu,31,18,"ng-container",4),t.qZA(),t.YNc(3,Bu,7,0,"div",15),t.qZA()),2&n){const e=t.oxw(2).index,i=t.oxw();t.xp6(2),t.Q6J("ngIf",i.ticketCur.ticketSelected[e].ticketData),t.xp6(1),t.Q6J("ngIf",!i.hiddenBtn)}}function Zu(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Fs,4,2,"div",12),t.BQk()),2&n){const e=t.oxw().index,i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.ticketCur.ticketSelected[e]&&i.ticketCur.ticketSelected[e].ticketData)}}function Iu(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"cf-collapse-panel",2),t.NdJ("collapsePanelClick",function(){const c=t.CHM(e).index,u=t.oxw();return t.KtG(u.onCollapsePanelClick(c))}),t.YNc(1,Eu,10,14,"ng-template",null,3,t.W1O),t.YNc(3,Zu,2,1,"ng-container",4),t.qZA()}if(2&n){const e=o.index,i=t.MAs(2),a=t.oxw();t.Q6J("title",i)("active",!!a.collapseByTicketCur&&a.collapseByTicketCur[e])("contentClass","!p-0 "),t.xp6(3),t.Q6J("ngIf",a.ticketCur)}}let Vo=(()=>{class n{constructor(e,i,a){this.cfIconRegister=e,this.locationDataSvc=i,this._helper=a,this.hiddenBtn=!1,this.reselectClick=new t.vpe,this.showDetail=new t.vpe,this.convertCodeToCity=c=>this.locationDataSvc.getCityNameByCode(c),e.registerIcons([v.$S,v.okA,v.D7])}ngOnChanges(e){e.ticketCur&&e.ticketCur.currentValue&&(this.collapseByTicketCur=this.ticketCur.ticketSelected.map(i=>!!i.ticketData))}onShowTicketDetail(e){this.showDetail.emit(e)}onCollapsePanelClick(e){this.collapseByTicketCur[e]=!this.collapseByTicketCur[e]}reselectTicket(e){this.reselectClick.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.KNP),t.Y36(wt._h),t.Y36(so.J))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-sticky-selected"]],inputs:{searchInput:"searchInput",ticketCur:"ticketCur",hiddenBtn:"hiddenBtn"},outputs:{reselectClick:"reselectClick",showDetail:"showDetail"},standalone:!0,features:[t.TTD,t.jDz],decls:2,vars:1,consts:[[1,"w-full"],["class","  p-0  md:z-0 md:!shadow-none group relative overflow-hidden bg-transparent [&>*>*>*:nth-child(2)]:z-10 [&>*]:bg-transparent !border-0",3,"title","active","contentClass","collapsePanelClick",4,"ngFor","ngForOf"],[1,"p-0","md:z-0","md:!shadow-none","group","relative","overflow-hidden","bg-transparent","[&>*>*>*:nth-child(2)]:z-10","[&>*]:bg-transparent","!border-0",3,"title","active","contentClass","collapsePanelClick"],["titleTemplate",""],[4,"ngIf"],[1,"flex","gap-x-4","items-center"],[1,"flex","justify-center","items-center","min-w-10","!w-10","!h-10","rounded-full","bg-neutral-gray-1","text-neutral-gray-4","text-heading-md","select-none"],[1,"z-10"],[1,"flex","flex-col","z-20"],["class","text-body-md text-neutral-black",4,"ngIf"],[1,"text-heading-xs","text-neutral-black"],[1,"text-body-md","text-neutral-black"],["class","flex flex-col gap-3  m-4 z-20",4,"ngIf"],[1,"flex","flex-col","gap-3","m-4","z-20"],[1,"flex","flex-col","gap-y-4","p-4","border","border-neutral-gray-2","rounded","z-20"],["class","flex w-full justify-between items-center gap-4",4,"ngIf"],[1,"flex","justify-between","items-center","gap-x-3"],[1,"w-10","h-10","object-contain",3,"src"],[1,"flex","flex-col","items-start","grow"],[1,"text-body-sm","text-neutral-gray-4"],["class"," text-secondary-3-4  cursor-pointer py-1 px-2 text-body-md font-medium",3,"click",4,"ngIf"],[1,"flex","justify-between","items-center","pr-2.5"],[1,"flex","flex-col","items-center","gap-y-1"],[1,"text-heading-sm","text-neutral-black"],[1,"text-espressive-sm","text-neutral-gray-4"],[1,"flex","flex-col","items-center","grow"],[1,"flex","items-center","w-full","py-1","px-2.5"],[1,"w-1.5","h-1.5","bg-neutral-gray-2","rounded-full"],[1,"w-full","h-[1px]","bg-neutral-gray-2"],["class","text-espressive-sm text-neutral-gray-4",4,"ngIf"],["icon","plane","size","small",1,"text-[#ccc]","mr-2"],[1,"text-secondary-3-4","cursor-pointer","py-1","px-2","text-body-md","font-medium",3,"click"],[1,"flex","w-full","justify-between","items-center","gap-4"],["cf-button","","size","small","type","secondary",1,"w-full","flex","justify-center","flex-1",3,"click"],["icon","refresh","size","small",1,"mr-2.5"],["icon","document","size","small",1,"mr-2.5"]],template:function(e,i){1&e&&(t.TgZ(0,"cf-collapse",0),t.YNc(1,Iu,4,4,"cf-collapse-panel",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",i.searchInput.journey))},dependencies:[g.ez,g.sg,g.O5,g.uU,ao,Ni,v.AxE,v.Sm8,et.q,nt,S.N8,S.Xq],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),Ns=(()=>{class n{transform(e,i=4,a=16){if(!e||e.length<i)return e;const c=e.slice(0,i),u="*".repeat(e.length-i);return e.length>a?`${c}${u.slice(-a)}`:`${c}${u}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"maskData",type:n,pure:!0,standalone:!0}),n})(),Os=(()=>{class n{transform(e){if(!e||!e.includes("@"))return e;const[i,a]=e.split("@");return i.length<=4?e:`${i.slice(0,4)}${"*".repeat(i.length-4)}@${a}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"mailMask",type:n,pure:!0,standalone:!0}),n})();function Su(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",4)(2,"div",5),t._uU(3," MST "),t.qZA(),t.TgZ(4,"div",7),t._uU(5),t.ALo(6,"maskData"),t.qZA()(),t.TgZ(7,"div",4)(8,"div",5),t._uU(9," T\xean c\xf4ng ty "),t.qZA(),t.TgZ(10,"div",7),t._uU(11),t.ALo(12,"maskData"),t.qZA()(),t.TgZ(13,"div",4)(14,"div",5),t._uU(15," \u0110\u1ecba ch\u1ec9 "),t.qZA(),t.TgZ(16,"div",7),t._uU(17),t.ALo(18,"maskData"),t.qZA()(),t.BQk()),2&n){const e=t.oxw();t.xp6(5),t.hij(" ",t.lcZ(6,3,e.invoiceInfo.taxNumber)," "),t.xp6(6),t.hij(" ",t.lcZ(12,5,e.invoiceInfo.companyName)," "),t.xp6(6),t.hij(" ",t.lcZ(18,7,e.invoiceInfo.companyAddress)," ")}}let zo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-sticky-booking"]],inputs:{bookingContact:"bookingContact",bookingPassengers:"bookingPassengers",amountDiscount:"amountDiscount",invoiceInfo:"invoiceInfo"},standalone:!0,features:[t.jDz],decls:18,vars:7,consts:[[1,"flex","flex-col","gap-3"],[1,"flex","flex-col","bg-white","rounded-lg","shadow-lg"],[1,"border-b","border-neutral-gray-1","rounded-t-lg","py-3","px-4","text-neutral-gray-6","font-medium","text-body-sm"],[1,"p-4","flex","flex-col","gap-4"],[1,"flex","gap-4","items-center","text-heading-xs"],[1,"min-w-[82px]","text-neutral-gray-5"],[1,"font-medium","text-neutral-gray-6"],[1,"font-medium","text-neutral-gray-6","text-wrap","break-all"],[4,"ngIf"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3," Th\xf4ng tin li\xean h\u1ec7 "),t.qZA(),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5),t._uU(7," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i "),t.qZA(),t.TgZ(8,"div",6),t._uU(9),t.ALo(10,"maskData"),t.qZA()(),t.TgZ(11,"div",4)(12,"div",5),t._uU(13," Email "),t.qZA(),t.TgZ(14,"div",7),t._uU(15),t.ALo(16,"mailMask"),t.qZA()(),t.YNc(17,Su,19,9,"ng-container",8),t.qZA()()()),2&e&&(t.xp6(9),t.hij(" ",t.lcZ(10,3,i.bookingContact.phone)," "),t.xp6(6),t.hij(" ",t.lcZ(16,5,i.bookingContact.email)," "),t.xp6(2),t.Q6J("ngIf",i.invoiceInfo&&(null==i.invoiceInfo?null:i.invoiceInfo.companyName)&&(null==i.invoiceInfo?null:i.invoiceInfo.companyAddress)&&(null==i.invoiceInfo?null:i.invoiceInfo.taxNumber)))},dependencies:[g.ez,g.O5,Ns,Os],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();var co=w(1481);const Wo=["boardingPassGraphic"];function Fu(n,o){if(1&n&&t._UZ(0,"img",47),2&n){const e=t.oxw();t.Q6J("src",e.boardingPassGraphicData.agent.logoUrl,t.LSH)}}function Nu(n,o){1&n&&(t.O4$(),t.TgZ(0,"svg",48),t._UZ(1,"path",49),t.TgZ(2,"defs")(3,"linearGradient",50),t._UZ(4,"stop",51)(5,"stop",52),t.qZA()()())}function Ou(n,o){if(1&n&&(t.TgZ(0,"div",58),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" * Th\u1eddi h\u1ea1n thanh to\xe1n tr\u01b0\u1edbc ",null==e.boardingPassGraphicData?null:e.boardingPassGraphicData.timeHoldBooking," ")}}function Ps(n,o){if(1&n&&(t.TgZ(0,"div",53)(1,"div",54),t._uU(2,"Tr\u1ea1ng th\xe1i \u0111\u1eb7t ch\u1ed7"),t.qZA(),t.TgZ(3,"div",55)(4,"div",56),t._uU(5),t.qZA(),t.YNc(6,Ou,2,1,"div",57),t.qZA()()),2&n){const e=t.oxw();t.xp6(5),t.Oqu(null==e.boardingPassGraphicData?null:e.boardingPassGraphicData.statusText),t.xp6(1),t.Q6J("ngIf",e.boardingPassGraphicData.timeHoldBooking&&"BOOKED"===e.boardingPassGraphicData.status)}}function Rs(n,o){1&n&&(t.TgZ(0,"th",59)(1,"span",35),t._uU(2,"Th\u1ebb HV"),t.qZA(),t.TgZ(3,"span",36),t._uU(4,"/membership"),t.qZA()())}function Ls(n,o){if(1&n&&(t.TgZ(0,"div",66),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("",e.infant.name," ")}}function Pu(n,o){if(1&n&&(t.TgZ(0,"div",66),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("",e.infant.type," ")}}function Ru(n,o){if(1&n&&(t.TgZ(0,"div",66),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.infant.membershipNumber," ")}}function Lu(n,o){if(1&n&&(t.TgZ(0,"td",61)(1,"div",53)(2,"div",62),t._uU(3),t.qZA(),t.YNc(4,Ru,2,1,"div",63),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.membershipNumber),t.xp6(1),t.Q6J("ngIf",e.infant)}}function qu(n,o){if(1&n&&(t.TgZ(0,"tr",60)(1,"td",61)(2,"div",53)(3,"div",62),t._uU(4),t.qZA(),t.YNc(5,Ls,2,1,"div",63),t.qZA()(),t.TgZ(6,"td",61)(7,"div",53)(8,"div",62),t._uU(9),t.qZA(),t.YNc(10,Pu,2,1,"div",63),t.qZA()(),t.TgZ(11,"td",64),t._uU(12),t.qZA(),t.TgZ(13,"td",64),t._uU(14),t.qZA(),t.YNc(15,Lu,5,2,"td",65),t.qZA()),2&n){const e=o.$implicit,i=t.oxw();t.xp6(4),t.Oqu(e.name),t.xp6(1),t.Q6J("ngIf",e.infant),t.xp6(4),t.Oqu(e.type),t.xp6(1),t.Q6J("ngIf",e.infant),t.xp6(2),t.Oqu(e.seat),t.xp6(2),t.Oqu(e.bag),t.xp6(1),t.Q6J("ngIf",i.isShowMembership)}}function qs(n,o){if(1&n&&(t.TgZ(0,"div",92),t._UZ(1,"cf-icon",93),t.TgZ(2,"span",94),t._uU(3),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.hij(" ",e.stopPoint," ")}}function Us(n,o){1&n&&t._UZ(0,"div",95)}function Ms(n,o){if(1&n&&(t.TgZ(0,"div",72)(1,"div",9)(2,"span",73),t._uU(3,"M\xe3 h\xe3ng"),t.qZA(),t.TgZ(4,"span",74),t._uU(5,"/AIRLINE CODE"),t.qZA()(),t.TgZ(6,"div",56),t._uU(7),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(7),t.Oqu(e.codeAirline)}}function ra(n,o){if(1&n&&(t.TgZ(0,"div",56),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" (Nh\xe0 ga ",e.startTerminal,")")}}function Uu(n,o){if(1&n&&(t.TgZ(0,"div",56),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("(Nh\xe0 ga ",e.endTerminal,")")}}function Js(n,o){if(1&n&&(t.TgZ(0,"div",96),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.AsE(" ",e.name,": ",e.value," ")}}const Xo=function(){return[]};function js(n,o){if(1&n&&(t.ynx(0),t.YNc(1,qs,4,1,"div",67),t.TgZ(2,"div",68)(3,"div",69)(4,"div",70),t.YNc(5,Us,1,0,"div",71),t.qZA(),t.TgZ(6,"div",72)(7,"div",9)(8,"span",73),t._uU(9,"Ng\xe0y bay"),t.qZA(),t.TgZ(10,"span",74),t._uU(11,"/Date"),t.qZA()(),t.TgZ(12,"div",75)(13,"div"),t._uU(14),t.qZA(),t.TgZ(15,"div"),t._uU(16),t.qZA()()(),t.TgZ(17,"div",72)(18,"div",9)(19,"span",73),t._uU(20,"Chuy\u1ebfn bay"),t.qZA(),t.TgZ(21,"span",74),t._uU(22,"/Flight"),t.qZA()(),t.TgZ(23,"div",56),t._uU(24),t.qZA()(),t.YNc(25,Ms,8,1,"div",76),t.qZA(),t.TgZ(26,"div",77)(27,"div",12)(28,"div",78)(29,"div",79),t.O4$(),t.TgZ(30,"svg",80),t._UZ(31,"path",81),t.qZA()(),t.kcU(),t.TgZ(32,"div",82)(33,"div",75),t._uU(34),t.qZA(),t.TgZ(35,"div",83),t._uU(36),t.qZA(),t.YNc(37,ra,2,1,"div",84),t.qZA()(),t._UZ(38,"div",85),t.TgZ(39,"div",78)(40,"div",79),t.O4$(),t.TgZ(41,"svg",80),t._UZ(42,"path",81),t.qZA()(),t.kcU(),t.TgZ(43,"div",82)(44,"div",75),t._uU(45),t.qZA(),t.TgZ(46,"div",83),t._uU(47),t.qZA(),t.YNc(48,Uu,2,1,"div",84),t.qZA()()(),t._UZ(49,"div",86),t.TgZ(50,"div",87)(51,"div",11)(52,"div",9)(53,"span",73),t._uU(54,"Gi\u1edd \u0111i"),t.qZA(),t.TgZ(55,"span",74),t._uU(56,"/B-Time"),t.qZA()(),t.TgZ(57,"div",56),t._uU(58),t.qZA()(),t.TgZ(59,"div",11)(60,"div",9)(61,"span",73),t._uU(62,"Gi\u1edd \u0110\u1ebfn"),t.qZA(),t.TgZ(63,"span",74),t._uU(64,"/A-Time"),t.qZA()(),t.TgZ(65,"div",56),t._uU(66),t.qZA()()()(),t.TgZ(67,"div",88)(68,"div",89)(69,"span"),t._uU(70,"D\u1ecbch v\u1ee5"),t.qZA(),t.TgZ(71,"span",74),t._uU(72,"/Services"),t.qZA()(),t.TgZ(73,"div",90),t.YNc(74,Js,2,2,"div",91),t.qZA()()(),t.BQk()),2&n){const e=o.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.stopPoint),t.xp6(4),t.Q6J("ngForOf",t.DdM(23,Xo).constructor(4)),t.xp6(9),t.hij("",e.startDay,", "),t.xp6(2),t.Oqu(e.startDate),t.xp6(8),t.Oqu(e.flightNumber),t.xp6(1),t.Q6J("ngIf",e.codeAirline),t.xp6(5),t.Udp("color",null==i.boardingPassGraphicData?null:i.boardingPassGraphicData.brandColor),t.xp6(4),t.Oqu(e.startPoint),t.xp6(2),t.Oqu(e.startPointName),t.xp6(1),t.Q6J("ngIf",e.startTerminal),t.xp6(1),t.Udp("border-color",null==i.boardingPassGraphicData?null:i.boardingPassGraphicData.brandColor),t.xp6(3),t.Udp("color",null==i.boardingPassGraphicData?null:i.boardingPassGraphicData.brandColor),t.xp6(4),t.Oqu(e.endPoint),t.xp6(2),t.Oqu(e.endPointName),t.xp6(1),t.Q6J("ngIf",e.endTerminal),t.xp6(10),t.Oqu(e.startTime),t.xp6(8),t.Oqu(e.endTime),t.xp6(3),t.Udp("color",null==i.boardingPassGraphicData?null:i.boardingPassGraphicData.brandColor),t.xp6(5),t.Q6J("ngForOf",e.rules)}}function Mu(n,o){if(1&n&&(t.ynx(0),t.YNc(1,js,75,24,"ng-container",46),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngForOf",e.segments)}}let Ys=(()=>{class n{constructor(e,i){this.sanitizer=i,e.registerIcons([v.xgX])}getNativeElement(){return this.boardingPassGraphic.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.KNP),t.Y36(co.H7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cf-boarding-pass-graphic"]],viewQuery:function(e,i){if(1&e&&t.Gf(Wo,5),2&e){let a;t.iGM(a=t.CRH())&&(i.boardingPassGraphic=a.first)}},inputs:{boardingPassGraphicData:"boardingPassGraphicData",ticketPriceDetail:"ticketPriceDetail",isShowMembership:"isShowMembership"},standalone:!0,features:[t.jDz],decls:87,vars:22,consts:[[1,"w-[1280px]","pb-10","bg-neutral-white","!whitespace-nowrap"],["boardingPassGraphic",""],[1,"flex","w-full","h-auto","items-center"],[1,"relative","py-[20px]","pl-[40px]","pr-[90px]","flex","justify-between","items-center","gap-x-[40px]"],[1,"flex","items-center","gap-x-3"],["class","w-10 h-10 object-cover rounded-full",3,"src",4,"ngIf"],["width","32","height","20","viewBox","0 0 32 20","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],[1,"flex","flex-col","gap-y-1","text-white"],[1,"text-heading-sm","opacity-80"],[1,"text-heading-md"],[1,"flex","justify-between","items-center","gap-x-8"],[1,"flex","flex-col","gap-y-1"],[1,"flex","gap-x-3"],[1,"w-[62px]","text-neutral-gray-1","text-express-lg"],[1,"text-white","text-body-lg","whitespace-nowrap"],[1,"w-[1px]","h-[80px]","bg-white","opacity-30"],[1,"text-white","flex","flex-col","gap-y-2"],["width","21","height","21","viewBox","0 0 21 21","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M2.83294 2H7.32289L8.7701 5.61803L6.44522 7.16795C6.16702 7.35342 5.99992 7.66565 5.99992 8C6.00246 8.09363 5.99992 8.001 5.99992 8.001L5.99992 8.00205L5.99993 8.00429L5.99996 8.00933L6.00011 8.02167C6.00025 8.03089 6.00051 8.04208 6.00093 8.05519C6.00177 8.0814 6.0033 8.1153 6.00604 8.15636C6.01152 8.23846 6.02183 8.34944 6.04122 8.48517C6.07998 8.75646 6.1552 9.12811 6.30124 9.56623C6.59447 10.4459 7.17065 11.5849 8.29281 12.7071C9.41498 13.8293 10.554 14.4054 11.4337 14.6987C11.8718 14.8447 12.2435 14.9199 12.5147 14.9587C12.6505 14.9781 12.7615 14.9884 12.8436 14.9939C12.8846 14.9966 12.9185 14.9981 12.9447 14.999C12.9578 14.9994 12.969 14.9997 12.9782 14.9998L12.9906 15L12.9956 15L12.9979 15L12.9989 15C12.9989 15 13.1106 14.9939 12.9999 15C13.3787 15 13.725 14.786 13.8943 14.4472L14.564 13.1078L18.9999 13.8471V18.167C16.8888 18.4723 11.1873 18.7732 6.70703 14.2929C2.22673 9.81259 2.52764 4.1111 2.83294 2ZM8.07357 8.48609L9.8795 7.28213C10.6664 6.75751 10.9783 5.75338 10.6271 4.87525L9.17984 1.25722C8.87611 0.497902 8.1407 0 7.32289 0H2.7807C1.87219 0 1.01701 0.631162 0.867863 1.6169C0.528553 3.8595 0.0667062 10.481 5.29281 15.7071C10.5189 20.9332 17.1404 20.4714 19.383 20.1321C20.3688 19.9829 20.9999 19.1277 20.9999 18.2192V13.8471C20.9999 12.8694 20.2931 12.0351 19.3287 11.8743L14.8928 11.135C14.0268 10.9907 13.1678 11.4281 12.7752 12.2134L12.4287 12.9064C12.3198 12.8796 12.1982 12.8453 12.0661 12.8013C11.4459 12.5946 10.5849 12.1707 9.70703 11.2929C8.82919 10.4151 8.40537 9.55407 8.1986 8.93377C8.14273 8.76616 8.10251 8.61545 8.07357 8.48609Z","fill","white"],[1,"text-espressive-sm"],[1,"text-heading-lg","whitespace-nowrap"],[1,"absolute","top-0","right-0","w-0","h-0","border-l-[50px]","border-l-transparent","border-b-[126px]","border-b-[white]","border-solid"],[1,"flex-1","flex","flex-col","justify-center","items-center"],[1,"w-[250px]","h-[62px]","object-contain",3,"src"],[1,"text-heading-xs"],[1,"w-full","mt-6","flex","gap-x-6"],[1,"relative","flex","justify-center","items-baseline","gap-x-6","px-10"],[1,"uppercase","text-express-xl","text-white","opacity-80"],[1,"uppercase","text-heading-xxl","text-white"],[1,"absolute","top-0","right-0","w-0","h-0","border-l-[26px]","border-l-transparent","border-t-[64px]","border-t-[white]","border-solid"],["class","flex flex-col",4,"ngIf"],[1,"w-full","mt-6","px-10"],[1,"uppercase","w-full"],[1,"bg-neutral-gray-1"],[1,"py-2.5","px-4","text-left","rounded-l-3xl"],[1,"text-heading-md","text-neutral-gray-6"],[1,"text-heading-md","text-[#999]"],[1,"py-2.5","px-4","text-left"],["class","py-2.5 px-4 text-left rounded-r-3xl",4,"ngIf"],["class","border-b-2 border-dashed border-[#ccc]",4,"ngFor","ngForOf"],[1,"w-full","mt-10","px-10"],[1,"relative","w-full","flex","gap-x-8","mb-8"],[1,"text-heading-lg"],[1,"flex-1","h-auto"],[1,"absolute","top-0","right-0","w-0","h-0","border-l-[26px]","border-l-transparent","border-t-[32px]","border-t-[white]","border-solid"],[1,"w-full","flex","flex-col","gap-y-6"],[4,"ngFor","ngForOf"],[1,"w-10","h-10","object-cover","rounded-full",3,"src"],["width","32","height","20","viewBox","0 0 32 20","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M19.7391 0H22.0007H31.3757C31.9958 0 32.1782 0.406859 31.8134 0.924681C31.8134 0.924681 30.3543 2.84802 29.0775 4.21654C27.6549 5.69603 25.5391 7.43443 25.5391 7.43443C25.0649 7.84129 24.153 8.17418 23.5328 8.17418H21.9643H19.7026H12.4069H10.1453H0.770366C0.150235 8.17418 -0.0321566 7.76732 0.332627 7.2495C0.332627 7.2495 1.79176 5.32616 3.0685 3.95763C4.49115 2.47814 6.60689 0.739744 6.60689 0.739744C7.08111 0.332885 7.99307 0 8.6132 0H10.1818H12.4434H19.7391ZM19.5931 11.8258H21.8548H31.2297C31.8498 11.8258 32.0322 12.2327 31.6674 12.7505C31.6674 12.7505 30.2083 14.6739 28.9316 16.0424C27.5089 17.5219 25.3932 19.2603 25.3932 19.2603C24.919 19.6671 24.007 20 23.3869 20H21.8183H19.5566H12.261H9.99933H0.624402C0.0042704 20 -0.178121 19.5932 0.186662 19.0753C0.186662 19.0753 1.64579 17.152 2.92254 15.7835C4.34519 14.304 6.46093 12.5656 6.46093 12.5656C6.93515 12.1587 7.84711 11.8258 8.46724 11.8258H10.0358H12.2975H19.5931Z","fill","url(#paint0_linear_1633_21678)"],["id","paint0_linear_1633_21678","x1","16","y1","-4.91341e-07","x2","26.3657","y2","20.0517","gradientUnits","userSpaceOnUse"],["stop-color","#E03C31"],["offset","1","stop-color","#F6C543"],[1,"flex","flex-col"],[1,""],[1,"flex","justify-center","items-baseline","gap-x-4"],[1,"text-heading-lg","text-neutral-gray-6"],["class","text-expres text-primary-1-4",4,"ngIf"],[1,"text-expres","text-primary-1-4"],[1,"py-2.5","px-4","text-left","rounded-r-3xl"],[1,"border-b-2","border-dashed","border-[#ccc]"],[1,"align-baseline"],[1,"text-heading-lg","text-neutral-gray-6","py-2","px-3"],["class","text-heading-md text-[#999] py-2 px-3",4,"ngIf"],[1,"align-baseline","text-heading-lg","text-neutral-gray-6","py-2","px-3"],["class","align-baseline",4,"ngIf"],[1,"text-heading-md","text-[#999]","py-2","px-3"],["class","w-full bg-[#F0EAF4] rounded flex items-center gap-x-2 py-1.5 px-3",4,"ngIf"],[1,"border","border-neutral-gray-1","rounded-lg","flex","justify-between"],[1,"relative","py-6","px-10","flex","flex-col","gap-y-6"],[1,"absolute","-translate-x-[18%]","top-0","left-0","h-full","flex","flex-col","justify-between","py-3.5"],["class","w-4 h-8 border border-l-0 bg-neutral-white border-neutral-gray-2 rounded-r-full",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-y-1","uppercase"],[1,"text-neutral-gray-6"],[1,"text-[#999]"],[1,"text-heading-xxl","text-neutral-gray-6"],["class","flex flex-col gap-y-1 uppercase",4,"ngIf"],[1,"border-l-2","border-neutral-gray-1","flex","flex-col","gap-y-4","py-4","px-6","uppercase"],[1,"flex","gap-x-4"],[1,"mt-2.5"],["width","40","height","41","viewBox","0 0 40 41","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M20.0078 5.00049C23.418 5.00049 26.6886 6.3552 29.1 8.76661C31.5013 11.168 32.8504 14.4249 32.8504 17.821C32.8504 21.217 31.5013 24.4739 29.1 26.8753L21.0534 34.9522C20.9125 35.0943 20.7449 35.207 20.5602 35.2839C20.3756 35.3609 20.1775 35.4005 19.9775 35.4005C19.7774 35.4005 19.5794 35.3609 19.3947 35.2839C19.21 35.207 19.0424 35.0943 18.9016 34.9522L10.9155 26.9511C8.50413 24.5397 7.14941 21.2691 7.14941 17.8588C7.14941 14.4486 8.50413 11.178 10.9155 8.76661C13.327 6.3552 16.5975 5.00049 20.0078 5.00049ZM20.0077 21.9805C22.5185 21.9805 24.5538 19.9451 24.5538 17.4344C24.5538 14.9236 22.5185 12.8883 20.0077 12.8883C17.497 12.8883 15.4616 14.9236 15.4616 17.4344C15.4616 19.9451 17.497 21.9805 20.0077 21.9805Z","fill","currentColor"],[1,"flex","flex-col","items-center","gap-y-2"],[1,"text-heading-sm","text-neutral-gray-6"],["class","text-heading-lg text-neutral-gray-6",4,"ngIf"],[1,"w-8","h-[2px]","border-2","mt-7"],[1,"w-full","border-t-2","border-dashed","border-neutral-gray-1"],[1,"flex","justify-between","items-center"],[1,"bg-neutral-gray-1","py-6","px-[30px]","flex-1","flex","flex-col","gap-y-2"],[1,"uppercase","text-heading-md"],[1,"max-w-[420px]","text-heading-md","text-neutral-gray-6"],["class","whitespace-normal",4,"ngFor","ngForOf"],[1,"w-full","bg-[#F0EAF4]","rounded","flex","items-center","gap-x-2","py-1.5","px-3"],["icon","warning","size","small",1,"text-secondary-2-4"],[1,"text-express-md","text-neutral-gray-6"],[1,"w-4","h-8","border","border-l-0","bg-neutral-white","border-neutral-gray-2","rounded-r-full"],[1,"whitespace-normal"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div"),t.YNc(6,Fu,1,1,"img",5),t.YNc(7,Nu,6,0,"svg",6),t.qZA(),t.TgZ(8,"div",7)(9,"div",8),t._uU(10,"Ph\xf2ng v\xe9"),t.qZA(),t.TgZ(11,"div",9),t._uU(12),t.qZA()()(),t.TgZ(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13),t._uU(17,"\u0110\u1ecba ch\u1ec9:"),t.qZA(),t.TgZ(18,"div",14),t._uU(19),t.qZA()(),t.TgZ(20,"div",12)(21,"div",13),t._uU(22,"Email:"),t.qZA(),t.TgZ(23,"div",14),t._uU(24),t.qZA()(),t.TgZ(25,"div",12)(26,"div",13),t._uU(27,"Website:"),t.qZA(),t.TgZ(28,"div",14),t._uU(29),t.qZA()()(),t._UZ(30,"div",15),t.TgZ(31,"div",16)(32,"div"),t.O4$(),t.TgZ(33,"svg",17),t._UZ(34,"path",18),t.qZA()(),t.kcU(),t.TgZ(35,"div",19),t._uU(36,"Hotline"),t.qZA(),t.TgZ(37,"div",20),t._uU(38),t.qZA()()(),t._UZ(39,"div",21),t.qZA(),t.TgZ(40,"div",22),t._UZ(41,"img",23),t.TgZ(42,"div",24),t._uU(43),t.qZA()()(),t.TgZ(44,"div",25)(45,"div",26)(46,"div",27),t._uU(47,"M\xc3 \u0110\u1eb6T CH\u1ed6"),t.qZA(),t.TgZ(48,"div",28),t._uU(49),t.qZA(),t._UZ(50,"div",29),t.qZA(),t.YNc(51,Ps,7,2,"div",30),t.qZA(),t.TgZ(52,"div",31)(53,"table",32)(54,"thead")(55,"tr",33)(56,"th",34)(57,"span",35),t._uU(58,"H\u1ecd v\xe0 t\xean"),t.qZA(),t.TgZ(59,"span",36),t._uU(60,"/name"),t.qZA()(),t.TgZ(61,"th",37)(62,"span",35),t._uU(63,"\u0110\u1ed1i t\u01b0\u1ee3ng"),t.qZA(),t.TgZ(64,"span",36),t._uU(65,"/type"),t.qZA()(),t.TgZ(66,"th",37)(67,"span",35),t._uU(68,"Gh\u1ebf"),t.qZA(),t.TgZ(69,"span",36),t._uU(70,"/seat"),t.qZA()(),t.TgZ(71,"th",37)(72,"span",35),t._uU(73,"H\xe0nh l\xfd"),t.qZA(),t.TgZ(74,"span",36),t._uU(75,"/bag"),t.qZA()(),t.YNc(76,Rs,5,0,"th",38),t.qZA()(),t.TgZ(77,"tbody"),t.YNc(78,qu,16,7,"tr",39),t.qZA()()(),t.TgZ(79,"div",40)(80,"div",41)(81,"div",42),t._uU(82,"Th\xf4ng tin h\xe0nh tr\xecnh"),t.qZA(),t._UZ(83,"div",43)(84,"div",44),t.qZA(),t.TgZ(85,"div",45),t.YNc(86,Mu,2,1,"ng-container",46),t.qZA()()()),2&e&&(t.xp6(3),t.Udp("background-color",i.boardingPassGraphicData.brandColor),t.xp6(3),t.Q6J("ngIf",i.boardingPassGraphicData.agent.logoUrl),t.xp6(1),t.Q6J("ngIf",!i.boardingPassGraphicData.agent.logoUrl),t.xp6(5),t.Oqu(i.boardingPassGraphicData.agent.displayName),t.xp6(7),t.Oqu(i.boardingPassGraphicData.agent.address),t.xp6(5),t.Oqu(i.boardingPassGraphicData.agent.email),t.xp6(5),t.Oqu(i.boardingPassGraphicData.agent.website),t.xp6(9),t.Oqu(i.boardingPassGraphicData.agent.phone),t.xp6(3),t.Q6J("src",i.boardingPassGraphicData.airlineLogo,t.LSH),t.xp6(2),t.Oqu(i.boardingPassGraphicData.airlineName),t.xp6(2),t.Udp("background-color",null==i.boardingPassGraphicData?null:i.boardingPassGraphicData.brandColor),t.xp6(4),t.Oqu(null==i.boardingPassGraphicData?null:i.boardingPassGraphicData.bookingCode),t.xp6(2),t.Q6J("ngIf",!i.boardingPassGraphicData.isHiddenTime),t.xp6(25),t.Q6J("ngIf",i.isShowMembership),t.xp6(2),t.Q6J("ngForOf",null==i.boardingPassGraphicData?null:i.boardingPassGraphicData.passengers),t.xp6(3),t.Udp("color",null==i.boardingPassGraphicData?null:i.boardingPassGraphicData.brandColor),t.xp6(2),t.Udp("background-color",null==i.boardingPassGraphicData?null:i.boardingPassGraphicData.brandColor),t.xp6(3),t.Q6J("ngForOf",null==i.boardingPassGraphicData?null:i.boardingPassGraphicData.journeys))},dependencies:[g.ez,g.sg,g.O5,v.AxE,v.Sm8],encapsulation:2}),n})();var re=w(4070),lo=w(1047),aa=w(7911),tr=w(6158);function Oi(n){return(Oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(n)}function _e(n,o){if(o.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+o.length+" present")}function Ze(n){_e(1,arguments);var o=Object.prototype.toString.call(n);return n instanceof Date||"object"===Oi(n)&&"[object Date]"===o?new Date(n.getTime()):"number"==typeof n||"[object Number]"===o?new Date(n):(("string"==typeof n||"[object String]"===o)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function sa(n){if(_e(1,arguments),!function Pi(n){return _e(1,arguments),n instanceof Date||"object"===Oi(n)&&"[object Date]"===Object.prototype.toString.call(n)}(n)&&"number"!=typeof n)return!1;var o=Ze(n);return!isNaN(Number(o))}function _n(n){if(null===n||!0===n||!1===n)return NaN;var o=Number(n);return isNaN(o)?o:o<0?Math.ceil(o):Math.floor(o)}var Gs=864e5;function er(n){_e(1,arguments);var e=Ze(n),i=e.getUTCDay(),a=(i<1?7:0)+i-1;return e.setUTCDate(e.getUTCDate()-a),e.setUTCHours(0,0,0,0),e}function $s(n){_e(1,arguments);var o=Ze(n),e=o.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(e+1,0,4),i.setUTCHours(0,0,0,0);var a=er(i),c=new Date(0);c.setUTCFullYear(e,0,4),c.setUTCHours(0,0,0,0);var u=er(c);return o.getTime()>=a.getTime()?e+1:o.getTime()>=u.getTime()?e:e-1}var Vs=6048e5;var zs={};function nr(){return zs}function Ri(n,o){var e,i,a,c,u,d,f,_;_e(1,arguments);var m=nr(),x=_n(null!==(e=null!==(i=null!==(a=null!==(c=null==o?void 0:o.weekStartsOn)&&void 0!==c?c:null==o||null===(u=o.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==a?a:m.weekStartsOn)&&void 0!==i?i:null===(f=m.locale)||void 0===f||null===(_=f.options)||void 0===_?void 0:_.weekStartsOn)&&void 0!==e?e:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var E=Ze(n),Z=E.getUTCDay(),D=(Z<x?7:0)+Z-x;return E.setUTCDate(E.getUTCDate()-D),E.setUTCHours(0,0,0,0),E}function Ws(n,o){var e,i,a,c,u,d,f,_;_e(1,arguments);var m=Ze(n),x=m.getUTCFullYear(),E=nr(),Z=_n(null!==(e=null!==(i=null!==(a=null!==(c=null==o?void 0:o.firstWeekContainsDate)&&void 0!==c?c:null==o||null===(u=o.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==a?a:E.firstWeekContainsDate)&&void 0!==i?i:null===(f=E.locale)||void 0===f||null===(_=f.options)||void 0===_?void 0:_.firstWeekContainsDate)&&void 0!==e?e:1);if(!(Z>=1&&Z<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=new Date(0);D.setUTCFullYear(x+1,0,Z),D.setUTCHours(0,0,0,0);var P=Ri(D,o),R=new Date(0);R.setUTCFullYear(x,0,Z),R.setUTCHours(0,0,0,0);var $=Ri(R,o);return m.getTime()>=P.getTime()?x+1:m.getTime()>=$.getTime()?x:x-1}var Qu=6048e5;function ce(n,o){for(var e=n<0?"-":"",i=Math.abs(n).toString();i.length<o;)i="0"+i;return e+i}const ne_y=function(o,e){var i=o.getUTCFullYear(),a=i>0?i:1-i;return ce("yy"===e?a%100:a,e.length)},ne_M=function(o,e){var i=o.getUTCMonth();return"M"===e?String(i+1):ce(i+1,2)},ne_d=function(o,e){return ce(o.getUTCDate(),e.length)},ne_h=function(o,e){return ce(o.getUTCHours()%12||12,e.length)},ne_H=function(o,e){return ce(o.getUTCHours(),e.length)},ne_m=function(o,e){return ce(o.getUTCMinutes(),e.length)},ne_s=function(o,e){return ce(o.getUTCSeconds(),e.length)},ne_S=function(o,e){var i=e.length,a=o.getUTCMilliseconds();return ce(Math.floor(a*Math.pow(10,i-3)),e.length)};function Xs(n,o){var e=n>0?"-":"+",i=Math.abs(n),a=Math.floor(i/60),c=i%60;if(0===c)return e+String(a);var u=o||"";return e+String(a)+u+ce(c,2)}function tc(n,o){return n%60==0?(n>0?"-":"+")+ce(Math.abs(n)/60,2):fi(n,o)}function fi(n,o){var e=o||"",i=n>0?"-":"+",a=Math.abs(n);return i+ce(Math.floor(a/60),2)+e+ce(a%60,2)}const Ku={G:function(o,e,i){var a=o.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return i.era(a,{width:"abbreviated"});case"GGGGG":return i.era(a,{width:"narrow"});default:return i.era(a,{width:"wide"})}},y:function(o,e,i){if("yo"===e){var a=o.getUTCFullYear();return i.ordinalNumber(a>0?a:1-a,{unit:"year"})}return ne_y(o,e)},Y:function(o,e,i,a){var c=Ws(o,a),u=c>0?c:1-c;return"YY"===e?ce(u%100,2):"Yo"===e?i.ordinalNumber(u,{unit:"year"}):ce(u,e.length)},R:function(o,e){return ce($s(o),e.length)},u:function(o,e){return ce(o.getUTCFullYear(),e.length)},Q:function(o,e,i){var a=Math.ceil((o.getUTCMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return ce(a,2);case"Qo":return i.ordinalNumber(a,{unit:"quarter"});case"QQQ":return i.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(a,{width:"narrow",context:"formatting"});default:return i.quarter(a,{width:"wide",context:"formatting"})}},q:function(o,e,i){var a=Math.ceil((o.getUTCMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return ce(a,2);case"qo":return i.ordinalNumber(a,{unit:"quarter"});case"qqq":return i.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(a,{width:"narrow",context:"standalone"});default:return i.quarter(a,{width:"wide",context:"standalone"})}},M:function(o,e,i){var a=o.getUTCMonth();switch(e){case"M":case"MM":return ne_M(o,e);case"Mo":return i.ordinalNumber(a+1,{unit:"month"});case"MMM":return i.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(a,{width:"narrow",context:"formatting"});default:return i.month(a,{width:"wide",context:"formatting"})}},L:function(o,e,i){var a=o.getUTCMonth();switch(e){case"L":return String(a+1);case"LL":return ce(a+1,2);case"Lo":return i.ordinalNumber(a+1,{unit:"month"});case"LLL":return i.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(a,{width:"narrow",context:"standalone"});default:return i.month(a,{width:"wide",context:"standalone"})}},w:function(o,e,i,a){var c=function Hu(n,o){_e(1,arguments);var e=Ze(n),i=Ri(e,o).getTime()-function Yu(n,o){var e,i,a,c,u,d,f,_;_e(1,arguments);var m=nr(),x=_n(null!==(e=null!==(i=null!==(a=null!==(c=null==o?void 0:o.firstWeekContainsDate)&&void 0!==c?c:null==o||null===(u=o.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==a?a:m.firstWeekContainsDate)&&void 0!==i?i:null===(f=m.locale)||void 0===f||null===(_=f.options)||void 0===_?void 0:_.firstWeekContainsDate)&&void 0!==e?e:1),E=Ws(n,o),Z=new Date(0);return Z.setUTCFullYear(E,0,x),Z.setUTCHours(0,0,0,0),Ri(Z,o)}(e,o).getTime();return Math.round(i/Qu)+1}(o,a);return"wo"===e?i.ordinalNumber(c,{unit:"week"}):ce(c,e.length)},I:function(o,e,i){var a=function ju(n){_e(1,arguments);var o=Ze(n),e=er(o).getTime()-function Ju(n){_e(1,arguments);var o=$s(n),e=new Date(0);return e.setUTCFullYear(o,0,4),e.setUTCHours(0,0,0,0),er(e)}(o).getTime();return Math.round(e/Vs)+1}(o);return"Io"===e?i.ordinalNumber(a,{unit:"week"}):ce(a,e.length)},d:function(o,e,i){return"do"===e?i.ordinalNumber(o.getUTCDate(),{unit:"date"}):ne_d(o,e)},D:function(o,e,i){var a=function Ks(n){_e(1,arguments);var o=Ze(n),e=o.getTime();o.setUTCMonth(0,1),o.setUTCHours(0,0,0,0);var i=o.getTime();return Math.floor((e-i)/Gs)+1}(o);return"Do"===e?i.ordinalNumber(a,{unit:"dayOfYear"}):ce(a,e.length)},E:function(o,e,i){var a=o.getUTCDay();switch(e){case"E":case"EE":case"EEE":return i.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(a,{width:"short",context:"formatting"});default:return i.day(a,{width:"wide",context:"formatting"})}},e:function(o,e,i,a){var c=o.getUTCDay(),u=(c-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return ce(u,2);case"eo":return i.ordinalNumber(u,{unit:"day"});case"eee":return i.day(c,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(c,{width:"short",context:"formatting"});default:return i.day(c,{width:"wide",context:"formatting"})}},c:function(o,e,i,a){var c=o.getUTCDay(),u=(c-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return ce(u,e.length);case"co":return i.ordinalNumber(u,{unit:"day"});case"ccc":return i.day(c,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(c,{width:"narrow",context:"standalone"});case"cccccc":return i.day(c,{width:"short",context:"standalone"});default:return i.day(c,{width:"wide",context:"standalone"})}},i:function(o,e,i){var a=o.getUTCDay(),c=0===a?7:a;switch(e){case"i":return String(c);case"ii":return ce(c,e.length);case"io":return i.ordinalNumber(c,{unit:"day"});case"iii":return i.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(a,{width:"short",context:"formatting"});default:return i.day(a,{width:"wide",context:"formatting"})}},a:function(o,e,i){var c=o.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(c,{width:"narrow",context:"formatting"});default:return i.dayPeriod(c,{width:"wide",context:"formatting"})}},b:function(o,e,i){var c,a=o.getUTCHours();switch(c=12===a?"noon":0===a?"midnight":a/12>=1?"pm":"am",e){case"b":case"bb":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(c,{width:"narrow",context:"formatting"});default:return i.dayPeriod(c,{width:"wide",context:"formatting"})}},B:function(o,e,i){var c,a=o.getUTCHours();switch(c=a>=17?"evening":a>=12?"afternoon":a>=4?"morning":"night",e){case"B":case"BB":case"BBB":return i.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(c,{width:"narrow",context:"formatting"});default:return i.dayPeriod(c,{width:"wide",context:"formatting"})}},h:function(o,e,i){if("ho"===e){var a=o.getUTCHours()%12;return 0===a&&(a=12),i.ordinalNumber(a,{unit:"hour"})}return ne_h(o,e)},H:function(o,e,i){return"Ho"===e?i.ordinalNumber(o.getUTCHours(),{unit:"hour"}):ne_H(o,e)},K:function(o,e,i){var a=o.getUTCHours()%12;return"Ko"===e?i.ordinalNumber(a,{unit:"hour"}):ce(a,e.length)},k:function(o,e,i){var a=o.getUTCHours();return 0===a&&(a=24),"ko"===e?i.ordinalNumber(a,{unit:"hour"}):ce(a,e.length)},m:function(o,e,i){return"mo"===e?i.ordinalNumber(o.getUTCMinutes(),{unit:"minute"}):ne_m(o,e)},s:function(o,e,i){return"so"===e?i.ordinalNumber(o.getUTCSeconds(),{unit:"second"}):ne_s(o,e)},S:function(o,e){return ne_S(o,e)},X:function(o,e,i,a){var u=(a._originalDate||o).getTimezoneOffset();if(0===u)return"Z";switch(e){case"X":return tc(u);case"XXXX":case"XX":return fi(u);default:return fi(u,":")}},x:function(o,e,i,a){var u=(a._originalDate||o).getTimezoneOffset();switch(e){case"x":return tc(u);case"xxxx":case"xx":return fi(u);default:return fi(u,":")}},O:function(o,e,i,a){var u=(a._originalDate||o).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Xs(u,":");default:return"GMT"+fi(u,":")}},z:function(o,e,i,a){var u=(a._originalDate||o).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Xs(u,":");default:return"GMT"+fi(u,":")}},t:function(o,e,i,a){return ce(Math.floor((a._originalDate||o).getTime()/1e3),e.length)},T:function(o,e,i,a){return ce((a._originalDate||o).getTime(),e.length)}};var ca=function(o,e){switch(o){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},ec=function(o,e){switch(o){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}};const uo={p:ec,P:function(o,e){var u,i=o.match(/(P+)(p+)?/)||[],a=i[1],c=i[2];if(!c)return ca(o,e);switch(a){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;default:u=e.dateTime({width:"full"})}return u.replace("{{date}}",ca(a,e)).replace("{{time}}",ec(c,e))}};var la=["D","DD"],hn=["YY","YYYY"];function ua(n,o,e){if("YYYY"===n)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(o,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===n)throw new RangeError("Use `yy` instead of `YY` (in `".concat(o,"`) for formatting years to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===n)throw new RangeError("Use `d` instead of `D` (in `".concat(o,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===n)throw new RangeError("Use `dd` instead of `DD` (in `".concat(o,"`) for formatting days of the month to the input `").concat(e,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var ac={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function je(n){return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=o.width?String(o.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}var lc={date:je({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:je({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:je({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},ir={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function vn(n){return function(o,e){var a;if("formatting"===(null!=e&&e.context?String(e.context):"standalone")&&n.formattingValues){var c=n.defaultFormattingWidth||n.defaultWidth,u=null!=e&&e.width?String(e.width):c;a=n.formattingValues[u]||n.formattingValues[c]}else{var d=n.defaultWidth,f=null!=e&&e.width?String(e.width):n.defaultWidth;a=n.values[f]||n.values[d]}return a[n.argumentCallback?n.argumentCallback(o):o]}}function po(n){return function(o){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.width,c=o.match(i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth]);if(!c)return null;var _,u=c[0],d=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],f=Array.isArray(d)?function pc(n,o){for(var e=0;e<n.length;e++)if(o(n[e]))return e}(d,function(x){return x.test(u)}):function dc(n,o){for(var e in n)if(n.hasOwnProperty(e)&&o(n[e]))return e}(d,function(x){return x.test(u)});return _=n.valueCallback?n.valueCallback(f):f,{value:_=e.valueCallback?e.valueCallback(_):_,rest:o.slice(u.length)}}}const rd={code:"en-US",formatDistance:function(o,e,i){var a,c=ac[o];return a="string"==typeof c?c:1===e?c.one:c.other.replace("{{count}}",e.toString()),null!=i&&i.addSuffix?i.comparison&&i.comparison>0?"in "+a:a+" ago":a},formatLong:lc,formatRelative:function(o,e,i,a){return ir[o]},localize:{ordinalNumber:function(o,e){var i=Number(o),a=i%100;if(a>20||a<10)switch(a%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},era:vn({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:vn({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(o){return o-1}}),month:vn({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:vn({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:vn({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function fa(n){return function(o){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.match(n.matchPattern);if(!i)return null;var a=i[0],c=o.match(n.parsePattern);if(!c)return null;var u=n.valueCallback?n.valueCallback(c[0]):c[0];return{value:u=e.valueCallback?e.valueCallback(u):u,rest:o.slice(a.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(o){return parseInt(o,10)}}),era:po({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:po({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(o){return o+1}}),month:po({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:po({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:po({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var Ui=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ad=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sd=/^'([^]*?)'?$/,xa=/''/g,mc=/[a-zA-Z]/;function Ot(n,o,e){var i,a,c,u,d,f,_,m,x,E,Z,D,P,R,$,Q,X,z;_e(2,arguments);var N=String(o),ct=nr(),tt=null!==(i=null!==(a=null==e?void 0:e.locale)&&void 0!==a?a:ct.locale)&&void 0!==i?i:rd,lt=_n(null!==(c=null!==(u=null!==(d=null!==(f=null==e?void 0:e.firstWeekContainsDate)&&void 0!==f?f:null==e||null===(_=e.locale)||void 0===_||null===(m=_.options)||void 0===m?void 0:m.firstWeekContainsDate)&&void 0!==d?d:ct.firstWeekContainsDate)&&void 0!==u?u:null===(x=ct.locale)||void 0===x||null===(E=x.options)||void 0===E?void 0:E.firstWeekContainsDate)&&void 0!==c?c:1);if(!(lt>=1&&lt<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var at=_n(null!==(Z=null!==(D=null!==(P=null!==(R=null==e?void 0:e.weekStartsOn)&&void 0!==R?R:null==e||null===($=e.locale)||void 0===$||null===(Q=$.options)||void 0===Q?void 0:Q.weekStartsOn)&&void 0!==P?P:ct.weekStartsOn)&&void 0!==D?D:null===(X=ct.locale)||void 0===X||null===(z=X.options)||void 0===z?void 0:z.weekStartsOn)&&void 0!==Z?Z:0);if(!(at>=0&&at<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!tt.localize)throw new RangeError("locale must contain localize property");if(!tt.formatLong)throw new RangeError("locale must contain formatLong property");var yt=Ze(n);if(!sa(yt))throw new RangeError("Invalid time value");var st=function ic(n){var o=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return o.setUTCFullYear(n.getFullYear()),n.getTime()-o.getTime()}(yt),K=function Hs(n,o){return _e(2,arguments),function Qs(n,o){_e(2,arguments);var e=Ze(n).getTime(),i=_n(o);return new Date(e+i)}(n,-_n(o))}(yt,st),ft={firstWeekContainsDate:lt,weekStartsOn:at,locale:tt,_originalDate:yt},bt=N.match(ad).map(function(ht){var Ct=ht[0];return"p"===Ct||"P"===Ct?(0,uo[Ct])(ht,tt.formatLong):ht}).join("").match(Ui).map(function(ht){if("''"===ht)return"'";var Ct=ht[0];if("'"===Ct)return function rr(n){var o=n.match(sd);return o?o[1].replace(xa,"'"):n}(ht);var W=Ku[Ct];if(W)return!(null!=e&&e.useAdditionalWeekYearTokens)&&function rc(n){return-1!==hn.indexOf(n)}(ht)&&ua(ht,o,String(n)),!(null!=e&&e.useAdditionalDayOfYearTokens)&&function oc(n){return-1!==la.indexOf(n)}(ht)&&ua(ht,o,String(n)),W(K,ht,tt.localize,ft);if(Ct.match(mc))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ct+"`");return ht}).join("");return bt}var ya,ar=w(4327),ye=w(5861);const xn="p".charCodeAt(0),Ca="H".charCodeAt(0),vc="Y".charCodeAt(0),xc="s".charCodeAt(0);let ba;function F(n,o,e=!1){const i=new Uint8Array(13);o*=39.3701,i[0]=xn,i[1]=Ca,i[2]=vc,i[3]=xc,i[4]=o>>>24,i[5]=o>>>16,i[6]=o>>>8,i[7]=255&o,i[8]=i[4],i[9]=i[5],i[10]=i[6],i[11]=i[7],i[12]=1;const a=function ld(n){let o=-1;ba||(ba=function cd(){const n=new Int32Array(256);for(let o=0;o<256;o++){let e=o;for(let i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;n[o]=e}return n}());for(let e=0;e<n.length;e++)o=ba[255&(o^n[e])]^o>>>8;return-1^o}(i),c=new Uint8Array(4);if(c[0]=a>>>24,c[1]=a>>>16,c[2]=a>>>8,c[3]=255&a,e){const u=function sr(n){for(let e=n.length-1;e>=4;e--)if(9===n[e-4]&&n[e-3]===xn&&n[e-2]===Ca&&n[e-1]===vc&&n[e]===xc)return e-3;return 0}(n);return n.set(i,u),n.set(c,u+13),n}{const u=new Uint8Array(4);u[0]=0,u[1]=0,u[2]=0,u[3]=9;const d=new Uint8Array(54);return d.set(n,0),d.set(u,33),d.set(i,37),d.set(c,50),d}}const ie="[modern-screenshot]",fe=typeof window<"u",ge=fe&&"Worker"in window,cr=fe&&"atob"in window,$e=(fe&&window,fe?null===(ya=window.navigator)||void 0===ya?void 0:ya.userAgent:""),fo=$e.includes("Chrome"),lr=$e.includes("AppleWebKit")&&!fo,ni=$e.includes("Firefox"),ur=n=>n&&"__CONTEXT__"in n,dr=n=>"CSSFontFaceRule"===n.constructor.name,le=n=>"CSSImportRule"===n.constructor.name,In=n=>1===n.nodeType,Mi=n=>"object"==typeof n.className,_o=n=>"image"===n.tagName,dd=n=>"use"===n.tagName,ho=n=>In(n)&&typeof n.style<"u"&&!Mi(n),pd=n=>8===n.nodeType,pr=n=>3===n.nodeType,an=n=>"IMG"===n.tagName,hi=n=>"VIDEO"===n.tagName,yc=n=>"CANVAS"===n.tagName,gr=n=>"TEXTAREA"===n.tagName,Cc=n=>"INPUT"===n.tagName,bc=n=>"STYLE"===n.tagName,fr=n=>"SCRIPT"===n.tagName,Tc=n=>"SELECT"===n.tagName,mo=n=>"SLOT"===n.tagName,mi=n=>"IFRAME"===n.tagName,_r=(...n)=>console.warn(ie,...n);function gd(n){var o;const e=null==n||null===(o=n.createElement)||void 0===o?void 0:o.call(n,"canvas");return e&&(e.height=e.width=1),Boolean(e)&&"toDataURL"in e&&Boolean(e.toDataURL("image/webp").includes("image/webp"))}const Ta=n=>n.startsWith("data:");function Ec(n,o){if(n.match(/^[a-z]+:\/\//i))return n;if(fe&&n.match(/^\/\//))return window.location.protocol+n;if(n.match(/^[a-z]+:/i)||!fe)return n;const e=vi().implementation.createHTMLDocument(),i=e.createElement("base"),a=e.createElement("a");return e.head.appendChild(i),e.body.appendChild(a),o&&(i.href=o),a.href=n,a.href}function vi(n){var o;return null!==(o=n&&In(n)?null==n?void 0:n.ownerDocument:n)&&void 0!==o?o:window.document}const xi="http://www.w3.org/2000/svg";function Ea(){return(Ea=(0,ye.Z)(function*(n,o="image/png",e=1){try{return yield new Promise((i,a)=>{n.toBlob(c=>{c?i(c):a(new Error("Blob is null"))},o,e)})}catch(i){if(cr)return function fd(n){var o,e;const[i,a]=n.split(","),c=null!==(o=null===(e=i.match(/data:(.+);/))||void 0===e?void 0:e[1])&&void 0!==o?o:void 0,u=window.atob(a),d=u.length,f=new Uint8Array(d);for(let _=0;_<d;_+=1)f[_]=u.charCodeAt(_);return new Blob([f],{type:c})}(n.toDataURL(o,e));throw i}})).apply(this,arguments)}function De(n,o){return new Promise((e,i)=>{const a=new FileReader;a.onload=()=>e(a.result),a.onerror=()=>i(a.error),a.onabort=()=>i(new Error(`Failed read blob to ${o}`)),"dataUrl"===o?a.readAsDataURL(n):"arrayBuffer"===o&&a.readAsArrayBuffer(n)})}const Le=n=>De(n,"dataUrl"),_d=n=>De(n,"arrayBuffer");function yi(n,o){const e=vi(o).createElement("img");return e.decoding="sync",e.loading="eager",e.src=n,e}function Ji(n,o){return new Promise(e=>{const{timeout:i,ownerDocument:a,onError:c,onWarn:u}=null!=o?o:{},d="string"==typeof n?yi(n,vi(a)):n;let f=null,_=null;function m(){var x;e(d),f&&clearTimeout(f),null===(x=_)||void 0===x||x()}if(i&&(f=setTimeout(m,i)),hi(d)){const x=d.currentSrc||d.src;if(!x)return d.poster?Ji(d.poster,o).then(e):m();if(d.readyState>=2)return m();const E=m,Z=D=>{null==u||u("Failed video load",x,D),null==c||c(D),m()};_=()=>{d.removeEventListener("loadeddata",E),d.removeEventListener("error",Z)},d.addEventListener("loadeddata",E,{once:!0}),d.addEventListener("error",Z,{once:!0})}else{const x=_o(d)?d.href.baseVal:d.currentSrc||d.src;if(!x)return m();const E=function(){var D=(0,ye.Z)(function*(){if(an(d)&&"decode"in d)try{yield d.decode()}catch(P){null==u||u("Failed to decode image, trying to render anyway",d.dataset.originalSrc||x,P)}m()});return function(){return D.apply(this,arguments)}}(),Z=D=>{null==u||u("Failed image load",d.dataset.originalSrc||x,D),m()};if(an(d)&&d.complete)return E();_=()=>{d.removeEventListener("load",E),d.removeEventListener("error",Z)},d.addEventListener("load",E,{once:!0}),d.addEventListener("error",Z,{once:!0})}})}function vo(){return(vo=(0,ye.Z)(function*(n,o){ho(n)&&(an(n)||hi(n)?yield Ji(n,o):yield Promise.all(["img","video"].flatMap(e=>Array.from(n.querySelectorAll(e)).map(i=>Ji(i,o)))))})).apply(this,arguments)}const ji=function(){let o=0;return()=>(o+=1,`u${`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4)}${o}`)}();function mr(n){return null==n?void 0:n.split(",").map(o=>o.trim().replace(/"|'/g,"").toLowerCase()).filter(Boolean)}let Ci=0;function xo(n){const o=`${ie}[#${Ci}]`;return Ci++,{time:e=>n&&console.time(`${o} ${e}`),timeEnd:e=>n&&console.timeEnd(`${o} ${e}`),warn:(...e)=>n&&_r(...e)}}function yo(n){return{cache:n?"no-cache":"force-cache"}}function sn(n,o){return ii.apply(this,arguments)}function ii(){return ii=(0,ye.Z)(function*(n,o){return ur(n)?n:function md(n,o){return ka.apply(this,arguments)}(n,{...o,autoDestruct:!0})}),ii.apply(this,arguments)}function ka(){return ka=(0,ye.Z)(function*(n,o){var e,i,a,c,u;const{scale:d=1,workerUrl:f,workerNumber:_=1}=o||{},m=Boolean(null==o?void 0:o.debug),x=null===(e=null==o?void 0:o.features)||void 0===e||e,E=null!==(i=n.ownerDocument)&&void 0!==i?i:fe?window.document:void 0,Z=null!==(a=null===(c=n.ownerDocument)||void 0===c?void 0:c.defaultView)&&void 0!==a?a:fe?window:void 0,D=new Map,P={width:0,height:0,quality:1,type:"image/png",scale:d,backgroundColor:null,style:null,filter:null,maximumCanvasSize:0,timeout:3e4,progress:null,debug:m,fetch:{requestInit:yo(null==o||null===(u=o.fetch)||void 0===u?void 0:u.bypassingCache),placeholderImage:"data:image/png;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",bypassingCache:!1,...null==o?void 0:o.fetch},fetchFn:null,font:{},drawImageInterval:100,workerUrl:null,workerNumber:_,onCloneNode:null,onEmbedNode:null,onCreateForeignObjectSvg:null,includeStyleProperties:null,autoDestruct:!1,...o,__CONTEXT__:!0,log:xo(m),node:n,ownerDocument:E,ownerWindow:Z,dpi:1===d?null:96*d,svgStyleElement:Dc(E),svgDefsElement:null==E?void 0:E.createElementNS(xi,"defs"),svgStyles:new Map,defaultComputedStyles:new Map,workers:[...Array.from({length:ge&&f&&_?_:0})].map(()=>{try{const Q=new Worker(f);return Q.onmessage=function(){var X=(0,ye.Z)(function*(z){const{url:N,result:ct}=z.data;var tt,lt,at,yt;ct?null===(tt=D.get(N))||void 0===tt||null===(lt=tt.resolve)||void 0===lt||lt.call(tt,ct):null===(at=D.get(N))||void 0===at||null===(yt=at.reject)||void 0===yt||yt.call(at,new Error(`Error receiving message from worker: ${N}`))});return function(z){return X.apply(this,arguments)}}(),Q.onmessageerror=X=>{var z,N;const{url:ct}=X.data;null===(z=D.get(ct))||void 0===z||null===(N=z.reject)||void 0===N||N.call(z,new Error(`Error receiving message from worker: ${ct}`))},Q}catch(Q){return P.log.warn("Failed to new Worker",Q),null}}).filter(Boolean),fontFamilies:new Map,fontCssTexts:new Map,acceptOfImage:`${[gd(E)&&"image/webp","image/svg+xml","image/*","*/*"].filter(Boolean).join(",")};q=0.8`,requests:D,drawImageCount:0,tasks:[],features:x,isEnable:Q=>{var X,z;return"restoreScrollPosition"===Q?"boolean"!=typeof x&&null!==(z=x[Q])&&void 0!==z&&z:"boolean"==typeof x?x:null===(X=x[Q])||void 0===X||X}};P.log.time("wait until load"),yield function hd(n,o){return vo.apply(this,arguments)}(n,{timeout:P.timeout,onWarn:P.log.warn}),P.log.timeEnd("wait until load");const{width:R,height:$}=function vd(n,o){let{width:e,height:i}=o;if(In(n)&&(!e||!i)){const a=n.getBoundingClientRect();e=e||a.width||Number(n.getAttribute("width"))||0,i=i||a.height||Number(n.getAttribute("height"))||0}return{width:e,height:i}}(n,P);return P.width=R,P.height=$,P}),ka.apply(this,arguments)}function Dc(n){if(!n)return;const o=n.createElement("style"),e=o.ownerDocument.createTextNode("\n.______background-clip--text {\n  background-clip: text;\n  -webkit-background-clip: text;\n}\n");return o.appendChild(e),o}function Yi(){return(Yi=(0,ye.Z)(function*(n,o){const{log:e,timeout:i,drawImageCount:a,drawImageInterval:c}=o;e.time("image to canvas");const u=yield Ji(n,{timeout:i,onWarn:o.log.warn}),{canvas:d,context2d:f}=function Co(n,o){const{width:e,height:i,scale:a,backgroundColor:c,maximumCanvasSize:u}=o,d=n.createElement("canvas");d.width=Math.floor(e*a),d.height=Math.floor(i*a),d.style.width=`${e}px`,d.style.height=`${i}px`,u&&(d.width>u||d.height>u)&&(d.width>u&&d.height>u?d.width>d.height?(d.height*=u/d.width,d.width=u):(d.width*=u/d.height,d.height=u):d.width>u?(d.height*=u/d.width,d.width=u):(d.width*=u/d.height,d.height=u));const f=d.getContext("2d");return f&&c&&(f.fillStyle=c,f.fillRect(0,0,d.width,d.height)),{canvas:d,context2d:f}}(n.ownerDocument,o),_=()=>{try{null==f||f.drawImage(u,0,0,d.width,d.height)}catch(m){o.log.warn("Failed to drawImage",m)}};if(_(),o.isEnable("fixSvgXmlDecode"))for(let m=0;m<a;m++)yield new Promise(x=>{setTimeout(()=>{_(),x()},m+c)});return o.drawImageCount=0,e.timeEnd("image to canvas"),d})).apply(this,arguments)}function Aa(n,o){if(n.ownerDocument)try{const c=n.toDataURL();if("data:,"!==c)return yi(c,n.ownerDocument)}catch(c){o.log.warn("Failed to clone canvas",c)}const e=n.cloneNode(!1),i=n.getContext("2d"),a=e.getContext("2d");try{return i&&a&&a.putImageData(i.getImageData(0,0,n.width,n.height),0,0),e}catch(c){o.log.warn("Failed to clone canvas",c)}return e}function Ve(){return(Ve=(0,ye.Z)(function*(n,o){if(n.ownerDocument&&!n.currentSrc&&n.poster)return yi(n.poster,n.ownerDocument);const e=n.cloneNode(!1);e.crossOrigin="anonymous",n.currentSrc&&n.currentSrc!==n.src&&(e.src=n.currentSrc);const i=e.ownerDocument;if(i){let a=!0;if(yield Ji(e,{onError:()=>a=!1,onWarn:o.log.warn}),!a)return n.poster?yi(n.poster,n.ownerDocument):e;e.currentTime=n.currentTime,yield new Promise(u=>{e.addEventListener("seeked",u,{once:!0})});const c=i.createElement("canvas");c.width=n.offsetWidth,c.height=n.offsetHeight;try{const u=c.getContext("2d");u&&u.drawImage(e,0,0,c.width,c.height)}catch(u){return o.log.warn("Failed to clone video",u),n.poster?yi(n.poster,n.ownerDocument):e}return Aa(c,o)}return e})).apply(this,arguments)}const Cd=["width","height","-webkit-text-fill-color"],bd=["stroke","fill"];function oi(n,o,e){const{defaultComputedStyles:i}=e,a=n.nodeName.toLowerCase(),c=Mi(n)&&"svg"!==a,u=c?bd.map(P=>[P,n.getAttribute(P)]).filter(([,P])=>null!==P):[],d=[c&&"svg",a,u.map((P,R)=>`${P}=${R}`).join(","),o].filter(Boolean).join(":");if(i.has(d))return i.get(d);const f=function yd(n){let o=n.sandbox;if(!o){const{ownerDocument:i}=n;try{var e;i&&(o=i.createElement("iframe"),o.id=`__SANDBOX__-${ji()}`,o.width="0",o.height="0",o.style.visibility="hidden",o.style.position="fixed",i.body.appendChild(o),null===(e=o.contentWindow)||void 0===e||e.document.write('<!DOCTYPE html><meta charset="UTF-8"><title></title><body>'),n.sandbox=o)}catch(a){n.log.warn("Failed to getSandBox",a)}}return o}(e),_=null==f?void 0:f.contentWindow;if(!_)return new Map;const m=null==_?void 0:_.document;let x,E;c?(x=m.createElementNS(xi,"svg"),E=x.ownerDocument.createElementNS(x.namespaceURI,a),u.forEach(([P,R])=>{E.setAttributeNS(null,P,R)}),x.appendChild(E)):x=E=m.createElement(a),E.textContent=" ",m.body.appendChild(x);const Z=_.getComputedStyle(E,o),D=new Map;for(let P=Z.length,R=0;R<P;R++){const $=Z.item(R);Cd.includes($)||D.set($,Z.getPropertyValue($))}return m.body.removeChild(x),i.set(d,D),D}function wc(n,o,e){const i=new Map,a=[],c=new Map;if(e)for(const f of e)d(f);else for(let f=n.length,_=0;_<f;_++)d(n.item(_));for(let f=a.length,_=0;_<f;_++){var u;null===(u=c.get(a[_]))||void 0===u||u.forEach((m,x)=>i.set(x,m))}function d(f){const _=n.getPropertyValue(f),m=n.getPropertyPriority(f),x=f.lastIndexOf("-"),E=x>-1?f.substring(0,x):void 0;if(E){let Z=c.get(E);Z||(Z=new Map,c.set(E,Z)),Z.set(f,[_,m])}o.get(f)===_&&!m||(E?a.push(E):i.set(f,[_,m]))}return i}const kd=[":before",":after"],Ad=[":-webkit-scrollbar",":-webkit-scrollbar-button",":-webkit-scrollbar-thumb",":-webkit-scrollbar-track",":-webkit-scrollbar-track-piece",":-webkit-scrollbar-corner",":-webkit-resizer"],Bc=new Set(["symbol"]);function Zc(n,o,e,i,a){return Da.apply(this,arguments)}function Da(){return(Da=(0,ye.Z)(function*(n,o,e,i,a){if(In(e)&&(bc(e)||fr(e))||i.filter&&!i.filter(e))return;i.currentParentNodeStyle=Bc.has(o.nodeName)||Bc.has(e.nodeName)?void 0:i.currentNodeStyle;const c=yield Ba(e,i,!1,a);i.isEnable("restoreScrollPosition")&&function Ln(n,o){if(!ho(n)||!ho(o))return;const{scrollTop:e,scrollLeft:i}=n;if(!e&&!i)return;const{transform:a}=o.style,c=new DOMMatrix(a),{a:u,b:d,c:f,d:_}=c;c.a=1,c.b=0,c.c=0,c.d=1,c.translateSelf(-i,-e),c.a=u,c.b=d,c.c=f,c.d=_,o.style.transform=c.toString()}(n,c),o.appendChild(c)})).apply(this,arguments)}function Ic(n,o,e,i){return wa.apply(this,arguments)}function wa(){return(wa=(0,ye.Z)(function*(n,o,e,i){var a,c;for(let d=null!==(a=In(n)?null===(c=n.shadowRoot)||void 0===c?void 0:c.firstChild:void 0)&&void 0!==a?a:n.firstChild;d;d=d.nextSibling)if(!pd(d))if(In(d)&&mo(d)&&"function"==typeof d.assignedNodes){const f=d.assignedNodes();for(let _=0;_<f.length;_++)yield Zc(n,o,f[_],e,i)}else yield Zc(n,o,d,e,i)})).apply(this,arguments)}const wd=/^[\w-:]+$/;function Ba(n,o){return Za.apply(this,arguments)}function Za(){return(Za=(0,ye.Z)(function*(n,o,e=!1,i){const{ownerDocument:a,ownerWindow:c,fontFamilies:u}=o;if(a&&pr(n))return i&&/\S/.test(n.data)&&i(n.data),a.createTextNode(n.data);if(a&&c&&In(n)&&(ho(n)||Mi(n))){var d,f;const E=yield function Xt(n,o){return yc(n)?Aa(n,o):mi(n)?function y(n,o){try{var e;if(null!=n&&null!==(e=n.contentDocument)&&void 0!==e&&e.body)return Ba(n.contentDocument.body,o)}catch(i){o.log.warn("Failed to clone iframe",i)}return n.cloneNode(!1)}(n,o):an(n)?function Qi(n){const o=n.cloneNode(!1);return n.currentSrc&&n.currentSrc!==n.src&&(o.src=n.currentSrc,o.srcset=""),"lazy"===o.loading&&(o.loading="eager"),o}(n):hi(n)?function vr(n,o){return Ve.apply(this,arguments)}(n,o):n.cloneNode(!1)}(n,o);if(o.isEnable("removeAbnormalAttributes")){const Q=E.getAttributeNames();for(let X=Q.length,z=0;z<X;z++){const N=Q[z];wd.test(N)||E.removeAttribute(N)}}const Z=o.currentNodeStyle=function Td(n,o,e,i){var a;const{ownerWindow:c,includeStyleProperties:u,currentParentNodeStyle:d}=i,f=o.style,_=c.getComputedStyle(n),m=oi(n,null,i);null==d||d.forEach((P,R)=>{m.delete(R)});const x=wc(_,m,u);var E,Z,D;x.delete("transition-property"),x.delete("all"),x.delete("d"),x.delete("content"),e&&(x.delete("margin-top"),x.delete("margin-right"),x.delete("margin-bottom"),x.delete("margin-left"),x.delete("margin-block-start"),x.delete("margin-block-end"),x.delete("margin-inline-start"),x.delete("margin-inline-end"),x.set("box-sizing",["border-box",""])),"text"===(null===(a=x.get("background-clip"))||void 0===a?void 0:a[0])&&o.classList.add("______background-clip--text"),fo&&(x.has("font-kerning")||x.set("font-kerning",["normal",""]),("hidden"===(null===(E=x.get("overflow-x"))||void 0===E?void 0:E[0])||"hidden"===(null===(Z=x.get("overflow-y"))||void 0===Z?void 0:Z[0]))&&"ellipsis"===(null===(D=x.get("text-overflow"))||void 0===D?void 0:D[0])&&n.scrollWidth===n.clientWidth&&x.set("text-overflow",["clip",""]));for(let P=f.length,R=0;R<P;R++)f.removeProperty(f.item(R));return x.forEach(([P,R],$)=>{f.setProperty($,P,R)}),x}(n,E,e,o);e&&function Dd(n,o){const{backgroundColor:e,width:i,height:a,style:c}=o,u=n.style;if(e&&u.setProperty("background-color",e,"important"),i&&u.setProperty("width",`${i}px`,"important"),a&&u.setProperty("height",`${a}px`,"important"),c)for(const d in c)u[d]=c[d]}(E,o);let D=!1;if(o.isEnable("copyScrollbar")){var _,m;const Q=[null===(_=Z.get("overflow-x"))||void 0===_?void 0:_[0],null===(m=Z.get("overflow-y"))||void 0===m?void 0:m[0]];D=Q.includes("scroll")||(Q.includes("auto")||Q.includes("overlay"))&&(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)}const P=null===(d=Z.get("text-transform"))||void 0===d?void 0:d[0],R=mr(null===(f=Z.get("font-family"))||void 0===f?void 0:f[0]),$=R?Q=>{"uppercase"===P?Q=Q.toUpperCase():"lowercase"===P?Q=Q.toLowerCase():"capitalize"===P&&(Q=Q[0].toUpperCase()+Q.substring(1)),R.forEach(X=>{let z=u.get(X);z||u.set(X,z=new Set),Q.split("").forEach(N=>z.add(N))})}:void 0;return function Rn(n,o,e,i,a){const{ownerWindow:c,svgStyleElement:u,svgStyles:d,currentNodeStyle:f}=i;function _(m){var x;const E=c.getComputedStyle(n,m);let Z=E.getPropertyValue("content");if(!Z||"none"===Z)return;null==a||a(Z),Z=Z.replace(/(')|(")|(counter\(.+\))/g,"");const D=[ji()],P=oi(n,m,i);null==f||f.forEach((z,N)=>{P.delete(N)});const R=wc(E,P,i.includeStyleProperties);R.delete("content"),R.delete("-webkit-locale"),"text"===(null===(x=R.get("background-clip"))||void 0===x?void 0:x[0])&&o.classList.add("______background-clip--text");const $=[`content: '${Z}';`];if(R.forEach(([z,N],ct)=>{$.push(`${ct}: ${z}${N?" !important":""};`)}),1===$.length)return;try{o.className=[o.className,...D].join(" ")}catch(z){return void i.log.warn("Failed to copyPseudoClass",z)}const Q=$.join("\n  ");let X=d.get(Q);X||(X=[],d.set(Q,X)),X.push(`.${D[0]}:${m}`)}u&&c&&(kd.forEach(_),e&&Ad.forEach(_))}(n,E,D,o,$),function Ed(n,o){(gr(n)||Cc(n)||Tc(n))&&o.setAttribute("value",n.value)}(n,E),hi(n)||(yield Ic(n,E,o,$)),E}const x=n.cloneNode(!1);return yield Ic(n,x,o),x})).apply(this,arguments)}function bo(n,o){const{url:e,requestType:i="text",responseType:a="text",imageDom:c}=o;let u=e;const{timeout:d,acceptOfImage:f,requests:_,fetchFn:m,fetch:{requestInit:x,bypassingCache:E,placeholderImage:Z},font:D,workers:P,fontFamilies:R}=n;"image"===i&&(lr||ni)&&n.drawImageCount++;let $=_.get(e);if(!$){E&&E instanceof RegExp&&E.test(u)&&(u+=(/\?/.test(u)?"&":"?")+(new Date).getTime());const Q=i.startsWith("font")&&D&&D.minify,X=new Set;Q&&i.split(";")[1].split(",").forEach(tt=>{R.has(tt)&&R.get(tt).forEach(lt=>X.add(lt))});const N={url:u,timeout:d,responseType:Q&&X.size?"arrayBuffer":a,headers:"image"===i?{accept:f}:void 0,...x};$={type:i,resolve:void 0,reject:void 0,response:null},$.response=(0,ye.Z)(function*(){if(m&&"image"===i){const ct=yield m(e);if(ct)return ct}return!lr&&e.startsWith("http")&&P.length?new Promise((ct,tt)=>{P[_.size&P.length-1].postMessage({rawUrl:e,...N}),$.resolve=ct,$.reject=tt}):function bi(n){const{url:o,timeout:e,responseType:i,...a}=n,c=new AbortController,u=e?setTimeout(()=>c.abort(),e):void 0;return fetch(o,{signal:c.signal,...a}).then(d=>{if(!d.ok)throw new Error("Failed fetch, not 2xx response",{cause:d});switch(i){case"arrayBuffer":return d.arrayBuffer();case"dataUrl":return d.blob().then(Le);default:return d.text()}}).finally(()=>clearTimeout(u))}(N)})().catch(ct=>{if(_.delete(e),"image"===i&&Z)return n.log.warn("Failed to fetch image base64, trying to use placeholder image",u),"string"==typeof Z?Z:Z(c);throw ct}),_.set(e,$)}return $.response}function Sc(n,o,e,i){return cn.apply(this,arguments)}function cn(){return(cn=(0,ye.Z)(function*(n,o,e,i){if(!Fc(n))return n;for(const[a,c]of function Zd(n,o){const e=[];return n.replace(Nc,(i,a,c)=>(e.push([c,Ec(c,o)]),i)),e.filter(([i])=>!Ta(i))}(n,o))try{const u=yield bo(e,{url:c,requestType:i?"image":"text",responseType:"dataUrl"});n=n.replace(Id(a),`$1${u}$3`)}catch(u){e.log.warn("Failed to fetch css data url",a,u)}return n})).apply(this,arguments)}function Fc(n){return/url\((['"]?)([^'"]+?)\1\)/.test(n)}const Nc=/url\((['"]?)([^'"]+?)\1\)/g;function Id(n){const o=n.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${o})(['"]?\\))`,"g")}const Sd=["background-image","border-image-source","-webkit-border-image","-webkit-mask-image","list-style-image"];function Rc(n,o){const{tasks:e}=o;In(n)&&((an(n)||_o(n))&&e.push(...function Pc(n,o){if(an(n)){const e=n.currentSrc||n.src;if(!Ta(e))return[bo(o,{url:e,imageDom:n,requestType:"image",responseType:"dataUrl"}).then(i=>{i&&(n.srcset="",n.dataset.originalSrc=e,n.src=i||"")})];(lr||ni)&&o.drawImageCount++}else if(Mi(n)&&!Ta(n.href.baseVal)){const e=n.href.baseVal;return[bo(o,{url:e,imageDom:n,requestType:"image",responseType:"dataUrl"}).then(i=>{i&&(n.dataset.originalSrc=e,n.href.baseVal=i||"")})]}return[]}(n,o)),dd(n)&&e.push(...function Fd(n,o){var e;const{ownerDocument:i,svgDefsElement:a}=o,c=null!==(e=n.getAttribute("href"))&&void 0!==e?e:n.getAttribute("xlink:href");if(!c)return[];const[u,d]=c.split("#");if(d){const f=`#${d}`,_=null==i?void 0:i.querySelector(`svg ${f}`);if(u&&n.setAttribute("href",f),null!=a&&a.querySelector(f))return[];if(_)return null==a||a.appendChild(_.cloneNode(!0)),[];if(u)return[bo(o,{url:u,responseType:"text"}).then(m=>{null==a||a.insertAdjacentHTML("beforeend",m)})]}return[]}(n,o))),ho(n)&&e.push(...function Oc(n,o){return Sd.map(e=>{const i=n.getPropertyValue(e);return i&&"none"!==i?((lr||ni)&&o.drawImageCount++,Sc(i,null,o,!0).then(a=>{!a||i===a||n.setProperty(e,a,n.getPropertyPriority(e))})):null}).filter(Boolean)}(n.style,o)),n.childNodes.forEach(i=>{Rc(i,o)})}function Ti(){return Ti=(0,ye.Z)(function*(n,o){const{ownerDocument:e,svgStyleElement:i,fontFamilies:a,fontCssTexts:c,tasks:u,font:d}=o;if(e&&i&&a.size)if(d&&d.cssText){const f=yr(d.cssText,o);i.appendChild(e.createTextNode(`${f}\n`))}else{const f=Array.from(e.styleSheets).filter(m=>{try{return"cssRules"in m&&Boolean(m.cssRules.length)}catch(x){return o.log.warn(`Error while reading CSS rules from ${m.href}`,x),!1}});yield Promise.all(f.flatMap(m=>Array.from(m.cssRules).map(function(){var x=(0,ye.Z)(function*(E,Z){if(le(E)){let D=Z+1;const P=E.href;let R="";try{R=yield bo(o,{url:P,requestType:"text",responseType:"text"})}catch(Q){o.log.warn(`Error fetch remote css import from ${P}`,Q)}const $=R.replace(Nc,(Q,X,z)=>Q.replace(z,Ec(z,P)));for(const Q of function qc(n){if(null==n)return[];const o=[];let e=n.replace(xr,"");for(;;){const c=Lc.exec(e);if(!c)break;o.push(c[0])}e=e.replace(Lc,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let c=i.exec(e);if(c)a.lastIndex=i.lastIndex;else{if(c=a.exec(e),!c)break;i.lastIndex=a.lastIndex}o.push(c[0])}return o}($))try{m.insertRule(Q,Q.startsWith("@import")?D+=1:m.cssRules.length)}catch(X){o.log.warn("Error inserting rule from remote css import",{rule:Q,error:X})}}});return function(E,Z){return x.apply(this,arguments)}}()))),f.flatMap(m=>Array.from(m.cssRules)).filter(m=>{var x;return dr(m)&&Fc(m.style.getPropertyValue("src"))&&(null===(x=mr(m.style.getPropertyValue("font-family")))||void 0===x?void 0:x.some(E=>a.has(E)))}).forEach(m=>{const x=m,E=c.get(x.cssText);E?i.appendChild(e.createTextNode(`${E}\n`)):u.push(Sc(x.cssText,x.parentStyleSheet?x.parentStyleSheet.href:null,o).then(Z=>{Z=yr(Z,o),c.set(x.cssText,Z),i.appendChild(e.createTextNode(`${Z}\n`))}))})}}),Ti.apply(this,arguments)}const xr=/(\/\*[\s\S]*?\*\/)/g,Lc=/((@.*?keyframes [\s\S]*?){([\s\S]*?}\s*?)})/gi,Nd=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,qn=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function yr(n,o){const{font:e}=o,i=e?null==e?void 0:e.preferredFormat:void 0;return i?n.replace(qn,a=>{for(;;){const[c,,u]=Nd.exec(a)||[];if(!u)return"";if(u===i)return`src: ${c};`}}):n}function ze(){return ze=(0,ye.Z)(function*(n,o){const e=yield sn(n,o);if(In(e.node)&&Mi(e.node))return e.node;const{ownerDocument:i,log:a,tasks:c,svgStyleElement:u,svgDefsElement:d,svgStyles:f,font:_,progress:m,autoDestruct:x,onCloneNode:E,onEmbedNode:Z,onCreateForeignObjectSvg:D}=e;a.time("clone node");const P=yield Ba(e.node,e,!0);if(u&&i){let z="";f.forEach((N,ct)=>{z+=`${N.join(",\n")} {\n  ${ct}\n}\n`}),u.appendChild(i.createTextNode(z))}a.timeEnd("clone node"),yield null==E?void 0:E(P),!1!==_&&In(P)&&(a.time("embed web font"),yield function Ia(n,o){return Ti.apply(this,arguments)}(P,e),a.timeEnd("embed web font")),a.time("embed node"),Rc(P,e);const R=c.length;let $=0;const Q=function(){var z=(0,ye.Z)(function*(){for(;;){const N=c.pop();if(!N)break;try{yield N}catch(ct){e.log.warn("Failed to run task",ct)}null==m||m(++$,R)}});return function(){return z.apply(this,arguments)}}();null==m||m($,R),yield Promise.all([...Array.from({length:4})].map(Q)),a.timeEnd("embed node"),yield null==Z?void 0:Z(P);const X=function Od(n,o){const{width:e,height:i}=o,a=function hr(n,o,e){const i=vi(e).createElementNS(xi,"svg");return i.setAttributeNS(null,"width",n.toString()),i.setAttributeNS(null,"height",o.toString()),i.setAttributeNS(null,"viewBox",`0 0 ${n} ${o}`),i}(e,i,n.ownerDocument),c=a.ownerDocument.createElementNS(a.namespaceURI,"foreignObject");return c.setAttributeNS(null,"x","0%"),c.setAttributeNS(null,"y","0%"),c.setAttributeNS(null,"width","100%"),c.setAttributeNS(null,"height","100%"),c.append(n),a.appendChild(c),a}(P,e);return d&&X.insertBefore(d,X.children[0]),u&&X.insertBefore(u,X.children[0]),x&&function Bd(n){if(n.ownerDocument=void 0,n.ownerWindow=void 0,n.svgStyleElement=void 0,n.svgDefsElement=void 0,n.svgStyles.clear(),n.defaultComputedStyles.clear(),n.sandbox){try{n.sandbox.remove()}catch(o){n.log.warn("Failed to destroyContext",o)}n.sandbox=void 0}n.workers=[],n.fontFamilies.clear(),n.fontCssTexts.clear(),n.requests.clear(),n.tasks=[]}(e),yield null==D?void 0:D(X),X}),ze.apply(this,arguments)}function br(){return br=(0,ye.Z)(function*(n,o){const e=yield sn(n,o),i=yield function Ei(n,o){return ze.apply(this,arguments)}(e),a=function kc(n,o){let e=(new XMLSerializer).serializeToString(n);return o&&(e=e.replace(/[\u0000-\u0008\v\f\u000E-\u001F\uD800-\uDFFF\uFFFE\uFFFF]/gu,"")),`data:image/svg+xml;charset=utf-8,${encodeURIComponent(e)}`}(i,e.isEnable("removeControlCharacter"));var c;e.autoDestruct||(e.svgStyleElement=Dc(e.ownerDocument),e.svgDefsElement=null===(c=e.ownerDocument)||void 0===c?void 0:c.createElementNS(xi,"defs"),e.svgStyles.clear());const u=yi(a,i.ownerDocument);return yield function xd(n,o){return Yi.apply(this,arguments)}(u,e)}),br.apply(this,arguments)}function Hi(n,o){return Sn.apply(this,arguments)}function Sn(){return Sn=(0,ye.Z)(function*(n,o){const e=yield sn(n,o),{log:i,type:a,quality:c,dpi:u}=e,d=yield function Cr(n,o){return br.apply(this,arguments)}(e);i.time("canvas to blob");const f=yield function Ac(n){return Ea.apply(this,arguments)}(d,a,c);if(["image/png","image/jpeg"].includes(a)&&u){const _=yield _d(f.slice(0,33));let m=new Uint8Array(_);return"image/png"===a?m=F(m,u):"image/jpeg"===a&&(m=function _i(n,o){return n[13]=1,n[14]=o>>8,n[15]=255&o,n[16]=o>>8,n[17]=255&o,n}(m,u)),i.timeEnd("canvas to blob"),new Blob([m,f.slice(33)],{type:a})}return i.timeEnd("canvas to blob"),f}),Sn.apply(this,arguments)}var vt=w(5439),Eo=w(9300),Mc=w(8505),Jc=w(9841);let Oa=(()=>{class n{transform(e){const a=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"formatTime",type:n,pure:!0,standalone:!0}),n})();class Ld{constructor(){this.payloadFormatIndicator="000201",this.pointOfInitiationMethod="010212",this.consumerAccountInformation="",this.guid="0010A000000727",this.serviceCode="0208QRIBFTTA",this.transactionCurrency="5303704",this.transactionAmount="",this.countryCode="5802VN",this.additionalDataFieldTemplate="",this.crc=""}build(){const o=`${this.payloadFormatIndicator}${this.pointOfInitiationMethod}${this.consumerAccountInformation}${this.transactionCurrency}${this.transactionAmount}${this.countryCode}${this.additionalDataFieldTemplate}6304`;return`${o}${this.calcCRC(o)}`}convertLength(o){const e=parseInt(o);return e<10?`0${e}`:e+""}setTransactionAmount(o){const e=this.convertLength(o.length);return this.transactionAmount=`54${e}${o}`,this}setBeneficiaryOrganization(o,e){const a=`00${this.convertLength(o.length)}${o}`,u=`01${this.convertLength(e.length)}${e}`,d=`${a}${u}`,f=d.length,m=this.convertLength(d.length+30);return this.consumerAccountInformation=`38${m}${this.guid}01${f}${a}${u}0208QRIBFTTA`,this}setAdditionalDataFieldTemplate(o){const e=this.convertLength(o.length),i=this.convertLength(o.length+4);return this.additionalDataFieldTemplate=`62${i}08${e}${o}`,this}calcCRC(o){const e=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];let a,c,i=65535;for(c=0;c<o.length;c++){const f=o.charCodeAt(c);if(f>255)throw new RangeError;a=255&(f^i>>8),i=e[a]^i<<8}return`0000${(65535&(0^i)).toString(16).toUpperCase()}`.slice(-4)}}var Ki=w(3259),jc=w.t(Ki,2),Pa=w(5963),Ra=w(2529);class ko{constructor(o,e){this._document=e;const i=this._textarea=this._document.createElement("textarea"),a=i.style;a.position="fixed",a.top=a.opacity="0",a.left="-999em",i.setAttribute("aria-hidden","true"),i.value=o,i.readOnly=!0,this._document.body.appendChild(i)}copy(){const o=this._textarea;let e=!1;try{if(o){const i=this._document.activeElement;o.select(),o.setSelectionRange(0,o.value.length),e=this._document.execCommand("copy"),i&&i.focus()}}catch{}return e}destroy(){const o=this._textarea;o&&(o.remove(),this._textarea=void 0)}}let Yc=(()=>{class n{constructor(e){this._document=e}copy(e){const i=this.beginCopy(e),a=i.copy();return i.destroy(),a}beginCopy(e){return new ko(e,this._document)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(g.K0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ud=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"traceId",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"status",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"data",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"objectError",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"errorCode",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"success",void 0),n})();const Md={headers:new ue.WM({"Content-Type":"application/json"})};let La=(()=>{class n{constructor(e,i,a){this.http=e,this.appConfig=i,this._recaptchaService=a}bookingTopupSession(e){return this._recaptchaService.getRecaptchaToken$().pipe((0,be.w)(i=>this.http.post(this.appConfig.apiB2cUrl+"payment/create-topup-session",JSON.stringify(Object.assign(Object.assign({},e),{recaptcha:i})),Md)),(0,Be.U)(i=>(0,oe.yE)(Ud,i,{excludeExtraneousValues:!0})))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(ue.eN),t.LFG(Rt.qB),t.LFG(on.K))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qa=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"traceId",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"status",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"data",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"objectError",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"errorCode",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"success",void 0),n})();const kr={headers:new ue.WM({"Content-Type":"application/json"})};let Gc=(()=>{class n{constructor(e,i,a){this.http=e,this.appConfig=i,this._recaptchaSvc=a}getOrderById(e){return this._recaptchaSvc.getRecaptchaToken$().pipe((0,be.w)(i=>this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/get-order-detail",JSON.stringify({orderId:e,recaptcha:i}),kr)),(0,Be.U)(i=>(0,oe.yE)(qa,i,{excludeExtraneousValues:!0})))}postPayment(e){return this._recaptchaSvc.getRecaptchaToken$().pipe((0,be.w)(i=>this.http.post(this.appConfig.apiB2cUrl+"payment/test-topup",JSON.stringify({orderId:e}),kr)))}createPaymentNinePay(e){return this._recaptchaSvc.getRecaptchaToken$().pipe((0,be.w)(i=>this.http.post(this.appConfig.apiB2cUrl+"payment/create-redirect-payment-order",JSON.stringify({orderId:e,recaptcha:i,paymentMethod:"NINE_PAY"}),kr)))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(ue.eN),t.LFG(Rt.qB),t.LFG(on.K))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Jn=w(9132),ri=w(9381);const Ma=["shareQRTpl"];function Kc(n,o){1&n&&(t.O4$(),t.TgZ(0,"svg",37),t._UZ(1,"path",38),t.qZA())}function Ja(n,o){if(1&n&&t._UZ(0,"img",39),2&n){const e=t.oxw(2);t.Q6J("src",e.qrcodeSrc,t.LSH)}}function Hd(n,o){if(1&n&&(t.TgZ(0,"div",40),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.depositData.amount?t.lcZ(2,1,e.depositData.amount)+" \u0111":"--","")}}function ja(n,o){if(1&n&&(t.TgZ(0,"div")(1,"span",41),t._uU(2,"H\u1ebft h\u1ea1n sau: "),t.qZA(),t.TgZ(3,"span",42),t._uU(4),t.ALo(5,"formatTime"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,1,e.countdown))}}function Vt(n,o){1&n&&(t.TgZ(0,"div",43),t._uU(1," M\xe3 QR h\u1ebft h\u1ea1n "),t.qZA())}function Gd(n,o){if(1&n&&(t.TgZ(0,"div",43),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.objectError.errorMessage," ")}}function Kd(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",44),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onPaymentTopup())}),t.TgZ(1,"span"),t._uU(2,"\u0110\xe3 chuy\u1ec3n kho\u1ea3n"),t.qZA()()}}function Ao(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",13),t._uU(2," Qu\xe9t m\xe3 QR \u0111\u1ec3 thanh to\xe1n "),t.qZA(),t.TgZ(3,"div",14)(4,"div",15),t.YNc(5,Kc,2,0,"svg",16),t.YNc(6,Ja,1,1,"img",17),t.qZA(),t.TgZ(7,"div",18),t.YNc(8,Hd,3,3,"div",19),t.YNc(9,ja,6,3,"div",20),t.YNc(10,Vt,2,0,"div",21),t.YNc(11,Gd,2,1,"div",21),t.qZA()(),t.TgZ(12,"div",22)(13,"button",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.exportJPEG())}),t._UZ(14,"cf-icon",24)(15,"cf-icon",25),t.TgZ(16,"span",26),t._uU(17,"T\u1ea3i m\xe3 QR"),t.qZA(),t.TgZ(18,"span",27),t._uU(19,"Chia s\u1ebb m\xe3 QR"),t.qZA()()(),t.TgZ(20,"div",28)(21,"div",29)(22,"span",30),t._uU(23,"L\u01b0u \xfd: "),t.qZA(),t.TgZ(24,"ul",31)(25,"li",32),t._uU(26,"Vui l\xf2ng chuy\u1ec3n \u0111\xfang s\u1ed1 ti\u1ec1n v\xe0 n\u1ed9i dung chuy\u1ec3n kho\u1ea3n"),t.qZA(),t.TgZ(27,"li",32),t._uU(28,"Ch\xfang t\xf4i s\u1ebd g\u1eedi email x\xe1c nh\u1eadn khi b\u1ea1n th\u1ef1c hi\u1ec7n thanh to\xe1n th\xe0nh c\xf4ng "),t.qZA()()()(),t.TgZ(29,"div",33)(30,"p"),t._uU(31,"1. M\u1edf \u1ee9ng d\u1ee5ng ng\xe2n h\xe0ng tr\xean \u0111i\u1ec7n tho\u1ea1i"),t.qZA(),t.TgZ(32,"p"),t._uU(33,"2. Tr\xean \u1ee9ng d\u1ee5ng ch\u1ecdn t\xednh n\u0103ng "),t.TgZ(34,"strong"),t._uU(35,"Qu\xe9t m\xe3 QR"),t.qZA()(),t.TgZ(36,"p"),t._uU(37,"3. Qu\xe9t m\xe3 QR t\u1eeb trang n\xe0y v\xe0 thanh to\xe1n"),t.qZA()(),t.TgZ(38,"div",34)(39,"p"),t._uU(40,"1. Ch\u1ee5p m\xe0n h\xecnh "),t.TgZ(41,"strong"),t._uU(42,"m\xe3 QR "),t.qZA()(),t.TgZ(43,"p"),t._uU(44,"2. Tr\xean \u1ee9ng d\u1ee5ng ng\xe2n h\xe0ng/v\xed \u0111i\u1ec7n t\u1eed ch\u1ecdn t\xednh n\u0103ng "),t.TgZ(45,"strong"),t._uU(46,"Qu\xe9t m\xe3 QR"),t.qZA()(),t.TgZ(47,"p"),t._uU(48,"3. Ch\u1ecdn "),t.TgZ(49,"strong"),t._uU(50," S\u1eed d\u1ee5ng \u1ea3nh "),t.qZA(),t._uU(51," \u0111\u1ec3 qu\xe9t m\xe3 v\xe0 thanh to\xe1n"),t.qZA(),t.TgZ(52,"button",35),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onConfirmTopup())}),t.TgZ(53,"span"),t._uU(54,"T\xf4i \u0111\xe3 chuy\u1ec3n kho\u1ea3n"),t.qZA()(),t.YNc(55,Kd,3,0,"button",36),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",!e.qrcodeSrc),t.xp6(1),t.Q6J("ngIf",e.qrcodeSrc),t.xp6(2),t.Q6J("ngIf",e.qrcodeSrc),t.xp6(1),t.Q6J("ngIf",e.qrcodeSrc&&!e.isExpired),t.xp6(1),t.Q6J("ngIf",e.isExpired),t.xp6(1),t.Q6J("ngIf",e.objectError.error),t.xp6(2),t.Q6J("disabled",!e.qrcodeSrc||e.isLoading),t.xp6(39),t.Q6J("disabled",!(null!=e.depositData&&e.depositData.id)),t.xp6(3),t.Q6J("ngIf",e.isDevEnvironment)}}function $c(n,o){1&n&&(t.TgZ(0,"div",29)(1,"span",30),t._uU(2,"L\u01b0u \xfd: "),t.qZA(),t.TgZ(3,"ul",31)(4,"li",32),t._uU(5,"Vui l\xf2ng chuy\u1ec3n \u0111\xfang s\u1ed1 ti\u1ec1n v\xe0 n\u1ed9i dung chuy\u1ec3n kho\u1ea3n"),t.qZA(),t.TgZ(6,"li",32),t._uU(7,"Ch\xfang t\xf4i s\u1ebd g\u1eedi email x\xe1c nh\u1eadn khi b\u1ea1n th\u1ef1c hi\u1ec7n thanh to\xe1n th\xe0nh c\xf4ng "),t.qZA()()())}function $d(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",44),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onPaymentTopup())}),t.TgZ(1,"span"),t._uU(2,"\u0110\xe3 chuy\u1ec3n kho\u1ea3n"),t.qZA()()}}function Vd(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",44),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onPaymentTopup())}),t.TgZ(1,"span"),t._uU(2,"\u0110\xe3 chuy\u1ec3n kho\u1ea3n"),t.qZA()()}}function yn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",45)(1,"div",46),t._uU(2," Chuy\u1ec3n kho\u1ea3n ng\xe2n h\xe0ng \u0111\u1ec3 thanh to\xe1n "),t.qZA(),t.TgZ(3,"div",47)(4,"div",48)(5,"div",49),t._uU(6,"Ng\xe2n H\xe0ng"),t.qZA(),t.TgZ(7,"div",50),t._uU(8,"ACB - Ng\xe2n h\xe0ng Th\u01b0\u01a1ng M\u1ea1i C\u1ed5 Ph\u1ea7n \xc1 Ch\xe2u"),t.qZA()(),t.TgZ(9,"div",48)(10,"div",49),t._uU(11,"Ch\u1ee7 t\xe0i kho\u1ea3n"),t.qZA(),t.TgZ(12,"div",50),t._uU(13),t.qZA()(),t.TgZ(14,"div",51)(15,"div",48)(16,"div",49),t._uU(17,"S\u1ed1 t\xe0i kho\u1ea3n"),t.qZA(),t.TgZ(18,"div",50),t._uU(19),t.qZA()(),t.TgZ(20,"div")(21,"button",52),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onCopy(a.depositData.bankNumber))}),t._uU(22," Sao ch\xe9p "),t.qZA()()(),t.TgZ(23,"div",51)(24,"div",48)(25,"div",49),t._uU(26,"S\u1ed1 ti\u1ec1n"),t.qZA(),t.TgZ(27,"div",53),t._uU(28),t.ALo(29,"number"),t.qZA()(),t.TgZ(30,"div")(31,"button",52),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onCopy(a.depositData.amount))}),t._uU(32," Sao ch\xe9p "),t.qZA()()(),t.TgZ(33,"div",51)(34,"div",48)(35,"div",49),t._uU(36,"N\u1ed9i dung"),t.qZA(),t.TgZ(37,"div",54),t._uU(38),t.qZA()(),t.TgZ(39,"div")(40,"button",52),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onCopy(a.depositData.content))}),t._uU(41," Sao ch\xe9p "),t.qZA()()(),t.TgZ(42,"div",55)(43,"button",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.exportJPEG())}),t._UZ(44,"cf-icon",25),t.TgZ(45,"span",27),t._uU(46,"Chia s\u1ebb m\xe3 QR"),t.qZA()()(),t.YNc(47,$c,8,0,"div",56),t.qZA(),t.TgZ(48,"div",57)(49,"p"),t._uU(50,"1. M\u1edf \u1ee9ng d\u1ee5ng ng\xe2n h\xe0ng/v\xed \u0111i\u1ec7n t\u1eed tr\xean \u0111i\u1ec7n tho\u1ea1i"),t.qZA(),t.TgZ(51,"p"),t._uU(52,"2. Ch\u1ecdn t\xednh n\u0103ng "),t.TgZ(53,"strong"),t._uU(54,"Chuy\u1ec3n ti\u1ec1n"),t.qZA()(),t.TgZ(55,"p"),t._uU(56,"3. Nh\u1eadp th\xf4ng tin chuy\u1ec3n kho\u1ea3n v\xe0 x\xe1c nh\u1eadn chuy\u1ec3n ti\u1ec1n"),t.qZA(),t.TgZ(57,"button",35),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onConfirmTopup())}),t.TgZ(58,"span"),t._uU(59,"T\xf4i \u0111\xe3 chuy\u1ec3n kho\u1ea3n"),t.qZA()(),t.YNc(60,$d,3,0,"button",36),t.qZA(),t.TgZ(61,"div",58)(62,"button",59),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onConfirmTopup())}),t.TgZ(63,"span"),t._uU(64,"T\xf4i \u0111\xe3 chuy\u1ec3n kho\u1ea3n"),t.qZA()(),t.YNc(65,Vd,3,0,"button",36),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(13),t.Oqu((null==e.depositData?null:e.depositData.bankAccountName)||"C\xf4ng ty TNHH Gi\u1ea5c M\u01a1 Bay R\u1ebb"),t.xp6(6),t.Oqu((null==e.depositData?null:e.depositData.bankNumber)||"866677788888"),t.xp6(2),t.Q6J("disabled",!(null!=e.depositData&&e.depositData.bankNumber)),t.xp6(7),t.hij(" ",null!=e.depositData&&e.depositData.amount?t.lcZ(29,13,e.depositData.amount)+" \u0111":"--"," "),t.xp6(3),t.Q6J("disabled",!(null!=e.depositData&&e.depositData.amount)),t.xp6(7),t.hij(" ",(null==e.depositData?null:e.depositData.content)||"Nh\u1eadp h\u1ecd v\xe0 t\xean kh\xf4ng d\u1ea5u",""),t.xp6(2),t.Q6J("disabled",!(null!=e.depositData&&e.depositData.content)),t.xp6(3),t.Q6J("disabled",!e.qrcodeSrc||e.isLoading),t.xp6(4),t.Q6J("ngIf",e.depositData),t.xp6(10),t.Q6J("disabled",!(null!=e.depositData&&e.depositData.id)),t.xp6(3),t.Q6J("ngIf",e.isDevEnvironment),t.xp6(2),t.Q6J("disabled",!(null!=e.depositData&&e.depositData.id)),t.xp6(3),t.Q6J("ngIf",e.isDevEnvironment)}}function zd(n,o){if(1&n&&(t.TgZ(0,"div",60),t._UZ(1,"img",61),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("src",e.qrcodeSrc,t.LSH)}}function Ar(n,o){if(1&n&&(t.TgZ(0,"div",62)(1,"div",63),t._uU(2),t.qZA(),t.TgZ(3,"div",64),t._uU(4),t.qZA(),t.TgZ(5,"span",65),t._uU(6,"ACB - Ng\xe2n h\xe0ng Th\u01b0\u01a1ng M\u1ea1i C\u1ed5 Ph\u1ea7n \xc1 Ch\xe2u"),t.qZA(),t.TgZ(7,"div",66)(8,"div",67),t._uU(9," S\u1ed1 ti\u1ec1n: "),t.qZA(),t.TgZ(10,"div",68),t._uU(11),t.ALo(12,"number"),t.qZA()(),t.TgZ(13,"div",66)(14,"div",67),t._uU(15," N\u1ed9i dung: "),t.qZA(),t.TgZ(16,"div",69),t._uU(17),t.qZA()()()),2&n){const e=t.oxw();t.xp6(2),t.Oqu((null==e.depositData?null:e.depositData.bankAccountName)||"C\xf4ng ty TNHH Gi\u1ea5c M\u01a1 Bay R\u1ebb"),t.xp6(2),t.hij("",(null==e.depositData?null:e.depositData.bankNumber)||"866677788888"," "),t.xp6(7),t.hij(" ",null!=e.depositData&&e.depositData.amount?t.lcZ(12,4,e.depositData.amount)+" \u0111":"--"," "),t.xp6(6),t.hij(" ",(null==e.depositData?null:e.depositData.content)||"Nh\u1eadp h\u1ecd v\xe0 t\xean kh\xf4ng d\u1ea5u"," ")}}var ki=(()=>{return(n=ki||(ki={}))[n.QR=0]="QR",n[n.INFO=1]="INFO",ki;var n})();let Dr=(()=>{class n{constructor(e,i,a,c,u,d,f,_,m,x,E){this.clipboard=e,this._toastService=i,this._cdr=a,this._createTopupSessionSvc=c,this.route=u,this._mobileDetectService=d,this._bottomSheetService=f,this._router=_,this.cfIconRegister=m,this._getOrderDetailSvc=x,this.appConfig=E,this.bankAccountOptions=[],this.countdown=600,this.isExpired=!1,this.objectError={error:!1,errorMessage:"C\xf3 l\u1ed7i x\u1ea3y ra. Vui l\xf2ng t\u1ea1o l\u1ea1i m\xe3 QR"},this.isLoading=!1,this.isPaymentCompleted=!1,this.stepMobile=ki.QR,this.StepMobile=ki,this.isMobile=!1,this.shareQRBlob=null,this.paymentMethodCur="ACB",this.updateTimeExpired=new t.vpe,this.timeExpiredChange=new t.vpe,this.isPaymentCompletedChange=new t.vpe,this.isDevEnvironment=!1,this.isMobile=this._mobileDetectService.isMobile(),m.registerIcons([v._hx,v.B2I,v.Hn3,v.Rcu,v.D7]),this.isDevEnvironment="DEV"===this.appConfig.env}handleBeforeUnload(e){this.isPaymentCompleted||(console.log("beforeunload"),e.preventDefault(),e.returnValue="B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n r\u1eddi kh\u1ecfi trang n\xe0y khi ch\u01b0a ho\xe0n th\xe0nh thanh to\xe1n?")}ngOnDestroy(){window.removeEventListener("beforeunload",this.handleBeforeUnload)}canDeactivate(e){return console.log("canDeactivate"),!!this.isPaymentCompleted||confirm("B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n r\u1eddi kh\u1ecfi trang n\xe0y khi ch\u01b0a ho\xe0n th\xe0nh thanh to\xe1n?")}ngOnInit(){this._createTopupSessionSvc.bookingTopupSession({orderId:this.orderId,paymentMethod:this.paymentMethodCur}).subscribe(e=>{e.data&&this.initDepositData(e.data)})}initDepositData(e){this.timeRemaining$&&this.timeRemaining$.unsubscribe(),this.depositData=Object.assign(Object.assign({},this.depositData),e),this.objectError.error=!1,this.fileNameQR=`${e.content}.jpeg`;const i=new Ld;i.setBeneficiaryOrganization(this.getBinBank(e.bankName),e.bankNumber).setTransactionAmount(e.amount.toString()).setAdditionalDataFieldTemplate(e.content),Ki.toDataURL(i.build(),{margin:0}).then(a=>{console.log(a),this.updateTimeExpired.emit(e.dateExpire);const c=this.calculateTimeDifferenceInSeconds(e.dateExpire);this.qrcodeSrc=a;const u=(0,Pa.H)(0,1e3).pipe((0,Be.U)(d=>c-d),(0,Ra.o)(d=>d>=0));this.timeRemaining$=u.subscribe({next:d=>{this.countdown=d,d>0?this.isExpired=!1:(this.isExpired=!0,this.qrcodeSrc="",this.timeExpiredChange.emit(!0)),setTimeout(()=>{this.prepareShareQRBlob()},0),this._cdr.markForCheck()}}),this._cdr.markForCheck()}).catch(a=>{console.error(a),this.objectError.error=!0,this.objectError.errorMessage="C\xf3 l\u1ed7i x\u1ea3y ra. Vui l\xf2ng t\u1ea1o l\u1ea1i m\xe3 QR"}),console.log(this.qrcodeSrc),console.log(jc)}calculateTimeDifferenceInSeconds(e){const i=vt(e),a=vt();return Math.abs(a.diff(i,"seconds"))}getBinBank(e){var i;return(null===(i=wt.dH.find(a=>a.code.toUpperCase()===e.toUpperCase()))||void 0===i?void 0:i.bin)||""}onCopy(e){this.clipboard.copy(null==e?void 0:e.toString()),this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"Sao ch\xe9p th\xe0nh c\xf4ng",sticky:!1})}onConfirmTopup(){this._getOrderDetailSvc.getOrderById(this.orderId).subscribe(e=>{var i;e.data&&("PAYMENT_SUCCESS"!==(null===(i=e.data)||void 0===i?void 0:i.orderInfo.state)?this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"GMBR ch\u01b0a nh\u1eadn \u0111\u01b0\u1ee3c kho\u1ea3n thanh to\xe1n c\u1ee7a \u0111\u01a1n h\xe0ng, vui l\xf2ng ki\u1ec3m tra l\u1ea1i giao d\u1ecbch",sticky:!1}):this.isPaymentCompletedChange.emit(!0))})}exportJPEG(){if(!this.shareQRBlob)return void this._toastService.add({severity:"error",summary:"Ch\u01b0a s\u1eb5n s\xe0ng",detail:"H\xecnh \u1ea3nh QR ch\u01b0a \u0111\u01b0\u1ee3c t\u1ea1o xong. Vui l\xf2ng \u0111\u1ee3i ch\xfat."});const e=new File([this.shareQRBlob],this.fileNameQR,{type:this.shareQRBlob.type});this.isMobile&&navigator.canShare&&navigator.canShare({files:[e]})?navigator.share({files:[e]}).then(()=>{this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"Chia s\u1ebb QR th\xe0nh c\xf4ng."})}).catch(i=>{console.error("Share th\u1ea5t b\u1ea1i:",i),ar(this.shareQRBlob,this.fileNameQR)}):ar(this.shareQRBlob,this.fileNameQR)}prepareShareQRBlob(){Hi(this.shareQRTpl.nativeElement,{fetch:{bypassingCache:!0},drawImageInterval:1e3}).then(i=>{this.shareQRBlob=i,console.log("\u0110\xe3 chu\u1ea9n b\u1ecb blob cho QR:",i)}).catch(i=>{console.error("Kh\xf4ng th\u1ec3 t\u1ea1o blob cho QR:",i)})}stepMobileChange(e){this.stepMobile=e}onPaymentTopup(){this._getOrderDetailSvc.postPayment(this.orderId).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Yc),t.Y36(Pn.BX),t.Y36(t.sBO),t.Y36(La),t.Y36(Jn.gz),t.Y36(ri.L),t.Y36(I.a2),t.Y36(Jn.F0),t.Y36(v.KNP),t.Y36(Gc),t.Y36(Rt.qB))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-result-deposit"]],viewQuery:function(e,i){if(1&e&&t.Gf(Ma,5),2&e){let a;t.iGM(a=t.CRH())&&(i.shareQRTpl=a.first)}},hostBindings:function(e,i){1&e&&t.NdJ("beforeunload",function(c){return i.handleBeforeUnload(c)},!1,t.Jf7)},inputs:{orderId:"orderId",stepMobile:"stepMobile"},outputs:{updateTimeExpired:"updateTimeExpired",timeExpiredChange:"timeExpiredChange",isPaymentCompletedChange:"isPaymentCompletedChange"},standalone:!0,features:[t.jDz],decls:12,vars:4,consts:[[1,"relative"],[1,"px-4","w-full","mx-auto","relative","flex","gap-6","md:px-0"],[1,"flex-1","flex","flex-col","gap-8"],[1,"flex","gap-6","w-full"],["class","bg-white border-neutral-gray-1 border rounded pt-4 flex flex-col justify-between flex-1",4,"ngIf"],["class","bg-white border-neutral-gray-1 border rounded py-4 flex-1",4,"ngIf"],[1,"flex","flex-col","bg-white","rounded-2xl","max-w-[466px]","w-[466px]","h-[614px]","px-3","gap-7","justify-center","py-8","text-center","absolute","top-0","bottom-0","-z-[1]"],["shareQRTpl",""],[1,"flex","flex-col","gap-2","items-center","mx-auto","w-full"],["src","/assets/bank-logo/ACB.svg","alt","ACB",1,"object-contain","w-[108px]","h-auto","mx-auto"],["class","rounded-lg p-2 border-blue-3 border",4,"ngIf"],["class","flex flex-col gap-y-2 items-center w-full text-center mx-auto",4,"ngIf"],[1,"bg-white","border-neutral-gray-1","border","rounded","pt-4","flex","flex-col","justify-between","flex-1"],[1,"text-body-lg","md:flex","justify-center","font-semibold","text-neutral-gray-6","px-6","mb-3","hidden"],[1,"flex","flex-col","gap-y-4","md:flex-col","md:gap-x-6","px-6","md:p-3","items-center","md:w-full"],[1,"w-[200px]","h-[200px]","md:w-[160px]","md:h-[160px]"],["viewBox","0 0 200 200","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["class","w-[200px] h-auto","alt","",3,"src",4,"ngIf"],[1,"flex","flex-col","gap-y-1","items-center","md:flex-1"],["class","text-heading-lg text-secondary-5-3 md:text-express-xl",4,"ngIf"],[4,"ngIf"],["class","text-body-md-short text-primary-1-4",4,"ngIf"],[1,"w-full","min-h-[38px]","px-6","mb-3"],["cf-button","","size","medium","type","secondary",1,"bg-white","w-full","justify-center",3,"disabled","click"],["icon","download",1,"mr-2","block","md:hidden"],["icon","share",1,"mr-2","hidden","md:block"],[1,"block","md:hidden"],[1,"hidden","md:block"],[1,"px-4","my-4","hidden","md:block"],[1,"bg-yellow-1","rounded-lg","text-yellow-5","py-2","px-4"],[1,"text-express-md","font-medium"],[1,"list-disc","pl-4"],[1,"text-espressive-md"],[1,"p-4","bg-neutral-gray-0.5","text-body-md-short","text-neutral-gray-6","rounded-b","md:hidden"],[1,"p-4","bg-neutral-gray-0.5","text-body-md-short","text-neutral-gray-6","rounded-b","md:block","hidden"],["cf-button","","size","medium","type","secondary",1,"bg-white","w-full","justify-center","flex-1","mt-3",3,"disabled","click"],["cf-button","","size","medium","type","secondary","class","bg-white w-full justify-center flex-1",3,"click",4,"ngIf"],["viewBox","0 0 200 200","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M0 0H75V75H0V0ZM12.5 62.5H62.5V12.5H12.5V62.5ZM50 25H25V50H50V25ZM75 200V125H0V200H75ZM12.5 137.5H62.5V187.5H12.5V137.5ZM50 150H25V175H50V150ZM200 0H125V75H200V0ZM187.5 62.5H137.5V12.5H187.5V62.5ZM175 25H150V50H175V25ZM0 87.5V112.5H37.5V100H62.5V112.5H87.5V137.5H112.5V150H87.5V162.5H100V175H87.5V200H100V175H112.5V200H137.5V175H150V200H162.5V175H150V162.5H175V200H200V175H187.5V162.5H175V150H150V162.5H137.5V150H125V137.5H162.5V112.5H137.5V87.5H100V75H112.5V50H100V37.5H112.5V12.5H100V0H87.5V50H100V75H87.5V87.5H75V100H62.5V87.5H37.5V100H25V87.5H0ZM87.5 87.5H100V100H112.5V112.5H87.5V87.5ZM112.5 112.5H137.5V125H125V137.5H112.5V112.5ZM125 150H112.5V162.5V175H137.5V162.5H125V150ZM175 125V137.5H187.5V150H200V125H187.5H175ZM150 100V87.5H175H200V112.5H175V100H150Z","fill","#F2F2F2"],["alt","",1,"w-[200px]","h-auto",3,"src"],[1,"text-heading-lg","text-secondary-5-3","md:text-express-xl"],[1,"text-body-md-short"],[1,"text-express-md"],[1,"text-body-md-short","text-primary-1-4"],["cf-button","","size","medium","type","secondary",1,"bg-white","w-full","justify-center","flex-1",3,"click"],[1,"bg-white","border-neutral-gray-1","border","rounded","py-4","flex-1"],[1,"text-body-lg","justify-center","font-semibold","text-neutral-gray-6","px-6","mb-3","hidden","md:flex"],[1,"flex","flex-col","gap-y-4","px-6"],[1,"flex","flex-col","gap-y-1"],[1,"text-body-md-short","text-neutral-gray-5"],[1,"text-express-md","text-neutral-gray-6"],[1,"flex","justify-between","items-center","gap-x-2.5"],["cf-button","","size","small","type","secondary",1,"bg-white","whitespace-nowrap",3,"disabled","click"],[1,"text-express-md","text-secondary-5-3"],[1,"text-express-md","text-neutral-gray-6","md:break-words","md:max-w-[240px]"],[1,"w-full","min-h-[38px]","mb-3","md:block","hidden"],["class","bg-yellow-1 rounded-lg text-yellow-5 py-2 px-4",4,"ngIf"],[1,"p-4","bg-neutral-gray-0.5","mt-3","text-body-md-short","text-neutral-gray-6","rounded-b","md:block","hidden"],[1,"mt-6","flex","gap-2","px-6","md:hidden"],["cf-button","","size","medium","type","secondary",1,"bg-white","w-full","justify-center","flex-1",3,"disabled","click"],[1,"rounded-lg","p-2","border-blue-3","border"],["alt","QR Code",1,"w-[300px]","h-auto",3,"src"],[1,"flex","flex-col","gap-y-2","items-center","w-full","text-center","mx-auto"],[1,"text-heading-lg","text-neutral-gray-6","font-medium","w-full"],[1,"text-heading-md","font-medium","text-neutral-gray-6","w-full"],[1,"text-express-md","text-neutral-gray-5","w-full","text-center"],[1,"flex","items-center","gap-4","w-full","text-center","justify-center"],[1,"text-neutral-gray-5","text-body-md-short"],[1,"text-express-md","text-red-4","text-center"],[1,"text-express-md","text-red-4"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,Ao,56,9,"div",4),t.YNc(5,yn,66,15,"div",5),t.qZA()()(),t.TgZ(6,"div",6,7)(8,"div",8),t._UZ(9,"img",9),t.YNc(10,zd,2,1,"div",10),t.qZA(),t.YNc(11,Ar,18,6,"div",11),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("ngIf",i.stepMobile===i.StepMobile.QR),t.xp6(1),t.Q6J("ngIf",i.stepMobile===i.StepMobile.INFO||!i.isMobile),t.xp6(5),t.Q6J("ngIf",i.qrcodeSrc),t.xp6(1),t.Q6J("ngIf",i.depositData))},dependencies:[g.ez,g.O5,g.JJ,S.N8,S.Xq,Oa,v.AxE,v.Sm8,I.DW],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),ai=(()=>{class n{constructor(){this.getBeService=(e,i)=>{let a=0;return a+=((null==e?void 0:e.charges.filter(u=>"BE_SERVICE"===u.chargeType.code))||[]).reduce((u,d)=>u+(d.charge.total-d.charge.base),0),a}}initTicketCur(e){return{ticketSelected:e===re.VB.OneWay?[{ticketData:null,ticketPriceList:null,priceTotalByPassenger:0}]:[{ticketData:null,ticketPriceList:null,priceTotalByPassenger:0},{ticketData:null,ticketPriceList:null,priceTotalByPassenger:0}],totalPrice:0,idxTicketSelected:0}}convertSearchInputToRequest({adultCount:e,childCount:i,infantCount:a,journey:c,promotionCode:u}){return{adultCount:e||1,childCount:i||0,infantCount:a||0,flightsRequest:null!=c&&c.length?c.map(d=>Object.assign(Object.assign({},d),{departDate:vt(d.departDate).format("YYYY-MM-DD"),providers:d.airline||"VN,VJ,QH,VU,FLY_ONE,GDS,BSP,AIR_1G"})):[{startPoint:"",endPoint:"",departDate:"",providers:"VN,VJ,QH,VU,FLY_ONE,GDS,BSP,AIR_1G",leg:0}],promoCode:u,paxType:null!=c&&c.length?c[0].paxType:"",cabin:null!=c&&c.length?c[0].cabin:"ECONOMY"}}sumPriceTicket(e){return e.reduce((i,a)=>i+a.totalFare,0)}progressPriceList(e,i){let a=[];const{adultCount:c,childCount:u,infantCount:d}=e,f={ADULT:c,CHILD:u,INFANT:d};for(const _ in f){const m=f[_];if(m){const x=i.map(P=>{var R,$;return null!==(R=P.fareCur)&&void 0!==R&&R.fareAmountBreakdowns?null===($=P.fareCur)||void 0===$?void 0:$.fareAmountBreakdowns.find(Q=>Q.type===`${_}`):null}),E=x.reduce((P,R)=>P+(R?this.getBaseFare(R,i[0].airline):0),0),Z=x.reduce((P,R)=>P+(R?this.getSurCharge(R):0),0),D=x.reduce((P,R)=>P+(R?this.getBeService(R,i[0].airline):0),0);a.push({type:"ADULT"===_?"Ng\u01b0\u1eddi l\u1edbn (ADT)":"CHILD"===_?"Tr\u1ebb em (CHD)":"Em b\xe9 (INF)",code:"ADULT"===_?"ADT":"CHILD"===_?"CHD":"INF",quantity:m,baseFare:E,surCharge:Z,beService:D,discountAmount:i.reduce((P,R)=>P+(R.discountData?"ADULT"===_?Math.floor(E*(R.discountData.adtPercentage>0?R.discountData.adtPercentage/100:0))+R.discountData.adtAmount:"CHILD"===_?Math.floor(E*(R.discountData.chdPercentage>0?R.discountData.chdPercentage/100:0))+R.discountData.chdAmount:Math.floor(E*(R.discountData.infPercentage>0?R.discountData.infPercentage/100:0))+R.discountData.infAmount:0),0),totalFare:m*(E+Z),bagCharge:0,seatCharge:0})}}return a}getBaseFare(e,i){let a=0;return a+=((null==e?void 0:e.charges.filter(u=>"FARE"===u.chargeType.code))||[]).reduce((u,d)=>u+d.charge.base,0),a}getSurCharge(e){let i=0;const a=(null==e?void 0:e.charges.filter(u=>"FARE"!==u.chargeType.code))||[],c=(null==e?void 0:e.charges.filter(u=>"FARE"===u.chargeType.code))||[];return i+=a.reduce((u,d)=>u+d.charge.total,0),i+=c.reduce((u,d)=>u+(d.charge.total-d.charge.base),0),i}initModelAirPlanceOptions(e){const i=new Map;return e.forEach(({segments:a})=>{a.forEach(c=>{c.modelAirplaneName&&c.modelAirplane&&!i.has(c.modelAirplane)&&i.set(c.modelAirplane,{code:c.modelAirplane,name:c.modelAirplaneName,actived:!1})})}),Array.from(i.values())}initFareClassFilters(e){const i=new Map;return e.forEach(a=>{a.chosenFares.forEach(c=>{c.cabinName&&!i.has(c.cabinName.toUpperCase())&&i.set(c.cabinName.toUpperCase(),{code:c.cabinName.toUpperCase(),name:c.cabinName.toUpperCase(),actived:!1})})}),Array.from(i.values())}initTimeFilters(e,i){const a=i.map(c=>{const u=new Date(c.departure.localTime);return 60*u.getHours()+u.getMinutes()});return e.map(c=>Object.assign(Object.assign({},c),{disabled:!a.some(u=>u>=c.startTime&&u<=c.endTime),actived:!1}))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var qe=w(1787);let si=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"traceId",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"status",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"data",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"objectError",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"success",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"errorCode",void 0),n})();const zc={headers:new ue.WM({"Content-Type":"application/json"})};let wr=(()=>{class n{constructor(e,i,a){this.http=e,this.appConfig=i,this._recaptchaService=a}getExtraInfoOrder(e){return this._recaptchaService.getRecaptchaToken$().pipe((0,be.w)(i=>this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/get-extra-info-order",JSON.stringify({orderId:e,recaptcha:i}),zc)),(0,Be.U)(i=>(0,oe.yE)(si,i,{excludeExtraneousValues:!0})))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(ue.eN),t.LFG(Rt.qB),t.LFG(on.K))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ai=w(7579);const Cn=Object.create(null);Cn.open="0",Cn.close="1",Cn.ping="2",Cn.pong="3",Cn.message="4",Cn.upgrade="5",Cn.noop="6";const Do=Object.create(null);Object.keys(Cn).forEach(n=>{Do[Cn[n]]=n});const wo={type:"error",data:"parser error"},Br="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),jn="function"==typeof ArrayBuffer,Wc=n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Fn=({type:n,data:o},e,i)=>Br&&o instanceof Blob?e?i(o):Ya(o,i):jn&&(o instanceof ArrayBuffer||Wc(o))?e?i(o):Ya(new Blob([o]),i):i(Cn[n]+(o||"")),Ya=(n,o)=>{const e=new FileReader;return e.onload=function(){const i=e.result.split(",")[1];o("b"+(i||""))},e.readAsDataURL(n)};function Qa(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let Bo;const $i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Zo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<$i.length;n++)Zo[$i.charCodeAt(n)]=n;const tp="function"==typeof ArrayBuffer,Zr=(n,o)=>{if("string"!=typeof n)return{type:"message",data:Ye(n,o)};const e=n.charAt(0);return"b"===e?{type:"message",data:tl(n.substring(1),o)}:Do[e]?n.length>1?{type:Do[e],data:n.substring(1)}:{type:Do[e]}:wo},tl=(n,o)=>{if(tp){const e=(n=>{let i,c,u,d,f,o=.75*n.length,e=n.length,a=0;"="===n[n.length-1]&&(o--,"="===n[n.length-2]&&o--);const _=new ArrayBuffer(o),m=new Uint8Array(_);for(i=0;i<e;i+=4)c=Zo[n.charCodeAt(i)],u=Zo[n.charCodeAt(i+1)],d=Zo[n.charCodeAt(i+2)],f=Zo[n.charCodeAt(i+3)],m[a++]=c<<2|u>>4,m[a++]=(15&u)<<4|d>>2,m[a++]=(3&d)<<6|63&f;return _})(n);return Ye(e,o)}return{base64:!0,data:n}},Ye=(n,o)=>"blob"===o?n instanceof Blob?n:new Blob([n]):n instanceof ArrayBuffer?n:n.buffer,kn=String.fromCharCode(30);let ci;function Io(n){return n.reduce((o,e)=>o+e.length,0)}function So(n,o){if(n[0].length===o)return n.shift();const e=new Uint8Array(o);let i=0;for(let a=0;a<o;a++)e[a]=n[0][i++],i===n[0].length&&(n.shift(),i=0);return n.length&&i<n[0].length&&(n[0]=n[0].slice(i)),e}function me(n){if(n)return function Fo(n){for(var o in me.prototype)n[o]=me.prototype[o];return n}(n)}me.prototype.on=me.prototype.addEventListener=function(n,o){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(o),this},me.prototype.once=function(n,o){function e(){this.off(n,e),o.apply(this,arguments)}return e.fn=o,this.on(n,e),this},me.prototype.off=me.prototype.removeListener=me.prototype.removeAllListeners=me.prototype.removeEventListener=function(n,o){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var e=this._callbacks["$"+n];if(!e)return this;if(1==arguments.length)return delete this._callbacks["$"+n],this;for(var i,a=0;a<e.length;a++)if((i=e[a])===o||i.fn===o){e.splice(a,1);break}return 0===e.length&&delete this._callbacks["$"+n],this},me.prototype.emitReserved=me.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var o=new Array(arguments.length-1),e=this._callbacks["$"+n],i=1;i<arguments.length;i++)o[i-1]=arguments[i];if(e){i=0;for(var a=(e=e.slice(0)).length;i<a;++i)e[i].apply(this,o)}return this},me.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},me.prototype.hasListeners=function(n){return!!this.listeners(n).length};const Sr="function"==typeof Promise&&"function"==typeof Promise.resolve?o=>Promise.resolve().then(o):(o,e)=>e(o,0),ln=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function Ka(n,...o){return o.reduce((e,i)=>(n.hasOwnProperty(i)&&(e[i]=n[i]),e),{})}const Fr=ln.setTimeout,$a=ln.clearTimeout;function Di(n,o){o.useNativeTimers?(n.setTimeoutFn=Fr.bind(ln),n.clearTimeoutFn=$a.bind(ln)):(n.setTimeoutFn=ln.setTimeout.bind(ln),n.clearTimeoutFn=ln.clearTimeout.bind(ln))}const op=1.33;function nl(n){return"string"==typeof n?function Nr(n){let o=0,e=0;for(let i=0,a=n.length;i<a;i++)o=n.charCodeAt(i),o<128?e+=1:o<2048?e+=2:o<55296||o>=57344?e+=3:(i++,e+=4);return e}(n):Math.ceil((n.byteLength||n.size)*op)}function Va(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class il extends Error{constructor(o,e,i){super(o),this.description=e,this.context=i,this.type="TransportError"}}class An extends me{constructor(o){super(),this.writable=!1,Di(this,o),this.opts=o,this.query=o.query,this.socket=o.socket,this.supportsBinary=!o.forceBase64}onError(o,e,i){return super.emitReserved("error",new il(o,e,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(o){"open"===this.readyState&&this.write(o)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(o){const e=Zr(o,this.socket.binaryType);this.onPacket(e)}onPacket(o){super.emitReserved("packet",o)}onClose(o){this.readyState="closed",super.emitReserved("close",o)}pause(o){}createUri(o,e={}){return o+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const o=this.opts.hostname;return-1===o.indexOf(":")?o:"["+o+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(o){const e=function za(n){let o="";for(let e in n)n.hasOwnProperty(e)&&(o.length&&(o+="&"),o+=encodeURIComponent(e)+"="+encodeURIComponent(n[e]));return o}(o);return e.length?"?"+e:""}}class ol extends An{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(o){this.readyState="pausing";const e=()=>{this.readyState="paused",o()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||e()})),this.writable||(i++,this.once("drain",function(){--i||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(o){((n,o)=>{const e=n.split(kn),i=[];for(let a=0;a<e.length;a++){const c=Zr(e[a],o);if(i.push(c),"error"===c.type)break}return i})(o,this.socket.binaryType).forEach(i=>{if("opening"===this.readyState&&"open"===i.type&&this.onOpen(),"close"===i.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const o=()=>{this.write([{type:"close"}])};"open"===this.readyState?o():this.once("open",o)}write(o){this.writable=!1,((n,o)=>{const e=n.length,i=new Array(e);let a=0;n.forEach((c,u)=>{Fn(c,!1,d=>{i[u]=d,++a===e&&o(i.join(kn))})})})(o,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const o=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=Va()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(o,e)}}let Wa=!1;try{Wa=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ap=Wa;function rl(){}class sp extends ol{constructor(o){if(super(o),typeof location<"u"){const e="https:"===location.protocol;let i=location.port;i||(i=e?"443":"80"),this.xd=typeof location<"u"&&o.hostname!==location.hostname||i!==o.port}}doWrite(o,e){const i=this.request({method:"POST",data:o});i.on("success",e),i.on("error",(a,c)=>{this.onError("xhr post error",a,c)})}doPoll(){const o=this.request();o.on("data",this.onData.bind(this)),o.on("error",(e,i)=>{this.onError("xhr poll error",e,i)}),this.pollXhr=o}}let Or=(()=>{class n extends me{constructor(e,i,a){super(),this.createRequest=e,Di(this,a),this._opts=a,this._method=a.method||"GET",this._uri=i,this._data=void 0!==a.data?a.data:null,this._create()}_create(){var e;const i=Ka(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(i);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let c in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(c)&&a.setRequestHeader(c,this._opts.extraHeaders[c])}}catch{}if("POST"===this._method)try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var c;3===a.readyState&&(null===(c=this._opts.cookieJar)||void 0===c||c.parseCookies(a.getResponseHeader("set-cookie"))),4===a.readyState&&(200===a.status||1223===a.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof a.status?a.status:0)},0))},a.send(this._data)}catch(c){return void this.setTimeoutFn(()=>{this._onError(c)},0)}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||null===this._xhr)){if(this._xhr.onreadystatechange=rl,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();function Nn(){for(let n in Or.requests)Or.requests.hasOwnProperty(n)&&Or.requests[n].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",Nn):"function"==typeof addEventListener&&addEventListener("onpagehide"in ln?"pagehide":"unload",Nn,!1));const Xa=function(){const n=Pr({xdomain:!1});return n&&null!==n.responseType}();function Pr(n){const o=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!o||ap))return new XMLHttpRequest}catch{}if(!o)try{return new(ln[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}const No=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Vi extends An{get name(){return"websocket"}doOpen(){const o=this.uri(),e=this.opts.protocols,i=No?{}:Ka(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(o,e,i)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=o=>this.onClose({description:"websocket connection closed",context:o}),this.ws.onmessage=o=>this.onData(o.data),this.ws.onerror=o=>this.onError("websocket error",o)}write(o){this.writable=!1;for(let e=0;e<o.length;e++){const i=o[e],a=e===o.length-1;Fn(i,this.supportsBinary,c=>{try{this.doWrite(i,c)}catch{}a&&Sr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const o=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=Va()),this.supportsBinary||(e.b64=1),this.createUri(o,e)}}const Dt=ln.WebSocket||ln.MozWebSocket,wi={websocket:class Rr extends Vi{createSocket(o,e,i){return No?new Dt(o,e,i):e?new Dt(o,e):new Dt(o)}doWrite(o,e){this.ws.send(e)}},webtransport:class es extends An{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(o){return this.emitReserved("error",o)}this._transport.closed.then(()=>{this.onClose()}).catch(o=>{this.onError("webtransport error",o)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(o=>{const e=function ip(n,o){ci||(ci=new TextDecoder);const e=[];let i=0,a=-1,c=!1;return new TransformStream({transform(u,d){for(e.push(u);;){if(0===i){if(Io(e)<1)break;const f=So(e,1);c=128==(128&f[0]),a=127&f[0],i=a<126?3:126===a?1:2}else if(1===i){if(Io(e)<2)break;const f=So(e,2);a=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),i=3}else if(2===i){if(Io(e)<8)break;const f=So(e,8),_=new DataView(f.buffer,f.byteOffset,f.length),m=_.getUint32(0);if(m>Math.pow(2,21)-1){d.enqueue(wo);break}a=m*Math.pow(2,32)+_.getUint32(4),i=3}else{if(Io(e)<a)break;const f=So(e,a);d.enqueue(Zr(c?f:ci.decode(f),o)),i=0}if(0===a||a>n){d.enqueue(wo);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=o.readable.pipeThrough(e).getReader(),a=function Ir(){return new TransformStream({transform(n,o){!function Wd(n,o){Br&&n.data instanceof Blob?n.data.arrayBuffer().then(Qa).then(o):jn&&(n.data instanceof ArrayBuffer||Wc(n.data))?o(Qa(n.data)):Fn(n,!1,e=>{Bo||(Bo=new TextEncoder),o(Bo.encode(e))})}(n,e=>{const i=e.length;let a;if(i<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,i);else if(i<65536){a=new Uint8Array(3);const c=new DataView(a.buffer);c.setUint8(0,126),c.setUint16(1,i)}else{a=new Uint8Array(9);const c=new DataView(a.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(i))}n.data&&"string"!=typeof n.data&&(a[0]|=128),o.enqueue(a),o.enqueue(e)})}})}();a.readable.pipeTo(o.writable),this._writer=a.writable.getWriter();const c=()=>{i.read().then(({done:d,value:f})=>{d||(this.onPacket(f),c())}).catch(d=>{})};c();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(o){this.writable=!1;for(let e=0;e<o.length;e++){const a=e===o.length-1;this._writer.write(o[e]).then(()=>{a&&Sr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var o;null===(o=this._transport)||void 0===o||o.close()}},polling:class ts extends sp{constructor(o){super(o),this.supportsBinary=Xa&&!(o&&o.forceBase64)}request(o={}){return Object.assign(o,{xd:this.xd},this.opts),new Or(Pr,this.uri(),o)}}},cp=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ns=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Lr(n){if(n.length>8e3)throw"URI too long";const o=n,e=n.indexOf("["),i=n.indexOf("]");-1!=e&&-1!=i&&(n=n.substring(0,e)+n.substring(e,i).replace(/:/g,";")+n.substring(i,n.length));let a=cp.exec(n||""),c={},u=14;for(;u--;)c[ns[u]]=a[u]||"";return-1!=e&&-1!=i&&(c.source=o,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=function Ue(n,o){const i=o.replace(/\/{2,9}/g,"/").split("/");return("/"==o.slice(0,1)||0===o.length)&&i.splice(0,1),"/"==o.slice(-1)&&i.splice(i.length-1,1),i}(0,c.path),c.queryKey=function lp(n,o){const e={};return o.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,a,c){a&&(e[a]=c)}),e}(0,c.query),c}const is="function"==typeof addEventListener&&"function"==typeof removeEventListener,Oo=[];is&&addEventListener("offline",()=>{Oo.forEach(n=>n())},!1);let os=(()=>{class n extends me{constructor(e,i){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"==typeof e&&(i=e,e=null),e){const a=Lr(e);i.hostname=a.host,i.secure="https"===a.protocol||"wss"===a.protocol,i.port=a.port,a.query&&(i.query=a.query)}else i.host&&(i.hostname=Lr(i.host).host);Di(this,i),this.secure=null!=i.secure?i.secure:typeof location<"u"&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},i.transports.forEach(a=>{const c=a.prototype.name;this.transports.push(c),this._transportsByName[c]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function rp(n){let o={},e=n.split("&");for(let i=0,a=e.length;i<a;i++){let c=e[i].split("=");o[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return o}(this.opts.query)),is&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Oo.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const i=Object.assign({},this.opts.query);i.EIO=4,i.transport=e,this.id&&(i.sid=this.id);const a=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](a)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const i=this.createTransport(e);i.open(),this.setTransport(i)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",i=>this._onClose("transport close",i))}onOpen(){this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const i=new Error("server error");i.code=e.data,this._onError(i);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let a=0;a<this.writeBuffer.length;a++){const c=this.writeBuffer[a].data;if(c&&(i+=nl(c)),a>0&&i>this._maxPayload)return this.writeBuffer.slice(0,a);i+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Sr(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,i,a){return this._sendPacket("message",e,i,a),this}send(e,i,a){return this._sendPacket("message",e,i,a),this}_sendPacket(e,i,a,c){if("function"==typeof i&&(c=i,i=void 0),"function"==typeof a&&(c=a,a=null),"closing"===this.readyState||"closed"===this.readyState)return;(a=a||{}).compress=!1!==a.compress;const u={type:e,data:i,options:a};this.emitReserved("packetCreate",u),this.writeBuffer.push(u),c&&this.once("flush",c),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),e()},a=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():e()}):this.upgrading?a():e()),this}_onError(e){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,i){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),is&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=Oo.indexOf(this._offlineEventListener);-1!==a&&Oo.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,i),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=4,n})();class al extends os{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let o=0;o<this._upgrades.length;o++)this._probe(this._upgrades[o])}_probe(o){let e=this.createTransport(o),i=!1;os.priorWebsocketSuccess=!1;const a=()=>{i||(e.send([{type:"ping",data:"probe"}]),e.once("packet",x=>{if(!i)if("pong"===x.type&&"probe"===x.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;os.priorWebsocketSuccess="websocket"===e.name,this.transport.pause(()=>{i||"closed"!==this.readyState&&(m(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{const E=new Error("probe error");E.transport=e.name,this.emitReserved("upgradeError",E)}}))};function c(){i||(i=!0,m(),e.close(),e=null)}const u=x=>{const E=new Error("probe error: "+x);E.transport=e.name,c(),this.emitReserved("upgradeError",E)};function d(){u("transport closed")}function f(){u("socket closed")}function _(x){e&&x.name!==e.name&&c()}const m=()=>{e.removeListener("open",a),e.removeListener("error",u),e.removeListener("close",d),this.off("close",f),this.off("upgrading",_)};e.once("open",a),e.once("error",u),e.once("close",d),this.once("close",f),this.once("upgrading",_),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==o?this.setTimeoutFn(()=>{i||e.open()},200):e.open()}onHandshake(o){this._upgrades=this._filterUpgrades(o.upgrades),super.onHandshake(o)}_filterUpgrades(o){const e=[];for(let i=0;i<o.length;i++)~this.transports.indexOf(o[i])&&e.push(o[i]);return e}}class sl extends al{constructor(o,e={}){const i="object"==typeof o?o:e;(!i.transports||i.transports&&"string"==typeof i.transports[0])&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(a=>wi[a]).filter(a=>!!a)),super(o,i)}}const Qe="function"==typeof ArrayBuffer,rs=n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,cl=Object.prototype.toString,as="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===cl.call(Blob),up="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===cl.call(File);function ss(n){return Qe&&(n instanceof ArrayBuffer||rs(n))||as&&n instanceof Blob||up&&n instanceof File}function li(n,o){if(!n||"object"!=typeof n)return!1;if(Array.isArray(n)){for(let e=0,i=n.length;e<i;e++)if(li(n[e]))return!0;return!1}if(ss(n))return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return li(n.toJSON(),!0);for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&li(n[e]))return!0;return!1}function ll(n){const o=[],i=n;return i.data=qr(n.data,o),i.attachments=o.length,{packet:i,buffers:o}}function qr(n,o){if(!n)return n;if(ss(n)){const e={_placeholder:!0,num:o.length};return o.push(n),e}if(Array.isArray(n)){const e=new Array(n.length);for(let i=0;i<n.length;i++)e[i]=qr(n[i],o);return e}if("object"==typeof n&&!(n instanceof Date)){const e={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=qr(n[i],o));return e}return n}function dp(n,o){return n.data=cs(n.data,o),delete n.attachments,n}function cs(n,o){if(!n)return n;if(n&&!0===n._placeholder){if("number"==typeof n.num&&n.num>=0&&n.num<o.length)return o[n.num];throw new Error("illegal attachments")}if(Array.isArray(n))for(let e=0;e<n.length;e++)n[e]=cs(n[e],o);else if("object"==typeof n)for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(n[e]=cs(n[e],o));return n}const pp=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],gp=5;var zt=(()=>{return(n=zt||(zt={}))[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",zt;var n})();class ul{constructor(o){this.replacer=o}encode(o){return o.type!==zt.EVENT&&o.type!==zt.ACK||!li(o)?[this.encodeAsString(o)]:this.encodeAsBinary({type:o.type===zt.EVENT?zt.BINARY_EVENT:zt.BINARY_ACK,nsp:o.nsp,data:o.data,id:o.id})}encodeAsString(o){let e=""+o.type;return(o.type===zt.BINARY_EVENT||o.type===zt.BINARY_ACK)&&(e+=o.attachments+"-"),o.nsp&&"/"!==o.nsp&&(e+=o.nsp+","),null!=o.id&&(e+=o.id),null!=o.data&&(e+=JSON.stringify(o.data,this.replacer)),e}encodeAsBinary(o){const e=ll(o),i=this.encodeAsString(e.packet),a=e.buffers;return a.unshift(i),a}}function dl(n){return"[object Object]"===Object.prototype.toString.call(n)}class Po extends me{constructor(o){super(),this.reviver=o}add(o){let e;if("string"==typeof o){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(o);const i=e.type===zt.BINARY_EVENT;i||e.type===zt.BINARY_ACK?(e.type=i?zt.EVENT:zt.ACK,this.reconstructor=new pl(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!ss(o)&&!o.base64)throw new Error("Unknown type: "+o);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(o),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(o){let e=0;const i={type:Number(o.charAt(0))};if(void 0===zt[i.type])throw new Error("unknown packet type "+i.type);if(i.type===zt.BINARY_EVENT||i.type===zt.BINARY_ACK){const c=e+1;for(;"-"!==o.charAt(++e)&&e!=o.length;);const u=o.substring(c,e);if(u!=Number(u)||"-"!==o.charAt(e))throw new Error("Illegal attachments");i.attachments=Number(u)}if("/"===o.charAt(e+1)){const c=e+1;for(;++e&&","!==o.charAt(e)&&e!==o.length;);i.nsp=o.substring(c,e)}else i.nsp="/";const a=o.charAt(e+1);if(""!==a&&Number(a)==a){const c=e+1;for(;++e;){const u=o.charAt(e);if(null==u||Number(u)!=u){--e;break}if(e===o.length)break}i.id=Number(o.substring(c,e+1))}if(o.charAt(++e)){const c=this.tryParse(o.substr(e));if(!Po.isPayloadValid(i.type,c))throw new Error("invalid payload");i.data=c}return i}tryParse(o){try{return JSON.parse(o,this.reviver)}catch{return!1}}static isPayloadValid(o,e){switch(o){case zt.CONNECT:return dl(e);case zt.DISCONNECT:return void 0===e;case zt.CONNECT_ERROR:return"string"==typeof e||dl(e);case zt.EVENT:case zt.BINARY_EVENT:return Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0]&&-1===pp.indexOf(e[0]));case zt.ACK:case zt.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class pl{constructor(o){this.packet=o,this.buffers=[],this.reconPack=o}takeBinaryData(o){if(this.buffers.push(o),this.buffers.length===this.reconPack.attachments){const e=dp(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function He(n,o,e){return n.on(o,e),function(){n.off(o,e)}}const ls=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class us extends me{constructor(o,e,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=o,this.nsp=e,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const o=this.io;this.subs=[He(o,"open",this.onopen.bind(this)),He(o,"packet",this.onpacket.bind(this)),He(o,"error",this.onerror.bind(this)),He(o,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...o){return o.unshift("message"),this.emit.apply(this,o),this}emit(o,...e){var i,a,c;if(ls.hasOwnProperty(o))throw new Error('"'+o.toString()+'" is a reserved event name');if(e.unshift(o),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const u={type:zt.EVENT,data:e,options:{}};if(u.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const m=this.ids++,x=e.pop();this._registerAckCallback(m,x),u.id=m}const d=null===(a=null===(i=this.io.engine)||void 0===i?void 0:i.transport)||void 0===a?void 0:a.writable,f=this.connected&&!(null!==(c=this.io.engine)&&void 0!==c&&c._hasPingExpired());return this.flags.volatile&&!d||(f?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(o,e){var i;const a=null!==(i=this.flags.timeout)&&void 0!==i?i:this._opts.ackTimeout;if(void 0===a)return void(this.acks[o]=e);const c=this.io.setTimeoutFn(()=>{delete this.acks[o];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===o&&this.sendBuffer.splice(d,1);e.call(this,new Error("operation has timed out"))},a),u=(...d)=>{this.io.clearTimeoutFn(c),e.apply(this,d)};u.withError=!0,this.acks[o]=u}emitWithAck(o,...e){return new Promise((i,a)=>{const c=(u,d)=>u?a(u):i(d);c.withError=!0,e.push(c),this.emit(o,...e)})}_addToQueue(o){let e;"function"==typeof o[o.length-1]&&(e=o.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:o,flags:Object.assign({fromQueue:!0},this.flags)};o.push((a,...c)=>i!==this._queue[0]?void 0:(null!==a?i.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(a)):(this._queue.shift(),e&&e(null,...c)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(o=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!o||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(o){o.nsp=this.nsp,this.io._packet(o)}onopen(){"function"==typeof this.auth?this.auth(o=>{this._sendConnectPacket(o)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(o){this.packet({type:zt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},o):o})}onerror(o){this.connected||this.emitReserved("connect_error",o)}onclose(o,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",o,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(o=>{if(!this.sendBuffer.some(i=>String(i.id)===o)){const i=this.acks[o];delete this.acks[o],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(o){if(o.nsp===this.nsp)switch(o.type){case zt.CONNECT:o.data&&o.data.sid?this.onconnect(o.data.sid,o.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case zt.EVENT:case zt.BINARY_EVENT:this.onevent(o);break;case zt.ACK:case zt.BINARY_ACK:this.onack(o);break;case zt.DISCONNECT:this.ondisconnect();break;case zt.CONNECT_ERROR:this.destroy();const i=new Error(o.data.message);i.data=o.data.data,this.emitReserved("connect_error",i)}}onevent(o){const e=o.data||[];null!=o.id&&e.push(this.ack(o.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(o){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const i of e)i.apply(this,o)}super.emit.apply(this,o),this._pid&&o.length&&"string"==typeof o[o.length-1]&&(this._lastOffset=o[o.length-1])}ack(o){const e=this;let i=!1;return function(...a){i||(i=!0,e.packet({type:zt.ACK,id:o,data:a}))}}onack(o){const e=this.acks[o.id];"function"==typeof e&&(delete this.acks[o.id],e.withError&&o.data.unshift(null),e.apply(this,o.data))}onconnect(o,e){this.id=o,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(o=>this.emitEvent(o)),this.receiveBuffer=[],this.sendBuffer.forEach(o=>{this.notifyOutgoingListeners(o),this.packet(o)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(o=>o()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:zt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(o){return this.flags.compress=o,this}get volatile(){return this.flags.volatile=!0,this}timeout(o){return this.flags.timeout=o,this}onAny(o){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(o),this}prependAny(o){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(o),this}offAny(o){if(!this._anyListeners)return this;if(o){const e=this._anyListeners;for(let i=0;i<e.length;i++)if(o===e[i])return e.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(o){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(o),this}prependAnyOutgoing(o){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(o),this}offAnyOutgoing(o){if(!this._anyOutgoingListeners)return this;if(o){const e=this._anyOutgoingListeners;for(let i=0;i<e.length;i++)if(o===e[i])return e.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(o){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const i of e)i.apply(this,o.data)}}}function Bi(n){this.ms=(n=n||{}).min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}Bi.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var o=Math.random(),e=Math.floor(o*this.jitter*n);n=1&Math.floor(10*o)?n+e:n-e}return 0|Math.min(n,this.max)},Bi.prototype.reset=function(){this.attempts=0},Bi.prototype.setMin=function(n){this.ms=n},Bi.prototype.setMax=function(n){this.max=n},Bi.prototype.setJitter=function(n){this.jitter=n};class zi extends me{constructor(o,e){var i;super(),this.nsps={},this.subs=[],o&&"object"==typeof o&&(e=o,o=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,Di(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(i=e.randomizationFactor)&&void 0!==i?i:.5),this.backoff=new Bi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=o;const a=e.parser||q;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(o){return arguments.length?(this._reconnection=!!o,o||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(o){return void 0===o?this._reconnectionAttempts:(this._reconnectionAttempts=o,this)}reconnectionDelay(o){var e;return void 0===o?this._reconnectionDelay:(this._reconnectionDelay=o,null===(e=this.backoff)||void 0===e||e.setMin(o),this)}randomizationFactor(o){var e;return void 0===o?this._randomizationFactor:(this._randomizationFactor=o,null===(e=this.backoff)||void 0===e||e.setJitter(o),this)}reconnectionDelayMax(o){var e;return void 0===o?this._reconnectionDelayMax:(this._reconnectionDelayMax=o,null===(e=this.backoff)||void 0===e||e.setMax(o),this)}timeout(o){return arguments.length?(this._timeout=o,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(o){if(~this._readyState.indexOf("open"))return this;this.engine=new sl(this.uri,this.opts);const e=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const a=He(e,"open",function(){i.onopen(),o&&o()}),c=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),o?o(d):this.maybeReconnectOnOpen()},u=He(e,"error",c);if(!1!==this._timeout){const f=this.setTimeoutFn(()=>{a(),c(new Error("timeout")),e.close()},this._timeout);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(a),this.subs.push(u),this}connect(o){return this.open(o)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const o=this.engine;this.subs.push(He(o,"ping",this.onping.bind(this)),He(o,"data",this.ondata.bind(this)),He(o,"error",this.onerror.bind(this)),He(o,"close",this.onclose.bind(this)),He(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(o){try{this.decoder.add(o)}catch(e){this.onclose("parse error",e)}}ondecoded(o){Sr(()=>{this.emitReserved("packet",o)},this.setTimeoutFn)}onerror(o){this.emitReserved("error",o)}socket(o,e){let i=this.nsps[o];return i?this._autoConnect&&!i.active&&i.connect():(i=new us(this,o,e),this.nsps[o]=i),i}_destroy(o){const e=Object.keys(this.nsps);for(const i of e)if(this.nsps[i].active)return;this._close()}_packet(o){const e=this.encoder.encode(o);for(let i=0;i<e.length;i++)this.engine.write(e[i],o.options)}cleanup(){this.subs.forEach(o=>o()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(o,e){var i;this.cleanup(),null===(i=this.engine)||void 0===i||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",o,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const o=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{o.skipReconnect||(this.emitReserved("reconnect_attempt",o.backoff.attempts),!o.skipReconnect&&o.open(a=>{a?(o._reconnecting=!1,o.reconnect(),this.emitReserved("reconnect_error",a)):o.onreconnect()}))},e);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const o=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",o)}}const Wi={};function un(n,o){"object"==typeof n&&(o=n,n=void 0);const e=function Yn(n,o="",e){let i=n;e=e||typeof location<"u"&&location,null==n&&(n=e.protocol+"//"+e.host),"string"==typeof n&&("/"===n.charAt(0)&&(n="/"===n.charAt(1)?e.protocol+n:e.host+n),/^(https?|wss?):\/\//.test(n)||(n=typeof e<"u"?e.protocol+"//"+n:"https://"+n),i=Lr(n)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const c=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+c+":"+i.port+o,i.href=i.protocol+"://"+c+(e&&e.port===i.port?"":":"+i.port),i}(n,(o=o||{}).path||"/socket.io"),i=e.source,a=e.id;let f;return o.forceNew||o["force new connection"]||!1===o.multiplex||Wi[a]&&e.path in Wi[a].nsps?f=new zi(i,o):(Wi[a]||(Wi[a]=new zi(i,o)),f=Wi[a]),e.query&&!o.query&&(o.query=e.queryKey),f.socket(e.path,o)}Object.assign(un,{Manager:zi,Socket:us,io:un,connect:un});var Se=w(7489);const ds={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var Ur,_p=new Uint8Array(16);function hp(){if(!Ur&&!(Ur=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ur(_p)}for(var Pe=[],ps=0;ps<256;++ps)Pe.push((ps+256).toString(16).slice(1));const fl=function mp(n,o,e){if(ds.randomUUID&&!o&&!n)return ds.randomUUID();var i=(n=n||{}).random||(n.rng||hp)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,o){e=e||0;for(var a=0;a<16;++a)o[e+a]=i[a];return o}return function gl(n,o=0){return(Pe[n[o+0]]+Pe[n[o+1]]+Pe[n[o+2]]+Pe[n[o+3]]+"-"+Pe[n[o+4]]+Pe[n[o+5]]+"-"+Pe[n[o+6]]+Pe[n[o+7]]+"-"+Pe[n[o+8]]+Pe[n[o+9]]+"-"+Pe[n[o+10]]+Pe[n[o+11]]+Pe[n[o+12]]+Pe[n[o+13]]+Pe[n[o+14]]+Pe[n[o+15]]).toLowerCase()}(i)};let _l=(()=>{class n{constructor(){this.clientKey=sessionStorage.getItem("clientKey")}getClientKey(){return this.clientKey||(this.clientKey=(0,Se.cloneDeep)("PUBLIC"+fl()),sessionStorage.setItem("clientKey",this.clientKey)),this.clientKey}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hl=(()=>{class n{constructor(e,i){this.appConfig=e,this.clientKeyBtcSvc=i,this.paymentEvent$=new Ai.x,this.ticketIssuedSuccessfully$=new Ai.x,this.ticketIssuedFailed$=new Ai.x,console.log("Init btc socket payment service")}initializeWebSocketConnection(){(!this.socket||this.socket.disconnected)&&(this.socket=un(this.appConfig.socketUrl+"notification",{extraHeaders:{clientKey:this.clientKeyBtcSvc.getClientKey()}}),this.socket.on("connect",()=>{console.log("Socket connected")}),this.socket.on("receive_message",e=>{console.log("Nh\u1eadn \u0111\u01b0\u1ee3c tin nh\u1eafn : ",e),this.sendMessageToUser(e)}),this.socket.on("disconnect",()=>{console.log("Socket disconnected")}))}sendMessageToUser(e){var i=this;return(0,ye.Z)(function*(){switch(e.cmd){case 1014:yield i.ProgressPaymentSuccess(e);break;case 1015:i.ProgressTicketIssuedSuccessfully(e);break;case 1016:i.ProgressPaymentFailed(e)}})()}ProgressPaymentSuccess(e){var i=this;return(0,ye.Z)(function*(){i.paymentEvent$.next(e)})()}ProgressPaymentFailed(e){var i=this;return(0,ye.Z)(function*(){i.ticketIssuedFailed$.next(e)})()}ProgressTicketIssuedSuccessfully(e){var i=this;return(0,ye.Z)(function*(){i.ticketIssuedSuccessfully$.next(e)})()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Rt.qB),t.LFG(_l))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mr=(()=>{class n{constructor(e,i){this.http=e,this.appConfig=i,this.TELEGRAM_TOKEN="7618107283:AAHP5JwrCEzQWpBriHd9-VNvI4-gpJ31LGM",this.CHAT_ID="1639504837",this.TELEGRAM_API=`https://api.telegram.org/bot${this.TELEGRAM_TOKEN}/sendMessage`,this.TELEGRAM_API_SEND_DOC=`https://api.telegram.org/bot${this.TELEGRAM_TOKEN}/sendDocument`}notify(e){if("PRODUCTION"===this.appConfig.env)return this.http.post(this.TELEGRAM_API,{chat_id:this.CHAT_ID,text:e,parse_mode:"Markdown"}).subscribe({next:()=>console.log("\u2705 G\u1eedi Telegram th\xe0nh c\xf4ng"),error:a=>console.error("\u274c L\u1ed7i g\u1eedi Telegram",a)})}notifyJson(e,i){if("PRODUCTION"!==this.appConfig.env)return;const a=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),c=new File([a],e,{type:"application/json"}),u=new FormData;return u.append("chat_id",this.CHAT_ID),u.append("document",c),this.http.post(this.TELEGRAM_API_SEND_DOC,u).subscribe({next:()=>console.log("\u2705 G\u1eedi file JSON Telegram th\xe0nh c\xf4ng"),error:d=>console.error("\u274c L\u1ed7i g\u1eedi file Telegram",d)})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(ue.eN),t.LFG(Rt.qB))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Jr=w(7492);const vp=["boardingPassGraphicRef"];function xp(n,o){if(1&n&&(t.TgZ(0,"div",80),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.bookingData.booking.orderInfo.orderId," ")}}function yp(n,o){if(1&n&&(t.TgZ(0,"div",79)(1,"div",16),t._uU(2," M\xe3 \u0111\u01a1n h\xe0ng "),t.qZA(),t.YNc(3,xp,2,1,"div",17),t.qZA()),2&n){const e=t.oxw(),i=t.MAs(140);t.xp6(3),t.Q6J("ngIf",null==e.bookingData||null==e.bookingData.booking?null:e.bookingData.booking.orderInfo)("ngIfElse",i)}}function ml(n,o){if(1&n&&(t.TgZ(0,"div",80),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.bookingData.booking.orderInfo.totalPrice),",",".")," \u0111 ")}}function Cp(n,o){if(1&n&&(t.TgZ(0,"div",83),t._UZ(1,"cf-icon",84),t.TgZ(2,"span",85),t._uU(3),t.qZA()()),2&n){const e=o.ngIf;t.Q6J("ngClass",e.bgColor),t.xp6(1),t.Q6J("icon",e.icon),t.xp6(2),t.hij(" ",e.name," ")}}function bp(n,o){if(1&n&&(t.TgZ(0,"div",81),t.YNc(1,Cp,4,3,"div",82),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.configStatus[e.bookingData.booking.orderInfo.state])}}function Tp(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" 1. Qu\xfd kh\xe1ch vui l\xf2ng ti\u1ebfn h\xe0nh thanh to\xe1n, \u0111\u01a1n h\xe0ng s\u1ebd t\u1ef1 \u0111\u1ed9ng h\u1ee7y n\u1ebfu kh\xf4ng thanh to\xe1n tr\u01b0\u1edbc th\u1eddi gian ",t.xi3(2,1,e.bookingData.booking.orderInfo.timeExpire,"dd/MM/yyy HH:mm")||"N/A",". ")}}function Ep(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1," 1. Qu\xfd kh\xe1ch vui l\xf2ng ch\u1ecdn ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n. "),t.qZA())}function kp(n,o){if(1&n&&(t.TgZ(0,"div",86),t.YNc(1,Tp,3,4,"div",22),t.YNc(2,Ep,2,0,"div",22),t.TgZ(3,"span"),t._uU(4," 2. Li\xean h\u1ec7 t\u1ed5ng \u0111\xe0i "),t.TgZ(5,"b"),t._uU(6,"1900 866 657"),t.qZA(),t._uU(7," \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 khi c\u1ea7n thi\u1ebft "),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isConfirmPayment),t.xp6(1),t.Q6J("ngIf",!e.isConfirmPayment)}}function Ap(n,o){1&n&&(t.TgZ(0,"div",86)(1,"div"),t._uU(2," 1. Qu\xfd kh\xe1ch vui l\xf2ng ch\u1edd trong gi\xe2y l\xe1t, h\u1ec7 th\u1ed1ng \u0111ang x\u1eed l\xfd v\xe9 cho kh\xe1ch. "),t.qZA(),t.TgZ(3,"div"),t._uU(4," 2. Khi xu\u1ea5t v\xe9 th\xe0nh c\xf4ng, ch\xfang t\xf4i s\u1ebd th\xf4ng b\xe1o qua email v\xe0 tin nh\u1eafn zalo. "),t.qZA(),t.TgZ(5,"div"),t._uU(6," 3. Vui l\xf2ng ki\u1ec3m tra email \u0111\u1ec3 xem x\xe1c nh\u1eadn thanh to\xe1n v\xe0 chi ti\u1ebft \u0111\u01a1n h\xe0ng. "),t.qZA(),t.TgZ(7,"div"),t._uU(8," 4. Li\xean h\u1ec7 t\u1ed5ng \u0111\xe0i 1900 866 657 \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 khi c\u1ea7n thi\u1ebft. "),t.qZA(),t.TgZ(9,"div"),t._uU(10," 5. Ki\u1ec3m tra tr\u1ea1ng th\xe1i \u0111\u01a1n h\xe0ng t\u1ea1i "),t.TgZ(11,"a",87),t._uU(12,"giacmobayre.vn/tra-cuu-don-hang.html"),t.qZA()()())}function bn(n,o){1&n&&(t.TgZ(0,"div",86)(1,"div"),t._uU(2," 1. H\u1ec7 th\u1ed1ng \u0111\xe3 x\u1eed l\xfd ho\xe0n ti\u1ec1n cho b\u1ea1n. "),t.qZA(),t.TgZ(3,"div"),t._uU(4," 2. T\xecm ki\u1ebfm v\xe0 \u0111\u1eb7t v\xe9 m\xe1y bay m\u1edbi t\u1ea1i "),t.TgZ(5,"a",88),t._uU(6,"giacmobayre.vn"),t.qZA()(),t.TgZ(7,"div"),t._uU(8," 3. Ho\u1eb7c li\xean h\u1ec7 t\u1ed5ng \u0111\xe0i 1900 866 657 \u0111\u1ec3 \u0111\u01b0\u1ee3c t\u01b0 v\u1ea5n v\xe0 \u0111\u1eb7t v\xe9 "),t.qZA()())}function Dp(n,o){if(1&n&&(t.TgZ(0,"div",86)(1,"div"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"div"),t._uU(5," 2. T\xecm ki\u1ebfm v\xe0 \u0111\u1eb7t v\xe9 m\xe1y bay m\u1edbi t\u1ea1i "),t.TgZ(6,"a",88),t._uU(7,"giacmobayre.vn"),t.qZA()(),t.TgZ(8,"div"),t._uU(9," 3. Ho\u1eb7c li\xean h\u1ec7 t\u1ed5ng \u0111\xe0i 1900 866 657 \u0111\u1ec3 \u0111\u01b0\u1ee3c t\u01b0 v\u1ea5n v\xe0 \u0111\u1eb7t v\xe9 "),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.hij(" 1. \u0110\u01a1n h\xe0ng \u0111\xe3 b\u1ecb h\u1ee7y do h\u1ebft h\u1ea1n thanh to\xe1n v\xe0o ",t.xi3(3,1,e.bookingData.booking.orderInfo.timeExpire,"dd/MM/yyy HH:mm")||"N/A",". ")}}function wp(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",89)(1,"div",86)(2,"div"),t._uU(3," 1. R\u1ea5t ti\u1ebfc, c\xf3 l\u1ed7i x\u1ea3y ra trong qu\xe1 tr\xecnh x\u1eed l\xfd v\xe9. Ch\xfang t\xf4i s\u1ebd ch\u1ee7 \u0111\u1ed9ng li\xean h\u1ec7 \u0111\u1ec3 \u0111\u1eb7t v\xe9 m\u1edbi ho\u1eb7c ho\xe0n ti\u1ec1n cho qu\xfd kh\xe1ch "),t.qZA(),t.TgZ(4,"div"),t._uU(5," 2. Li\xean h\u1ec7 t\u1ed5ng \u0111\xe0i 1900 866 657 \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 khi c\u1ea7n thi\u1ebft "),t.qZA(),t.TgZ(6,"div"),t._uU(7," 3. G\u1eedi y\xeau c\u1ea7u ho\xe0n ti\u1ec1n \u0111\u1ec3 \u0111\u01b0\u1ee3c ho\xe0n ti\u1ec1n s\u1edbm nh\u1ea5t "),t.qZA()(),t.TgZ(8,"div",89)(9,"div",90),t._UZ(10,"cf-icon",12),t.TgZ(11,"div",91),t._uU(12," Th\xf4ng b\xe1o "),t.qZA()(),t.TgZ(13,"div",92),t._uU(14," R\u1ea5t ti\u1ebfc, c\xf3 l\u1ed7i x\u1ea3y ra trong qu\xe1 tr\xecnh \u0111\u1eb7t v\xe9. Ch\xfang t\xf4i s\u1ebd ch\u1ee7 \u0111\u1ed9ng li\xean h\u1ec7 cho b\u1ea1n \u0111\u1ec3 x\u1eed l\xfd \u0111\u1eb7t l\u1ea1i v\xe9 ho\u1eb7c ho\xe0n ti\u1ec1n. B\u1ea1n c\xf3 th\u1ec3 li\xean h\u1ec7 t\u1ed5ng \u0111\xe0i "),t.TgZ(15,"b"),t._uU(16,"1900 866 657"),t.qZA(),t._uU(17," \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 ngay l\u1eadp t\u1ee9c. GMBR xin ch\xe2n th\xe0nh c\u1ea3m \u01a1n s\u1ef1 tin t\u01b0\u1edfng c\u1ee7a qu\xfd kh\xe1ch! "),t.qZA(),t.TgZ(18,"button",60),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onRefund())}),t._uU(19," G\u1eedi y\xeau c\u1ea7u ho\xe0n ti\u1ec1n "),t.qZA()()()}}function Bp(n,o){if(1&n&&(t.TgZ(0,"div",102),t._UZ(1,"cf-icon",103),t._uU(2),t.qZA()),2&n){const e=t.oxw(4);t.xp6(2),t.hij(" M\xe3 \u0111\u1eb7t ch\u1ed7 ",1===e.dataBoardingPass.length?"":"chi\u1ec1u \u0111i"," ")}}function vl(n,o){1&n&&(t.TgZ(0,"div",102),t._UZ(1,"cf-icon",103),t._uU(2," M\xe3 \u0111\u1eb7t ch\u1ed7 chi\u1ec1u v\u1ec1 "),t.qZA())}function Zp(n,o){1&n&&(t.TgZ(0,"div",104),t._UZ(1,"cf-icon",105),t.qZA())}function Ip(n,o){1&n&&(t.TgZ(0,"div",106),t._UZ(1,"cf-icon",107),t._uU(2," T\u1ea3i m\u1eb7t v\xe9 "),t.qZA())}function Sp(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",96),t.NdJ("click",function(){const c=t.CHM(e).index,u=t.oxw(3);return t.KtG(u.exportBoardingPass(c))}),t.YNc(2,Bp,3,1,"div",97),t.YNc(3,vl,3,0,"div",98),t.TgZ(4,"div",99),t._uU(5),t.qZA(),t.YNc(6,Zp,2,0,"div",100),t.YNc(7,Ip,3,0,"div",101),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit,i=o.index,a=t.oxw(3);t.xp6(2),t.Q6J("ngIf",0===i),t.xp6(1),t.Q6J("ngIf",1===i),t.xp6(2),t.hij(" ",(null==e||null==e.boardingPassGraphicData?null:e.boardingPassGraphicData.bookingCode)||"N/A"," "),t.xp6(1),t.Q6J("ngIf","SUCCESS"===(null==a.bookingData||null==a.bookingData.booking||null==a.bookingData.booking.orderInfo?null:a.bookingData.booking.orderInfo.state)),t.xp6(1),t.Q6J("ngIf","SUCCESS"===(null==a.bookingData||null==a.bookingData.booking||null==a.bookingData.booking.orderInfo?null:a.bookingData.booking.orderInfo.state))}}function Fp(n,o){if(1&n&&(t.TgZ(0,"div",94),t.YNc(1,Sp,8,5,"ng-container",95),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.dataBoardingPass)}}function gs(n,o){if(1&n&&(t.TgZ(0,"div",89)(1,"div",86)(2,"div"),t._uU(3," 1. H\u1ec7 th\u1ed1ng \u0111\xe3 x\u1eed l\xfd v\xe9 th\xe0nh c\xf4ng cho b\u1ea1n. "),t.qZA(),t.TgZ(4,"div"),t._uU(5," 2. Vui l\xf2ng ki\u1ec3m tra email \u0111\u1ec3 xem m\xe3 \u0111\u1eb7t ch\u1ed7 v\xe0 chi ti\u1ebft \u0111\u01a1n h\xe0ng "),t.qZA(),t.TgZ(6,"div"),t._uU(7," 3. M\xe3 \u0111\u01a1n h\xe0ng kh\xf4ng c\xf3 gi\xe1 tr\u1ecb \u0111\u1ec3 bay, vui l\xf2ng s\u1eed d\u1ee5ng m\xe3 \u0111\u1eb7t ch\u1ed7 trong email/Zalo \u0111\u1ec3 l\xe0m th\u1ee7 t\u1ee5c "),t.qZA(),t.TgZ(8,"div"),t._uU(9," 4. Li\xean h\u1ec7 t\u1ed5ng \u0111\xe0i 1900 866 657 \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 khi c\u1ea7n thi\u1ebft "),t.qZA(),t.TgZ(10,"div"),t._uU(11," 5. Ki\u1ec3m tra tr\u1ea1ng th\xe1i \u0111\u01a1n h\xe0ng t\u1ea1i trang "),t.TgZ(12,"a",87),t._uU(13,"giacmobayre.vn/tra-cuu-don-hang.html"),t.qZA()()(),t.TgZ(14,"div",89)(15,"div",90),t._UZ(16,"cf-icon",12),t.TgZ(17,"div",91),t._uU(18," Th\xf4ng b\xe1o "),t.qZA()(),t.TgZ(19,"div",92),t._uU(20),t.ALo(21,"mailMask"),t.TgZ(22,"b"),t._uU(23,"1900 866 657"),t.qZA(),t._uU(24," \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 khi c\u1ea7n thi\u1ebft. "),t.qZA()(),t.YNc(25,Fp,2,1,"div",93),t.qZA()),2&n){const e=t.oxw(),i=t.MAs(140);t.xp6(20),t.hij(" Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 \u0111\u1eb7t v\xe9 th\xe0nh c\xf4ng, vui l\xf2ng ki\u1ec3m tra email ",t.lcZ(21,3,e.bookingData.bookingContact.email)," \u0111\u1ec3 ki\u1ec3m tra m\u1eb7t v\xe9. Li\xean h\u1ec7 t\u1ed5ng \u0111\xe0i "),t.xp6(5),t.Q6J("ngIf",null==e.dataBoardingPass?null:e.dataBoardingPass.length)("ngIfElse",i)}}function Np(n,o){if(1&n&&(t.TgZ(0,"div",89)(1,"div",90),t._UZ(2,"cf-icon",12),t.TgZ(3,"div",91),t._uU(4," Th\xf4ng b\xe1o "),t.qZA()(),t.TgZ(5,"div",92),t._uU(6),t.ALo(7,"replace"),t.ALo(8,"number"),t.ALo(9,"mailMask"),t.ALo(10,"maskData"),t.TgZ(11,"b"),t._uU(12,"1900 866 657"),t.qZA(),t._uU(13," \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 khi c\u1ea7n thi\u1ebft. "),t.qZA()()),2&n){const e=t.oxw();t.xp6(6),t.lnq(" B\u1ea1n \u0111\xe3 thanh to\xe1n th\xe0nh c\xf4ng \u0111\u01a1n h\xe0ng v\u1edbi gi\xe1 tr\u1ecb ",t.Dn7(7,3,t.lcZ(8,7,e.bookingData.booking.orderInfo.totalPrice),",","."),"\u0111 qua h\xecnh th\u1ee9c chuy\u1ec3n kho\u1ea3n ng\xe2n h\xe0ng b\u1eb1ng QR Code. H\u1ec7 th\u1ed1ng \u0111ang x\u1eed l\xfd v\xe9 v\xe0 s\u1ebd th\xf4ng b\xe1o qua email ",t.lcZ(9,9,e.bookingData.bookingContact.email)," v\xe0 Zalo ",t.lcZ(10,11,e.bookingData.bookingContact.phone)," cho b\u1ea1n khi th\xe0nh c\xf4ng. Li\xean h\u1ec7 t\u1ed5ng \u0111\xe0i ")}}function Op(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",108),t._UZ(2,"cf-icon",109),t._uU(3),t.ALo(4,"replace"),t.ALo(5,"number"),t.ALo(6,"mapper"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(3),t.AsE(" Chuy\u1ebfn bay ",(null==e.ticketData||null==e.ticketData.segments[0]?null:e.ticketData.segments[0].airline)+(null==e.ticketData||null==e.ticketData.segments[0]?null:e.ticketData.segments[0].flightNumber)," s\u1eafp h\u1ebft ch\u1ed7, vui l\xf2ng thanh to\xe1n ngay \u0111\u1ec3 gi\u1eef ch\u1ed7 v\u1edbi gi\xe1 ",t.Dn7(4,2,t.lcZ(5,6,t.xi3(6,8,e,i.totalAmountByTicket)),",",".")," \u0111 ")}}function Pp(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Op,7,11,"ng-container",22),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",(null==e.ticketData||null==e.ticketData.fareCur?null:e.ticketData.fareCur.seatRemain)<9)}}function Rp(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Pp,2,1,"ng-container",95),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.ticketCur.ticketSelected)}}function Lp(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",108),t._UZ(2,"cf-icon",109),t._uU(3),t.ALo(4,"replace"),t.ALo(5,"number"),t.ALo(6,"mapper"),t.ALo(7,"mapper"),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(3),t.AsE(" Chuy\u1ebfn bay ",(null==e.ticketCur.ticketSelected[0]||null==e.ticketCur.ticketSelected[0].ticketData||null==e.ticketCur.ticketSelected[0].ticketData.fareCur?null:e.ticketCur.ticketSelected[0].ticketData.fareCur.seatRemain)<9?(null==e.ticketCur.ticketSelected[0]||null==e.ticketCur.ticketSelected[0].ticketData||null==e.ticketCur.ticketSelected[0].ticketData.segments[0]?null:e.ticketCur.ticketSelected[0].ticketData.segments[0].airline)+(null==e.ticketCur.ticketSelected[0]||null==e.ticketCur.ticketSelected[0].ticketData||null==e.ticketCur.ticketSelected[0].ticketData.segments[0]?null:e.ticketCur.ticketSelected[0].ticketData.segments[0].flightNumber):(null==e.ticketCur.ticketSelected[1]||null==e.ticketCur.ticketSelected[1].ticketData||null==e.ticketCur.ticketSelected[1].ticketData.segments[0]?null:e.ticketCur.ticketSelected[1].ticketData.segments[0].airline)+(null==e.ticketCur.ticketSelected[1]||null==e.ticketCur.ticketSelected[1].ticketData||null==e.ticketCur.ticketSelected[1].ticketData.segments[0]?null:e.ticketCur.ticketSelected[1].ticketData.segments[0].flightNumber)," s\u1eafp h\u1ebft ch\u1ed7, vui l\xf2ng thanh to\xe1n ngay \u0111\u1ec3 gi\u1eef ch\u1ed7 v\u1edbi gi\xe1 ",t.Dn7(4,2,t.lcZ(5,6,((null==e.ticketCur?null:e.ticketCur.totalPrice)||0)-e.amountDiscount-t.xi3(6,8,e.promoCodeBookingList,e.amountDiscountPromoBooking)+(e.bookingData&&null!=e.bookingData&&e.bookingData.dataBaggageInput?t.xi3(7,11,e.bookingData.dataBaggageInput,e.totalChairBaggage):0)),",",".")," \u0111 ")}}function qp(n,o){if(1&n&&(t.TgZ(0,"div",118)(1,"div",119),t._uU(2),t.qZA(),t.TgZ(3,"div",120),t._uU(4),t.qZA(),t.TgZ(5,"div",120),t._uU(6),t.qZA(),t.TgZ(7,"div",121),t._uU(8),t.ALo(9,"date"),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ","ADT"===e.type?"Ng\u01b0\u1eddi l\u1edbn":"CHD"===e.type?"Tr\u1ebb em":"Em b\xe9"," "),t.xp6(2),t.hij(" ","MALE"===e.genderCode?"Nam":"N\u1eef"," "),t.xp6(2),t.hij(" ",e.birthday?t.xi3(9,4,e.birthday,"dd/MM/yyy"):"N/A"," ")}}function Up(n,o){if(1&n&&(t.TgZ(0,"div",116),t.YNc(1,qp,10,7,"div",117),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",null==e.bookingData?null:e.bookingData.bookingPassengers)}}function Mp(n,o){if(1&n&&(t.TgZ(0,"div",123)(1,"div",124),t._uU(2," Ng\xe0y sinh: "),t.qZA(),t.TgZ(3,"div",125),t._uU(4),t.ALo(5,"date"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(4),t.hij(" ",e.birthday?t.xi3(5,1,e.birthday,"dd/MM/yyy"):"N/A"," ")}}const xl=function(n){return{"border-b border-neutral-gray-3":n}};function Jp(n,o){if(1&n&&(t.TgZ(0,"div",122)(1,"div",123)(2,"div",124),t._uU(3," H\xe0nh kh\xe1ch: "),t.qZA(),t.TgZ(4,"div",125),t._uU(5),t.qZA()(),t.TgZ(6,"div",123)(7,"div",124),t._uU(8," Lo\u1ea1i kh\xe1ch: "),t.qZA(),t.TgZ(9,"div",125),t._uU(10),t.qZA()(),t.TgZ(11,"div",123)(12,"div",124),t._uU(13," Gi\u1edbi t\xednh: "),t.qZA(),t.TgZ(14,"div",125),t._uU(15),t.qZA()(),t.YNc(16,Mp,6,4,"div",126),t.qZA()),2&n){const e=o.$implicit;t.Q6J("ngClass",t.VKq(5,xl,!o.last)),t.xp6(5),t.hij(" ",e.name," "),t.xp6(5),t.hij(" ","ADT"===e.type?"Ng\u01b0\u1eddi l\u1edbn":"CHD"===e.type?"Tr\u1ebb em":"Em b\xe9"," "),t.xp6(5),t.hij(" ","MALE"===e.genderCode?"Nam":"N\u1eef"," "),t.xp6(1),t.Q6J("ngIf",e.birthday)}}function jp(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",110)(2,"div",111)(3,"div",112),t._uU(4," H\xe0nh kh\xe1ch "),t.qZA(),t.TgZ(5,"div",113),t._uU(6," Lo\u1ea1i kh\xe1ch "),t.qZA(),t.TgZ(7,"div",113),t._uU(8," Gi\u1edbi t\xednh "),t.qZA(),t.TgZ(9,"div",114),t._uU(10," Ng\xe0y sinh "),t.qZA()(),t.YNc(11,Up,2,1,"div",115),t.qZA(),t.TgZ(12,"div",65),t.YNc(13,Jp,17,7,"div",66),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(11),t.Q6J("ngIf",(null==e.bookingData?null:e.bookingData.bookingPassengers)&&(null==e.bookingData||null==e.bookingData.bookingPassengers?null:e.bookingData.bookingPassengers.length)),t.xp6(2),t.Q6J("ngForOf",null==e.bookingData?null:e.bookingData.bookingPassengers)}}function Yp(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",127)(1,"btc-result-deposit",128,129),t.NdJ("updateTimeExpired",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.bookingData.booking.orderInfo.timeExpire=a)})("timeExpiredChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.updateStateCanceled())})("isPaymentCompletedChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.paymentCompleted("PAYMENT_SUCCESS"))}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("orderId",e.orderId)("stepMobile",e.paymentMethod===e.PAYMENT_METHOD_OPTION.TRANSFER&&e.isMobile?1:0)}}function Qp(n,o){1&n&&(t.TgZ(0,"div",153)(1,"div"),t._uU(2," H\u1ed7 tr\u1ee3 nhi\u1ec1u v\xed \u0111i\u1ec7n t\u1eed & app ng\xe2n h\xe0ng "),t.qZA(),t.TgZ(3,"div",154),t._UZ(4,"img",155)(5,"img",156)(6,"img",157)(7,"img",158)(8,"img",159)(9,"img",160)(10,"img",161)(11,"img",162)(12,"img",163)(13,"img",164)(14,"img",165)(15,"img",166)(16,"img",167)(17,"img",168)(18,"img",169),t.TgZ(19,"div",170),t._UZ(20,"img",171),t.qZA(),t._UZ(21,"img",172)(22,"img",173)(23,"img",174),t.qZA()())}function Hp(n,o){1&n&&(t.TgZ(0,"div",175)(1,"div",139),t._uU(2," Kh\xf4ng m\u1ea5t ph\xed "),t.qZA(),t.TgZ(3,"div",139),t._uU(4," Ho\xe0n ti\u1ec1n nhanh ch\xf3ng "),t.qZA()())}function Gp(n,o){1&n&&(t.TgZ(0,"div",176)(1,"div"),t._uU(2," H\u1ed7 tr\u1ee3 nhi\u1ec1u v\xed \u0111i\u1ec7n t\u1eed & app ng\xe2n h\xe0ng "),t.qZA(),t.TgZ(3,"div",154),t._UZ(4,"img",155)(5,"img",156)(6,"img",157)(7,"img",158)(8,"img",159)(9,"img",160)(10,"img",161)(11,"img",162)(12,"img",163)(13,"img",164)(14,"img",165)(15,"img",166)(16,"img",167)(17,"img",168)(18,"img",169),t.TgZ(19,"div",170),t._UZ(20,"img",171),t.qZA(),t._UZ(21,"img",172)(22,"img",173)(23,"img",174),t.qZA()())}function Kp(n,o){1&n&&(t.TgZ(0,"ul",177)(1,"div",178),t._uU(2," T\u1ef1 chuy\u1ec3n kho\u1ea3n theo c\xfa ph\xe1p \u0111\u01b0\u1ee3c quy \u0111\u1ecbnh \u1edf b\u01b0\u1edbc k\u1ebf ti\u1ebfp "),t.qZA()())}function $p(n,o){1&n&&(t.TgZ(0,"div",175)(1,"div",139),t._uU(2," Kh\xf4ng m\u1ea5t ph\xed "),t.qZA(),t.TgZ(3,"div",139),t._uU(4," Ho\xe0n ti\u1ec1n nhanh ch\xf3ng "),t.qZA()())}function Vp(n,o){1&n&&(t.TgZ(0,"div",179)(1,"div",178),t._uU(2," T\u1ef1 chuy\u1ec3n kho\u1ea3n theo c\xfa ph\xe1p \u0111\u01b0\u1ee3c quy \u0111\u1ecbnh \u1edf b\u01b0\u1edbc k\u1ebf ti\u1ebfp "),t.qZA()())}function zp(n,o){1&n&&(t.TgZ(0,"ul",180)(1,"div",178),t._uU(2," H\u1ed7 tr\u1ee3 th\u1ebb thanh to\xe1n qu\u1ed1c t\u1ebf/n\u1ed9i \u0111\u1ecba, th\u1ebb ATM, v\xed \u0111i\u1ec7n t\u1eed. C\xf3 ph\xed giao d\u1ecbch t\xf9y theo lo\u1ea1i th\u1ebb. "),t.qZA(),t.TgZ(3,"div",154),t._UZ(4,"img",181)(5,"img",182)(6,"img",183)(7,"img",184)(8,"img",185)(9,"img",186),t.qZA(),t.TgZ(10,"div",187),t._uU(11," Power by C\u1ed5ng thanh to\xe1n 9pay "),t.qZA()())}function Wp(n,o){1&n&&(t.TgZ(0,"div",175)(1,"div",139),t._uU(2," M\u1ea5t ph\xed thanh to\xe1n "),t.qZA(),t.TgZ(3,"div",139),t._uU(4," Ho\xe0n ti\u1ec1n trong 7-14 ng\xe0y l\xe0m vi\u1ec7c "),t.qZA()())}function fs(n,o){1&n&&(t.TgZ(0,"ul",188)(1,"div",178),t._uU(2," H\u1ed7 tr\u1ee3 th\u1ebb thanh to\xe1n qu\u1ed1c t\u1ebf/n\u1ed9i \u0111\u1ecba, th\u1ebb ATM, v\xed \u0111i\u1ec7n t\u1eed. C\xf3 ph\xed giao d\u1ecbch t\xf9y theo lo\u1ea1i th\u1ebb. "),t.qZA(),t.TgZ(3,"div",154),t._UZ(4,"img",181)(5,"img",182)(6,"img",183)(7,"img",184)(8,"img",185)(9,"img",186),t.qZA(),t.TgZ(10,"div",187),t._uU(11," Power by C\u1ed5ng thanh to\xe1n 9pay "),t.qZA()())}function yl(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",130)(1,"div",131)(2,"div",132),t._UZ(3,"cf-icon",12),t._uU(4," Ch\u1ecdn ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n "),t.qZA(),t.TgZ(5,"cf-radio-group",133),t.NdJ("ngModelChange",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.paymentMethod=a)}),t.TgZ(6,"cf-radio",134)(7,"div",135),t._UZ(8,"img",136),t.TgZ(9,"div",65)(10,"div",137)(11,"div"),t._uU(12," Qu\xe9t m\xe3 QR "),t.qZA(),t.TgZ(13,"div",138)(14,"div",139),t._uU(15," Kh\xf4ng m\u1ea5t ph\xed "),t.qZA(),t.TgZ(16,"div",139),t._uU(17," Ho\xe0n ti\u1ec1n nhanh ch\xf3ng "),t.qZA()()(),t.YNc(18,Qp,24,0,"div",140),t.qZA()()(),t.YNc(19,Hp,5,0,"div",141),t.YNc(20,Gp,24,0,"div",142),t.TgZ(21,"cf-radio",143)(22,"div",144),t._UZ(23,"img",145),t.TgZ(24,"div",65)(25,"div",137)(26,"div"),t._uU(27," Chuy\u1ec3n kho\u1ea3n ng\xe2n h\xe0ng "),t.qZA(),t.TgZ(28,"div",138)(29,"div",139),t._uU(30," Kh\xf4ng m\u1ea5t ph\xed "),t.qZA(),t.TgZ(31,"div",139),t._uU(32," Ho\xe0n ti\u1ec1n nhanh ch\xf3ng "),t.qZA()()(),t.YNc(33,Kp,3,0,"ul",146),t.qZA()()(),t.YNc(34,$p,5,0,"div",141),t.YNc(35,Vp,3,0,"div",147),t.TgZ(36,"cf-radio",143)(37,"div",144),t._UZ(38,"img",148),t.TgZ(39,"div",65)(40,"div",137)(41,"div"),t._uU(42," Th\u1ebb thanh to\xe1n qu\u1ed1c t\u1ebf/n\u1ed9i \u0111\u1ecba, th\u1ebb ATM "),t.qZA(),t.TgZ(43,"div",138)(44,"div",139),t._uU(45," M\u1ea5t ph\xed thanh to\xe1n "),t.qZA(),t.TgZ(46,"div",139),t._uU(47," Ho\xe0n ti\u1ec1n trong 7-14 ng\xe0y l\xe0m vi\u1ec7c "),t.qZA()()(),t.YNc(48,zp,12,0,"ul",149),t.qZA()()(),t.YNc(49,Wp,5,0,"div",141),t.YNc(50,fs,12,0,"ul",150),t.qZA(),t.TgZ(51,"div",151)(52,"button",152),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.confirmPaymentMethod(a.paymentMethod))}),t._uU(53," Thanh to\xe1n "),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("ngModel",e.paymentMethod),t.xp6(1),t.Q6J("value",e.PAYMENT_METHOD_OPTION.QR),t.xp6(12),t.Q6J("ngIf",e.paymentMethod===e.PAYMENT_METHOD_OPTION.QR),t.xp6(1),t.Q6J("ngIf",e.paymentMethod===e.PAYMENT_METHOD_OPTION.QR),t.xp6(1),t.Q6J("ngIf",e.paymentMethod===e.PAYMENT_METHOD_OPTION.QR),t.xp6(1),t.Q6J("value",e.PAYMENT_METHOD_OPTION.TRANSFER),t.xp6(12),t.Q6J("ngIf",e.paymentMethod===e.PAYMENT_METHOD_OPTION.TRANSFER),t.xp6(1),t.Q6J("ngIf",e.paymentMethod===e.PAYMENT_METHOD_OPTION.TRANSFER),t.xp6(1),t.Q6J("ngIf",e.paymentMethod===e.PAYMENT_METHOD_OPTION.TRANSFER),t.xp6(1),t.Q6J("value",e.PAYMENT_METHOD_OPTION.NINE_PAY),t.xp6(12),t.Q6J("ngIf",e.paymentMethod===e.PAYMENT_METHOD_OPTION.NINE_PAY),t.xp6(1),t.Q6J("ngIf",e.paymentMethod===e.PAYMENT_METHOD_OPTION.NINE_PAY),t.xp6(1),t.Q6J("ngIf",e.paymentMethod===e.PAYMENT_METHOD_OPTION.NINE_PAY)}}function Xp(n,o){if(1&n&&(t.TgZ(0,"div",123)(1,"div",124),t._uU(2," Ng\xe0y sinh: "),t.qZA(),t.TgZ(3,"div",125),t._uU(4),t.ALo(5,"date"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(4),t.hij(" ",e.birthday?t.xi3(5,1,e.birthday,"dd/MM/yyy"):"N/A"," ")}}function t1(n,o){if(1&n&&(t.TgZ(0,"div",122)(1,"div",123)(2,"div",124),t._uU(3," H\xe0nh kh\xe1ch: "),t.qZA(),t.TgZ(4,"div",125),t._uU(5),t.qZA()(),t.TgZ(6,"div",123)(7,"div",124),t._uU(8," Lo\u1ea1i kh\xe1ch: "),t.qZA(),t.TgZ(9,"div",125),t._uU(10),t.qZA()(),t.TgZ(11,"div",123)(12,"div",124),t._uU(13," Gi\u1edbi t\xednh: "),t.qZA(),t.TgZ(14,"div",125),t._uU(15),t.qZA()(),t.YNc(16,Xp,6,4,"div",126),t.qZA()),2&n){const e=o.$implicit;t.Q6J("ngClass",t.VKq(5,xl,!o.last)),t.xp6(5),t.hij(" ",e.name," "),t.xp6(5),t.hij(" ","ADT"===e.type?"Ng\u01b0\u1eddi l\u1edbn":"CHD"===e.type?"Tr\u1ebb em":"Em b\xe9"," "),t.xp6(5),t.hij(" ","MALE"===e.genderCode?"Nam":"N\u1eef"," "),t.xp6(1),t.Q6J("ngIf",e.birthday)}}function e1(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"btc-ticket-sticky-selected",189),t.NdJ("showDetail",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.showDetail(a))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("searchInput",e.searchData)("ticketCur",e.ticketCur)("hiddenBtn",!0)}}function n1(n,o){if(1&n&&(t.TgZ(0,"div",198)(1,"div",199),t._uU(2),t.qZA(),t.TgZ(3,"div",200),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ","ADT"===e.code?"V\xe9 ng\u01b0\u1eddi l\u1edbn":"CHD"===e.code?"V\xe9 tr\u1ebb em":"V\xe9 em b\xe9"," "),t.xp6(2),t.AsE(" ",t.Dn7(5,3,t.lcZ(6,7,e.surCharge+e.baseFare),",",".")," \u0111 X ",e.quantity," ")}}function i1(n,o){if(1&n&&(t.TgZ(0,"div",198)(1,"div",202),t._uU(2),t.qZA(),t.TgZ(3,"div",200),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",e.journeys[0].baggageSelected.baggageName," "),t.xp6(2),t.hij(" ",t.Dn7(5,2,t.lcZ(6,6,e.journeys[0].baggageSelected.totalCharge),",",".")," \u0111 ")}}function o1(n,o){if(1&n&&(t.ynx(0),t.YNc(1,i1,7,8,"div",201),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.journeys&&(null==e.journeys?null:e.journeys.length)&&(null==e.journeys[0]?null:e.journeys[0].baggageSelected)&&(null==e.journeys[0]||null==e.journeys[0].baggageSelected?null:e.journeys[0].baggageSelected.baggageName))}}function r1(n,o){if(1&n&&(t.ynx(0),t.YNc(1,o1,2,1,"ng-container",95),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.bookingData.dataBaggageInput)}}function a1(n,o){if(1&n&&(t.TgZ(0,"div",198)(1,"div",199),t._uU(2),t.qZA(),t.TgZ(3,"div",200),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ","ADT"===e.code?"V\xe9 ng\u01b0\u1eddi l\u1edbn":"CHD"===e.code?"V\xe9 tr\u1ebb em":"V\xe9 em b\xe9"," "),t.xp6(2),t.AsE(" ",t.Dn7(5,3,t.lcZ(6,7,e.surCharge+e.baseFare),",",".")," \u0111 X ",e.quantity," ")}}function Cl(n,o){if(1&n&&(t.TgZ(0,"div",198)(1,"div",202),t._uU(2),t.qZA(),t.TgZ(3,"div",200),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",e.journeys[1].baggageSelected.baggageName," "),t.xp6(2),t.hij(" ",t.Dn7(5,2,t.lcZ(6,6,e.journeys[1].baggageSelected.totalCharge),",",".")," \u0111 ")}}function s1(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Cl,7,8,"div",201),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.journeys&&e.journeys.length>1&&e.journeys[1].baggageSelected.baggageName)}}function jr(n,o){if(1&n&&(t.ynx(0),t.YNc(1,s1,2,1,"ng-container",95),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.bookingData.dataBaggageInput)}}function c1(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",193)(2,"div",194)(3,"div",195),t._uU(4," Chi\u1ec1u \u0111i "),t.qZA(),t.YNc(5,n1,7,9,"div",196),t.YNc(6,r1,2,1,"ng-container",22),t.qZA(),t.TgZ(7,"div",197)(8,"div",195),t._uU(9," Chi\u1ec1u v\u1ec1 "),t.qZA(),t.YNc(10,a1,7,9,"div",196),t.YNc(11,jr,2,1,"ng-container",22),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("ngForOf",e.ticketCur.ticketSelected[0].ticketPriceList),t.xp6(1),t.Q6J("ngIf",(null==e.bookingData.dataBaggageInput?null:e.bookingData.dataBaggageInput.length)&&e.bookingData.dataBaggageInput.length),t.xp6(4),t.Q6J("ngForOf",e.ticketCur.ticketSelected[1].ticketPriceList),t.xp6(1),t.Q6J("ngIf",(null==e.bookingData.dataBaggageInput?null:e.bookingData.dataBaggageInput.length)&&e.bookingData.dataBaggageInput.length)}}function l1(n,o){if(1&n&&(t.TgZ(0,"div",198)(1,"div",199),t._uU(2),t.qZA(),t.TgZ(3,"div",200),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ","ADT"===e.code?"V\xe9 ng\u01b0\u1eddi l\u1edbn":"CHD"===e.code?"V\xe9 tr\u1ebb em":"V\xe9 em b\xe9"," "),t.xp6(2),t.AsE(" ",t.Dn7(5,3,t.lcZ(6,7,e.surCharge+e.baseFare),",",".")," \u0111 X ",e.quantity," ")}}function u1(n,o){if(1&n&&(t.TgZ(0,"div",198)(1,"div",202),t._uU(2),t.qZA(),t.TgZ(3,"div",200),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",e.journeys[0].baggageSelected.baggageName," "),t.xp6(2),t.hij(" ",t.Dn7(5,2,t.lcZ(6,6,e.journeys[0].baggageSelected.totalCharge),",",".")," \u0111 ")}}function d1(n,o){if(1&n&&(t.ynx(0),t.YNc(1,u1,7,8,"div",201),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",(null==e.journeys?null:e.journeys.length)&&(null==e.journeys[0]?null:e.journeys[0].baggageSelected)&&(null==e.journeys[0]||null==e.journeys[0].baggageSelected?null:e.journeys[0].baggageSelected.baggageName))}}function p1(n,o){if(1&n&&(t.ynx(0),t.YNc(1,d1,2,1,"ng-container",95),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.bookingData.dataBaggageInput)}}function g1(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",203),t.YNc(2,l1,7,9,"div",196),t.YNc(3,p1,2,1,"ng-container",22),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.ticketCur.ticketSelected[0].ticketPriceList),t.xp6(1),t.Q6J("ngIf",null==e.bookingData.dataBaggageInput?null:e.bookingData.dataBaggageInput.length)}}function f1(n,o){if(1&n&&(t.ynx(0)(1,190),t.YNc(2,c1,12,4,"ng-container",191),t.YNc(3,g1,4,2,"ng-container",192),t.BQk()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngSwitch",null==e.ticketCur||null==e.ticketCur.ticketSelected?null:e.ticketCur.ticketSelected.length),t.xp6(1),t.Q6J("ngSwitchCase",2)}}function _1(n,o){if(1&n&&(t.TgZ(0,"div",207)(1,"div",199),t._uU(2," Gi\u1ea3m gi\xe1 v\xe9 "),t.qZA(),t.TgZ(3,"div",200),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=o.ngIf;t.xp6(4),t.hij(" - ",t.Dn7(5,1,t.lcZ(6,5,e),",",".")," \u0111 ")}}function h1(n,o){if(1&n&&(t.TgZ(0,"div",207)(1,"div",199),t._uU(2),t.qZA(),t.TgZ(3,"div",200),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",e.code," "),t.xp6(2),t.hij(" - ",t.Dn7(5,2,t.lcZ(6,6,e.discountByCondition),",",".")," \u0111 ")}}function m1(n,o){if(1&n&&(t.ynx(0),t.YNc(1,h1,7,8,"div",206),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.active)}}function v1(n,o){if(1&n&&(t.TgZ(0,"div",204)(1,"div",205),t._uU(2," Gi\u1ea3m gi\xe1 "),t.qZA(),t.YNc(3,_1,7,7,"div",206),t.ALo(4,"mapper"),t.YNc(5,m1,2,1,"ng-container",95),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",t.xi3(4,2,e.ticketCur.ticketSelected,e.amountDiscountTotal)),t.xp6(2),t.Q6J("ngForOf",e.promoCodeBookingList)}}function x1(n,o){if(1&n&&t._UZ(0,"btc-ticket-sticky-booking",208),2&n){const e=t.oxw();t.Q6J("bookingContact",e.bookingData.bookingContact)("invoiceInfo",(null==e.bookingData?null:e.bookingData.invoiceInfo)||null)("bookingPassengers",e.bookingData.bookingPassengers)("amountDiscount",e.amountDiscount)}}function y1(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",209)(1,"button",152),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.confirmPaymentMethod(a.paymentMethod))}),t._uU(2," Thanh to\xe1n "),t.qZA()()}}function C1(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"cf-boarding-pass-graphic",210,211),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ticketPriceDetail",e.ticketPriceDetail)("boardingPassGraphicData",e.boardingPassGraphicData)("isShowMembership",!1)}}function b1(n,o){if(1&n&&(t.ynx(0),t.YNc(1,C1,3,3,"ng-container",95),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.dataBoardingPass)}}function T1(n,o){1&n&&t._UZ(0,"div",212)}var ui=(()=>{return(n=ui||(ui={}))[n.Order=0]="Order",n[n.Pas=1]="Pas",ui;var n})();let bl=(()=>{class n{constructor(e,i,a,c,u,d,f,_,m,x,E,Z,D,P,R,$,Q,X,z){this._detectMobileSvc=e,this._bottomSheetSvc=i,this._modal=a,this.cfIconRegister=c,this._helperResultSvc=u,this._helperStorageSvc=d,this._createTopupSessionSvc=f,this.route=_,this._getExtraInfoOrderSvc=m,this._getOrderDetailSvc=x,this._router=E,this._btcSocketOrderSvc=Z,this._helperSvc=D,this._eventLogService=P,this.appConfig=R,this._locationDataSvc=$,this._toastService=Q,this._flightDataService=X,this.btcLogErrorTeleSvc=z,this.boardingPassBlobs=[],this.paymentMethod=ot.QR,this.PAYMENT_METHOD_OPTION=ot,this.promoCodeBookingList=[],this.amountDiscount=0,this.configStatus=rt,this.StepMobile=ui,this.stepMobile=ui.Order,this.isMobile=!1,this.hasAirportInternational=!1,this.expandInfoPax=!1,this.isConfirmPayment=!1,this.isLoading=!1,this.btcTypeOfListSearch=re.YI,this.amountDiscountPromoBooking=N=>N?N.reduce((ct,tt)=>ct+(tt.active?tt.discountByCondition:0),0):0,this.amountDiscountTotal=N=>N.reduce((ct,tt)=>ct+(tt.ticketPriceList&&tt.ticketPriceList.length?tt.ticketPriceList.reduce((lt,at)=>lt+at.discountAmount*at.quantity,0):0),0),this.totalChairBaggage=N=>N.reduce((ct,tt)=>ct+tt.journeys.reduce((lt,at)=>lt+at.baggageSelected.totalCharge,0),0),this.totalAmountByTicket=N=>{var ct,tt,lt,at;const yt=`${null===(ct=N.ticketData)||void 0===ct?void 0:ct.airline}-${null===(tt=N.ticketData)||void 0===tt?void 0:tt.startPoint}-${null===(lt=N.ticketData)||void 0===lt?void 0:lt.endPoint}`;let st=[];this.bookingData.dataBaggageInput.forEach(ft=>{st=[...st,ft.journeys.find(bt=>`${bt.airlineName}-${bt.startCode}-${bt.endCode}`==yt)]});const K=st.reduce((ft,bt)=>ft+bt.baggageSelected.totalCharge,0);return((null===(at=N.ticketPriceList)||void 0===at?void 0:at.reduce((ft,bt)=>ft+(bt.totalFare-bt.discountAmount*bt.quantity),0))||0)+K},this.cfIconRegister.registerIcons([v.gW0,v.qDv,v.o1t,v.P5K,v.PcQ,v.Gey,v.B2I,v.UNF,v.glu,v.rks,v.S7Q,v.fqi,v.n78,v.Hn3,v.Xlt,v.xgX]),this._btcSocketOrderSvc.initializeWebSocketConnection()}ngOnChanges(e){}ngOnInit(){this.isMobile=this._detectMobileSvc.isMobile(),this.subscribeStatusOrder(),this.progressInternational(),this.initPromoCodeBookingList(),this.route.paramMap.pipe((0,Eo.h)(e=>e.has("id")),(0,Mc.b)(e=>{this.orderId=e.get("id")})).subscribe(e=>{const i=e.get("id");console.log(i),i&&(0,Jc.a)({extraInfoOrder:this._getExtraInfoOrderSvc.getExtraInfoOrder(i),orderDataDetail:this._getOrderDetailSvc.getOrderById(i)}).subscribe({next:a=>{var c,u,d,f,_;this.progressDataExtraInfo(a.extraInfoOrder),this.progressDataOrderDetail(a.orderDataDetail),this._eventLogService.orderInfoView(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===re.YI.Single?"OW":"RT",start_point:null===(c=this.searchData.journey[0])||void 0===c?void 0:c.startPoint,end_point:null===(u=this.searchData.journey[0])||void 0===u?void 0:u.endPoint,departure_date:null!==(d=this.searchData.journey)&&void 0!==d&&d.length&&null!==(f=this.searchData.journey[0])&&void 0!==f&&f.departDate?Ot(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?Ot(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",has_inventory_ticket:this.ticketCur.ticketSelected.find(m=>m.ticketData&&"IVS"===m.ticketData.provider)?1:0},null===(_=this._helperStorageSvc.btcCampaignData)||void 0===_?void 0:_.utmParams))},error:a=>{console.error("Error fetching order details:",a)}})}),window.addEventListener("message",e=>{const i=e.data.idParent;i&&(this.orderId=i,i&&(0,Jc.a)({extraInfoOrder:this._getExtraInfoOrderSvc.getExtraInfoOrder(i),orderDataDetail:this._getOrderDetailSvc.getOrderById(i)}).subscribe({next:a=>{var c,u,d,f,_;this.progressDataExtraInfo(a.extraInfoOrder),this.progressDataOrderDetail(a.orderDataDetail),this._eventLogService.orderInfoView(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===re.YI.Single?"OW":"RT",start_point:null===(c=this.searchData.journey[0])||void 0===c?void 0:c.startPoint,end_point:null===(u=this.searchData.journey[0])||void 0===u?void 0:u.endPoint,departure_date:null!==(d=this.searchData.journey)&&void 0!==d&&d.length&&null!==(f=this.searchData.journey[0])&&void 0!==f&&f.departDate?Ot(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?Ot(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",has_inventory_ticket:this.ticketCur.ticketSelected.find(m=>m.ticketData&&"IVS"===m.ticketData.provider)?1:0},null===(_=this._helperStorageSvc.btcCampaignData)||void 0===_?void 0:_.utmParams))},error:a=>{console.error("Error fetching order details:",a)}}))})}initPromoCodeBookingList(){this.promoCodeBookingList=this._helperStorageSvc.listPromoBookActived}progressInternational(){var e;null===(e=this.ticketCur)||void 0===e||e.ticketSelected.forEach(i=>{i.ticketData&&(this._locationDataSvc.checkAirportInternational(i.ticketData.startPoint)||this._locationDataSvc.checkAirportInternational(i.ticketData.endPoint))&&(this.hasAirportInternational=!0)})}progressDataExtraInfo(e){if(e.data.extraInfoText){const{dataBooking:i,search:a,ticketCur:c,promoCodeBookingList:u,dataBaggageInput:d}=JSON.parse(e.data.extraInfoText);this.searchData=a,this.ticketCur=c,this.bookingData=Object.assign(Object.assign({},i),{dataBaggageInput:d,bookingPassengers:i.bookingPassengers.map(f=>Object.assign(Object.assign({},f),{birthday:f.birthday&&"1990-01-01"!==f.birthday?new Date(f.birthday):null}))}),this.promoCodeBookingList=u,this.progressAmountDiscount()}}areAllAirlinesEqual(e){if(0===e.length)return!0;const i=e[0].airline;return e.every(a=>a.airline===i)}convertTicketToBoardingPassGraphic(e,i,a){var c,u,d,f;const _=this.bookingData.dataBaggageInput.reduce((x,E)=>x+E.journeys.reduce((Z,D)=>Z+D.baggageSelected.totalCharge,0),0),m=this.bookingData.booking.listJourney.find(x=>{var E,Z,D;return`${x.airline}-${x.startPoint}-${x.endPoint}`==`${null===(E=e.ticketData)||void 0===E?void 0:E.airline}-${null===(Z=e.ticketData)||void 0===Z?void 0:Z.startPoint}-${null===(D=e.ticketData)||void 0===D?void 0:D.endPoint}`});return{boardingPassGraphicData:{airline:(null===(c=e.ticketData)||void 0===c?void 0:c.airline)||"",airlineName:(null===(u=e.ticketData)||void 0===u?void 0:u.airlineName)||"",airlineLogo:this._flightDataService.getAirlineLogoByCode((null===(d=e.ticketData)||void 0===d?void 0:d.airline)||""),bookingCode:(null==m?void 0:m.pnr)||"",status:(null==m?void 0:m.statePnr)||"",statusText:this.getStatusText((null==m?void 0:m.statePnr)||""),passengers:(null==m?void 0:m.paxList.map(x=>Object.assign(Object.assign({},x),{name:`${x.lastName} ${x.firstName}`,key:`${x.lastName}-${x.firstName}`,bag:""})))||[],agent:{address:"193/25 Nguy\u1ec5n \u0110\xecnh Ch\xednh, P.11, Q.Ph\xfa Nhu\u1eadn, TP.HCM",email:"giacmobayre@gmail.com",website:"https://giacmobayre.vn",phone:"1900 866 657",phoneArea:"+84",displayName:"Gi\u1ea5c m\u01a1 bay r\u1ebb",logoUrl:"",footerAttention:""},journeys:[...i.map(x=>({airline:(null==x?void 0:x.airline)||"",airlineLogo:this._flightDataService.getAirlineLogoByCode((null==x?void 0:x.airline)||"")||"",journeyName:`Th\xf4ng tin chuy\u1ebfn bay ${null==x?void 0:x.startPoint} - ${null==x?void 0:x.endPoint}, ng\xe0y ${vt(null==x?void 0:x.departure.localTime).format("DD/MM/YYYY")}`,startTime:vt(null==x?void 0:x.departure.localTime).format("HH:mm")||"",startDate:vt(null==x?void 0:x.departure.localTime).format("DD/MM/YYYY")||"",startPoint:(null==x?void 0:x.startPoint)||"",startPointName:this._locationDataSvc.getCityNameByCode((null==x?void 0:x.startPoint)||"")||"",endTime:vt(null==x?void 0:x.arrival.localTime).format("HH:mm")||"",endDate:vt(null==x?void 0:x.arrival.localTime).format("DD/MM/YYYY")||"",endPoint:(null==x?void 0:x.endPoint)||"",endPointName:this._locationDataSvc.getCityNameByCode((null==x?void 0:x.endPoint)||"")||"",segments:null==x?void 0:x.segments.map((E,Z)=>{var D,P,R,$,Q,X,z,N,ct,tt,lt,at,yt,st;return{airline:E.airline,airlineSystem:E.operating,airlineName:E.airlineName,airlineLogo:this._flightDataService.getAirlineLogoByCode(E.airline),codeAirline:E.codeAirline,journeyName:`Th\xf4ng tin chuy\u1ebfn bay ${E.startPoint} - ${E.endPoint}, ng\xe0y ${vt(E.startTime).format("DD/MM/YYYY")}`,flightNumber:E.airline+E.flightNumber,startTime:vt(E.departure.localTime).format("HH:mm"),startDay:E.departure.localTime?(0,g.p6)(E.departure.localTime,"EEEE","vi-VN"):"",startDate:vt(E.departure.localTime).format("DD/MM/YYYY"),startPoint:E.startPoint,startPointName:this._locationDataSvc.getCityNameByCode(E.startPoint),endTime:vt(E.arrival.localTime).format("HH:mm"),endDay:E.arrival.localTime?(0,g.p6)(E.arrival.localTime,"EEEE","vi-VN"):"",endDate:vt(E.arrival.localTime).format("DD/MM/YYYY"),endPoint:E.endPoint,endPointName:this._locationDataSvc.getCityNameByCode(E.endPoint),startTerminal:null!==(P=null===(D=E.departure)||void 0===D?void 0:D.airport)&&void 0!==P&&P.terminal?"T"+(null===($=null===(R=E.departure)||void 0===R?void 0:R.airport)||void 0===$?void 0:$.terminal):"",endTerminal:null!==(X=null===(Q=E.arrival)||void 0===Q?void 0:Q.airport)&&void 0!==X&&X.terminal?"T"+(null===(N=null===(z=E.arrival)||void 0===z?void 0:z.airport)||void 0===N?void 0:N.terminal):"",rules:[{name:"Th\u1eddi gian bay",value:E.duration},{name:"Lo\u1ea1i m\xe1y bay",value:E.modelAirplane||"N/A"},{name:"H\u1ea1ng v\xe9",value:(null===(at=null!==(tt=null===(ct=x.fareCur)||void 0===ct?void 0:ct.fareInfos[Z].fareType.code)&&void 0!==tt?tt:null===(lt=x.fareCur)||void 0===lt?void 0:lt.fareInfos[Z].fareClass)||void 0===at?void 0:at.toUpperCase())||""},{name:"H\xe0nh l\xfd k\xfd g\u1eedi",value:(null===(yt=E.bookedInfo)||void 0===yt?void 0:yt.checkedBaggage)||"N/A"},{name:"H\xe0nh l\xfd x\xe1ch tay",value:(null===(st=E.bookedInfo)||void 0===st?void 0:st.handBaggage)||"N/A"}],stopPoint:E.stopPoint}})}))],originalTotalCharge:a.reduce((x,E)=>x+E.reduce((Z,D)=>Z+D.totalFare||0,0),0),addonServiceCharge:_,totalCharge:a.reduce((x,E)=>x+E.reduce((Z,D)=>Z+D.totalFare||0,0),0)+_,timeHoldBooking:"",brandColor:this.getBrandColor((null===(f=e.ticketData)||void 0===f?void 0:f.airline)||""),isHiddenCharge:!1,isHiddenTime:!1},ticketPriceDetail:a[0].map(x=>({typeName:x.type,quantity:x.quantity,totalFare:a.reduce((E,Z)=>E+Z.reduce((D,P)=>P.code===x.code?D+P.totalFare:D,0),0)}))}}getStatusText(e){switch(e){case"BOOKED":return"\u0110\xe3 gi\u1eef ch\u1ed7";case"ISSUED":return"\u0110\xe3 xu\u1ea5t v\xe9";case"REFUND":return"\u0110\xe3 ho\xe0n";case"CANCEL":return"\u0110\xe3 h\u1ee7y";case"EXPIRED":return"H\u1ebft h\u1ea1n";case"INVALID":return"Kh\xf4ng c\xf2n gi\xe1 tr\u1ecb";case"VOID":return"\u0110\xe3 void";default:return"\u0110\u1eb7t ch\u1ed7 l\u1ed7i"}}getBrandColor(e){switch(e){case"VN":return"#006885";case"VJ":return"#ED1D24";case"QH":return"#5CA736";case"BL":return"#0A3373";default:return"#007C80"}}progressDataOrderDetail(e){var i,a;this.dataBoardingPass=[],e&&null!=e&&e.data&&(this.bookingData.booking=e.data),console.log(this.bookingData),console.log(this.ticketCur),this.dataBoardingPass=(null===(i=this.bookingData.booking.listJourney)||void 0===i?void 0:i.length)<=1&&this.ticketCur.ticketSelected&&null!==(a=this.ticketCur.ticketSelected)&&void 0!==a&&a.length?[this.convertTicketToBoardingPassGraphic(this.ticketCur.ticketSelected[0],[this.ticketCur.ticketSelected[0].ticketData],[this.ticketCur.ticketSelected[0].ticketPriceList])]:this.areAllAirlinesEqual(this.bookingData.booking.listJourney)?[this.convertTicketToBoardingPassGraphic(this.ticketCur.ticketSelected[0],this.ticketCur.ticketSelected.map(c=>c.ticketData),this.ticketCur.ticketSelected.map(c=>c.ticketPriceList))]:[this.convertTicketToBoardingPassGraphic(this.ticketCur.ticketSelected[0],[this.ticketCur.ticketSelected[0].ticketData],[this.ticketCur.ticketSelected[0].ticketPriceList]),this.convertTicketToBoardingPassGraphic(this.ticketCur.ticketSelected[1],[this.ticketCur.ticketSelected[1].ticketData],[this.ticketCur.ticketSelected[1].ticketPriceList])],console.log(this.dataBoardingPass),setTimeout(()=>{this.prepareBoardingPassImages()},0)}showDetail(e){this._detectMobileSvc.isMobile()?this._bottomSheetSvc.open(nn,{headerTitle:"Th\xf4ng tin chuy\u1ebfn bay",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",containerFullHeigh:!0,data:{ticketCur:this.ticketCur,dataSearch:this.searchData,index:e,isAirLineInternational:this.hasAirportInternational}}).containerInstance._rightButtonClick.subscribe(()=>this._bottomSheetSvc.dismiss()):this._modal.open(nn,{ticketCur:this.ticketCur,dataSearch:this.searchData,index:e,isAirLineInternational:this.hasAirportInternational})}stepMobileChange(e){this.stepMobile=e}openNewTab(e){window.open(e,"_blank")}progressAmountDiscount(){const e=this.ticketCur.ticketSelected.filter(i=>i.ticketData).map(i=>i.ticketData);this.amountDiscount=this._helperResultSvc.progressPriceList(this.searchData,e).filter(i=>i.discountAmount).reduce((i,a)=>i+a.discountAmount*a.quantity,0)}onBack(){console.log("this.searchData",this.searchData);const{adultCount:e,childCount:i,infantCount:a,isDirectFlight:c,promotionCode:u,type:d,journey:f}=this.searchData,_=(0,lo.B)(this._helperSvc.compactInputData({adult:e,child:i,infant:a,isDirectFlight:c,promotion:[],promotionCode:u,type:d+"",journey:f,agentPromotion:null}));this.parseQueryString(_),window.parent.postMessage({action:"redirect",url:"DEV"===this.appConfig.env?`/search-dev.html?${_}`:`/search.html?${_}`},"*")}parseQueryString(e){return e.split("&").reduce((i,a)=>{const[c,u]=a.split("=");return i[c]=decodeURIComponent(u),i},{})}subscribeStatusOrder(){this._btcSocketOrderSvc.paymentEvent$.subscribe(e=>{var i,a,c;this.btcLogErrorTeleSvc.notify(`paymentEvent: ${JSON.stringify(e)}`),null!==(c=null===(a=null===(i=this.bookingData)||void 0===i?void 0:i.booking)||void 0===a?void 0:a.orderInfo)&&void 0!==c&&c.state&&this.paymentCompleted(e.status)}),this._btcSocketOrderSvc.ticketIssuedSuccessfully$.subscribe(e=>{var i,a,c,u,d,f,_;this._getOrderDetailSvc.getOrderById(this.orderId).subscribe(m=>{this.progressDataOrderDetail(m)}),this.btcLogErrorTeleSvc.notify(`ticketIssuedSuccessfully: ${JSON.stringify(e)}`),null!==(c=null===(a=null===(i=this.bookingData)||void 0===i?void 0:i.booking)||void 0===a?void 0:a.orderInfo)&&void 0!==c&&c.state&&(this.updateStateBooking(e.status),this.progressDataOrderDetail(),this._eventLogService.issueTickets(Object.assign(Object.assign(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===re.YI.Single?"OW":"RT",start_point:null===(u=this.searchData.journey[0])||void 0===u?void 0:u.startPoint,end_point:null===(d=this.searchData.journey[0])||void 0===d?void 0:d.endPoint,departure_date:null!==(f=this.searchData.journey[0])&&void 0!==f&&f.departDate?Ot(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?Ot(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",has_inventory_ticket:this.ticketCur.ticketSelected.find(m=>m.ticketData&&"IVS"===m.ticketData.provider)?1:0,success:1},this.dataLog()),{price:this.ticketCur.ticketSelected.map(m=>{var x;const E=null===(x=m.ticketPriceList)||void 0===x?void 0:x.find(Z=>"ADT"===Z.code);return E?E.totalFare-E.discountAmount:0})}),null===(_=this._helperStorageSvc.btcCampaignData)||void 0===_?void 0:_.utmParams)))}),this._btcSocketOrderSvc.ticketIssuedFailed$.subscribe(e=>{var i,a,c,u,d,f,_;this.btcLogErrorTeleSvc.notify(`ticketIssuedFailed: ${JSON.stringify(e)}`),null!==(c=null===(a=null===(i=this.bookingData)||void 0===i?void 0:i.booking)||void 0===a?void 0:a.orderInfo)&&void 0!==c&&c.state&&(this.updateStateBooking(e.status),this._eventLogService.issueTickets(Object.assign(Object.assign(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===re.YI.Single?"OW":"RT",start_point:null===(u=this.searchData.journey[0])||void 0===u?void 0:u.startPoint,end_point:null===(d=this.searchData.journey[0])||void 0===d?void 0:d.endPoint,departure_date:null!==(f=this.searchData.journey[0])&&void 0!==f&&f.departDate?Ot(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?Ot(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",has_inventory_ticket:this.ticketCur.ticketSelected.find(m=>m.ticketData&&"IVS"===m.ticketData.provider)?1:0,success:0},this.dataLog()),{price:this.ticketCur.ticketSelected.map(m=>{var x;const E=null===(x=m.ticketPriceList)||void 0===x?void 0:x.find(Z=>"ADT"===Z.code);return E?E.totalFare-E.discountAmount:0})}),null===(_=this._helperStorageSvc.btcCampaignData)||void 0===_?void 0:_.utmParams)))})}updateStateBooking(e){this.bookingData=Object.assign(Object.assign({},this.bookingData),{booking:Object.assign(Object.assign({},this.bookingData.booking),{orderInfo:Object.assign(Object.assign({},this.bookingData.booking.orderInfo),{state:e})})})}paymentCompleted(e){var i,a,c,u;this.updateStateBooking(e),window.parent.postMessage({action:"payment",status:"success"},"*"),this._eventLogService.paymentSuccessOrderBtc(Object.assign(Object.assign(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===re.YI.Single?"OW":"RT",start_point:null===(i=this.searchData.journey[0])||void 0===i?void 0:i.startPoint,end_point:null===(a=this.searchData.journey[0])||void 0===a?void 0:a.endPoint,departure_date:this.searchData.journey&&null!==(c=this.searchData.journey[0])&&void 0!==c&&c.departDate?Ot(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?Ot(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",has_inventory_ticket:this.ticketCur.ticketSelected.find(d=>d.ticketData&&"IVS"===d.ticketData.provider)?1:0},this.dataLog()),{price:this.ticketCur.ticketSelected.map(d=>{var f;const _=null===(f=d.ticketPriceList)||void 0===f?void 0:f.find(m=>"ADT"===m.code);return _?_.totalFare-_.discountAmount:0})}),null===(u=this._helperStorageSvc.btcCampaignData)||void 0===u?void 0:u.utmParams))}updateStateCanceled(){var e,i,a,c;this.bookingData=Object.assign(Object.assign({},this.bookingData),{booking:Object.assign(Object.assign({},this.bookingData.booking),{orderInfo:Object.assign(Object.assign({},this.bookingData.booking.orderInfo),{state:"CANCELLED"})})}),this._eventLogService.timeExpiredPaymentBtc(Object.assign(Object.assign(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===re.YI.Single?"OW":"RT",start_point:null===(e=this.searchData.journey[0])||void 0===e?void 0:e.startPoint,end_point:null===(i=this.searchData.journey[0])||void 0===i?void 0:i.endPoint,departure_date:null!==(a=this.searchData.journey[0])&&void 0!==a&&a.departDate?Ot(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?Ot(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",has_inventory_ticket:this.ticketCur.ticketSelected.find(u=>u.ticketData&&"IVS"===u.ticketData.provider)?1:0},this.dataLog()),{price:this.ticketCur.ticketSelected.map(u=>{var d;const f=null===(d=u.ticketPriceList)||void 0===d?void 0:d.find(_=>"ADT"===_.code);return f?f.totalFare-f.discountAmount:0})}),null===(c=this._helperStorageSvc.btcCampaignData)||void 0===c?void 0:c.utmParams))}onRefund(){if(this.isMobile){const e=this._bottomSheetSvc.open(Ss,{headerTitle:"Y\xeau c\u1ea7u ho\xe0n ti\u1ec1n",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",data:{dataBooking:this.bookingData.booking}});e.containerInstance._rightButtonClick.subscribe(()=>{e.dismiss()})}else this._modal.open(Ss,{dataBooking:this.bookingData.booking})}confirmPaymentMethod(e){var i,a;this.stepMobile===ui.Pas&&(this.stepMobile=ui.Order),console.log("paymentMethod",e),e===ot.NINE_PAY&&null!==(a=null===(i=this.bookingData.booking)||void 0===i?void 0:i.orderInfo)&&void 0!==a&&a.orderId?this._getOrderDetailSvc.createPaymentNinePay(this.bookingData.booking.orderInfo.orderId).subscribe(c=>{c.redirectUrl&&(window.location.href=c.redirectUrl)}):(this.isConfirmPayment=!0,setTimeout(()=>{this.depositEl&&(console.log(this.depositEl),this.depositEl.nativeElement.scrollIntoView({behavior:"smooth",block:"center"}))}))}dataLog(){var e,i;const a=this.promoCodeBookingList.filter(_=>_.active),c={promoCodeBook:a.map(_=>_.code).join(","),totalPromoBook:a.reduce((_,m)=>_+m.discountByCondition,0)},u=this.ticketCur.ticketSelected.map(_=>{var m,x,E;return{airline:null===(m=_.ticketData)||void 0===m?void 0:m.airline,priceTotal:_.priceTotalByPassenger-(_.ticketPriceList?null===(x=_.ticketPriceList)||void 0===x?void 0:x.reduce((Z,D)=>Z+((null==D?void 0:D.discountAmount)*(null==D?void 0:D.quantity)||0),0):0),priceList:null===(E=_.ticketPriceList)||void 0===E?void 0:E.map(Z=>({code:Z.code,type:Z.type,net_price:Z.baseFare+Z.surCharge-Z.beService,services_fee:Z.beService,discount_amount:Z.discountAmount,total_price:Z.totalFare-Z.discountAmount*Z.quantity,quantity:Z.quantity}))}});return{promotions:[...this.promoCodeBookingList.filter(_=>_.active),this.searchData.promotionCode?{type:"SEARCH",code:this.searchData.promotionCode,total:this.amountDiscount}:[]],priceLog:u,totalCharge:{totalDiscount:this.amountDiscount,totalFare:(null===(e=this.ticketCur)||void 0===e?void 0:e.totalPrice)||0,totalPrice:((null===(i=this.ticketCur)||void 0===i?void 0:i.totalPrice)||0)-this.amountDiscount-c.totalPromoBook,totalPromoBook:c.totalPromoBook}}}exportBoardingPass(e){const i=this.boardingPassBlobs[e];if(!i)return void this._toastService.add({severity:"error",summary:"Ch\u01b0a s\u1eb5n s\xe0ng",detail:"H\xecnh \u1ea3nh m\u1eb7t v\xe9 ch\u01b0a \u0111\u01b0\u1ee3c t\u1ea3i xong. Vui l\xf2ng \u0111\u1ee3i gi\xe2y l\xe1t."});const a=new File([i],`mat_ve_${e+1}.jpeg`,{type:i.type});this.isMobile&&navigator.canShare&&navigator.canShare({files:[a]})?navigator.share({files:[a]}).then(()=>{this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"Chia s\u1ebb m\u1eb7t v\xe9 th\xe0nh c\xf4ng."})}).catch(c=>{console.error(c),(0,ar.saveAs)(i,`mat_ve_${e+1}.jpeg`)}):(0,ar.saveAs)(i,`mat_ve_${e+1}.jpeg`)}prepareBoardingPassImages(){console.log("Chu\u1ea9n b\u1ecb h\xecnh \u1ea3nh m\u1eb7t v\xe9..."),this.boardingPassBlobs=[],this.boardingPassGraphicRef.forEach((e,i)=>{Hi(e.getNativeElement(),{fetch:{bypassingCache:!0},drawImageInterval:1e3}).then(c=>{this.boardingPassBlobs[i]=c,console.log(`\u0110\xe3 t\u1ea1o blob cho m\u1eb7t v\xe9 index ${i}`,c)}).catch(c=>{console.error(`Kh\xf4ng th\u1ec3 t\u1ea1o blob cho m\u1eb7t v\xe9 index ${i}`,c)})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ri.L),t.Y36(I.a2),t.Y36(ut.oE),t.Y36(v.KNP),t.Y36(ai),t.Y36(qe.x),t.Y36(La),t.Y36(Jn.gz),t.Y36(wr),t.Y36(Gc),t.Y36(Jn.F0),t.Y36(hl),t.Y36(so.J),t.Y36(Jr.x),t.Y36(Rt.qB),t.Y36(wt._h),t.Y36(Pn.BX),t.Y36(wt.GM),t.Y36(Mr))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-result-booking"]],viewQuery:function(e,i){if(1&e&&(t.Gf(Dr,5,t.SBq),t.Gf(vp,5)),2&e){let a;t.iGM(a=t.CRH())&&(i.depositEl=a.first),t.iGM(a=t.CRH())&&(i.boardingPassGraphicRef=a)}},standalone:!0,features:[t.TTD,t.jDz],decls:141,vars:59,consts:[[1,"w-full","h-screen","!h-[100svh]","overflow-y-auto","overflow-x-hidden","bg-neutral-gray-1","relative"],[1,"gap-x-1.5","hidden","md:flex","w-full","bg-white","py-2","px-4"],[1,"flex","justify-around","w-full","gap-x-4"],[1,"px-4","py-1.5","rounded-full","text-body-md-short","text-neutral-gray-4","border","border-transparent","w-fit","flex","justify-center",3,"click"],[1,"w-full","max-w-[1366px]","mx-auto","relative","flex","md:flex-col","pb-8","md:pt-2","pt-6","gap-6","md:gap-0"],[1,"flex-1","flex","flex-col","gap-6","md:gap-4","md:hidden"],[1,"px-4","md:px-3","flex","gap-x-[10px]","md:hidden"],["src","/assets/images/b2c/flight-minimum.svg"],[1,"text-heading-md","uppercase","font-bold","text-red-4"],[1,"flex","flex-col","gap-2","w-full","md:px-3"],[1,"bg-white","shadow-lg","rounded","py-4","px-6","md:px-3","md:py-3","flex","flex-col","gap-4"],[1,"flex","gap-2","items-center","text-neutral-gray-6","text-heading-sm","font-medium","md:hidden"],["icon","circle_information","size","small"],[1,"flex","md:bg-white","flex-wrap","gap-y-2"],["class","flex flex-col justify-between pr-[30px] md:px-2 border-r border-dashed border-neutral-gray-3 pl-0",4,"ngIf"],[1,"flex","flex-col","justify-between","pr-[30px]","md:px-2","border-r","border-dashed","border-neutral-gray-3",3,"ngClass"],[1,"text-body-md","md:text-body-xs","text-neutral-gray-4"],["class","font-semibold text-heading-lg md:text-heading-md",4,"ngIf","ngIfElse"],[1,"flex-1","flex","flex-col","justify-between","pl-[30px]","md:pl-2","min-h-10"],["class","font-semibold text-heading-lg md:text-body-sm whitespace-nowrap",4,"ngIf","ngIfElse"],["class","w-full rounded md:text-body-md bg-purple-1 py-[6px] px-3 text-neutral-gray-6",4,"ngIf"],["class","flex flex-col gap-4 w-full",4,"ngIf"],[4,"ngIf"],[1,"w-full","md:px-3","md:hidden"],[1,"p-6","md:p-2","bg-white","rounded-lg","flex","flex-col","gap-6","md:gap-4"],[1,"flex","items-center","w-full","justify-between","cursor-pointer",3,"click"],[1,"px-4","md:px-3","gap-2","items-center","text-neutral-gray-6","text-heading-sm","font-medium"],["size","small",3,"icon"],["class","p-6 md:p-0 bg-white rounded-lg",4,"ngIf"],["class","flex flex-col gap-2 w-full",4,"ngIf"],[1,"w-full","md:px-3","md:flex-col","flex","gap-3"],["cf-button","","type","secondary",1,"min-w-[100px]","w-full","justify-center","bg-neutral-white",3,"click"],["icon","arrow_left","size","small",1,"mr-2.5"],[1,"flex","flex-col","gap-6","p-6","md:p-3","bg-white","rounded","px-4","md:px-0","shadow-lg"],[1,"flex","flex-col","gap-4","md:px-4"],[1,"text-heading-lg","font-bold","uppercase","md:text-heading-md"],[1,"flex","justify-between","md:flex-col","md:gap-3"],[1,"flex","gap-[10px]"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_148999)"],["x","0.5","y","12","width","16","height","16","rx","2","transform","rotate(-45 0.5 12)","fill","#FFECEB"],["d","M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z","stroke","#E03C31","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M12 22C16 18 20 14.4183 20 10C20 5.58172 16.4183 2 12 2C7.58172 2 4 5.58172 4 10C4 14.4183 8 18 12 22Z","stroke","#E03C31","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["id","clip0_1_148999"],["width","24","height","24","fill","white"],[1,"text-body-md","font-semibold","text-neutral-gray-5"],[1,"text-neutral-gray-6","text-heading-md","font-medium"],["width","25","height","24","viewBox","0 0 25 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_149004)"],["x","1","y","12","width","16","height","16","rx","2","transform","rotate(-45 1 12)","fill","#FFECEB"],["d","M14.5497 6C15.5264 6.19057 16.424 6.66826 17.1277 7.37194C17.8314 8.07561 18.3091 8.97326 18.4997 9.95M14.5497 2C16.5789 2.22544 18.4713 3.13417 19.9159 4.57701C21.3606 6.01984 22.2717 7.91101 22.4997 9.94M10.7266 13.8631C9.52506 12.6615 8.57627 11.3028 7.88028 9.85323C7.82041 9.72854 7.79048 9.66619 7.76748 9.5873C7.68576 9.30695 7.74446 8.96269 7.91447 8.72526C7.96231 8.65845 8.01947 8.60129 8.13378 8.48698C8.48338 8.13737 8.65819 7.96257 8.77247 7.78679C9.20347 7.1239 9.20347 6.26932 8.77247 5.60643C8.65819 5.43065 8.48338 5.25585 8.13378 4.90624L7.93891 4.71137C7.40747 4.17993 7.14174 3.91421 6.85636 3.76987C6.2888 3.4828 5.61854 3.4828 5.05098 3.76987C4.7656 3.91421 4.49987 4.17993 3.96843 4.71137L3.8108 4.86901C3.28117 5.39863 3.01636 5.66344 2.81411 6.02348C2.58969 6.42298 2.42833 7.04347 2.4297 7.5017C2.43092 7.91464 2.51103 8.19687 2.67124 8.76131C3.53221 11.7947 5.15668 14.6571 7.54466 17.045C9.93264 19.433 12.795 21.0575 15.8284 21.9185C16.3928 22.0787 16.6751 22.1588 17.088 22.16C17.5462 22.1614 18.1667 22 18.5662 21.7756C18.9263 21.5733 19.1911 21.3085 19.7207 20.7789L19.8783 20.6213C20.4098 20.0898 20.6755 19.8241 20.8198 19.5387C21.1069 18.9712 21.1069 18.3009 20.8198 17.7333C20.6755 17.448 20.4098 17.1822 19.8783 16.6508L19.6835 16.4559C19.3339 16.1063 19.1591 15.9315 18.9833 15.8172C18.3204 15.3862 17.4658 15.3862 16.8029 15.8172C16.6271 15.9315 16.4523 16.1063 16.1027 16.4559C15.9884 16.5702 15.9313 16.6274 15.8644 16.6752C15.627 16.8453 15.2828 16.904 15.0024 16.8222C14.9235 16.7992 14.8612 16.7693 14.7365 16.7094C13.2869 16.0134 11.9282 15.0646 10.7266 13.8631Z","stroke","#E03C31","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["id","clip0_1_149004"],["width","24","height","24","fill","white","transform","translate(0.5)"],[1,"flex","flex-col","gap-3"],["clip-path","url(#clip0_1_149013)"],["d","M2 7L10.1649 12.7154C10.8261 13.1783 11.1567 13.4097 11.5163 13.4993C11.8339 13.5785 12.1661 13.5785 12.4837 13.4993C12.8433 13.4097 13.1739 13.1783 13.8351 12.7154L22 7M6.8 20H17.2C18.8802 20 19.7202 20 20.362 19.673C20.9265 19.3854 21.3854 18.9265 21.673 18.362C22 17.7202 22 16.8802 22 15.2V8.8C22 7.11984 22 6.27976 21.673 5.63803C21.3854 5.07354 20.9265 4.6146 20.362 4.32698C19.7202 4 18.8802 4 17.2 4H6.8C5.11984 4 4.27976 4 3.63803 4.32698C3.07354 4.6146 2.6146 5.07354 2.32698 5.63803C2 6.27976 2 7.11984 2 8.8V15.2C2 16.8802 2 17.7202 2.32698 18.362C2.6146 18.9265 3.07354 19.3854 3.63803 19.673C4.27976 20 5.11984 20 6.8 20Z","stroke","#E03C31","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["id","clip0_1_149013"],[1,"flex","gap-6","md:flex-col","md:px-4"],["cf-button","","type","solid",1,"min-w-[100px]","md:w-full","justify-center","gap-2","!bg-neutral-gray-5","!h-[48px]","flex","items-center","text-center","text-white","hover:bg-neutral-gray-5",3,"click"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.75 12C1.75 6.61522 6.11522 2.25 11.5 2.25H13.5C18.8848 2.25 23.25 6.61522 23.25 12C23.25 17.3848 18.8848 21.75 13.5 21.75H6.5C3.87665 21.75 1.75 19.6234 1.75 17V12ZM11.5 3.75C6.94365 3.75 3.25 7.44365 3.25 12V17C3.25 18.7949 4.70507 20.25 6.5 20.25H13.5C18.0564 20.25 21.75 16.5563 21.75 12C21.75 7.44365 18.0564 3.75 13.5 3.75H11.5ZM7.75 10C7.75 9.58579 8.08579 9.25 8.5 9.25H16.5C16.9142 9.25 17.25 9.58579 17.25 10C17.25 10.4142 16.9142 10.75 16.5 10.75H8.5C8.08579 10.75 7.75 10.4142 7.75 10ZM7.75 14C7.75 13.5858 8.08579 13.25 8.5 13.25H12.5C12.9142 13.25 13.25 13.5858 13.25 14C13.25 14.4142 12.9142 14.75 12.5 14.75H8.5C8.08579 14.75 7.75 14.4142 7.75 14Z","fill","white"],["cf-button","","type","solid",1,"md:text-justify","min-w-[100px]","w-full","flex-1","justify-center","gap-2","!h-[48px]","flex","items-center","text-center","text-white",3,"click"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.75 7C1.75 4.37665 3.87665 2.25 6.5 2.25H18.5C21.1234 2.25 23.25 4.37665 23.25 7V17C23.25 19.6234 21.1234 21.75 18.5 21.75H6.5C3.87665 21.75 1.75 19.6234 1.75 17V7ZM6.5 3.75C4.70507 3.75 3.25 5.20507 3.25 7V17C3.25 18.7949 4.70507 20.25 6.5 20.25H18.5C20.2949 20.25 21.75 18.7949 21.75 17V7C21.75 5.20507 20.2949 3.75 18.5 3.75H6.5ZM5.87596 7.58397C6.10573 7.23933 6.57138 7.1462 6.91603 7.37596L10.6972 9.89676C11.7889 10.6245 13.2111 10.6245 14.3028 9.89676L18.084 7.37596C18.4286 7.1462 18.8943 7.23933 19.124 7.58397C19.3538 7.92862 19.2607 8.39427 18.916 8.62404L15.1348 11.1448C13.5393 12.2085 11.4607 12.2085 9.86518 11.1448L6.08397 8.62404C5.73933 8.39427 5.6462 7.92862 5.87596 7.58397Z","fill","white"],[1,"min-w-[248px]","max-w-[302px]","w-full","mr-auto","md:max-w-full","md:hidden","rounded-xl","md:rounded-none","md:px-2","md:mt-3"],[1,"min-w-[248px]","w-full","max-w-[302px]","flex-shrink-0","md:rounded-none","rounded-xl","flex","flex-col","gap-6","h-fit","md:static","md:max-w-full","sticky","top-0"],[1,"p-6","md:p-2","bg-white","rounded-lg","md:flex","md:flex-col","hidden","gap-6","md:gap-4"],[1,"flex","flex-col","gap-2"],["class","w-full hidden md:flex md:flex-col pl-3 pb-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"bg-neutral-white","rounded-xl","md:rounded-none","shadow-lg"],[1,"flex","justify-between","items-center","py-3","px-4","border-b","border-neutral-gray-2"],[1,"text-espressive-sm","text-neutral-black"],["class","rounded-b-xl",3,"searchInput","ticketCur","hiddenBtn","showDetail",4,"ngIf"],[1,"p-4","flex","flex-col","divide-y","divide-neutral-gray-4"],[1,""],["class","flex flex-col gap-2 pt-3",4,"ngIf"],[1,"flex","justify-between","items-center","py-3","px-4","md:rounded-none","rounded-b-xl","border-t","border-neutral-gray-1"],[1,"text-heading-md","text-neutral-black"],[3,"bookingContact","invoiceInfo","bookingPassengers","amountDiscount",4,"ngIf"],["class","hidden w-full md:z-10 gap-2 items-center justify-end md:flex md:fixed md:bottom-0 md:left-0 md:bg-white md:py-4 md:px-3",4,"ngIf"],["emptyTabComboItemTpl",""],[1,"flex","flex-col","justify-between","pr-[30px]","md:px-2","border-r","border-dashed","border-neutral-gray-3","pl-0"],[1,"font-semibold","text-heading-lg","md:text-heading-md"],[1,"font-semibold","text-heading-lg","md:text-body-sm","whitespace-nowrap"],["class","py-1 px-2 rounded-full w-fit gap-1 h-fit flex items-center justify-center",3,"ngClass",4,"ngIf"],[1,"py-1","px-2","rounded-full","w-fit","gap-1","h-fit","flex","items-center","justify-center",3,"ngClass"],["size","small",1,"md:hidden","text-white",3,"icon"],[1,"text-neutral-white","text-body-sm"],[1,"w-full","rounded","md:text-body-md","bg-purple-1","py-[6px]","px-3","text-neutral-gray-6"],["href","https://giacmobayre.vn/tra-cuu-don-hang.html",1,"cursor-pointer","text-red-4"],["href","https://giacmobayre.vn",1,"cursor-pointer","text-red-4"],[1,"flex","flex-col","gap-4","w-full"],[1,"flex","gap-2","items-center"],[1,"text-neutral-gray-6","font-medium","text-body-lg"],[1,"text-body-md-short","text-neutral-gray-6"],["class","flex flex-col gap-6 md:gap-4 w-full",4,"ngIf","ngIfElse"],[1,"flex","flex-col","gap-6","md:gap-4","w-full"],[4,"ngFor","ngForOf"],[1,"text-neutral-gray-6","flex","justify-between","items-center","gap-2","text-body-md","font-semibold","p-3","rounded-md","bg-green-1","cursor-pointer",3,"click"],["class","flex items-center gap-[6px] font-medium text-body-md ",4,"ngIf"],["class","flex items-center gap-[6px] font-medium text-body-md",4,"ngIf"],[1,"text-black","font-medium","text-heading-xxl","md:text-heading-lg"],["class","w-auto justify-center items-center md:flex hidden",4,"ngIf"],["class","w-auto justify-center flex md:hidden ",4,"ngIf"],[1,"flex","items-center","gap-[6px]","font-medium","text-body-md"],["icon","circle_check","size","small",1,"text-green-3"],[1,"w-auto","justify-center","items-center","md:flex","hidden"],["icon","share","size","large",1,"mr-1.5"],[1,"w-auto","justify-center","flex","md:hidden"],["icon","download","size","small",1,"mr-1.5"],[1,"w-full","text-red-4","text-body-md","flex","gap-2","items-center","md:px-3"],["icon","warning","size","small"],[1,"w-full","flex","flex-col","md:hidden"],[1,"flex","items-center","justify-between","w-full","py-3","mb-2","border-b","border-neutral-gray-3"],[1,"text-neutral-gray-4","font-semibold","text-body-sm","flex-1","px-3","w-5/12"],[1,"text-neutral-gray-4","font-semibold","text-body-sm","flex-1","px-3","w-2/12"],[1,"text-neutral-gray-4","font-semibold","text-body-sm","flex-1","px-3","w-3/12"],["class","w-full mt-2",4,"ngIf"],[1,"w-full","mt-2"],["class","py-2 flex items-center justify-between w-full",4,"ngFor","ngForOf"],[1,"py-2","flex","items-center","justify-between","w-full"],[1,"text-neutral-gray-6","text-body-md","flex-1","px-3","w-5/12"],[1,"text-neutral-gray-6","text-body-md","flex-1","px-3","w-2/12"],[1,"text-neutral-gray-6","text-body-md","flex-1","px-3","w-3/12"],[1,"w-full","hidden","md:flex","md:flex-col","pl-3","pb-2",3,"ngClass"],[1,"flex","gap-2","items-center","py-1"],[1,"text-neutral-gray-4","text-body-sm"],[1,"text-neutral-gray-6","text-body-md","font-medium"],["class","flex gap-2 items-center py-1",4,"ngIf"],[1,"p-6","md:p-0","bg-white","rounded-lg"],[3,"orderId","stepMobile","updateTimeExpired","timeExpiredChange","isPaymentCompletedChange"],["dipositCpn",""],[1,"flex","flex-col","gap-2","w-full"],[1,"bg-white","shadow-lg","rounded","py-4","px-6","flex","flex-col","gap-6"],[1,"flex","gap-2","items-center","text-neutral-gray-6","text-heading-sm","font-medium"],[1,"flex","flex-col","gap-x-8","justify-start","gap-y-6","md:gap-y-3","flex-1",3,"ngModel","ngModelChange"],["size","medium",1,"[&>*]:!items-start","[&>*]:w-full","[&>*>svg]:!mt-2",3,"value"],[1,"flex","gap-3"],["src","/assets/bank-logo/qr.svg",1,"w-10","h-10"],[1,"flex","gap-3","items-center","py-3","md:flex-wrap"],[1,"flex","gap-3","md:hidden"],[1,"text-white","bg-neutral-gray-4","py-[2px]","px-1","flex","rounded","text-body-sm"],["class","bg-neutral-gray-2 rounded p-4 md:gap-3 md:hidden flex flex-col gap-3 flex-wrap max-w-[686px]",4,"ngIf"],["class","md:flex gap-3 hidden",4,"ngIf"],["class","bg-neutral-gray-2 rounded p-4 md:gap-3 md:flex hidden flex-col gap-3 flex-wrap max-w-[686px]",4,"ngIf"],["size","medium",1,"[&>*]:!items-start","[&>*>svg]:!mt-2","[&>*]:w-full",3,"value"],[1,"flex","gap-3","flex-1"],["src","/assets/bank-logo/transfer.png",1,"w-10","h-10"],["class","bg-neutral-gray-2 rounded p-4 w-full flex md:hidden",4,"ngIf"],["class","bg-neutral-gray-2 rounded md:flex hidden p-4 w-full",4,"ngIf"],["src","/assets/bank-logo/logo-nine-pay.png",1,"w-10","h-10"],["class","bg-neutral-gray-2 md:hidden rounded p-4 gap-3 flex flex-col",4,"ngIf"],["class","bg-neutral-gray-2 rounded p-4 gap-3 hidden md:flex flex-col",4,"ngIf"],[1,"flex","w-full","md:z-10","gap-2","items-center","justify-end","md:hidden","md:bottom-0","md:left-0","md:bg-white","md:py-4","md:px-3"],["cf-button","","size","medium","color","primary-1","type","solid",1,"md:justify-center",3,"click"],[1,"bg-neutral-gray-2","rounded","p-4","md:gap-3","md:hidden","flex","flex-col","gap-3","flex-wrap","max-w-[686px]"],[1,"flex","gap-x-[6px]","gap-y-3","flex-wrap","md:gap-y-1","md:gap-x-1"],["src","/assets/bank-logo/book-logo-momo.png",1,"w-auto","h-[26px]","object-contain"],["src","/assets/bank-logo/book-logo-vn-pay.png",1,"w-auto","h-[26px]","object-contain"],["src","/assets/bank-logo/book-logo-zl-pay.png",1,"w-auto","h-[26px]","object-contain"],["src","/assets/bank-logo/book-logo-mb.png",1,"w-auto","h-[26px]","object-contain"],["src","/assets/bank-logo/book-logo-vcb.png",1,"w-auto","h-[26px]","object-contain"],["src","/assets/bank-logo/book-logo-vtb.png",1,"w-auto","h-[26px]","object-contain"],["src","/assets/bank-logo/book-logo-bidv.png",1,"w-auto","h-[26px]","object-contain"],["src","/assets/bank-logo/book-logo-acb.png",1,"w-auto","h-[26px]","object-contain"],["src","/assets/bank-logo/book-logo-agb.png",1,"w-auto","h-[26px]","object-contain"],["src","/assets/bank-logo/book-logo-tcb.png",1,"w-auto","h-[26px]","object-contain"],["src","/assets/bank-logo/book-logo-tpb.png",1,"w-auto","h-[26px]","object-contain"],["src","/assets/bank-logo/book-logo-vpb.png",1,"w-auto","h-[26px]","object-contain"],["src","/assets/bank-logo/book-logo-exb.png",1,"w-auto","h-[26px]","object-contain"],["src","/assets/bank-logo/book-logo-ocb.png",1,"w-auto","h-[26px]","object-contain"],["src","/assets/bank-logo/book-logo-sab.png",1,"w-auto","h-[26px]","object-contain"],[1,"bg-white","h-[26px]","flex","items-center","px-1","justify-center"],["src","/assets/bank-logo/book-logo-hdb.png",1,"w-auto","h-[20px]","object-contain","bg-white"],["src","/assets/bank-logo/book-logo-vib.png",1,"w-auto","h-[26px]","object-contain"],["src","/assets/bank-logo/book-logo-sc.png",1,"w-auto","h-[26px]","object-contain"],["src","/assets/bank-logo/book-logo-scb.png",1,"w-auto","h-[26px]","object-contain"],[1,"md:flex","gap-3","hidden"],[1,"bg-neutral-gray-2","rounded","p-4","md:gap-3","md:flex","hidden","flex-col","gap-3","flex-wrap","max-w-[686px]"],[1,"bg-neutral-gray-2","rounded","p-4","w-full","flex","md:hidden"],[1,"text-neutral-gray-6","text-body-md"],[1,"bg-neutral-gray-2","rounded","md:flex","hidden","p-4","w-full"],[1,"bg-neutral-gray-2","md:hidden","rounded","p-4","gap-3","flex","flex-col"],["src","/assets/bank-logo/book-logo-visa.png",1,"w-auto","h-[26px]","object-contain"],["src","/assets/bank-logo/book-logo-master-card.png",1,"w-auto","h-[26px]","object-contain"],["src","/assets/bank-logo/book-logo-jcb.png",1,"w-auto","h-[26px]","object-contain"],["src","/assets/bank-logo/book-logo-atm.png",1,"w-auto","h-[26px]","object-contain"],["src","/assets/bank-logo/book-logo-vnpay.png",1,"w-auto","h-[26px]","object-contain"],["src","/assets/bank-logo/book-logo-zalo-pay.png",1,"w-auto","h-[26px]","object-contain"],[1,"text-neutral-gray-6","italic","text-body-sm"],[1,"bg-neutral-gray-2","rounded","p-4","gap-3","hidden","md:flex","flex-col"],[1,"rounded-b-xl",3,"searchInput","ticketCur","hiddenBtn","showDetail"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"flex","flex-col","divide-y","divide-neutral-gray-4"],[1,"flex","flex-col","gap-3","pb-3"],[1,"text-neutral-gray-6","font-medium","text-heading-xs"],["class","flex justify-between gap-2 items-center",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-3","py-3"],[1,"flex","justify-between","gap-2","items-center"],[1,"text-neutral-gray-5","text-body-md-short"],[1,"text-neutral-gray-6","font-medium","text-body-md","whitespace-normal"],["class","flex justify-between gap-2 items-center",4,"ngIf"],[1,"text-neutral-gray-5","text-body-md-short","max-w-[158px]","truncate"],[1,"flex","flex-col","gap-2","py-3"],[1,"flex","flex-col","gap-2","pt-3"],[1,"text-neutral-gray-6","font-medium","text-heading-xs","mb-1"],["class","flex justify-between",4,"ngIf"],[1,"flex","justify-between"],[3,"bookingContact","invoiceInfo","bookingPassengers","amountDiscount"],[1,"hidden","w-full","md:z-10","gap-2","items-center","justify-end","md:flex","md:fixed","md:bottom-0","md:left-0","md:bg-white","md:py-4","md:px-3"],[1,"absolute","bottom-[10000px]",3,"ticketPriceDetail","boardingPassGraphicData","isShowMembership"],["boardingPassGraphicRef",""],[1,"w-28","md:w-20","bg-neutral-gray-2","h-8","mt-1","rounded-md","animate-pulse"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"header-btc"),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3),t.NdJ("click",function(){return i.stepMobileChange(i.StepMobile.Order)}),t._uU(5," T\u1ed5ng quan \u0111\u01a1n h\xe0ng "),t.qZA(),t.TgZ(6,"div",3),t.NdJ("click",function(){return i.stepMobileChange(i.StepMobile.Pas)}),t._uU(7," Chi ti\u1ebft \u0111\u01a1n h\xe0ng "),t.qZA()()(),t.TgZ(8,"div",4)(9,"div",5)(10,"div",6),t._UZ(11,"img",7),t.TgZ(12,"div",8),t._uU(13,"Chi ti\u1ebft \u0111\u01a1n h\xe0ng"),t.qZA()(),t.TgZ(14,"div",9)(15,"div",10)(16,"div",11),t._UZ(17,"cf-icon",12),t._uU(18," T\u1ed5ng quan \u0111\u01a1n h\xe0ng "),t.qZA(),t.TgZ(19,"div",13),t.YNc(20,yp,4,2,"div",14),t.TgZ(21,"div",15)(22,"div",16),t._uU(23," T\u1ed5ng ti\u1ec1n (\u0111\xe3 g\u1ed3m VAT) "),t.qZA(),t.YNc(24,ml,4,7,"div",17),t.qZA(),t.TgZ(25,"div",18)(26,"div",16),t._uU(27," Tr\u1ea1ng th\xe1i "),t.qZA(),t.YNc(28,bp,2,1,"div",19),t.qZA()(),t.YNc(29,kp,8,2,"div",20),t.YNc(30,Ap,13,0,"div",20),t.YNc(31,bn,9,0,"div",20),t.YNc(32,Dp,10,4,"div",20),t.YNc(33,wp,20,0,"div",21),t.YNc(34,gs,26,5,"div",21),t.YNc(35,Np,14,13,"div",21),t.qZA()(),t.YNc(36,Rp,2,1,"ng-container",22),t.YNc(37,Lp,8,14,"ng-container",22),t.TgZ(38,"div",23)(39,"div",24)(40,"div",25),t.NdJ("click",function(){return i.expandInfoPax=!i.expandInfoPax}),t.TgZ(41,"div",26),t._uU(42," Th\xf4ng tin h\xe0nh kh\xe1ch "),t.qZA(),t._UZ(43,"cf-icon",27),t.qZA(),t.YNc(44,jp,14,2,"ng-container",22),t.qZA()(),t.YNc(45,Yp,3,2,"div",28),t.YNc(46,yl,54,13,"div",29),t.TgZ(47,"div",30)(48,"button",31),t.NdJ("click",function(){return i.onBack()}),t._UZ(49,"cf-icon",32),t._uU(50," T\xecm ki\u1ebfm chuy\u1ebfn bay kh\xe1c "),t.qZA()(),t.TgZ(51,"div",33)(52,"div",34)(53,"div",35),t._uU(54," Li\xean h\u1ec7 "),t.qZA(),t.TgZ(55,"div",36)(56,"div",37),t.O4$(),t.TgZ(57,"svg",38)(58,"g",39),t._UZ(59,"rect",40)(60,"path",41)(61,"path",42),t.qZA(),t.TgZ(62,"defs")(63,"clipPath",43),t._UZ(64,"rect",44),t.qZA()()(),t.kcU(),t.TgZ(65,"div")(66,"div",45),t._uU(67," Website "),t.qZA(),t.TgZ(68,"div",46),t._uU(69," giacmobayre.vn "),t.qZA()()(),t.TgZ(70,"div",37),t.O4$(),t.TgZ(71,"svg",47)(72,"g",48),t._UZ(73,"rect",49)(74,"path",50),t.qZA(),t.TgZ(75,"defs")(76,"clipPath",51),t._UZ(77,"rect",52),t.qZA()()(),t.kcU(),t.TgZ(78,"div",53)(79,"div")(80,"div",45),t._uU(81," T\u1ed5ng \u0111\xe0i "),t.qZA(),t.TgZ(82,"div",46),t._uU(83," 1900 866 657 "),t.qZA()()()(),t.TgZ(84,"div",37),t.O4$(),t.TgZ(85,"svg",38)(86,"g",54),t._UZ(87,"rect",40)(88,"path",55),t.qZA(),t.TgZ(89,"defs")(90,"clipPath",56),t._UZ(91,"rect",44),t.qZA()()(),t.kcU(),t.TgZ(92,"div")(93,"div",45),t._uU(94," Email "),t.qZA(),t.TgZ(95,"div",46),t._uU(96," info@giacmobayre.vn "),t.qZA()()()()(),t.TgZ(97,"div",57)(98,"button",58),t.NdJ("click",function(){return i.openNewTab("https://zalo.me/3323580350383162398")}),t._uU(99," T\u01b0 v\u1ea5n cho t\xf4i "),t.O4$(),t.TgZ(100,"svg",47),t._UZ(101,"path",59),t.qZA()(),t.kcU(),t.TgZ(102,"button",60),t.NdJ("click",function(){return i.openNewTab("https://zalo.me/3323580350383162398")}),t._uU(103," Nh\u1eadn nh\u1eefng ch\u01b0\u01a1ng tr\xecnh h\u1ee3p t\xe1c, \u01b0u \u0111\xe3i v\xe0 tin t\u1ee9c t\u1eeb GMBR "),t.O4$(),t.TgZ(104,"svg",47),t._UZ(105,"path",61),t.qZA()()()()(),t.kcU(),t.TgZ(106,"div",62)(107,"div",63)(108,"div",64)(109,"div",65),t.YNc(110,t1,17,7,"div",66),t.qZA()(),t.TgZ(111,"div",67)(112,"div",68)(113,"div",69),t._uU(114,"Chuy\u1ebfn bay c\u1ee7a b\u1ea1n"),t.qZA()(),t.TgZ(115,"div"),t.YNc(116,e1,1,3,"btc-ticket-sticky-selected",70),t.qZA()(),t.TgZ(117,"div",67)(118,"div",68)(119,"div",69),t._uU(120,"Chi ti\u1ebft thanh to\xe1n"),t.qZA()(),t.TgZ(121,"div",71)(122,"div",72),t.YNc(123,f1,4,2,"ng-container",22),t.qZA(),t.YNc(124,v1,6,5,"div",73),t.qZA(),t.TgZ(125,"div",74)(126,"div",69),t._uU(127,"T\u1ed5ng thanh to\xe1n:"),t.qZA(),t.TgZ(128,"div",75),t._uU(129),t.ALo(130,"replace"),t.ALo(131,"number"),t.ALo(132,"mapper"),t.ALo(133,"mapper"),t.qZA()()(),t.TgZ(134,"div"),t.YNc(135,x1,1,4,"btc-ticket-sticky-booking",76),t.qZA()()(),t.YNc(136,y1,3,0,"div",77),t.qZA(),t._UZ(137,"footer-btc"),t.qZA(),t.YNc(138,b1,2,1,"ng-container",22),t.YNc(139,T1,1,0,"ng-template",null,78,t.W1O)),2&e){const a=t.MAs(140);t.xp6(4),t.ekj("text-secondary-3-4",i.stepMobile===i.StepMobile.Order)("!border-secondary-3-4",i.stepMobile===i.StepMobile.Order)("bg-secondary-3-1",i.stepMobile===i.StepMobile.Order)("!text-espressive-md-short",i.stepMobile===i.StepMobile.Order),t.xp6(2),t.ekj("text-secondary-3-4",i.stepMobile===i.StepMobile.Pas)("!border-secondary-3-4",i.stepMobile===i.StepMobile.Pas)("bg-secondary-3-1",i.stepMobile===i.StepMobile.Pas)("!text-espressive-md-short",i.stepMobile===i.StepMobile.Pas),t.xp6(3),t.ekj("!flex",i.stepMobile===i.StepMobile.Order),t.xp6(11),t.Q6J("ngIf","PAYMENT_PROCESSING"!==(null==i.bookingData||null==i.bookingData.booking||null==i.bookingData.booking.orderInfo?null:i.bookingData.booking.orderInfo.state)&&"CANCELLED"!==(null==i.bookingData||null==i.bookingData.booking||null==i.bookingData.booking.orderInfo?null:i.bookingData.booking.orderInfo.state)),t.xp6(1),t.Q6J("ngClass","PAYMENT_PROCESSING"!==(null==i.bookingData||null==i.bookingData.booking||null==i.bookingData.booking.orderInfo?null:i.bookingData.booking.orderInfo.state)?"pl-[30px]":"pl-0"),t.xp6(3),t.Q6J("ngIf",null==i.bookingData||null==i.bookingData.booking?null:i.bookingData.booking.orderInfo)("ngIfElse",a),t.xp6(4),t.Q6J("ngIf",(null==i.bookingData?null:i.bookingData.booking)&&(null==i.bookingData.booking||null==i.bookingData.booking.orderInfo?null:i.bookingData.booking.orderInfo.state))("ngIfElse",a),t.xp6(1),t.Q6J("ngIf","PAYMENT_PROCESSING"===(null==i.bookingData||null==i.bookingData.booking||null==i.bookingData.booking.orderInfo?null:i.bookingData.booking.orderInfo.state)),t.xp6(1),t.Q6J("ngIf","PAYMENT_SUCCESS"===(null==i.bookingData||null==i.bookingData.booking||null==i.bookingData.booking.orderInfo?null:i.bookingData.booking.orderInfo.state)),t.xp6(1),t.Q6J("ngIf","REFUNDED"===(null==i.bookingData||null==i.bookingData.booking||null==i.bookingData.booking.orderInfo?null:i.bookingData.booking.orderInfo.state)),t.xp6(1),t.Q6J("ngIf","CANCELLED"===(null==i.bookingData||null==i.bookingData.booking||null==i.bookingData.booking.orderInfo?null:i.bookingData.booking.orderInfo.state)),t.xp6(1),t.Q6J("ngIf","FAILED"===(null==i.bookingData||null==i.bookingData.booking||null==i.bookingData.booking.orderInfo?null:i.bookingData.booking.orderInfo.state)),t.xp6(1),t.Q6J("ngIf","SUCCESS"===(null==i.bookingData||null==i.bookingData.booking||null==i.bookingData.booking.orderInfo?null:i.bookingData.booking.orderInfo.state)),t.xp6(1),t.Q6J("ngIf","PAYMENT_SUCCESS"===(null==i.bookingData||null==i.bookingData.booking||null==i.bookingData.booking.orderInfo?null:i.bookingData.booking.orderInfo.state)),t.xp6(1),t.Q6J("ngIf",i.ticketCur&&(null==i.ticketCur||null==i.ticketCur.ticketSelected?null:i.ticketCur.ticketSelected.length)&&((null==i.ticketCur.ticketSelected[0]?null:i.ticketCur.ticketSelected[0].ticketData)||(null==i.ticketCur.ticketSelected[1]?null:i.ticketCur.ticketSelected[1].ticketData))&&((null==i.ticketCur.ticketSelected[0]||null==i.ticketCur.ticketSelected[0].ticketData||null==i.ticketCur.ticketSelected[0].ticketData.fareCur?null:i.ticketCur.ticketSelected[0].ticketData.fareCur.seatRemain)<9||(null==i.ticketCur.ticketSelected[1]||null==i.ticketCur.ticketSelected[1].ticketData||null==i.ticketCur.ticketSelected[1].ticketData.fareCur?null:i.ticketCur.ticketSelected[1].ticketData.fareCur.seatRemain)<9)&&"PAYMENT_PROCESSING"===(null==i.bookingData||null==i.bookingData.booking||null==i.bookingData.booking.orderInfo?null:i.bookingData.booking.orderInfo.state)&&i.searchData.typeOfList!==i.btcTypeOfListSearch.Combo),t.xp6(1),t.Q6J("ngIf",i.ticketCur&&(null==i.ticketCur.ticketSelected?null:i.ticketCur.ticketSelected.length)&&((null==i.ticketCur.ticketSelected[0]?null:i.ticketCur.ticketSelected[0].ticketData)||(null==i.ticketCur.ticketSelected[1]?null:i.ticketCur.ticketSelected[1].ticketData))&&((null==i.ticketCur.ticketSelected[0]||null==i.ticketCur.ticketSelected[0].ticketData||null==i.ticketCur.ticketSelected[0].ticketData.fareCur?null:i.ticketCur.ticketSelected[0].ticketData.fareCur.seatRemain)<9||(null==i.ticketCur.ticketSelected[1]||null==i.ticketCur.ticketSelected[1].ticketData||null==i.ticketCur.ticketSelected[1].ticketData.fareCur?null:i.ticketCur.ticketSelected[1].ticketData.fareCur.seatRemain)<9)&&"PAYMENT_PROCESSING"===(null==i.bookingData||null==i.bookingData.booking||null==i.bookingData.booking.orderInfo?null:i.bookingData.booking.orderInfo.state)&&i.searchData.typeOfList===i.btcTypeOfListSearch.Combo),t.xp6(6),t.Q6J("icon",i.expandInfoPax?"chevron_up":"chevron_down"),t.xp6(1),t.Q6J("ngIf",i.expandInfoPax),t.xp6(1),t.Q6J("ngIf",i.orderId&&"PAYMENT_PROCESSING"===(null==i.bookingData||null==i.bookingData.booking||null==i.bookingData.booking.orderInfo?null:i.bookingData.booking.orderInfo.state)&&i.isConfirmPayment),t.xp6(1),t.Q6J("ngIf",!i.isConfirmPayment&&"PAYMENT_PROCESSING"===(null==i.bookingData||null==i.bookingData.booking||null==i.bookingData.booking.orderInfo?null:i.bookingData.booking.orderInfo.state)),t.xp6(60),t.ekj("!flex",i.stepMobile===i.StepMobile.Pas),t.xp6(4),t.Q6J("ngForOf",null==i.bookingData?null:i.bookingData.bookingPassengers),t.xp6(6),t.Q6J("ngIf",i.ticketCur),t.xp6(7),t.Q6J("ngIf",(null==i.ticketCur?null:i.ticketCur.ticketSelected)&&(null==i.ticketCur||null==i.ticketCur.ticketSelected?null:i.ticketCur.ticketSelected.length)),t.xp6(1),t.Q6J("ngIf",i.ticketCur),t.xp6(5),t.hij(" ",t.Dn7(130,47,t.lcZ(131,51,((null==i.ticketCur?null:i.ticketCur.totalPrice)||0)-i.amountDiscount-t.xi3(132,53,i.promoCodeBookingList,i.amountDiscountPromoBooking)+(i.bookingData&&null!=i.bookingData&&i.bookingData.dataBaggageInput?t.xi3(133,56,i.bookingData.dataBaggageInput,i.totalChairBaggage):0)),",",".")," \u0111 "),t.xp6(6),t.Q6J("ngIf",i.bookingData),t.xp6(1),t.Q6J("ngIf",!i.isConfirmPayment&&"PAYMENT_PROCESSING"===(null==i.bookingData||null==i.bookingData.booking||null==i.bookingData.booking.orderInfo?null:i.bookingData.booking.orderInfo.state)),t.xp6(2),t.Q6J("ngIf",i.dataBoardingPass&&i.dataBoardingPass.length)}},dependencies:[g.ez,g.mk,g.sg,g.O5,g.RF,g.n9,g.ED,g.JJ,g.uU,Vo,it,v.AxE,v.Sm8,S.N8,S.Xq,zo,I.DW,Dr,Ns,Os,tr.s,aa.Q,et.q,M.T,M.o,A.u5,A.JJ,A.On,Ys],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var Lt=w(7340),E1=w(8605),Qn=w(8516),Yr=w(7855),Xi=w(3948),di=w(8184),Tl=w(4080),El=w(9521),k1=w(6451),_s=w(5698);function A1(n,o){if(1&n&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.data.subHeaderTitle," ")}}function D1(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",5)(2,"div",6)(3,"div",7),t._uU(4),t.qZA(),t.YNc(5,A1,2,1,"div",8),t.qZA(),t.TgZ(6,"button",9),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.exit())}),t._uU(7,"\u2715"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(4),t.Oqu(e.data.headerTitle),t.xp6(1),t.Q6J("ngIf",e.data.subHeaderTitle)}}function w1(n,o){}const B1=function(n){return{"max-w-full":n}},kl=new t.OlP("CFDrawerData"),Al=new t.OlP("CFDrawerContainerData");class Qr{constructor(){this.data=null,this.hasBackdrop=!0,this.backdropClass="cf-drawer-backdrop",this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0,this.subHeaderTitle="",this.headerTitle="",this.hasHeader=!0,this.maxWidth="auto"}}const Z1={drawerState:(0,Lt.X$)("state",[(0,Lt.SB)("visible",(0,Lt.oB)({transform:"translateX(0)"})),(0,Lt.SB)("hidden",(0,Lt.oB)({transform:"translateX(100%)"})),(0,Lt.eR)("hidden => visible",(0,Lt.jt)("300ms ease-out")),(0,Lt.eR)("visible => hidden",(0,Lt.jt)("300ms ease-in"))])};let Dl=(()=>{class n extends Yr.LL{constructor(e,i,a,c,u,d,f,_,m,x,E){super(a,c,u,d,f,_,m,E),this.data=i,this._changeDetectorRef=x,this._animationState="hidden",this._animationStateChanged=new t.vpe,e.registerIcons([v.UNF,v.rks])}ngAfterViewInit(){this.enter()}enter(){this._animationState="visible",this._changeDetectorRef.detectChanges()}exit(){this._animationState="hidden",this._changeDetectorRef.markForCheck()}ngOnDestroy(){super.ngOnDestroy()}_onAnimationDone(e){this._animationStateChanged.emit(e)}_onAnimationStart(e){this._animationStateChanged.emit(e)}_captureInitialFocus(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.KNP),t.Y36(Al),t.Y36(t.SBq),t.Y36(Xi.qV),t.Y36(g.K0,8),t.Y36(Yr.ib),t.Y36(Xi.ic),t.Y36(t.R0b),t.Y36(di.Iu),t.Y36(t.sBO),t.Y36(Xi.tE))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cf-drawer-container"]],hostAttrs:["tabindex","-1",1,"cf-drawer-container"],features:[t.qOj],decls:5,vars:5,consts:[[1,"cf-drawer-backdrop",3,"click"],[1,"cf-drawer-wrapper","flex","flex-col",3,"ngClass"],[4,"ngIf"],[1,"flex","flex-1","overflow-hidden"],["cdkPortalOutlet",""],[1,"header"],[1,"flex","flex-col","gap-[6px]","items-start","justify-between"],[1,"text-heading-md","font-medium","text-neutral-gray-6"],["class","text-body-sm text-neutral-gray-6",4,"ngIf"],[3,"click"],[1,"text-body-sm","text-neutral-gray-6"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return i.exit()}),t.qZA(),t.TgZ(1,"div",1),t.NdJ("@state.start",function(c){return i._onAnimationStart(c)})("@state.done",function(c){return i._onAnimationDone(c)}),t.YNc(2,D1,8,2,"ng-container",2),t.TgZ(3,"div",3),t.YNc(4,w1,0,0,"ng-template",4),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("@state",i._animationState)("ngClass",t.VKq(3,B1,"full"===i.data.maxWidth)),t.xp6(1),t.Q6J("ngIf",i.data.hasHeader))},dependencies:[g.mk,g.O5,Tl.Pl],styles:[".cf-drawer-wrapper[_ngcontent-%COMP%]{width:auto;background-color:#fff;height:100vh;position:fixed;top:0;right:0;box-shadow:-4px 0 10px #0000001a;z-index:66}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1rem;border-bottom:1px solid #ddd}.cf-drawer-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0009;z-index:63;transition:opacity .3s ease}"],data:{animation:[Z1.drawerState]},changeDetection:0}),n})();class Hr{constructor(o,e,i){this._dialogRef=o,this.config=e,this._afterOpened=new Ai.x,this.containerInstance=i,this.disableClose=e.disableClose,i._animationStateChanged.pipe((0,Eo.h)(a=>"done"===a.phaseName&&"visible"===a.toState),(0,_s.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe((0,Eo.h)(a=>"done"===a.phaseName&&"hidden"===a.toState),(0,_s.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._dialogRef.close(this._result)}),o.overlayRef.detachments().subscribe(()=>{this._dialogRef.close(this._result)}),(0,k1.T)(this.backdropClick(),this.keydownEvents().pipe((0,Eo.h)(a=>a.keyCode===El.hY))).subscribe(a=>{(!this.disableClose||"keydown"!==a.type||!(0,El.Vb)(a))&&(a.preventDefault(),this.dismiss())})}get instance(){return this._dialogRef.componentInstance}dismiss(o){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe((0,Eo.h)(e=>"start"===e.phaseName),(0,_s.q)(1)).subscribe(e=>{this._closeFallbackTimeout=setTimeout(()=>{this._dialogRef.close(this._result)},e.totalTime+100),this._dialogRef.overlayRef.detachBackdrop()}),this._result=o,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._dialogRef.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._dialogRef.backdropClick}keydownEvents(){return this._dialogRef.keydownEvents}}let hs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.ez,Tl.eL,Yr.Su,v.AxE]}),n})();const wl=new t.OlP("MAT_DRAWER_DEFAULT_OPTIONS");let Bl=(()=>{class n{constructor(e,i,a){this._overlay=e,this._defaultOptions=a,this._drawerRef=null,this._dialog=i.get(Yr.Vq)}open(e,i){const a={...new Qr,...i};let c;return this._dialog.open(e,{...a,container:{type:Dl,providers:()=>[{provide:Al,useValue:a}]},scrollStrategy:this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().right("0").top("0"),templateContext:()=>({drawerRef:c}),providers:(d,f,_)=>(c=new Hr(d,a,_),[{provide:Hr,useValue:c},{provide:kl,useValue:a.data}])}),this._drawerRef=c,c}dismiss(e){var i;null===(i=this._drawerRef)||void 0===i||i.dismiss(e),this._drawerRef=null}ngOnDestroy(){this.dismiss()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(di.aV),t.LFG(t.zs3),t.LFG(wl,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:hs}),n})();var to=w(4513);const Zl=[{name:"00:00 - 06:00",actived:!1,describe:"S\xe1ng s\u1edbm",start:"00:00",end:"05:59",disabled:!1,startTime:0,endTime:360},{name:"06:00 - 12:00",actived:!1,describe:"Bu\u1ed5i s\xe1ng",start:"06:00",end:"11:59",disabled:!1,startTime:360,endTime:720},{name:"12:00 - 18:00",actived:!1,describe:"Bu\u1ed5i chi\u1ec1u",start:"12:00",end:"17:59",disabled:!1,startTime:720,endTime:1080},{name:"18:00 - 00:00",actived:!1,describe:"Bu\u1ed5i t\u1ed1i",start:"18:00",end:"23:59",disabled:!1,startTime:1080,endTime:1440}],S1={showNetPrice:!1,hideFareClass:!1,showDuration:!0},F1={showDiscountFare:!0,showTotalPrice:!1},Ro={direct:!1,oneRoute:!1,moreRoute:!1},Gr=[{name:"Nam",code:"male"},{name:"N\u1eef",code:"female"}],Il=[{name:"LCC",code:"lcc",actived:!1},{name:"NDC",code:"ndc",actived:!1},{name:"Private Fare",code:"privateFare",actived:!1}],N1=[{code:"inland",name:"C\xe1c h\xe3ng n\u1ed9i \u0111\u1ecba",actived:!1},{code:"BSP",name:"H\u1ec7 th\u1ed1ng 1A",actived:!1},{code:"AIR_1G",name:"H\u1ec7 th\u1ed1ng 1G",actived:!1},{code:"Lcc",name:"H\u1ec7 th\u1ed1ng LCC",actived:!1},{code:"ST",name:"H\u1ec7 th\u1ed1ng ST",actived:!1}],Kr={min_price:"Gi\xe1 (th\u1ea5p nh\u1ea5t)",max_price:"Gi\xe1 (cao nh\u1ea5t)",min_flight:"Bay (ng\u1eafn nh\u1ea5t)",max_flight:"Bay (d\xe0i nh\u1ea5t)",earliest_departure:"Kh\u1edfi h\xe0nh (s\u1edbm nh\u1ea5t)",late_departure:"Kh\u1edfi h\xe0nh (mu\u1ed9n nh\u1ea5t)",earliest_arrival:"H\u1ea1 c\xe1nh (s\u1edbm nh\u1ea5t)",late_arrival:"H\u1ea1 c\xe1nh (mu\u1ed9n nh\u1ea5t)"};var Qt=w(3429),O1=w(1061);function eo(n,o={}){return function(e,i){O1.m.addTransformMetadata({target:e.constructor,propertyName:i,transformFn:n,options:o})}}var Lo=(()=>{return(n=Lo||(Lo={}))[n.LIST=0]="LIST",n[n.PASSENGER=1]="PASSENGER",n[n.BOOKING=2]="BOOKING",Lo;var n})();let P1=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"status",void 0),(0,b.gn)([(0,Qt.D)(()=>R1),(0,C.C)()],n.prototype,"data",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"objectError",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"errorCode",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"success",void 0),n})(),R1=(()=>{class n{}return(0,b.gn)([(0,C.C)(),(0,Qt.D)(()=>L1),eo(({value:o,obj:e})=>(null==o||o.forEach(i=>{var a;i.comboInfo&&(i.comboInfo.discountPercentageDetail=e.discountPercentageDetail),null===(a=i.journeys)||void 0===a||a.forEach(c=>{c.discountPercentageDetail=e.discountPercentageDetail,c.fareRuleClassesObj=e.fareRuleClasses.reduce((u,d)=>Object.assign(Object.assign({},u),{[`${d.airline}-${d.fareClass}`]:d.rules}),{}),c.fareRulesObj=e.fareRules.reduce((u,d)=>Object.assign(Object.assign({},u),{[`${d.airline}-${d.fareClass}`]:d.rules}),{})})}),o))],n.prototype,"flightOptions",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"itinerary",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"session",void 0),(0,b.gn)([(0,Qt.D)(()=>U1),(0,C.C)()],n.prototype,"fareRules",void 0),(0,b.gn)([(0,Qt.D)(()=>J1),(0,C.C)()],n.prototype,"fareRuleClasses",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"discountPercentageDetail",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"sessionSearchKey",void 0),n})(),L1=(()=>{class n{}return(0,b.gn)([(0,C.C)(),(0,Qt.D)(()=>Uo),eo(({value:o,obj:e})=>o?(o.provider=e.provider,o.flightType=e.flightType,o):null)],n.prototype,"comboInfo",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"flightType",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"provider",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"type",void 0),(0,b.gn)([(0,C.C)(),(0,Qt.D)(()=>Hn),eo(({value:o,obj:e})=>o?(null==o||o.forEach(i=>{i.provider=e.provider,i.flightType=e.flightType}),o):null)],n.prototype,"journeys",void 0),n})(),q1=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"en",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"vn",void 0),n})(),U1=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"airline",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"fareClass",void 0),(0,b.gn)([(0,Qt.D)(()=>M1),(0,C.C)()],n.prototype,"rules",void 0),n})(),M1=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"cateCode",void 0),(0,b.gn)([(0,Qt.D)(()=>q1),(0,C.C)()],n.prototype,"desc",void 0),(0,b.gn)([(0,Qt.D)(()=>Sl),(0,C.C)()],n.prototype,"items",void 0),n})(),Sl=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"name",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"value",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"cate",void 0),n})(),J1=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"airline",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"fareClass",void 0),(0,b.gn)([(0,Qt.D)(()=>Sl),(0,C.C)()],n.prototype,"rules",void 0),n})(),j1=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"type",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"code",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"quantity",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"baseFare",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"surCharge",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"beService",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"totalFare",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"discountAmount",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"bagCharge",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"seatCharge",void 0),n})(),Hn=(()=>{class n{constructor(){this.fareRule=null}get ndcTimeLimit(){var e;return(null===(e=this.fareOptions[0])||void 0===e?void 0:e.ndcTimeLimit)||0}get journeyKey(){return this.key}get IDF(){var e,i,a,c,u,d,f,_,m,x,E;return["VN","BL"].includes(this.airline)?this.airline+"-"+(null!==(e=this.fareOptions)&&void 0!==e&&e.length&&null!==(a=null===(i=this.fareCur)||void 0===i?void 0:i.fareInfos)&&void 0!==a&&a.length?null===(u=null===(c=this.fareCur)||void 0===c?void 0:c.fareInfos[0])||void 0===u?void 0:u.fareClass.toUpperCase():""):this.airline+"-"+(null!==(d=this.fareOptions)&&void 0!==d&&d.length&&null!==(_=null===(f=this.fareCur)||void 0===f?void 0:f.fareInfos)&&void 0!==_&&_.length?null===(E=null===(x=null===(m=this.fareCur)||void 0===m?void 0:m.fareInfos[0])||void 0===x?void 0:x.fareType.code)||void 0===E?void 0:E.toUpperCase():"")}get durationStr(){return qo(this.duration)}get startPoint(){return this.departure.airport.code}get endPoint(){return this.arrival.airport.code}get flightNumber(){return`${this.airline} ${this.segments[0].flightNumber}`}get refundableFare(){var e;return!(null===(e=this.fareOptions.find(i=>i.refundableFare))||void 0===e||!e.refundableFare)||!1}get food(){return!1}get totalPrice(){var e,i;return null!==(e=this.fareCur)&&void 0!==e&&e.fareAmountBreakdowns?Ii((null===(i=this.fareCur)||void 0===i?void 0:i.fareAmountBreakdowns)||[]):0}get totalPriceChild(){var e,i;return null!==(e=this.fareCur)&&void 0!==e&&e.fareAmountBreakdowns?We((null===(i=this.fareCur)||void 0===i?void 0:i.fareAmountBreakdowns)||[]):0}get totalPriceInfant(){var e,i;return null!==(e=this.fareCur)&&void 0!==e&&e.fareAmountBreakdowns?ke((null===(i=this.fareCur)||void 0===i?void 0:i.fareAmountBreakdowns)||[]):0}get netPrice(){var e,i,a;const c=null===(i=null===(e=this.fareCur)||void 0===e?void 0:e.fareAmountBreakdowns)||void 0===i?void 0:i.find(f=>"ADULT"===f.type);if(!c)return 0;let u=0;return u+=((null===(a=null==c?void 0:c.charges)||void 0===a?void 0:a.filter(f=>"FARE"===f.chargeType.code))||[]).reduce((f,_)=>f+_.charge.base,0),u}get discountData(){var e;const i=null===(e=this.fareCur)||void 0===e?void 0:e.key;return i&&this.discountPercentageDetail?this.discountPercentageDetail[i]||this.discountPercentageDetail[this.airline]:null}get chosenFares(){return this.fareOptions.every(e=>0===e.seatRemain)?this.fareOptions:Zi(this.fareOptions,this.provider)}get fareCur(){return this.chosenFares.every(e=>0===e.seatRemain)?this.chosenFares[0]:jt(this.chosenFares,this.idxSelected)}get bookedInfo(){var e;return(null===(e=this.segments.find(i=>i.bookedInfo))||void 0===e?void 0:e.bookedInfo)||null}get returnDateTooltip(){return"H\u1ea1 c\xe1nh ng\xe0y "+(0,g.p6)(new Date(this.arrival.localTime),"dd/MM/yyyy","vi-VN")}get isNdcFare(){var e;return(null===(e=this.fareCur)||void 0===e?void 0:e.ndcFare)||!1}get isLccFare(){var e;return(null===(e=this.fareCur)||void 0===e?void 0:e.lccFare)||!1}get privateFare(){var e;return(null===(e=this.fareCur)||void 0===e?void 0:e.privateFare)||!1}get vfrFare(){var e;return(null===(e=this.fareCur)||void 0===e?void 0:e.vfrFare)||!1}get is1A(){return"BSP"===this.provider}get is1G(){return"AIR_1G"===this.provider}get isGDS(){return"GDS"===this.provider}get logoAirline(){return"assets/airline-logo/"+this.operating+".png"}get startCode(){return this.departure.airport.code}get endCode(){return this.arrival.airport.code}get fareOptionKey(){var e;return(null===(e=this.fareOptions[0])||void 0===e?void 0:e.key)||""}}return(0,b.gn)([(0,C.C)()],n.prototype,"airline",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"cancel",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"airlineName",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"duration",void 0),(0,b.gn)([(0,Qt.D)(()=>Y1),(0,C.C)()],n.prototype,"fareOptions",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"key",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"leg",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"numOfStops",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"operating",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"operatingName",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"fareRuleClassesObj",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"fareRulesObj",void 0),(0,b.gn)([(0,C.C)(),(0,Qt.D)(()=>Te),eo(({value:o,obj:e})=>{if("VN"===e.airline&&Array.isArray(o)){for(let i=0;i<o.length-1;i++)o[i+1].delaySt=qo(o[i].delay),o[i].delaySt="";return o}return o.forEach(i=>{i.delaySt=i.delay?qo(i.delay):""}),o})],n.prototype,"segments",void 0),(0,b.gn)([(0,Qt.D)(()=>Vr),(0,C.C)()],n.prototype,"departure",void 0),(0,b.gn)([(0,Qt.D)(()=>Vr),(0,C.C)()],n.prototype,"arrival",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"dataChange",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"typeChange",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"expireTime",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"stopOvernight",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"fareClass",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"status",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"numberStop",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"fareRulesData",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"fareRuleClassesData",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"provider",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"flightType",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"discountPercentageDetail",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"idxSelected",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"ndcTimeLimit",null),(0,b.gn)([(0,C.C)()],n.prototype,"journeyKey",null),(0,b.gn)([(0,C.C)()],n.prototype,"IDF",null),(0,b.gn)([(0,C.C)()],n.prototype,"durationStr",null),(0,b.gn)([(0,C.C)()],n.prototype,"startPoint",null),(0,b.gn)([(0,C.C)()],n.prototype,"endPoint",null),(0,b.gn)([(0,C.C)()],n.prototype,"flightNumber",null),(0,b.gn)([(0,C.C)()],n.prototype,"refundableFare",null),(0,b.gn)([(0,C.C)()],n.prototype,"food",null),(0,b.gn)([(0,C.C)()],n.prototype,"totalPrice",null),(0,b.gn)([(0,C.C)()],n.prototype,"totalPriceChild",null),(0,b.gn)([(0,C.C)()],n.prototype,"totalPriceInfant",null),(0,b.gn)([(0,C.C)()],n.prototype,"netPrice",null),(0,b.gn)([(0,C.C)()],n.prototype,"discountData",null),(0,b.gn)([(0,C.C)()],n.prototype,"chosenFares",null),(0,b.gn)([(0,C.C)()],n.prototype,"fareCur",null),(0,b.gn)([(0,C.C)()],n.prototype,"bookedInfo",null),(0,b.gn)([(0,C.C)()],n.prototype,"returnDateTooltip",null),(0,b.gn)([(0,C.C)()],n.prototype,"isNdcFare",null),(0,b.gn)([(0,C.C)()],n.prototype,"isLccFare",null),(0,b.gn)([(0,C.C)()],n.prototype,"privateFare",null),(0,b.gn)([(0,C.C)()],n.prototype,"vfrFare",null),(0,b.gn)([(0,C.C)()],n.prototype,"is1A",null),(0,b.gn)([(0,C.C)()],n.prototype,"is1G",null),(0,b.gn)([(0,C.C)()],n.prototype,"isGDS",null),(0,b.gn)([(0,C.C)()],n.prototype,"logoAirline",null),(0,b.gn)([(0,C.C)()],n.prototype,"startCode",null),(0,b.gn)([(0,C.C)()],n.prototype,"endCode",null),(0,b.gn)([(0,C.C)()],n.prototype,"fareOptionKey",null),(0,b.gn)([(0,C.C)()],n.prototype,"fareRule",void 0),n})();const Zi=(n,o)=>{const e=n.reduce((a,c)=>{const u=`${c.cabinName.toUpperCase()}-${c.journeyFareClass||""}`;return Object.assign(Object.assign({},a),{[u]:a[u]?[...a[u],c]:[c]})},{});return Object.values(e).map(a=>{const c=a.filter(u=>u.seatRemain>0);return c.length>0?c.reduce((u,d)=>Ii(d.fareAmountBreakdowns)<Ii(u.fareAmountBreakdowns)?d:u):a.reduce((u,d)=>Ii(d.fareAmountBreakdowns)<Ii(u.fareAmountBreakdowns)?d:u)})},jt=(n,o)=>o?n[o]:n.reduce((e,i)=>{var a;return null!==(a=i.fareInfos[0])&&void 0!==a&&a.seatRemain&&(!e||Ii(i.fareAmountBreakdowns)<Ii(e.fareAmountBreakdowns))?i:e},null),Ii=n=>{var o;return n&&n.find(e=>"ADULT"===e.type)&&(null===(o=n.find(e=>"ADULT"===e.type))||void 0===o?void 0:o.charges.reduce((e,i)=>e+i.charge.total,0))||0},We=n=>{var o;return n&&n.find(e=>"CHILD"===e.type)&&(null===(o=n.find(e=>"CHILD"===e.type))||void 0===o?void 0:o.charges.reduce((e,i)=>e+i.charge.total,0))||0},ke=n=>{var o;return n&&n.find(e=>"INFANT"===e.type)&&(null===(o=n.find(e=>"INFANT"===e.type))||void 0===o?void 0:o.charges.reduce((e,i)=>e+i.charge.total,0))||0},qo=n=>{if(n<60)return`${n}p`;const o=Math.floor(n/60);return`${o}h ${n-60*o}p`};let Y1=(()=>{class n{get seatRemain(){var e,i;return!(null===(e=this.fareInfos)||void 0===e)&&e.length&&(null===(i=this.fareInfos[0])||void 0===i?void 0:i.seatRemain)||0}get cabinName(){var e,i,a;return!(null===(e=this.fareInfos)||void 0===e)&&e.length&&(null===(a=null===(i=this.fareInfos[0])||void 0===i?void 0:i.cabin)||void 0===a?void 0:a.name)||""}get fareClass(){var e,i;return!(null===(e=this.fareInfos)||void 0===e)&&e.length&&(null===(i=this.fareInfos[0])||void 0===i?void 0:i.fareClass)||""}get cabinCode(){var e,i,a;return!(null===(e=this.fareInfos)||void 0===e)&&e.length&&(null===(a=null===(i=this.fareInfos[0])||void 0===i?void 0:i.cabin)||void 0===a?void 0:a.code)||""}get fareCode(){var e,i;return!(null===(e=this.fareInfos)||void 0===e)&&e.length&&(null===(i=this.fareInfos[0])||void 0===i?void 0:i.fareType.code)||""}get fareName(){var e,i;return!(null===(e=this.fareInfos)||void 0===e)&&e.length&&(null===(i=this.fareInfos[0])||void 0===i?void 0:i.fareType.description)||""}get getTotalAmount(){var e;if(!this.fareAmountBreakdowns)return 0;let i=0;const a=null===(e=this.fareAmountBreakdowns)||void 0===e?void 0:e.find(c=>"ADULT"===c.type);return i+=a?a.getTotalCharge:0,i}}return(0,b.gn)([(0,C.C)()],n.prototype,"key",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"comboRefs",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"journeyFareClass",void 0),(0,b.gn)([(0,Qt.D)(()=>H1),(0,C.C)()],n.prototype,"fareAmountBreakdowns",void 0),(0,b.gn)([(0,Qt.D)(()=>Q1),(0,C.C)()],n.prototype,"fareInfos",void 0),(0,b.gn)([(0,Qt.D)(()=>Fl),(0,C.C)()],n.prototype,"currency",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"rules",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"privateFare",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"lccFare",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"ndcFare",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"refundableFare",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"ndcTimeLimit",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"vfrFare",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"seatRemain",null),(0,b.gn)([(0,C.C)()],n.prototype,"cabinName",null),(0,b.gn)([(0,C.C)()],n.prototype,"fareClass",null),(0,b.gn)([(0,C.C)()],n.prototype,"cabinCode",null),(0,b.gn)([(0,C.C)()],n.prototype,"fareCode",null),(0,b.gn)([(0,C.C)()],n.prototype,"fareName",null),(0,b.gn)([(0,C.C)()],n.prototype,"getTotalAmount",null),n})(),Q1=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"fareClass",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"seatRemain",void 0),(0,b.gn)([(0,Qt.D)(()=>Ce),(0,C.C)()],n.prototype,"cabin",void 0),(0,b.gn)([(0,Qt.D)(()=>$r),(0,C.C)()],n.prototype,"fareType",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"checkedBags",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"carryOnBags",void 0),n})(),H1=(()=>{class n{get getTotalCharge(){return this.charges.map(e=>e.charge.total).reduce((e,i)=>e+i)}}return(0,b.gn)([(0,C.C)()],n.prototype,"type",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"changeType",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"dataChange",void 0),(0,b.gn)([(0,Qt.D)(()=>G1),(0,C.C)()],n.prototype,"charges",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"totalFare",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"change",void 0),n})(),G1=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"key",void 0),(0,b.gn)([(0,Qt.D)(()=>Gn),(0,C.C)()],n.prototype,"chargeType",void 0),(0,b.gn)([(0,Qt.D)(()=>ms),(0,C.C)()],n.prototype,"charge",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"description",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"extra",void 0),n})(),ms=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"base",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"tax",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"applied",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"surCharge",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"total",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"discount",void 0),(0,b.gn)([(0,Qt.D)(()=>Fl),(0,C.C)()],n.prototype,"currency",void 0),n})(),Fl=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"baseCurrency",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"code",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"description",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"exchangeRate",void 0),n})(),Gn=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"code",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"type",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"category",void 0),(0,b.gn)([(0,Qt.D)(()=>Nl),(0,C.C)()],n.prototype,"description",void 0),n})(),Nl=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"en",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"vi",void 0),n})(),$r=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"code",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"description",void 0),n})(),Ce=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"code",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"description",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"name",void 0),n})(),Te=(()=>{class n{get durationStr(){return qo(this.duration)}get durationStrMobile(){return(n=>{if(n<60)return`${n} ph\xfat`;const o=Math.floor(n/60);return`${o} gi\u1edd ${n-60*o} ph\xfat`})(this.duration)}get startTime(){return this.departure.localTime}get endTime(){return this.arrival.localTime}get startPoint(){return this.departure.airport.code}get endPoint(){return this.arrival.airport.code}get logoAirline(){return"assets/airline-logo/"+this.operating+".png"}}return(0,b.gn)([(0,C.C)()],n.prototype,"key",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"cancel",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"index",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"airline",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"airlineName",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"duration",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"delay",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"delaySt",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"flightNumber",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"operating",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"operatingName",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"stopPoint",void 0),(0,b.gn)([(0,Qt.D)(()=>Vr),(0,C.C)()],n.prototype,"departure",void 0),(0,b.gn)([(0,Qt.D)(()=>Vr),(0,C.C)()],n.prototype,"arrival",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"bookingClassArr",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"bookedInfo",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"fareType",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"modelAirplane",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"modelAirplaneName",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"codeAirline",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"durationStr",null),(0,b.gn)([(0,C.C)()],n.prototype,"durationStrMobile",null),(0,b.gn)([(0,C.C)()],n.prototype,"startTime",null),(0,b.gn)([(0,C.C)()],n.prototype,"endTime",null),(0,b.gn)([(0,C.C)()],n.prototype,"startPoint",null),(0,b.gn)([(0,C.C)()],n.prototype,"endPoint",null),(0,b.gn)([(0,C.C)()],n.prototype,"logoAirline",null),n})(),Vr=(()=>{class n{}return(0,b.gn)([(0,Qt.D)(()=>$1),(0,C.C)()],n.prototype,"airport",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"scheduleTime",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"dataChange",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"typeChange",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"localTime",void 0),n})(),$1=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"code",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"name",void 0),(0,b.gn)([(0,Qt.D)(()=>V1),(0,C.C)()],n.prototype,"utcOffset",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"terminal",void 0),n})(),V1=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"iso",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"zone",void 0),n})(),Ol=(()=>{class n{}return(0,b.gn)([(0,Qt.D)(()=>z1),(0,C.C)()],n.prototype,"ticketSelected",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"totalPrice",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"idxTicketSelected",void 0),n})(),z1=(()=>{class n{}return(0,b.gn)([(0,Qt.D)(()=>j1),(0,C.C)()],n.prototype,"ticketPriceList",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"ticketData",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"priceTotalByPassenger",void 0),n})(),Uo=(()=>{class n{get fareRulesObj(){var e,i;const a=(null===(e=this.departJourneys[0])||void 0===e?void 0:e.fareRulesObj)||{},c=(null===(i=this.arriveJourneys[0])||void 0===i?void 0:i.fareRulesObj)||{};return[...Object.values(a).flat(),...Object.values(c).flat()]}get totalPrice(){return this.departJourneys[0].totalPrice+this.arriveJourneys[0].totalPrice}get totalPriceChild(){return this.departJourneys[0].totalPriceChild+this.arriveJourneys[0].totalPriceChild}get totalPriceInfant(){return this.departJourneys[0].totalPriceInfant+this.arriveJourneys[0].totalPriceInfant}get totalDiscountDataAdt(){var e,i;return((null===(e=this.departJourneys[0].discountData)||void 0===e?void 0:e.adtAmount)||0)+((null===(i=this.arriveJourneys[0].discountData)||void 0===i?void 0:i.adtAmount)||0)}get totalDiscountDataChd(){var e,i;return((null===(e=this.departJourneys[0].discountData)||void 0===e?void 0:e.chdAmount)||0)+((null===(i=this.arriveJourneys[0].discountData)||void 0===i?void 0:i.chdAmount)||0)}get totalDiscountDataInf(){var e,i;return((null===(e=this.departJourneys[0].discountData)||void 0===e?void 0:e.infAmount)||0)+((null===(i=this.arriveJourneys[0].discountData)||void 0===i?void 0:i.infAmount)||0)}get durationStr(){return qo(this.departJourneys[0].duration)}}return(0,b.gn)([(0,C.C)(),(0,Qt.D)(()=>Hn),eo(({value:o,obj:e})=>o?(o.forEach(i=>{i.discountPercentageDetail=e.discountPercentageDetail,i.provider=e.provider,i.flightType=e.flightType}),o):null)],n.prototype,"departJourneys",void 0),(0,b.gn)([(0,C.C)(),(0,Qt.D)(()=>Hn),eo(({value:o,obj:e})=>o?(o.forEach(i=>{i.discountPercentageDetail=e.discountPercentageDetail,i.provider=e.provider,i.flightType=e.flightType}),o):null)],n.prototype,"arriveJourneys",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"lowestComboOption",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"score",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"cheapest",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"bestChoice",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"fastest",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"flightType",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"provider",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"discountPercentageDetail",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"fareRulesObj",null),n})();function vs(n,o){1&n&&(t.TgZ(0,"div",30),t._uU(1,"Bay th\u1eb3ng"),t.qZA())}function X1(n,o){if(1&n&&(t.TgZ(0,"div",30),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngIf;t.xp6(1),t.hij(" ",e.numOfStops," \u0111i\u1ec3m d\u1eebng")}}function Pl(n,o){if(1&n&&(t.TgZ(0,"div",23)(1,"div",24)(2,"div",25),t._uU(3),t.qZA()(),t.TgZ(4,"div",26),t._UZ(5,"img",27),t.qZA(),t.TgZ(6,"div",28)(7,"div",29),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"div",30),t._uU(11),t.ALo(12,"date"),t.qZA()(),t.TgZ(13,"div",28)(14,"div",29),t._uU(15),t.ALo(16,"date"),t.ALo(17,"date"),t.qZA(),t.TgZ(18,"div",30),t._uU(19),t.qZA()(),t.TgZ(20,"div",28)(21,"div",29),t._uU(22),t.qZA(),t.TgZ(23,"div",31),t._uU(24),t.qZA()(),t.TgZ(25,"div",28)(26,"div",29),t._uU(27),t.qZA(),t.YNc(28,vs,2,0,"div",32),t.YNc(29,X1,2,1,"div",32),t.qZA()()),2&n){const e=o.ngIf,i=t.oxw().index;t.xp6(3),t.hij(" ",i+1," "),t.xp6(2),t.Q6J("src",e.logoAirline,t.LSH),t.xp6(3),t.hij(" ",t.xi3(9,13,e.departure.localTime,"dd/MM/yyyy"),""),t.xp6(3),t.hij(" ",t.xi3(12,16,e.departure.localTime,"EEEE"),""),t.xp6(4),t.AsE(" ",t.xi3(16,19,e.departure.localTime,"HH:mm")," - ",t.xi3(17,22,e.arrival.localTime,"HH:mm"),""),t.xp6(4),t.hij(" ",e.airlineName,""),t.xp6(3),t.hij("",e.durationStr," "),t.xp6(2),t.AsE(" ",e.departure.airport.code," - ",e.arrival.airport.code,""),t.xp6(3),t.hij(" ",e.segments[0].modelAirplaneName,""),t.xp6(1),t.Q6J("ngIf",0===e.numOfStops),t.xp6(1),t.Q6J("ngIf",e.numOfStops>0)}}function Wr(n,o){if(1&n&&(t.TgZ(0,"div",21),t.YNc(1,Pl,30,25,"div",22),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.ticketData)}}function dn(n,o){1&n&&(t.TgZ(0,"div",42),t._uU(1,"Bay th\u1eb3ng"),t.qZA())}function no(n,o){if(1&n&&(t.TgZ(0,"div",42),t._uU(1),t.qZA()),2&n){const e=t.oxw().ngIf;t.xp6(1),t.hij(" ",e.numOfStops," \u0111i\u1ec3m d\u1eebng")}}function tg(n,o){if(1&n&&(t.TgZ(0,"div",34)(1,"div",35),t._UZ(2,"img",36),t.TgZ(3,"div",37)(4,"div",2),t._uU(5),t.qZA(),t.TgZ(6,"div",38),t._uU(7),t.qZA()(),t.TgZ(8,"div",38),t._uU(9),t.ALo(10,"date"),t.qZA()(),t.TgZ(11,"div",39)(12,"div",40)(13,"div",41),t._uU(14),t.ALo(15,"date"),t.qZA(),t.TgZ(16,"div",42),t._uU(17),t.qZA()(),t.TgZ(18,"div",43)(19,"div",42),t._uU(20),t.qZA(),t.TgZ(21,"div",44),t._UZ(22,"div",45)(23,"div",46),t.qZA(),t.YNc(24,dn,2,0,"div",47),t.YNc(25,no,2,1,"div",47),t.qZA(),t._UZ(26,"cf-icon",48),t.TgZ(27,"div",40)(28,"div",41),t._uU(29),t.ALo(30,"date"),t.qZA(),t.TgZ(31,"div",42),t._uU(32),t.qZA()()()()),2&n){const e=o.ngIf;t.xp6(2),t.Q6J("src",e.logoAirline,t.LSH),t.xp6(3),t.hij(" ",e.segments[0].airline+" "+e.segments[0].flightNumber," "),t.xp6(2),t.Oqu(e.airlineName),t.xp6(2),t.hij(" ",t.xi3(10,11,e.departure.localTime,"EEEE, dd/MM/yyyy")," "),t.xp6(5),t.Oqu(t.xi3(15,14,e.departure.localTime,"HH:mm")),t.xp6(3),t.Oqu(e.departure.airport.code),t.xp6(3),t.Oqu(e.durationStr),t.xp6(4),t.Q6J("ngIf",0===e.numOfStops),t.xp6(1),t.Q6J("ngIf",e.numOfStops>0),t.xp6(4),t.Oqu(t.xi3(30,17,e.arrival.localTime,"HH:mm")),t.xp6(3),t.Oqu(e.arrival.airport.code)}}function eg(n,o){if(1&n&&(t.ynx(0),t.YNc(1,tg,33,20,"div",33),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.ticketData)}}function ng(n,o){if(1&n&&(t.TgZ(0,"div",49)(1,"div",50),t._uU(2,"T\u1ed5ng chi ph\xed:"),t.qZA(),t.TgZ(3,"div",51),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.hij("",t.Dn7(5,1,t.lcZ(6,5,e.ticketCur.totalPrice-e.amountDiscount),",",".")," \u0111")}}let Rl=(()=>{class n{constructor(e,i,a,c,u,d){this.cfIconRegister=e,this._cdr=i,this._helperResultSvc=a,this.data=c,this.ref=u,this.bottomSheetRef=d,this.amountDiscount=0,e.registerIcons([v.UNF,v.Xlt]),u&&(this.ticketCur=u.data.ticketCur,this.dataSearch=u.data.dataSearch),c&&(this.ticketCur=c.ticketCur,this.dataSearch=c.dataSearch),console.log(this.ticketCur);const f=this.ticketCur.ticketSelected.filter(_=>_.ticketData).map(_=>_.ticketData);this.amountDiscount=this._helperResultSvc.progressPriceList(this.dataSearch,f).filter(_=>_.discountAmount).reduce((_,m)=>_+m.discountAmount*m.quantity,0)}close(){this.ref&&this.ref.close(!1),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!1)}ok(){this.ref&&this.ref.close(!0),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.KNP),t.Y36(t.sBO),t.Y36(ai),t.Y36(I.Rr,8),t.Y36(ut.gb,8),t.Y36(I.Zu,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-confirm-modal"]],standalone:!0,features:[t.jDz],decls:31,vars:10,consts:[[1,"w-[800px]","flex","flex-col","rounded-lg","bg-neutral-white","md:hidden"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"flex","flex-col","py-6","px-4"],["class","border border-neutral-gray-2 rounded p-4 mb-2 mx-2",4,"ngFor","ngForOf"],[1,"flex","mt-4","justify-between","items-center","mr-2"],[1,"flex","text-espressive-sm","text-secondary-3-4"],[1,"flex","justify-between","items-center"],[1,"text-espressive-sm","text-neutral-black","mr-4"],[1,"text-heading-md","text-neutral-black"],[1,"flex","justify-end","items-center","mt-8","mx-2"],[1,"flex","gap-x-4"],["cf-button","","size","medium","type","secondary",3,"click"],["cf-button","","size","medium","type","solid","color","primary-1",3,"click"],[1,"hidden","md:flex","w-screen","flex-col","gap-y-4","p-4"],[4,"ngFor","ngForOf"],[1,"hidden","fixed","bottom-0","left-0","w-screen","bg-white","shadow-cf-large-top","p-3","md:flex","items-center","justify-between","z-100"],[1,"flex","flex-col"],["class","flex items-center gap-x-1",4,"ngIf"],["cf-button","",1,"w-28","justify-center","py-2.5","text-base",3,"click"],[1,"border","border-neutral-gray-2","rounded","p-4","mb-2","mx-2"],["class","flex gap-y-2",4,"ngIf"],[1,"flex","gap-y-2"],[1,"flex","items-center","mr-4"],[1,"flex","justify-center","items-center","w-[22px]","h-[22px]","rounded-full","bg-neutral-gray-1","text-neutral-gray-4","text-heading-sm"],[1,"w-[80px]","flex-shrink-0","border-l","border-neutral-gray-1","px-4"],[1,"w-[80px]","h-[40px]","object-contain",3,"src"],[1,"flex","flex-col","items-center","border-l","border-neutral-gray-1","px-4"],[1,"text-heading-sm","text-neutral-black","whitespace-nowrap"],[1,"text-espressive-sm","text-neutral-gray-4","whitespace-nowrap"],[1,"text-express-sm","text-secondary-3-4","whitespace-nowrap"],["class","text-espressive-sm text-neutral-gray-4 whitespace-nowrap",4,"ngIf"],["class","flex flex-col gap-y-4 p-4 border border-neutral-gray-2 rounded",4,"ngIf"],[1,"flex","flex-col","gap-y-4","p-4","border","border-neutral-gray-2","rounded"],[1,"flex","justify-between","items-center","gap-x-4"],[1,"w-10","h-10","object-contain",3,"src"],[1,"flex","flex-col","items-start","grow"],[1,"text-body-sm","text-neutral-gray-4"],[1,"flex","justify-between","items-center","pr-2.5"],[1,"flex","flex-col","items-center","gap-y-1"],[1,"text-heading-sm","text-neutral-black"],[1,"text-espressive-sm","text-neutral-gray-4"],[1,"flex","flex-col","items-center","grow"],[1,"flex","items-center","w-full","py-1","px-2.5"],[1,"w-1.5","h-1.5","bg-neutral-gray-2","rounded-full"],[1,"w-full","h-[1px]","bg-neutral-gray-2"],["class","text-espressive-sm text-neutral-gray-4",4,"ngIf"],["icon","plane","size","small",1,"text-[#ccc]","mr-2"],[1,"flex","items-center","gap-x-1"],[1,"text-express-xs","text-neutral-gray-4","mt-1"],[1,"text-heading-sm","text-neutral-gray-6"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"X\xe1c nh\u1eadn chuy\u1ebfn bay \u0111\xe3 ch\u1ecdn"),t.qZA(),t.TgZ(4,"cf-icon",3),t.NdJ("click",function(){return i.close()}),t.qZA()(),t.TgZ(5,"div",4),t.YNc(6,Wr,2,1,"div",5),t.TgZ(7,"div",6),t._UZ(8,"div",7),t.TgZ(9,"div")(10,"div",8)(11,"div",9),t._uU(12,"T\u1ed5ng chi ph\xed:"),t.qZA(),t.TgZ(13,"div",10),t._uU(14),t.ALo(15,"replace"),t.ALo(16,"number"),t.qZA()()()(),t.TgZ(17,"div",11)(18,"div",12)(19,"button",13),t.NdJ("click",function(){return i.close()}),t._uU(20," H\u1ee7y b\u1ecf "),t.qZA(),t.TgZ(21,"button",14),t.NdJ("click",function(){return i.ok()}),t._uU(22," \u0110\u1eb7t v\xe9 "),t.qZA()()()()(),t.TgZ(23,"div",15),t.YNc(24,eg,2,1,"ng-container",16),t.qZA(),t.TgZ(25,"div",17)(26,"div",18),t.YNc(27,ng,7,7,"div",19),t.qZA(),t.TgZ(28,"div")(29,"button",20),t.NdJ("click",function(){return i.ok()}),t._uU(30,"\u0110\u1eb7t v\xe9"),t.qZA()()()),2&e&&(t.xp6(6),t.Q6J("ngForOf",i.ticketCur.ticketSelected),t.xp6(8),t.hij(" ",t.Dn7(15,4,t.lcZ(16,8,i.ticketCur.totalPrice-i.amountDiscount),",",".")," \u0111 "),t.xp6(10),t.Q6J("ngForOf",i.ticketCur.ticketSelected),t.xp6(3),t.Q6J("ngIf",i.ticketCur.totalPrice>0))},dependencies:[g.ez,g.sg,g.O5,g.JJ,g.uU,v.AxE,v.Sm8,S.N8,S.Xq,it,I.DW],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var Ll=w(7296);function ql(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"div",7),t.NdJ("scrolled",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.scrollDown())}),t.TgZ(3,"cf-datepicker-inline",8),t.NdJ("dateSelect",function(a){t.CHM(e);const c=t.oxw().index,u=t.oxw();return t.KtG(u.oneWayDateSelectMobile(a,c))}),t.qZA()()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw();t.xp6(2),t.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",2)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0)("infiniteScrollContainer",".ngb-dp-content"),t.xp6(1),t.Q6J("minDate",i.currentDate)("displayMonths",i.numOfMonth)("rangeSelection",!0)("secondaryCalendar","lunar")("formControl",e.controls.departDate)("fromDate",e.controls.departDate.value)("startDate",i.startDate)("displayMonthsOffset",0)}}function Kn(n,o){1&n&&t._UZ(0,"cf-input-hint",19),2&n&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh")}function Gt(n,o){1&n&&t._UZ(0,"cf-input-hint",19),2&n&&t.Q6J("hint","Ng\xe0y kh\u1edfi h\xe0nh ph\u1ea3i t\u1eeb ng\xe0y hi\u1ec7n t\u1ea1i tr\u1edf \u0111i")}function Ul(n,o){1&n&&t._UZ(0,"cf-input-hint",19),2&n&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function Tn(n,o){1&n&&t._UZ(0,"cf-input-hint",19),2&n&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y v\u1ec1")}function Ml(n,o){1&n&&t._UZ(0,"cf-input-hint",19),2&n&&t.Q6J("hint","Ng\xe0y v\u1ec1 ph\u1ea3i l\u1edbn h\u01a1n ng\xe0y \u0111i")}function ig(n,o){1&n&&t._UZ(0,"cf-input-hint",19),2&n&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function ae(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"cf-input-group",11)(3,"input",12),t.NdJ("ngModelChange",function(a){t.CHM(e);const c=t.oxw().$implicit,u=t.oxw();return t.KtG(u.fromDateChange(a,c.controls.returnDate))}),t.qZA(),t.YNc(4,Kn,1,1,"cf-input-hint",13),t.YNc(5,Gt,1,1,"cf-input-hint",13),t.YNc(6,Ul,1,1,"cf-input-hint",13),t.qZA(),t.TgZ(7,"div",14),t._uU(8,"~"),t.qZA(),t.TgZ(9,"cf-input-group",11)(10,"input",15),t.NdJ("ngModelChange",function(a){t.CHM(e);const c=t.oxw().$implicit,u=t.oxw();return t.KtG(u.toDateChange(a,c.controls.departDate))}),t.qZA(),t.YNc(11,Tn,1,1,"cf-input-hint",13),t.YNc(12,Ml,1,1,"cf-input-hint",13),t.YNc(13,ig,1,1,"cf-input-hint",13),t.qZA()(),t.TgZ(14,"div",6)(15,"div",16),t.NdJ("scrolled",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.scrollDown())}),t.TgZ(16,"cf-datepicker-inline",17),t.NdJ("dateSelect",function(a){t.CHM(e);const c=t.oxw().$implicit,u=t.oxw();return t.KtG(u.roundtripDateSelection(a,c.controls.departDate,c.controls.returnDate))}),t.qZA()()(),t.TgZ(17,"div",18)(18,"button",2),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onMobileDatePickerOK())}),t._uU(19," X\xe1c nh\u1eadn "),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw();t.xp6(2),t.Q6J("disabled",!0)("status",i.isShowErrorDateRange&&e.controls.departDate.invalid&&(e.controls.departDate.dirty||e.controls.departDate.touched)?"error":"default"),t.xp6(1),t.Q6J("minDate",i.currentDate)("formControl",e.controls.departDate),t.xp6(1),t.Q6J("ngIf",i.isShowErrorDateRange&&(null==e.controls.departDate.errors?null:e.controls.departDate.errors.required)&&(e.controls.departDate.dirty||e.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",i.isShowErrorDateRange&&(null==e.controls.departDate.errors||null==e.controls.departDate.errors.ngbDate?null:e.controls.departDate.errors.ngbDate.minDate)&&(e.controls.departDate.dirty||e.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",i.isShowErrorDateRange&&(null==e.controls.departDate.errors||null==e.controls.departDate.errors.ngbDate?null:e.controls.departDate.errors.ngbDate.invalid)&&(e.controls.departDate.dirty||e.controls.departDate.touched)),t.xp6(3),t.Q6J("disabled",!0)("status",i.isShowErrorDateRange&&e.controls.returnDate.invalid&&(e.controls.returnDate.dirty||e.controls.returnDate.touched)?"error":"default"),t.xp6(1),t.Q6J("minDate",i.minToDate)("formControl",e.controls.returnDate),t.xp6(1),t.Q6J("ngIf",i.isShowErrorDateRange&&(null==e.controls.returnDate.errors?null:e.controls.returnDate.errors.required)&&(e.controls.returnDate.dirty||e.controls.returnDate.touched)),t.xp6(1),t.Q6J("ngIf",i.isShowErrorDateRange&&(null==e.controls.returnDate.errors||null==e.controls.returnDate.errors.ngbDate?null:e.controls.returnDate.errors.ngbDate.minDate)&&(e.controls.returnDate.dirty||e.controls.returnDate.touched)),t.xp6(1),t.Q6J("ngIf",i.isShowErrorDateRange&&(null==e.controls.returnDate.errors||null==e.controls.returnDate.errors.ngbDate?null:e.controls.returnDate.errors.ngbDate.invalid)&&(e.controls.returnDate.dirty||e.controls.returnDate.touched)),t.xp6(2),t.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",2)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0)("infiniteScrollContainer",".ngb-dp-content"),t.xp6(1),t.Q6J("minDate",i.currentDate)("displayMonths",i.numOfMonth)("rangeSelection",!0)("secondaryCalendar","lunar")("fromDate",e.controls.departDate.value)("startDate",i.startDate)("toDate",e.controls.returnDate.value)("displayMonthsOffset",0)}}function og(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,ql,4,15,"div",3),t.YNc(2,ae,20,29,"div",4),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.isReturnDate),t.xp6(1),t.Q6J("ngIf",e.isReturnDate)}}let Jl=(()=>{class n{constructor(e,i,a,c){var u;this.calendar=i,this.bottomSheetRef=a,this.data=c,this.navigateDatepicker=new t.vpe,this.isShowErrorDateRange=!1,this.isReturnDate=!1,this.numOfMonth=4,e.registerIcons([v._7G]),this.currentDate=i.getToday(),this.formArray=c.formArray,this.isReturnDate=!(null===(u=c.formArray.at(0).value)||void 0===u||!u.returnDate)}ngOnInit(){}dateRangePickerClose(){this.isShowErrorDateRange=!0}openAirlineMinFareBts(e){}openConfigMinFareBts(e){}onMobileDatePickerOK(){this.bottomSheetRef.dismiss(!0)}oneWayDateSelectMobile(e,i){this.formArray.at(i).controls.departDate.setValue(e);for(let a=i;a<this.formArray.length-1;a++){const c=this.formArray.at(a+1).controls.departDate.value;c&&e.getTime()>c.getTime()&&(this.formArray.at(a+1).controls.departDate.setValue(new Date(e.getTime()+864e5)),e=new Date(e.getTime()+864e5))}}roundtripDateSelection(e,i,a){i.value||a.value?i.value&&!a.value&&e&&e.getTime()>=i.value.getTime()?(a.setValue(e),this.startDate=new Date):(a.setValue(null),i.setValue(e)):i.setValue(e)}fromDateChange(e,i){}toDateChange(e,i){}scrollDown(){this.numOfMonth=this.numOfMonth+6;const e=vt(new Date).add(this.numOfMonth,"month").startOf("month").format("YYYY-MM-DD");this.navigateDatepicker.emit(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.KNP),t.Y36(Qn.jH),t.Y36(I.Zu),t.Y36(I.Rr))},n.\u0275cmp=t.Xpm({type:n,selectors:[["datepicker-search-bottom-sheet-btc"]],hostAttrs:[1,"w-full"],outputs:{navigateDatepicker:"navigateDatepicker"},standalone:!0,features:[t.jDz],decls:4,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"p-4","fixed","bottom-0","w-full","right-0","bg-neutral-white","z-[10]"],["cf-button","",1,"justify-center","w-full",3,"click"],["class","flex w-full flex-col justify-between",4,"ngIf"],["class","flex w-full flex-col h-[100vh] justify-between",4,"ngIf"],[1,"flex","w-full","flex-col","justify-between"],[1,"grow","overflow-y-hidden","flex","pb-12"],["infinite-scroll","",1,"w-full","flex","overflow-y-auto","h-[800px]",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","scrollWindow","fromRoot","alwaysCallback","infiniteScrollContainer","scrolled"],["outsideDays","hidden","navigation","none","direction","vertical",1,"",3,"minDate","displayMonths","rangeSelection","secondaryCalendar","formControl","fromDate","startDate","displayMonthsOffset","dateSelect"],[1,"flex","w-full","flex-col","h-[100vh]","justify-between"],[1,"flex","justify-between","items-center","p-4"],[1,"grow","!w-auto",3,"disabled","status"],["cfDatepickerViewer","","type","text","size","medium","cf-input","","placeholder","Ng\xe0y kh\u1edfi h\xe0nh","autocomplete","off",1,"py-[7px]",3,"minDate","formControl","ngModelChange"],["cfHint","",3,"hint",4,"ngIf"],[1,"text-body-md-short","text-neutral-gray-6","px-2"],["autocomplete","off","cfDatepickerViewer","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y v\u1ec1",1,"py-[7px]",3,"minDate","formControl","ngModelChange"],["infinite-scroll","",1,"w-full","flex",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","scrollWindow","fromRoot","alwaysCallback","infiniteScrollContainer","scrolled"],["outsideDays","hidden","navigation","none","direction","vertical",1,"",3,"minDate","displayMonths","rangeSelection","secondaryCalendar","fromDate","startDate","toDate","displayMonthsOffset","dateSelect"],[1,"p-4","fixed","bottom-0","w-full","right-0","z-[10]","bg-neutral-white"],["cfHint","",3,"hint"]],template:function(e,i){1&e&&(t.YNc(0,og,3,2,"div",0),t.TgZ(1,"div",1)(2,"button",2),t.NdJ("click",function(){return i.onMobileDatePickerOK()}),t._uU(3," X\xe1c nh\u1eadn "),t.qZA()()),2&e&&t.Q6J("ngForOf",i.formArray.controls)},dependencies:[g.ez,g.sg,g.O5,v.AxE,S.N8,S.Xq,Qn._o,Ll.Rq,Ll.Ry,A.u5,A.Fj,A.JJ,A.UX,A.oH,Qn.hI,Re.j$,Re.ND,Re.BN,Re.v2],encapsulation:2}),n})(),Mo=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"traceId",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"status",void 0),(0,b.gn)([(0,Qt.D)(()=>xs),(0,C.C)()],n.prototype,"data",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"objectError",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"errorCode",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"success",void 0),n})(),xs=(()=>{class n{get absoluteMaxValue(){if(0===this.conditionDetail.length)return 0;let e=-1/0;for(const i of this.conditionDetail){const a=[i.priceADT,i.priceCHD,i.priceINF,i.totalPrice];for(const c of a)c>e&&(e=c)}return+e}}return(0,b.gn)([(0,C.C)()],n.prototype,"code",void 0),(0,b.gn)([(0,Qt.D)(()=>rg),(0,C.C)()],n.prototype,"conditionDetail",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"journeyType",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"roundTrip",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"oneWay",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"type",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"minimum",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"public",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"termOfUse",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"header",void 0),n})(),jl=(()=>{class n extends xs{constructor(){super(...arguments),this.isShowDetail=!1}}return(0,b.gn)([(0,C.C)()],n.prototype,"isShowDetail",void 0),n})(),Yl=(()=>{class n extends xs{constructor(){super(...arguments),this.active=!1,this.discountByCondition=0,this.errorStr=""}}return(0,b.gn)([(0,C.C)()],n.prototype,"active",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"discountByCondition",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"errorStr",void 0),n})(),rg=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"airline",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"priceADT",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"priceCHD",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"priceINF",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"totalPrice",void 0),n})();function ag(n,o){1&n&&(t.TgZ(0,"div",29),t._uU(1," M\xe3 t\u1ef1 \u0111\u1ed9ng \xe1p d\u1ee5ng \u1edf k\u1ebft qu\u1ea3 t\xecm ki\u1ebfm "),t.qZA())}function sg(n,o){1&n&&t._UZ(0,"img",30)}function cg(n,o){if(1&n&&(t.TgZ(0,"div",24)(1,"div",25),t._uU(2," \u0110i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng "),t.qZA(),t._UZ(3,"div",26),t.TgZ(4,"div",25),t._uU(5," H\u01b0\u1edbng d\u1eabn s\u1eed d\u1ee5ng "),t.qZA(),t.YNc(6,ag,2,0,"div",27),t.YNc(7,sg,1,0,"img",28),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.Q6J("innerHTML",e.termOfUse,t.oJD),t.xp6(3),t.Q6J("ngIf","SEARCH"===e.type),t.xp6(1),t.Q6J("ngIf","BOOK"===e.type)}}function lg(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1," \u1ea8n "),t.qZA())}function ug(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1," Chi ti\u1ebft khuy\u1ebfn m\xe3i "),t.qZA())}function dg(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,c=t.oxw();return t.KtG(c.copyCode(a.code))}),t.TgZ(3,"div",6)(4,"div",7),t.O4$(),t.TgZ(5,"svg",8),t._UZ(6,"path",9),t.qZA(),t.kcU(),t.TgZ(7,"div",10),t._uU(8),t.ALo(9,"replace"),t.ALo(10,"number"),t.qZA()(),t.TgZ(11,"div",11),t._uU(12),t.qZA()(),t.TgZ(13,"div",12),t._UZ(14,"div",13)(15,"div",14)(16,"div",15),t.qZA(),t.TgZ(17,"div",16),t._UZ(18,"cf-icon",17),t.qZA()(),t._UZ(19,"div",18),t.ALo(20,"mapper"),t.TgZ(21,"span",19),t._uU(22),t.qZA()(),t.YNc(23,cg,8,3,"div",20),t.TgZ(24,"div",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit;return t.KtG(a.isShowDetail=!a.isShowDetail)}),t.YNc(25,lg,2,0,"div",22),t.YNc(26,ug,2,0,"div",23),t.qZA()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw();t.xp6(8),t.hij(" ",t.Dn7(9,7,t.lcZ(10,11,e.absoluteMaxValue/1e3),",","."),"K "),t.xp6(4),t.hij(" ",e.code," "),t.xp6(7),t.Q6J("innerHTML",t.xi3(20,13,e.header,i.bypassSecurityTrustHtml),t.oJD),t.xp6(3),t.hij(" ","SEARCH"===e.type?"M\xe3 t\u1ef1 \u0111\u1ed9ng \xe1p d\u1ee5ng":"\xc1p m\xe3 \u1edf b\u01b0\u1edbc \u0111\u1eb7t v\xe9"," "),t.xp6(1),t.Q6J("ngIf",e.isShowDetail),t.xp6(1),t.Q6J("ngSwitch",e.isShowDetail),t.xp6(1),t.Q6J("ngSwitchCase",!0)}}function pg(n,o){if(1&n&&(t.ynx(0),t.YNc(1,dg,27,16,"div",2),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.public)}}let Ql=(()=>{class n{constructor(e,i,a,c,u,d){this.cfIconsRegistry=e,this.sanitizer=i,this.clipboard=a,this._toastService=c,this.dataBottomSheet=u,this.data=d,this.bypassSecurityTrustHtml=f=>this.sanitizer.bypassSecurityTrustHtml(f),e.registerIcons([v.Ey$]),d&&(this.dataPromotion=d.dataPromotion.map((f,_)=>(0,oe.yE)(jl,f,{excludeExtraneousValues:!0}))),u&&(this.dataPromotion=u.dataPromotion.map((f,_)=>(0,oe.yE)(jl,f,{excludeExtraneousValues:!0})))}copyCode(e){this.clipboard.copy(e),this._toastService.add({severity:"success",summary:"\u0110\xe3 sao ch\xe9p m\xe3",detail:"M\xe3 \u0111\xe3 \u0111\u01b0\u1ee3c sao ch\xe9p v\xe0o b\u1ed9 nh\u1edb t\u1ea1m"})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.KNP),t.Y36(co.H7),t.Y36(Yc),t.Y36(Pn.BX),t.Y36(I.Rr,8),t.Y36(kl,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-list-promo-detail"]],standalone:!0,features:[t.jDz],decls:2,vars:1,consts:[[1,"w-[576px]","overflow-auto","flex","flex-col","p-4","gap-4","pb-28","h-full","md:w-screen","md:pb-3"],[4,"ngFor","ngForOf"],["class","p-3 bg-white rounded-lg shadow-lg flex flex-col ",4,"ngIf"],[1,"p-3","bg-white","rounded-lg","shadow-lg","flex","flex-col"],[1,"flex","flex-col","gap-2","py-3","border-b","border-neutral-gray-3"],[1,"flex","cursor-pointer","md:w-full",3,"click"],[1,"bg-yellow-1","py-2","rounded-l-2xl","flex","justify-between"],[1,"relative","-rotate-45","mx-2"],["width","53","height","53","viewBox","0 0 53 53","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M26.5 0L32.3299 4.74252L39.75 3.55033L42.4276 10.5724L49.4497 13.25L48.2575 20.6701L53 26.5L48.2575 32.3299L49.4497 39.75L42.4276 42.4276L39.75 49.4497L32.3299 48.2575L26.5 53L20.6701 48.2575L13.25 49.4497L10.5724 42.4276L3.55033 39.75L4.74252 32.3299L0 26.5L4.74252 20.6701L3.55033 13.25L10.5724 10.5724L13.25 3.55033L20.6701 4.74252L26.5 0Z","fill","#FFD255"],[1,"absolute","top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2","text-express-md","font-semibold","text-[#0B2888]"],[1,"flex","items-center","justify-center","flex-1","min-w-40","font-medium","w-fit"],[1,"flex","items-center","relative"],[1,"absolute","-top-[10px]","rounded-full","w-5","h-5","bg-white","z-1","-left-[9px]","rotate-[269deg]",2,"clip-path","polygon(0 0, 50% 0, 50% 100%, 0 100%)"],[1,"border-r-2","border-dotted","border-neutral-gray-3","h-[80%]","w-[1px]"],[1,"absolute","-bottom-[10px]","rounded-full","w-5","h-5","bg-white","z-1","-left-[9px]","rotate-[88deg]",2,"clip-path","polygon(0 0, 50% 0, 50% 100%, 0 100%)"],[1,"cursor-pointer","h-full","bg-yellow-1","px-8","rounded-r-2xl","flex","items-center","justify-center"],["icon","copy","size","medium"],[1,"font-medium","text-body-sm","!font-[roboto]","flex","flex-col","gap-2",3,"innerHTML"],[1,"text-neutral-gray-5","text-body-sm"],["class","flex flex-col gap-3 py-3",4,"ngIf"],[1,"text-blue-4","text-body-md","font-medium","py-3","cursor-pointer",3,"ngSwitch","click"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"flex","flex-col","gap-3","py-3"],[1,"text-gray-6","font-medium","text-body-md"],[1,"text-body-sm","font-normal","!font-[roboto]","flex","flex-col","gap-2",3,"innerHTML"],["class","text-body-sm text-neutral-gray-6",4,"ngIf"],["src","/assets/images/b2c/discount-book-instructions.png","class","h-[110px] object-contain",4,"ngIf"],[1,"text-body-sm","text-neutral-gray-6"],["src","/assets/images/b2c/discount-book-instructions.png",1,"h-[110px]","object-contain"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,pg,2,1,"ng-container",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",i.dataPromotion))},dependencies:[g.ez,g.sg,g.O5,g.RF,g.n9,g.ED,g.JJ,v.AxE,v.Sm8,it,et.q],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),Hl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-skeleton"]],standalone:!0,features:[t.jDz],decls:10,vars:0,consts:[[1,"w-full","h-[138px]","bg-neutral-white","rounded-xl"],[1,"flex","justify-between","items-center","gap-x-4","h-full","animate-pulse","p-4"],[1,"w-full","flex","flex-row","items-center","h-full","justify-start","gap-x-3"],[1,"w-12","bg-neutral-gray-2","h-12","rounded-full"],[1,"flex","flex-col","space-y-3"],[1,"w-48","bg-neutral-gray-2","h-6","rounded-md","md:max-w-[192px]","md:w-24"],[1,"w-36","bg-neutral-gray-2","h-6","rounded-md","md:max-w-[144px]","md:w-18"],[1,"w-[150px]","flex","flex-col","space-y-3","md:px-3","md:hidden"],[1,"w-32","bg-neutral-gray-2","h-6","rounded-md","md:max-w-[128px]","md:w-full"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"div",4),t._UZ(5,"div",5)(6,"div",6),t.qZA()(),t.TgZ(7,"div",7),t._UZ(8,"div",8)(9,"div",8),t.qZA()()())},dependencies:[g.ez],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();var Xr=w(7898);function gg(n,o){1&n&&t.GkF(0)}function ys(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",21)(1,"cf-checkbox",12),t.NdJ("checkChange",function(a){const u=t.CHM(e).$implicit,d=t.oxw(3);return t.KtG(d.ticketTypeChange(a,u.code))}),t._uU(2),t.qZA()()}if(2&n){const e=o.$implicit;t.xp6(1),t.Q6J("checked",e.actived),t.xp6(1),t.Oqu(e.name)}}function fg(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",8)(2,"div",18),t._uU(3,"Lo\u1ea1i v\xe9"),t.qZA(),t.YNc(4,ys,3,2,"div",19),t.qZA(),t._UZ(5,"div",20),t.BQk()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",e.optionsTicketType)}}function _g(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",23),t.NdJ("checkChange",function(a){t.CHM(e);const c=t.oxw(3);return t.KtG(c.onSelectedOptionChange({showNetPrice:a}))}),t._uU(2,"Hi\u1ec3n th\u1ecb gi\xe1 t\u1ed5ng"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("checked",e.viewConfig.showNetPrice)}}function hg(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",23),t.NdJ("checkChange",function(a){t.CHM(e);const c=t.oxw(3);return t.KtG(c.onSelectedOptionChange({hideFareClass:a}))}),t._uU(2,"\u1ea8n h\u1ea1ng gh\u1ebf"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("checked",e.viewConfig.hideFareClass)}}function Fe(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",23),t.NdJ("checkChange",function(a){t.CHM(e);const c=t.oxw(3);return t.KtG(c.onSelectedOptionChange({showDuration:a}))}),t._uU(2,"Hi\u1ec3n th\u1ecb th\u1eddi gian bay"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("checked",e.viewConfig.showDuration)}}function Xe(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",23),t.NdJ("checkChange",function(a){t.CHM(e);const c=t.oxw(3);return t.KtG(c.onSelectedOptionChange({showTotalPrice:a}))}),t._uU(2,"Hi\u1ec3n th\u1ecb gi\xe1 t\u1ed5ng"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("checked",e.viewConfig.showTotalPrice)}}function mg(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",22)(2,"div",18),t._uU(3,"Tu\u1ef3 ch\u1ec9nh hi\u1ec3n th\u1ecb"),t.qZA(),t.TgZ(4,"div",21),t.YNc(5,_g,3,1,"ng-container",7),t.YNc(6,hg,3,1,"ng-container",7),t.YNc(7,Fe,3,1,"ng-container",7),t.YNc(8,Xe,3,1,"ng-container",7),t.qZA()(),t._UZ(9,"div",13),t.BQk()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("ngIf",null!=e.viewConfig.showNetPrice),t.xp6(1),t.Q6J("ngIf",null!=e.viewConfig.hideFareClass),t.xp6(1),t.Q6J("ngIf",null!=e.viewConfig.showDuration),t.xp6(1),t.Q6J("ngIf",null!=e.viewConfig.showTotalPrice)}}function vg(n,o){1&n&&(t.TgZ(0,"div",28)(1,"div",29),t._uU(2,"H\xe3ng bay"),t.qZA()())}function xg(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",12),t.NdJ("checkChange",function(a){const u=t.CHM(e).$implicit,d=t.oxw(3);return t.KtG(d.airlineSelectChange(a,u.code))}),t._uU(2),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit;t.xp6(1),t.Q6J("checked",e.actived),t.xp6(1),t.AsE("",e.name,"(",e.code,")")}}function Gl(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.limitAirLineOption=(null==a.airlineOptions?null:a.airlineOptions.length)||0)}),t._uU(1,"Hi\u1ec7n t\u1ea5t c\u1ea3"),t.qZA()}}function yg(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.limitAirLineOption=5)}),t._uU(1,"\u1ea8n b\u1edbt"),t.qZA()}}function Cg(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"cf-collapse",8)(2,"cf-collapse-panel",9),t.YNc(3,vg,3,0,"ng-template",null,24,t.W1O),t.TgZ(5,"div",11),t.YNc(6,xg,3,3,"ng-container",25),t.ALo(7,"slice"),t.YNc(8,Gl,2,0,"button",26),t.YNc(9,yg,2,0,"button",27),t.qZA()()(),t._UZ(10,"div",13),t.BQk()),2&n){const e=t.MAs(4),i=t.oxw(2);t.xp6(2),t.Q6J("panelClass","flex flex-col pt-4 bg-transparent cursor-pointer")("contentClass","p-0")("active",!0)("title",e),t.xp6(4),t.Q6J("ngForOf",t.Dn7(7,7,i.airlineOptions,0,i.limitAirLineOption)),t.xp6(2),t.Q6J("ngIf",i.airlineOptions.length>=5&&5===i.limitAirLineOption),t.xp6(1),t.Q6J("ngIf",i.airlineOptions.length>=5&&i.limitAirLineOption>5)}}function bg(n,o){1&n&&(t.TgZ(0,"div",28)(1,"div",32),t._uU(2,"S\u1ed1 \u0111i\u1ec3m d\u1eebng"),t.qZA()())}function Kl(n,o){1&n&&(t.TgZ(0,"div",28)(1,"div",29),t._uU(2,"Gi\u1edd kh\u1edfi h\xe0nh"),t.qZA()())}const Tg=function(n,o){return{"bg-yellow-4":n,"bg-neutral-white":o}},Eg=function(n,o,e){return{"text-neutral-white ":n,"text-neutral-gray-4":o,"text-neutral-gray-3":e}},kg=function(n,o,e){return{"text-neutral-white ":n,"text-neutral-gray-6":o,"text-neutral-gray-4":e}};function $l(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",36),t.NdJ("click",function(){const c=t.CHM(e).$implicit,u=t.oxw(3);return t.KtG(!c.disabled&&u.activeTimeFilter(c,!c.actived))}),t.TgZ(1,"div",37),t._uU(2),t.qZA(),t.TgZ(3,"div",38),t._uU(4),t.qZA()()}if(2&n){const e=o.$implicit;t.Q6J("ngClass",t.WLB(5,Tg,e.actived,!e.actived)),t.xp6(1),t.Q6J("ngClass",t.kEZ(8,Eg,e.actived,!e.actived&&!e.disabled,e.disabled)),t.xp6(1),t.hij(" ",e.describe," "),t.xp6(1),t.Q6J("ngClass",t.kEZ(12,kg,e.actived,!e.actived&&!e.disabled,e.disabled)),t.xp6(1),t.hij(" ",e.name," ")}}function Vl(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"cf-collapse",8)(2,"cf-collapse-panel",9),t.YNc(3,Kl,3,0,"ng-template",null,33,t.W1O),t.TgZ(5,"div",34),t.YNc(6,$l,5,16,"div",35),t.qZA()()(),t._UZ(7,"div",13),t.BQk()),2&n){const e=t.MAs(4),i=t.oxw(2);t.xp6(2),t.Q6J("panelClass","flex flex-col py-4 bg-transparent cursor-pointer")("contentClass","p-0")("active",!0)("title",e),t.xp6(4),t.Q6J("ngForOf",i.timeFlightOptions)}}function Ag(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",43),t.NdJ("click",function(a){t.CHM(e);const c=t.oxw(4);return t.KtG(c.resetTypeFilter(a))}),t._uU(1," X\xf3a t\u1ea5t c\u1ea3"),t.qZA()}}function Dg(n,o){if(1&n&&(t.TgZ(0,"div",41)(1,"div",29),t._uU(2,"Khoang h\u1ea1ng"),t.qZA(),t.YNc(3,Ag,2,0,"div",42),t.ALo(4,"mapper"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(3),t.Q6J("ngIf",t.xi3(4,1,e.filterFareTypeOptions,e.hasTypeActive))}}function wg(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",23),t.NdJ("checkChange",function(){const c=t.CHM(e).$implicit,u=t.oxw(3);return t.KtG(u.activeTypeFilter(c,!c.actived))}),t._uU(2),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit;t.xp6(1),t.Q6J("checked",e.actived),t.xp6(1),t.Oqu(e.name)}}function Bg(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"cf-collapse",8)(2,"cf-collapse-panel",9),t.YNc(3,Dg,5,4,"ng-template",null,39,t.W1O),t.TgZ(5,"div",40),t.YNc(6,wg,3,2,"ng-container",25),t.qZA()()(),t._UZ(7,"div",13),t.BQk()),2&n){const e=t.MAs(4),i=t.oxw(2);t.xp6(2),t.Q6J("panelClass","flex flex-col py-4 bg-transparent cursor-pointer")("contentClass","p-0")("active",!0)("title",e),t.xp6(4),t.Q6J("ngForOf",i.filterFareTypeOptions)}}function io(n,o){1&n&&(t.TgZ(0,"div",28)(1,"div",29),t._uU(2,"Kh\xe1c"),t.qZA()())}function Zg(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",12),t.NdJ("checkChange",function(a){const u=t.CHM(e).$implicit,d=t.oxw(3);return t.KtG(d.airlinePlanSelectChange(a,u.code))}),t._uU(2),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit;t.xp6(1),t.Q6J("checked",e.actived),t.xp6(1),t.Oqu(e.name)}}function Ig(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.limitAirPlaneOption=(null==a.modelAirPlaneOptions?null:a.modelAirPlaneOptions.length)||0)}),t._uU(1,"Hi\u1ec7n t\u1ea5t c\u1ea3"),t.qZA()}}function Sg(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.limitAirPlaneOption=5)}),t._uU(1,"\u1ea8n b\u1edbt"),t.qZA()}}function Fg(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",44)(2,"div",45),t._uU(3,"Lo\u1ea1i m\xe1y bay"),t.qZA()(),t.TgZ(4,"div",11),t.YNc(5,Zg,3,2,"ng-container",25),t.ALo(6,"slice"),t.YNc(7,Ig,2,0,"button",26),t.YNc(8,Sg,2,0,"button",27),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("ngForOf",t.Dn7(6,3,e.modelAirPlaneOptions,0,e.limitAirPlaneOption)),t.xp6(2),t.Q6J("ngIf",e.modelAirPlaneOptions.length>5&&5===e.limitAirPlaneOption),t.xp6(1),t.Q6J("ngIf",e.modelAirPlaneOptions.length>=5&&e.limitAirPlaneOption>5)}}function Ng(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",12),t.NdJ("checkChange",function(a){const u=t.CHM(e).$implicit,d=t.oxw(3);return t.KtG(d.bookingSystemChange(a,u.code))}),t._uU(2),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit;t.xp6(1),t.Q6J("checked",e.actived),t.xp6(1),t.Oqu(e.name)}}function zl(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",44)(2,"div",46),t._uU(3,"H\u1ec7 th\u1ed1ng \u0111\u1eb7t ch\u1ed7"),t.qZA()(),t.TgZ(4,"div",11),t.YNc(5,Ng,3,2,"ng-container",25),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("ngForOf",e.bookingSystemList)}}function Wl(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6),t.YNc(2,fg,6,1,"ng-container",7),t.YNc(3,mg,10,4,"ng-container",7),t.YNc(4,Cg,11,11,"ng-container",7),t.TgZ(5,"cf-collapse",8)(6,"cf-collapse-panel",9),t.YNc(7,bg,3,0,"ng-template",null,10,t.W1O),t.TgZ(9,"div",11)(10,"cf-checkbox",12),t.NdJ("checkChange",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.onSelectedStopChange({direct:a}))}),t._uU(11,"Bay th\u1eb3ng"),t.qZA(),t.TgZ(12,"cf-checkbox",12),t.NdJ("checkChange",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.onSelectedStopChange({oneRoute:a}))}),t._uU(13,"1 \u0111i\u1ec3m d\u1eebng"),t.qZA(),t.TgZ(14,"cf-checkbox",12),t.NdJ("checkChange",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.onSelectedStopChange({moreRoute:a}))}),t._uU(15,"2+ \u0111i\u1ec3m d\u1eebng"),t.qZA()()()(),t._UZ(16,"div",13),t.YNc(17,Vl,8,5,"ng-container",7),t.YNc(18,Bg,8,5,"ng-container",7),t.TgZ(19,"cf-collapse",8)(20,"cf-collapse-panel",9),t.YNc(21,io,3,0,"ng-template",null,14,t.W1O),t.YNc(23,Fg,9,7,"ng-container",7),t.YNc(24,zl,6,1,"ng-container",7),t.qZA()()(),t.TgZ(25,"div",15)(26,"button",16),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.resetFilter.emit())}),t._uU(27,"X\xf3a b\u1ed9 l\u1ecdc"),t.qZA(),t.TgZ(28,"button",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.closeBotomSheet())}),t._uU(29,"\xc1p d\u1ee5ng"),t.qZA()()()}if(2&n){const e=t.MAs(8),i=t.MAs(22),a=t.oxw();t.xp6(2),t.Q6J("ngIf",a.optionsTicketType.length>1),t.xp6(1),t.Q6J("ngIf",a.viewConfig),t.xp6(1),t.Q6J("ngIf",a.airlineOptions.length>1),t.xp6(2),t.Q6J("panelClass","flex flex-col pt-4 bg-transparent cursor-pointer")("contentClass","p-0")("active",!0)("title",e),t.xp6(4),t.Q6J("checked",a.ticketFilterNumStop.direct),t.xp6(2),t.Q6J("checked",a.ticketFilterNumStop.oneRoute),t.xp6(2),t.Q6J("checked",a.ticketFilterNumStop.moreRoute),t.xp6(3),t.Q6J("ngIf",null==a.timeFlightOptions?null:a.timeFlightOptions.length),t.xp6(1),t.Q6J("ngIf",null==a.filterFareTypeOptions?null:a.filterFareTypeOptions.length),t.xp6(2),t.Q6J("panelClass","flex flex-col pt-4 bg-transparent cursor-pointer")("contentClass","p-0")("active",!0)("title",i),t.xp6(3),t.Q6J("ngIf",a.modelAirPlaneOptions.length),t.xp6(1),t.Q6J("ngIf",a.bookingSystemList.length)}}let Og=(()=>{class n{constructor(e,i,a){this.bottomSheetService=e,this._mobileDetectService=i,this.cfIconRegister=a,this.viewConfigChange=new t.vpe,this.airlineList={},this.airlineOptionsChange=new t.vpe,this.limitAirLineOption=5,this.ticketFilterNumStopChange=new t.vpe,this.timeFlightOptionsChange=new t.vpe,this.filterFareTypeOptionsChange=new t.vpe,this.modelAirPlaneOptionsChange=new t.vpe,this.optionsTicketTypeChange=new t.vpe,this.resetFilter=new t.vpe,this.bookingSystemList=[],this.bookingSystemListChange=new t.vpe,this.limitAirPlaneOption=5,this.isMobile=!1,this.hasTypeActive=c=>c.some(u=>u.actived),a.registerIcons([v.iK7])}ngOnInit(){this._mobileDetectService.mobileSubject.subscribe(e=>{this.isMobile=e})}onSelectedOptionChange(e){this.viewConfig=Object.assign(Object.assign({},this.viewConfig),e),this.viewConfigChange.emit(this.viewConfig)}airlineSelectChange(e,i){const a=this.airlineOptions.map(c=>Object.assign(Object.assign({},c),{actived:c.code===i?e:c.actived}));this.airlineOptionsChange.emit(a)}onSelectedStopChange(e){this.ticketFilterNumStop=Object.assign(Object.assign({},this.ticketFilterNumStop),e),this.ticketFilterNumStopChange.emit(this.ticketFilterNumStop)}activeTimeFilter(e,i){const a=this.timeFlightOptions.map(c=>Object.assign(Object.assign({},c),{actived:c.name===e.name?i:c.actived}));this.timeFlightOptionsChange.emit(a)}resetTypeFilter(e){e.stopPropagation(),this.filterFareTypeOptionsChange.emit(this.filterFareTypeOptions.map(i=>Object.assign(Object.assign({},i),{actived:!1})))}activeTypeFilter(e,i){const a=this.filterFareTypeOptions.map(c=>Object.assign(Object.assign({},c),{actived:c.code===e.code?i:c.actived}));this.filterFareTypeOptionsChange.emit(a)}airlinePlanSelectChange(e,i){const a=this.modelAirPlaneOptions.map(c=>Object.assign(Object.assign({},c),{actived:c.code===i?e:c.actived}));this.modelAirPlaneOptionsChange.emit(a)}ticketTypeChange(e,i){const a=this.optionsTicketType.map(c=>Object.assign(Object.assign({},c),{actived:c.code===i?e:c.actived}));this.optionsTicketTypeChange.emit(a)}bookingSystemChange(e,i){const a=this.bookingSystemList.map(c=>Object.assign(Object.assign({},c),{actived:c.code===i?e:c.actived}));this.bookingSystemListChange.emit(a)}openBottomSheet(e){this.bottomSheetService.open(e,{headerTitle:"B\u1ed9 l\u1ecdc",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"}).containerInstance._rightButtonClick.subscribe(()=>this.bottomSheetService.dismiss())}closeBotomSheet(){this.bottomSheetService.dismiss()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(I.a2),t.Y36(ri.L),t.Y36(v.KNP))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-result-filter"]],inputs:{viewConfig:"viewConfig",airlineList:"airlineList",airlineOptions:"airlineOptions",ticketFilterNumStop:"ticketFilterNumStop",timeFlightOptions:"timeFlightOptions",filterFareTypeOptions:"filterFareTypeOptions",modelAirPlaneOptions:"modelAirPlaneOptions",optionsTicketType:"optionsTicketType",bookingSystemList:"bookingSystemList"},outputs:{viewConfigChange:"viewConfigChange",airlineOptionsChange:"airlineOptionsChange",ticketFilterNumStopChange:"ticketFilterNumStopChange",timeFlightOptionsChange:"timeFlightOptionsChange",filterFareTypeOptionsChange:"filterFareTypeOptionsChange",modelAirPlaneOptionsChange:"modelAirPlaneOptionsChange",optionsTicketTypeChange:"optionsTicketTypeChange",resetFilter:"resetFilter",bookingSystemListChange:"bookingSystemListChange"},standalone:!0,features:[t.jDz],decls:7,vars:2,consts:[[1,"gap-x-1.5","items-center","border","md:w-full","w-fit","animate-button","md:border-0","justify-center","border-neutral-gray-3","px-4","py-[6px]","hidden","md:flex",3,"click"],[1,"text-body-md","whitespace-nowrap","text-base"],["icon","filter_alt","size","small",1,"text-neutral-gray-5"],[4,"ngIf","ngIfElse"],["desktopTpl",""],[1,"flex","flex-col","md:w-full"],[1,"flex","flex-col","pt-2","md:pt-5","md:px-4","md:max-h-[70vh]","md:overflow-y-auto","md:pb-4"],[4,"ngIf"],[1,"w-full"],[1,"!border-b-0",3,"panelClass","contentClass","active","title"],["stopTitleTemplate",""],[1,"flex","flex-col","mt-2"],["size","medium",1,"pt-2",3,"checked","checkChange"],[1,"border-b-neutral-gray-2","w-full","border-b","mt-5"],["planeModelTemplate",""],[1,"p-4","gap-x-4","hidden","shadow-cf-large-top","md:flex"],["cf-button","","type","secondary",1,"w-full","justify-center",3,"click"],["cf-button","",1,"w-full","justify-center",3,"click"],[1,"text-espressive-md","text-neutral-gray-6","mb-3"],["class","flex flex-col gap-y-[11px] select-none",4,"ngFor","ngForOf"],[1,"bg-neutral-gray-2","w-full","h-[1px]","my-5"],[1,"flex","flex-col","gap-y-[11px]","select-none"],[1,""],["size","medium",3,"checked","checkChange"],["airlineTitleTemplate",""],[4,"ngFor","ngForOf"],["class","w-full text-left !pt-2 !outline-none !outline-transparent !text-express-md !text-blue-4","type","secondary",3,"click",4,"ngIf"],["class","w-full text-left !pt-2 !outline-none !outline-transparent !text-express-md text-blue-4","type","secondary",3,"click",4,"ngIf"],[1,"flex","gap-x-4","items-center"],[1,"text-espressive-md","text-neutral-gray-6"],["type","secondary",1,"w-full","text-left","!pt-2","!outline-none","!outline-transparent","!text-express-md","!text-blue-4",3,"click"],["type","secondary",1,"w-full","text-left","!pt-2","!outline-none","!outline-transparent","!text-express-md","text-blue-4",3,"click"],[1,"text-espressive-sm","text-neutral-gray-6"],["departTimeTemplate",""],[1,"flex","gap-2","flex-wrap","justify-center"],["class","cursor-pointer gap-1 w-[92px] h-12 flex flex-col items-center justify-center rounded border border-neutral-gray-2",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"cursor-pointer","gap-1","w-[92px]","h-12","flex","flex-col","items-center","justify-center","rounded","border","border-neutral-gray-2",3,"ngClass","click"],[1,"text-espressive-xs","font-semibold",3,"ngClass"],[1,"text-espressive-sm","font-semibold",3,"ngClass"],["fareclassTemplate",""],[1,"flex","flex-col","gap-3","w-full"],[1,"flex-1","mr-2","flex","gap-x-4","items-center","justify-between"],["class","text-express-sm text-primary-1-4",3,"click",4,"ngIf"],[1,"text-express-sm","text-primary-1-4",3,"click"],[1,"flex","gap-x-4","items-center","pt-4"],[1,"text-espressive-sm","text-neutral-gray-4","font-medium"],[1,"text-espressive-md","text-neutral-gray-4","font-medium"]],template:function(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"div",0),t.NdJ("click",function(){t.CHM(a);const u=t.MAs(6);return t.KtG(i.openBottomSheet(u))}),t.TgZ(1,"div",1),t._uU(2,"B\u1ed9 l\u1ecdc"),t.qZA(),t._UZ(3,"cf-icon",2),t.qZA(),t.YNc(4,gg,1,0,"ng-container",3),t.YNc(5,Wl,30,18,"ng-template",null,4,t.W1O)}if(2&e){const a=t.MAs(6);t.xp6(4),t.Q6J("ngIf",i.isMobile)("ngIfElse",a)}},dependencies:[g.ez,g.mk,g.sg,g.O5,g.OU,Xr.u,v.AxE,v.Sm8,S.N8,S.Xq,A.u5,Ni,ao,et.q],styles:[":host{display:block}.appear{animation:fade-in 1s cubic-bezier(.39,.575,.565,1) both}@keyframes fade-in{0%{opacity:0}to{opacity:1}}\n"],encapsulation:2,changeDetection:0}),n})();var Dn=w(518);function Pg(n,o){if(1&n&&(t.TgZ(0,"div",55),t._UZ(1,"cf-icon",56),t.TgZ(2,"span",57),t._uU(3),t.ALo(4,"mapper"),t.qZA()()),2&n){const e=t.oxw().$implicit,i=t.oxw();t.xp6(3),t.lnq(" D\u1eebng t\u1ea1i: ",t.xi3(4,3,e.startPoint,i.getLocationData)," (",e.startPoint,"). Th\u1eddi gian d\u1eebng: ",e.delaySt," ")}}function Rg(n,o){if(1&n&&(t.TgZ(0,"span",58),t._UZ(1,"cf-icon",59),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"mapper"),t.ALo(5,"mapper"),t.qZA()()),2&n){const e=t.oxw().$implicit,i=t.oxw();t.xp6(3),t.AsE("Chuy\u1ebfn bay: ",t.xi3(4,2,e.startPoint,i.getLocationData)," - ",t.xi3(5,5,e.endPoint,i.getLocationData),"")}}function Lg(n,o){1&n&&(t.TgZ(0,"span",11),t._uU(1,"H\xe0nh l\xfd k\xfd g\u1eedi:\xa0"),t.qZA())}function qg(n,o){1&n&&(t.TgZ(0,"span",11),t._uU(1,"H\xe0nh l\xfd x\xe1ch tay:\xa0"),t.qZA())}function Ug(n,o){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,Lg,2,0,"span",60),t.YNc(2,qg,2,0,"span",60),t.TgZ(3,"span",32),t._uU(4),t.qZA()()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf","CHECKED_BAGGAGE"===e.cate),t.xp6(1),t.Q6J("ngIf","HAND_BAGGAGE"===e.cate),t.xp6(2),t.Oqu(e.value)}}function Mg(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Ug,5,3,"span",1),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.ticket.fareRuleClassesObj[e.ticket.IDF])}}function Jg(n,o){1&n&&(t.TgZ(0,"div",31)(1,"div",11),t._uU(2,"H\xe0nh l\xfd k\xfd g\u1eedi:\xa0"),t.qZA(),t.TgZ(3,"div",32),t._uU(4,"N/A"),t.qZA()(),t.TgZ(5,"div",31)(6,"div",11),t._uU(7,"H\xe0nh l\xfd x\xe1ch tay:\xa0"),t.qZA(),t.TgZ(8,"div",32),t._uU(9,"N/A"),t.qZA()())}function jg(n,o){1&n&&(t.TgZ(0,"div",61),t._uU(1," Chi\u1ec1u \u0111i"),t.qZA())}function Yg(n,o){1&n&&(t.TgZ(0,"div",61),t._uU(1," Chi\u1ec1u v\u1ec1"),t.qZA())}function Qg(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("\xa0(",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,")")}}function Hg(n,o){if(1&n&&(t.TgZ(0,"span",52)(1,"span",62),t._uU(2),t.qZA(),t.YNc(3,Qg,2,1,"span",63),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(null==e.ticket.fareCur?null:e.ticket.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function Gg(n,o){if(1&n&&(t.TgZ(0,"span",52),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("H\u1ea1ng ch\u1ed7: ",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,"")}}function Kg(n,o){if(1&n&&t.YNc(0,Gg,2,1,"span",64),2&n){const e=t.oxw(2);t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function $g(n,o){1&n&&(t.TgZ(0,"div",11),t._uU(1,"H\xe0nh l\xfd k\xfd g\u1eedi:\xa0"),t.qZA())}function Vg(n,o){1&n&&(t.TgZ(0,"div",11),t._uU(1,"H\xe0nh l\xfd x\xe1ch tay:\xa0"),t.qZA())}function zg(n,o){if(1&n&&(t.TgZ(0,"div",31),t.YNc(1,$g,2,0,"div",60),t.YNc(2,Vg,2,0,"div",60),t.TgZ(3,"div",52),t._uU(4),t.qZA()()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf","CHECKED_BAGGAGE"===e.cate),t.xp6(1),t.Q6J("ngIf","HAND_BAGGAGE"===e.cate),t.xp6(2),t.Oqu(e.value)}}function Wg(n,o){if(1&n&&(t.ynx(0),t.YNc(1,zg,5,3,"div",65),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.ticket.fareRuleClassesObj[e.ticket.IDF])}}function Xg(n,o){1&n&&(t.TgZ(0,"div",31)(1,"div",11),t._uU(2,"H\xe0nh l\xfd k\xfd g\u1eedi:\xa0"),t.qZA(),t.TgZ(3,"div",52),t._uU(4,"N/A"),t.qZA()(),t.TgZ(5,"div",31)(6,"div",11),t._uU(7,"H\xe0nh l\xfd x\xe1ch tay:\xa0"),t.qZA(),t.TgZ(8,"div",52),t._uU(9,"N/A"),t.qZA()())}function tf(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",2),t.YNc(2,Pg,5,6,"div",3),t.qZA(),t.YNc(3,Rg,6,8,"span",4),t.TgZ(4,"div",5)(5,"div",6)(6,"div",7)(7,"div"),t._UZ(8,"img",8),t.qZA(),t.TgZ(9,"div",9)(10,"div",10),t._uU(11),t.qZA(),t.TgZ(12,"div",11),t._uU(13),t.qZA()(),t.TgZ(14,"div",12),t._uU(15),t.qZA()(),t.TgZ(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16),t._uU(20),t.ALo(21,"date"),t.qZA(),t.TgZ(22,"div",17),t._UZ(23,"div",18)(24,"div",19)(25,"cf-icon",20),t.qZA()(),t.TgZ(26,"div",21),t._UZ(27,"cf-icon",22),t.TgZ(28,"div",23),t._uU(29),t.ALo(30,"formatVietnameseDate"),t.qZA()(),t.TgZ(31,"div",24),t._UZ(32,"cf-icon",25),t.TgZ(33,"div",26)(34,"span",27),t._uU(35),t.qZA(),t.TgZ(36,"span",28),t._uU(37),t.ALo(38,"mapper"),t.qZA()()()(),t.TgZ(39,"div")(40,"div",29),t._uU(41),t.ALo(42,"date"),t.qZA(),t.TgZ(43,"div",21),t._UZ(44,"cf-icon",22),t.TgZ(45,"div",23),t._uU(46),t.ALo(47,"formatVietnameseDate"),t.qZA()(),t.TgZ(48,"div",24),t._UZ(49,"cf-icon",25),t.TgZ(50,"div",26)(51,"span",27),t._uU(52),t.qZA(),t.TgZ(53,"span",28),t._uU(54),t.ALo(55,"mapper"),t.qZA()()()()()(),t.TgZ(56,"div",30)(57,"div",31)(58,"div",11),t._uU(59,"Th\u1eddi gian bay:\xa0"),t.qZA(),t.TgZ(60,"div",32),t._uU(61),t.qZA()(),t.TgZ(62,"div",31)(63,"div",11),t._uU(64,"Lo\u1ea1i m\xe1y bay:\xa0"),t.qZA(),t.TgZ(65,"div",32),t._uU(66),t.qZA()(),t.TgZ(67,"div",31)(68,"div",11),t._uU(69,"H\u1ea1ng ch\u1ed7:\xa0"),t.qZA(),t.TgZ(70,"div",32),t._uU(71),t.qZA()(),t.YNc(72,Mg,2,1,"ng-container",33),t.YNc(73,Jg,10,0,"ng-template",null,34,t.W1O),t.qZA()(),t.TgZ(75,"div",35)(76,"div",36)(77,"div",37)(78,"div",24),t._UZ(79,"img",38),t.TgZ(80,"div",39)(81,"div",40),t._uU(82),t.qZA(),t.TgZ(83,"div",41),t._uU(84),t.qZA()()(),t.YNc(85,jg,2,0,"div",42),t.YNc(86,Yg,2,0,"div",42),t.qZA(),t.TgZ(87,"div",43)(88,"div",44)(89,"div",45)(90,"div",40),t._uU(91),t.ALo(92,"date"),t.qZA(),t.TgZ(93,"div",41),t._uU(94),t.ALo(95,"date"),t.qZA()(),t.TgZ(96,"div",45)(97,"div",40),t._uU(98),t.ALo(99,"date"),t.qZA(),t.TgZ(100,"div",41),t._uU(101),t.ALo(102,"date"),t.qZA()()(),t.TgZ(103,"div",46),t._UZ(104,"div",47)(105,"div",48)(106,"cf-icon",49),t.qZA(),t.TgZ(107,"div",44)(108,"div",39)(109,"div",40),t._uU(110),t.ALo(111,"mapper"),t.qZA()(),t.TgZ(112,"div",39)(113,"div",40),t._uU(114),t.ALo(115,"mapper"),t.qZA()()()()(),t.TgZ(116,"div",50)(117,"div",51)(118,"div",31)(119,"div",11),t._uU(120,"Th\u1eddi gian bay:\xa0"),t.qZA(),t.TgZ(121,"div",52),t._uU(122),t.qZA()(),t.TgZ(123,"div",31)(124,"div",11),t._uU(125,"Lo\u1ea1i m\xe1y bay:\xa0"),t.qZA(),t.TgZ(126,"div",52),t._uU(127),t.qZA()(),t.TgZ(128,"div",31)(129,"div",11),t._uU(130,"H\u1ea1ng ch\u1ed7:\xa0"),t.qZA(),t.YNc(131,Hg,4,2,"span",53),t.YNc(132,Kg,1,1,"ng-template",null,54,t.W1O),t.qZA(),t.YNc(134,Wg,2,1,"ng-container",33),t.YNc(135,Xg,10,0,"ng-template",null,34,t.W1O),t.qZA()()(),t.BQk()),2&n){const e=o.$implicit,i=o.index,a=t.MAs(74),c=t.MAs(133),u=t.oxw();t.xp6(2),t.Q6J("ngIf",e.delaySt),t.xp6(1),t.Q6J("ngIf",u.isShowTrip&&!e.delaySt),t.xp6(5),t.Q6J("src",e.logoAirline,t.LSH),t.xp6(3),t.hij("",e.operating," - "),t.xp6(2),t.hij("\xa0",e.operatingName,""),t.xp6(2),t.AsE(" ",e.operating,"",e.flightNumber," "),t.xp6(5),t.Oqu(t.xi3(21,40,e.startTime,"HH:mm")),t.xp6(9),t.Oqu(t.lcZ(30,43,e.departure.localTime)),t.xp6(6),t.hij("",e.startPoint," - "),t.xp6(2),t.Oqu(t.xi3(38,45,e.startPoint,u.getLocationData)),t.xp6(4),t.hij(" ",t.xi3(42,48,e.endTime,"HH:mm")," "),t.xp6(5),t.Oqu(t.lcZ(47,51,e.arrival.localTime)),t.xp6(6),t.hij("",e.endPoint," - "),t.xp6(2),t.Oqu(t.xi3(55,53,e.endPoint,u.getLocationData)),t.xp6(7),t.Oqu(e.durationStr),t.xp6(5),t.Oqu(e.modelAirplaneName),t.xp6(5),t.Oqu((null==u.ticket.fareCur?null:u.ticket.fareCur.fareClass)||"N/A"),t.xp6(1),t.Q6J("ngIf",u.ticket.fareRuleClassesObj&&u.ticket.IDF&&u.ticket.fareRuleClassesObj[u.ticket.IDF])("ngIfElse",a),t.xp6(7),t.Q6J("src","assets/airline-logo/"+e.operating+".png",t.LSH),t.xp6(3),t.AsE("",e.airline,"",e.flightNumber,""),t.xp6(2),t.Oqu(e.airlineName),t.xp6(1),t.Q6J("ngIf",0===i),t.xp6(1),t.Q6J("ngIf",1===i),t.xp6(5),t.Oqu(t.xi3(92,56,e.startTime,"HH:mm")),t.xp6(3),t.Oqu(t.xi3(95,59,e.startTime,"dd/MM/yyy")),t.xp6(4),t.Oqu(t.xi3(99,62,e.endTime,"HH:mm")),t.xp6(3),t.Oqu(t.xi3(102,65,e.endTime,"dd/MM/yyy")),t.xp6(9),t.AsE("",t.xi3(111,68,e.startPoint,u.getLocationData)," - ",e.startPoint," "),t.xp6(4),t.AsE("",t.xi3(115,71,e.endPoint,u.getLocationData)," - ",e.endPoint," "),t.xp6(8),t.Oqu(e.durationStrMobile),t.xp6(5),t.Oqu(e.modelAirplaneName),t.xp6(4),t.Q6J("ngIf",(null==u.ticket.fareCur?null:u.ticket.fareCur.cabinName)&&"null"!=(null==u.ticket.fareCur?null:u.ticket.fareCur.cabinName))("ngIfElse",c),t.xp6(3),t.Q6J("ngIf",u.ticket.fareRuleClassesObj&&u.ticket.IDF&&u.ticket.fareRuleClassesObj[u.ticket.IDF])("ngIfElse",a)}}let Xl=(()=>{class n{constructor(e,i){this.cfIconRegister=e,this.locationDataSvc=i,this.isShowTrip=!1,this.getLocationData=a=>this.locationDataSvc.getCityNameByCode(a),e.registerIcons([v.UNF,v.B2I,v.okA,v.wvd,v.bHT])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.KNP),t.Y36(wt._h))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-detail-item"]],inputs:{ticket:"ticket",isShowTrip:"isShowTrip"},standalone:!0,features:[t.jDz],decls:2,vars:1,consts:[[1,"flex","flex-col","md:w-full"],[4,"ngFor","ngForOf"],[1,"px-[20px]","md:p-0"],["class","w-full bg-[#F0EAF4] rounded flex items-center  gap-x-2 py-1.5 px-3 my-3",4,"ngIf"],["class","text-heading-sm text-neutral-black flex items-center md:hidden",4,"ngIf"],[1,"flex","justify-between","items-center","py-6","md:hidden"],[1,"flex","flex-1","gap-x-9","px-[10px]"],[1,"flex","flex-col","items-center","justify-center","pl-[20px]"],[1,"w-[120px]","h-[60px]","object-contain",3,"src"],[1,"flex","items-center","mt-1.5"],[1,"text-espressive-sm"],[1,"text-body-sm"],[1,"py-[2px]","px-2","bg-neutral-gray-1","rounded","text-espressive-sm","text-neutral-black","mt-2"],[1,"flex","justify-between","gap-x-3"],[1,""],[1,"flex","items-center","gap-x-[20px]","mb-3"],[1,"text-heading-lg","text-neutral-black"],[1,"flex","items-center","w-[50px]","py-1","px-2.5"],[1,"w-1.5","h-1.5","bg-neutral-gray-2","rounded-full"],[1,"w-full","h-[1px]","bg-neutral-gray-2"],["icon","plane","size","small",1,"text-[#ccc]"],[1,"flex","items-center","gap-x-2","mb-2"],["icon","calendar","size","small"],[1,"text-body-md","text-neutral-black"],[1,"flex","items-center","gap-x-2"],["icon","commute","size","small"],[1,"text-neutral-black"],[1,"text-espressive-md"],[1,"text-body-md"],[1,"text-heading-lg","text-neutral-black","mb-3"],[1,"w-[192px]","pl-4","border-l","border-dashed","border-neutral-gray-2","flex","flex-col","justify-between","gap-y-2"],[1,"flex","flex-nowrap","items-center"],[1,"text-espressive-sm","text-neutral-black"],[4,"ngIf","ngIfElse"],["emptyFareRuleTpl",""],[1,"md:flex","hidden","py-4","md:w-full","bg-white","flex-col","rounded-lg","gap-3"],[1,"flex","flex-1","gap-x-9","px-3","flex-col"],[1,"flex","justify-between"],[1,"w-9","h-9","object-contain",3,"src"],[1,"flex","flex-col","gap-y-1"],[1,"text-heading-xs","text-neutral-gray-6"],[1,"text-espressive-xs","text-neutral-gray-4"],["class","h-fit py-1 px-2 text-neutral-white text-espressive-sm bg-secondary-5-3 rounded ",4,"ngIf"],[1,"flex","mt-2","gap-x-4"],[1,"flex","flex-col","gap-y-4"],[1,"flex","flex-col","items-center","gap-y-1"],[1,"flex","flex-col","items-center","justify-between","py-3"],[1,"w-1","h-1","rounded-full","bg-neutral-gray-3"],[1,"border-r","border-r-neutral-gray-3","h-full"],["icon","plane","size","small",1,"text-neutral-gray-3"],[1,"w-full","pt-4","px-4"],[1,"w-full","border-t","pt-3","border-dashed","border-neutral-gray-2","flex","justify-between","gap-y-2","flex-col"],[1,"text-espressive-sm","text-neutral-black","font-semibold"],["class","text-espressive-sm text-neutral-black font-semibold",4,"ngIf","ngIfElse"],["noncabinTemplate",""],[1,"w-full","bg-[#F0EAF4]","rounded","flex","items-center","gap-x-2","py-1.5","px-3","my-3"],["icon","circle_information","size","small",1,"text-secondary-2-4"],[1,"text-express-md","text-neutral-gray-6"],[1,"text-heading-sm","text-neutral-black","flex","items-center","md:hidden"],["icon","circle_information","size","small",1,"mr-2.5"],["class","text-body-sm",4,"ngIf"],[1,"h-fit","py-1","px-2","text-neutral-white","text-espressive-sm","bg-secondary-5-3","rounded"],[1,"capitalize"],[4,"ngIf"],["class","text-espressive-sm text-neutral-black font-semibold",4,"ngIf"],["class","flex flex-nowrap items-center",4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,tf,137,74,"ng-container",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",i.ticket.segments))},dependencies:[g.ez,g.sg,g.O5,g.uU,v.AxE,v.Sm8,et.q,nt],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();function ef(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td",23)(2,"div",24),t._UZ(3,"img",25),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"mapper"),t.ALo(7,"mapper"),t.qZA()()(),t.TgZ(8,"td",23),t._uU(9),t.qZA(),t.TgZ(10,"td",23),t._uU(11),t.qZA(),t.TgZ(12,"td",23),t._uU(13),t.qZA()()),2&n){const e=o.$implicit,i=t.oxw(2);t.xp6(3),t.Q6J("src","assets/airline-logo/"+e.airlineLogo+".png",t.LSH),t.xp6(2),t.AsE("",t.xi3(6,6,e.startPoint,i.getLocationData)," - ",t.xi3(7,9,e.endPoint,i.getLocationData),""),t.xp6(4),t.hij(" ",i.hasAdtPax?e.fareClass+" - "+e.fareBasis:"-"," "),t.xp6(2),t.hij(" ",i.hasChdPax?e.fareClass+" - "+e.fareBasis:"-"," "),t.xp6(2),t.hij(" ",i.hasInfPax?e.fareClass+" - "+e.fareBasis:"-"," ")}}function nf(n,o){if(1&n&&(t.TgZ(0,"div",2)(1,"div",3),t._UZ(2,"cf-icon",4),t.TgZ(3,"div",5),t._uU(4,"H\u1ea1ng ch\u1ed7 - Fare Basis"),t.qZA()(),t.TgZ(5,"div")(6,"table",6)(7,"thead")(8,"tr",7)(9,"th",8),t._uU(10,"Ch\u1eb7ng bay"),t.qZA(),t.TgZ(11,"th",8),t._uU(12,"Ng\u01b0\u1eddi l\u1edbn (ADT)"),t.qZA(),t.TgZ(13,"th",8),t._uU(14,"Tr\u1ebb em (CHD)"),t.qZA(),t.TgZ(15,"th",8),t._uU(16,"Em b\xe9 (INF)"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,ef,14,12,"tr",11),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(18),t.Q6J("ngForOf",e.fareBasisInfos)}}function of(n,o){1&n&&(t.TgZ(0,"th",8),t._uU(1," Gi\u1ea3m gi\xe1"),t.qZA())}function Cs(n,o){if(1&n&&(t.TgZ(0,"td",29),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" - ",t.Dn7(2,1,t.lcZ(3,5,e.discountAmount),",",".")," ")}}function tu(n,o){if(1&n&&(t.TgZ(0,"td",30),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.totalFare-e.discountAmount*e.quantity),",",".")," ")}}function eu(n,o){if(1&n&&(t.TgZ(0,"td",30),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.totalFare),",",".")," ")}}function rf(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td",23),t._uU(2),t.qZA(),t.TgZ(3,"td",23),t._uU(4),t.qZA(),t.TgZ(5,"td",23),t._uU(6),t.ALo(7,"replace"),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"td",23),t._uU(10),t.ALo(11,"replace"),t.ALo(12,"number"),t.qZA(),t.YNc(13,Cs,4,7,"td",26),t.ALo(14,"mapper"),t.YNc(15,tu,4,7,"td",27),t.ALo(16,"mapper"),t.YNc(17,eu,4,7,"ng-template",null,28,t.W1O),t.qZA()),2&n){const e=o.$implicit,i=t.MAs(18),a=t.oxw();t.xp6(2),t.Oqu(e.type),t.xp6(2),t.Oqu(e.quantity),t.xp6(2),t.Oqu(t.Dn7(7,7,t.lcZ(8,11,e.baseFare),",",".")),t.xp6(4),t.Oqu(t.Dn7(11,13,t.lcZ(12,17,e.surCharge),",",".")||0),t.xp6(3),t.Q6J("ngIf",t.xi3(14,19,a.ticketPriceList,a.isDiscountAmount)),t.xp6(2),t.Q6J("ngIf",t.xi3(16,22,a.ticketPriceList,a.isDiscountAmount))("ngIfElse",i)}}function af(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.totalFare-e.discountAmount*e.quantity),",","."),"\u0111 ")}}function sf(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("",t.Dn7(2,1,t.lcZ(3,5,e.totalFare),",","."),"\u0111")}}function bs(n,o){if(1&n&&(t.TgZ(0,"div",37)(1,"div",35),t._uU(2,"Gi\u1ea3m gi\xe1 "),t.qZA(),t.TgZ(3,"div",38),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(4),t.AsE(" - ",t.Dn7(5,2,t.lcZ(6,6,e.discountAmount),",",".")," X ",e.quantity,"")}}function cf(n,o){if(1&n&&(t.TgZ(0,"div",31)(1,"div",32)(2,"div",33),t._uU(3),t.qZA(),t.TgZ(4,"div",33),t.YNc(5,af,4,7,"span",34),t.ALo(6,"mapper"),t.YNc(7,sf,4,7,"ng-template",null,28,t.W1O),t.qZA()(),t.TgZ(9,"div",32)(10,"div",35),t._uU(11,"Gi\xe1 v\xe9 m\xe1y bay"),t.qZA(),t.TgZ(12,"div",35),t._uU(13),t.ALo(14,"replace"),t.ALo(15,"number"),t.qZA()(),t.TgZ(16,"div",32)(17,"div",35),t._uU(18,"Thu\u1ebf & ph\xed"),t.qZA(),t.TgZ(19,"div",35),t._uU(20),t.ALo(21,"replace"),t.ALo(22,"number"),t.qZA()(),t.YNc(23,bs,7,8,"div",36),t.ALo(24,"mapper"),t.qZA()),2&n){const e=o.$implicit,i=t.MAs(8),a=t.oxw();t.xp6(3),t.Oqu(e.type),t.xp6(2),t.Q6J("ngIf",t.xi3(6,8,a.ticketPriceList,a.isDiscountAmount))("ngIfElse",i),t.xp6(8),t.AsE("",t.Dn7(14,11,t.lcZ(15,15,e.baseFare),",","."),"\u0111 x ",e.quantity,""),t.xp6(7),t.AsE("",t.Dn7(21,17,t.lcZ(22,21,e.surCharge),",","."),"\u0111 x ",e.quantity,""),t.xp6(3),t.Q6J("ngIf",t.xi3(24,23,a.ticketPriceList,a.isDiscountAmount))}}let nu=(()=>{class n{constructor(e){this.locationDataSvc=e,this.ticketPriceList=[],this.fareBasisInfos=[],this.hasAdtPax=!1,this.hasChdPax=!1,this.hasInfPax=!1,this.sumPriceTicket=i=>i.reduce((a,c)=>a+c.totalFare-c.discountAmount*c.quantity,0),this.getLocationData=i=>this.locationDataSvc.getCityNameByCode(i),this.isDiscountAmount=i=>i.find(a=>a.discountAmount)}ngOnChanges(e){e.ticketPriceList&&e.ticketPriceList.currentValue&&this.ticketPriceList.forEach(i=>{i.type.includes("ADT")&&(this.hasAdtPax=!0),i.type.includes("CHD")&&(this.hasChdPax=!0),i.type.includes("INF")&&(this.hasInfPax=!0)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(wt._h))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-info-item"]],inputs:{ticketPriceList:"ticketPriceList",fareBasisInfos:"fareBasisInfos"},standalone:!0,features:[t.TTD,t.jDz],decls:45,vars:13,consts:[[1,"md:hidden","p-6","flex","flex-col","gap-y-4"],["class","flex flex-col gap-y-4",4,"ngIf"],[1,"flex","flex-col","gap-y-4"],[1,"flex","items-center","gap-x-2"],["icon","circle_information","size","small"],[1,"text-heading-sm"],[1,"table-auto","w-full"],[1,"border-b","border-neutral-gray-1"],[1,"text-left","text-espressive-sm","text-neutral-gray-4","py-3"],["class","text-left text-espressive-sm text-neutral-gray-4 py-3",4,"ngIf"],[1,"text-right","text-espressive-sm","text-neutral-gray-4","py-3"],[4,"ngFor","ngForOf"],[1,"flex","justify-end","items-center","gap-x-6","bg-secondary-3-1","py-1","px-2"],[1,"text-espressive-sm"],[1,"text-heading-md"],[1,"hidden","md:flex","flex-col","gap-y-4"],[1,"flex","flex-col","bg-neutral-white","rounded-lg","p-4","gap-y-2"],["class","flex flex-col gap-y-1",4,"ngFor","ngForOf"],[1,"px-6","pb-6","md:p-0","md:pt-4"],[1,"w-full","py-1.5","px-3","bg-functional-1-1","rounded","flex","gap-x-2"],["icon","info","size","small",1,"text-functional-1-3"],[1,"text-express-md"],[1,"text-body-md-short"],[1,"text-body-md","text-neutral-black","py-3"],[1,"flex","gap-x-2","items-center"],[1,"w-[80px]","h-[40px]","object-contain","md:w-9","md:h-9",3,"src"],["class","text-body-md text-secondary-5-3 py-3",4,"ngIf"],["class","text-right text-body-md text-neutral-black py-3",4,"ngIf","ngIfElse"],["noDiscountTempl",""],[1,"text-body-md","text-secondary-5-3","py-3"],[1,"text-right","text-body-md","text-neutral-black","py-3"],[1,"flex","flex-col","gap-y-1"],[1,"flex","justify-between","items-center"],[1,"text-heading-xs","text-neutral-black"],[4,"ngIf","ngIfElse"],[1,"text-body-sm","text-neutral-gray-4"],["class","flex justify-between items-center pb-3",4,"ngIf"],[1,"flex","justify-between","items-center","pb-3"],[1,"text-body-sm","text-secondary-5-3"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,nf,19,1,"div",1),t.TgZ(2,"div",2)(3,"div",3),t._UZ(4,"cf-icon",4),t.TgZ(5,"div",5),t._uU(6,"Gi\xe1 v\xe9"),t.qZA()(),t.TgZ(7,"table",6)(8,"thead")(9,"tr",7)(10,"th",8),t._uU(11,"H\xe0nh kh\xe1ch"),t.qZA(),t.TgZ(12,"th",8),t._uU(13,"S\u1ed1 l\u01b0\u1ee3ng"),t.qZA(),t.TgZ(14,"th",8),t._uU(15,"Gi\xe1 v\xe9"),t.qZA(),t.TgZ(16,"th",8),t._uU(17,"Thu\u1ebf ph\xed"),t.qZA(),t.YNc(18,of,2,0,"th",9),t.ALo(19,"mapper"),t.TgZ(20,"th",10),t._uU(21,"T\u1ed5ng chi ph\xed"),t.qZA()()(),t.TgZ(22,"tbody"),t.YNc(23,rf,19,25,"tr",11),t.qZA()(),t.TgZ(24,"div",12)(25,"div",13),t._uU(26,"T\u1ed5ng chi ph\xed"),t.qZA(),t.TgZ(27,"div",14),t._uU(28),t.ALo(29,"number"),t.ALo(30,"mapper"),t.qZA()()()(),t.TgZ(31,"div",15)(32,"div",16),t.YNc(33,cf,25,26,"div",17),t.qZA()(),t.TgZ(34,"div",18)(35,"div",19),t._UZ(36,"cf-icon",20),t.TgZ(37,"div")(38,"div",21),t._uU(39,"L\u01b0u \xfd:"),t.qZA(),t.TgZ(40,"div",22)(41,"div"),t._uU(42,"Gi\xe1 v\xe9 c\xf3 th\u1ec3 thay \u0111\u1ed5i t\xf9y theo th\u1eddi \u0111i\u1ec3m \u0111\u1eb7t v\xe9, t\u1ef7 gi\xe1 v\xe0 ch\xednh s\xe1ch c\u1ee7a h\xe3ng h\xe0ng kh\xf4ng. Qu\xfd kh\xe1ch ch\xfa \xfd ki\u1ec3m tra l\u1ea1i gi\xe1 v\xe9 m\u1edbi nh\u1ea5t t\u1ea1i b\u01b0\u1edbc \u0111\u1eb7t v\xe9"),t.qZA(),t.TgZ(43,"div"),t._uU(44,"H\xe0nh tr\xecnh kh\u1edfi h\xe0nh ngo\xe0i Vi\u1ec7t Nam ch\u1ec9 \u0111\u01b0\u1ee3c b\u1ea3o \u0111\u1ea3m gi\xe1 t\u1ea1i th\u1eddi \u0111i\u1ec3m \u0111\u1eb7t v\xe9"),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("ngIf",i.fareBasisInfos.length),t.xp6(17),t.Q6J("ngIf",t.xi3(19,5,i.ticketPriceList,i.isDiscountAmount)),t.xp6(5),t.Q6J("ngForOf",i.ticketPriceList),t.xp6(5),t.hij(" ",t.lcZ(29,8,t.xi3(30,10,i.ticketPriceList,i.sumPriceTicket))," \u0111"),t.xp6(5),t.Q6J("ngForOf",i.ticketPriceList))},dependencies:[g.ez,g.sg,g.O5,g.JJ,v.AxE,v.Sm8,et.q,it,S.N8],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),lf=(()=>{class n{constructor(e){this.sanitizer=e}transform(e){if(!e)return this.sanitizer.bypassSecurityTrustHtml("");const i=e.replace(/\n/g,"<br>"),a=this.sanitizer.sanitize(t.q3G.HTML,i)||"";return this.sanitizer.bypassSecurityTrustHtml(a)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(co.H7,16))},n.\u0275pipe=t.Yjl({name:"safeHtmlWithBreaks",type:n,pure:!0,standalone:!0}),n})();var tn=w(4700);let Ts=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"status",void 0),(0,b.gn)([(0,Qt.D)(()=>uf),(0,C.C)()],n.prototype,"data",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"objectError",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"success",void 0),n})(),uf=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"departure",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"arrival",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"fareBasic",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"qualifier",void 0),(0,b.gn)([(0,Qt.D)(()=>df),(0,C.C)()],n.prototype,"rules",void 0),n})(),df=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"header",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"details",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"headerVi",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"detailsVI",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"isShowDetail",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"isLoading",void 0),n})(),pf=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"status",void 0),(0,b.gn)([(0,Qt.D)(()=>gf),(0,C.C)()],n.prototype,"data",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"objectError",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"errorCode",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"success",void 0),n})(),gf=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"cabin",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"fareClass",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"fareBasic",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"fareType",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"conditionsDetail",void 0),(0,b.gn)([(0,Qt.D)(()=>Es),(0,C.C)()],n.prototype,"listConditions",void 0),n})(),Es=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"name",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"value",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"cateCode",void 0),n})();const iu={headers:new ue.WM({"Content-Type":"application/json"})};let Jo=(()=>{class n{constructor(e,i,a){this.http=e,this.appConfig=i,this._recaptchaSvc=a}getFareRule(e){return this._recaptchaSvc.getRecaptchaToken$().pipe((0,be.w)(i=>this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/get-fare-rules",JSON.stringify(Object.assign(Object.assign({},e),{recaptcha:i})),iu)),(0,Be.U)(i=>(0,oe.yE)(Ts,i,{excludeExtraneousValues:!0})))}getFareRuleInternational(e){return this._recaptchaSvc.getRecaptchaToken$().pipe((0,be.w)(i=>this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/get-fare-rule-international",JSON.stringify(Object.assign(Object.assign({},e),{recaptcha:i})),iu)),(0,Be.U)(i=>(0,oe.yE)(pf,i,{excludeExtraneousValues:!0})))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(ue.eN),t.LFG(Rt.qB),t.LFG(on.K))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ff(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("",e.name,": ")}}function _f(n,o){if(1&n&&(t.TgZ(0,"div",11),t.YNc(1,ff,2,1,"span",1),t._UZ(2,"span",12),t.ALo(3,"safeHtmlWithBreaks"),t.qZA()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.name),t.xp6(1),t.Q6J("innerHTML",t.lcZ(3,2,e.value),t.oJD)}}function hf(n,o){if(1&n&&(t.TgZ(0,"div",7)(1,"div",8),t._uU(2),t.qZA(),t.TgZ(3,"div",9),t.YNc(4,_f,4,4,"div",10),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.hij("",e.desc.vn,":"),t.xp6(2),t.Q6J("ngForOf",null==e?null:e.items)}}function mf(n,o){if(1&n&&(t.TgZ(0,"div")(1,"div",5),t.YNc(2,hf,5,2,"div",6),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.fareRule)}}function ou(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"cf-icon",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,c=t.oxw(3);return t.KtG(c.onChange(a))}),t.qZA()}}function vf(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"cf-icon",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,c=t.oxw(3);return t.KtG(c.onChange(a))}),t.qZA()}}function xf(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.header)}}function yf(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.headerVi)}}function ks(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",23),t._uU(2),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ",e," ")}}function As(n,o){if(1&n&&(t.ynx(0),t.YNc(1,ks,3,1,"ng-container",17),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",e.details)}}function Cf(n,o){1&n&&t._UZ(0,"div",26)}function bf(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Cf,1,0,"div",24),t.TgZ(2,"pre",25),t._uU(3),t.qZA(),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",e.isLoading),t.xp6(2),t.Oqu(e.detailsVI)}}function Tf(n,o){if(1&n&&(t.ynx(0),t.YNc(1,As,2,1,"ng-container",1),t.YNc(2,bf,4,2,"ng-container",1),t.BQk()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf","ORIGIN"===e.translateMode),t.xp6(1),t.Q6J("ngIf","VI"===e.translateMode)}}function Ef(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",18),t.YNc(2,ou,1,0,"cf-icon",19),t.YNc(3,vf,1,0,"cf-icon",20),t.YNc(4,xf,2,1,"span",1),t.YNc(5,yf,2,1,"span",1),t.qZA(),t.YNc(6,Tf,3,2,"ng-container",1),t.BQk()),2&n){const e=o.$implicit,i=t.oxw(3);t.xp6(2),t.Q6J("ngIf",!e.isShowDetail),t.xp6(1),t.Q6J("ngIf",e.isShowDetail),t.xp6(1),t.Q6J("ngIf","ORIGIN"===i.translateMode),t.xp6(1),t.Q6J("ngIf","VI"===i.translateMode),t.xp6(1),t.Q6J("ngIf",e.isShowDetail)}}function kf(n,o){if(1&n&&(t.TgZ(0,"div",13)(1,"div",15)(2,"div",16),t._uU(3),t.qZA()(),t.TgZ(4,"div",5),t.YNc(5,Ef,7,5,"ng-container",17),t.qZA()()),2&n){const e=o.$implicit;t.xp6(3),t.HOy(" ",e.departure," ",e.arrival," ",e.qualifier," Fare Basis ",e.fareBasic," "),t.xp6(2),t.Q6J("ngForOf",e.rules)}}function Af(n,o){if(1&n&&(t.TgZ(0,"div",13),t.YNc(1,kf,6,5,"div",14),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.dataJourneyInfo)}}function Df(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"cf-icon",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,c=t.oxw(3);return t.KtG(c.onChange(a))}),t.qZA()}}function wf(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"cf-icon",22),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,c=t.oxw(3);return t.KtG(c.onChange(a))}),t.qZA()}}function Bf(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.header)}}function Zf(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.headerVi)}}function If(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",23),t._uU(2),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ",e," ")}}function Sf(n,o){if(1&n&&(t.ynx(0),t.YNc(1,If,3,1,"ng-container",17),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",e.details)}}function Ff(n,o){1&n&&t._UZ(0,"div",26)}function Nf(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Ff,1,0,"div",24),t.TgZ(2,"pre",25),t._uU(3),t.qZA(),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",e.isLoading),t.xp6(2),t.Oqu(e.detailsVI)}}function Of(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Sf,2,1,"ng-container",1),t.YNc(2,Nf,4,2,"ng-container",1),t.BQk()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf","ORIGIN"===e.translateMode),t.xp6(1),t.Q6J("ngIf","VI"===e.translateMode)}}function Pf(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",18),t.YNc(2,Df,1,0,"cf-icon",19),t.YNc(3,wf,1,0,"cf-icon",20),t.YNc(4,Bf,2,1,"span",1),t.YNc(5,Zf,2,1,"span",1),t.qZA(),t.YNc(6,Of,3,2,"ng-container",1),t.BQk()),2&n){const e=o.$implicit,i=t.oxw(3);t.xp6(2),t.Q6J("ngIf",!e.isShowDetail),t.xp6(1),t.Q6J("ngIf",e.isShowDetail),t.xp6(1),t.Q6J("ngIf","ORIGIN"===i.translateMode),t.xp6(1),t.Q6J("ngIf","VI"===i.translateMode),t.xp6(1),t.Q6J("ngIf",e.isShowDetail)}}function Rf(n,o){if(1&n&&(t.TgZ(0,"div",27)(1,"div",15)(2,"div",16),t._uU(3),t.qZA()(),t.TgZ(4,"div",5),t.YNc(5,Pf,7,5,"ng-container",17),t.qZA()()),2&n){const e=o.$implicit;t.xp6(3),t.HOy(" ",e.departure," ",e.arrival," ",e.qualifier," Fare Basis ",e.fareBasic," "),t.xp6(2),t.Q6J("ngForOf",e.rules)}}function Lf(n,o){if(1&n&&(t.TgZ(0,"div",27),t.YNc(1,Rf,6,5,"div",28),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.fareRuleInternational)}}function qf(n,o){1&n&&(t.TgZ(0,"div")(1,"div",29)(2,"div",30)(3,"div",31),t._UZ(4,"div",32)(5,"div",33),t.qZA()()()())}function Uf(n,o){1&n&&(t.TgZ(0,"div",34),t._uU(1," Li\xean h\u1ec7 t\u1ed5ng \u0111\xe0i: 1900 866 657 \u0111\u1ec3 bi\u1ebft th\xf4ng tin ch\xednh x\xe1c "),t.qZA())}let ru=(()=>{class n{set journeyInfo(e){var i;if(!e||0===(null===(i=null==e?void 0:e.journeyInfo)||void 0===i?void 0:i.length))return this.dataJourneyInfo=[],void(this.isLoadingFareRule=!1);this.fareRuleBtcSvc.getFareRule(e).subscribe({next:a=>{var c;"OK"===a.status&&a.data&&(null===(c=a.data)||void 0===c?void 0:c.length)>0&&(this.dataJourneyInfo=[...a.data.map(u=>Object.assign(Object.assign({},u),{rules:u.rules.map(d=>Object.assign(Object.assign({},d),{isShowDetail:!1,headerVi:"",detailsVI:"",isLoading:!1}))}))])},error:a=>console.error(a),complete:()=>{this.isLoadingFareRule=!1,this.cdr.detectChanges()}})}constructor(e,i,a,c){this.recaptchaV3Service=e,this.fareRuleBtcSvc=i,this.cdr=c,this.fareRuleInternationalDisplay=[],this.translateMode="ORIGIN",this.isLoadingFareRule=!1,a.registerIcons([v.kPk,v.mAV,v.$S])}ngOnChanges(e){e.fareRuleInternational&&this.fareRuleInternational&&this.processFareRuleInternational(),e.journeyInfo&&(this.isLoadingFareRule=!0)}onChange(e){e.isShowDetail=!e.isShowDetail,e.isShowDetail&&"VI"===this.translateMode&&""==e.detailsVI&&this.translateRule(e)}translate(){}collapseAllDetais(){for(let e=0;e<this.dataJourneyInfo.length;e++)for(let i=0;i<this.dataJourneyInfo[e].rules.length;i++)this.dataJourneyInfo[e].rules[i].isShowDetail=!1}translateHeaders(){}translateRule(e){}processFareRuleInternational(){this.fareRuleInternational&&this.fareRuleInternational.length>0&&(this.fareRuleInternationalDisplay=this.fareRuleInternational.map(e=>Object.assign(Object.assign({},e),{rules:e.rules.map(i=>Object.assign(Object.assign({},i),{isShowDetail:!1,headerVi:"",detailsVI:"",isLoading:!1}))})))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(tn.YC),t.Y36(Jo),t.Y36(v.KNP),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-rule-item"]],inputs:{fareRule:"fareRule",fareRuleInternational:"fareRuleInternational",isLoadingFareRule:"isLoadingFareRule",journeyInfo:"journeyInfo"},standalone:!0,features:[t.TTD,t.jDz],decls:6,vars:5,consts:[[1,"p-6","md:bg-neutral-white","md:rounded-lg"],[4,"ngIf"],["class","flex flex-col gap-y-4 w-full",4,"ngIf"],["class","flex flex-col gap-y-4",4,"ngIf"],["class","text-espressive-sm",4,"ngIf"],[1,"flex","flex-col","gap-y-2"],["class","border border-neutral-gray-2 rounded-lg p-4",4,"ngFor","ngForOf"],[1,"border","border-neutral-gray-2","rounded-lg","p-4"],[1,"text-express-md","mb-2"],[1,"text-body-sm","flex","flex-col","gap-y-2"],["class","text-body-sm",4,"ngFor","ngForOf"],[1,"text-body-sm"],[3,"innerHTML"],[1,"flex","flex-col","gap-y-4","w-full"],["class","flex flex-col gap-y-4 w-full",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","w-full"],[1,"text-heading-sm","text-neutral-gray-6"],[4,"ngFor","ngForOf"],[1,"text-body-md","flex","gap-x-2","items-center"],["class","text-neutral-gray-6 cursor-pointer","size","medium","icon","caret_right",3,"click",4,"ngIf"],["class","text-neutral-gray-6 cursor-pointer","size","medium","icon","caret_down",3,"click",4,"ngIf"],["size","medium","icon","caret_right",1,"text-neutral-gray-6","cursor-pointer",3,"click"],["size","medium","icon","caret_down",1,"text-neutral-gray-6","cursor-pointer",3,"click"],[1,"text-body-md","pl-12"],["class","w-full bg-neutral-gray-2 h-4 rounded-md animate-pulse",4,"ngIf"],[1,"text-body-md","pl-8","whitespace-pre-wrap"],[1,"w-full","bg-neutral-gray-2","h-4","rounded-md","animate-pulse"],[1,"flex","flex-col","gap-y-4"],["class","flex flex-col gap-y-4",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","gap-x-4","h-full","animate-pulse"],[1,"w-full","flex","flex-row","items-center","h-full","justify-start","gap-x-3"],[1,"flex","flex-col","space-y-3"],[1,"w-48","bg-neutral-gray-2","h-6","rounded-md","md:max-w-[192px]","md:w-24"],[1,"w-36","bg-neutral-gray-2","h-6","rounded-md","md:max-w-[144px]","md:w-18"],[1,"text-espressive-sm"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,mf,3,1,"div",1),t.YNc(2,Af,2,1,"div",2),t.YNc(3,Lf,2,1,"div",3),t.YNc(4,qf,6,0,"div",1),t.YNc(5,Uf,2,0,"div",4),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",!i.isLoadingFareRule&&i.fareRule&&(null==i.fareRule?null:i.fareRule.length)),t.xp6(1),t.Q6J("ngIf",(null==i.dataJourneyInfo?null:i.dataJourneyInfo.length)&&!i.isLoadingFareRule),t.xp6(1),t.Q6J("ngIf",i.fareRuleInternational&&(null==i.fareRuleInternational?null:i.fareRuleInternational.length)&&!i.isLoadingFareRule),t.xp6(1),t.Q6J("ngIf",i.isLoadingFareRule),t.xp6(1),t.Q6J("ngIf",!(i.fareRule&&null!=i.fareRule&&i.fareRule.length||null!=i.dataJourneyInfo&&i.dataJourneyInfo.length||i.isLoadingFareRule||i.fareRuleInternational&&null!=i.fareRuleInternational&&i.fareRuleInternational.length)))},dependencies:[g.ez,g.sg,g.O5,v.AxE,v.Sm8,lf],styles:["[_nghost-%COMP%]{display:block}"]}),n})();function r(n,o){1&n&&(t.TgZ(0,"div",60)(1,"div",61),t._UZ(2,"img",62),t.qZA(),t.TgZ(3,"div",63)(4,"div",64)(5,"div",65),t._uU(6," Chuy\u1ebfn bay hot "),t.qZA()(),t.TgZ(7,"div",66)(8,"div",65),t._uU(9," S\u1eafp h\u1ebft v\xe9 "),t.qZA()()()())}function s(n,o){1&n&&(t.TgZ(0,"div",67),t._UZ(1,"cf-icon",68),t.TgZ(2,"div"),t._uU(3,"GDS"),t.qZA()())}function l(n,o){1&n&&(t.TgZ(0,"div",67),t._UZ(1,"cf-icon",68),t.TgZ(2,"div"),t._uU(3,"1A"),t.qZA()())}function p(n,o){1&n&&(t.TgZ(0,"div",67),t._UZ(1,"cf-icon",68),t.TgZ(2,"div"),t._uU(3,"1G"),t.qZA()())}function h(n,o){1&n&&(t.TgZ(0,"div",67),t._UZ(1,"cf-icon",68),t.TgZ(2,"div"),t._uU(3,"ST"),t.qZA()())}function T(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.ALo(3,"async"),t.ALo(4,"mapper"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" c\xf2n ",t.xi3(2,1,t.lcZ(3,4,t.xi3(4,6,e.ticket,e.ndcTimeLimitCountDown$)),"m")," ph\xfat")}}function k(n,o){if(1&n&&(t.TgZ(0,"div",69),t._UZ(1,"cf-icon",70),t.TgZ(2,"div"),t._uU(3,"NDC "),t.YNc(4,T,5,9,"span",34),t.ALo(5,"mapper"),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",t.xi3(5,1,e.ticket,e.ndcTimeLimitCountDown$))}}function B(n,o){1&n&&(t.TgZ(0,"div",69),t._UZ(1,"cf-icon",70),t.TgZ(2,"div"),t._uU(3,"LCC"),t.qZA()())}function O(n,o){if(1&n&&(t.TgZ(0,"div",69),t._UZ(1,"cf-icon",71),t.TgZ(2,"div"),t._uU(3),t.ALo(4,"mapper"),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.xi3(4,1,e.searchData,e.getPaxTypeDisplay))}}function j(n,o){1&n&&(t.TgZ(0,"div",69),t._UZ(1,"cf-icon",72),t.TgZ(2,"div"),t._uU(3,"Private Fare"),t.qZA()())}function Y(n,o){1&n&&(t.TgZ(0,"div",69)(1,"div"),t._uU(2,"Gi\xe1 ri\xeang cho kh\xe1ch qu\u1ed1c t\u1ecbch Vi\u1ec7t Nam"),t.qZA()())}function G(n,o){if(1&n&&(t.TgZ(0,"div",21)(1,"div",18),t._uU(2),t.qZA(),t.TgZ(3,"div",73),t._uU(4),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(e.ticket.durationStr),t.xp6(2),t.AsE("",e.ticket.startPoint," - ",e.ticket.endPoint,"")}}function dt(n,o){1&n&&(t.TgZ(0,"div",73),t._uU(1," Bay th\u1eb3ng "),t.qZA())}function xt(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.AsE("",e.delaySt," t\u1ea1i ",e.stopPoint||e.startPoint," ")}}function Zt(n,o){if(1&n&&(t.ynx(0),t.YNc(1,xt,2,2,"div",34),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.delay)}}function $t(n,o){if(1&n&&t.YNc(0,Zt,2,1,"ng-container",77),2&n){const e=t.oxw(2);t.Q6J("ngForOf",e.ticket.segments)}}function It(n,o){if(1&n&&(t.TgZ(0,"div",74,75),t._uU(2),t.YNc(3,$t,1,1,"ng-template",null,76,t.W1O),t.qZA()),2&n){const e=t.MAs(4),i=t.oxw();t.Q6J("placement","bottomCenter")("cfTooltip",e),t.xp6(2),t.hij(" ",i.ticket.numOfStops," \u0111i\u1ec3m d\u1eebng ")}}function Wt(n,o){if(1&n&&(t.TgZ(0,"div",82)(1,"span",83,75),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("placement","topCenter")("cfTooltip","C\xf2n "+((null==e.ticket.fareCur?null:e.ticket.fareCur.seatRemain)||0)+" ch\u1ed7 tr\u1ed1ng"),t.xp6(2),t.Oqu(null==e.ticket.fareCur?null:e.ticket.fareCur.seatRemain)}}function te(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("\xa0(",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,")")}}function pn(n,o){if(1&n&&(t.TgZ(0,"span")(1,"span",84),t._uU(2),t.qZA(),t.YNc(3,te,2,1,"span",34),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(null==e.ticket.fareCur?null:e.ticket.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function Ge(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij("\xa0(",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,")")}}function gn(n,o){if(1&n&&(t.TgZ(0,"span")(1,"span",84),t._uU(2),t.qZA(),t.YNc(3,Ge,2,1,"span",34),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(null==(null==e.ticket.fareCur?null:e.ticket.fareCur.fareInfos)[0]?null:(null==e.ticket.fareCur?null:e.ticket.fareCur.fareInfos)[0].fareType.description),t.xp6(1),t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function Ae(n,o){if(1&n&&(t.TgZ(0,"span",87)(1,"span",88),t._uU(2,"H\u1ea1ng ch\u1ed7: "),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(4),t.hij(" ",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,"")}}function wn(n,o){if(1&n&&t.YNc(0,Ae,5,1,"span",86),2&n){const e=t.oxw(3);t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function $n(n,o){if(1&n&&(t.YNc(0,gn,4,2,"span",32),t.YNc(1,wn,1,1,"ng-template",null,85,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw(2);t.Q6J("ngIf","IVS"===i.ticket.provider&&(null==i.ticket.fareCur||null==i.ticket.fareCur.fareInfos?null:i.ticket.fareCur.fareInfos.length))("ngIfElse",e)}}function au(n,o){if(1&n&&(t.TgZ(0,"div",78),t.YNc(1,Wt,4,3,"div",79),t.TgZ(2,"div",80),t.YNc(3,pn,4,2,"span",32),t.YNc(4,$n,3,2,"ng-template",null,81,t.W1O),t.qZA()()),2&n){const e=t.MAs(5),i=t.oxw();t.xp6(1),t.Q6J("ngIf","GDS"!==i.ticket.provider&&"BSP"!==i.ticket.provider&&"FLY_ONE"!==i.ticket.provider),t.xp6(2),t.Q6J("ngIf",(null==i.ticket.fareCur?null:i.ticket.fareCur.cabinName)&&"null"!=(null==i.ticket.fareCur?null:i.ticket.fareCur.cabinName))("ngIfElse",e)}}function E0(n,o){1&n&&t._UZ(0,"cf-icon",95)}function k0(n,o){1&n&&t._UZ(0,"cf-icon",96)}function A0(n,o){1&n&&t._UZ(0,"cf-icon",97)}function D0(n,o){1&n&&t._UZ(0,"cf-icon",98)}function w0(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij("\xa0(",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,")")}}function B0(n,o){if(1&n&&(t.TgZ(0,"span")(1,"span",84),t._uU(2),t.qZA(),t.YNc(3,w0,2,1,"span",34),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(null==e.ticket.fareCur?null:e.ticket.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function Z0(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.hij("\xa0(",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,")")}}function I0(n,o){if(1&n&&(t.TgZ(0,"span")(1,"span",84),t._uU(2),t.qZA(),t.YNc(3,Z0,2,1,"span",34),t.qZA()),2&n){const e=t.oxw(4);t.xp6(2),t.Oqu(null==(null==e.ticket.fareCur?null:e.ticket.fareCur.fareInfos)[0]?null:(null==e.ticket.fareCur?null:e.ticket.fareCur.fareInfos)[0].fareType.description),t.xp6(1),t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function S0(n,o){if(1&n&&(t.TgZ(0,"span",87)(1,"span",88),t._uU(2,"H\u1ea1ng ch\u1ed7: "),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA()()),2&n){const e=t.oxw(5);t.xp6(4),t.hij(" ",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,"")}}function F0(n,o){if(1&n&&t.YNc(0,S0,5,1,"span",86),2&n){const e=t.oxw(4);t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function N0(n,o){if(1&n&&(t.YNc(0,I0,4,2,"span",32),t.YNc(1,F0,1,1,"ng-template",null,85,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw(3);t.Q6J("ngIf","IVS"===i.ticket.provider&&(null==i.ticket.fareCur||null==i.ticket.fareCur.fareInfos?null:i.ticket.fareCur.fareInfos.length))("ngIfElse",e)}}function O0(n,o){if(1&n&&(t.TgZ(0,"div",101),t._UZ(1,"cf-icon",95),t.TgZ(2,"div",102),t._uU(3),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(3),t.hij("K\xfd g\u1eedi: ",null==e.ticket.bookedInfo?null:e.ticket.bookedInfo.checkedBaggage,"")}}function P0(n,o){if(1&n&&(t.TgZ(0,"div",101),t._UZ(1,"cf-icon",96),t.TgZ(2,"div",102),t._uU(3),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(3),t.hij("X\xe1ch tay: ",e.ticket.bookedInfo.handBaggage,"")}}function R0(n,o){if(1&n&&(t.ynx(0),t.YNc(1,O0,4,1,"div",100),t.YNc(2,P0,4,1,"div",100),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.ticket.bookedInfo.checkedBaggage),t.xp6(1),t.Q6J("ngIf",e.ticket.bookedInfo.handBaggage)}}function L0(n,o){if(1&n&&(t.TgZ(0,"div",101),t._UZ(1,"cf-icon",97),t.TgZ(2,"div",102),t._uU(3),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(3),t.hij("Su\u1ea5t \u0103n: ",e.ticket.food?"C\xf3":"Kh\xf4ng","")}}function q0(n,o){if(1&n&&(t.TgZ(0,"div",101),t._UZ(1,"cf-icon",98),t.TgZ(2,"div",102),t._uU(3),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(3),t.hij("Ho\xe0n ti\u1ec1n: ",e.ticket.refundableFare?"C\xf3":"Kh\xf4ng","")}}function U0(n,o){if(1&n&&(t.TgZ(0,"div",17)(1,"div",99),t._uU(2),t.YNc(3,B0,4,2,"span",32),t.YNc(4,N0,3,2,"ng-template",null,81,t.W1O),t.qZA(),t.YNc(6,R0,3,2,"ng-container",34),t.YNc(7,L0,4,1,"div",100),t.YNc(8,q0,4,1,"div",100),t.qZA()),2&n){const e=t.MAs(5),i=t.oxw(2);t.xp6(2),t.AsE("",i.ticket.startPoint," - ",i.ticket.endPoint,": "),t.xp6(1),t.Q6J("ngIf",(null==i.ticket.fareCur?null:i.ticket.fareCur.cabinName)&&"null"!=(null==i.ticket.fareCur?null:i.ticket.fareCur.cabinName))("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",i.ticket.bookedInfo),t.xp6(1),t.Q6J("ngIf",i.ticket.food),t.xp6(1),t.Q6J("ngIf",i.ticket.refundableFare)}}function M0(n,o){if(1&n&&(t.TgZ(0,"div",89,75),t.ynx(2),t.TgZ(3,"div",90),t.YNc(4,E0,1,0,"cf-icon",91),t.YNc(5,k0,1,0,"cf-icon",92),t.YNc(6,A0,1,0,"cf-icon",93),t.YNc(7,D0,1,0,"cf-icon",94),t.qZA(),t.BQk(),t.YNc(8,U0,9,7,"ng-template",null,76,t.W1O),t.qZA()),2&n){const e=t.MAs(9),i=t.oxw();t.Q6J("placement","bottomCenter")("cfTooltip",e),t.xp6(4),t.Q6J("ngIf",null==i.ticket.bookedInfo?null:i.ticket.bookedInfo.checkedBaggage),t.xp6(1),t.Q6J("ngIf",null==i.ticket.bookedInfo?null:i.ticket.bookedInfo.handBaggage),t.xp6(1),t.Q6J("ngIf",i.ticket.food),t.xp6(1),t.Q6J("ngIf",i.ticket.refundableFare)}}function J0(n,o){1&n&&t._UZ(0,"div",105)}function j0(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",103),t.NdJ("click",function(){const c=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.onChangeMode(c.key))}),t._uU(1),t.YNc(2,J0,1,0,"div",104),t.qZA()}if(2&n){const e=o.$implicit,i=t.oxw();t.xp6(1),t.hij(" ",e.value," "),t.xp6(1),t.Q6J("ngIf",e.key===i.mode)}}function Y0(n,o){if(1&n&&(t.TgZ(0,"div",109),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.ticket.totalPrice),",",".")," \u0111 ")}}function Q0(n,o){if(1&n&&(t.TgZ(0,"span",110),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.ALo(4,"mapper"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.ticket.totalPrice-t.xi3(4,7,e.ticketPriceList,e.adultDiscountAmount)),",",".")," ")}}function H0(n,o){if(1&n&&(t.TgZ(0,"span",110),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.Dn7(2,1,t.lcZ(3,5,e.ticket.totalPrice),",","."))}}function G0(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Y0,4,7,"div",106),t.ALo(2,"mapper"),t.YNc(3,Q0,5,10,"span",107),t.YNc(4,H0,4,7,"ng-template",null,108,t.W1O),t.BQk()),2&n){const e=t.MAs(5),i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.ticket.discountData&&i.ticket.totalPrice&&t.xi3(2,3,i.ticketPriceList,i.adultDiscountAmount)),t.xp6(2),t.Q6J("ngIf",i.ticket.discountData&&i.ticket.totalPrice)("ngIfElse",e)}}function K0(n,o){if(1&n&&(t.TgZ(0,"div",109),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.ALo(4,"mapper"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,t.xi3(4,7,e.ticketPriceList,e.sumPriceTicket)),",",".")," \u0111 ")}}function $0(n,o){if(1&n&&(t.TgZ(0,"span",110),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.ALo(4,"mapper"),t.ALo(5,"mapper"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,t.xi3(4,7,e.ticketPriceList,e.sumPriceTicket)-t.xi3(5,10,e.ticketPriceList,e.sumDiscountAmount)),",",".")," ")}}function V0(n,o){if(1&n&&(t.TgZ(0,"span",110),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.ALo(4,"mapper"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.Dn7(2,1,t.lcZ(3,5,t.xi3(4,7,e.ticketPriceList,e.sumPriceTicket)),",","."))}}function z0(n,o){if(1&n&&(t.YNc(0,K0,5,10,"div",106),t.ALo(1,"mapper"),t.ALo(2,"mapper"),t.YNc(3,$0,6,13,"span",107),t.ALo(4,"mapper"),t.YNc(5,V0,5,10,"ng-template",null,108,t.W1O)),2&n){const e=t.MAs(6),i=t.oxw();t.Q6J("ngIf",i.ticket.discountData&&t.xi3(1,3,i.ticketPriceList,i.sumPriceTicket)&&t.xi3(2,6,i.ticketPriceList,i.sumDiscountAmount)),t.xp6(3),t.Q6J("ngIf",i.ticket.discountData&&t.xi3(4,9,i.ticketPriceList,i.sumPriceTicket))("ngIfElse",e)}}function W0(n,o){1&n&&(t.ynx(0),t.TgZ(1,"div",111)(2,"button",112),t._uU(3," H\u1ebft ch\u1ed7 "),t.qZA()(),t.BQk()),2&n&&(t.xp6(1),t.Q6J("cfTooltip","Chuy\u1ebfn bay \u0111\xe3 h\u1ebft ch\u1ed7"),t.xp6(1),t.Q6J("disabled",!0))}function X0(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",113),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onTicketSelected())}),t._uU(2," Ch\u1ecdn "),t.qZA(),t.BQk()}}function t_(n,o){if(1&n&&t._UZ(0,"btc-ticket-detail-item",120),2&n){const e=t.oxw(2);t.Q6J("ticket",e.ticket)}}function e_(n,o){if(1&n&&t._UZ(0,"btc-ticket-info-item",121),2&n){const e=t.oxw(2);t.Q6J("ticketPriceList",e.ticketPriceList)}}function n_(n,o){if(1&n&&t._UZ(0,"btc-ticket-rule-item",122),2&n){const e=t.oxw(2);t.Q6J("fareRule",e.ticket.fareRulesObj[e.ticket.IDF])("fareRuleInternational",e.ticket.fareRule)("isLoadingFareRule",e.isLoadingFareRule)}}function i_(n,o){1&n&&t._UZ(0,"div")}function o_(n,o){if(1&n&&(t.TgZ(0,"div",114)(1,"ngcontainer",115),t.YNc(2,t_,1,1,"btc-ticket-detail-item",116),t.YNc(3,e_,1,1,"btc-ticket-info-item",117),t.YNc(4,n_,1,3,"btc-ticket-rule-item",118),t.YNc(5,i_,1,0,"div",119),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngSwitch",e.mode),t.xp6(1),t.Q6J("ngSwitchCase","flight"),t.xp6(1),t.Q6J("ngSwitchCase","ticket"),t.xp6(1),t.Q6J("ngSwitchCase","rule")}}function r_(n,o){1&n&&(t.TgZ(0,"div",60)(1,"div",61),t._UZ(2,"img",123),t.qZA(),t.TgZ(3,"div",63)(4,"div",64)(5,"div",65),t._uU(6," Chuy\u1ebfn bay hot "),t.qZA()(),t.TgZ(7,"div",66)(8,"div",65),t._uU(9," S\u1eafp h\u1ebft v\xe9 "),t.qZA()()()())}function a_(n,o){1&n&&(t.TgZ(0,"div",46),t._uU(1," Bay th\u1eb3ng "),t.qZA())}function s_(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.AsE("",e.delaySt," t\u1ea1i ",e.stopPoint||e.startPoint,"")}}function c_(n,o){if(1&n&&(t.ynx(0),t.YNc(1,s_,2,2,"div",34),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.delay)}}function l_(n,o){if(1&n&&t.YNc(0,c_,2,1,"ng-container",77),2&n){const e=t.oxw(2);t.Q6J("ngForOf",e.ticket.segments)}}function u_(n,o){if(1&n&&(t.TgZ(0,"div",124,75),t._uU(2),t.YNc(3,l_,1,1,"ng-template",null,76,t.W1O),t.qZA()),2&n){const e=t.MAs(4),i=t.oxw();t.Q6J("placement","bottomCenter")("cfTooltip",e),t.xp6(2),t.hij(" ",i.ticket.numOfStops," \u0111i\u1ec3m d\u1eebng ")}}function d_(n,o){if(1&n&&(t.TgZ(0,"div",82)(1,"span",83,75),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("placement","topCenter")("cfTooltip","C\xf2n "+((null==e.ticket.fareCur?null:e.ticket.fareCur.seatRemain)||0)+" ch\u1ed7 tr\u1ed1ng"),t.xp6(2),t.Oqu(null==e.ticket.fareCur?null:e.ticket.fareCur.seatRemain)}}function p_(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("\xa0(",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,")")}}function g_(n,o){if(1&n&&(t.TgZ(0,"span")(1,"span",84),t._uU(2),t.qZA(),t.YNc(3,p_,2,1,"span",34),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(null==e.ticket.fareCur?null:e.ticket.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function f_(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij("\xa0(",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,")")}}function __(n,o){if(1&n&&(t.TgZ(0,"span")(1,"span",84),t._uU(2),t.qZA(),t.YNc(3,f_,2,1,"span",34),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(null==(null==e.ticket.fareCur?null:e.ticket.fareCur.fareInfos)[0]?null:(null==e.ticket.fareCur?null:e.ticket.fareCur.fareInfos)[0].fareType.description),t.xp6(1),t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function h_(n,o){if(1&n&&(t.TgZ(0,"span",87)(1,"span",88),t._uU(2,"H\u1ea1ng ch\u1ed7: "),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(4),t.hij(" ",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,"")}}function m_(n,o){if(1&n&&t.YNc(0,h_,5,1,"span",86),2&n){const e=t.oxw(3);t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function v_(n,o){if(1&n&&(t.YNc(0,__,4,2,"span",32),t.YNc(1,m_,1,1,"ng-template",null,85,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw(2);t.Q6J("ngIf","IVS"===i.ticket.provider&&(null==i.ticket.fareCur||null==i.ticket.fareCur.fareInfos?null:i.ticket.fareCur.fareInfos.length))("ngIfElse",e)}}function x_(n,o){if(1&n&&(t.TgZ(0,"div",78),t.YNc(1,d_,4,3,"div",79),t.TgZ(2,"div",125),t.YNc(3,g_,4,2,"span",32),t.YNc(4,v_,3,2,"ng-template",null,81,t.W1O),t.qZA()()),2&n){const e=t.MAs(5),i=t.oxw();t.xp6(1),t.Q6J("ngIf","GDS"!==i.ticket.provider&&"BSP"!==i.ticket.provider&&"FLY_ONE"!==i.ticket.provider),t.xp6(2),t.Q6J("ngIf",(null==i.ticket.fareCur?null:i.ticket.fareCur.cabinName)&&"null"!=(null==i.ticket.fareCur?null:i.ticket.fareCur.cabinName))("ngIfElse",e)}}function y_(n,o){1&n&&t._UZ(0,"cf-icon",95)}function C_(n,o){1&n&&t._UZ(0,"cf-icon",96)}function b_(n,o){1&n&&t._UZ(0,"cf-icon",97)}function T_(n,o){1&n&&t._UZ(0,"cf-icon",98)}function E_(n,o){if(1&n&&(t.TgZ(0,"div",126),t.ynx(1),t.TgZ(2,"div",90),t.YNc(3,y_,1,0,"cf-icon",91),t.YNc(4,C_,1,0,"cf-icon",92),t.YNc(5,b_,1,0,"cf-icon",93),t.YNc(6,T_,1,0,"cf-icon",94),t.qZA(),t.BQk(),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",null==e.ticket.bookedInfo?null:e.ticket.bookedInfo.checkedBaggage),t.xp6(1),t.Q6J("ngIf",null==e.ticket.bookedInfo?null:e.ticket.bookedInfo.handBaggage),t.xp6(1),t.Q6J("ngIf",e.ticket.food),t.xp6(1),t.Q6J("ngIf",e.ticket.refundableFare)}}function k_(n,o){if(1&n&&(t.TgZ(0,"div",129),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.ticket.totalPrice),",",".")," \u0111 ")}}function A_(n,o){if(1&n&&(t.TgZ(0,"span",130),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.ALo(4,"mapper"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.ticket.totalPrice-t.xi3(4,7,e.ticketPriceList,e.adultDiscountAmount)),",",".")," \u0111 ")}}function D_(n,o){if(1&n&&(t.TgZ(0,"span",130),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("",t.Dn7(2,1,t.lcZ(3,5,e.ticket.totalPrice),",",".")," \u0111")}}function w_(n,o){if(1&n&&(t.ynx(0),t.YNc(1,k_,4,7,"div",127),t.ALo(2,"mapper"),t.YNc(3,A_,5,10,"span",128),t.YNc(4,D_,4,7,"ng-template",null,108,t.W1O),t.BQk()),2&n){const e=t.MAs(5),i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.ticket.discountData&&i.ticket.totalPrice&&t.xi3(2,3,i.ticketPriceList,i.adultDiscountAmount)),t.xp6(2),t.Q6J("ngIf",i.ticket.discountData&&i.ticket.totalPrice)("ngIfElse",e)}}function B_(n,o){if(1&n&&(t.TgZ(0,"div",129),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.ALo(4,"mapper"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,t.xi3(4,7,e.ticketPriceList,e.sumPriceTicket)),",",".")," \u0111 ")}}function Z_(n,o){if(1&n&&(t.TgZ(0,"span",130),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.ALo(4,"mapper"),t.ALo(5,"mapper"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,t.xi3(4,7,e.ticketPriceList,e.sumPriceTicket)-t.xi3(5,10,e.ticketPriceList,e.sumDiscountAmount)),",",".")," \u0111 ")}}function I_(n,o){if(1&n&&(t.TgZ(0,"span",130),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.ALo(4,"mapper"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("",t.Dn7(2,1,t.lcZ(3,5,t.xi3(4,7,e.ticketPriceList,e.sumPriceTicket)),",",".")," \u0111")}}function S_(n,o){if(1&n&&(t.YNc(0,B_,5,10,"div",127),t.ALo(1,"mapper"),t.ALo(2,"mapper"),t.YNc(3,Z_,6,13,"span",128),t.ALo(4,"mapper"),t.YNc(5,I_,5,10,"ng-template",null,108,t.W1O)),2&n){const e=t.MAs(6),i=t.oxw();t.Q6J("ngIf",i.ticket.discountData&&t.xi3(1,3,i.ticketPriceList,i.sumPriceTicket)&&t.xi3(2,6,i.ticketPriceList,i.sumDiscountAmount)),t.xp6(3),t.Q6J("ngIf",i.ticket.discountData&&t.xi3(4,9,i.ticketPriceList,i.sumPriceTicket))("ngIfElse",e)}}function F_(n,o){1&n&&(t.ynx(0),t.TgZ(1,"div",111)(2,"button",131),t._uU(3," H\u1ebft ch\u1ed7 "),t.qZA()(),t.BQk()),2&n&&(t.xp6(1),t.Q6J("cfTooltip","Chuy\u1ebfn bay \u0111\xe3 h\u1ebft ch\u1ed7"),t.xp6(1),t.Q6J("disabled",!0))}function N_(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",132),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onTicketSelected())}),t._uU(2," Ch\u1ecdn "),t.qZA(),t.BQk()}}function O_(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",133),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.reselectClick.emit())}),t.TgZ(2,"div"),t._uU(3,"\u0110\xe3 ch\u1ecdn"),t.qZA()(),t.BQk()}}const P_=function(n){return{"!text-secondary-3-4 !bg-secondary-3-1 !border-secondary-3-4":n}};function R_(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",140),t.NdJ("click",function(){const c=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.onChangeMode(c.key))}),t._uU(1),t.qZA()}if(2&n){const e=o.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.VKq(2,P_,e.key===i.mode)),t.xp6(1),t.hij(" ",e.valueMobile," ")}}function L_(n,o){if(1&n&&t._UZ(0,"btc-ticket-detail-item",120),2&n){const e=t.oxw(3);t.Q6J("ticket",e.ticket)}}function q_(n,o){if(1&n&&t._UZ(0,"btc-ticket-info-item",121),2&n){const e=t.oxw(3);t.Q6J("ticketPriceList",e.ticketPriceList)}}function U_(n,o){if(1&n&&t._UZ(0,"btc-ticket-rule-item",122),2&n){const e=t.oxw(3);t.Q6J("fareRule",e.ticket.fareRulesObj[e.ticket.IDF])("fareRuleInternational",e.ticket.fareRule)("isLoadingFareRule",e.isLoadingFareRule)}}function M_(n,o){1&n&&t._UZ(0,"div")}function J_(n,o){if(1&n&&(t.TgZ(0,"div",114)(1,"ngcontainer",115),t.YNc(2,L_,1,1,"btc-ticket-detail-item",116),t.YNc(3,q_,1,1,"btc-ticket-info-item",117),t.YNc(4,U_,1,3,"btc-ticket-rule-item",118),t.YNc(5,M_,1,0,"div",119),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngSwitch",e.mode),t.xp6(1),t.Q6J("ngSwitchCase","flight"),t.xp6(1),t.Q6J("ngSwitchCase","ticket"),t.xp6(1),t.Q6J("ngSwitchCase","rule")}}function j_(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",134)(1,"div",135),t.YNc(2,R_,2,4,"div",136),t.qZA(),t.TgZ(3,"div",137),t.YNc(4,J_,6,4,"div",35),t.qZA(),t.TgZ(5,"div",138)(6,"button",139),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.closeTicketDetailMobile())}),t._uU(7," \u0110\xf3ng "),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.modeOptions),t.xp6(2),t.Q6J("ngIf",e.mode)}}const o0=function(n){return{"border-[3px] border-[#FFD154] bg-[#FFD154] rounded-xl":n}},Y_=function(n){return{"border-blue-2 border ":n}},Q_=function(n){return{" !bg-secondary-3-1":n}};let H_=(()=>{class n{getPaxTypeDisplay(e){var i;return(null===(i=null==Dn.S?void 0:Dn.S.find(a=>a.value&&a.value===e.journey[0].paxType))||void 0===i?void 0:i.name)||""}constructor(e,i,a,c,u,d,f,_){this.cfIconRegister=e,this._helperSvc=i,this._helperResultSvc=a,this._cdr=c,this.bottomSheetService=u,this._mobileDetectService=d,this._getFareRulesBtcService=f,this.locationDataSvc=_,this.selectTicket=new t.vpe,this.reselectClick=new t.vpe,this.isMobile=!1,this.ticketSelectedMobile=!1,this.ticketPriceList=[],this.isLoadingFareRule=!1,this.mode="",this.modeOptions=(0,Se.cloneDeep)(Dn.Mf),this.hasFareRule=m=>!["Kh\xf4ng","0 kg","0 KG","0 Kg"].includes(m.trim()),this.getLocationData=m=>this.locationDataSvc.getCityNameByCode(m),this.ndcTimeLimitCountDown$=m=>{let x=0;return(0,Pa.H)(0,1e3).pipe((0,Be.U)(()=>(x++,1e3*(m.fareOptions[0].ndcTimeLimit-x))),(0,Ra.o)(E=>E>=0))},this.adultDiscountAmount=m=>{var x;return(null===(x=m.find(E=>E.type.includes("ADT")))||void 0===x?void 0:x.discountAmount)||0},this.sumDiscountAmount=m=>m.reduce((x,E)=>x+E.discountAmount*E.quantity,0),this.sumPriceTicket=m=>m.reduce((x,E)=>x+E.totalFare,0),e.registerIcons([v._7G,v.JbC,v.d7d,v.Npe,v.Gey,v.YwC,v.KYu,v.ILM,v.D7,v.o1t])}ngOnChanges(e){var i;null!==(i=e.ticket)&&void 0!==i&&i.currentValue&&(this.ticket=this.formatTicketData(this.ticket),this.progressDataForDetailItem(this.ticket),"rule"===this.mode&&this.isAirLineInternational&&this.getFareRule())}ngOnInit(){var e;this._mobileDetectService.mobileSubject.subscribe(i=>{this.isMobile=i}),(null===(e=this.ticketPriceList)||void 0===e||!e.length)&&this.progressDataForDetailItem(this.ticket)}formatTicketData(e){var i,a,c,u;const d=this.isAirLineInternational?null:null===(a=null===(i=e.fareRuleClassesObj[e.IDF])||void 0===i?void 0:i.find(m=>"CHECKED_BAGGAGE"===m.cate))||void 0===a?void 0:a.value,f=this.isAirLineInternational?null:null===(u=null===(c=e.fareRuleClassesObj[e.IDF])||void 0===c?void 0:c.find(m=>"HAND_BAGGAGE"===m.cate))||void 0===u?void 0:u.value,_=Object.assign(Object.assign({},e),{fareRuleClassesObj:this.isAirLineInternational?{}:e.fareRuleClassesObj||{},segments:e.segments.map(m=>{var x,E,Z,D,P,R;return Object.assign(Object.assign({},m),{bookedInfo:Object.assign(Object.assign({},e.bookedInfo),{checkedBaggage:d&&this.hasFareRule(d)?d:null!==(x=m.bookedInfo)&&void 0!==x&&x.checkedBaggage&&this.hasFareRule(null===(E=m.bookedInfo)||void 0===E?void 0:E.checkedBaggage)?null===(Z=m.bookedInfo)||void 0===Z?void 0:Z.checkedBaggage:"",handBaggage:f&&this.hasFareRule(f)?f:null!==(D=m.bookedInfo)&&void 0!==D&&D.handBaggage&&this.hasFareRule(null===(P=m.bookedInfo)||void 0===P?void 0:P.handBaggage)?null===(R=m.bookedInfo)||void 0===R?void 0:R.handBaggage:""})})})});return(0,oe.yE)(Hn,_,{excludeExtraneousValues:!0})}cardClick(e){console.log(e)}onTicketSelected(){this.selectTicket.emit(this.ticket)}onChangeMode(e){"rule"===e&&this.isAirLineInternational&&(this.getFareRule(),this._cdr.detectChanges()),this.mode=this.mode===e?"":e}getFareRule(){var e,i,a,c;if(["AIR_1G","VN","BSP","ST"].includes(this.ticket.provider))this.isLoadingFareRule=!0,this._getFareRulesBtcService.getFareRule({journeyInfo:[{fareOptionKey:this.ticket.fareOptionKey||"",provider:this.ticket.provider,journeyKey:this.ticket.journeyKey,bookingCode:""}]}).subscribe({next:d=>{var f;"OK"===d.status&&(null===(f=d.data)||void 0===f?void 0:f.length)>0&&(this.ticket=(0,oe.yE)(Hn,Object.assign(Object.assign({},this.ticket),{fareRulesObj:{},fareRule:d.data}),{excludeExtraneousValues:!0}),this._cdr.detectChanges())},error:d=>{console.error(d)},complete:()=>{this.isLoadingFareRule=!1,this._cdr.detectChanges()}});else if(["VJ","QH","VU"].includes(this.ticket.provider)){this.isLoadingFareRule=!0;const u={airline:this.ticket.provider,fareBasic:(null===(e=this.ticket.fareCur)||void 0===e?void 0:e.fareName)||"",fareClass:(null===(i=this.ticket.fareCur)||void 0===i?void 0:i.fareClass)||"",fareType:(null===(a=this.ticket.fareCur)||void 0===a?void 0:a.fareCode)||"",startPoint:this.ticket.departure.airport.code,endPoint:this.ticket.arrival.airport.code,transitFlag:!(null===(c=this.ticket.fareCur)||void 0===c||!c.seatRemain),recaptcha:""};this._getFareRulesBtcService.getFareRuleInternational(u).subscribe({next:d=>{var f,_,m;"OK"===d.status&&(null===(f=d.data)||void 0===f?void 0:f.length)>0&&(this.ticket=(0,oe.yE)(Hn,Object.assign(Object.assign({},this.ticket),{fareRulesObj:{[this.ticket.IDF]:[{airline:this.ticket.provider,fareClass:(null===(_=this.ticket.fareCur)||void 0===_?void 0:_.fareClass)||"",cateCode:"INTERNATIONAL",desc:{en:"",vn:`Chuy\u1ebfn bay ${this.getLocationData(this.ticket.departure.airport.code)} - ${this.getLocationData(this.ticket.arrival.airport.code)}`},items:null===(m=d.data[0])||void 0===m?void 0:m.listConditions.map(x=>({name:x.name,value:x.value.replace(/&emsp;/g,""),cateCode:x.cateCode}))}]}}),{excludeExtraneousValues:!0}),this._cdr.detectChanges())},error:d=>{console.error(d)},complete:()=>{this.isLoadingFareRule=!1,this._cdr.detectChanges()}})}}progressDataForDetailItem(e){this.ticketPriceList=[...this._helperResultSvc.progressPriceList(this.searchData,[e])]}onTicketDetailMobile(e,i){e.stopPropagation(),this.mode="flight",this.infoTicketElMobile=this.bottomSheetService.open(i,{headerTitle:"Th\xf4ng tin chuy\u1ebfn bay",containerFullHeigh:!0,rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"}),this.infoTicketElMobile.containerInstance._rightButtonClick.subscribe(()=>{this.bottomSheetService.dismiss(),this.mode=""})}closeTicketDetailMobile(){var e;null===(e=this.infoTicketElMobile)||void 0===e||e.dismiss(),this.mode=""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.KNP),t.Y36(so.J),t.Y36(ai),t.Y36(t.sBO),t.Y36(I.a2),t.Y36(ri.L),t.Y36(Jo),t.Y36(wt._h))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-item"]],inputs:{ticket:"ticket",searchData:"searchData",viewConfig:"viewConfig",ticketSelectedMobile:"ticketSelectedMobile",isAirLineInternational:"isAirLineInternational"},outputs:{selectTicket:"selectTicket",reselectClick:"reselectClick"},standalone:!0,features:[t.TTD,t.jDz],decls:97,vars:69,consts:[[1,"flex","flex-col","md:hidden",3,"ngClass"],["class","flex justify-between gap-2 items-center rounded-t-lg px-2 pb-1 bg-[#FFD154]",4,"ngIf"],[1,"bg-white","rounded-xl","shadow-md","md:hidden"],[1,"justify-between","flex-col","flex"],[1,"flex","flex-col","justify-between","flex-1","gap-4","relative"],[1,"float-right","w-fit","md:hidden","absolute","right-0","top-0"],["class"," flex gap-x-1 items-center py-1 px-2 bg-secondary-3-1 rounded-bl-lg text-secondary-3-4 text-body-sm",4,"ngIf"],["class","  flex gap-x-1 items-center py-1 px-2 bg-secondary-3-1 rounded-bl-lg text-secondary-3-4 text-body-sm",4,"ngIf"],[1,"flex","justify-between"],[1,"flex","flex-col","gap-y-4","flex-1","px-4"],[1,"flex","gap-x-2"],["class","mt-2 px-2 py-1 bg-secondary-3-1 text-body-sm text-secondary-3-4 rounded flex gap-x-1 items-center",4,"ngIf"],[1,"flex","flex-1","justify-between","gap-3"],[1,"flex-shrink-0","items-center","flex","flex-col","h-full","justify-center","gap-[10px]","max-w-[110px]"],[1,"w-[100px]","h-[40px]","object-contain",3,"src"],[1,"flex-1","flex","items-center","gap-2"],[1,"px-2"],[1,"flex","flex-col","gap-y-2"],[1,"text-heading-sm","text-neutral-black","whitespace-nowrap"],[1,"text-espressive-sm","text-neutral-gray-4","text-center"],["class"," flex flex-col gap-y-2 px-2",4,"ngIf"],[1,"flex","flex-col","gap-y-2","px-2"],["class","text-espressive-sm text-neutral-gray-4 whitespace-nowrap",4,"ngIf"],["class","text-espressive-sm text-secondary-3-4 hover:text-secondary-7-4 cursor-default whitespace-nowrap",3,"placement","cfTooltip",4,"ngIf"],[1,"flex","flex-col","flex-1","gap-y-2","px-2"],["class","flex gap-x-1 items-center",4,"ngIf"],["class","w-fit flex gap-2 hover:text-secondary-7-4",3,"placement","cfTooltip",4,"ngIf"],[1,"flex","text-espressive-sm","text-secondary-3-4","md:hidden"],["class","relative flex items-center mr-3 px-0.5 pb-4 pt-1.5 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"px-4","pb-4","pt-6","border-l","border-neutral-gray-1","flex","flex-col","justify-between","w-full","min-w-[168px]","max-w-[192px]","md:hidden"],[1,"flex","flex-col","mb-3"],[1,"flex","flex-col","items-end"],[4,"ngIf","ngIfElse"],["netPriceTpl",""],[4,"ngIf"],["class","border-t border-neutral-gray-1",4,"ngIf"],[1,"hidden","md:flex","flex-col",3,"ngClass"],[1,"w-full","rounded-lg","shadow-lg","hidden","flex-col","md:flex",3,"ngClass"],[1,"bg-white","w-full","flex","justify-between","rounded-t-lg",3,"ngClass"],[1,"flex-1","flex"],[1,"flex","flex-col","p-4","gap-3","justify-between","flex-1"],[1,"flex","gap-3"],[1,"flex-shrink-0","items-center","flex","flex-col","gap-[10px]","max-w-[36px]"],[1,"w-[36px]","h-[36px]","object-contain",3,"src"],[1,"flex","flex-col","text-center"],[1,"text-heading-xs","text-neutral-black","whitespace-nowrap"],[1,"text-express-xs","text-neutral-gray-4","whitespace-nowrap"],[1,"flex","flex-col","flex-1","items-center"],[1,"text-express-xs","text-neutral-gray-4"],[1,"flex-1","w-full","flex","items-center","justify-between"],[1,"flex-1","h-[1px]","bg-neutral-gray-4"],[1,"w-1","h-1","border-[2px]","border-t-neutral-gray-4","border-r-neutral-gray-4","border-b-transparent","border-l-transparent","rotate-45"],["class","text-express-xs text-neutral-gray-4 whitespace-nowrap",4,"ngIf"],["class","text-express-xs text-secondary-3-4 hover:text-secondary-7-4 cursor-default whitespace-nowrap",3,"placement","cfTooltip",4,"ngIf"],[1,"flex","flex-1","gap-2"],["class","w-fit flex gap-2 hover:text-secondary-7-4",4,"ngIf"],[1,"flex","flex-col","justify-center","items-end","gap-2","pl-2","pr-3","pb-3","pt-2","border-l","border-neutral-gray-1"],[1,"flex","flex-col"],[1,"w-full","rounded-b-lg","bg-blue-1","py-[6px]","px-4","text-body-md","font-medium","flex","text-center","justify-center","items-center","text-blue-4",3,"click"],["detailTicketMobileTpl",""],[1,"flex","justify-between","gap-2","items-center","rounded-t-lg","px-2","pb-1","bg-[#FFD154]"],[1,"flex","flex-col","relative","h-[28px]"],["src","/assets/images/apricot-blossom.png","alt","apricot-blossom",1,"scale-[0.25]","origin-top-left","relative","-top-[12px]","-left-[10px]"],[1,"flex","gap-1","items-center"],[1,"bg-[url('/assets/images/bg-tag-tet.png')]","bg-cover","bg-center","bg-no-repeat","w-[120px]","h-[25px]"],[1,"text-red-4","text-body-md","w-full","pl-[9px]","pt-[2px]"],[1,"bg-[url('/assets/images/bg-tag-tet-2.png')]","bg-cover","bg-center","bg-no-repeat","w-[84px]","h-[25px]"],[1,"flex","gap-x-1","items-center","py-1","px-2","bg-secondary-3-1","rounded-bl-lg","text-secondary-3-4","text-body-sm"],["icon","document","size","small"],[1,"mt-2","px-2","py-1","bg-secondary-3-1","text-body-sm","text-secondary-3-4","rounded","flex","gap-x-1","items-center"],["icon","ticket","size","small"],["icon","user","size","small"],["icon","money","size","small"],[1,"text-espressive-sm","text-neutral-gray-4","whitespace-nowrap"],[1,"text-espressive-sm","text-secondary-3-4","hover:text-secondary-7-4","cursor-default","whitespace-nowrap",3,"placement","cfTooltip"],["tooltip",""],["toolTipTemplate",""],[4,"ngFor","ngForOf"],[1,"flex","gap-x-1","items-center"],["class","flex justify-end items-center gap-x-2",4,"ngIf"],[1,"text-heading-sm","text-neutral-black"],["noncabinTemplate",""],[1,"flex","justify-end","items-center","gap-x-2"],[1,"text-espressive-sm","py-0.5","px-2","rounded-[4px]","bg-neutral-gray-1","cursor-default","hover:bg-secondary-7-1","hover:text-secondary-7-4",3,"placement","cfTooltip"],[1,"capitalize"],["nonCabinOtherIVSTpl",""],["class","flex flex-wrap",4,"ngIf"],[1,"flex","flex-wrap"],[1,"whitespace-nowrap"],[1,"w-fit","flex","gap-2","hover:text-secondary-7-4",3,"placement","cfTooltip"],[1,"flex","items-center","gap-x-3"],["icon","luggage","size","small",4,"ngIf"],["icon","office","size","small",4,"ngIf"],["icon","food","size","small",4,"ngIf"],["icon","profit","size","small",4,"ngIf"],["icon","luggage","size","small"],["icon","office","size","small"],["icon","food","size","small"],["icon","profit","size","small"],[1,"text-express-sm"],["class","flex item-center gap-x-2 ",4,"ngIf"],[1,"flex","item-center","gap-x-2"],[1,"text-body-sm"],[1,"relative","flex","items-center","mr-3","px-0.5","pb-4","pt-1.5","cursor-pointer",3,"click"],["class","absolute bottom-0 w-full h-[3px] bg-primary-2-3 rounded",4,"ngIf"],[1,"absolute","bottom-0","w-full","h-[3px]","bg-primary-2-3","rounded"],["class","visible line-through mb-2 text-neutral-gray-4 text-body-sm whitespace-nowrap font-semibold",4,"ngIf"],["class","text-heading-lg font-medium",4,"ngIf","ngIfElse"],["noDiscountTpl",""],[1,"visible","line-through","mb-2","text-neutral-gray-4","text-body-sm","whitespace-nowrap","font-semibold"],[1,"text-heading-lg","font-medium"],["color","black",3,"cfTooltip"],["cf-button","","size","small","type","solid",1,"w-40","justify-center","py-[5px]","!bg-neutral-black","opacity-50",3,"disabled"],["cf-button","","size","small","color","primary-1","type","solid",1,"min-w-[130px]","justify-center","py-[5px]",3,"click"],[1,"border-t","border-neutral-gray-1"],[3,"ngSwitch"],[3,"ticket",4,"ngSwitchCase"],[3,"ticketPriceList",4,"ngSwitchCase"],[3,"fareRule","fareRuleInternational","isLoadingFareRule",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ticket"],[3,"ticketPriceList"],[3,"fareRule","fareRuleInternational","isLoadingFareRule"],["src","/assets/images/apricot-blossom.png","alt","apricot-blossom",1,"relative","-top-[9px]","-left-[8px]"],[1,"text-express-xs","text-secondary-3-4","hover:text-secondary-7-4","cursor-default","whitespace-nowrap",3,"placement","cfTooltip"],[1,"text-express-sm","text-neutral-black","whitespace-nowrap"],[1,"w-fit","flex","gap-2","hover:text-secondary-7-4"],["class","visible line-through my-1.5 text-neutral-gray-4 text-body-sm whitespace-nowrap font-semibold",4,"ngIf"],["class","text-body-md font-semibold",4,"ngIf","ngIfElse"],[1,"visible","line-through","my-1.5","text-neutral-gray-4","text-body-sm","whitespace-nowrap","font-semibold"],[1,"text-body-md","font-semibold"],["cf-button","","size","small","type","solid",1,"w-[82px]","justify-center","py-[5px]","!bg-neutral-black","opacity-50",3,"disabled"],["cf-button","","size","small","color","primary-1","type","solid",1,"w-[82px]","justify-center","!py-[5px]",3,"click"],["type","secondary","cf-button","","size","small",1,"w-[82px]","justify-center","bg-neutral-white",3,"click"],[1,"w-full","h-full","flex","flex-col","justify-between"],[1,"flex","text-espressive-md","gap-2","px-4","py-2"],["class","relative border flex font-medium items-center text-neutral-gray-4 px-4 py-1.5 border-white cursor-pointer rounded-full",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-4","bg-neutral-gray-1","h-full","overflow-y-scroll","gap-3","flex","flex-col"],[1,"w-full","flex","justify-center","items-center","py-4","bg-white","px-6"],["cf-button","","size","medium",1,"md:w-full","!text-body-lg","justify-center",3,"click"],[1,"relative","border","flex","font-medium","items-center","text-neutral-gray-4","px-4","py-1.5","border-white","cursor-pointer","rounded-full",3,"ngClass","click"]],template:function(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"div",0),t.YNc(1,r,10,0,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t.YNc(6,s,4,0,"div",6),t.YNc(7,l,4,0,"div",7),t.YNc(8,p,4,0,"div",6),t.YNc(9,h,4,0,"div",6),t.qZA(),t.TgZ(10,"div",8)(11,"div",9)(12,"div",10),t.YNc(13,k,6,4,"div",11),t.YNc(14,B,4,0,"div",11),t.YNc(15,O,5,4,"div",11),t.ALo(16,"mapper"),t.YNc(17,j,4,0,"div",11),t.YNc(18,Y,3,0,"div",11),t.qZA(),t.TgZ(19,"div",12)(20,"div",13),t._UZ(21,"img",14),t.qZA(),t.TgZ(22,"div",15)(23,"div",16)(24,"div",17)(25,"div",18),t._uU(26),t.ALo(27,"date"),t.ALo(28,"date"),t.qZA(),t.TgZ(29,"div",19),t._uU(30),t.qZA()()(),t.YNc(31,G,5,3,"div",20),t.TgZ(32,"div",21)(33,"div",18),t._uU(34),t.qZA(),t.YNc(35,dt,2,0,"div",22),t.YNc(36,It,5,3,"div",23),t.qZA(),t.TgZ(37,"div",24),t.YNc(38,au,6,3,"div",25),t.YNc(39,M0,10,6,"div",26),t.qZA()()(),t.TgZ(40,"div",27),t.YNc(41,j0,3,2,"div",28),t.qZA()(),t.TgZ(42,"div",29)(43,"div",30)(44,"div",31),t.YNc(45,G0,6,6,"ng-container",32),t.YNc(46,z0,7,12,"ng-template",null,33,t.W1O),t.qZA()(),t.YNc(48,W0,4,2,"ng-container",34),t.YNc(49,X0,3,0,"ng-container",34),t.qZA()()(),t.YNc(50,o_,6,4,"div",35),t.qZA()()(),t.TgZ(51,"div",36),t.YNc(52,r_,10,0,"div",1),t._UZ(53,"div",2),t.TgZ(54,"div",37)(55,"div",38)(56,"div",39)(57,"div",40)(58,"div",41)(59,"div",42),t._UZ(60,"img",43),t.qZA(),t.TgZ(61,"div",44)(62,"div",45),t._uU(63),t.ALo(64,"date"),t.qZA(),t.TgZ(65,"div",46),t._uU(66),t.qZA()(),t.TgZ(67,"div",47)(68,"div",48),t._uU(69),t.qZA(),t.TgZ(70,"div",49),t._UZ(71,"div",50)(72,"div",51),t.qZA(),t.YNc(73,a_,2,0,"div",52),t.YNc(74,u_,5,3,"div",53),t.qZA(),t.TgZ(75,"div",44)(76,"div",45),t._uU(77),t.ALo(78,"date"),t.qZA(),t.TgZ(79,"div",46),t._uU(80),t.qZA()()(),t.TgZ(81,"div",54),t.YNc(82,x_,6,3,"div",25),t.YNc(83,E_,7,4,"div",55),t.qZA()(),t.TgZ(84,"div",56)(85,"div",57)(86,"div",31),t.YNc(87,w_,6,6,"ng-container",32),t.YNc(88,S_,7,12,"ng-template",null,33,t.W1O),t.qZA()(),t.YNc(90,F_,4,2,"ng-container",34),t.YNc(91,N_,3,0,"ng-container",34),t.YNc(92,O_,4,0,"ng-container",34),t.qZA()()(),t.TgZ(93,"div",58),t.NdJ("click",function(u){t.CHM(a);const d=t.MAs(96);return t.KtG(i.onTicketDetailMobile(u,d))}),t._uU(94," Chi ti\u1ebft "),t.qZA()(),t.YNc(95,j_,8,2,"ng-template",null,59,t.W1O),t.qZA()}if(2&e){const a=t.MAs(47);t.Q6J("ngClass",t.VKq(61,o0,"IVS"===i.ticket.provider)),t.xp6(1),t.Q6J("ngIf","IVS"===i.ticket.provider),t.xp6(5),t.Q6J("ngIf","GDS"===i.ticket.provider),t.xp6(1),t.Q6J("ngIf","BSP"===i.ticket.provider),t.xp6(1),t.Q6J("ngIf","AIR_1G"===i.ticket.provider),t.xp6(1),t.Q6J("ngIf","ST"===i.ticket.provider),t.xp6(4),t.Q6J("ngIf",i.ticket.isNdcFare),t.xp6(1),t.Q6J("ngIf",i.ticket.isLccFare),t.xp6(1),t.Q6J("ngIf",("BSP"===i.ticket.provider||"AIR_1G"===i.ticket.provider)&&t.xi3(16,46,i.searchData,i.getPaxTypeDisplay)),t.xp6(2),t.Q6J("ngIf",i.ticket.privateFare),t.xp6(1),t.Q6J("ngIf",i.ticket.vfrFare),t.xp6(3),t.Q6J("src",i.ticket.logoAirline,t.LSH),t.xp6(5),t.AsE("",t.xi3(27,49,i.ticket.departure.localTime,"HH:mm")," - ",t.xi3(28,52,i.ticket.arrival.localTime,"HH:mm"),""),t.xp6(4),t.hij(" ",i.ticket.operatingName?i.ticket.operatingName:i.ticket.airlineName,""),t.xp6(1),t.Q6J("ngIf",i.viewConfig.showDuration),t.xp6(3),t.Oqu(i.ticket.flightNumber),t.xp6(1),t.Q6J("ngIf",0===i.ticket.numOfStops),t.xp6(1),t.Q6J("ngIf",i.ticket.numOfStops>0),t.xp6(2),t.Q6J("ngIf",!i.viewConfig.hideFareClass),t.xp6(1),t.Q6J("ngIf",i.ticket.fareRuleClassesData||i.ticket.refundableFare||i.ticket.food||i.ticket.bookedInfo),t.xp6(2),t.Q6J("ngForOf",i.modeOptions),t.xp6(4),t.Q6J("ngIf",!i.viewConfig.showNetPrice)("ngIfElse",a),t.xp6(3),t.Q6J("ngIf",0===(null==i.ticket.fareCur?null:i.ticket.fareCur.seatRemain)),t.xp6(1),t.Q6J("ngIf",0!==(null==i.ticket.fareCur?null:i.ticket.fareCur.seatRemain)),t.xp6(1),t.Q6J("ngIf",i.mode),t.xp6(1),t.Q6J("ngClass",t.VKq(63,o0,"IVS"===i.ticket.provider)),t.xp6(1),t.Q6J("ngIf","IVS"===i.ticket.provider),t.xp6(2),t.Q6J("ngClass",t.VKq(65,Y_,i.ticketSelectedMobile)),t.xp6(1),t.Q6J("ngClass",t.VKq(67,Q_,i.ticketSelectedMobile)),t.xp6(5),t.Q6J("src",i.ticket.logoAirline,t.LSH),t.xp6(3),t.Oqu(t.xi3(64,55,i.ticket.departure.localTime,"HH:mm")),t.xp6(3),t.Oqu(i.ticket.startPoint),t.xp6(3),t.Oqu(i.ticket.durationStr),t.xp6(4),t.Q6J("ngIf",0===i.ticket.numOfStops),t.xp6(1),t.Q6J("ngIf",i.ticket.numOfStops>0),t.xp6(3),t.Oqu(t.xi3(78,58,i.ticket.arrival.localTime,"HH:mm")),t.xp6(3),t.Oqu(i.ticket.endPoint),t.xp6(2),t.Q6J("ngIf",!i.viewConfig.hideFareClass),t.xp6(1),t.Q6J("ngIf",i.ticket.fareRuleClassesData||i.ticket.refundableFare||i.ticket.food||i.ticket.bookedInfo),t.xp6(4),t.Q6J("ngIf",!i.viewConfig.showNetPrice)("ngIfElse",a),t.xp6(3),t.Q6J("ngIf",0===(null==i.ticket.fareCur?null:i.ticket.fareCur.seatRemain)),t.xp6(1),t.Q6J("ngIf",0!==(null==i.ticket.fareCur?null:i.ticket.fareCur.seatRemain)&&!i.ticketSelectedMobile),t.xp6(1),t.Q6J("ngIf",i.ticketSelectedMobile)}},dependencies:[g.ez,g.mk,g.sg,g.O5,g.RF,g.n9,g.ED,g.Ov,g.JJ,g.uU,to.Lk,v.AxE,v.Sm8,S.N8,S.Xq,et.q,it,Xl,nu,ru],styles:["[_nghost-%COMP%]{display:block}"]}),n})();var r0=w(4891);function G_(n,o){1&n&&(t.O4$(),t.TgZ(0,"svg",17),t._UZ(1,"path",18),t.qZA())}const K_=function(n){return{"bg-neutral-gray-1":n}};function $_(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",14),t.NdJ("click",function(){const c=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.onFilterChange(c.key))}),t.TgZ(1,"div",15),t.YNc(2,G_,2,0,"svg",16),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA()()}if(2&n){const e=o.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.VKq(3,K_,i.sortTypeTemp===e.key)),t.xp6(2),t.Q6J("ngIf",i.sortTypeTemp===e.key),t.xp6(2),t.Oqu(e.value)}}function V_(n,o){if(1&n&&(t.TgZ(0,"div",6)(1,"div",12),t.YNc(2,$_,5,5,"div",13),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.sortOptions)}}function z_(n,o){if(1&n&&(t.TgZ(0,"cf-radio",25),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.key),t.xp6(1),t.hij(" ",e.value," ")}}function W_(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"cf-radio-group",21),t.NdJ("checkChange",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.onFilterChange(a))})("ngModelChange",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.sortTypeTemp=a)}),t.YNc(3,z_,2,2,"cf-radio",22),t.qZA()(),t.TgZ(4,"div",23)(5,"button",24),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onApply())}),t._uU(6,"X\xe1c nh\u1eadn"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngModel",e.sortTypeTemp),t.xp6(1),t.Q6J("ngForOf",e.sortOptions)}}let X_=(()=>{class n{constructor(e,i,a,c,u){this.bottomSheetService=e,this._mobileDetectService=i,this.cfIconRegister=a,this.overlay=c,this.scrollStrategyOptions=u,this.sortType="min_price",this.sortTypeChange=new t.vpe,this.OPTIONS_SORT=Kr,this.sortOptions=Object.entries(Kr).map(([d,f])=>({key:d,value:f})),this.isOpen=!1,this.isMobile=!1,this.scrollStrategy=this.overlay.scrollStrategies.close(),this.positionPairs=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}],a.registerIcons([v.PlV])}ngOnInit(){this._mobileDetectService.mobileSubject.subscribe(e=>{this.isMobile=e})}ngOnChanges(e){e.sortType&&(this.sortTypeTemp=e.sortType.currentValue)}openSelectSort(e){e.stopPropagation(),this.isOpen=!this.isOpen}outsideClick(){this.isOpen=!1}onFilterChange(e){this.isMobile?this.sortTypeTemp=e:(this.sortTypeChange.emit(e),this.isOpen=!1)}openBottomSheet(e){this.bottomSheetService.open(e,{headerTitle:"S\u1eafp x\u1ebfp",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"}).containerInstance._rightButtonClick.subscribe(()=>{this.bottomSheetService.dismiss(),this.sortTypeTemp=this.sortType})}onApply(){this.sortTypeChange.emit(this.sortTypeTemp),this.bottomSheetService.dismiss()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(I.a2),t.Y36(ri.L),t.Y36(v.KNP),t.Y36(di.aV),t.Y36(di.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-result-options-sort"]],inputs:{sortType:"sortType"},outputs:{sortTypeChange:"sortTypeChange"},standalone:!0,features:[t.TTD,t.jDz],decls:18,vars:5,consts:[[1,"gap-x-1.5","items-center","justify-center","w-full","animate-button","px-4","py-[6px]","hidden","md:flex",3,"click"],[1,"text-body-md","whitespace-nowrap","text-base"],["icon","sort","size","small",1,"text-neutral-gray-5"],["cdkOverlayOrigin","",1,"min-w-[212px]","animate-button","md:hidden","bg-white","rounded-2xl","px-4","py-4","flex","justify-between","h-fit",3,"click"],["trigger","","originOverlay","cdkOverlayOrigin","elParent",""],[1,"flex","gap-3","cursor-pointer","items-center","justify-between"],[1,"flex","flex-col"],[1,"text-espressive-lg","font-semibold"],[1,"text-body-md-short"],["icon","chevron_down","size","small",1,"mr-2"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayPositions","overlayOutsideClick"],["mobileTpl",""],[1,"shadow-cf-lg","bg-neutral-white","rounded-lg","text-body-md","py-2","px-2","min-w-[232px]","w-[232px]"],["class"," py-3 px-3 flex items-center gap-x-2.5 hover:bg-neutral-gray-1 hover:cursor-pointer rounded-xl",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"py-3","px-3","flex","items-center","gap-x-2.5","hover:bg-neutral-gray-1","hover:cursor-pointer","rounded-xl",3,"ngClass","click"],[1,"w-4","h-4"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.7763 3.5019C14.0514 3.74651 14.0762 4.16789 13.8316 4.44308L6.7205 12.4431C6.59399 12.5854 6.41265 12.6668 6.22223 12.6668C6.0318 12.6668 5.85047 12.5854 5.72396 12.4431L2.1684 8.44308C1.92379 8.16789 1.94858 7.74651 2.22376 7.5019C2.49895 7.25728 2.92033 7.28207 3.16495 7.55726L6.22223 10.9967L12.8351 3.55726C13.0797 3.28207 13.5011 3.25729 13.7763 3.5019Z","fill","#2C2C2C"],[1,"flex","flex-col","md:w-full","gap-4"],[1,"p-4","flex","flex-col","gap-3"],[1,"flex","gap-4","flex-col",3,"ngModel","checkChange","ngModelChange"],["size","medium","class","[&>*>*]:!text-body-lg",3,"value",4,"ngFor","ngForOf"],[1,"p-4","w-full","gap-x-4","hidden","shadow-cf-large-top","md:flex"],["cf-button","",1,"w-full","justify-center",3,"click"],["size","medium",1,"[&>*>*]:!text-body-lg",3,"value"]],template:function(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"div",0),t.NdJ("click",function(){t.CHM(a);const u=t.MAs(17);return t.KtG(i.openBottomSheet(u))}),t.TgZ(1,"div",1),t._uU(2,"S\u1eafp x\u1ebfp"),t.qZA(),t._UZ(3,"cf-icon",2),t.qZA(),t.TgZ(4,"div",3,4),t.NdJ("click",function(u){return i.openSelectSort(u)}),t.TgZ(8,"div",5)(9,"div",6)(10,"div",7),t._uU(11," S\u1eafp x\u1ebfp "),t.qZA(),t.TgZ(12,"div",8),t._uU(13),t.qZA()(),t._UZ(14,"cf-icon",9),t.qZA()(),t.YNc(15,V_,3,1,"ng-template",10),t.NdJ("overlayOutsideClick",function(){return i.outsideClick()}),t.YNc(16,W_,7,2,"ng-template",null,11,t.W1O)}if(2&e){const a=t.MAs(6);t.xp6(13),t.hij(" ",i.OPTIONS_SORT[i.sortTypeTemp]," "),t.xp6(2),t.Q6J("cdkConnectedOverlayOrigin",a)("cdkConnectedOverlayOpen",i.isOpen)("cdkConnectedOverlayScrollStrategy",i.scrollStrategy)("cdkConnectedOverlayPositions",i.positionPairs)}},dependencies:[g.ez,g.mk,g.sg,g.O5,r0.f,di.pI,di.xu,v.AxE,v.Sm8,S.N8,S.Xq,M.T,M.o,A.u5,A.JJ,A.On],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();var Mf=w(4128);function th(n,o){if(1&n&&(t.TgZ(0,"div",20),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.Q6J("cfTooltip",e.journey.returnDateTooltip),t.xp6(1),t.hij("+",e.journey.stopOvernight,"")}}function eh(n,o){1&n&&(t.TgZ(0,"div",21),t._uU(1," Bay th\u1eb3ng "),t.qZA())}function nh(n,o){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.AsE("",e.delaySt," t\u1ea1i ",e.stopPoint||e.startPoint,"")}}function ih(n,o){if(1&n&&(t.ynx(0),t.YNc(1,nh,2,2,"div",26),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.delay)}}function oh(n,o){if(1&n&&t.YNc(0,ih,2,1,"ng-container",25),2&n){const e=t.oxw(2);t.Q6J("ngForOf",e.journey.segments)}}function rh(n,o){if(1&n&&(t.TgZ(0,"div",22,23),t._uU(2),t.YNc(3,oh,1,1,"ng-template",null,24,t.W1O),t.qZA()),2&n){const e=t.MAs(4),i=t.oxw();t.Q6J("placement","bottomCenter")("cfTooltip",e),t.xp6(2),t.hij(" ",i.journey.numOfStops," \u0111i\u1ec3m d\u1eebng ")}}function ah(n,o){if(1&n&&(t.TgZ(0,"div",27)(1,"span",28,23),t._uU(3),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("placement","topCenter")("cfTooltip","C\xf2n "+((null==e.journey.fareCur?null:e.journey.fareCur.seatRemain)||0)+" ch\u1ed7 tr\u1ed1ng"),t.xp6(2),t.Oqu(null==e.journey.fareCur?null:e.journey.fareCur.seatRemain)}}function sh(n,o){if(1&n&&(t.TgZ(0,"span",32),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("(",null==e.journey.fareCur?null:e.journey.fareCur.fareClass,")")}}function ch(n,o){if(1&n&&(t.TgZ(0,"span",29)(1,"span",30),t._uU(2),t.qZA(),t.YNc(3,sh,2,1,"span",31),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(null==e.journey.fareCur?null:e.journey.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.journey.fareCur?null:e.journey.fareCur.fareClass)}}function lh(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("H\u1ea1ng ch\u1ed7: ",null==e.journey.fareCur?null:e.journey.fareCur.fareClass,"")}}function uh(n,o){if(1&n&&t.YNc(0,lh,2,1,"span",26),2&n){const e=t.oxw();t.Q6J("ngIf",null==e.journey.fareCur?null:e.journey.fareCur.fareClass)}}function dh(n,o){1&n&&t._UZ(0,"cf-icon",39)}function ph(n,o){1&n&&t._UZ(0,"cf-icon",40)}function gh(n,o){1&n&&t._UZ(0,"cf-icon",41)}function fh(n,o){1&n&&t._UZ(0,"cf-icon",42)}function _h(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij("\xa0(",null==e.journey.fareCur?null:e.journey.fareCur.fareClass,")")}}function hh(n,o){if(1&n&&(t.TgZ(0,"span")(1,"span",30),t._uU(2),t.qZA(),t.YNc(3,_h,2,1,"span",26),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(null==e.journey.fareCur?null:e.journey.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.journey.fareCur?null:e.journey.fareCur.fareClass)}}function mh(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij("H\u1ea1ng ch\u1ed7: ",null==e.journey.fareCur?null:e.journey.fareCur.fareClass,"")}}function vh(n,o){if(1&n&&t.YNc(0,mh,2,1,"span",26),2&n){const e=t.oxw(3);t.Q6J("ngIf",null==e.journey.fareCur?null:e.journey.fareCur.fareClass)}}function xh(n,o){if(1&n&&(t.TgZ(0,"div",47),t._UZ(1,"cf-icon",39),t.TgZ(2,"div",48),t._uU(3),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(3),t.hij("K\xfd g\u1eedi: ",null==e.journey.bookedInfo?null:e.journey.bookedInfo.checkedBaggage,"")}}function yh(n,o){if(1&n&&(t.TgZ(0,"div",47),t._UZ(1,"cf-icon",40),t.TgZ(2,"div",48),t._uU(3),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(3),t.hij("X\xe1ch tay: ",e.journey.bookedInfo.handBaggage,"")}}function Ch(n,o){if(1&n&&(t.ynx(0),t.YNc(1,xh,4,1,"div",46),t.YNc(2,yh,4,1,"div",46),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.journey.bookedInfo.checkedBaggage),t.xp6(1),t.Q6J("ngIf",e.journey.bookedInfo.handBaggage)}}function bh(n,o){if(1&n&&(t.TgZ(0,"div",47),t._UZ(1,"cf-icon",41),t.TgZ(2,"div",48),t._uU(3),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(3),t.hij("Su\u1ea5t \u0103n: ",e.journey.food?"C\xf3":"Kh\xf4ng","")}}function Th(n,o){if(1&n&&(t.TgZ(0,"div",47),t._UZ(1,"cf-icon",42),t.TgZ(2,"div",48),t._uU(3),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(3),t.hij("Ho\xe0n ti\u1ec1n: ",e.journey.refundableFare?"C\xf3":"Kh\xf4ng","")}}function Eh(n,o){if(1&n&&(t.TgZ(0,"div",43)(1,"div",44),t._uU(2),t.YNc(3,hh,4,2,"span",45),t.YNc(4,vh,1,1,"ng-template",null,18,t.W1O),t.qZA(),t.YNc(6,Ch,3,2,"ng-container",26),t.YNc(7,bh,4,1,"div",46),t.YNc(8,Th,4,1,"div",46),t.qZA()),2&n){const e=t.MAs(5),i=t.oxw(2);t.xp6(2),t.AsE("",i.journey.startPoint," - ",i.journey.endPoint,": "),t.xp6(1),t.Q6J("ngIf",(null==i.journey.fareCur?null:i.journey.fareCur.cabinName)&&"null"!=(null==i.journey.fareCur?null:i.journey.fareCur.cabinName))("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",i.journey.bookedInfo),t.xp6(1),t.Q6J("ngIf",i.journey.food),t.xp6(1),t.Q6J("ngIf",i.journey.refundableFare)}}function kh(n,o){if(1&n&&(t.TgZ(0,"div",33,23),t.ynx(2),t.TgZ(3,"div",34),t.YNc(4,dh,1,0,"cf-icon",35),t.YNc(5,ph,1,0,"cf-icon",36),t.YNc(6,gh,1,0,"cf-icon",37),t.YNc(7,fh,1,0,"cf-icon",38),t.qZA(),t.BQk(),t.YNc(8,Eh,9,7,"ng-template",null,24,t.W1O),t.qZA()),2&n){const e=t.MAs(9),i=t.oxw();t.Q6J("placement","bottomCenter")("cfTooltip",e),t.xp6(4),t.Q6J("ngIf",null==i.journey.bookedInfo?null:i.journey.bookedInfo.checkedBaggage),t.xp6(1),t.Q6J("ngIf",null==i.journey.bookedInfo?null:i.journey.bookedInfo.handBaggage),t.xp6(1),t.Q6J("ngIf",i.journey.food),t.xp6(1),t.Q6J("ngIf",i.journey.refundableFare)}}let Ah=(()=>{class n{constructor(e){this.cfIconRegister=e,e.registerIcons([v._7G,v.JbC,v.d7d,v.Npe,v.Gey,v.YwC,v.KYu,v.ILM,v.D7,v.o1t])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.KNP))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-combo-item-journey"]],inputs:{journey:"journey"},standalone:!0,features:[t.jDz],decls:31,vars:21,consts:[[1,"flex","gap-4","w-full","justify-between"],[1,"flex","flex-col","gap-y-3"],[1,"flex-shrink-0","items-center","flex","flex-col","gap-[10px]","justify-center","max-w-[100px]"],[1,"w-[100px]","h-[40px]","object-contain",3,"src"],[1,"px-2"],[1,"flex","flex-col","gap-y-2","relative","items-center","text-center"],["class","font-medium leading-[8px] absolute text-express-xs text-neutral-gray-4 right-2 -top-3 translate-x-full cursor-pointer p-1 rounded bg-neutral-gray-1",3,"cfTooltip",4,"ngIf"],[1,"text-heading-sm","text-neutral-black","whitespace-nowrap"],[1,"text-espressive-sm","text-neutral-gray-4","text-center"],[1,"flex","flex-col","gap-y-2","px-2"],[1,"text-body-md-short","text-neutral-gray-4","whitespace-nowrap"],["class","text-espressive-sm text-neutral-gray-4 whitespace-nowrap",4,"ngIf"],["class","text-espressive-sm text-secondary-3-4 hover:text-secondary-7-4 cursor-default whitespace-nowrap",3,"placement","cfTooltip",4,"ngIf"],[1,"flex","flex-col","gap-y-2","flex-1","px-2"],[1,"flex","gap-x-1","items-start"],["class","flex justify-end items-center gap-x-2 pt-0.5",4,"ngIf"],[1,"text-heading-sm","text-neutral-black","max-w-[124px]","flex","flex-wrap","whitespace-normal"],["class","inline-block  max-w-[124px] flex flex-wrap",4,"ngIf","ngIfElse"],["noncabinTemplate",""],["class","w-fit flex gap-2 hover:text-secondary-7-4",3,"placement","cfTooltip",4,"ngIf"],[1,"font-medium","leading-[8px]","absolute","text-express-xs","text-neutral-gray-4","right-2","-top-3","translate-x-full","cursor-pointer","p-1","rounded","bg-neutral-gray-1",3,"cfTooltip"],[1,"text-espressive-sm","text-neutral-gray-4","whitespace-nowrap"],[1,"text-espressive-sm","text-secondary-3-4","hover:text-secondary-7-4","cursor-default","whitespace-nowrap",3,"placement","cfTooltip"],["tooltip",""],["toolTipTemplate",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"flex","justify-end","items-center","gap-x-2","pt-0.5"],[1,"text-espressive-sm","py-0.5","px-2","rounded-[4px]","bg-neutral-gray-1","cursor-default","hover:bg-secondary-7-1","hover:text-secondary-7-4",3,"placement","cfTooltip"],[1,"inline-block","max-w-[124px]","flex","flex-wrap"],[1,"capitalize"],["class","break-words",4,"ngIf"],[1,"break-words"],[1,"w-fit","flex","gap-2","hover:text-secondary-7-4",3,"placement","cfTooltip"],[1,"flex","items-center","gap-x-3"],["icon","luggage","size","small",4,"ngIf"],["icon","office","size","small",4,"ngIf"],["icon","food","size","small",4,"ngIf"],["icon","profit","size","small",4,"ngIf"],["icon","luggage","size","small"],["icon","office","size","small"],["icon","food","size","small"],["icon","profit","size","small"],[1,"flex","flex-col","gap-y-2"],[1,"text-express-sm"],[4,"ngIf","ngIfElse"],["class","flex item-center gap-x-2 ",4,"ngIf"],[1,"flex","item-center","gap-x-2"],[1,"text-body-sm"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA()(),t.TgZ(4,"div",4)(5,"div",5),t.YNc(6,th,2,2,"div",6),t.TgZ(7,"div",7),t._uU(8),t.ALo(9,"date"),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"span",8),t._uU(12),t.qZA()()(),t.TgZ(13,"div",9)(14,"div",7),t._uU(15),t.qZA(),t.TgZ(16,"div",10),t._uU(17),t.qZA()(),t.TgZ(18,"div",9)(19,"div",7),t._uU(20),t.qZA(),t.YNc(21,eh,2,0,"div",11),t.YNc(22,rh,5,3,"div",12),t.qZA(),t.TgZ(23,"div",13)(24,"div",14),t.YNc(25,ah,4,3,"div",15),t.TgZ(26,"div",16),t.YNc(27,ch,4,2,"span",17),t.YNc(28,uh,1,1,"ng-template",null,18,t.W1O),t.qZA()(),t.YNc(30,kh,10,6,"div",19),t.qZA()()),2&e){const a=t.MAs(29);t.xp6(3),t.Q6J("src",i.journey.logoAirline,t.LSH),t.xp6(3),t.Q6J("ngIf",i.journey.stopOvernight>0),t.xp6(2),t.AsE("",t.xi3(9,15,i.journey.departure.localTime,"HH:mm")," - ",t.xi3(10,18,i.journey.arrival.localTime,"HH:mm"),""),t.xp6(4),t.hij(" ",i.journey.operatingName?i.journey.operatingName:i.journey.airlineName," "),t.xp6(3),t.Oqu(i.journey.durationStr),t.xp6(2),t.AsE("",i.journey.startPoint," - ",i.journey.endPoint,""),t.xp6(3),t.Oqu(i.journey.flightNumber),t.xp6(1),t.Q6J("ngIf",0===i.journey.numOfStops),t.xp6(1),t.Q6J("ngIf",i.journey.numOfStops>0),t.xp6(3),t.Q6J("ngIf","GDS"!==i.journey.provider&&"BSP"!==i.journey.provider&&"FLY_ONE"!==i.journey.provider),t.xp6(2),t.Q6J("ngIf",(null==i.journey.fareCur?null:i.journey.fareCur.cabinName)&&"null"!=(null==i.journey.fareCur?null:i.journey.fareCur.cabinName))("ngIfElse",a),t.xp6(3),t.Q6J("ngIf",i.journey.fareRuleClassesData||i.journey.refundableFare||i.journey.food||i.journey.bookedInfo)}},dependencies:[g.ez,g.sg,g.O5,g.uU,to.Lk,v.AxE,v.Sm8],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();function Dh(n,o){if(1&n&&(t.TgZ(0,"div",16),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.Q6J("cfTooltip",e.returnDateTooltip),t.xp6(1),t.hij(" +",e.stopOvernight,"")}}function wh(n,o){if(1&n&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.AsE(" ",e.durationStr," (",e.numOfStops," \u0111i\u1ec3m d\u1eebng)")}}function Bh(n,o){if(1&n&&(t.TgZ(0,"div",18),t._UZ(1,"cf-icon",19),t.TgZ(2,"div",20),t._uU(3),t.ALo(4,"mapper"),t.qZA(),t.TgZ(5,"div",21),t._uU(6),t.ALo(7,"mapper"),t.qZA()()),2&n){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(3),t.Oqu(t.xi3(4,2,e,i.stops)[0].duration),t.xp6(3),t.hij("d\u1eebng t\u1ea1i ",t.xi3(7,5,e,i.stops)[0].airport,"")}}function Zh(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"cf-icon",19),t.TgZ(2,"div",21),t._uU(3),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(3),t.Oqu(e.airport)}}function Ih(n,o){if(1&n&&(t.TgZ(0,"div",18),t.YNc(1,Zh,4,1,"ng-container",22),t.ALo(2,"mapper"),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e,i.stops))}}function Sh(n,o){if(1&n&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.getTotalAmount||0),",",".")," \u0111")}}function Fh(n,o){if(1&n&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.ALo(4,"mapper"),t.qZA()),2&n){const e=t.oxw(2).$implicit,i=t.oxw(2);t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,t.gM2(4,7,e,i.getTotalAmountAllPax,i.searchData.adultCount,i.searchData.childCount)),",",".")," \u0111")}}function Nh(n,o){if(1&n&&(t.TgZ(0,"div",26),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",null==e?null:e.seatRemain,"")}}function Oh(n,o){if(1&n&&(t.TgZ(0,"div",23),t.YNc(1,Sh,4,7,"div",13),t.YNc(2,Fh,5,12,"div",13),t.TgZ(3,"div",24),t.YNc(4,Nh,2,1,"div",25),t.TgZ(5,"div",21),t._uU(6),t.qZA()()()),2&n){const e=t.oxw().$implicit,i=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.Q6J("ngIf",!a.showTotalPrice),t.xp6(1),t.Q6J("ngIf",a.showTotalPrice),t.xp6(2),t.Q6J("ngIf",!i.is1A),t.xp6(2),t.Oqu(null==e?null:e.cabinCode)}}function Ph(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){const c=t.CHM(e).index,u=t.oxw().index,d=t.oxw();return t.KtG(d.changeJourneyIdx(u,c))}),t.TgZ(1,"div",8)(2,"div",9),t._uU(3),t.ALo(4,"date"),t.ALo(5,"date"),t.YNc(6,Dh,2,2,"div",10),t.qZA(),t.TgZ(7,"div",11),t._uU(8),t.qZA()(),t.TgZ(9,"div",12),t.YNc(10,wh,2,2,"div",13),t.YNc(11,Bh,8,8,"div",14),t.YNc(12,Ih,3,4,"div",14),t.qZA(),t.YNc(13,Oh,7,4,"div",15),t.qZA()}if(2&n){const e=o.$implicit,i=t.oxw().$implicit;t.ekj("border-secondary-3-4",e.key===(null==i.fareCur?null:i.fareCur.key))("md:justify-center",i.isGDS)("md:gap-x-4",i.isGDS)("bg-secondary-3-1",e.key===(null==i.fareCur?null:i.fareCur.key)),t.xp6(3),t.AsE(" ",t.xi3(4,18,i.departure.localTime,"HH:mm")," - ",t.xi3(5,21,i.arrival.localTime,"HH:mm")," "),t.xp6(3),t.Q6J("ngIf",i.stopOvernight>0),t.xp6(2),t.Oqu(i.airlineName),t.xp6(1),t.ekj("items-center",!i.isGDS),t.xp6(1),t.Q6J("ngIf",0===i.numOfStops),t.xp6(1),t.Q6J("ngIf",1===i.numOfStops),t.xp6(1),t.Q6J("ngIf",i.numOfStops>1),t.xp6(1),t.Q6J("ngIf",!i.isGDS)}}function Rh(n,o){if(1&n&&(t.TgZ(0,"div",2)(1,"div",3),t._UZ(2,"img",4),t.TgZ(3,"div",5),t._uU(4),t.ALo(5,"mapper"),t.ALo(6,"mapper"),t.ALo(7,"date"),t.qZA()(),t.YNc(8,Ph,14,24,"div",6),t.qZA()),2&n){const e=o.$implicit,i=t.oxw();t.xp6(2),t.Q6J("src","assets/airline-logo/"+e.airline+".png",t.LSH)("alt",e.airline),t.xp6(2),t.lnq("",t.xi3(5,6,e.startPoint,i.getLocationData)," \u2192 ",t.xi3(6,9,e.endPoint,i.getLocationData),"\u30fb ",t.xi3(7,12,e.departure.localTime,"EEEE, dd TMMMMM")," "),t.xp6(4),t.Q6J("ngForOf",e.fareOptions)}}let Lh=(()=>{class n{constructor(e){this.locationDataSvc=e,this.ticketChange=new t.vpe,this.showTotalPrice=!1,this.getLocationData=i=>this.locationDataSvc.getCityNameByCode(i),this.stops=i=>this.getStopList(i.segments),this.getTotalAmountAllPax=(i,a,c)=>{let u=0;return u+=this.getTotalAmountByType(i.fareAmountBreakdowns,"ADULT")*a,u+=this.getTotalAmountByType(i.fareAmountBreakdowns,"CHILD")*c,u}}ngOnChanges(e){e.ticket&&(this.dataJourney=[this.ticket.departJourneys[0],this.ticket.arriveJourneys[0]])}changeJourneyIdx(e,i){this.dataJourney=[...this.dataJourney.map((a,c)=>c===e?(0,oe.yE)(Hn,Object.assign(Object.assign({},a),{idxSelected:i}),{excludeExtraneousValues:!0}):a)],this.ticket=(0,oe.yE)(Uo,Object.assign(Object.assign({},this.ticket),{departJourneys:[this.dataJourney[0]],arriveJourneys:[this.dataJourney[1]]}),{excludeExtraneousValues:!0}),this.ticketChange.emit(this.ticket)}getStopList(e){const i=[];for(let a=1;a<e.length;a++)i.push({airport:"VN"===e[a].airline?e[a].arrival.airport.code:e[a].departure.airport.code,duration:e[a].durationStr});return i}getTotalAmountByType(e,i){const a=null==e?void 0:e.find(c=>c.type===i);return a?a.getTotalCharge:0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(wt._h))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-detail-option"]],inputs:{ticket:"ticket",searchData:"searchData",showTotalPrice:"showTotalPrice"},outputs:{ticketChange:"ticketChange"},standalone:!0,features:[t.TTD,t.jDz],decls:2,vars:1,consts:[[1,"p-4","bg-white","flex","gap-4","w-full"],["class","flex-1 flex flex-col gap-4",4,"ngFor","ngForOf"],[1,"flex-1","flex","flex-col","gap-4"],[1,"flex","gap-x-3","items-center","bg-neutral-gray-1","py-2.5","px-4","rounded-md","md:hidden"],[1,"w-[48px]","h-[24px]","object-contain",3,"src","alt"],[1,"text-express-sm","text-neutral-gray-6"],["class","flex px-4 py-[18px] rounded-lg border border-neutral-gray-3 justify-between items-center cursor-pointer md:p-3",3,"border-secondary-3-4","md:justify-center","md:gap-x-4","bg-secondary-3-1","click",4,"ngFor","ngForOf"],[1,"flex","px-4","py-[18px]","rounded-lg","border","border-neutral-gray-3","justify-between","items-center","cursor-pointer","md:p-3",3,"click"],[1,"flex","flex-col","items-start","relative","md:hidden"],[1,"text-express-sm","text-neutral-gray-6","whitespace-nowrap","relative"],["class","font-medium leading-[8px] absolute text-express-xs text-neutral-gray-4 right-0 -top-2 translate-x-full cursor-pointer p-1 rounded bg-neutral-gray-1",3,"cfTooltip",4,"ngIf"],[1,"text-body-sm","text-neutral-gray-4","whitespace-nowrap"],[1,"flex","flex-col","items-start","justify-center","md:hidden"],["class","text-express-sm text-neutral-gray-6 whitespace-nowrap",4,"ngIf"],["class","flex items-center gap-x-1",4,"ngIf"],["class","flex flex-col items-end justify-center",4,"ngIf"],[1,"font-medium","leading-[8px]","absolute","text-express-xs","text-neutral-gray-4","right-0","-top-2","translate-x-full","cursor-pointer","p-1","rounded","bg-neutral-gray-1",3,"cfTooltip"],[1,"text-express-sm","text-neutral-gray-6","whitespace-nowrap"],[1,"flex","items-center","gap-x-1"],["icon","plane","size","small"],[1,"text-body-sm","text-neutral-gray-6"],[1,"text-body-sm","text-neutral-gray-4"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","items-end","justify-center"],[1,"flex","gap-x-2","items-center"],["class","flex items-center justify-center text-express-sm text-neutral-gray-6 bg-neutral-gray-1 py-0.5 px-1 rounded",4,"ngIf"],[1,"flex","items-center","justify-center","text-express-sm","text-neutral-gray-6","bg-neutral-gray-1","py-0.5","px-1","rounded"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Rh,9,15,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",i.dataJourney))},dependencies:[g.ez,g.sg,g.O5,g.JJ,g.uU,et.q,v.AxE,v.Sm8,to.Lk,it],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();function qh(n,o){1&n&&(t.TgZ(0,"div",37),t._uU(1," R\u1ebb nh\u1ea5t "),t.qZA())}function Uh(n,o){1&n&&(t.TgZ(0,"div",38),t._uU(1," T\u1ed1t nh\u1ea5t"),t.qZA())}function Mh(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.ALo(3,"async"),t.qZA()),2&n){const e=o.ngIf;t.xp6(1),t.hij(" c\xf2n ",t.xi3(2,1,t.lcZ(3,4,e),"m")," ph\xfat")}}function Jh(n,o){if(1&n&&(t.TgZ(0,"div",39),t._UZ(1,"cf-icon",40),t.TgZ(2,"div"),t._uU(3,"NDC "),t.YNc(4,Mh,4,6,"span",41),t.ALo(5,"mapper"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",t.xi3(5,1,e.ticket,e.ndcTimeLimitCountDown$))}}function jh(n,o){1&n&&(t.TgZ(0,"div",39),t._UZ(1,"cf-icon",40),t.TgZ(2,"div"),t._uU(3,"LCC"),t.qZA()())}function Yh(n,o){1&n&&(t.TgZ(0,"div",39),t._UZ(1,"cf-icon",42),t.TgZ(2,"div"),t._uU(3,"Private Fare"),t.qZA()())}function Qh(n,o){1&n&&(t.TgZ(0,"div",43)(1,"div"),t._uU(2,"Gi\xe1 ri\xeang cho kh\xe1ch qu\u1ed1c t\u1ecbch Vi\u1ec7t Nam"),t.qZA()())}function Hh(n,o){if(1&n&&(t.TgZ(0,"div",39),t._UZ(1,"cf-icon",40),t.TgZ(2,"div"),t._uU(3),t.ALo(4,"mapper"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(t.xi3(4,1,e.searchData,e.getPaxTypeDisplay))}}function Gh(n,o){if(1&n&&(t.TgZ(0,"div",3)(1,"div",32),t.YNc(2,qh,2,0,"div",33),t.YNc(3,Uh,2,0,"div",34),t.YNc(4,Jh,6,4,"div",35),t.YNc(5,jh,4,0,"div",35),t.YNc(6,Yh,4,0,"div",35),t.YNc(7,Qh,3,0,"div",36),t.YNc(8,Hh,5,4,"div",35),t.ALo(9,"mapper"),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.ticket.cheapest),t.xp6(1),t.Q6J("ngIf",e.ticket.bestChoice),t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].isNdcFare),t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].isLccFare),t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].privateFare),t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].vfrFare),t.xp6(1),t.Q6J("ngIf",(e.ticket.departJourneys[0].is1A||e.ticket.departJourneys[0].is1G)&&t.xi3(9,7,e.searchData,e.getPaxTypeDisplay))}}function Kh(n,o){1&n&&t._UZ(0,"div",46)}function $h(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",44),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,c=t.oxw();return t.KtG(c.onChangeMode(a.key))}),t._uU(1),t.ALo(2,"mapper"),t.YNc(3,Kh,1,0,"div",45),t.qZA()}if(2&n){const e=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.hij(" ","option"===e.key?e.key===i.mode?e.value:"+"+t.xi3(2,2,i.ticket,i.countOrderOption)+" l\u1ef1a ch\u1ecdn kh\xe1c":e.value," "),t.xp6(2),t.Q6J("ngIf",e.key===i.mode)}}function Vh(n,o){if(1&n&&(t.ynx(0),t.YNc(1,$h,4,5,"div",11),t.ALo(2,"mapper"),t.BQk()),2&n){const e=o.$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngIf",!("option"===e.key&&!t.xi3(2,1,i.ticket,i.countOrderOption)))}}function zh(n,o){1&n&&t._UZ(0,"div",46)}function Wh(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",44),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onChangeMode("option"))}),t._uU(1),t.ALo(2,"mapper"),t.YNc(3,zh,1,0,"div",45),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.hij(" ","option"===e.mode?"\u1ea8n t\u1ea5t c\u1ea3 l\u1ef1a ch\u1ecdn":"+"+t.xi3(2,2,e.ticket,e.countOrderOption)+" l\u1ef1a ch\u1ecdn kh\xe1c"," "),t.xp6(2),t.Q6J("ngIf","option"===e.mode)}}function Xh(n,o){if(1&n&&(t.TgZ(0,"div",47)(1,"div",48),t._uU(2),t.ALo(3,"replace"),t.ALo(4,"number"),t.ALo(5,"mapper"),t.qZA(),t.TgZ(6,"div",49),t._uU(7),t.ALo(8,"replace"),t.ALo(9,"number"),t.ALo(10,"mapper"),t.ALo(11,"mapper"),t.qZA()()),2&n){const e=t.oxw();let i,a;t.xp6(2),t.hij(" ",t.Dn7(3,2,t.lcZ(4,6,null!=(i=e.viewConfig)&&i.showTotalPrice?t.xi3(5,8,e.ticketPriceList,e.sumPriceTicket):e.ticket.totalPrice),",",".")," \u0111 "),t.xp6(5),t.hij(" ",t.Dn7(8,11,t.lcZ(9,15,null!=(a=e.viewConfig)&&a.showTotalPrice?t.xi3(10,17,e.ticketPriceList,e.sumPriceTicketHasDiscount):t.xi3(11,20,e.ticketPriceList,e.sumPriceNoShowTotal)),",",".")," \u0111 ")}}function tm(n,o){if(1&n&&(t.TgZ(0,"div",50)(1,"div",49),t._uU(2),t.ALo(3,"replace"),t.ALo(4,"number"),t.ALo(5,"mapper"),t.qZA()()),2&n){const e=t.oxw();let i;t.xp6(2),t.hij(" ",t.Dn7(3,1,t.lcZ(4,5,null!=(i=e.viewConfig)&&i.showTotalPrice?t.xi3(5,7,e.ticketPriceList,e.sumPriceTicket):e.ticket.totalPrice),",",".")," \u0111 ")}}function em(n,o){1&n&&(t.ynx(0),t.TgZ(1,"div",51)(2,"button",52),t._uU(3," H\u1ebft ch\u1ed7 "),t.qZA()(),t.BQk()),2&n&&(t.xp6(1),t.Q6J("cfTooltip","Chuy\u1ebfn bay \u0111\xe3 h\u1ebft ch\u1ed7"),t.xp6(1),t.Q6J("disabled",!0))}function nm(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",53),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onTicketSelected())}),t._uU(1," Ch\u1ecdn "),t.qZA()}}function im(n,o){if(1&n&&(t.TgZ(0,"div",61),t._UZ(1,"btc-ticket-detail-item",62)(2,"btc-ticket-detail-item",62),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ticket",e.ticket.departJourneys[0])("isShowTrip",!0),t.xp6(1),t.Q6J("ticket",e.ticket.arriveJourneys[0])("isShowTrip",!0)}}function om(n,o){if(1&n&&t._UZ(0,"btc-ticket-info-item",63),2&n){const e=t.oxw(2);t.Q6J("ticketPriceList",e.ticketPriceList)("fareBasisInfos",e.fareBasisInfos)}}function rm(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"btc-ticket-detail-option",64),t.NdJ("ticketChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.ticket=a)})("ticketChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.ticketChangeOption(a))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ticket",e.ticket)}}function am(n,o){if(1&n&&t._UZ(0,"btc-ticket-rule-item",65),2&n){const e=t.oxw(2);t.Q6J("journeyInfo",e.journeyInfo)("fareRule",e.ticket.fareRulesObj)("isLoadingFareRule",e.isLoadingFareRule)}}function sm(n,o){1&n&&t._UZ(0,"div")}function cm(n,o){if(1&n&&(t.TgZ(0,"div",54),t.ynx(1,55),t.YNc(2,im,3,4,"div",56),t.YNc(3,om,1,2,"btc-ticket-info-item",57),t.YNc(4,rm,1,1,"btc-ticket-detail-option",58),t.YNc(5,am,1,3,"btc-ticket-rule-item",59),t.YNc(6,sm,1,0,"div",60),t.BQk(),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngSwitch",e.mode),t.xp6(1),t.Q6J("ngSwitchCase","flight"),t.xp6(1),t.Q6J("ngSwitchCase","ticket"),t.xp6(1),t.Q6J("ngSwitchCase","option"),t.xp6(1),t.Q6J("ngSwitchCase","rule")}}function lm(n,o){1&n&&(t.TgZ(0,"div",69),t._uU(1," R\u1ebb nh\u1ea5t "),t.qZA())}function um(n,o){1&n&&(t.TgZ(0,"div",70),t._uU(1," T\u1ed1t nh\u1ea5t"),t.qZA())}function dm(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.ALo(3,"async"),t.qZA()),2&n){const e=o.ngIf;t.xp6(1),t.hij(" c\xf2n ",t.xi3(2,1,t.lcZ(3,4,e),"m")," ph\xfat")}}function pm(n,o){if(1&n&&(t.TgZ(0,"div",39),t._UZ(1,"cf-icon",40),t.TgZ(2,"div"),t._uU(3,"NDC "),t.YNc(4,dm,4,6,"span",41),t.ALo(5,"mapper"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",t.xi3(5,1,e.ticket,e.ndcTimeLimitCountDown$))}}function gm(n,o){1&n&&(t.TgZ(0,"div",39),t._UZ(1,"cf-icon",40),t.TgZ(2,"div"),t._uU(3,"LCC"),t.qZA()())}function fm(n,o){if(1&n&&(t.TgZ(0,"div",39),t._UZ(1,"cf-icon",40),t.TgZ(2,"div"),t._uU(3),t.ALo(4,"mapper"),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(t.xi3(4,1,e.searchData,e.getPaxTypeDisplay))}}function _m(n,o){if(1&n&&(t.TgZ(0,"div",66),t.YNc(1,lm,2,0,"div",67),t.YNc(2,um,2,0,"div",68),t.YNc(3,pm,6,4,"div",35),t.YNc(4,gm,4,0,"div",35),t.YNc(5,fm,5,4,"div",35),t.ALo(6,"mapper"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ticket.cheapest),t.xp6(1),t.Q6J("ngIf",e.ticket.bestChoice),t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].isNdcFare),t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].isLccFare),t.xp6(1),t.Q6J("ngIf",(e.ticket.departJourneys[0].is1A||e.ticket.departJourneys[0].is1G)&&t.xi3(6,5,e.searchData,e.getPaxTypeDisplay))}}function hm(n,o){1&n&&(t.TgZ(0,"div",77),t._uU(1," Bay th\u1eb3ng "),t.qZA())}function mm(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(2),t.AsE("",e.delaySt," t\u1ea1i ",e.stopPoint,"")}}function vm(n,o){if(1&n&&t.YNc(0,mm,3,2,"ng-container",10),2&n){const e=t.oxw(2).$implicit;t.Q6J("ngForOf",e.segments)}}function xm(n,o){if(1&n&&(t.TgZ(0,"div",91,92),t._uU(2),t.YNc(3,vm,1,1,"ng-template",null,93,t.W1O),t.qZA()),2&n){const e=t.MAs(4),i=t.oxw().$implicit;t.Q6J("placement","bottomCenter")("cfTooltip",e),t.xp6(2),t.hij(" ",i.numOfStops," \u0111i\u1ec3m d\u1eebng ")}}function ym(n,o){if(1&n&&(t.TgZ(0,"div",94)(1,"span",95,92),t._uU(3),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("placement","topCenter")("cfTooltip","C\xf2n "+((null==e.fareCur?null:e.fareCur.seatRemain)||0)+" ch\u1ed7 tr\u1ed1ng"),t.xp6(2),t.Oqu(null==e.fareCur?null:e.fareCur.seatRemain)}}function Cm(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij("\xa0(",null==e.fareCur?null:e.fareCur.fareClass,")")}}function bm(n,o){if(1&n&&(t.TgZ(0,"span")(1,"span",96),t._uU(2),t.qZA(),t.YNc(3,Cm,2,1,"span",41),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(null==e.fareCur?null:e.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.fareCur?null:e.fareCur.fareClass)}}function Tm(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij("H\u1ea1ng ch\u1ed7: ",null==e.fareCur?null:e.fareCur.fareClass,"")}}function Em(n,o){if(1&n&&t.YNc(0,Tm,2,1,"span",41),2&n){const e=t.oxw().$implicit;t.Q6J("ngIf",null==e.fareCur?null:e.fareCur.fareClass)}}function km(n,o){1&n&&t._UZ(0,"cf-icon",103)}function Am(n,o){1&n&&t._UZ(0,"cf-icon",104)}function Dm(n,o){1&n&&t._UZ(0,"cf-icon",105)}function wm(n,o){1&n&&t._UZ(0,"cf-icon",106)}function Bm(n,o){if(1&n&&(t.TgZ(0,"div",97),t.ynx(1),t.TgZ(2,"div",98),t.YNc(3,km,1,0,"cf-icon",99),t.YNc(4,Am,1,0,"cf-icon",100),t.YNc(5,Dm,1,0,"cf-icon",101),t.YNc(6,wm,1,0,"cf-icon",102),t.qZA(),t.BQk(),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",null==e.bookedInfo?null:e.bookedInfo.checkedBaggage),t.xp6(1),t.Q6J("ngIf",null==e.bookedInfo?null:e.bookedInfo.handBaggage),t.xp6(1),t.Q6J("ngIf",e.food),t.xp6(1),t.Q6J("ngIf",e.refundableFare)}}function Zm(n,o){if(1&n&&(t.TgZ(0,"div",71)(1,"div",72)(2,"div",73),t._UZ(3,"img",74),t.qZA(),t.TgZ(4,"div",75)(5,"div",76),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"div",77),t._uU(9),t.qZA()(),t.TgZ(10,"div",78)(11,"div",79),t._uU(12),t.qZA(),t.TgZ(13,"div",80),t._UZ(14,"div",81)(15,"div",82),t.qZA(),t.YNc(16,hm,2,0,"div",83),t.YNc(17,xm,5,3,"div",84),t.qZA(),t.TgZ(18,"div",75)(19,"div",76),t._uU(20),t.ALo(21,"date"),t.qZA(),t.TgZ(22,"div",77),t._uU(23),t.qZA()()(),t.TgZ(24,"div",85)(25,"div",86),t.YNc(26,ym,4,3,"div",87),t.TgZ(27,"div",88),t.YNc(28,bm,4,2,"span",16),t.YNc(29,Em,1,1,"ng-template",null,89,t.W1O),t.qZA()(),t.YNc(31,Bm,7,4,"div",90),t.qZA()()),2&n){const e=o.$implicit,i=t.MAs(30);t.xp6(3),t.Q6J("src",e.logoAirline,t.LSH),t.xp6(3),t.Oqu(t.xi3(7,12,e.departure.localTime,"HH:mm")),t.xp6(3),t.Oqu(e.startPoint),t.xp6(3),t.Oqu(e.durationStr),t.xp6(4),t.Q6J("ngIf",0===e.numOfStops),t.xp6(1),t.Q6J("ngIf",e.numOfStops>0),t.xp6(3),t.Oqu(t.xi3(21,15,e.arrival.localTime,"HH:mm")),t.xp6(3),t.Oqu(e.endPoint),t.xp6(3),t.Q6J("ngIf","GDS"!==e.provider&&"BSP"!==e.provider&&"FLY_ONE"!==e.provider),t.xp6(2),t.Q6J("ngIf",(null==e.fareCur?null:e.fareCur.cabinName)&&"null"!=(null==e.fareCur?null:e.fareCur.cabinName))("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",e.fareRuleClassesData||e.refundableFare||e.food||e.bookedInfo)}}function Im(n,o){if(1&n&&(t.TgZ(0,"div",47)(1,"div",48),t._uU(2),t.ALo(3,"replace"),t.ALo(4,"number"),t.ALo(5,"mapper"),t.qZA(),t.TgZ(6,"div",76),t._uU(7),t.ALo(8,"replace"),t.ALo(9,"number"),t.ALo(10,"mapper"),t.qZA()()),2&n){const e=t.oxw();let i,a;t.xp6(2),t.hij(" ",t.Dn7(3,2,t.lcZ(4,6,null!=(i=e.viewConfig)&&i.showTotalPrice?t.xi3(5,8,e.ticketPriceList,e.sumPriceTicket):e.ticket.totalPrice),",",".")," \u0111 "),t.xp6(5),t.hij(" ",t.Dn7(8,11,t.lcZ(9,15,null!=(a=e.viewConfig)&&a.showTotalPrice?e.ticket.totalPrice:t.xi3(10,17,e.ticketPriceList,e.sumPriceTicketHasDiscount)),",",".")," \u0111 ")}}function Sm(n,o){if(1&n&&(t.TgZ(0,"div",50)(1,"div",76),t._uU(2),t.ALo(3,"replace"),t.ALo(4,"number"),t.ALo(5,"mapper"),t.qZA()()),2&n){const e=t.oxw();let i;t.xp6(2),t.hij(" ",t.Dn7(3,1,t.lcZ(4,5,null!=(i=e.viewConfig)&&i.showTotalPrice?t.xi3(5,7,e.ticketPriceList,e.sumPriceTicket):e.ticket.totalPrice),",",".")," \u0111 ")}}function Fm(n,o){1&n&&(t.ynx(0),t.TgZ(1,"div",51)(2,"button",107),t._uU(3," H\u1ebft ch\u1ed7 "),t.qZA()(),t.BQk()),2&n&&(t.xp6(1),t.Q6J("cfTooltip","Chuy\u1ebfn bay \u0111\xe3 h\u1ebft ch\u1ed7"),t.xp6(1),t.Q6J("disabled",!0))}function Nm(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",53),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onTicketSelected())}),t._uU(1," Ch\u1ecdn "),t.qZA()}}const Om=function(n){return{"!text-secondary-3-4 !bg-secondary-3-1 !border-secondary-3-4":n}};function Pm(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",112),t.NdJ("click",function(){const c=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.onChangeMode(c.key))}),t._uU(1),t.qZA()}if(2&n){const e=o.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.VKq(2,Om,e.key===i.mode)),t.xp6(1),t.hij(" ",e.valueMobile," ")}}function Rm(n,o){if(1&n&&(t.TgZ(0,"div",114),t._UZ(1,"btc-ticket-detail-item",62)(2,"btc-ticket-detail-item",62),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ticket",e.ticket.departJourneys[0])("isShowTrip",!0),t.xp6(1),t.Q6J("ticket",e.ticket.arriveJourneys[0])("isShowTrip",!0)}}function Lm(n,o){if(1&n&&t._UZ(0,"btc-ticket-info-item",63),2&n){const e=t.oxw(3);t.Q6J("ticketPriceList",e.ticketPriceList)("fareBasisInfos",e.fareBasisInfos)}}function qm(n,o){if(1&n&&t._UZ(0,"btc-ticket-rule-item",65),2&n){const e=t.oxw(3);t.Q6J("journeyInfo",e.journeyInfo)("fareRule",e.ticket.fareRulesObj)("isLoadingFareRule",e.isLoadingFareRule)}}function Um(n,o){1&n&&t._UZ(0,"div")}function Mm(n,o){if(1&n&&(t.TgZ(0,"div",54)(1,"ngcontainer",55),t.YNc(2,Rm,3,4,"div",113),t.YNc(3,Lm,1,2,"btc-ticket-info-item",57),t.YNc(4,qm,1,3,"btc-ticket-rule-item",59),t.YNc(5,Um,1,0,"div",60),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngSwitch",e.mode),t.xp6(1),t.Q6J("ngSwitchCase","flight"),t.xp6(1),t.Q6J("ngSwitchCase","ticket"),t.xp6(1),t.Q6J("ngSwitchCase","rule")}}function Jm(n,o){if(1&n&&(t.TgZ(0,"div",108)(1,"div",109),t.YNc(2,Pm,2,4,"div",110),t.qZA(),t.TgZ(3,"div",111),t.YNc(4,Mm,6,4,"div",18),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.modeOptions),t.xp6(2),t.Q6J("ngIf",e.mode)}}function jm(n,o){1&n&&(t.TgZ(0,"div",118),t._UZ(1,"cf-icon",119),t.TgZ(2,"div"),t._uU(3,"GDS"),t.qZA()())}function Ym(n,o){1&n&&(t.TgZ(0,"div",118),t._UZ(1,"cf-icon",119),t.TgZ(2,"div"),t._uU(3,"1A"),t.qZA()())}function Qm(n,o){1&n&&(t.TgZ(0,"div",118),t._UZ(1,"cf-icon",119),t.TgZ(2,"div"),t._uU(3,"1G"),t.qZA()())}function Hm(n,o){1&n&&(t.TgZ(0,"div",118),t._UZ(1,"cf-icon",120),t.TgZ(2,"div"),t._uU(3,"ST"),t.qZA()())}function Gm(n,o){if(1&n&&(t.TgZ(0,"div",116),t.YNc(1,jm,4,0,"div",117),t.YNc(2,Ym,4,0,"div",117),t.YNc(3,Qm,4,0,"div",117),t.YNc(4,Hm,4,0,"div",117),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].isGDS),t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].is1A),t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].is1G),t.xp6(1),t.Q6J("ngIf","ST"===e.ticket.provider)}}function Km(n,o){if(1&n&&t.YNc(0,Gm,5,4,"div",115),2&n){const e=t.oxw();t.Q6J("ngIf",e.ticket.departJourneys[0].is1A||e.ticket.departJourneys[0].is1G||e.ticket.departJourneys[0].isGDS||"ST"===e.ticket.provider)}}const $m=function(n,o){return[n,o]};let Vm=(()=>{class n{constructor(e,i,a,c,u){this._helperSvc=e,this.bottomSheetService=i,this._getFareRulesBtcService=a,this._cdr=c,this.locationDataSvc=u,this.ticketChange=new t.vpe,this.chooseTicketCombo=new t.vpe,this.ticketPriceList=[],this.fareBasisInfos=[],this.isLoadingFareRule=!1,this.modeOptions=(0,Se.cloneDeep)(Dn.Mf),this.mode="",this.getPaxTypeDisplay=d=>{var f;return(null===(f=null==Dn.S?void 0:Dn.S.find(_=>_.value&&_.value===d.journey[0].paxType))||void 0===f?void 0:f.name)||""},this.ndcTimeLimitCountDown$=d=>{let f=0;return(0,Pa.H)(0,1e3).pipe((0,Be.U)(()=>{var _;return f++,1e3*(((null===(_=d.departJourneys[0].fareCur)||void 0===_?void 0:_.ndcTimeLimit)||0)-f)}),(0,Ra.o)(_=>_>=0))},this.countOrderOption=d=>d.arriveJourneys[0].fareOptions.length+d.departJourneys[0].fareOptions.length-2,this.adultDiscountAmount=d=>{var f;return(null===(f=d.find(_=>_.type.includes("ADT")))||void 0===f?void 0:f.discountAmount)||0},this.sumPriceTicketHasDiscount=d=>d.reduce((f,_)=>f+(_.totalFare-_.discountAmount*_.quantity),0),this.sumPriceTicket=d=>d.reduce((f,_)=>f+_.totalFare,0),this.sumPriceNoShowTotal=d=>d.reduce((f,_)=>f+("ADT"===_.code?_.totalFare/_.quantity-_.discountAmount:0),0),this.getLocationData=d=>this.locationDataSvc.getCityNameByCode(d)}ngOnChanges(e){e.ticket&&e.ticket.currentValue&&(this.journeyInfo=this.isAirLineInternational?["VJ","QH","VU"].includes(this.ticket.provider)?{journeyInfo:[]}:{journeyInfo:[{bookingCode:"",journeyKey:this.ticket.departJourneys[0].journeyKey,provider:this.ticket.departJourneys[0].provider},{bookingCode:"",journeyKey:this.ticket.arriveJourneys[0].journeyKey,provider:this.ticket.arriveJourneys[0].provider}]}:{journeyInfo:[{bookingCode:"",journeyKey:this.ticket.departJourneys[0].key,provider:this.ticket.departJourneys[0].provider},{bookingCode:"",journeyKey:this.ticket.arriveJourneys[0].key,provider:this.ticket.arriveJourneys[0].provider}]},this.progressDataForDetailItem([this.ticket.departJourneys[0],this.ticket.arriveJourneys[0]]))}ngOnInit(){var e;this.ticketPriceList.length||this.progressDataForDetailItem([this.ticket.departJourneys[0],this.ticket.arriveJourneys[0]]),((null===(e=this.fareBasisInfos)||void 0===e||!e.length)&&this.ticket.departJourneys[0].is1A||this.ticket.arriveJourneys[0].is1G||this.ticket.departJourneys[0].is1A&&this.ticket.arriveJourneys[0].isGDS)&&this.progressDateFareBasisInfos([this.ticket.departJourneys[0],this.ticket.arriveJourneys[0]])}onTicketSelected(){this.ticket&&this.chooseTicketCombo.emit(this.ticket)}onChangeMode(e){this.mode=this.mode===e?"":e,"rule"===this.mode&&this.isAirLineInternational&&this.getFareRule()}getFareRule(){var e,i,a,c,u,d,f,_;if(this.ticket=(0,oe.yE)(Uo,Object.assign(Object.assign({},this.ticket),{fareRulesObj:{},fareRule:[]}),{excludeExtraneousValues:!0}),["VJ","QH","VU"].includes(this.ticket.provider)){this.isLoadingFareRule=!0;const m={airline:this.ticket.provider,fareBasic:(null===(e=this.ticket.departJourneys[0].fareCur)||void 0===e?void 0:e.fareName)||"",fareClass:(null===(i=this.ticket.departJourneys[0].fareCur)||void 0===i?void 0:i.fareClass)||"",fareType:(null===(a=this.ticket.departJourneys[0].fareCur)||void 0===a?void 0:a.fareCode)||"",startPoint:this.ticket.departJourneys[0].departure.airport.code,endPoint:this.ticket.departJourneys[0].arrival.airport.code,transitFlag:!(null===(c=this.ticket.departJourneys[0].fareCur)||void 0===c||!c.seatRemain),recaptcha:""},x={airline:this.ticket.provider,fareBasic:(null===(u=this.ticket.arriveJourneys[0].fareCur)||void 0===u?void 0:u.fareName)||"",fareClass:(null===(d=this.ticket.arriveJourneys[0].fareCur)||void 0===d?void 0:d.fareClass)||"",fareType:(null===(f=this.ticket.arriveJourneys[0].fareCur)||void 0===f?void 0:f.fareCode)||"",startPoint:this.ticket.arriveJourneys[0].departure.airport.code,endPoint:this.ticket.arriveJourneys[0].arrival.airport.code,transitFlag:!(null===(_=this.ticket.arriveJourneys[0].fareCur)||void 0===_||!_.seatRemain),recaptcha:""};(0,Mf.D)([this._getFareRulesBtcService.getFareRuleInternational(m),this._getFareRulesBtcService.getFareRuleInternational(x)]).subscribe({next:E=>{var Z,D;"OK"===E[0].status&&"OK"===E[1].status&&(null===(Z=E[0].data)||void 0===Z?void 0:Z.length)>0&&(null===(D=E[1].data)||void 0===D?void 0:D.length)>0&&(this.ticket=(0,oe.yE)(Uo,Object.assign(Object.assign({},this.ticket),{departJourneys:[...this.ticket.departJourneys.map(P=>{var R,$;return Object.assign(Object.assign({},P),{fareRulesObj:{[P.IDF]:[{airline:P.provider,fareClass:(null===(R=P.fareCur)||void 0===R?void 0:R.fareClass)||"",cateCode:"INTERNATIONAL",desc:{en:"",vn:`Chuy\u1ebfn bay ${this.getLocationData(P.departure.airport.code)} - ${this.getLocationData(P.arrival.airport.code)}`},items:null===($=E[0].data[0])||void 0===$?void 0:$.listConditions.map(Q=>({name:Q.name,value:Q.value.replace(/&emsp;/g,""),cateCode:Q.cateCode}))}]}})})],arriveJourneys:[...this.ticket.arriveJourneys.map(P=>{var R,$;return Object.assign(Object.assign({},P),{fareRulesObj:{[P.IDF]:[{airline:P.provider,fareClass:(null===(R=P.fareCur)||void 0===R?void 0:R.fareClass)||"",cateCode:"INTERNATIONAL",desc:{en:"",vn:`Chuy\u1ebfn bay ${this.getLocationData(P.departure.airport.code)} - ${this.getLocationData(P.arrival.airport.code)}`},items:null===($=E[1].data[0])||void 0===$?void 0:$.listConditions.map(Q=>({name:Q.name,value:Q.value.replace(/&emsp;/g,""),cateCode:Q.cateCode}))}]}})})],fareRulesObj:E.map((P,R)=>{var $,Q;return{airline:this.ticket[0===R?"departJourneys":"arriveJourneys"][0].provider,fareClass:(null===($=this.ticket[0===R?"departJourneys":"arriveJourneys"][0].fareCur)||void 0===$?void 0:$.fareClass)||"",cateCode:"INTERNATIONAL",desc:{en:"",vn:`Chuy\u1ebfn bay ${this.getLocationData(this.ticket[0===R?"departJourneys":"arriveJourneys"][0].departure.airport.code)} - ${this.getLocationData(this.ticket[0===R?"departJourneys":"arriveJourneys"][0].arrival.airport.code)}`},items:null===(Q=P.data[0])||void 0===Q?void 0:Q.listConditions.map(X=>({name:X.name,value:X.value.replace(/&emsp;/g,""),cateCode:X.cateCode}))}})}),{excludeExtraneousValues:!0}))},error:E=>{console.error(E)},complete:()=>{this.isLoadingFareRule=!1,this._cdr.detectChanges()}})}}ticketChangeOption(e){e&&(this.progressDataForDetailItem([e.departJourneys[0],e.arriveJourneys[0]]),this.ticketChange.emit(e))}progressDataForDetailItem(e){this.ticketPriceList=[...this._helperSvc.progressPriceList(this.searchData,e)]}progressDateFareBasisInfos(e){this.fareBasisInfos=[],e.forEach(i=>{null==i||i.segments.forEach(a=>{var c,u;this.fareBasisInfos=[...this.fareBasisInfos,{airline:a.airline||"",airlineLogo:a.operating||"",startCode:a.startPoint||"",startPoint:a.departure.airport.code||"",endCode:a.endPoint||"",endPoint:a.arrival.airport.code||"",fareClass:(null===(c=i.fareCur)||void 0===c?void 0:c.fareClass)||"",fareBasis:(null===(u=i.fareCur)||void 0===u?void 0:u.fareInfos[0].fareType.description)||""}]})})}onTicketDetailMobile(e,i){e.stopPropagation(),this.mode="flight",this.bottomSheetService.open(i,{headerTitle:"Th\xf4ng tin chuy\u1ebfn bay",containerFullHeigh:!0,rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"}).containerInstance._rightButtonClick.subscribe(()=>{this.bottomSheetService.dismiss(),this.mode=""})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ai),t.Y36(I.a2),t.Y36(Jo),t.Y36(t.sBO),t.Y36(wt._h))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-ticket-combo-item"]],inputs:{ticket:"ticket",viewConfig:"viewConfig",searchData:"searchData",isAirLineInternational:"isAirLineInternational"},outputs:{ticketChange:"ticketChange",chooseTicketCombo:"chooseTicketCombo"},standalone:!0,features:[t.TTD,t.jDz],decls:51,vars:36,consts:[[1,"bg-white","pt-4","px-4","rounded-xl","shadow-lg","relative","md:hidden"],[3,"ngTemplateOutlet"],[1,"flex-1","flex","justify-between"],[1,"flex","flex-col","gap-4","w-full"],["class","flex flex-col gap-4 w-full",4,"ngIf"],[1,"flex","gap-3","w-full"],[1,"flex","flex-col","flex-1"],[3,"journey"],[1,"w-full","h-[1px]","bg-neutral-gray-1","my-4"],[1,"flex","text-espressive-sm","text-secondary-3-4","md:hidden"],[4,"ngFor","ngForOf"],["class","relative flex items-center mr-3 px-0.5 pb-4 pt-1.5 cursor-pointer",3,"click",4,"ngIf"],[1,"p-4","border-l","border-neutral-gray-1","flex","flex-col","justify-between","w-fit","md:hidden","items-end"],[1,"flex","flex-col","mb-3"],["class","flex gap-x-2 flex-col gap-4",4,"ngIf","ngIfElse"],["discountEmptyTpl",""],[4,"ngIf","ngIfElse"],["ticketSelectTpl",""],["class","border-t border-neutral-gray-1",4,"ngIf"],[1,"px-3","hidden","md:flex","flex-col"],[1,"w-full","rounded-lg","shadow-lg","relative"],[1,"bg-white","w-full","flex","justify-between","rounded-t-lg"],[1,"flex-1","flex"],[1,"flex","flex-col","gap-2","flex-1"],["class","flex justify-start gap-x-2 pt-3 pl-3",4,"ngIf"],[1,"divide-y","divide-dashed","divide-neutral-gray-3"],["class","flex flex-col p-3 gap-3 justify-between flex-1",4,"ngFor","ngForOf"],[1,"flex","flex-col","justify-between","min-w-[100px]","items-end","gap-2","pl-2","pr-3","pt-6","pb-3","border-l","border-neutral-gray-1"],[1,"flex","flex-col","mb-3","w-full"],[1,"w-full","rounded-b-lg","bg-blue-1","flex","text-center","justify-center","items-center","text-blue-4","py-[6px]","px-4","text-body-md","font-medium",3,"click"],["detailTicketMobileTpl",""],["tagProviderTpl",""],[1,"flex","justify-start","gap-x-2"],["class","py-0.5 px-1 bg-secondary-5-1 text-secondary-5-3 rounded text-express-sm flex items-center justify-center text-center",4,"ngIf"],["class","py-0.5 px-1 bg-secondary-3-1 text-secondary-3-4 rounded text-express-sm flex items-center justify-center text-center",4,"ngIf"],["class","px-2 py-1 bg-secondary-3-1 text-body-sm text-secondary-3-4 rounded flex gap-x-1 items-center",4,"ngIf"],["class","mt-2 px-2 py-1 bg-secondary-3-1 text-body-sm text-secondary-3-4 rounded flex gap-x-1 items-center",4,"ngIf"],[1,"py-0.5","px-1","bg-secondary-5-1","text-secondary-5-3","rounded","text-express-sm","flex","items-center","justify-center","text-center"],[1,"py-0.5","px-1","bg-secondary-3-1","text-secondary-3-4","rounded","text-express-sm","flex","items-center","justify-center","text-center"],[1,"px-2","py-1","bg-secondary-3-1","text-body-sm","text-secondary-3-4","rounded","flex","gap-x-1","items-center"],["icon","ticket","size","small",1,"md:hidden"],[4,"ngIf"],["icon","money","size","small"],[1,"mt-2","px-2","py-1","bg-secondary-3-1","text-body-sm","text-secondary-3-4","rounded","flex","gap-x-1","items-center"],[1,"relative","flex","items-center","mr-3","px-0.5","pb-4","pt-1.5","cursor-pointer",3,"click"],["class","absolute bottom-0 w-full h-[3px] bg-primary-2-3 rounded",4,"ngIf"],[1,"absolute","bottom-0","w-full","h-[3px]","bg-primary-2-3","rounded"],[1,"flex","gap-x-2","flex-col","gap-4"],[1,"visible","line-through","text-neutral-gray-4","text-body-sm","whitespace-nowrap","font-semibold"],[1,"text-heading-lg","md:text-body-md","md:font-semibold","text-neutral-black","whitespace-nowrap"],[1,"flex","items-center","gap-x-2"],["color","black",3,"cfTooltip"],["cf-button","","size","small","type","solid",1,"w-40","justify-center","py-[5px]","!bg-neutral-black","opacity-50",3,"disabled"],["cf-button","","size","small","color","primary-1","type","solid",1,"w-full","justify-center","py-[5px]",3,"click"],[1,"border-t","border-neutral-gray-1"],[3,"ngSwitch"],["class","pt-4 w-full",4,"ngSwitchCase"],[3,"ticketPriceList","fareBasisInfos",4,"ngSwitchCase"],[3,"ticket","ticketChange",4,"ngSwitchCase"],[3,"journeyInfo","fareRule","isLoadingFareRule",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"pt-4","w-full"],[3,"ticket","isShowTrip"],[3,"ticketPriceList","fareBasisInfos"],[3,"ticket","ticketChange"],[3,"journeyInfo","fareRule","isLoadingFareRule"],[1,"flex","justify-start","gap-x-2","pt-3","pl-3"],["class","py-0.5 px-1 bg-secondary-5-1 text-secondary-5-3 rounded text-express-sm",4,"ngIf"],["class","py-0.5 px-1 bg-secondary-3-1 text-secondary-3-4 rounded text-express-sm",4,"ngIf"],[1,"py-0.5","px-1","bg-secondary-5-1","text-secondary-5-3","rounded","text-express-sm"],[1,"py-0.5","px-1","bg-secondary-3-1","text-secondary-3-4","rounded","text-express-sm"],[1,"flex","flex-col","p-3","gap-3","justify-between","flex-1"],[1,"flex","gap-3"],[1,"flex-shrink-0","items-center","flex","flex-col","gap-[10px]","max-w-[36px]"],[1,"w-[36px]","h-[36px]","object-contain",3,"src"],[1,"flex","flex-col","text-center"],[1,"text-heading-xs","text-neutral-black","whitespace-nowrap"],[1,"text-express-xs","text-neutral-gray-4","whitespace-nowrap"],[1,"flex","flex-col","flex-1","items-center"],[1,"text-express-xs","text-neutral-gray-4"],[1,"flex-1","w-full","flex","items-center","justify-between"],[1,"flex-1","h-[1px]","bg-neutral-gray-4"],[1,"w-1","h-1","border-[2px]","border-t-neutral-gray-4","border-r-neutral-gray-4","border-b-transparent","border-l-transparent","rotate-45"],["class","text-express-xs text-neutral-gray-4 whitespace-nowrap",4,"ngIf"],["class","text-express-xs text-secondary-3-4 hover:text-secondary-7-4 cursor-default whitespace-nowrap",3,"placement","cfTooltip",4,"ngIf"],[1,"flex","flex-1","gap-2"],[1,"flex","gap-x-1","items-start"],["class","flex justify-end items-center gap-x-2",4,"ngIf"],[1,"text-express-sm","text-neutral-black","whitespace-nowrap"],["noncabinTemplate",""],["class","w-fit flex gap-2 hover:text-secondary-7-4",4,"ngIf"],[1,"text-express-xs","text-secondary-3-4","hover:text-secondary-7-4","cursor-default","whitespace-nowrap",3,"placement","cfTooltip"],["tooltip",""],["toolTipTemplate",""],[1,"flex","justify-end","items-center","gap-x-2"],[1,"text-espressive-sm","py-0.5","px-2","rounded-[4px]","bg-neutral-gray-1","cursor-default","hover:bg-secondary-7-1","hover:text-secondary-7-4",3,"placement","cfTooltip"],[1,"capitalize"],[1,"w-fit","flex","gap-2","hover:text-secondary-7-4"],[1,"flex","items-center","gap-x-3"],["icon","luggage","size","small",4,"ngIf"],["icon","office","size","small",4,"ngIf"],["icon","food","size","small",4,"ngIf"],["icon","profit","size","small",4,"ngIf"],["icon","luggage","size","small"],["icon","office","size","small"],["icon","food","size","small"],["icon","profit","size","small"],["cf-button","","size","small","type","solid",1,"w-[82px]","justify-center","py-[5px]","!bg-neutral-black","opacity-50",3,"disabled"],[1,"w-full","h-full","flex","flex-col"],[1,"flex","text-espressive-md","gap-2","px-4","py-2"],["class","relative border flex font-medium items-center text-neutral-gray-4 px-4 py-1.5 border-white cursor-pointer rounded-full",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-4","bg-neutral-gray-1","h-full","overflow-y-scroll","gap-3","flex","flex-col"],[1,"relative","border","flex","font-medium","items-center","text-neutral-gray-4","px-4","py-1.5","border-white","cursor-pointer","rounded-full",3,"ngClass","click"],["class","w-full flex flex-col gap-3",4,"ngSwitchCase"],[1,"w-full","flex","flex-col","gap-3"],["class","flex justify-end absolute top-0 right-0",4,"ngIf"],[1,"flex","justify-end","absolute","top-0","right-0"],["class","flex gap-x-1 items-center py-1 px-2 bg-secondary-3-1 rounded-bl-lg text-secondary-3-4 text-body-sm",4,"ngIf"],[1,"flex","gap-x-1","items-center","py-1","px-2","bg-secondary-3-1","rounded-bl-lg","text-secondary-3-4","text-body-sm"],["icon","document","size","small",1,"md:hidden"],["icon","document","size","small"]],template:function(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"div",0),t.GkF(1,1),t.TgZ(2,"div",2)(3,"div",3),t.YNc(4,Gh,10,10,"div",4),t.ALo(5,"mapper"),t.TgZ(6,"div",5)(7,"div",6),t._UZ(8,"btc-ticket-combo-item-journey",7)(9,"div",8)(10,"btc-ticket-combo-item-journey",7),t.qZA()(),t.TgZ(11,"div",9),t.YNc(12,Vh,3,4,"ng-container",10),t.YNc(13,Wh,4,5,"div",11),t.ALo(14,"mapper"),t.qZA()(),t.TgZ(15,"div",12)(16,"div",13),t.YNc(17,Xh,12,23,"div",14),t.ALo(18,"mapper"),t.YNc(19,tm,6,10,"ng-template",null,15,t.W1O),t.qZA(),t.YNc(21,em,4,2,"ng-container",16),t.ynx(22),t.YNc(23,nm,2,0,"ng-template",null,17,t.W1O),t.BQk(),t.qZA()(),t.YNc(25,cm,7,5,"div",18),t.qZA(),t.TgZ(26,"div",19)(27,"div",20),t.GkF(28,1),t.TgZ(29,"div",21)(30,"div",22)(31,"div",23),t.YNc(32,_m,7,8,"div",24),t.ALo(33,"mapper"),t.TgZ(34,"div",25),t.YNc(35,Zm,32,18,"div",26),t.qZA()(),t.TgZ(36,"div",27)(37,"div",28),t.YNc(38,Im,11,20,"div",14),t.ALo(39,"mapper"),t.YNc(40,Sm,6,10,"ng-template",null,15,t.W1O),t.qZA(),t.YNc(42,Fm,4,2,"ng-container",16),t.YNc(43,Nm,2,0,"ng-template",null,17,t.W1O),t.qZA()()(),t.TgZ(45,"div",29),t.NdJ("click",function(u){t.CHM(a);const d=t.MAs(48);return t.KtG(i.onTicketDetailMobile(u,d))}),t._uU(46," Chi ti\u1ebft "),t.qZA()()(),t.YNc(47,Jm,5,2,"ng-template",null,30,t.W1O),t.YNc(49,Km,1,1,"ng-template",null,31,t.W1O)}if(2&e){const a=t.MAs(20),c=t.MAs(24),u=t.MAs(50);t.xp6(1),t.Q6J("ngTemplateOutlet",u),t.xp6(3),t.Q6J("ngIf",i.ticket.cheapest||i.ticket.bestChoice||i.ticket.departJourneys[0].isNdcFare||i.ticket.departJourneys[0].isLccFare||t.xi3(5,18,i.searchData,i.getPaxTypeDisplay)),t.xp6(4),t.Q6J("journey",i.ticket.departJourneys[0]),t.xp6(2),t.Q6J("journey",i.ticket.arriveJourneys[0]),t.xp6(2),t.Q6J("ngForOf",i.modeOptions),t.xp6(1),t.Q6J("ngIf",t.xi3(14,21,i.ticket,i.countOrderOption)),t.xp6(4),t.Q6J("ngIf",t.xi3(18,24,i.ticketPriceList,i.adultDiscountAmount))("ngIfElse",a),t.xp6(4),t.Q6J("ngIf",!(null!=i.ticket.departJourneys[0].fareCur&&i.ticket.departJourneys[0].fareCur.seatRemain&&null!=i.ticket.arriveJourneys[0].fareCur&&i.ticket.arriveJourneys[0].fareCur.seatRemain))("ngIfElse",c),t.xp6(4),t.Q6J("ngIf",i.mode),t.xp6(3),t.Q6J("ngTemplateOutlet",u),t.xp6(4),t.Q6J("ngIf",i.ticket.cheapest||i.ticket.bestChoice||i.ticket.departJourneys[0].isNdcFare||i.ticket.departJourneys[0].isLccFare||t.xi3(33,27,i.searchData,i.getPaxTypeDisplay)),t.xp6(3),t.Q6J("ngForOf",t.WLB(33,$m,i.ticket.departJourneys[0],i.ticket.arriveJourneys[0])),t.xp6(3),t.Q6J("ngIf",t.xi3(39,30,i.ticketPriceList,i.adultDiscountAmount))("ngIfElse",a),t.xp6(4),t.Q6J("ngIf",!(null!=i.ticket.departJourneys[0].fareCur&&i.ticket.departJourneys[0].fareCur.seatRemain&&null!=i.ticket.arriveJourneys[0].fareCur&&i.ticket.arriveJourneys[0].fareCur.seatRemain))("ngIfElse",c)}},dependencies:[g.ez,g.mk,g.sg,g.O5,g.tP,g.RF,g.n9,g.ED,g.Ov,g.JJ,g.uU,S.N8,S.Xq,v.AxE,v.Sm8,et.q,to.Lk,it,Xl,nu,Ah,Lh,ru],encapsulation:2}),n})();function zm(n,o){if(1&n&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.tabComboDetail.cheapest.price?t.lcZ(2,1,e.tabComboDetail.cheapest.price)+"\u0111 - "+e.tabComboDetail.cheapest.durationStr:"---"," ")}}function Wm(n,o){1&n&&t._UZ(0,"div",13)}function Xm(n,o){if(1&n&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.tabComboDetail.best.price?t.lcZ(2,1,e.tabComboDetail.best.price)+"\u20ab - "+e.tabComboDetail.best.durationStr:"---"," ")}}function tv(n,o){1&n&&t._UZ(0,"div",13)}function ev(n,o){if(1&n&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.tabComboDetail.fastest.price?t.lcZ(2,1,e.tabComboDetail.fastest.price)+"\u20ab - "+e.tabComboDetail.fastest.durationStr:"---"," ")}}function nv(n,o){1&n&&t._UZ(0,"div",13)}function iv(n,o){1&n&&t._UZ(0,"div",14)}function ov(n,o){1&n&&(t.O4$(),t.TgZ(0,"svg",20),t._UZ(1,"path",21),t.qZA())}function rv(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",17),t.NdJ("click",function(){const c=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.sortTypeChangeHandler(c.value))}),t.TgZ(1,"div",18),t.YNc(2,ov,2,0,"svg",19),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA()()}if(2&n){const e=o.$implicit,i=t.oxw(2);t.xp6(2),t.Q6J("ngIf",i.sortType===e.value),t.xp6(2),t.Oqu(e.label)}}function av(n,o){if(1&n&&(t.TgZ(0,"div",15),t.YNc(1,rv,5,2,"div",16),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.optionsSortType)}}let sv=(()=>{class n{constructor(e){this.cfIconRegister=e,this.sortTypeChange=new t.vpe,this.isOpen=!1,this.optionsSortType=[{value:"max_price",label:"Gi\xe1 (cao nh\u1ea5t)"},{value:"max_flight",label:"Bay (d\xe0i nh\u1ea5t)"},{value:"earliest_departure",label:"Kh\u1edfi h\xe0nh (S\u1edbm nh\u1ea5t)"},{value:"late_departure",label:"Kh\u1edfi h\xe0nh (Mu\u1ed9n nh\u1ea5t)"},{value:"earliest_arrival",label:"H\u1ea1 c\xe1nh (S\u1edbm nh\u1ea5t)"},{value:"late_arrival",label:"H\u1ea1 c\xe1nh (Mu\u1ed9n nh\u1ea5t)"}],this.findSortTypeByOptions=(i,a)=>{var c;return(null===(c=a.find(u=>u.value===i))||void 0===c?void 0:c.label)||"C\xe1c l\u1ef1a ch\u1ecdn kh\xe1c"},e.registerIcons([v.LdZ])}sortTypeChangeHandler(e){this.sortType=e,this.sortTypeChange.emit(e)}openSelectSort(e){e.stopPropagation(),this.isOpen=!this.isOpen}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.KNP))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-result-sort-combo"]],inputs:{sortType:"sortType",tabComboDetail:"tabComboDetail"},outputs:{sortTypeChange:"sortTypeChange"},standalone:!0,features:[t.jDz],decls:30,vars:16,consts:[[1,"w-full","bg-white","rounded-2xl","py-4","flex","justify-between","cursor-pointer","divide-x","divide-solid","divide-neutral-gray-1","h-fit"],[1,"w-[184px]","px-4","flex","flex-col","justify-between","relative",3,"click"],[1,"text-body-lg","font-semibold"],["class","text-body-md-short",4,"ngIf","ngIfElse"],["class","absolute -bottom-4 left-4 right-4 h-1 bg-red-4",4,"ngIf"],["cdkOverlayOrigin","",1,"flex-1","px-4","flex","flex-col","justify-between",3,"click"],["trigger","","originOverlay","cdkOverlayOrigin"],[1,"flex","gap-3","items-center"],[1,"flex","flex-col","justify-between"],[1,"text-body-md-short"],["icon","chevron_down","size","small"],["emptyTabComboItemTpl",""],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","overlayOutsideClick"],[1,"absolute","-bottom-4","left-4","right-4","h-1","bg-red-4"],[1,"w-28","bg-neutral-gray-2","h-4","mt-1","rounded-md","animate-pulse"],[1,"shadow-cf-lg","bg-neutral-white","rounded-lg","text-body-md","py-2","px-2","min-w-[232px]"],["class","bg-white py-3 px-3 flex items-center gap-x-2.5 hover:bg-neutral-gray-1 hover:cursor-pointer rounded-xl",3,"click",4,"ngFor","ngForOf"],[1,"bg-white","py-3","px-3","flex","items-center","gap-x-2.5","hover:bg-neutral-gray-1","hover:cursor-pointer","rounded-xl",3,"click"],[1,"w-4","h-4"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.7763 3.5019C14.0514 3.74651 14.0762 4.16789 13.8316 4.44308L6.7205 12.4431C6.59399 12.5854 6.41265 12.6668 6.22223 12.6668C6.0318 12.6668 5.85047 12.5854 5.72396 12.4431L2.1684 8.44308C1.92379 8.16789 1.94858 7.74651 2.22376 7.5019C2.49895 7.25728 2.92033 7.28207 3.16495 7.55726L6.22223 10.9967L12.8351 3.55726C13.0797 3.28207 13.5011 3.25729 13.7763 3.5019Z","fill","#2C2C2C"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return i.sortTypeChangeHandler("min_price")}),t.TgZ(2,"div",2),t._uU(3," R\u1ebb nh\u1ea5t "),t.qZA(),t.YNc(4,zm,3,3,"div",3),t.YNc(5,Wm,1,0,"div",4),t.qZA(),t.TgZ(6,"div",1),t.NdJ("click",function(){return i.sortTypeChangeHandler("best_choice")}),t.TgZ(7,"div",2),t._uU(8," T\u1ed1t nh\u1ea5t "),t.qZA(),t.YNc(9,Xm,3,3,"div",3),t.YNc(10,tv,1,0,"div",4),t.qZA(),t.TgZ(11,"div",1),t.NdJ("click",function(){return i.sortTypeChangeHandler("min_flight")}),t.TgZ(12,"div",2),t._uU(13," Nhanh nh\u1ea5t "),t.qZA(),t.YNc(14,ev,3,3,"div",3),t.YNc(15,nv,1,0,"div",4),t.qZA(),t.TgZ(16,"div",5,6),t.NdJ("click",function(c){return i.openSelectSort(c)}),t.TgZ(19,"div",7)(20,"div",8)(21,"div",2),t._uU(22," S\u1eafp x\u1ebfp kh\xe1c "),t.qZA(),t.TgZ(23,"div",9),t._uU(24),t.ALo(25,"mapper"),t.qZA()(),t._UZ(26,"cf-icon",10),t.qZA()()(),t.YNc(27,iv,1,0,"ng-template",null,11,t.W1O),t.YNc(29,av,2,1,"ng-template",12),t.NdJ("overlayOutsideClick",function(){return i.isOpen=!1})),2&e){const a=t.MAs(18),c=t.MAs(28);t.xp6(4),t.Q6J("ngIf",null==i.tabComboDetail?null:i.tabComboDetail.cheapest)("ngIfElse",c),t.xp6(1),t.Q6J("ngIf","min_price"===i.sortType),t.xp6(4),t.Q6J("ngIf",null==i.tabComboDetail?null:i.tabComboDetail.best)("ngIfElse",c),t.xp6(1),t.Q6J("ngIf","best_choice"===i.sortType),t.xp6(4),t.Q6J("ngIf",null==i.tabComboDetail?null:i.tabComboDetail.fastest)("ngIfElse",c),t.xp6(1),t.Q6J("ngIf","min_flight"===i.sortType),t.xp6(9),t.hij(" ",t.Dn7(25,12,i.sortType,i.findSortTypeByOptions,i.optionsSortType)," "),t.xp6(5),t.Q6J("cdkConnectedOverlayOrigin",a)("cdkConnectedOverlayOpen",i.isOpen)}},dependencies:[g.ez,g.sg,g.O5,g.JJ,v.AxE,v.Sm8,S.N8,et.q,r0.f,di.pI,di.xu],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();function cv(n,o){1&n&&t._UZ(0,"cf-icon",20)}function lv(n,o){1&n&&t._UZ(0,"cf-icon",21)}function uv(n,o){if(1&n&&(t.TgZ(0,"div",16)(1,"div",17),t._uU(2),t.ALo(3,"mapper"),t.YNc(4,cv,1,0,"cf-icon",18),t.YNc(5,lv,1,0,"cf-icon",19),t._uU(6),t.ALo(7,"mapper"),t.qZA()()),2&n){const e=t.oxw().ngIf,i=t.oxw();t.xp6(2),t.hij(" ",t.xi3(3,4,e.startPoint,i.convertCodeToCity)," "),t.xp6(2),t.Q6J("ngIf",1===i.searchData.journey.length),t.xp6(1),t.Q6J("ngIf",2===i.searchData.journey.length),t.xp6(1),t.hij(" ",t.xi3(7,7,e.endPoint,i.convertCodeToCity)," ")}}function dv(n,o){1&n&&(t.TgZ(0,"div",22),t._uU(1," T\xecm ki\u1ebfm h\xe0nh tr\xecnh "),t.qZA())}function pv(n,o){if(1&n&&(t.ynx(0),t._uU(1),t.ALo(2,"date"),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" - ",t.xi3(2,1,e.searchData.journey[1].departDate,"dd/MM/yyyy")," ")}}function gv(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"M\u1ed9t chi\u1ec1u"),t.qZA())}function fv(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"Kh\u1ee9 h\u1ed3i"),t.qZA())}function _v(n,o){if(1&n&&(t.ynx(0),t.YNc(1,gv,2,0,"div",12),t.YNc(2,fv,2,0,"div",12),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",1===e.searchData.journey.length),t.xp6(1),t.Q6J("ngIf",2===e.searchData.journey.length)}}function hv(n,o){1&n&&(t.TgZ(0,"div"),t._uU(1,"N/A"),t.qZA())}function mv(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",3),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.openSearchInputBottomSheet.emit())}),t.TgZ(1,"div",4),t.YNc(2,uv,8,10,"div",5),t.YNc(3,dv,2,0,"ng-template",null,6,t.W1O),t.TgZ(5,"div",7)(6,"div",8),t._uU(7," Thay \u0111\u1ed5i "),t.qZA(),t._UZ(8,"cf-icon",9),t.qZA()(),t.TgZ(9,"div",10)(10,"div",10)(11,"div",11),t._uU(12),t.ALo(13,"date"),t.YNc(14,pv,3,4,"ng-container",12),t.qZA()(),t._UZ(15,"div",13),t.TgZ(16,"div",11),t.YNc(17,_v,3,2,"ng-container",14),t.qZA(),t.YNc(18,hv,2,0,"ng-template",null,15,t.W1O),t.qZA()()}if(2&n){const e=o.ngIf,i=t.MAs(4),a=t.MAs(19),c=t.oxw();t.xp6(2),t.Q6J("ngIf",e.startPoint||e.endPoint)("ngIfElse",i),t.xp6(10),t.hij(" ",t.xi3(13,6,e.departDate,"dd/MM/yyyy")," "),t.xp6(2),t.Q6J("ngIf",2===c.searchData.journey.length),t.xp6(3),t.Q6J("ngIf",c.searchData&&c.searchData.journey&&c.searchData.journey[0].startPoint)("ngIfElse",a)}}let vv=(()=>{class n{constructor(e,i,a){this.locationDataSvc=e,this.cfIconRegister=i,this._bottomSheetService=a,this.searchDataChange=new t.vpe,this.openSearchInputBottomSheet=new t.vpe,this.BtcTypeOfListSearch=re.YI,this.convertCodeToCity=c=>this.locationDataSvc.getCityNameByCode(c),this.initIcon()}initIcon(){this.cfIconRegister.registerIcons([v.Ffn,v.Lxr,v.PlV])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(wt._h),t.Y36(v.KNP),t.Y36(I.a2))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-search-input-mobile"]],inputs:{searchData:"searchData"},outputs:{searchDataChange:"searchDataChange",openSearchInputBottomSheet:"openSearchInputBottomSheet"},standalone:!0,features:[t.jDz],decls:5,vars:1,consts:[[1,"flex","gap-2","justify-between"],[1,"flex","flex-col","gap-1"],["class","flex flex-col gap-1",3,"click",4,"ngIf"],[1,"flex","flex-col","gap-1",3,"click"],[1,"flex","gap-3","items-center"],["class","text-body-md flex gap-1 items-center text-neutral-black",4,"ngIf","ngIfElse"],["emptyPoint",""],[1,"py-[4px]","px-3","rounded-md","gap-[6px]","items-center","text-white","flex","bg-secondary-6-4"],[1,"text-body-sm","font-medium"],["icon","edit","size","small"],[1,"flex","gap-1","items-center"],[1,"text-body-sm","text-neutral-gray-5"],[4,"ngIf"],[1,"w-0","border-r","border-r-secondary-7-2","mx-1","h-4"],[4,"ngIf","ngIfElse"],["emptyJTpl",""],[1,"text-body-md","flex","gap-1","items-center","text-neutral-black"],[1,"text-espressive-md","text-neutral-black","flex","items-center"],["class","text-secondary-7-5","icon","arrow_right","size","small",4,"ngIf"],["class","text-secondary-7-5 rotate-90","icon","sort","size","small",4,"ngIf"],["icon","arrow_right","size","small",1,"text-secondary-7-5"],["icon","sort","size","small",1,"text-secondary-7-5","rotate-90"],[1,"text-body-md","flex","gap-1","items-center","text-neutral-black","font-semibold"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div"),t.ynx(3),t.YNc(4,mv,20,9,"div",2),t.BQk(),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",i.searchData.journey[0]))},dependencies:[g.ez,g.O5,g.uU,v.AxE,v.Sm8,et.q],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();var xv=w(2692),yv=w(3620),Cv=w(4646),bv=w(9965),Tv=w(9137),Ev=w(7453),kv=w(8258);function Av(n,o){1&n&&(t.TgZ(0,"div"),t.O4$(),t.TgZ(1,"svg",9),t._UZ(2,"path",10)(3,"path",11)(4,"path",12),t.qZA()())}function Dv(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",13)(1,"button",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.ok())}),t._uU(2),t.qZA(),t.TgZ(3,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.close())}),t._uU(4),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.hij(" ",e.okText," "),t.xp6(2),t.hij(" ",e.cancelText," ")}}function wv(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.close())}),t._uU(2),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.cancelText," ")}}function Bv(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",13),t.YNc(1,wv,3,1,"ng-container",5),t.TgZ(2,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.ok())}),t._uU(3),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.hasCancel),t.xp6(2),t.hij(" ",e.okText," ")}}let su=(()=>{class n{constructor(e,i,a,c){var u,d,f,_,m,x,E,Z,D,P,R,$,Q,X,z,N;this.ref=e,this.bottomSheetData=i,this.bottomSheetRef=a,this.cfIconRegister=c,this.hasCancel=!0,this.isSecondary=!1,c.registerIcons([v.UNF]),e&&(this.title=null!==(u=e.data.title)&&void 0!==u?u:"X\xe1c nh\u1eadn h\u1ee7y v\xe9",this.body=null!==(d=e.data.body)&&void 0!==d?d:"X\xe1c nh\u1eadn",this.hasIcon=null===(f=e.data.hasIcon)||void 0===f||f,this.okText=null!==(_=e.data.okText)&&void 0!==_?_:"X\xe1c nh\u1eadn",this.cancelText=null!==(m=e.data.cancelText)&&void 0!==m?m:"H\u1ee7y",this.hasInput=null!==(x=e.data.hasInput)&&void 0!==x&&x,this.hasCancel=null===(E=e.data.hasCancel)||void 0===E||E,this.isSecondary=null!==(Z=e.data.isSecondary)&&void 0!==Z&&Z),i&&(this.title=null!==(D=i.title)&&void 0!==D?D:"X\xe1c nh\u1eadn h\u1ee7y v\xe9",this.body=null!==(P=i.body)&&void 0!==P?P:"X\xe1c nh\u1eadn",this.hasIcon=null===(R=i.hasIcon)||void 0===R||R,this.okText=null!==($=i.okText)&&void 0!==$?$:"X\xe1c nh\u1eadn",this.cancelText=null!==(Q=i.cancelText)&&void 0!==Q?Q:"H\u1ee7y",this.hasInput=null!==(X=i.hasInput)&&void 0!==X&&X,this.hasCancel=null===(z=i.hasCancel)||void 0===z||z,this.isSecondary=null!==(N=i.isSecondary)&&void 0!==N&&N)}close(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}ok(){this.ref&&this.ref.close(!0),this.bottomSheetData&&this.bottomSheetRef.dismiss(!0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ut.gb,8),t.Y36(I.Rr,8),t.Y36(I.Zu,8),t.Y36(v.KNP))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cf-popconfirm-modal"]],standalone:!0,features:[t.jDz],decls:11,vars:5,consts:[[1,"w-[344px]","flex","flex-col","rounded-lg","bg-neutral-white","md:w-screen"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"flex","items-center","gap-x-4","p-6"],[4,"ngIf"],[1,"text-body-md",3,"innerHTML"],["class","flex justify-end gap-x-4 pb-6 pr-6 md:p-4",4,"ngIf","ngIfElse"],["elseActionTemp",""],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M1.23916 18.3887L10.1497 3.95489C10.3277 3.66664 10.594 3.42543 10.92 3.25719C11.246 3.08895 11.6194 3.00005 12 3.00005C12.3806 3.00005 12.754 3.08895 13.08 3.25719C13.406 3.42543 13.6723 3.66664 13.8503 3.95489L22.7608 18.3887C22.9281 18.6611 23.0101 18.9659 22.999 19.2736C22.9879 19.5812 22.8839 19.8811 22.6973 20.1441C22.5106 20.4071 22.2477 20.6241 21.934 20.7741C21.6204 20.9241 21.2667 21.002 20.9075 21H3.08847C2.72962 21.0014 2.37647 20.9231 2.06336 20.7729C1.75026 20.6226 1.48787 20.4055 1.3017 20.1426C1.11553 19.8797 1.01193 19.5801 1.00097 19.2727C0.99001 18.9654 1.07207 18.6608 1.23916 18.3887Z","fill","#FCB40A"],["d","M12 18.75C11.5858 18.75 11.25 18.4143 11.25 18L11.25 17.9901C11.25 17.5758 11.5858 17.2401 12 17.2401C12.4142 17.2401 12.75 17.5758 12.75 17.9901L12.75 18C12.75 18.4143 12.4142 18.75 12 18.75Z","fill","#2C2C2C"],["d","M12 15.75C11.5858 15.75 11.25 15.4142 11.25 15L11.25 8.00002C11.25 7.5858 11.5858 7.25002 12 7.25002C12.4142 7.25002 12.75 7.5858 12.75 8.00002L12.75 15C12.75 15.4142 12.4142 15.75 12 15.75Z","fill","#2C2C2C"],[1,"flex","justify-end","gap-x-4","pb-6","pr-6","md:p-4"],["cf-button","","size","medium","type","secondary",1,"md:w-full","md:justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"md:w-full","md:justify-center",3,"click"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"cf-icon",3),t.NdJ("click",function(){return i.close()}),t.qZA()(),t.TgZ(5,"div",4),t.YNc(6,Av,5,0,"div",5),t._UZ(7,"div",6),t.qZA(),t.YNc(8,Dv,5,2,"div",7),t.YNc(9,Bv,4,2,"ng-template",null,8,t.W1O),t.qZA()),2&e){const a=t.MAs(10);t.xp6(3),t.Oqu(i.title),t.xp6(3),t.Q6J("ngIf",i.hasIcon),t.xp6(1),t.Q6J("innerHTML",i.body,t.oJD),t.xp6(1),t.Q6J("ngIf",i.isSecondary)("ngIfElse",a)}},dependencies:[g.ez,g.O5,v.AxE,v.Sm8,S.N8,S.Xq,A.u5],encapsulation:2}),n})();var Zv=w(1135),Iv=w(8372),Sv=w(9751),Fv=w(576),Nv=w(3268);function a0(n,o,e){return e?a0(n,o).pipe((0,Nv.Z)(e)):new Sv.y(i=>{const a=(...u)=>i.next(1===u.length?u[0]:u),c=n(a);return(0,Fv.m)(o)?()=>o(a,c):void 0})}var Ov=w(9770),Rv=w(262),cu=w(9646),s0=w(8746);let Lv=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"status",void 0),(0,b.gn)([(0,Qt.D)(()=>qv),(0,C.C)()],n.prototype,"data",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"objectError",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"success",void 0),n})(),qv=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"data",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"journey",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"leg",void 0),n})();const c0={headers:new ue.WM({"Content-Type":"application/json"})};let Uv=(()=>{class n{constructor(e,i,a){this.http=e,this.appConfig=i,this._recaptchaSvc=a}searchFlight(e){return this._recaptchaSvc.getRecaptchaToken$().pipe((0,be.w)(i=>this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/search",JSON.stringify(Object.assign(Object.assign({},e),{recaptcha:i})),c0)),(0,Be.U)(i=>(0,oe.yE)(P1,i,{excludeExtraneousValues:!0})))}searchMinFares(e){return this._recaptchaSvc.getRecaptchaToken$().pipe((0,be.w)(i=>this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/search-min-fares",JSON.stringify({searchMinFareReq:e,recaptcha:i}),c0)),(0,Be.U)(i=>(0,oe.yE)(Lv,i,{excludeExtraneousValues:!0})))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(ue.eN),t.LFG(Rt.qB),t.LFG(on.K))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mv=(()=>{class n{get searchMinFareDataBtc(){return JSON.parse(sessionStorage.getItem("searchMinFareDataBtc"))}set searchMinFareDataBtc(e){const i=e.map(a=>Object.assign(Object.assign({},a),{data:Object.fromEntries(a.data)}));sessionStorage.setItem("searchMinFareDataBtc",JSON.stringify(i))}removeSearchMinFareDataBtc(){sessionStorage.removeItem("searchMinFareDataBtc")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jv=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"traceId",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"status",void 0),(0,b.gn)([(0,Qt.D)(()=>jv),(0,C.C)()],n.prototype,"data",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"objectError",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"errorCode",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"success",void 0),n})(),jv=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"listPromo",void 0),n})();const Jf={headers:new ue.WM({"Content-Type":"application/json"})};let l0=(()=>{class n{constructor(e,i,a){this.http=e,this.appConfig=i,this._recaptchaSvc=a}get(e){return this._recaptchaSvc.getRecaptchaToken$().pipe((0,be.w)(i=>{const a=Object.assign(Object.assign({},e),{recaptcha:i});return this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/get-suggest-promo-code-search",JSON.stringify(a),Jf)}),(0,Be.U)(i=>(0,oe.yE)(Jv,i,{excludeExtraneousValues:!0})))}getList(){return this.http.get(this.appConfig.apiB2cUrl+"b2c-ticket/get-list-promo-code",Jf).pipe((0,Be.U)(e=>(0,oe.yE)(Mo,e,{excludeExtraneousValues:!0})))}getListCondition(e){return this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/get-list-promo-code-condition",e,Jf).pipe((0,Be.U)(i=>(0,oe.yE)(Mo,i,{excludeExtraneousValues:!0})))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(ue.eN),t.LFG(Rt.qB),t.LFG(on.K))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yv=["scrollContainer"],Qv=["searchFlightEl"],Hv=["searchInputBottomSheet"];function Gv(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" - ",t.xi3(2,1,e.toDate,"dd/MM"),"")}}function Kv(n,o){1&n&&(t.TgZ(0,"span"),t._uU(1,"T\u1eeb "),t.qZA())}function $v(n,o){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,Kv,2,0,"span",34),t._uU(2),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw(4);t.xp6(1),t.Q6J("ngIf",e.toDate&&i.searchDataRaw.type===i.btcTypeSearch.RoundTrip),t.xp6(1),t.hij("",t.lcZ(3,2,e.price)," \u0111")}}function Vv(n,o){1&n&&(t.TgZ(0,"span"),t._uU(1,"Xem gi\xe1"),t.qZA())}function zv(n,o){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.AsE("Gi\xe1 r\u1ebb ",e.airlineMinPrice,": ",t.lcZ(2,2,e.price)," \u0111")}}function Wv(n,o){if(1&n&&(t.TgZ(0,"ul")(1,"li"),t._uU(2),t.qZA(),t.TgZ(3,"li"),t._uU(4),t.qZA(),t.YNc(5,zv,3,4,"li",34),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.dayInfo.holiday),t.xp6(2),t.AsE("",e.dayInfo.dateFormat," (",e.dayInfo.lunarDate,")"),t.xp6(1),t.Q6J("ngIf",e.price)}}const u0=function(n,o){return{"bg-red-1":n,"opacity-50 pointer-events-none":o}},lu=function(n){return{"text-primary-1-4":n}};function Xv(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",53),t.NdJ("click",function(){const c=t.CHM(e).$implicit,u=t.oxw(4);return t.KtG(u.onSelectDateBar(c.fromDate,c.toDate))}),t.TgZ(2,"div",54)(3,"div",55)(4,"span"),t._uU(5),t.ALo(6,"date"),t.qZA(),t.YNc(7,Gv,3,4,"span",34),t.qZA(),t.TgZ(8,"div",56),t.YNc(9,$v,4,4,"span",34),t.YNc(10,Vv,2,0,"span",34),t.qZA()()(),t.YNc(11,Wv,6,4,"ng-template",null,57,t.W1O),t.BQk()}if(2&n){const e=o.$implicit,i=t.MAs(12),a=t.oxw(4);t.xp6(1),t.Q6J("ngClass",t.WLB(13,u0,e.selected,!e.active||a.progress.isProgress))("id",e.key)("cfTooltip",i)("placement","topCenter"),t.xp6(2),t.Q6J("ngClass",t.VKq(16,lu,e.selected)),t.xp6(2),t.Oqu(t.xi3(6,10,e.fromDate,"dd/MM")),t.xp6(2),t.Q6J("ngIf",e.toDate&&a.searchDataRaw.type===a.btcTypeSearch.RoundTrip),t.xp6(1),t.Q6J("ngClass",t.VKq(18,lu,e.selected)),t.xp6(1),t.Q6J("ngIf",e.price),t.xp6(1),t.Q6J("ngIf",!e.price)}}function tx(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",47)(1,"div",48)(2,"button",49),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.onPreviousDate())}),t._UZ(3,"cf-icon",50),t.qZA(),t.TgZ(4,"div",51),t.NdJ("scroll",function(a){t.CHM(e);const c=t.oxw(3);return t.KtG(c.onScrollMultiDateBar(a))}),t.YNc(5,Xv,13,20,"ng-container",46),t.qZA(),t.TgZ(6,"button",49),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.onNextDate())}),t._UZ(7,"cf-icon",52),t.qZA()()()}if(2&n){const e=t.oxw(3);t.xp6(5),t.Q6J("ngForOf",e.multiDateBar)}}function ex(n,o){if(1&n&&(t.TgZ(0,"div",58),t._UZ(1,"div",59),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Udp("width",e.progress.percent+"%")}}function nx(n,o){if(1&n&&(t.TgZ(0,"div",69),t._uU(1),t.ALo(2,"formatVietnameseDate"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.departDate)," ")}}function ix(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",65),t.NdJ("click",function(){const c=t.CHM(e).index,u=t.oxw(5);return t.KtG(u.idxTicketSelectedChange(c))}),t.TgZ(1,"div",66),t._uU(2),t.qZA(),t.YNc(3,nx,3,3,"div",67),t._UZ(4,"div",68),t.qZA()}if(2&n){const e=o.$implicit,i=o.index,a=t.oxw(5);t.xp6(2),t.AsE(" ",e.startPoint," - ",e.endPoint," "),t.xp6(1),t.Q6J("ngIf",e.departDate),t.xp6(1),t.Q6J("ngClass",i===a.ticketCur.idxTicketSelected?"flex":"hidden")}}function ox(n,o){if(1&n&&(t.TgZ(0,"div",63),t.YNc(1,ix,5,4,"div",64),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.searchDataRaw.journey)}}const rx=function(n){return{"w-full":n}};function ax(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",60),t.YNc(1,ox,2,1,"div",61),t.TgZ(2,"btc-result-options-sort",62),t.NdJ("sortTypeChange",function(a){t.CHM(e);const c=t.oxw(3);return t.KtG(c.sortType=a)}),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.searchDataRaw.type===e.btcTypeSearch.RoundTrip),t.xp6(1),t.Q6J("sortType",e.sortType)("ngClass",t.VKq(3,rx,e.searchDataRaw.type!==e.btcTypeSearch.RoundTrip))}}function sx(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"btc-result-sort-combo",70),t.NdJ("sortTypeChange",function(a){t.CHM(e);const c=t.oxw(3);return t.KtG(c.sortType=a)}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("sortType",e.sortType)("tabComboDetail",e.tabComboDetail)}}function cx(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"btc-ticket-item",75),t.NdJ("selectTicket",function(a){t.CHM(e);const c=t.oxw(7);return t.KtG(c.chooseTicket(a))}),t.qZA()()}if(2&n){const e=o.$implicit,i=t.oxw(7);t.xp6(1),t.Q6J("ticket",e)("searchData",i.searchDataRaw)("viewConfig",i.viewConfig)("isAirLineInternational",i.isAirLineInternational)}}function lx(n,o){if(1&n&&(t.ynx(0),t.YNc(1,cx,2,4,"div",74),t.ALo(2,"slice"),t.BQk()),2&n){const e=o.ngIf,i=t.oxw(6);t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,2,e,0,i.displayLimit))("ngForTrackBy",i.ticketTrackByFn)}}function ux(n,o){if(1&n&&(t.TgZ(0,"div",72),t.YNc(1,lx,3,6,"ng-container",34),t.ALo(2,"mapper"),t.qZA()),2&n){const e=o.ngIf,i=t.oxw(5);t.xp6(1),t.Q6J("ngIf",t.gM2(2,1,e,i.sortMapper,i.sortType,i.viewConfig))}}const uu=function(){return[]},d0=function(n,o,e,i,a,c,u,d,f,_,m){return[n,o,e,i,a,c,u,d,f,_,m]};function dx(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",72),t.YNc(2,ux,3,6,"div",73),t.ALo(3,"mapper"),t.qZA(),t.BQk()),2&n){const e=t.oxw(4),i=t.MAs(4);t.xp6(2),t.Q6J("ngIf",t.G7q(3,2,t.rFY(15,d0,[e.listTicketDisplay,e.filterMapperModeSingle,e.filterFareTypeOptions,e.timeFlightOptions,e.modelAirPlaneOptions,e.ticketFilterNumStop,e.airlineOptions,e.optionsTicketType,e.bookingSystemList,(null==e.ticketCur?null:e.ticketCur.idxTicketSelected)||0,e.searchDataRaw.journey||t.DdM(14,uu)])))("ngIfElse",i)}}function px(n,o){if(1&n&&(t.ynx(0),t.YNc(1,dx,4,27,"ng-container",71),t.BQk()),2&n){const e=t.oxw(3),i=t.MAs(4);t.xp6(1),t.Q6J("ngIf",e.listTicketDisplay&&(null==e.listTicketDisplay?null:e.listTicketDisplay.length))("ngIfElse",i)}}function gx(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"btc-ticket-combo-item",76),t.NdJ("chooseTicketCombo",function(a){t.CHM(e);const c=t.oxw(6);return t.KtG(c.chooseTicketCombo(a))}),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit,i=t.oxw(6);t.xp6(1),t.Q6J("ticket",e)("searchData",i.searchDataRaw)("viewConfig",i.viewConfig)("isAirLineInternational",i.isAirLineInternational)}}function fx(n,o){if(1&n&&(t.TgZ(0,"div",72),t.YNc(1,gx,2,4,"ng-container",46),t.ALo(2,"slice"),t.ALo(3,"mapper"),t.qZA()),2&n){const e=o.ngIf,i=t.oxw(5);t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,1,t.gM2(3,5,e,i.sortComboMapper,i.sortType,i.viewConfig),0,i.displayLimit))}}const p0=function(n,o,e,i,a,c){return[n,o,e,i,a,c]};function _x(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",72),t.YNc(2,fx,4,10,"div",73),t.ALo(3,"mapper"),t.qZA(),t.BQk()),2&n){const e=t.oxw(4),i=t.MAs(4);t.xp6(2),t.Q6J("ngIf",t.G7q(3,2,t.HTZ(9,p0,e.listTicketComboDisplay,e.filterMapperModeCombo,e.airlineOptions,e.ticketFilterNumStop,e.bookingSystemList,e.optionsTicketType)))("ngIfElse",i)}}function hx(n,o){if(1&n&&(t.ynx(0),t.YNc(1,_x,4,16,"ng-container",71),t.BQk()),2&n){const e=t.oxw(3),i=t.MAs(4);t.xp6(1),t.Q6J("ngIf",e.listTicketComboDisplay)("ngIfElse",i)}}function mx(n,o){1&n&&t._UZ(0,"btc-ticket-skeleton")}function vx(n,o){1&n&&(t.TgZ(0,"div",72),t.YNc(1,mx,1,0,"btc-ticket-skeleton",46),t.qZA()),2&n&&(t.Q6J("@listAnimation",4),t.xp6(1),t.Q6J("ngForOf",t.DdM(2,uu).constructor(4)))}function xx(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",78),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4);return t.KtG(a.showDetailPromo())}),t.TgZ(1,"div",79)(2,"div",80),t.O4$(),t.TgZ(3,"svg",81),t._UZ(4,"path",82),t.qZA(),t.kcU(),t.TgZ(5,"div",83),t._uU(6),t.ALo(7,"replace"),t.ALo(8,"number"),t.qZA()(),t.TgZ(9,"div",84)(10,"div",85),t._UZ(11,"span",86),t.ALo(12,"mapper"),t.qZA(),t.TgZ(13,"span")(14,"b",87),t._uU(15),t.qZA(),t._uU(16," | "),t.TgZ(17,"span",88),t._uU(18),t.qZA()()()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(3);t.xp6(6),t.hij(" ",t.Dn7(7,4,t.lcZ(8,8,e.absoluteMaxValue/1e3),",","."),"K "),t.xp6(5),t.Q6J("innerHTML",t.xi3(12,10,e.header,i.bypassSecurityTrustHtml),t.oJD),t.xp6(4),t.Oqu(e.code),t.xp6(3),t.hij(" ","SEARCH"===e.type?"M\xe3 t\u1ef1 \u0111\u1ed9ng \xe1p d\u1ee5ng":"\xc1p m\xe3 \u1edf b\u01b0\u1edbc \u0111\u1eb7t v\xe9"," ")}}function yx(n,o){if(1&n&&(t.ynx(0),t.YNc(1,xx,19,13,"div",77),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.public)}}function Cx(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",6),t._UZ(1,"header-btc"),t.TgZ(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"btc-type-search",11),t.NdJ("typeSearchChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.flightTypeChange(a))}),t.qZA()(),t.TgZ(7,"div",12)(8,"btc-num-of-pas",13),t.NdJ("numberOfPassengerChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.numberOfPassengerChange(a))}),t.qZA(),t.TgZ(9,"btc-airline-filter",14),t.NdJ("airlineFilterChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.airlineFilterChange(a))}),t.qZA(),t.TgZ(10,"btc-voucher-selector",15),t.NdJ("promotionCodeChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.searchData.promotionCode=a)}),t.qZA(),t.TgZ(11,"btc-cabin-selector",16),t.NdJ("cabinChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(!c.isMobile&&c.cabinChange(a))}),t.qZA(),t.TgZ(12,"btc-pax-type-selector",17),t.NdJ("paxTypeChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(!c.isMobile&&c.paxTypeChange(a))}),t.qZA()()(),t.TgZ(13,"div",18)(14,"btc-search-input",19,20),t.NdJ("removeRoute",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.removeRoute(a))})("dataChange",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.searchInputChange())})("dateTypeChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.onDateTypeChange(a))})("navigateDatepicker",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.onNavigateDatepicker(a))}),t.qZA(),t.TgZ(16,"button",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.researchFlight())}),t._UZ(17,"cf-icon",22),t.TgZ(18,"div",23),t._uU(19," T\xecm chuy\u1ebfn bay "),t.qZA()()(),t.YNc(20,tx,8,1,"div",24),t.YNc(21,ex,2,2,"div",25),t.qZA(),t.TgZ(22,"div",26)(23,"div",27)(24,"btc-result-filter",28),t.NdJ("viewConfigChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.viewConfig=a)})("airlineOptionsChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.airlineOptions=a)})("ticketFilterNumStopChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.ticketFilterNumStop=a)})("timeFlightOptionsChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.timeFlightOptions=a)})("filterFareTypeOptionsChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.filterFareTypeOptions=a)})("modelAirPlaneOptionsChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.modelAirPlaneOptions=a)})("optionsTicketTypeChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.optionsTicketType=a)})("bookingSystemListChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.bookingSystemList=a)}),t.qZA()(),t.TgZ(25,"div",29)(26,"div",30)(27,"div",31),t._uU(28," Gi\xe1 \u0111\xe3 bao g\u1ed3m thu\u1ebf ph\xed "),t.qZA()(),t.YNc(29,ax,3,5,"div",32),t.YNc(30,sx,1,2,"btc-result-sort-combo",33),t.YNc(31,px,2,2,"ng-container",34),t.YNc(32,hx,2,2,"ng-container",34),t.YNc(33,vx,2,3,"div",35),t.qZA(),t.TgZ(34,"div",36)(35,"div",37)(36,"div",38)(37,"div",39)(38,"div",40),t._uU(39,"Chuy\u1ebfn bay c\u1ee7a b\u1ea1n"),t.qZA()(),t.TgZ(40,"btc-ticket-sticky-selected",41),t.NdJ("showDetail",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.showDetail(a))})("reselectClick",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.reselectTicket(a))}),t.qZA(),t.TgZ(41,"div",42)(42,"div",40),t._uU(43,"T\u1ed5ng chi ph\xed:"),t.qZA(),t.TgZ(44,"div",43),t._uU(45),t.ALo(46,"replace"),t.ALo(47,"number"),t.qZA()()(),t.TgZ(48,"div",44)(49,"div",45),t.YNc(50,yx,2,1,"ng-container",46),t.qZA()()()()()(),t._UZ(51,"footer-btc"),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(6),t.Q6J("flightType",e.searchData.type),t.xp6(2),t.Q6J("adultNumber",e.searchData.adultCount)("childNumber",e.searchData.childCount)("infantNumber",e.searchData.infantCount),t.xp6(1),t.Q6J("airlineList",e.airlineFilters),t.xp6(1),t.Q6J("isShowTooltipFirstTime",!0)("promotionCode",e.searchData.promotionCode),t.xp6(1),t.Q6J("cabinList",e.cabinList)("actived",e.isAirLineInternational),t.xp6(1),t.Q6J("paxTypeList",e.paxTypeList)("actived",e.isAirLineInternational),t.xp6(2),t.Q6J("formArray",e.journeyFormArr)("type",e.searchData.type||0),t.xp6(2),t.Q6J("disabled",e.progress.isProgress),t.xp6(4),t.Q6J("ngIf",e.multiDateBar.length&&e.minFareOptionConfig),t.xp6(1),t.Q6J("ngIf",e.progress.isProgress),t.xp6(3),t.Q6J("viewConfig",e.viewConfig)("airlineOptions",e.airlineOptions)("ticketFilterNumStop",e.ticketFilterNumStop)("timeFlightOptions",e.timeFlightOptions)("filterFareTypeOptions",e.filterFareTypeOptions)("modelAirPlaneOptions",e.modelAirPlaneOptions)("optionsTicketType",e.optionsTicketType)("bookingSystemList",e.bookingSystemList),t.xp6(5),t.Q6J("ngIf",e.searchDataRaw.typeOfList===e.btcTypeOfListSearch.Single),t.xp6(1),t.Q6J("ngIf",e.searchDataRaw.typeOfList===e.btcTypeOfListSearch.Combo),t.xp6(1),t.Q6J("ngIf",e.searchDataRaw.typeOfList===e.btcTypeOfListSearch.Single),t.xp6(1),t.Q6J("ngIf",e.searchDataRaw.typeOfList===e.btcTypeOfListSearch.Combo),t.xp6(1),t.Q6J("ngIf",e.progress.isProgress),t.xp6(7),t.Q6J("searchInput",e.searchDataRaw)("ticketCur",e.ticketCur),t.xp6(5),t.hij(" ",t.Dn7(46,33,t.lcZ(47,37,((null==e.ticketCur?null:e.ticketCur.totalPrice)||0)-e.amountDiscount),",",".")," \u0111 "),t.xp6(5),t.Q6J("ngForOf",e.dataPromotion)}}function bx(n,o){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" - ",t.xi3(2,1,e.toDate,"dd/MM"),"")}}function Tx(n,o){1&n&&(t.TgZ(0,"span"),t._uU(1,"T\u1eeb "),t.qZA())}function Ex(n,o){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,Tx,2,0,"span",34),t._uU(2),t.ALo(3,"number"),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw(4);t.xp6(1),t.Q6J("ngIf",e.toDate&&i.searchDataRaw.type===i.btcTypeSearch.RoundTrip),t.xp6(1),t.hij("",t.lcZ(3,2,e.price)," \u0111")}}function kx(n,o){1&n&&(t.TgZ(0,"span"),t._uU(1,"Xem gi\xe1"),t.qZA())}function Ax(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",119),t.NdJ("click",function(){const c=t.CHM(e).$implicit,u=t.oxw(4);return t.KtG(u.onSelectDateBar(c.fromDate,c.toDate))}),t.TgZ(2,"div",54)(3,"div",55)(4,"span"),t._uU(5),t.ALo(6,"date"),t.qZA(),t.YNc(7,bx,3,4,"span",34),t.qZA(),t.TgZ(8,"div",56),t.YNc(9,Ex,4,4,"span",34),t.YNc(10,kx,2,0,"span",34),t.qZA()()(),t.BQk()}if(2&n){const e=o.$implicit,i=t.oxw(4);t.xp6(1),t.Q6J("ngClass",t.WLB(11,u0,e.selected,!e.active||i.progress.isProgress))("id",e.key+"-mobile"),t.xp6(2),t.Q6J("ngClass",t.VKq(14,lu,e.selected)),t.xp6(2),t.Oqu(t.xi3(6,8,e.fromDate,"dd/MM")),t.xp6(2),t.Q6J("ngIf",e.toDate&&i.searchDataRaw.type===i.btcTypeSearch.RoundTrip),t.xp6(1),t.Q6J("ngClass",t.VKq(16,lu,e.selected)),t.xp6(1),t.Q6J("ngIf",e.price),t.xp6(1),t.Q6J("ngIf",!e.price)}}function Dx(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",114)(1,"div",115)(2,"div",116),t.NdJ("scroll",function(a){t.CHM(e);const c=t.oxw(3);return t.KtG(c.onScrollMultiDateBar(a))}),t.YNc(3,Ax,11,18,"ng-container",46),t.qZA()(),t.TgZ(4,"div",117),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.onDatePickerClick())}),t._UZ(5,"cf-icon",118),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(3),t.Q6J("ngForOf",e.multiDateBar)}}const wx=function(n,o,e){return{"!text-red-4 !bg-red-2":n,"rounded-r-md":o,"rounded-l-md":e}};function Bx(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",123),t.NdJ("click",function(){const c=t.CHM(e).index,u=t.oxw(4);return t.KtG(u.idxTicketSelectedChange(c))}),t.TgZ(1,"div",124),t._uU(2),t.qZA()()}if(2&n){const e=o.index,i=t.oxw(4);t.Q6J("ngClass",t.kEZ(2,wx,e===i.ticketCur.idxTicketSelected,e,!e)),t.xp6(2),t.hij(" ",e?"Chi\u1ec1u v\u1ec1":"Chi\u1ec1u \u0111i"," ")}}function Zx(n,o){if(1&n&&(t.TgZ(0,"div",120)(1,"div",121),t.YNc(2,Bx,3,6,"div",122),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",e.searchDataRaw.journey)}}function Ix(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"btc-ticket-item",127),t.NdJ("selectTicket",function(a){t.CHM(e);const c=t.oxw(5);return t.KtG(c.chooseTicket(a))})("reselectClick",function(){t.CHM(e);const a=t.oxw(5);return t.KtG(a.reselectTicket(a.ticketCur.idxTicketSelected))}),t.qZA()}if(2&n){const e=o.ngIf,i=t.oxw(5);t.Q6J("ticket",e)("searchData",i.searchDataRaw)("ticketSelectedMobile",!0)("viewConfig",i.viewConfig)("isAirLineInternational",i.isAirLineInternational)}}function Sx(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Ix,1,5,"btc-ticket-item",126),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.ticketData)}}function Fx(n,o){if(1&n&&(t.TgZ(0,"div",125),t.YNc(1,Sx,2,1,"ng-container",34),t.qZA()),2&n){const e=o.index,i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e===i.ticketCur.idxTicketSelected)}}function Nx(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"btc-ticket-item",130),t.NdJ("selectTicket",function(a){t.CHM(e),t.oxw(5);const c=t.MAs(13),u=t.oxw(2);return t.KtG(u.chooseTicket(a,c))})("reselectClick",function(){t.CHM(e),t.oxw(5);const a=t.MAs(13),c=t.oxw(2);return t.KtG(c.reselectTicket(c.ticketCur.idxTicketSelected,a))}),t.qZA()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(6);t.Q6J("ticket",e)("searchData",i.searchDataRaw)("viewConfig",i.viewConfig)("isAirLineInternational",i.isAirLineInternational)}}function Ox(n,o){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Nx,1,4,"btc-ticket-item",129),t.ALo(2,"mapper"),t.qZA()),2&n){const e=o.$implicit,i=t.oxw(6);t.xp6(1),t.Q6J("ngIf",!t.Dn7(2,1,i.ticketCur.ticketSelected,i.checkTicketSelectedMobile,e))}}function Px(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",72),t.YNc(2,Ox,3,5,"div",74),t.ALo(3,"slice"),t.qZA(),t.BQk()),2&n){const e=o.ngIf,i=t.oxw(5);t.xp6(2),t.Q6J("ngForOf",t.Dn7(3,2,e,0,i.displayLimit))("ngForTrackBy",i.ticketTrackByFn)}}function Rx(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Px,4,6,"ng-container",34),t.ALo(2,"mapper"),t.BQk()),2&n){const e=o.ngIf,i=t.oxw(4);t.xp6(1),t.Q6J("ngIf",t.gM2(2,1,e,i.sortMapper,i.sortType,i.viewConfig))}}const g0=function(n){return{"mb-4":n}};function Lx(n,o){if(1&n&&(t.TgZ(0,"div",128),t.YNc(1,Rx,3,6,"ng-container",71),t.ALo(2,"mapper"),t.qZA()),2&n){const e=t.oxw(3),i=t.MAs(4);t.Q6J("ngClass",t.VKq(15,g0,null==e.listTicketDisplay?null:e.listTicketDisplay.length)),t.xp6(1),t.Q6J("ngIf",t.G7q(2,3,t.rFY(18,d0,[e.listTicketDisplay,e.filterMapperModeSingle,e.filterFareTypeOptions,e.timeFlightOptions,e.modelAirPlaneOptions,e.ticketFilterNumStop,e.airlineOptions,e.optionsTicketType,e.bookingSystemList,(null==e.ticketCur?null:e.ticketCur.idxTicketSelected)||0,e.searchDataRaw.journey||t.DdM(17,uu)])))("ngIfElse",i)}}function qx(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"btc-ticket-combo-item",76),t.NdJ("chooseTicketCombo",function(a){t.CHM(e);const c=t.oxw(5);return t.KtG(c.chooseTicketCombo(a))}),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit,i=t.oxw(5);t.xp6(1),t.Q6J("ticket",e)("searchData",i.searchDataRaw)("viewConfig",i.viewConfig)("isAirLineInternational",i.isAirLineInternational)}}function Ux(n,o){if(1&n&&(t.TgZ(0,"div",72),t.YNc(1,qx,2,4,"ng-container",46),t.ALo(2,"slice"),t.ALo(3,"mapper"),t.qZA()),2&n){const e=o.ngIf,i=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,1,t.gM2(3,5,e,i.sortComboMapper,i.sortType,i.viewConfig),0,i.displayLimit))}}function Mx(n,o){if(1&n&&(t.TgZ(0,"div",131),t.YNc(1,Ux,4,10,"div",73),t.ALo(2,"mapper"),t.qZA()),2&n){const e=t.oxw(3),i=t.MAs(4);t.Q6J("ngClass",t.VKq(10,g0,null==e.listTicketComboDisplay?null:e.listTicketComboDisplay.length)),t.xp6(1),t.Q6J("ngIf",t.G7q(2,3,t.HTZ(12,p0,e.listTicketComboDisplay,e.filterMapperModeCombo,e.airlineOptions,e.ticketFilterNumStop,e.bookingSystemList,e.optionsTicketType)))("ngIfElse",i)}}function Jx(n,o){1&n&&t._UZ(0,"btc-ticket-skeleton")}function jx(n,o){1&n&&(t.TgZ(0,"div",132),t.YNc(1,Jx,1,0,"btc-ticket-skeleton",46),t.qZA()),2&n&&(t.Q6J("@listAnimation",4),t.xp6(1),t.Q6J("ngForOf",t.DdM(2,uu).constructor(4)))}function Yx(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",89)(1,"div",90),t._UZ(2,"header-btc"),t.qZA(),t.TgZ(3,"div",91)(4,"div",92)(5,"btc-search-input-mobile",93),t.NdJ("searchDataChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.searchData=a)})("openSearchInputBottomSheet",function(){t.CHM(e);const a=t.oxw(2),c=t.MAs(2);return t.KtG(a.openSearchInputBottomSheet(c))}),t.qZA()(),t.YNc(6,Dx,6,1,"div",94),t.qZA(),t.TgZ(7,"div",95)(8,"btc-result-options-sort",96),t.NdJ("sortTypeChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.sortType=a)}),t.qZA(),t.TgZ(9,"btc-result-filter",97),t.NdJ("viewConfigChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.viewConfig=a)})("airlineOptionsChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.airlineOptions=a)})("ticketFilterNumStopChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.ticketFilterNumStop=a)})("timeFlightOptionsChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.timeFlightOptions=a)})("filterFareTypeOptionsChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.filterFareTypeOptions=a)})("modelAirPlaneOptionsChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.modelAirPlaneOptions=a)})("optionsTicketTypeChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.optionsTicketType=a)})("resetFilter",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onResetFilter())}),t.qZA()(),t.TgZ(10,"div",98,99),t._UZ(12,"div",100,101),t.TgZ(14,"div",102)(15,"div",103),t._uU(16," Gi\xe1 \u0111\xe3 bao g\u1ed3m thu\u1ebf ph\xed "),t.qZA()(),t.YNc(17,Zx,3,1,"div",104),t.TgZ(18,"div",105)(19,"div",106),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.showDetailPromo())}),t.TgZ(20,"div",107),t._UZ(21,"cf-icon",108),t.TgZ(22,"div",109),t._uU(23," Khuy\u1ebfn m\xe3i "),t.qZA()()()(),t.YNc(24,Fx,2,1,"div",110),t.YNc(25,Lx,3,30,"div",111),t.YNc(26,Mx,3,19,"div",112),t.YNc(27,jx,2,3,"div",113),t._UZ(28,"footer-btc"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("@headerFadeDown",e.isHeaderVisible?"visible":"hidden"),t.xp6(4),t.Q6J("searchData",e.searchData),t.xp6(1),t.Q6J("ngIf",e.multiDateBar.length&&e.minFareOptionConfig),t.xp6(2),t.Q6J("sortType",e.sortType),t.xp6(1),t.Q6J("viewConfig",e.viewConfig)("airlineOptions",e.airlineOptions)("ticketFilterNumStop",e.ticketFilterNumStop)("timeFlightOptions",e.timeFlightOptions)("filterFareTypeOptions",e.filterFareTypeOptions)("modelAirPlaneOptions",e.modelAirPlaneOptions)("optionsTicketType",e.optionsTicketType),t.xp6(8),t.Q6J("ngIf",e.searchDataRaw.type===e.btcTypeSearch.RoundTrip&&!e.isAirLineInternational),t.xp6(2),t.Q6J("@widthFadeOut",e.widthState),t.xp6(3),t.Q6J("@textFadeOut",e.textState),t.xp6(2),t.Q6J("ngForOf",e.ticketCur.ticketSelected),t.xp6(1),t.Q6J("ngIf",e.searchData.typeOfList===e.btcTypeOfListSearch.Single),t.xp6(1),t.Q6J("ngIf",e.searchData.typeOfList===e.btcTypeOfListSearch.Combo),t.xp6(1),t.Q6J("ngIf",e.progress.isProgress)}}function Qx(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",3),t.NdJ("scroll",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.onScroll(a))}),t.YNc(1,Cx,52,39,"div",4),t.YNc(2,Yx,29,18,"div",5),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.isMobile),t.xp6(1),t.Q6J("ngIf",e.isMobile)}}function Hx(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",133)(1,"div",10)(2,"btc-type-search",11),t.NdJ("typeSearchChange",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.flightTypeChange(a))}),t.qZA()(),t.TgZ(3,"btc-search-input",134,20),t.NdJ("removeRoute",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.removeRoute(a))})("dataChange",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.searchInputChange())})("dateTypeChange",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.onDateTypeChange(a))}),t.qZA(),t.TgZ(5,"div",135)(6,"btc-num-of-pas",13),t.NdJ("numberOfPassengerChange",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.numberOfPassengerChange(a))}),t.qZA(),t.TgZ(7,"btc-airline-filter",14),t.NdJ("airlineFilterChange",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.airlineFilterChange(a))}),t.qZA(),t.TgZ(8,"btc-voucher-selector",15),t.NdJ("promotionCodeChange",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.searchData.promotionCode=a)}),t.qZA(),t.TgZ(9,"btc-cabin-selector",16),t.NdJ("cabinChange",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.cabinChange(a))}),t.qZA(),t.TgZ(10,"btc-pax-type-selector",17),t.NdJ("paxTypeChange",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.paxTypeChange(a))}),t.qZA()(),t.TgZ(11,"button",136),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.researchFlight())}),t._UZ(12,"cf-icon",22),t._uU(13," T\xecm chuy\u1ebfn bay "),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("flightType",e.searchData.type),t.xp6(1),t.Q6J("formArray",e.journeyFormArr)("type",e.searchData.type||0),t.xp6(3),t.Q6J("adultNumber",e.searchData.adultCount)("childNumber",e.searchData.childCount)("infantNumber",e.searchData.infantCount),t.xp6(1),t.Q6J("airlineList",e.airlineFilters),t.xp6(1),t.Q6J("isShowTooltipFirstTime",!1)("promotionCode",e.searchData.promotionCode),t.xp6(1),t.Q6J("cabinList",e.cabinList)("actived",e.isAirLineInternational),t.xp6(1),t.Q6J("paxTypeList",e.paxTypeList)("actived",e.isAirLineInternational)}}function Gx(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",142),t._uU(2,"Kh\xf4ng c\xf3 chuy\u1ebfn bay n\xe0o"),t.qZA(),t.TgZ(3,"div",143),t._uU(4," Vui l\xf2ng s\u1eeda \u0111\u1ed5i b\u1ed9 l\u1ecdc ho\u1eb7c thay \u0111\u1ed5i t\xecm ki\u1ebfm c\u1ee7a b\u1ea1n. "),t.qZA(),t.TgZ(5,"button",144),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(4),c=t.MAs(2);return t.KtG(a.onChangeSearch(a.searchFlightEl,c))}),t._UZ(6,"cf-icon",145),t._uU(7," Thay \u0111\u1ed5i t\xecm ki\u1ebfm "),t.qZA(),t.BQk()}2&n&&(t.xp6(5),t.Q6J("type","secondary"))}function Kx(n,o){1&n&&(t.TgZ(0,"div",142),t._uU(1,"T\xecm chuy\u1ebfn bay ph\xf9 h\u1ee3p"),t.qZA(),t.TgZ(2,"div",143),t._uU(3," Vui l\xf2ng ch\u1ecdn h\xe0nh tr\xecnh v\xe0 ng\xe0y bay c\u1ee7a b\u1ea1n \u1edf thanh t\xecm ki\u1ebfm "),t.qZA())}function $x(n,o){if(1&n&&(t.TgZ(0,"div",139),t._UZ(1,"img",140),t.YNc(2,Gx,8,1,"ng-container",71),t.YNc(3,Kx,4,0,"ng-template",null,141,t.W1O),t.qZA()),2&n){const e=t.MAs(4),i=t.oxw(3);t.xp6(2),t.Q6J("ngIf",i.searchDataRaw.journey&&i.searchDataRaw.journey[0].startPoint&&i.searchDataRaw.journey[0].endPoint)("ngIfElse",e)}}function Vx(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",146),t._UZ(1,"img",140),t.TgZ(2,"div",142),t._uU(3,"Kh\xf4ng c\xf3 chuy\u1ebfn bay n\xe0o ph\xf9 h\u1ee3p"),t.qZA(),t.TgZ(4,"div",147),t._uU(5," Vui l\xf2ng s\u1eeda \u0111\u1ed5i b\u1ed9 l\u1ecdc cho ph\xf9 h\u1ee3p ho\u1eb7c ch\u1ecdn n\xfat b\xean d\u01b0\u1edbi \u0111\u1ec3 h\u1ee7y vi\u1ec7c l\u1ecdc. "),t.qZA(),t.TgZ(6,"button",148),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.onResetFilter())}),t._uU(7," H\u1ee7y l\u1ecdc chuy\u1ebfn bay "),t.qZA()()}2&n&&(t.xp6(6),t.Q6J("type","solid"))}function zx(n,o){if(1&n&&(t.ynx(0),t.YNc(1,$x,5,2,"div",137),t.YNc(2,Vx,8,1,"ng-template",null,138,t.W1O),t.BQk()),2&n){const e=t.MAs(3),i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!(null!=i.listTicketDisplay&&i.listTicketDisplay.length||null!=i.listTicketComboDisplay&&i.listTicketComboDisplay.length))("ngIfElse",e)}}function Wx(n,o){if(1&n&&t.YNc(0,zx,4,2,"ng-container",34),2&n){const e=t.oxw();t.Q6J("ngIf",!e.progress.isProgress&&!e.isLoadingPage)}}let Xx=(()=>{class n{constructor(e,i,a,c,u,d,f,_,m,x,E,Z,D,P,R,$,Q,X,z,N,ct){this._helperSvc=e,this._helperResultSvc=i,this._fb=a,this._locationDataService=c,this._cdr=u,this._modal=d,this._cfIconRegister=f,this._searchBtcSvc=_,this.router=m,this.route=x,this._detectMobileService=E,this._bottomSheetService=Z,this._helperStorageSvc=D,this.location=P,this._eventLogService=R,this.searchMinFareDataBtcProvider=$,this.getSuggestPromoCodeSearchSvc=Q,this.appConfig=X,this.btcLogErrorTeleSvc=z,this.sanitizer=N,this.drawerService=ct,this.btcTypeOfListSearch=re.YI,this.btcTypeSearch=re.VB,this.listElTIcketView=[],this.isAirLineInternational=!1,this.cabinList=Dn.St,this.paxTypeList=Dn.S,this.airlineFilters=Dn._q,this.progress={isProgress:!1,percent:0,interval:null},this.airlineOptions=[],this.timeFlightOptions=Zl,this.filterFareTypeOptions=[],this.modelAirPlaneOptions=[],this.ticketFilterNumStop=Ro,this.optionsTicketType=Il,this.bookingSystemList=[],this.sortType="min_price",this.displayLimit=15,this.isMobile=matchMedia("(max-width: 768px)").matches,this.amountDiscount=0,this.isLoadingPage=!0,this.dateInPage=new Date,this.timeApiCallList=0,this.apiError=!1,this.searchMinFaresResult=[],this.multiDateBar=[],this.itemWidth=114,this.scrollAmount=3*this.itemWidth,this.listDateSearchMinFares=[],this.minFareChange$=new Ai.x,this.selectedDateBar$=new Ai.x,this.dataPromotion=[],this.isLoadingPromoCode=!1,this.textState="visible",this.widthState="visible",this.isHeaderVisible=!0,this.isBodyScrollElVisible$=new Zv.X(!1),this.filterMapperModeSingle=(tt,lt,at,yt,st,K,ft,bt,ht,Ct)=>{this.displayLimit=15;let W=[];const H=lt.filter(pt=>pt.actived).map(pt=>pt.code.trim());if(null!=H&&H.length?tt.forEach(pt=>{pt.chosenFares.forEach(qt=>{var ve,pe,Vn;H.includes(null===(Vn=null===(pe=null===(ve=qt.fareInfos[0])||void 0===ve?void 0:ve.cabin)||void 0===pe?void 0:pe.name)||void 0===Vn?void 0:Vn.toUpperCase().trim())&&(W=[...W,(0,oe.yE)(Hn,Object.assign(Object.assign({},pt),{fareOptions:[qt]}),{excludeExtraneousValues:!0})])})}):W=tt,null!=Ct&&Ct.length&&null!=W&&W.length&&!(0,Se.isNil)(ht)){const{startPoint:pt,endPoint:qt}=Ct[ht];W=W.filter(ve=>ve.departure.airport.code===pt&&ve.arrival.airport.code===qt)}const V=ft.filter(pt=>pt.actived).map(pt=>pt.code);null!=V&&V.length&&(W=W.filter(pt=>{const qt=pt.fareOptions.some(Vn=>Vn.lccFare),ve=pt.fareOptions.some(Vn=>Vn.privateFare),pe=pt.fareOptions.some(Vn=>Vn.ndcFare);return V.includes("lcc")&&qt||V.includes("privateFare")&&ve||V.includes("ndc")&&pe}));const Pt=null==K?void 0:K.filter(pt=>pt.actived);null!=Pt&&Pt.length&&(W=null==W?void 0:W.filter(pt=>Pt.some(qt=>qt.code===pt.airline)));const Kt=null==at?void 0:at.filter(pt=>pt.actived);if(null!=Kt&&Kt.length&&(W=null==W?void 0:W.filter(pt=>{const qt=new Date(pt.departure.localTime),ve=60*qt.getHours()+qt.getMinutes();return null==Kt?void 0:Kt.some(pe=>pe.startTime<=ve&&pe.endTime>=ve)})),null!=bt&&bt.length){let pt=[];null==bt||bt.filter(qt=>qt.actived).forEach(qt=>{const ve="inland"===qt.code?["VN","VJ","QH","BL"]:[qt.code];pt=[...pt,...ve]}),null!=pt&&pt.length&&(W=null==W?void 0:W.filter(qt=>pt.includes(qt.provider)))}const we=yt.filter(pt=>pt.actived).map(pt=>pt.code);null!=we&&we.length&&(W=null==W?void 0:W.filter(pt=>pt.segments.some(qt=>we.includes(qt.modelAirplane))));const de=Object.entries(st).filter(([pt,qt])=>qt).map(([pt,qt])=>pt);return null!=de&&de.length&&(W=null==W?void 0:W.filter(pt=>"direct"===de[0]?0===pt.numOfStops:"oneRoute"===de[0]?1===pt.numOfStops:pt.numOfStops>1)),null!=W&&W.length?W:null},this.sortMapper=(tt=[],lt,at)=>{this.displayLimit=15;const{adtAmount:yt,childAmount:st,infantAmount:K}={adtAmount:this.searchData.adultCount,childAmount:this.searchData.childCount,infantAmount:this.searchData.infantCount};if(null==tt||!tt.length)return null;const ft=[...tt],ht={min_price:(H,V)=>{var Pt,Kt,we,de,pt,qt,ve,pe;return null!=at&&at.showNetPrice?H.totalPrice*yt+H.totalPriceChild*st+H.totalPriceInfant*K-(yt*((null===(Pt=H.discountData)||void 0===Pt?void 0:Pt.adtAmount)||0)+st*((null===(Kt=H.discountData)||void 0===Kt?void 0:Kt.chdAmount)||0)+K*((null===(we=H.discountData)||void 0===we?void 0:we.infAmount)||0))-(V.totalPrice*yt+V.totalPriceChild*st+V.totalPriceInfant*K-(yt*((null===(de=V.discountData)||void 0===de?void 0:de.adtAmount)||0)+st*((null===(pt=V.discountData)||void 0===pt?void 0:pt.chdAmount)||0)+K*((null===(qt=V.discountData)||void 0===qt?void 0:qt.infAmount)||0))):H.totalPrice-((null===(ve=null==H?void 0:H.discountData)||void 0===ve?void 0:ve.adtAmount)||0)-(V.totalPrice-((null===(pe=null==V?void 0:V.discountData)||void 0===pe?void 0:pe.adtAmount)||0))},max_price:(H,V)=>{var Pt,Kt,we,de,pt,qt,ve,pe;return null!=at&&at.showNetPrice?V.totalPrice*yt+V.totalPriceChild*st+V.totalPriceInfant*K-(yt*((null===(Pt=V.discountData)||void 0===Pt?void 0:Pt.adtAmount)||0)+st*((null===(Kt=V.discountData)||void 0===Kt?void 0:Kt.chdAmount)||0)+K*((null===(we=V.discountData)||void 0===we?void 0:we.infAmount)||0))-(H.totalPrice*yt+H.totalPriceChild*st+H.totalPriceInfant*K-(yt*((null===(de=H.discountData)||void 0===de?void 0:de.adtAmount)||0)+st*((null===(pt=H.discountData)||void 0===pt?void 0:pt.chdAmount)||0)+K*((null===(qt=H.discountData)||void 0===qt?void 0:qt.infAmount)||0))):V.totalPrice-((null===(ve=null==V?void 0:V.discountData)||void 0===ve?void 0:ve.adtAmount)||0)-(H.totalPrice-((null===(pe=null==H?void 0:H.discountData)||void 0===pe?void 0:pe.adtAmount)||0))},min_flight:(H,V)=>H.duration-V.duration,max_flight:(H,V)=>V.duration-H.duration,earliest_departure:(H,V)=>new Date(H.departure.localTime).getTime()-new Date(V.departure.localTime).getTime(),late_departure:(H,V)=>new Date(V.departure.localTime).getTime()-new Date(H.departure.localTime).getTime(),earliest_arrival:(H,V)=>new Date(H.arrival.localTime).getTime()-new Date(V.arrival.localTime).getTime(),late_arrival:(H,V)=>new Date(V.arrival.localTime).getTime()-new Date(H.arrival.localTime).getTime()}[lt];ht&&ft.sort(ht);const{available:Ct,unavailable:W}=(ft||[]).reduce((H,V)=>{var Pt;return null!==(Pt=V.fareCur)&&void 0!==Pt&&Pt.seatRemain?H.available.push(V):H.unavailable.push(V),H},{available:[],unavailable:[]});return null!=Ct&&Ct.length||null!=W&&W.length?[...Ct,...W]:null},this.sortComboMapper=(tt=[],lt,at)=>{this.displayLimit=15;const yt=[...tt],{adtAmount:st,childAmount:K,infantAmount:ft}={adtAmount:this.searchData.adultCount,childAmount:this.searchData.childCount,infantAmount:this.searchData.infantCount},ht={min_price:(H,V)=>null!=at&&at.showTotalPrice?H.totalPrice*st+H.totalPriceChild*K+H.totalPriceInfant*ft-(H.totalDiscountDataAdt*st+H.totalDiscountDataChd*K+H.totalDiscountDataInf*ft)-(V.totalPrice*st+V.totalPriceChild*K+V.totalPriceInfant*ft-(V.totalDiscountDataAdt*st+V.totalDiscountDataChd*K+V.totalDiscountDataInf*ft)):H.totalPrice-H.totalDiscountDataAdt-(V.totalPrice-V.totalDiscountDataAdt),max_price:(H,V)=>null!=at&&at.showTotalPrice?V.totalPrice*st+V.totalPriceChild*K+V.totalPriceInfant*ft-(V.totalDiscountDataAdt*st+V.totalDiscountDataChd*K+V.totalDiscountDataInf*ft)-(H.totalPrice*st+H.totalPriceChild*K+H.totalPriceInfant*ft-(H.totalDiscountDataAdt*st+H.totalDiscountDataChd*K+H.totalDiscountDataInf*ft)):V.totalPrice-V.totalDiscountDataAdt-(H.totalPrice-H.totalDiscountDataAdt),best_choice:(H,V)=>H.score-V.score,min_flight:(H,V)=>H.departJourneys[0].duration+H.arriveJourneys[0].duration-(V.departJourneys[0].duration+V.arriveJourneys[0].duration),max_flight:(H,V)=>V.departJourneys[0].duration+V.arriveJourneys[0].duration-(H.departJourneys[0].duration+H.arriveJourneys[0].duration),earliest_departure:(H,V)=>H.departJourneys[0].departure.scheduleTime-V.departJourneys[0].departure.scheduleTime,late_departure:(H,V)=>V.departJourneys[0].departure.scheduleTime-H.departJourneys[0].departure.scheduleTime,earliest_arrival:(H,V)=>H.arriveJourneys[0].departure.scheduleTime-V.arriveJourneys[0].departure.scheduleTime,late_arrival:(H,V)=>V.arriveJourneys[0].departure.scheduleTime-H.arriveJourneys[0].departure.scheduleTime}[lt];ht&&yt.sort(ht);const{available:Ct,unavailable:W}=(yt||[]).reduce((H,V)=>{var Pt,Kt;return null!==(Pt=V.departJourneys[0].fareCur)&&void 0!==Pt&&Pt.seatRemain&&null!==(Kt=V.arriveJourneys[0].fareCur)&&void 0!==Kt&&Kt.seatRemain?H.available.push(V):H.unavailable.push(V),H},{available:[],unavailable:[]});return null!=Ct&&Ct.length||null!=W&&W.length?[...Ct,...W]:null},this.filterMapperModeCombo=(tt,lt,at,yt,st)=>{this.displayLimit=15;let K=tt;const ft=null==lt?void 0:lt.filter(W=>W.actived);null!=ft&&ft.length&&(K=null==K?void 0:K.filter(W=>ft.some(H=>H.code===W.departJourneys[0].airline)));const bt=null==st?void 0:st.filter(W=>W.actived).map(W=>W.code);null!=bt&&bt.length&&(K=null==K?void 0:K.filter(W=>{const H=W.departJourneys[0].isLccFare,V=W.departJourneys[0].privateFare,Pt=W.departJourneys[0].isNdcFare;return bt.includes("lcc")&&H||bt.includes("privateFare")&&V||bt.includes("ndc")&&Pt}));const ht=Object.entries(at).filter(([W,H])=>H).map(([W,H])=>W);null!=ht&&ht.length&&(K=null==K?void 0:K.filter(W=>"direct"===ht[0]?0===W.departJourneys[0].numOfStops:"oneRoute"===ht[0]?1===W.departJourneys[0].numOfStops:W.departJourneys[0].numOfStops>1));let Ct=[];return null==yt||yt.filter(W=>W.actived).forEach(W=>{const H="inland"===W.code?["VN","VJ","QH","BL"]:[W.code];Ct=[...Ct,...H]}),null!=Ct&&Ct.length&&(K=null==K?void 0:K.filter(W=>Ct.includes(W.provider))),null!=K&&K.length?K:null},this.checkTicketSelectedMobile=(tt,lt)=>tt.some(at=>{var yt;return(null===(yt=at.ticketData)||void 0===yt?void 0:yt.key)===lt.key}),this.bypassSecurityTrustHtml=tt=>this.sanitizer.bypassSecurityTrustHtml(tt),this.previousScrollLeft=0,this._cfIconRegister.registerIcons([v.n78,v.bHT,v.D5L,v.TM4,v.gll,v.TOh,v.KYu,v.tLH,v.IIV,v._hx,v.YwC,v.esH,v.rJw,v.toh,v.wvd,v.tLH]),window.addEventListener("message",tt=>{var lt,at,yt,st,K,ft,bt,ht,Ct,W,H,V,Pt,Kt,we;const de=tt.data.queryStringParent;if(de&&(null!==(lt=this.searchData)&&void 0!==lt&&lt.journey.some(pt=>!(null!=pt&&pt.endPoint||pt.startPoint))||null!==(at=this.searchDataRaw)&&void 0!==at&&at.journey.some(pt=>!(null!=pt&&pt.endPoint||pt.startPoint)))){const pt=new URLSearchParams(de),qt=Object.fromEntries(pt.entries());this.initDataCpnByQueryParams(qt),pt&&this._eventLogService.searchInPaged(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===re.YI.Single?"OW":"RT",start_point:null===(yt=this.searchData.journey[0])||void 0===yt?void 0:yt.startPoint,end_point:null===(st=this.searchData.journey[0])||void 0===st?void 0:st.endPoint,departure_date:null!==(K=this.searchData.journey)&&void 0!==K&&K.length&&null!==(ft=this.searchData.journey[0])&&void 0!==ft&&ft.departDate?Ot(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?Ot(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",is_null:(0,Se.isEmpty)(pt),promotions:this.searchData.promotionCode?[{promotion_code:this.searchData.promotionCode,promotion_value:0,promotion_type:0}]:null},null===(bt=this._helperStorageSvc.btcCampaignData)||void 0===bt?void 0:bt.utmParams))}if(tt.data&&"sendUtmParams"===tt.data.action){const pt=null===(ht=tt.data)||void 0===ht?void 0:ht.utmParams;this._helperStorageSvc.btcCampaignData={utmParams:pt},this._eventLogService.captureGMBRSearchClick(Object.assign({search_type:this.searchData.typeOfList===re.YI.Single?"OW":"RT",start_point:null===(Ct=this.searchData.journey[0])||void 0===Ct?void 0:Ct.startPoint,end_point:null===(W=this.searchData.journey[0])||void 0===W?void 0:W.endPoint,chain_point:`${null===(H=this.searchData.journey[0])||void 0===H?void 0:H.startPoint}-${null===(V=this.searchData.journey[0])||void 0===V?void 0:V.endPoint}`,departure_date:null!==(Pt=this.searchData.journey)&&void 0!==Pt&&Pt.length&&null!==(Kt=this.searchData.journey[0])&&void 0!==Kt&&Kt.departDate?Ot(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?Ot(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",num_adt:this.searchData.adultCount,num_chd:this.searchData.childCount,num_inf:this.searchData.infantCount,device_type:this.isMobile?"MOBILE":"DESKTOP",promotions:this.searchData.promotionCode?[{promotion_code:this.searchData.promotionCode,promotion_value:0,promotion_type:0}]:null},null===(we=this._helperStorageSvc.btcCampaignData)||void 0===we?void 0:we.utmParams))}})}ngOnDestroy(){this.mediaQuerySubscription.unsubscribe(),this.intersectionObserver&&this.intersectionObserver.disconnect()}setupIntersectionObserver(){var e;const i=document.querySelector("[data-body-scroll-el]");i&&"IntersectionObserver"in window&&(this.intersectionObserver=new IntersectionObserver(a=>{a.forEach(c=>{const u=c.isIntersecting;this.isBodyScrollElVisible$.next(u),console.log("bodyScrollEl visibility:",u),this.isHeaderVisible=u})},{root:null===(e=this.scrollContainer)||void 0===e?void 0:e.nativeElement,rootMargin:"0px",threshold:.1}),this.intersectionObserver.observe(i))}ngAfterViewInit(){var e,i;setTimeout(()=>{var a;this.searchData.journey[0].startPoint||null===(a=this.searchFlightEl)||void 0===a||a.focusFirstStartPoint()},2e3),null===(i=null===(e=this.scrollContainer)||void 0===e?void 0:e.nativeElement)||void 0===i||i.addEventListener("scroll",()=>{const a=this.scrollContainer.nativeElement;a.scrollTop+a.clientHeight>=a.scrollHeight-2200&&(this.displayLimit+=15)}),this.setupIntersectionObserver()}ngOnInit(){var e,i;this.initDataCpnByQueryParams({}),(!(null===(e=this.searchData)||void 0===e)&&e.journey.some(c=>!(null!=c&&c.endPoint||c.startPoint))||!(null===(i=this.searchDataRaw)||void 0===i)&&i.journey.some(c=>!(null!=c&&c.endPoint||c.startPoint)))&&window.parent.postMessage("searchRecovered","*"),this.route.queryParams.pipe((0,Iv.b)(2e3)).subscribe(c=>{!(0,Se.isNil)(c)&&this.initDataCpnByQueryParams(c)}),this.initPromoCode(),setTimeout(()=>{this.textState="hidden",setTimeout(()=>{this.widthState="hidden"},300)},3e3);const a=window.matchMedia("(max-width: 768px)");this.isMobile=a.matches,this.mediaQuerySubscription=a0(c=>a.addEventListener("change",c),c=>a.removeEventListener("change",c)).subscribe(c=>{this.isMobile=c.matches,console.log("Mobile view changed:",this.isMobile)})}initPromoCode(){this.isLoadingPromoCode=!0,this.getSuggestPromoCodeSearchSvc.getList().subscribe({next:e=>{e.data&&e.data.length>0&&(this.dataPromotion=e.data,this._helperStorageSvc.promoBookData=e.data.filter(i=>"BOOK"===i.type))},complete:()=>{this.isLoadingPromoCode=!1}})}initDataCpnByQueryParams(e){this.searchData=this._helperSvc.progressQueryToRawData(e),this.ticketCur=(0,oe.yE)(Ol,this._helperResultSvc.initTicketCur(+e.t),{excludeExtraneousValues:!0}),this._helperStorageSvc.btcResultData={search:this.searchData,sessionSearchKey:"",ticketCur:this.ticketCur,dataBooking:null},this.journeyFormArr||this.initForm(),this.searchData&&(this.searchDataRaw=(0,Se.cloneDeep)(this.searchData),this.initDataSearch(this.searchDataRaw)),this.initMinFareOption(),this.initDateSearchMinFare(this.journeyFormArr.controls[0].value.departDate),this.generateRangeDateBar(),this.searchMinFareDataBtcProvider.searchMinFareDataBtc&&this.searchMinFareDataBtcProvider.searchMinFareDataBtc.length>0&&(this.searchMinFaresResult=this.searchMinFareDataBtcProvider.searchMinFareDataBtc||[],this.searchMinFaresResult.forEach(i=>{i.data instanceof Map||(i.data=new Map(Object.entries(i.data)))}),this.mappingMinFares(0)),this.searchMinFaresApi(this.listDateSearchMinFares)}initForm(){this.journeyFormArr=this._fb.array([]),this._helperSvc.addJourney({startPoint:null,endPoint:null,departDate:null},this.journeyFormArr,"ONE_WAY")}initDataSearch(e){var i,a;this._helperSvc.progressJourneyByType(this.journeyFormArr,this.searchData.type,e.journey),this.isAirLineInternational=null!==(i=this.journeyFormArr.controls)&&void 0!==i&&i.length?this.progressInternationalFlight(this.journeyFormArr.controls[0].value):this.progressInternationalFlight({startPoint:null,endPoint:null,departDate:null});const c=e.journey;null!=c&&c.length?(this.progressCabinQuery(this.searchData.journey[0].cabin),this.progressPaxTypeQuery(this.searchData.journey[0].paxType)):(this.progressCabinQuery(null),this.progressPaxTypeQuery(null)),null!==(a=null==e?void 0:e.journey)&&void 0!==a&&a.some(u=>u.startPoint&&u.endPoint)&&this.initSearchResultList(e)}progressInternationalFlight(e){var i;let a=!1;if((e.startPoint||e.endPoint)&&(a=!!e.startPoint&&this._locationDataService.checkAirportInternational(e.startPoint)||!!e.endPoint&&this._locationDataService.checkAirportInternational(e.endPoint),!a)){this.cabinList=[...this._helperSvc.resetCabinList(this.cabinList)];const c=this.cabinList.find(d=>d.actived);c&&this.cabinChange(c),this.paxTypeList=[...this._helperSvc.resetPaxTypeList(this.paxTypeList)];const u=this.paxTypeList.find(d=>d.actived);u&&this.paxTypeChange(u)}return this.airlineFilters=[...this._helperSvc.progressAirlineFileByInternational(this.airlineFilters,a,null!==(i=this.searchData.journey)&&void 0!==i&&i.length?this.searchData.journey[0].airline:null)],this.searchData.journey.map(c=>c.airline=this.airlineFilters.filter(u=>u.actived).map(u=>u.value).join(",")),this.initFilterBeforeSearchByInternational(a),a}initFilterBeforeSearchByInternational(e){this.optionsTicketType=e?Il:[],this.bookingSystemList=e?N1:[]}progressCabinQuery(e){this.cabinList=[...this.cabinList.map(i=>Object.assign(Object.assign({},i),{actived:e?i.value===e:i.actived}))]}progressPaxTypeQuery(e){this.paxTypeList=[...this.paxTypeList.map(i=>Object.assign(Object.assign({},i),{actived:e?e===i.value:i.actived}))]}initSearchResultList(e=this.searchDataRaw){this.startProgressBar();const i=(new Date).getTime();this.dataRaw=null,this.listTicketDisplay=[],this.listTicketComboDisplay=[];const a=["VN","FLY_ONE","GDS","BSP","AIR_1G","ST"],c=["VJ","QH","VU"],u=e.journey[0].airline?e.journey[0].airline.split(","):[],d=Object.assign(Object.assign({},e),{journeys:e.journey.map(f=>Object.assign(Object.assign({},f),{providers:u.length?u.join(","):[...a,...c].join(",")}))});(function Pv(n,o,e){return(0,Ov.P)(()=>n()?o:e)})(()=>!this.searchData.promotionCode,this.getSuggestPromoCodeSearchSvc.get(d).pipe((0,Rv.K)(()=>(0,cu.of)({traceId:"string",status:"OK",data:{listPromo:[]},objectError:null,errorCode:null,success:!0}))),(0,cu.of)(null)).pipe((0,be.w)(f=>{var _,m,x;let E=Object.assign({},e);if(f&&null!==(m=null===(_=f.data)||void 0===_?void 0:_.listPromo)&&void 0!==m&&m.length){const P=null===(x=f.data)||void 0===x?void 0:x.listPromo[0];this.searchDataRaw.promotionCode=P,this.searchData=Object.assign(Object.assign({},this.searchData),{promotionCode:P}),E=Object.assign(Object.assign({},e),{promotionCode:P})}const Z=this.createApiCall(E,u,a),D=this.createApiCall(E,u,c);return(0,Mf.D)([Z,D]).pipe((0,s0.x)(()=>{this.progress.percent=100,setTimeout(()=>{this.progress.isProgress=!1,this._cdr.detectChanges()},1e3)}))})).subscribe({next:f=>{var _,m,x;f.some(E=>"FAILED"===(null==E?void 0:E.status))&&(this.apiError=!0,this._modal.open(su,{title:"\u0110\xe3 x\u1ea3y ra l\u1ed7i, vui l\xf2ng t\xecm ki\u1ebfm l\u1ea1i",body:`${null===(x=null===(m=null===(_=f.find(Z=>"FAILED"===(null==Z?void 0:Z.status)))||void 0===_?void 0:_.objectError)||void 0===m?void 0:m.errorDescription)||void 0===x?void 0:x.vi}. Li\xean h\u1ec7 h\u1ed7 tr\u1ee3: 1900 866 657`,okText:"\u0110\xf3ng",hasCancel:!1,cancelText:""}).afterClosed$.subscribe(()=>{window.location.reload()}),this.btcLogErrorTeleSvc.notify(`\u{1f6d1} *API FAILED*\n*URL:* ${this.appConfig.apiUrl}\n*Time:* ${(new Date).toISOString()}\n*Device:* ${this.isMobile?"MOBILE":"DESKTOP"}\n*Input:* \n\`${JSON.stringify(e,null,2)}\`\n*Response:* \n\`${JSON.stringify(f,null,2)}\``))},error:f=>{var _,m,x;console.log("error",f),this.apiError=!0,this._modal.open(su,{title:"\u0110\xe3 x\u1ea3y ra l\u1ed7i, vui l\xf2ng t\xecm ki\u1ebfm l\u1ea1i",body:`${(null===(m=null===(_=null==f?void 0:f.objectError)||void 0===_?void 0:_.errorDescription)||void 0===m?void 0:m.vi)||(null===(x=null==f?void 0:f.error)||void 0===x?void 0:x.message)}. Li\xean h\u1ec7 h\u1ed7 tr\u1ee3: 1900 866 657`,okText:"\u0110\xf3ng",hasCancel:!1,cancelText:""}).afterClosed$.subscribe(()=>{window.location.reload()}),this.btcLogErrorTeleSvc.notify(`\u{1f6d1} *API FAILED*\n*URL:* ${this.appConfig.apiUrl}\n*Time:* ${(new Date).toISOString()}\n*Device:* ${this.isMobile?"MOBILE":"DESKTOP"}\n*Input:* \n\`${JSON.stringify(e,null,2)}\`\n*Response:* \n\`${JSON.stringify(f,null,2)}\``)},complete:()=>{this.timeApiCallList||(this.timeApiCallList=(new Date).getTime()-i),this.isLoadingPage&&(this.isLoadingPage=!1),this._cdr.detectChanges()}})}createApiCall(e,i,a){const c=null!=i&&i.length?i.filter(d=>a.includes(d)):a,u=Object.assign(Object.assign({},e),{journey:e.journey.map(d=>Object.assign(Object.assign({},d),{airline:c.join(",")}))});return null!=c&&c.length?this._searchBtcSvc.searchFlight(this._helperResultSvc.convertSearchInputToRequest(u)).pipe((0,Mc.b)(d=>{this.handleApiResponse(d,e.typeOfList),e.isDirectFlight&&(this.ticketFilterNumStop=Object.assign(Object.assign({},this.ticketFilterNumStop),{direct:!0}))})):(0,cu.of)(null)}handleApiResponse(e,i){var a,c,u,d;if(this.dataRaw=null!==(a=this.dataRaw)&&void 0!==a&&a.data?Object.assign(Object.assign({},this.dataRaw),{data:Object.assign(Object.assign({},this.dataRaw.data),e.data)}):e,!(null===(c=e.data)||void 0===c)&&c.sessionSearchKey&&(this._helperStorageSvc.btcResultData=Object.assign(Object.assign({},this._helperStorageSvc.btcResultData),{sessionSearchKey:e.data.sessionSearchKey})),i===re.YI.Single){const f=(0,Se.flatMap)(null===(u=null==e?void 0:e.data)||void 0===u?void 0:u.flightOptions,_=>_.journeys);this.listTicketDisplay=[...this.listTicketDisplay,...f]}else if(i===re.YI.Combo){const f=[];((null===(d=e.data)||void 0===d?void 0:d.flightOptions)||[]).map(_=>_.comboInfo).forEach(_=>{var m;null===(m=_.departJourneys)||void 0===m||m.forEach(x=>{var E;null===(E=_.arriveJourneys)||void 0===E||E.forEach(Z=>{f.push(Object.assign(Object.assign({},_),{departJourneys:[x],arriveJourneys:[Z]}))})})}),this.listTicketComboDisplay=[...this.listTicketComboDisplay,...f.map(_=>(0,oe.yE)(Uo,_,{excludeExtraneousValues:!0}))],this.loadTabDataCombo(this.listTicketComboDisplay)}this.onResetFilter(),this.progressAmountDiscount(),this._cdr.detectChanges()}loadTabDataCombo(e){const i=e.find(u=>u.fastest),a=e.find(u=>u.cheapest),c=e.find(u=>u.bestChoice);this.tabComboDetail={best:{price:c?c.totalPrice:0,durationStr:c?c.durationStr:""},cheapest:{price:a?a.totalPrice:0,durationStr:a?a.durationStr:""},fastest:{price:i?i.totalPrice:0,durationStr:i?i.durationStr:""}}}uniqueAirlines(e){const i=new Map;null==e||e.forEach(a=>{var c;!i.has(a.airline)&&null!==(c=a.fareCur)&&void 0!==c&&c.seatRemain&&i.set(a.airline,{code:a.airline,name:a.airlineName,actived:!1})}),this.airlineOptions=Array.from(i.values())}startProgressBar(){this.progress.isProgress=!0,this.progress.percent=1,this.progress.interval=setInterval(()=>{if(this.progress.percent<99){const e=25*Math.random();this.progress.percent+=e,this.progress.percent>100&&(this.progress.percent=99)}else clearInterval(this.progress.interval);this._cdr.detectChanges()},1500)}flightTypeChange(e){switch(e){case re.VB.OneWay:this._helperSvc.updateJourneyByType(this.journeyFormArr,"ONE_WAY");break;case re.VB.RoundTrip:this._helperSvc.updateJourneyByType(this.journeyFormArr,"ROUND_TRIP");break;case re.VB.MultiWay:this._helperSvc.updateJourneyByType(this.journeyFormArr,"MULTI_WAY")}const{cabin:i,paxType:a,airline:c}=this.searchData.journey[0];this.searchData=Object.assign(Object.assign({},this.searchData),{type:e,journey:this._helperSvc.progressJourneyFormArr(this.journeyFormArr.value,e,{cabin:i,paxType:a,airline:c})})}numberOfPassengerChange({adult:e,child:i,infant:a}){this.searchData=Object.assign(Object.assign({},this.searchData),{adultCount:e,childCount:i,infantCount:a})}airlineFilterChange(e){this.airlineFilters.forEach(i=>i.actived=!1),this.airlineFilters.filter(i=>e.includes(i.value)).forEach(i=>i.actived=!0),this.searchData.journey.map(i=>i.airline=e.join(","))}searchInputChange(){this.isAirLineInternational=this.progressInternationalFlight(this.journeyFormArr.controls[0].value)}onDateTypeChange(e){console.log("date type change",e)}removeRoute(e){console.log("remove route",e)}researchFlight(){if(this.journeyFormArr.markAllAsTouched(),this.isLoadingPage=!0,this.journeyFormArr.invalid)return;this.displayLimit=15,this.bottomSheetRef&&this.bottomSheetRef.dismiss();const{type:e,journey:i,adultCount:a,childCount:c,infantCount:u,promotion:d,promotionCode:f}=this.searchData,{cabin:_,paxType:m,airline:x}=i[0],E=this._helperSvc.progressJourneyFormArr(this.journeyFormArr.value,e,{cabin:_,paxType:m,airline:x});this.searchData=Object.assign(Object.assign({},this.searchData),{type:E.length>1?2===E.length?re.VB.RoundTrip:re.VB.MultiWay:re.VB.OneWay,journey:E}),this.ticketCur=this._helperResultSvc.initTicketCur(e),this._helperStorageSvc.btcResultData={search:this.searchData,sessionSearchKey:"",ticketCur:this.ticketCur,dataBooking:null},this.dataRaw=null,this.listTicketDisplay=[];const Z=this._helperSvc.removeEmptyFields(this._helperSvc.compactInputData({adult:a,child:c,infant:u,isDirectFlight:!1,promotion:d,promotionCode:f,type:e+"",journey:E,agentPromotion:null})),D="DEV"===this.appConfig.env?`/search-dev.html?${(0,lo.B)(Z)}`:`/search.html?${(0,lo.B)(Z)}`;window.parent.postMessage({action:"redirect",url:D},"*"),this.router.navigate([],{relativeTo:this.route,queryParams:Z,queryParamsHandling:"merge"})}cabinChange({value:e}){this.searchData.journey.map(i=>i.cabin=e),this.cabinList=[...this.cabinList.map(i=>Object.assign(Object.assign({},i),{actived:i.value===e}))]}paxTypeChange({value:e}){this.paxTypeList=[...this.paxTypeList.map(i=>Object.assign(Object.assign({},i),{actived:!!e&&i.value===e}))],this.searchData.journey.map(i=>i.paxType=e)}searchAndJourneyToTicketSelect(e,i,a){const c=this._helperResultSvc.progressPriceList(e,[a]),u=i.ticketSelected.map((f,_)=>_===i.idxTicketSelected?Object.assign(Object.assign({},f),{ticketPriceList:c,ticketData:a,priceTotalByPassenger:this._helperResultSvc.sumPriceTicket(c)}):f),d=u.findIndex(f=>!f.ticketData);return Object.assign(Object.assign({},i),{ticketSelected:u,idxTicketSelected:d>=0?d:0,totalPrice:u.reduce((f,_)=>f+_.priceTotalByPassenger,0)})}chooseTicketCombo(e){[e.departJourneys[0],e.arriveJourneys[0]].forEach(i=>{this.chooseTicket(i)})}chooseTicket(e,i){if(this.ticketCur=(0,oe.yE)(Ol,this.searchAndJourneyToTicketSelect(this.searchDataRaw,this.ticketCur,e),{excludeExtraneousValues:!0}),console.log(this.ticketCur),this._helperStorageSvc.btcResultData=Object.assign(Object.assign({},this._helperStorageSvc.btcResultData),{ticketCur:this.ticketCur}),this.progressAmountDiscount(),this.ticketCur.ticketSelected.some(c=>!c.ticketData))return console.log(i),void setTimeout(()=>{i&&i.scrollIntoView({behavior:"smooth",block:"center"}),console.log("scroll")});const a=this.ticketCur.ticketSelected.map(c=>{var u,d,f;return{airline:null===(u=c.ticketData)||void 0===u?void 0:u.airline,priceTotal:c.priceTotalByPassenger-(c.ticketPriceList?null===(d=c.ticketPriceList)||void 0===d?void 0:d.reduce((_,m)=>_+((null==m?void 0:m.discountAmount)*(null==m?void 0:m.quantity)||0),0):0),priceList:null===(f=c.ticketPriceList)||void 0===f?void 0:f.map(_=>({code:_.code,type:_.type,net_price:_.baseFare+_.surCharge-_.beService,services_fee:_.beService,discount_amount:_.discountAmount,total_price:_.totalFare-_.discountAmount*_.quantity,quantity:_.quantity}))}});if(this.isMobile){const c=this._bottomSheetService.open(Rl,{headerTitle:"X\xe1c nh\u1eadn chuy\u1ebfn bay \u0111\xe3 ch\u1ecdn",rightButtonIcon:"close",containerFullHeigh:!0,rightButtonIconClass:"text-neutral-gray-4",data:{ticketCur:this.ticketCur,dataSearch:this.searchDataRaw}});c.containerInstance._rightButtonClick.subscribe(u=>{c.dismiss(),this.ticketCur=this._helperResultSvc.initTicketCur(this.searchDataRaw.type),this._helperStorageSvc.btcResultData=Object.assign(Object.assign({},this._helperStorageSvc.btcResultData),{ticketCur:this.ticketCur}),this.progressAmountDiscount(),i&&i.scrollIntoView({behavior:"smooth",block:"start"})}),c.afterDismissed().subscribe({next:u=>{var d,f,_,m,x,E,Z,D;if(u){this.router.navigate(["/pax-info"]),window.parent.postMessage({action:"addQuery",query:"pax-info"},"*");const R=((new Date).getTime()-this.dateInPage.getTime())/1e3,$=Math.round(R);this._eventLogService.paxInfor(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===re.YI.Single?"OW":"RT",start_point:null===(d=this.searchData.journey[0])||void 0===d?void 0:d.startPoint,end_point:null===(f=this.searchData.journey[0])||void 0===f?void 0:f.endPoint,departure_date:null!==(_=this.searchData.journey)&&void 0!==_&&_.length&&null!==(m=this.searchData.journey[0])&&void 0!==m&&m.departDate?Ot(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?Ot(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",has_inventory_ticket:this.ticketCur.ticketSelected.find(Q=>Q.ticketData&&"IVS"===Q.ticketData.provider)?1:0,timeInPage:R,roundedTimeInPage:$,lengthDataRaw:null===(Z=null===(E=null===(x=this.dataRaw)||void 0===x?void 0:x.data)||void 0===E?void 0:E.flightOptions)||void 0===Z?void 0:Z.length,timeOut:(new Date).getTime(),timeIn:this.dateInPage.getTime(),timeApiCallList:Math.round(this.timeApiCallList),apiError:this.apiError,promotions:this.searchData.promotionCode?[{promotion_code:this.searchData.promotionCode,promotion_value:0,promotion_type:0}]:null,priceLog:a,price:this.ticketCur.ticketSelected.map(Q=>{var X;const z=null===(X=Q.ticketPriceList)||void 0===X?void 0:X.find(N=>"ADT"===N.code);return z?z.totalFare-z.discountAmount:0})},null===(D=this._helperStorageSvc.btcCampaignData)||void 0===D?void 0:D.utmParams))}else this.ticketCur=this._helperResultSvc.initTicketCur(this.searchDataRaw.type),this._helperStorageSvc.btcResultData=Object.assign(Object.assign({},this._helperStorageSvc.btcResultData),{ticketCur:this.ticketCur}),this.progressAmountDiscount()}})}else this._modal.open(Rl,{ticketCur:this.ticketCur,dataSearch:this.searchDataRaw}).afterClosed$.subscribe({next:u=>{var d,f,_,m,x,E,Z,D;if(u.data){this.router.navigate(["/pax-info"]),window.parent.postMessage({action:"addQuery",query:"pax-info"},"*");const R=((new Date).getTime()-this.dateInPage.getTime())/1e3,$=Math.round(R);this._eventLogService.paxInfor(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===re.YI.Single?"OW":"RT",start_point:null===(d=this.searchData.journey[0])||void 0===d?void 0:d.startPoint,end_point:null===(f=this.searchData.journey[0])||void 0===f?void 0:f.endPoint,departure_date:null!==(_=this.searchData.journey)&&void 0!==_&&_.length&&null!==(m=this.searchData.journey[0])&&void 0!==m&&m.departDate?Ot(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?Ot(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",has_inventory_ticket:this.ticketCur.ticketSelected.find(Q=>Q.ticketData&&"IVS"===Q.ticketData.provider)?1:0,timeInPage:R,roundedTimeInPage:$,lengthDataRaw:null===(Z=null===(E=null===(x=this.dataRaw)||void 0===x?void 0:x.data)||void 0===E?void 0:E.flightOptions)||void 0===Z?void 0:Z.length,timeOut:(new Date).getTime(),timeIn:this.dateInPage.getTime(),timeApiCallList:Math.round(this.timeApiCallList),apiError:this.apiError,priceLog:a,promotions:this.searchData.promotionCode?[{promotion_code:this.searchData.promotionCode,promotion_value:0,promotion_type:0}]:null,price:this.ticketCur.ticketSelected.map(Q=>{var X;const z=null===(X=Q.ticketPriceList)||void 0===X?void 0:X.find(N=>"ADT"===N.code);return z?z.totalFare-z.discountAmount:0})},null===(D=this._helperStorageSvc.btcCampaignData)||void 0===D?void 0:D.utmParams))}else this.ticketCur=this._helperResultSvc.initTicketCur(this.searchDataRaw.type),this._helperStorageSvc.btcResultData=Object.assign(Object.assign({},this._helperStorageSvc.btcResultData),{ticketCur:this.ticketCur}),this.progressAmountDiscount()}})}onChangeSearch(e,i){this.isMobile?this.openSearchInputBottomSheet(i):e.focusFirstStartPoint()}onResetFilter(){var e;const i=this.searchData.typeOfList===re.YI.Single;this.viewConfig=i?S1:F1,this.filterFareTypeOptions=i?this._helperResultSvc.initFareClassFilters(this.listTicketDisplay):[],this.modelAirPlaneOptions=i?this._helperResultSvc.initModelAirPlanceOptions(this.listTicketDisplay):[],this.uniqueAirlines(this.searchData.typeOfList===re.YI.Single?this.listTicketDisplay:null===(e=this.listTicketComboDisplay)||void 0===e?void 0:e.map(a=>a.departJourneys[0])),this.optionsTicketType=this.optionsTicketType.length?this.optionsTicketType.map(a=>Object.assign(Object.assign({},a),{actived:!1})):[],this.ticketFilterNumStop=Ro,this.timeFlightOptions=i?Zl:[],this.bookingSystemList=this.bookingSystemList.length?this.bookingSystemList.map(a=>Object.assign(Object.assign({},a),{actived:!1})):[]}showDetail(e){this._modal.open(nn,{ticketCur:this.ticketCur,dataSearch:this.searchData,index:e,isAirLineInternational:this.isAirLineInternational})}ticketTrackByFn(e,i){return i.key}idxTicketSelectedChange(e){this.ticketCur=Object.assign(Object.assign({},this.ticketCur),{idxTicketSelected:e}),this._helperStorageSvc.btcResultData=Object.assign(Object.assign({},this._helperStorageSvc.btcResultData),{ticketCur:this.ticketCur}),this.progressAmountDiscount()}openSearchInputBottomSheet(e){this.bottomSheetRef=this._bottomSheetService.open(e,{headerTitle:"T\xecm ki\u1ebfm",leftButtonIcon:"close",rightButtonIcon:"",leftButtonIconClass:"text-neutral-gray-4",containerFullHeigh:!1,disableCloseAnimation:!0}),this.bottomSheetRef.containerInstance._leftButtonClick.subscribe(i=>this.bottomSheetRef.dismiss())}reselectTicket(e,i){const a=this.ticketCur.ticketSelected.map((c,u)=>u===e?{ticketData:null,ticketPriceList:null,priceTotalByPassenger:0}:c);this.ticketCur=Object.assign(Object.assign({},this.ticketCur),{ticketSelected:a,idxTicketSelected:e,totalPrice:a.reduce((c,u)=>c+u.priceTotalByPassenger,0)}),this._helperStorageSvc.btcResultData=Object.assign(Object.assign({},this._helperStorageSvc.btcResultData),{ticketCur:this.ticketCur}),this.progressAmountDiscount(),i&&i.scrollIntoView({behavior:"smooth",block:"start"})}onScroll(e){if(e.target){const i=e.target;i.scrollHeight-i.scrollTop-i.clientHeight<1200&&(this.displayLimit+=15)}}progressAmountDiscount(){const e=this.ticketCur.ticketSelected.filter(i=>i.ticketData).map(i=>i.ticketData);this.amountDiscount=this._helperResultSvc.progressPriceList(this.searchData,e).filter(i=>i.discountAmount).reduce((i,a)=>i+a.discountAmount*a.quantity,0)}handleBeforeUnload(e){var i,a,c,u,d,f,_,m,x,E,Z;console.log("beforeunload");let D=2;D=this.searchData&&this.searchData.journey&&this.searchData.journey.length&&this.searchData.journey[0].startPoint?null!==(c=null===(a=null===(i=this.dataRaw)||void 0===i?void 0:i.data)||void 0===a?void 0:a.flightOptions)&&void 0!==c&&c.length?1:0:2;const R=((new Date).getTime()-this.dateInPage.getTime())/1e3,$=Math.round(R);this._eventLogService.searchChurn(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===re.YI.Single?"OW":"RT",start_point:null===(u=this.searchData.journey[0])||void 0===u?void 0:u.startPoint,end_point:null===(d=this.searchData.journey[0])||void 0===d?void 0:d.endPoint,departure_date:null!==(f=this.searchData.journey)&&void 0!==f&&f.length&&null!==(_=this.searchData.journey[0])&&void 0!==_&&_.departDate?Ot(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?Ot(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",has_inventory_ticket:this.ticketCur.ticketSelected.find(Q=>Q.ticketData&&"IVS"===Q.ticketData.provider)?1:0,result:D,timeInPage:R,roundedTimeInPage:$,lengthDataRaw:null===(E=null===(x=null===(m=this.dataRaw)||void 0===m?void 0:m.data)||void 0===x?void 0:x.flightOptions)||void 0===E?void 0:E.length,timeOut:(new Date).getTime(),timeIn:this.dateInPage.getTime(),timeApiCallList:Math.round(this.timeApiCallList),apiError:this.apiError,promotions:this.searchData.promotionCode?[{promotion_code:this.searchData.promotionCode,promotion_value:0,promotion_type:0}]:null},null===(Z=this._helperStorageSvc.btcCampaignData)||void 0===Z?void 0:Z.utmParams))}initMinFareOption(){this.minFareOptionConfig={minPrice:new Map,airlineMinPrice:[{airline:Rt.QK.VJ,airlineName:"Vietjet Air",color:"#E03C31",selected:!0},{airline:Rt.QK.VN,airlineName:"Vietnam Airlines",color:"#2E5EAA",selected:!0}],isRangeMinFare:this.searchDataRaw.type===this.btcTypeSearch.RoundTrip,showMinPrice:!0,showLunarDate:!0}}onToggleAirline(e){e&&this.mappingMinFares()}mappingMinFares(e=0){if(this.searchMinFaresCurrentLegResult=this.searchMinFaresResult.find(i=>i.leg===e),this.searchMinFaresCurrentLegResult){this.minFareOptionConfig.minPrice=new Map;const i=this.minFareOptionConfig.airlineMinPrice.filter(a=>a.selected).map(a=>a.airline);this.searchMinFaresCurrentLegResult.data.forEach((a,c)=>{const u=a.filter(_=>i.includes(_.key)),d=u.length?u.reduce((_,m)=>m.value<_.value?m:_):null,f=d?this.minFareOptionConfig.airlineMinPrice.find(_=>_.airline===d.key):null;this.minFareOptionConfig.minPrice.set(c,d?{price:Math.ceil(d.value/1e3),originPrice:(null==d?void 0:d.value)||0,airline:(null==f?void 0:f.airline)||d.key,airlineName:(null==f?void 0:f.airlineName)||d.key,color:(null==f?void 0:f.color)||""}:null)}),this.minFareOptionConfig=Object.assign({},this.minFareOptionConfig)}this.mappingMinFareMultiDateBar()}mappingMinFareMultiDateBar(){if(this.searchMinFaresCurrentLegResult){const e=Object.assign(Object.assign({},this.minFareOptionConfig),{minPrice:new Map}),i=this.airlineFilters.filter(c=>c.actived).map(c=>c.value),a=this.minFareOptionConfig.airlineMinPrice.filter(c=>i.includes(c.airline)).map(c=>c.airline);this.searchMinFaresCurrentLegResult.data.forEach((c,u)=>{const d=c.filter(m=>a.includes(m.key)),f=d.length?d.reduce((m,x)=>x.value<m.value?x:m):null,_=f?this.minFareOptionConfig.airlineMinPrice.find(m=>m.airline===f.key):null;e.minPrice.set(u,f?{price:Math.ceil(f.value/1e3)+(null==f?void 0:f.serviceFee),originPrice:(null==f?void 0:f.value)+(null==f?void 0:f.serviceFee)||0,airline:(null==_?void 0:_.airline)||f.key,airlineName:(null==_?void 0:_.airlineName)||f.key,color:(null==_?void 0:_.color)||""}:null)}),this.multiDateBar&&this.multiDateBar.length&&this.multiDateBar.forEach(c=>{if(e.minPrice.has(c.key)){const u=e.minPrice.get(c.key);c.price=(null==u?void 0:u.originPrice)||0}})}}onPreviousDate(){this.addScrollElement("PREVIOUS"),this.mappingMinFareMultiBar();const e=document.querySelector("#mutli-date-bar");e&&e.scrollBy({left:-this.scrollAmount,behavior:"smooth"})}addScrollElement(e){let i;if(i=this.isMobile?document.querySelector("#mutli-date-bar-mobile"):document.querySelector("#mutli-date-bar"),"NEXT"===e){const a=null==i?void 0:i.scrollLeft,c=null==i?void 0:i.scrollWidth,u=null==i?void 0:i.clientWidth;a&&c&&u&&a+u>=c-6*this.itemWidth&&this.addDateBar()}"PREVIOUS"===e&&i&&i.scrollLeft<=6*this.itemWidth&&this.subtractDateBar()}mappingMinFareMultiBar(){let e=new Map;this.searchMinFareDataBtcProvider&&this.searchMinFareDataBtcProvider.searchMinFareDataBtc&&this.searchMinFareDataBtcProvider.searchMinFareDataBtc[0]&&(e=new Map(Object.entries(this.searchMinFareDataBtcProvider.searchMinFareDataBtc[0].data))),e&&this.multiDateBar.forEach(i=>{if(e.has(i.key)){const a=e.get(i.key);if(a){const c=a.length?a.reduce((u,d)=>d.value<u.value?d:u):null;i.price=c.value+(null==c?void 0:c.serviceFee)||0}}})}onScrollMultiDateBar(e){const a=e.target.scrollLeft;a>=this.previousScrollLeft?(this.addScrollElement("NEXT"),this.mappingMinFareMultiBar()):a<this.previousScrollLeft&&(this.addScrollElement("PREVIOUS"),this.mappingMinFareMultiBar()),this.previousScrollLeft=a}onSelectDateBar(e,i){this.journeyFormArr.controls.forEach((a,c)=>{c?1===c&&i&&a.patchValue({returnDate:i}):a.patchValue({departDate:e})}),this.researchFlight()}onNextDate(){this.addScrollElement("NEXT"),this.mappingMinFareMultiBar();const e=document.querySelector("#mutli-date-bar");e&&e.scrollBy({left:this.scrollAmount,behavior:"smooth"})}addDateBar(e){const i=this.multiDateBar[this.multiDateBar.length-1].fromDate,a=this.multiDateBar[this.multiDateBar.length-1].toDate;let c=12;if(e){const u=new Date(e).getTime()-new Date(i).getTime();u>0&&(c+=Math.ceil(Math.abs(u)/864e5))}for(let u=1;u<=c;u++){const d=vt(i).add(u,"days").toDate(),f=(0,Qn.$j)(d);this.multiDateBar.push({key:vt(i).add(u,"days").format("YYYY-MM-DD"),fromDate:d,toDate:a?vt(a).add(u,"days").toDate():null,price:0,airlineMinPrice:"",active:!0,selected:!1,dayInfo:{holiday:f.holiday,lunarDate:`ng\xe0y ${f.lunarDate.date}/${f.lunarDate.month} \xe2m l\u1ecbch`,dateFormat:f.dateFormat}})}}subtractDateBar(e){const i=this.multiDateBar[0].fromDate,a=this.multiDateBar[0].toDate;let c=12;if(e){const u=new Date(i).getTime()-new Date(e).getTime();u>0&&(c+=Math.ceil(Math.abs(u)/864e5))}for(let u=1;u<=c;u++){const d=vt(i).subtract(u,"days").toDate(),f=(0,Qn.$j)(d),_={key:vt(i).subtract(u,"days").format("YYYY-MM-DD"),fromDate:d,toDate:a?vt(a).subtract(u,"days").toDate():null,price:0,airlineMinPrice:"",active:!0,selected:!1,dayInfo:{holiday:f.holiday,lunarDate:`ng\xe0y ${f.lunarDate.date}/${f.lunarDate.month} \xe2m l\u1ecbch`,dateFormat:f.dateFormat}};if(_.key<vt(new Date).format("YYYY-MM-DD"))break;this.multiDateBar.unshift(Object.assign(Object.assign({},_),{active:_.key>=vt(new Date).format("YYYY-MM-DD")}))}}updateDateSearchMinFare(e){var i;"AIRPORT"===e&&(this.minFareOptionConfig.minPrice=new Map,this.minFareOptionConfig=Object.assign({},this.minFareOptionConfig),this.listDateSearchMinFares=[]);let c=[],u=new Date;if(u=null===(i=this.journeyFormArr.value[0])||void 0===i?void 0:i.departDate,!u&&!this.minFareOptionConfig.minPrice.size&&(this.initDateSearchMinFare(),c=this.listDateSearchMinFares),u){const d=vt(new Date(u.getFullYear(),u.getMonth())).format("YYYY-MM-DD");((d,f)=>{const _=d.getFullYear(),m=f.getFullYear(),x=d.getMonth();return 12*(m-_)+(f.getMonth()-x)})(new Date,u)>2?c.push(d):this.generateRangeDateSearchMinFare(d).forEach(_=>{this.listDateSearchMinFares.includes(_)||c.push(_)})}c&&c.length&&this.searchMinFaresApi(c)}initDateSearchMinFare(e=new Date){this.listDateSearchMinFares=[];const i=vt(e).format("YYYY-MM-DD"),a=vt(e).add(1,"month").startOf("month").format("YYYY-MM-DD");this.listDateSearchMinFares.push(i),this.listDateSearchMinFares.push(a)}generateRangeDateSearchMinFare(e,i=""){const a=vt(i||new Date),c=vt(e),u=[];u.push(a.format("YYYY-MM-DD"));const d=a.clone().add(1,"month").startOf("month");for(;d.isBefore(c)||d.isSame(c,"month");)u.push(d.format("YYYY-MM-DD")),d.add(1,"month");return u}searchMinFaresApi(e){const i=this.journeyFormArr.at(0).value;if(i.startPoint&&i.endPoint){let a=[];this.searchDataRaw.type===this.btcTypeSearch.OneWay&&(a=e.map(c=>({departDate:vt(new Date(c)).format("YYYY-MM-DD"),endPoint:i.endPoint,leg:0,providers:`${Rt.QK.VJ},${Rt.QK.VN},${Rt.QK.QH},${Rt.QK.VU}`,startPoint:i.startPoint}))),this.searchDataRaw.type===this.btcTypeSearch.RoundTrip&&(a=e.map(c=>({departDate:vt(new Date(c)).format("YYYY-MM-DD"),endPoint:i.endPoint,leg:0,providers:`${Rt.QK.VJ},${Rt.QK.VN},${Rt.QK.QH},${Rt.QK.VU}`,startPoint:i.startPoint})),a.push(...e.map(c=>({departDate:vt(new Date(c)).format("YYYY-MM-DD"),endPoint:i.startPoint,leg:1,providers:`${Rt.QK.VJ},${Rt.QK.VN},${Rt.QK.QH},${Rt.QK.VU}`,startPoint:i.endPoint})))),this._searchBtcSvc.searchMinFares(a).subscribe({next:c=>{"OK"===c.status&&(c.data.length?(c.data.forEach(u=>{const d=this.searchMinFaresResult.find(f=>f.leg===u.leg);d?Object.entries(u.data).forEach(f=>{d.data.set(f[0],f[1])}):this.searchMinFaresResult.push(Object.assign(Object.assign({},u),{data:new Map(Object.entries(u.data))}))}),this.searchMinFareDataBtcProvider.searchMinFareDataBtc=this.searchMinFaresResult,this.mappingMinFares(a[0].leg)):this.minFareOptionConfig=Object.assign({},this.minFareOptionConfig),setTimeout(()=>{this.scrollDate(Ot(new Date(this.journeyFormArr.controls[0].value.departDate),"yyyy-MM-dd")),this.mappingMinFareMultiBar(),this._cdr.detectChanges()},0),this.minFareChange$.next(this.minFareOptionConfig))}})}}onNavigateDatepicker(e){let i=[];i.push(e);const a=vt(e).subtract(1,"month");a.month()===(new Date).getMonth()?i.push(vt(new Date).format("YYYY-MM-DD")):i.push(a.format("YYYY-MM-DD")),i=i.filter(c=>!this.listDateSearchMinFares.includes(c)),i.forEach(c=>{this.listDateSearchMinFares.includes(c)||(this.listDateSearchMinFares.push(c),this.searchMinFaresApi([c]))})}generateRangeDateBar(){var e;let i;if(this.multiDateBar=[],this.searchMinFareDataBtcProvider.searchMinFareDataBtc&&this.searchMinFareDataBtcProvider.searchMinFareDataBtc[0]&&(i=new Map(Object.entries(this.searchMinFareDataBtcProvider.searchMinFareDataBtc[0].data)),Array.from(i.values()).flat().reduce((u,d)=>d.value+d.serviceFee<u.value+u.serviceFee?d:u)),this.searchDataRaw.type===this.btcTypeSearch.OneWay){const a=this.searchDataRaw.journey[0].departDate||new Date;this.getDaysInMonth(new Date(a)).forEach(u=>{const d=vt(u).format("YYYY-MM-DD"),f=d===vt(a).format("YYYY-MM-DD"),_=d>=vt(new Date).format("YYYY-MM-DD"),m=(0,Qn.$j)(u);if(i&&i.has(d)){const x=i.get(d),E=x.length?x.reduce((Z,D)=>D.value<Z.value?D:Z):null;this.multiDateBar.push(E?{key:vt(u).format("YYYY-MM-DD"),fromDate:u,toDate:null,price:(null==E?void 0:E.value)+E.serviceFee||0,airlineMinPrice:(null==E?void 0:E.key)||"",active:_,selected:f,dayInfo:{holiday:m.holiday,lunarDate:`ng\xe0y ${m.lunarDate.date}/${m.lunarDate.month} \xe2m l\u1ecbch`,dateFormat:m.dateFormat}}:{key:vt(u).format("YYYY-MM-DD"),fromDate:u,toDate:null,price:0,airlineMinPrice:"",active:_,selected:f,dayInfo:{holiday:m.holiday,lunarDate:`ng\xe0y ${m.lunarDate.date}/${m.lunarDate.month} \xe2m l\u1ecbch`,dateFormat:m.dateFormat}})}else this.multiDateBar.push({key:vt(u).format("YYYY-MM-DD"),fromDate:u,toDate:null,price:0,airlineMinPrice:"",active:_,selected:f,dayInfo:{holiday:m.holiday,lunarDate:`ng\xe0y ${m.lunarDate.date}/${m.lunarDate.month} \xe2m l\u1ecbch`,dateFormat:m.dateFormat}})})}else{const a=this.searchDataRaw.journey[0].departDate||new Date,c=null===(e=this.searchDataRaw.journey[1])||void 0===e?void 0:e.departDate,u=vt(a),f=vt(c).diff(u,"days");this.getDaysInMonth(new Date(a)).forEach(m=>{const x=vt(m).format("YYYY-MM-DD"),E=x===vt(a).format("YYYY-MM-DD"),Z=x>=vt(new Date).format("YYYY-MM-DD"),D=(0,Qn.$j)(m);if(i&&i.has(x)){const P=i.get(x),R=P.length?P.reduce(($,Q)=>Q.value<$.value?Q:$):null;this.multiDateBar.push(R?{key:vt(m).format("YYYY-MM-DD"),fromDate:m,toDate:vt(m).add(f,"days").toDate(),price:(null==R?void 0:R.value)+(null==R?void 0:R.serviceFee)||0,airlineMinPrice:(null==R?void 0:R.key)||"",active:Z,selected:E,dayInfo:{holiday:D.holiday,lunarDate:`ng\xe0y ${D.lunarDate.date}/${D.lunarDate.month} \xe2m l\u1ecbch`,dateFormat:D.dateFormat}}:{key:vt(m).format("YYYY-MM-DD"),fromDate:m,toDate:vt(m).add(f,"days").toDate(),price:0,airlineMinPrice:"",active:Z,selected:E,dayInfo:{holiday:D.holiday,lunarDate:`ng\xe0y ${D.lunarDate.date}/${D.lunarDate.month} \xe2m l\u1ecbch`,dateFormat:D.dateFormat}})}else this.multiDateBar.push({key:vt(m).format("YYYY-MM-DD"),fromDate:m,toDate:vt(m).add(f,"days").toDate(),price:0,airlineMinPrice:"",active:Z,selected:E,dayInfo:{holiday:D.holiday,lunarDate:`ng\xe0y ${D.lunarDate.date}/${D.lunarDate.month} \xe2m l\u1ecbch`,dateFormat:D.dateFormat}})})}}getDaysInMonth(e){const i=e.getFullYear(),a=e.getMonth(),c=vt(new Date(i,a,1)).subtract(6,"days").toDate(),u=vt(new Date(i,a+2,0)).add(6,"days").toDate(),d=[];for(let f=c;f<=u;f.setDate(f.getDate()+1))f>=new Date&&d.push(new Date(f));return d}scrollDate(e){let i;i=this.isMobile?document.getElementById(e+"-mobile"):document.getElementById(e),i&&i.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}onDatePickerClick(){if(this.isMobile){const e=this._bottomSheetService.open(Jl,{headerTitle:"T\xf9y ch\u1ec9nh th\u1eddi gian",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",containerFullHeigh:!0,data:{formArray:this.journeyFormArr,minFareOptionConfig:this.minFareOptionConfig}});e.containerInstance._leftButtonClick.subscribe(i=>e.dismiss()),e.afterDismissed().subscribe({next:i=>{i&&this.researchFlight()}})}}showDetailPromo(){if(this.isMobile){const e=this._bottomSheetService.open(Ql,{headerTitle:"M\xe3 gi\u1ea3m gi\xe1",rightButtonIcon:"close",containerFullHeigh:!0,rightButtonIconClass:"text-neutral-gray-4",data:{dataPromotion:this.dataPromotion}});e.containerInstance._rightButtonClick.subscribe(i=>e.dismiss())}else this.drawerService.open(Ql,{data:{dataPromotion:this.dataPromotion},headerTitle:"M\xe3 gi\u1ea3m gi\xe1",subHeaderTitle:"\xc1p d\u1ee5ng m\xe3 gi\u1ea3m gi\xe1 \u0111\u1ec3 t\u1eadn h\u01b0\u1edfng nhi\u1ec1u \u01b0u \u0111\xe3i cho chuy\u1ebfn bay.",hasHeader:!0,maxWidth:"auto",hasBackdrop:!0,disableClose:!1})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(so.J),t.Y36(ai),t.Y36(A.qu),t.Y36(wt._h),t.Y36(t.sBO),t.Y36(ut.oE),t.Y36(v.KNP),t.Y36(Uv),t.Y36(Jn.F0),t.Y36(Jn.gz),t.Y36(ri.L),t.Y36(I.a2),t.Y36(qe.x),t.Y36(g.lw),t.Y36(Jr.x),t.Y36(Mv),t.Y36(l0),t.Y36(Rt.qB),t.Y36(Mr),t.Y36(co.H7),t.Y36(Bl))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-result-list"]],viewQuery:function(e,i){if(1&e&&(t.Gf(Yv,5),t.Gf(Qv,5),t.Gf(Hv,5)),2&e){let a;t.iGM(a=t.CRH())&&(i.scrollContainer=a.first),t.iGM(a=t.CRH())&&(i.searchFlightEl=a.first),t.iGM(a=t.CRH())&&(i.searchInputBottomSheet=a.first)}},hostBindings:function(e,i){1&e&&t.NdJ("beforeunload",function(c){return i.handleBeforeUnload(c)},!1,t.Jf7)},standalone:!0,features:[t.jDz],decls:5,vars:1,consts:[["class","notranslate  w-full items-stretch justify-start bg-neutral-gray-1 h-screen overflow-auto","cdkScrollable","",3,"scroll",4,"ngIf"],["searchInputBottomSheet",""],["emptyTicketTpl",""],["cdkScrollable","",1,"notranslate","w-full","items-stretch","justify-start","bg-neutral-gray-1","h-screen","overflow-auto",3,"scroll"],["class","flex w-full h-full items-stretch justify-start flex-col gap-8 md:hidden",4,"ngIf"],["class","hidden md:flex h-[100vh] !h-[100svh] flex-col w-full relative overflow-hidden",4,"ngIf"],[1,"flex","w-full","h-full","items-stretch","justify-start","flex-col","gap-8","md:hidden"],[1,"px-4","w-full","max-w-[1366px]","mx-auto","flex","flex-col","gap-8"],[1,"bg-neutral-white","rounded-lg","flex-1","w-full","shadow-cf-md","md:p-4","relative","max-w-[1695px]","mx-auto"],[1,"flex","items-center","justify-between","mb-5","px-6","pt-6"],[1,"md:w-full"],[3,"flightType","typeSearchChange"],[1,"flex","items-center","justify-end","gap-x-4","md:hidden"],[3,"adultNumber","childNumber","infantNumber","numberOfPassengerChange"],[1,"hidden",3,"airlineList","airlineFilterChange"],[3,"isShowTooltipFirstTime","promotionCode","promotionCodeChange"],[3,"cabinList","actived","cabinChange"],[3,"paxTypeList","actived","paxTypeChange"],[1,"mb-[20px]","md:mb-4","flex","gap-x-2","w-full","px-6"],[1,"flex-1",3,"formArray","type","removeRoute","dataChange","dateTypeChange","navigateDatepicker"],["searchFlightEl",""],["cf-button","","size","medium","type","solid",1,"w-[168px]","!py-[7px]","animate-button","!h-auto","!max-h-14",3,"disabled","click"],["icon","search","size","small",1,"mr-2.5"],[1,"whitespace-nowrap"],["class","w-full border-t border-t-neutral-gray-1",4,"ngIf"],["class","h-1 w-full absolute left-0 right-0 bottom-0",4,"ngIf"],[1,"flex","gap-4","justify-between","relative","pb-6","w-full","max-w-[1366px]","mx-auto"],[1,"w-[192px]","min-w-[192px]","ml-auto","min-h-[700px]"],[1,"w-full",3,"viewConfig","airlineOptions","ticketFilterNumStop","timeFlightOptions","filterFareTypeOptions","modelAirPlaneOptions","optionsTicketType","bookingSystemList","viewConfigChange","airlineOptionsChange","ticketFilterNumStopChange","timeFlightOptionsChange","filterFareTypeOptionsChange","modelAirPlaneOptionsChange","optionsTicketTypeChange","bookingSystemListChange"],[1,"flex-1","flex","flex-col","gap-6","mx-auto"],[1,"flex","justify-end","items-center"],[1,"p-2.5","bg-[#CDDCF2]","rounded","text-[#023E8A]","font-semibold"],["class","flex gap-6",4,"ngIf"],[3,"sortType","tabComboDetail","sortTypeChange",4,"ngIf"],[4,"ngIf"],["class","flex flex-col gap-4",4,"ngIf"],[1,"w-[280px]","mr-auto","rounded-xl"],[1,"w-[280px]","flex-shrink-0","rounded-xl","h-fit","md:hidden","sticky","top-2"],[1,"bg-neutral-white","rounded-xl","shadow-lg"],[1,"flex","justify-between","items-center","py-3","px-4","border-b","border-neutral-gray-2"],[1,"text-espressive-sm","text-neutral-black"],[3,"searchInput","ticketCur","showDetail","reselectClick"],[1,"flex","justify-between","items-center","py-3","px-4","rounded-b-xl","border-t","border-neutral-gray-1"],[1,"text-heading-md","text-neutral-black"],[1,"mt-5","flex","flex-col","gap-3","bg-neutral-black","rounded-xl"],[1,"bg-white","w-full","flex","flex-col","gap-3","rounded-xl"],[4,"ngFor","ngForOf"],[1,"w-full","border-t","border-t-neutral-gray-1"],[1,"flex","items-center"],[1,"p-4","cursor-pointer",3,"click"],["size","medium","icon","chevron_left"],["id","mutli-date-bar",1,"flex","items-center","overflow-auto","no-scrollbar",3,"scroll"],["size","medium","icon","chevron_right"],[1,"group","py-2","cursor-pointer",3,"ngClass","id","cfTooltip","placement","click"],[1,"h-10","border-l","border-l-neutral-gray-2","flex","flex-col","items-center","justify-center","min-w-[114px]","py-4"],[1,"text-body-md-short",3,"ngClass"],[1,"text-body-sm","text-neutral-gray-4",3,"ngClass"],["dateBarTemplate",""],[1,"h-1","w-full","absolute","left-0","right-0","bottom-0"],[1,"h-1","bg-primary-1-4","transition-all","ease-out","duration-1000","rounded-b-full"],[1,"flex","gap-6"],["class","flex-1 rounded-2xl h-fit flex bg-white divide-solid divide-x divide-neutral-gray-1 ",4,"ngIf"],[1,"h-fit",3,"sortType","ngClass","sortTypeChange"],[1,"flex-1","rounded-2xl","h-fit","flex","bg-white","divide-solid","divide-x","divide-neutral-gray-1"],["class"," flex flex-col  py-4 px-6 relative cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"flex","flex-col","py-4","px-6","relative","cursor-pointer",3,"click"],[1,"font-semibold","text-body-lg"],["class","text-body-md text-neutral-gray-4",4,"ngIf"],[1,"absolute","bottom-0","left-4","right-4","h-1","bg-red-4",3,"ngClass"],[1,"text-body-md","text-neutral-gray-4"],[3,"sortType","tabComboDetail","sortTypeChange"],[4,"ngIf","ngIfElse"],[1,"flex","flex-col","gap-4"],["class","flex flex-col gap-4",4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"ticket","searchData","viewConfig","isAirLineInternational","selectTicket"],[3,"ticket","searchData","viewConfig","isAirLineInternational","chooseTicketCombo"],["class","border shadow-lg  border-yellow-3 bg-white flex justify-between items-center gap-3 rounded-xl p-[10px] cursor-pointer",3,"click",4,"ngIf"],[1,"border","shadow-lg","border-yellow-3","bg-white","flex","justify-between","items-center","gap-3","rounded-xl","p-[10px]","cursor-pointer",3,"click"],[1,"flex","gap-2","items-center"],[1,"relative","-rotate-45"],["width","53","height","53","viewBox","0 0 53 53","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M26.5 0L32.3299 4.74252L39.75 3.55033L42.4276 10.5724L49.4497 13.25L48.2575 20.6701L53 26.5L48.2575 32.3299L49.4497 39.75L42.4276 42.4276L39.75 49.4497L32.3299 48.2575L26.5 53L20.6701 48.2575L13.25 49.4497L10.5724 42.4276L3.55033 39.75L4.74252 32.3299L0 26.5L4.74252 20.6701L3.55033 13.25L10.5724 10.5724L13.25 3.55033L20.6701 4.74252L26.5 0Z","fill","#FFD255"],[1,"absolute","top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2","text-express-md","font-semibold","text-[#0B2888]"],[1,"flex","flex-col","justify-between"],[1,"text-body-sm","font-medium","overflow-hidden","whitespace-nowrap","w-40","flex"],[1,"inline-block","truncate","w-full","!font-[roboto]",3,"innerHTML"],[1,"text-heading-sm"],[1,"text-neutral-gray-5","text-body-sm"],[1,"hidden","md:flex","h-[100vh]","!h-[100svh]","flex-col","w-full","relative","overflow-hidden"],[1,"w-full"],[1,"bg-white","w-full","flex","flex-col"],[1,"shadow-lg","py-3","px-4","flex","flex-col","w-full","gap-2"],[1,"flex-shrink-0",3,"searchData","searchDataChange","openSearchInputBottomSheet"],["class","w-full border-t border-t-neutral-gray-1 overflow-hidden bg-white hidden md:flex",4,"ngIf"],[1,"flex","gap-2","absolute","bottom-2","left-4","right-4","rounded-lg","z-10","p-2","items-center","bg-white/95","shadow-[rgba(0,0,0,0.35)_0px_5px_15px]","divide-x","divide-x-neutral-gray-1"],[1,"h-fit","flex-1",3,"sortType","sortTypeChange"],[1,"w-full","flex-1",3,"viewConfig","airlineOptions","ticketFilterNumStop","timeFlightOptions","filterFareTypeOptions","modelAirPlaneOptions","optionsTicketType","viewConfigChange","airlineOptionsChange","ticketFilterNumStopChange","timeFlightOptionsChange","filterFareTypeOptionsChange","modelAirPlaneOptionsChange","optionsTicketTypeChange","resetFilter"],[1,"flex-1","overflow-y-auto"],["scrollContainer",""],["data-body-scroll-el",""],["bodyScrollEl",""],[1,"flex","justify-end","items-center","pt-4","px-4"],[1,"py-1","px-2","bg-[#CDDCF2]","rounded","text-[#023E8A]","font-semibold"],["class"," px-4 w-full pt-3",4,"ngIf"],[1,"absolute","top-1/2","-translate-y-1/2","right-0","flex","justify-center","items-center","z-10"],[1,"flex","items-center","justify-center","py-2","px-3","w-fit","bg-yellow-3","rounded-l-full","text-white","shadow-md","cursor-pointer",3,"click"],[1,"flex","flex-col","items-center","justify-center"],["icon","coupon","size","medium"],[1,"text-heading-xs","font-medium","px-1"],["class","mb-3  px-4",4,"ngFor","ngForOf"],["class","flex flex-col gap-4  px-4  ",3,"ngClass",4,"ngIf"],["class","flex flex-col gap-4",3,"ngClass",4,"ngIf"],["class","flex flex-col gap-4 w-full  px-3 mb-4",4,"ngIf"],[1,"w-full","border-t","border-t-neutral-gray-1","overflow-hidden","bg-white","hidden","md:flex"],[1,"flex","items-center","overflow-auto"],["id","mutli-date-bar-mobile",1,"flex","items-center","overflow-auto","no-scrollbar",3,"scroll"],[1,"p-4","cursor-pointer","flex","justify-center","items-center","shadow-cf-lg",3,"click"],["size","medium","icon","calendar"],[1,"group","py-1","cursor-pointer",3,"ngClass","id","click"],[1,"px-4","w-full","pt-3"],[1,"flex-1","rounded-md","h-fit","mb-3","flex","bg-white","divide-solid","divide-x","divide-neutral-gray-1"],["class"," flex flex-col flex-1  py-[6px] relative cursor-pointer items-center bg-white text-gray-6",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex","flex-col","flex-1","py-[6px]","relative","cursor-pointer","items-center","bg-white","text-gray-6",3,"ngClass","click"],[1,"font-bold","text-body-lg"],[1,"mb-3","px-4"],[3,"ticket","searchData","ticketSelectedMobile","viewConfig","isAirLineInternational","selectTicket","reselectClick",4,"ngIf"],[3,"ticket","searchData","ticketSelectedMobile","viewConfig","isAirLineInternational","selectTicket","reselectClick"],[1,"flex","flex-col","gap-4","px-4",3,"ngClass"],[3,"ticket","searchData","viewConfig","isAirLineInternational","selectTicket","reselectClick",4,"ngIf"],[3,"ticket","searchData","viewConfig","isAirLineInternational","selectTicket","reselectClick"],[1,"flex","flex-col","gap-4",3,"ngClass"],[1,"flex","flex-col","gap-4","w-full","px-3","mb-4"],[1,"bg-neutral-white","rounded-lg","w-full","shadow-cf-md","p-4","flex","flex-col","gap-4"],[1,"w-full",3,"formArray","type","removeRoute","dataChange","dateTypeChange"],[1,"gap-2","flex","overflow-x-auto","flex-wrap"],["cf-button","","size","medium","color","primary-1","type","solid",1,"md:w-full","md:justify-center","rounded-lg","!py-3","animate-button",3,"click"],["class","empty flex items-center text-center mt-20 flex-col",4,"ngIf","ngIfElse"],["emptyByFilterTpl",""],[1,"empty","flex","items-center","text-center","mt-20","flex-col"],["src","assets/images/empty_result.png","alt","empty",1,"w-[160px]","h-160px","object-contain"],["emptySearchTpl",""],[1,"text-heading-md","mt-[30px]"],[1,"text-body-md","mt-2"],["cf-button","","size","medium",1,"w-[200px]","mt-6","justify-center","bg-white",3,"type","click"],["icon","search","size","small",1,"mr-2"],[1,"empty","flex","items-center","mt-20","text-center","flex-col"],[1,"text-body-md","mt-2","text-center"],["cf-button","","color","primary-1","size","medium",1,"w-[200px]","mt-6","justify-center",3,"type","click"]],template:function(e,i){1&e&&(t.YNc(0,Qx,3,2,"div",0),t.YNc(1,Hx,14,13,"ng-template",null,1,t.W1O),t.YNc(3,Wx,1,1,"ng-template",null,2,t.W1O)),2&e&&t.Q6J("ngIf",i.searchData)},dependencies:[g.ez,g.mk,g.sg,g.O5,g.OU,g.JJ,g.uU,xv.T,yv.l,Cv.x,bv.W,Tv.w,Ev.d,kv._,S.N8,S.Xq,v.AxE,v.Sm8,A.UX,it,et.q,Hl,Og,H_,Vo,X_,nt,Vm,sv,vv,to.Lk,tr.s,aa.Q,E1.PQ,hs],styles:["[_nghost-%COMP%]{display:block}"],data:{animation:[(0,Lt.X$)("listAnimation",[(0,Lt.eR)("* <=> *",[(0,Lt.IO)(":enter",[(0,Lt.oB)({opacity:0,transform:"translateY(20px)"}),(0,Lt.EY)("100ms",(0,Lt.jt)("300ms ease-out",(0,Lt.oB)({opacity:1,transform:"translateY(0px)"})))],{optional:!0})])]),(0,Lt.X$)("textFadeOut",[(0,Lt.SB)("visible",(0,Lt.oB)({opacity:1,height:"*",marginTop:"*"})),(0,Lt.SB)("hidden",(0,Lt.oB)({opacity:0,height:"0px",marginTop:"0px"})),(0,Lt.eR)("visible => hidden",(0,Lt.jt)("300ms ease-out"))]),(0,Lt.X$)("widthFadeOut",[(0,Lt.SB)("visible",(0,Lt.oB)({width:"130px"})),(0,Lt.SB)("hidden",(0,Lt.oB)({width:"60px"})),(0,Lt.eR)("visible => hidden",(0,Lt.jt)("600ms ease-out"))]),(0,Lt.X$)("headerFadeDown",[(0,Lt.SB)("visible",(0,Lt.oB)({opacity:1,transform:"translateY(0)",maxHeight:"100px",overflow:"hidden"})),(0,Lt.SB)("hidden",(0,Lt.oB)({opacity:0,transform:"translateY(-100%)",maxHeight:"0px",overflow:"hidden"})),(0,Lt.eR)("visible => hidden",[(0,Lt.jt)("200ms ease-out",(0,Lt.oB)({opacity:0,transform:"translateY(-50%)"})),(0,Lt.jt)("100ms ease-out",(0,Lt.oB)({maxHeight:"0px"}))]),(0,Lt.eR)("hidden => visible",[(0,Lt.jt)("100ms ease-out",(0,Lt.oB)({maxHeight:"100px"})),(0,Lt.jt)("200ms ease-out",(0,Lt.oB)({opacity:1,transform:"translateY(0)"}))])])]}}),n})();var f0=w(4713);function t2(n){return!0===n.value?null:{checkboxRequired:!0}}function _0(n,o){_e(2,arguments);var e=Ze(n),i=Ze(o),a=e.getTime()-i.getTime();return a<0?-1:a>0?1:a}function h0(n,o){return _e(2,arguments),function i2(n,o){_e(2,arguments);var e=Ze(n),i=_n(o);return isNaN(i)?new Date(NaN):(i&&e.setDate(e.getDate()+i),e)}(n,-_n(o))}function du(n,o){return _e(2,arguments),function r2(n,o){return _e(2,arguments),function o2(n,o){_e(2,arguments);var e=Ze(n),i=_n(o);if(isNaN(i))return new Date(NaN);if(!i)return e;var a=e.getDate(),c=new Date(e.getTime());return c.setMonth(e.getMonth()+i+1,0),a>=c.getDate()?c:(e.setFullYear(c.getFullYear(),c.getMonth(),a),e)}(n,12*_n(o))}(n,-_n(o))}function m0(n,o){return e=>{if(!e.value)return null;if(!function a2(n){return/^(0[1-9]|[12][0-9]|3[01])\/(0[1-9]|1[0-2])\/\d{4}$/.test(n)}(e.value))return{invalidDate:!0};const i=e.value.split("/"),a=new Date(`${i[2]}-${i[1]}-${i[0]}`);if(!sa(a))return{invalidDate:!0};const c=function n2(n,o){_e(2,arguments);var e=Ze(n),i=Ze(o),a=_0(e,i),c=Math.abs(function e2(n,o){_e(2,arguments);var e=Ze(n),i=Ze(o);return e.getFullYear()-i.getFullYear()}(e,i));e.setFullYear(1584),i.setFullYear(1584);var u=_0(e,i)===-a,d=a*(c-Number(u));return 0===d?0:d}(o,a),u="adult"===n?[h0(du(o,12),1)]:"child"===n?[du(o,12),h0(du(o,2),1)]:[du(o,2)];switch(n){case"adult":if(c<12)return{ageInvalid:{message:`Ng\xe0y sinh ph\u1ea3i t\u1eeb ng\xe0y ${Ot(u[0],"dd/MM/yyyy")} tr\u1edf v\u1ec1 tr\u01b0\u1edbc`,requiredAge:"> 12",currentAge:c}};break;case"child":if(c<2||c>=12)return{ageInvalid:{message:`Ng\xe0y sinh ph\u1ea3i t\u1eeb ng\xe0y ${Ot(u[0],"dd/MM/yyyy")} \u0111\u1ebfn ng\xe0y ${Ot(u[1],"dd/MM/yyyy")}`,requiredAge:"2-12",currentAge:c}};break;case"infant":if(c>=2)return{ageInvalid:{message:`Ng\xe0y sinh ph\u1ea3i sau ng\xe0y ${Ot(u[0],"dd/MM/yyyy")}`,requiredAge:"< 2",currentAge:c}}}return null}}let s2=(()=>{class n{analyzePassengerFromString(e,i){const a=this.splitGender(e);null!=a&&(e=e.trim().substring(a.length));let c=e.trim().split(" ");c=c.filter(D=>""!==D);let d=this.analyzePassengerGender(a);void 0===d&&(d="male");let f="",_="";c.length>=1&&(f=c[0]);for(let D=1;D<c.length&&!this.isExistNumber(c[D]);D++)_+=" "+c[D];const m=c.find(D=>this.isExistNumber(D));let x,E;if(m){const D=this.stringToDate(m);D?(x=D,E=this.typeFromBirthday(D,i)):E=void 0}else E="ADULT";let Z="";if("INFANT"===E&&c[c.length-1]!==m){const D=c.findIndex(P=>this.isExistNumber(P));if(-1!==D)for(let P=D+1;P<c.length;P++)Z+=" "+c[P]}return{type:E,firstName:_.trim(),lastName:f,birthday:x,gender:d,parentName:Z.trim()}}stringToDate(e){const[i,a,c]=e.split("/");if(+c<1e3||+c>9999)return;const u=new Date(+c,+a-1,+i);return isNaN(u.getTime())?void 0:u}typeFromBirthday(e,i){return this.isDateOfBirthInfant(e.getTime(),i)?"INFANT":this.isDateOfBirthChild(e.getTime(),i)?"CHILD":"ADULT"}isExistNumber(e){return Boolean(e.match(/\d/))}analyzePassengerGender(e){return void 0===e||"m"===e.toLocaleLowerCase()||"mr"===e.toLocaleLowerCase()||"\xf4ng"===e.toLocaleLowerCase()?"male":"f"===e.toLocaleLowerCase()||"mrs"===e.toLocaleLowerCase()||"miss"===e.toLocaleLowerCase()||"ms"===e.toLocaleLowerCase()||"b\xe0"===e.toLocaleLowerCase()?"female":"b\xe9 trai"===e.toLocaleLowerCase()?"male":"b\xe9 g\xe1i"===e.toLocaleLowerCase()?"female":void 0}isDateOfBirthChild(e,i){const a=vt(i).startOf("day").add(0,"hours").toDate().getTime(),c=new Date(e);c.setFullYear(c.getFullYear()+2);const u=c.getTime(),d=new Date(e);return d.setFullYear(d.getFullYear()+12),a<=d.getTime()&&a>u}isDateOfBirthInfant(e,i){const a=vt(i).startOf("day").add(0,"hours").toDate().getTime(),c=new Date(e).getTime(),u=new Date(e);return u.setFullYear(u.getFullYear()+2),a<=u.getTime()&&a>c}splitGender(e){if(e){let i=e.trim().split(" ");if(i=i.filter(a=>""!==a),i.length>0){const a=i[0],c=i[1];if("m"===a.toLocaleLowerCase()||"mr"===a.toLocaleLowerCase()||"\xf4ng"===a.toLocaleLowerCase()||"f"===a.toLocaleLowerCase()||"mrs"===a.toLocaleLowerCase()||"miss"===a.toLocaleLowerCase()||"ms"===a.toLocaleLowerCase()||"b\xe0"===a.toLocaleLowerCase())return a;if("b\xe9"===a.toLocaleLowerCase())return c&&"trai"===c.toLocaleLowerCase()||"g\xe1i"===c.toLocaleLowerCase()?a+" "+c:void 0}}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const c2=["inputTextElement"];function l2(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",20)(1,"div",21)(2,"div",22),t.GkF(3,8),t.qZA()(),t.TgZ(4,"div",23)(5,"button",24),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.closeBtsRef())}),t._uU(6," \u0110\xf3ng "),t.qZA()()()}if(2&n){t.oxw();const e=t.MAs(27);t.xp6(3),t.Q6J("ngTemplateOutlet",e)}}function u2(n,o){1&n&&(t.TgZ(0,"div")(1,"div"),t._uU(2,"\u2022\xa0\xa0Trong \u0111\xf3:"),t.qZA(),t.TgZ(3,"div",30)(4,"span",25),t._uU(5,"\u2022\xa0\xa0Gi\u1edbi t\xednh "),t.qZA(),t._uU(6,"(kh\xf4ng b\u1eaft bu\u1ed9c):"),t.qZA(),t.TgZ(7,"div",31),t._uU(8,"\u2022\xa0\xa0Nam: c\xf3 th\u1ec3 nh\u1eadp 1 trong nh\u1eefng lo\u1ea1i sau: M, Mr, \xd4ng, b\xe9 trai."),t.qZA(),t.TgZ(9,"div",31),t._uU(10,"\u2022\xa0\xa0N\u1eef: c\xf3 th\u1ec3 nh\u1eadp 1 trong nh\u1eefng lo\u1ea1i sau: F, Mrs, Ms, B\xe0, b\xe9 g\xe1i."),t.qZA(),t.TgZ(11,"div",31),t._uU(12,"\u2022\xa0\xa0N\u1ebfu kh\xf4ng nh\u1eadp th\xec m\u1eb7c \u0111\u1ecbnh l\xe0 gi\u1edbi t\xednh Nam."),t.qZA(),t.TgZ(13,"div",30)(14,"span",25),t._uU(15,"\u2022\xa0\xa0T\xean \u0111\u1ea7y \u0111\u1ee7:"),t.qZA(),t._uU(16," theo d\u1ea1ng h\u1ecd t\xean \u0111\u1ea7y \u0111\u1ee7."),t.qZA(),t.TgZ(17,"div",30)(18,"span",25),t._uU(19,"\u2022\xa0\xa0Ng\xe0y sinh "),t.qZA(),t._uU(20,"(ch\u1ec9 b\u1eaft bu\u1ed9c v\u1edbi tr\u1ebb em v\xe0 em b\xe9): \u0111\u1ecbnh d\u1ea1ng ng\xe0y/th\xe1ng/n\u0103m (dd/mm/yyyy). N\u1ebfu h\xe0nh kh\xe1ch l\xe0 ng\u01b0\u1eddi l\u1edbn th\xec \u0111\u1ec3 tr\u1ed1ng. "),t.qZA()())}function d2(n,o){1&n&&(t.TgZ(0,"div",13),t._uU(1," Xem th\xeam quy t\u1eafc n\xe2ng cao "),t._UZ(2,"cf-icon",32),t.qZA())}function p2(n,o){1&n&&(t.TgZ(0,"div",13),t._uU(1," Thu g\u1ecdn quy t\u1eafc n\xe2ng cao "),t._UZ(2,"cf-icon",33),t.qZA())}function g2(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div"),t._uU(2,"\u2022\xa0\xa0Nh\u1eadp m\u1ed7i h\xe0nh kh\xe1ch m\u1ed9t d\xf2ng theo \u0111\u1ecbnh d\u1ea1ng sau:"),t.qZA(),t.TgZ(3,"div",25),t._uU(4," \u2022\xa0\xa0Ng\u01b0\u1eddi l\u1edbn v\xe0 tr\u1ebb em: <Gi\u1edbi t\xednh> <T\xean \u0111\u1ea7y \u0111\u1ee7> <ng\xe0y sinh> "),t.qZA(),t.TgZ(5,"div",26),t._uU(6,"\u2022\xa0\xa0V\xed d\u1ee5: M Nguy\u1ec5n V\u0103n Trung 15/03/1992"),t.qZA(),t.TgZ(7,"div",25),t._uU(8," \u2022\xa0\xa0Em b\xe9: <Gi\u1edbi t\xednh> <T\xean \u0111\u1ea7y \u0111\u1ee7> <ng\xe0y sinh> <T\xean \u0111\u1ea7y \u0111\u1ee7 c\u1ee7a ng\u01b0\u1eddi l\u1edbn> "),t.qZA(),t.TgZ(9,"div",26),t._uU(10,"\u2022\xa0\xa0V\xed d\u1ee5: F Nguy\u1ec5n Th\u1ecb Lan 11/12/2022 Nguy\u1ec5n V\u0103n Trung"),t.qZA(),t.TgZ(11,"div",26),t._uU(12," \u2022\xa0\xa0Trong tr\u01b0\u1eddng h\u1ee3p kh\xf4ng nh\u1eadp t\xean ng\u01b0\u1eddi l\u1edbn t\u01b0\u01a1ng \u1ee9ng th\xec s\u1ebd l\u1ea5y ng\u01b0\u1eddi l\u1edbn \u0111\u1ea7u ti\xean l\xe0m \u0111\u1ea1i di\u1ec7n. "),t.qZA(),t.YNc(13,u2,21,0,"div",27),t.TgZ(14,"div",28),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onShowMore())}),t.YNc(15,d2,3,0,"div",29),t.YNc(16,p2,3,0,"div",29),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(13),t.Q6J("ngIf",e.isShowMore),t.xp6(2),t.Q6J("ngIf",!e.isShowMore),t.xp6(1),t.Q6J("ngIf",e.isShowMore)}}let f2=(()=>{class n{constructor(e,i,a,c,u,d,f,_,m){this._fb=i,this.cfIconRegister=a,this.quickParsePassenger=c,this._bottomSheetService=u,this.ref=d,this.bottomSheetData=f,this.bottomSheetRef=_,this._modal=m,this.passengersRaws=[],this.isShowMore=!1,this.submitted=!1,d&&(this.passengerText=d.data.passengerText,this.departureTime=d.data.departureTime),f&&(this.passengerText=f.passengerText,this.departureTime=f.departureTime,this.isShowMore=!0),this.cfIconRegister.registerIcons([v.UNF,v.gW0,v.fqi,v.n78])}ngAfterViewInit(){const e=document.getElementById("inputTextElement");null==e||e.focus()}close(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}ok(){this.submitted=!0,this.change(),this.ref&&this.ref.close({passengers:this.passengers,text:this.passengerText,passengerInputRows:this.passengersRaws.length}),this.bottomSheetData&&this.bottomSheetRef.dismiss({passengers:this.passengers,text:this.passengerText,passengerInputRows:this.passengersRaws.length})}onShowRuleMobile(e){this.btsRef=this._bottomSheetService.open(e,{containerFullHeigh:!0,headerTitle:"Quy t\u1eafc nh\u1eadp nhanh",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:""}),this.btsRef.containerInstance._leftButtonClick.subscribe(i=>this.btsRef.dismiss())}closeBtsRef(){this.btsRef&&this.btsRef.dismiss()}change(){this.passengersRaws=this.passengerText.split("\n"),this.passengers=this.passengersRaws.filter(e=>""!=e).map(e=>this.quickParsePassenger.analyzePassengerFromString(e,this.departureTime))}onShowMore(){this.isShowMore=!this.isShowMore}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.K0),t.Y36(A.qu),t.Y36(v.KNP),t.Y36(s2),t.Y36(I.a2),t.Y36(ut.gb,8),t.Y36(I.Rr,8),t.Y36(I.Zu,8),t.Y36(ut.oE))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-parse-pas-info"]],viewQuery:function(e,i){if(1&e&&t.Gf(c2,5),2&e){let a;t.iGM(a=t.CRH())&&(i.inputTextElement=a.first)}},standalone:!0,features:[t.jDz],decls:28,vars:2,consts:[[1,"w-[772px]","h-[600px]","overflow-hidden","flex","flex-col","rounded-lg","bg-neutral-white","md:w-screen","md:h-full"],[1,"w-full","h-full","flex","flex-col","max-h-[600px]","md:max-h-none"],[1,"flex","justify-between","items-center","px-6","py-4","border-b","border-b-neutral-gray-1","md:border-none"],[1,"text-heading-xs","text-neutral-black"],["size","small","icon","close",1,"text-neutral-gray-4","cursor-pointer","md:hidden",3,"click"],[1,"flex-auto","flex","flex-col","py-4","px-6","overflow-auto","md:p-0","md:w-full"],[1,"py-3","px-4","bg-functional-1-1","text-body-md","rounded","flex","gap-x-2.5","md:hidden"],["icon","info","size","medium",1,"text-functional-1-3"],[3,"ngTemplateOutlet"],[1,"mt-4","md:m-0","md:px-4"],[1,"!w-full"],["rows","7","cf-input","","size","medium","placeholder","Nh\u1eadp th\xf4ng tin...","id","inputTextElement",3,"ngModel","ngModelChange","input"],[1,"cursor-pointer","text-body-md","text-secondary-3-4","mt-4","hidden","md:block",3,"click"],[1,"flex","items-center"],["icon","chevron_up","size","small",1,"ml-2","rotate-90"],[1,"flex","justify-end","items-center","gap-x-4","py-4","px-6"],["cf-button","","size","medium","type","secondary",1,"md:w-full","justify-center",3,"click"],["cf-button","","size","medium","type","solid","color","primary-1",1,"md:w-full","justify-center",3,"click"],["mobilerule",""],["rule",""],[1,"flex","flex-col","gap-y-4","justify-between","h-full"],[1,"p-4"],[1,"py-3","px-4","bg-functional-1-1","text-body-md","flex","gap-x-2.5","h-fit","rounded-lg"],[1,"w-full","flex","justify-center","items-center","py-4","bg-white","px-6"],["cf-button","","size","medium",1,"md:w-full","justify-center",3,"click"],[1,"text-express-md"],[1,"pl-4"],[4,"ngIf"],[1,"cursor-pointer","text-body-md","text-secondary-3-4","mt-2","md:hidden",3,"click"],["class","flex items-center",4,"ngIf"],[1,"pl-6"],[1,"pl-10"],["icon","chevron_down","size","small",1,"ml-2.5"],["icon","chevron_up","size","small",1,"ml-2"]],template:function(e,i){if(1&e){const a=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"Nh\u1eadp nhanh th\xf4ng tin h\xe0nh kh\xe1ch"),t.qZA(),t.TgZ(5,"cf-icon",4),t.NdJ("click",function(){return i.close()}),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"div"),t._UZ(9,"cf-icon",7),t.qZA(),t.GkF(10,8),t.qZA(),t.TgZ(11,"div",9)(12,"cf-input-group",10)(13,"textarea",11),t.NdJ("ngModelChange",function(u){return i.passengerText=u})("input",function(){return i.change()}),t._uU(14,"            "),t.qZA()(),t.TgZ(15,"div",12),t.NdJ("click",function(){t.CHM(a);const u=t.MAs(25);return t.KtG(i.onShowRuleMobile(u))}),t.TgZ(16,"div",13),t._uU(17," Xem quy t\u1eafc nh\u1eadp nhanh "),t._UZ(18,"cf-icon",14),t.qZA()()()(),t.TgZ(19,"div",15)(20,"button",16),t.NdJ("click",function(){return i.close()}),t._uU(21," \u0110\xf3ng "),t.qZA(),t.TgZ(22,"button",17),t.NdJ("click",function(){return i.ok()}),t._uU(23," Th\u1ef1c hi\u1ec7n "),t.qZA()()()(),t.YNc(24,l2,7,1,"ng-template",null,18,t.W1O),t.YNc(26,g2,17,3,"ng-template",null,19,t.W1O)}if(2&e){const a=t.MAs(27);t.xp6(10),t.Q6J("ngTemplateOutlet",a),t.xp6(3),t.Q6J("ngModel",i.passengerText)}},dependencies:[g.ez,g.O5,g.tP,v.AxE,v.Sm8,S.N8,S.Xq,Re.j$,Re.ND,Re.BN,A.u5,A.Fj,A.JJ,A.On,I.DW],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();function _2(n,o){if(1&n&&(t.TgZ(0,"div",12),t._UZ(1,"img",13),t.TgZ(2,"div",14),t._uU(3),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.airlineLogo,t.LSH),t.xp6(2),t.hij(" ",e.journeyName," ")}}const h2=function(){return[]},m2=function(n){return{"pointer-events-none cursor-default":n}};function v2(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-collapse",7)(2,"cf-collapse-panel",8),t.YNc(3,_2,4,2,"ng-template",null,9,t.W1O),t.TgZ(5,"div")(6,"div",10),t._uU(7,"H\xe0nh l\xfd k\xed g\u1eedi"),t.qZA(),t.TgZ(8,"cf-select",11),t.NdJ("ngModelChange",function(a){const u=t.CHM(e).$implicit;return t.KtG(u.baggageSelected.baggageKey=a)})("selectedChange",function(a){const u=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.onBaggageSelected(a,u))}),t.qZA()()()(),t.BQk()}if(2&n){const e=o.$implicit,i=t.MAs(4),a=t.oxw();let c;t.xp6(2),t.Q6J("title",i)("active",0===a.passengerIndex),t.xp6(6),t.Q6J("ngModel",e.baggageSelected.baggageKey)("data",null!==(c=e.baggageOptions)&&void 0!==c?c:t.DdM(8,h2))("hasBackdrop",!0)("allowSearch",!1)("placeholder",e.error?"Kh\xf4ng c\xf3 d\u1ecbch v\u1ee5 h\xe0nh l\xfd ph\xf9 h\u1ee3p":"Ch\u1ecdn g\xf3i h\xe0nh l\xfd")("ngClass",t.VKq(9,m2,e.error))}}let x2=(()=>{class n{constructor(e){this.listJourney=[],this.baggageSelectedChange=new t.vpe,e.registerIcons([v.KYu])}onBaggageSelected(e,i){let a;a=e.baggageKey?{baggageKey:e.baggageKey,baggageName:e.baggageName,totalCharge:e.totalCharge,containerKey:i.containerKey,journeyKey:i.journeyKey,ssrCode:e.ssrCode,unit:e.unit,weight:e.weight}:{baggageKey:"",baggageName:"",totalCharge:0,containerKey:"",journeyKey:i.journeyKey,ssrCode:"",unit:"",weight:""},this.baggageSelectedChange.emit(a)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.KNP))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cf-add-on-baggage"]],inputs:{passengerIndex:"passengerIndex",passenger:"passenger",listJourney:"listJourney"},outputs:{baggageSelectedChange:"baggageSelectedChange"},standalone:!0,features:[t.jDz],decls:9,vars:3,consts:[[1,"bg-neutral-gray-1","p-4","rounded-lg"],[1,"mb-4","flex","gap-2","items-center"],["icon","user","size","small"],[1,"text-body-md"],[1,"text-espressive-md"],[1,"flex","flex-col","gap-y-2"],[4,"ngFor","ngForOf"],[1,"w-full"],[3,"title","active"],["titleTemplate",""],[1,"mb-1","text-espressive-sm"],["textField","baggageDisplay","valueField","baggageKey","autocomplete","off",3,"ngModel","data","hasBackdrop","allowSearch","placeholder","ngClass","ngModelChange","selectedChange"],[1,"flex","gap-x-4","items-center"],[1,"w-10","h-10","object-contain",3,"src"],[1,"text-espressive-sm","text-neutral-black"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"cf-icon",2),t.TgZ(3,"span",3),t._uU(4),t.qZA(),t.TgZ(5,"span",4),t._uU(6),t.qZA()(),t.TgZ(7,"div",5),t.YNc(8,v2,9,11,"ng-container",6),t.qZA()()),2&e&&(t.xp6(4),t.hij("H\xe0nh kh\xe1ch ",i.passengerIndex+1,": "),t.xp6(2),t.hij(" ",i.passenger.passengerType+" - "+i.passenger.passengerName," "),t.xp6(2),t.Q6J("ngForOf",i.listJourney))},dependencies:[g.ez,g.mk,g.sg,Ni,ao,f0.q,A.u5,A.JJ,A.On,v.AxE,v.Sm8],encapsulation:2}),n})();function y2(n,o){if(1&n&&(t.TgZ(0,"tr")(1,"td",27),t._UZ(2,"img",28),t.qZA(),t.TgZ(3,"td",29),t._uU(4),t.qZA(),t.TgZ(5,"td",29),t._uU(6),t.qZA(),t.TgZ(7,"td",29),t._uU(8),t.qZA(),t.TgZ(9,"td",29),t._uU(10),t.qZA(),t.TgZ(11,"td",30),t._uU(12),t.ALo(13,"number"),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.Q6J("src",e.airlineLogo,t.LSH),t.xp6(2),t.Oqu(e.flight),t.xp6(2),t.Oqu(e.departDate),t.xp6(2),t.Oqu(e.passengerName),t.xp6(2),t.Oqu(e.serviceName),t.xp6(2),t.Oqu(t.lcZ(13,6,e.unitPrice))}}function C2(n,o){if(1&n&&(t.TgZ(0,"div",11)(1,"div",12),t._uU(2,"Ho\xe0n b\u1ea3o l\u01b0u \u0111ang c\xf3"),t.qZA(),t.TgZ(3,"div",31),t._uU(4),t.ALo(5,"number"),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.hij("",t.lcZ(5,1,e.serviceSelected.totalRefund||0)," \u0111 ")}}function b2(n,o){1&n&&(t.TgZ(0,"div",32),t._UZ(1,"div",33),t.qZA())}function T2(n,o){if(1&n&&(t.TgZ(0,"div",11)(1,"div",12),t._uU(2,"Ho\xe0n b\u1ea3o l\u01b0u c\xf2n l\u1ea1i"),t.qZA(),t.TgZ(3,"div",31),t._uU(4),t.ALo(5,"number"),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.hij("",t.lcZ(5,1,e.serviceSelected.remainingCredit||0)," \u0111 ")}}function E2(n,o){if(1&n&&(t.TgZ(0,"div",20)(1,"div",34)(2,"div",22),t._uU(3,"H\xe3ng bay"),t.qZA(),t.TgZ(4,"div",23),t._uU(5),t.qZA()(),t.TgZ(6,"div",34)(7,"div",22),t._uU(8,"H\xe0nh tr\xecnh"),t.qZA(),t.TgZ(9,"div",23),t._uU(10),t.qZA()(),t.TgZ(11,"div",34)(12,"div",22),t._uU(13,"Ng\xe0y \u0111i"),t.qZA(),t.TgZ(14,"div",23),t._uU(15),t.qZA()(),t.TgZ(16,"div",34)(17,"div",22),t._uU(18,"H\xe0nh kh\xe1ch"),t.qZA(),t.TgZ(19,"div",23),t._uU(20),t.qZA()(),t.TgZ(21,"div",34)(22,"div",22),t._uU(23,"T\xean d\u1ecbch v\u1ee5"),t.qZA(),t.TgZ(24,"div",23),t._uU(25),t.qZA()(),t.TgZ(26,"div",34)(27,"div",22),t._uU(28,"T\u1ed5ng gi\xe1"),t.qZA(),t.TgZ(29,"div",23),t._uU(30),t.ALo(31,"number"),t.qZA()()()),2&n){const e=o.$implicit;t.xp6(5),t.Oqu(e.airlineName),t.xp6(5),t.Oqu(e.flight),t.xp6(5),t.Oqu(e.departDate),t.xp6(5),t.Oqu(e.passengerName),t.xp6(5),t.Oqu(e.serviceName),t.xp6(5),t.hij("",t.lcZ(31,6,e.unitPrice),"\u0111")}}function k2(n,o){if(1&n&&(t.TgZ(0,"div",21)(1,"div",22),t._uU(2,"Ho\xe0n b\u1ea3o l\u01b0u \u0111ang c\xf3"),t.qZA(),t.TgZ(3,"div",35),t._uU(4),t.ALo(5,"number"),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.hij("(",t.lcZ(5,1,e.serviceSelected.totalRefund||0),") \u0111")}}function A2(n,o){1&n&&(t.TgZ(0,"div",36),t._UZ(1,"div",33),t.qZA())}function D2(n,o){if(1&n&&(t.TgZ(0,"div",21)(1,"div",22),t._uU(2,"Ho\xe0n b\u1ea3o l\u01b0u c\xf2n l\u1ea1i"),t.qZA(),t.TgZ(3,"div",35),t._uU(4),t.ALo(5,"number"),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.hij("(",t.lcZ(5,1,e.serviceSelected.remainingCredit||0),") \u0111")}}let w2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["cf-confirm-add-on"]],inputs:{serviceSelected:"serviceSelected"},standalone:!0,features:[t.jDz],decls:74,vars:26,consts:[[1,"flex","items-center","gap-x-2","md:hidden"],["icon","circle_information","size","small"],[1,"text-heading-sm"],[1,"text-body-sm"],[1,"py-4","md:hidden"],[1,"table-auto","w-full","border-b","border-neutral-gray-1"],[1,"border-b","border-neutral-gray-1"],[1,"text-left","text-espressive-sm","text-neutral-gray-4","py-3"],[1,"text-right","text-espressive-sm","text-neutral-gray-4","py-3"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","items-end","gap-x-1","mt-4"],[1,"flex","justify-end","items-center","gap-8"],[1,"text-espressive-sm","text-neutral-gray-4"],[1,"min-w-[120px]","text-end","text-body-dm","text-neutral-black"],["class","flex justify-end items-center gap-8",4,"ngIf"],["class","flex justify-end my-2",4,"ngIf"],[1,"min-w-[120px]","text-end","text-heading-md","text-neutral-black"],[1,"hidden","md:flex","gap-y-4","flex-col"],["class","flex flex-col rounded-lg bg-neutral-white p-3 gap-y-2 w-full",4,"ngFor","ngForOf"],[1,"text-express-sm"],[1,"flex","flex-col","rounded-lg","bg-neutral-white","p-3","gap-y-2","w-full"],[1,"flex","justify-between","items-center","gap-x-5"],[1,"text-body-sm","text-neutral-gray-4","w-[104px]"],[1,"text-espressive-md","text-neutral-gray-6"],["class","flex justify-between items-center gap-x-5",4,"ngIf"],["class","flex justify-end",4,"ngIf"],[1,"text-espressive-xl","text-neutral-gray-6"],[1,"text-body-md","text-neutral-black","py-3","uppercase"],[1,"w-10","h-10","object-contain",3,"src"],[1,"text-body-md","text-neutral-black","py-3"],[1,"text-body-md","text-neutral-black","text-right","py-3"],[1,"min-w-[120px]","text-end","text-body-dm","text-secondary-5-4"],[1,"flex","justify-end","my-2"],[1,"w-[120px]","border-t-2","border-neutral-gray-1"],[1,"flex","items-center","gap-x-5"],[1,"text-espressive-md","text-secondary-5-4"],[1,"flex","justify-end"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div"),t._UZ(2,"cf-icon",1),t.qZA(),t.TgZ(3,"div")(4,"div",2),t._uU(5,"B\u1ea1n c\xf3 mu\u1ed1n th\u1ef1c hi\u1ec7n vi\u1ec7c thay \u0111\u1ed5i?"),t.qZA(),t.TgZ(6,"div",3),t._uU(7,"Chi ph\xed d\u1ecbch v\u1ee5 c\u1ed9ng th\xeam cho c\xe1c h\xe0nh kh\xe1ch nh\u01b0 sau"),t.qZA()()(),t.TgZ(8,"div",4)(9,"table",5)(10,"thead")(11,"tr",6)(12,"th",7),t._uU(13,"H\xe3ng bay"),t.qZA(),t.TgZ(14,"th",7),t._uU(15,"Chuy\u1ebfn bay"),t.qZA(),t.TgZ(16,"th",7),t._uU(17,"Ng\xe0y \u0111i"),t.qZA(),t.TgZ(18,"th",7),t._uU(19,"H\xe0nh kh\xe1ch"),t.qZA(),t.TgZ(20,"th",7),t._uU(21,"T\xean d\u1ecbch v\u1ee5"),t.qZA(),t.TgZ(22,"th",8),t._uU(23,"T\u1ed5ng gi\xe1"),t.qZA()()(),t.TgZ(24,"tbody"),t.YNc(25,y2,14,8,"tr",9),t.qZA()(),t.TgZ(26,"div",10)(27,"div",11)(28,"div",12),t._uU(29,"T\u1ed5ng gi\xe1"),t.qZA(),t.TgZ(30,"div",13),t._uU(31),t.ALo(32,"number"),t.qZA()(),t.TgZ(33,"div",11)(34,"div",12),t._uU(35,"Ph\xed d\u1ecbch v\u1ee5"),t.qZA(),t.TgZ(36,"div",13),t._uU(37),t.ALo(38,"number"),t.qZA()(),t.YNc(39,C2,6,3,"div",14),t.YNc(40,b2,2,0,"div",15),t.TgZ(41,"div",11)(42,"div",12),t._uU(43,"T\u1ed5ng chi ph\xed"),t.qZA(),t.TgZ(44,"div",16),t._uU(45),t.ALo(46,"number"),t.qZA()(),t.YNc(47,T2,6,3,"div",14),t.qZA()(),t.TgZ(48,"div",17),t.YNc(49,E2,32,8,"div",18),t.TgZ(50,"div",19),t._uU(51,"Th\xf4ng tin gi\xe1"),t.qZA(),t.TgZ(52,"div",20)(53,"div",21)(54,"div",22),t._uU(55,"T\u1ed5ng gi\xe1"),t.qZA(),t.TgZ(56,"div",23),t._uU(57),t.ALo(58,"number"),t.qZA()(),t.TgZ(59,"div",21)(60,"div",22),t._uU(61,"Ph\xed d\u1ecbch v\u1ee5"),t.qZA(),t.TgZ(62,"div",23),t._uU(63),t.ALo(64,"number"),t.qZA()(),t.YNc(65,k2,6,3,"div",24),t.YNc(66,A2,2,0,"div",25),t.TgZ(67,"div",21)(68,"div",22),t._uU(69,"T\u1ed5ng chi ph\xed"),t.qZA(),t.TgZ(70,"div",26),t._uU(71),t.ALo(72,"number"),t.qZA()(),t.YNc(73,D2,6,3,"div",24),t.qZA()()),2&e&&(t.xp6(25),t.Q6J("ngForOf",null==i.serviceSelected?null:i.serviceSelected.services),t.xp6(6),t.hij("",t.lcZ(32,14,i.serviceSelected.totalPrice||0)," \u0111 "),t.xp6(6),t.hij("",t.lcZ(38,16,i.serviceSelected.serviceCharge||0)," \u0111 "),t.xp6(2),t.Q6J("ngIf",i.serviceSelected.totalRefund),t.xp6(1),t.Q6J("ngIf",i.serviceSelected.totalRefund),t.xp6(5),t.hij("",t.lcZ(46,18,i.serviceSelected.totalAmount||0)," \u0111 "),t.xp6(2),t.Q6J("ngIf",i.serviceSelected.remainingCredit),t.xp6(2),t.Q6J("ngForOf",null==i.serviceSelected?null:i.serviceSelected.services),t.xp6(8),t.hij("",t.lcZ(58,20,i.serviceSelected.totalPrice||0),"\u0111"),t.xp6(6),t.hij("",t.lcZ(64,22,i.serviceSelected.serviceCharge||0),"\u0111"),t.xp6(2),t.Q6J("ngIf",i.serviceSelected.totalRefund),t.xp6(1),t.Q6J("ngIf",i.serviceSelected.totalRefund),t.xp6(5),t.hij("",t.lcZ(72,24,i.serviceSelected.totalAmount||0),"\u0111"),t.xp6(2),t.Q6J("ngIf",i.serviceSelected.remainingCredit))},dependencies:[g.ez,g.sg,g.O5,g.JJ,v.AxE,v.Sm8],encapsulation:2}),n})();const B2={"PREPAID BAG UPTO23KG158LCM":"Ki\u1ec7n 23 KG","Bag 20kgs":"Ki\u1ec7n 20 KG","Bag 30kgs":"Ki\u1ec7n 30 KG","Bag 40kgs":"Ki\u1ec7n 40 KG","Oversize 20kgs":"Ki\u1ec7n 20 KG h\xe0nh l\xfd qu\xe1 kh\u1ed5","Oversize 30kgs":"Ki\u1ec7n 30 KG h\xe0nh l\xfd qu\xe1 kh\u1ed5","Bag 50kgs":"Ki\u1ec7n 50 KG","Bag 60kgs":"Ki\u1ec7n 60 KG","Bag 70kgs":"Ki\u1ec7n 70 KG","10KG XWBG":"Ki\u1ec7n 10 KG","20KG XWBG":"Ki\u1ec7n 20 KG","30KG XWBG":"Ki\u1ec7n 30 KG","40KG XWBG":"Ki\u1ec7n 40 KG"},Z2={headers:new ue.WM({"Content-Type":"application/json"})};let I2=(()=>{class n{constructor(e,i,a){this.http=e,this.appConfig=i,this._recaptchaService=a}getBaggage(e){return this._recaptchaService.getRecaptchaToken$().pipe((0,be.w)(i=>this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/get-baggage",JSON.stringify(Object.assign(Object.assign({},e),{recaptcha:i,fromGmbr:!1})),Z2)))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(ue.eN),t.LFG(Rt.qB),t.LFG(on.K))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),S2=(()=>{class n{get addonBaggageData(){return JSON.parse(sessionStorage.getItem("addonBaggageData"))}set addonBaggageData(e){sessionStorage.setItem("addonBaggageData",JSON.stringify(e))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function F2(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-add-on-baggage",13),t.NdJ("baggageSelectedChange",function(a){const u=t.CHM(e).$implicit,d=t.oxw(3);return t.KtG(d.onBaggageSelected(a,u.journeys))}),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit,i=o.index;t.xp6(1),t.Q6J("passengerIndex",i)("passenger",e)("listJourney",e.journeys)}}function N2(n,o){if(1&n&&(t.TgZ(0,"div",11),t.YNc(1,F2,2,3,"ng-container",12),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.dataBaggageInput)}}function O2(n,o){if(1&n&&t._UZ(0,"cf-confirm-add-on",14),2&n){const e=t.oxw(2);t.Q6J("serviceSelected",e.serviceSelected)}}function P2(n,o){if(1&n&&(t.TgZ(0,"div",8),t.YNc(1,N2,2,1,"div",9),t.YNc(2,O2,1,1,"ng-template",null,10,t.W1O),t.qZA()),2&n){const e=t.MAs(3),i=t.oxw();t.xp6(1),t.Q6J("ngIf","addon"===i.mode)("ngIfElse",e)}}function R2(n,o){1&n&&(t.TgZ(0,"div"),t._UZ(1,"btc-ticket-skeleton")(2,"btc-ticket-skeleton"),t.qZA())}const v0=function(n){return{"opacity-50 cursor-default pointer-events-none":n}};function L2(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",15)(2,"button",16),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onClearBaggage())}),t._UZ(3,"cf-icon",17),t.TgZ(4,"span"),t._uU(5,"H\u1ee7y d\u1ecbch v\u1ee5"),t.qZA()(),t.TgZ(6,"div",18)(7,"button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.close())}),t._uU(8," \u0110\xf3ng "),t.qZA(),t.TgZ(9,"button",20),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(),c=t.MAs(12);return t.KtG(a.onAddonBaggage(c))}),t._UZ(10,"cf-icon",21),t.TgZ(11,"span"),t._uU(12,"Th\u1ef1c hi\u1ec7n"),t.qZA()()()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngClass",t.VKq(2,v0,!e.hasBaggageSelected)),t.xp6(7),t.Q6J("ngClass",t.VKq(4,v0,!e.isEnableAddBaggage()))}}function q2(n,o){1&n&&t._UZ(0,"cf-icon",26)}function U2(n,o){1&n&&t._UZ(0,"cf-icon",26)}function M2(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",22)(2,"button",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onReview())}),t._uU(3," Ki\u1ec3m tra l\u1ea1i "),t.YNc(4,q2,1,0,"cf-icon",24),t.qZA(),t.TgZ(5,"button",25),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onConfirm())}),t._UZ(6,"cf-icon",21),t._uU(7," X\xe1c nh\u1eadn "),t.YNc(8,U2,1,0,"cf-icon",24),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("disabled",e.isLoading),t.xp6(2),t.Q6J("ngIf",e.isLoading),t.xp6(1),t.Q6J("disabled",e.isLoading),t.xp6(3),t.Q6J("ngIf",e.isLoading)}}function J2(n,o){1&n&&t._UZ(0,"cf-icon",26)}function j2(n,o){1&n&&t._UZ(0,"cf-icon",26)}function Y2(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",27)(1,"div",28),t._UZ(2,"cf-confirm-add-on",14),t.qZA(),t.TgZ(3,"div",29)(4,"button",23),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onReview())}),t._uU(5," Ki\u1ec3m tra l\u1ea1i "),t.YNc(6,J2,1,0,"cf-icon",24),t.qZA(),t.TgZ(7,"button",25),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onConfirm())}),t._UZ(8,"cf-icon",21),t._uU(9," X\xe1c nh\u1eadn "),t.YNc(10,j2,1,0,"cf-icon",24),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("serviceSelected",e.serviceSelected),t.xp6(2),t.Q6J("disabled",e.isLoading),t.xp6(2),t.Q6J("ngIf",e.isLoading),t.xp6(1),t.Q6J("disabled",e.isLoading),t.xp6(3),t.Q6J("ngIf",e.isLoading)}}function Q2(n,o){1&n&&t._UZ(0,"cf-spinner")}let x0=(()=>{class n{constructor(e,i,a,c,u,d,f,_,m,x){this.cfIconRegister=e,this._btcGetBaggageSvc=i,this._addOnBaggageDataProvider=a,this.ref=c,this.bottomSheetData=u,this.bottomSheetRef=d,this._toastService=f,this._modal=_,this._mobileDetectService=m,this._bottomSheetService=x,this.dataBaggageInput=[],this.dataBaggageSource=[],this.mode="addon",this.hasBaggageSelected=!1,this.isLoading=!1,this.isSkeleton=!1,this.isChangeBag=!1,e.registerIcons([v.UNF,v.Hge,v.B2I,v.PcQ]),c&&(this.dataBaggageInput=(0,Se.cloneDeep)(c.data.dataBaggageInput),this.addonBaggageReq=c.data.addonBaggageReq,this.type=c.data.type,this.bookingInfo=c.data.bookingInfo),u&&(this.dataBaggageInput=(0,Se.cloneDeep)(u.dataBaggageInput),this.addonBaggageReq=u.addonBaggageReq,this.type=u.type,this.bookingInfo=u.bookingInfo),this.dataBaggageSource=this.dataBaggageInput.map(E=>Object.assign(Object.assign({},E),{journeys:E.journeys.map(Z=>Object.assign(Object.assign({},Z),{baggageSelected:Object.assign({},Z.baggageSelected)}))}))}ngOnInit(){this.loadBaggage(),this.hasBaggageSelected=this.dataBaggageInput.some(e=>e.journeys.some(i=>i.baggageSelected.baggageKey))}checkHasBaggage(){this.hasBaggageSelected=this.dataBaggageInput.some(e=>e.journeys.some(i=>i.baggageSelected.baggageKey))}proccessDataApi(e){if(e.every(i=>"ERROR"===i.status))return this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"Kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c th\xf4ng tin h\xe0nh l\xfd",sticky:!0}),void this.ref.close(!1);this.dataBaggageInput.forEach(i=>{i.journeys.forEach((a,c)=>{var u,d;const f=e.find(_=>{var m,x;return a.flight===(null===(m=_.flight)||void 0===m?void 0:m.airline.concat(" ",null===(x=_.flight)||void 0===x?void 0:x.flightNumber))});if(f){const _=null!==(d=null===(u=f.bagOptions)||void 0===u?void 0:u.map(m=>{var x,E,Z;const D=m.chargeBreakdown.filter(P=>"ADULT"===P.passengerType&&["ADULT","ADT","adult"].includes(i.passengerType)||"CHILD"===P.passengerType&&["CHILD","CHD","child"].includes(i.passengerType)||"ALL"===P.passengerType).reduce((P,R)=>P+R.feeCharge.charge.total,0);return{ssrCode:null===(x=m.baggageInfo.infos)||void 0===x?void 0:x.code,unit:null===(E=m.baggageInfo.infos)||void 0===E?void 0:E.unit,weight:null===(Z=m.baggageInfo.infos)||void 0===Z?void 0:Z.weight,baggageKey:m.key,baggageName:m.baggageInfo.infos.name||m.baggageInfo.infos.code,baggageDisplay:(B2[(m.baggageInfo.infos.name||m.baggageInfo.infos.code).trim()]||m.baggageInfo.infos.name||m.baggageInfo.infos.code)+" - "+new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(D+((null==f?void 0:f.serviceFeeAddOn)||0)),totalCharge:D+((null==f?void 0:f.serviceFeeAddOn)||0),rawCharge:D,serviceFeeAddOn:(null==f?void 0:f.serviceFeeAddOn)||0}}))&&void 0!==d?d:[];a.containerKey=f.key,_.unshift({baggageKey:"",baggageDisplay:"Kh\xf4ng mua d\u1ecbch v\u1ee5 h\xe0nh l\xfd"}),a.baggageOptions=_}else a.error=!0,a.containerKey="",a.baggageOptions=[]})})}baggageObservable(){return this._btcGetBaggageSvc.getBaggage(this.addonBaggageReq)}isEnableAddBaggage(){return!(!this.isChangeBag||"baggage_addon"===this.type&&!this.hasBaggageSelected||"get_baggage"===this.type&&!this.hasBaggageSelected)}loadBaggage(){var e;this.isSkeleton=!0,null===(e=this.baggageObservable())||void 0===e||e.pipe((0,s0.x)(()=>this.isSkeleton=!1)).subscribe({next:i=>{"OK"===i.status?this.proccessDataApi(i.data):this.ref.close(i)},error:i=>{console.log(i)}})}close(){"baggage_addon"===this.type?this._mobileDetectService.isMobile()?this._bottomSheetService.dismiss():this.ref.close(!1):(this.dataBaggageInput=this.dataBaggageSource,this._mobileDetectService.isMobile()?this.bottomSheetRef.dismiss(this.dataBaggageSource):this.ref.close(this.dataBaggageSource))}onAddonBaggage(e){if(console.log(this.dataBaggageInput),this.hasBaggageSelected){const i=this.dataBaggageInput.map(u=>({baggageSelected:u.journeys.map(d=>({leg:d.leg,airlineLogo:d.airlineLogo,airlineName:d.airlineName,journeyKey:d.journeyKey,segmentKey:d.containerKey,departDate:d.startTime,flight:`${d.startCode} - ${d.endCode}`,flightNumber:d.flightNumber,serviceKey:d.baggageSelected.baggageKey,serviceName:d.baggageSelected.baggageName,passengerName:u.passengerName,passengerKey:u.passengerKey,unitPrice:d.baggageSelected.totalCharge,startTime:d.startTime,ssrCode:d.baggageSelected.ssrCode,unit:d.baggageSelected.unit,weight:d.baggageSelected.weight,addBaggageFee:u.addBaggageFee}))})).flatMap(u=>u.baggageSelected).filter(u=>u.serviceName),a=i.reduce((u,d)=>u+d.unitPrice,0),c=i.reduce((u,d)=>u+d.addBaggageFee,0);if(this.mode="confirm",this.serviceSelected={services:i,serviceCharge:c,totalPrice:a,totalAmount:c+a},this._mobileDetectService.isMobile()){const u=this._bottomSheetService.open(e,{headerTitle:"X\xe1c nh\u1eadn h\xe0nh l\xfd",containerFullHeigh:!0,rightButtonIcon:"",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4"});u.containerInstance._leftButtonClick.subscribe(d=>{u.dismiss(),this.onReview()})}}else this.ref.close("baggage_addon"!==this.type&&this.dataBaggageInput)}onReview(){this.mode="addon",this._mobileDetectService.isMobile()&&this._bottomSheetService.dismiss()}onBaggageSelected(e,i){this.isChangeBag=!0;const a=i.findIndex(c=>c.journeyKey===e.journeyKey);-1!=a&&(i[a].baggageSelected=e),this.checkHasBaggage()}onConfirm(){this._toastService.add({severity:"success",summary:"Th\xeam h\xe0nh l\xfd th\xe0nh c\xf4ng!",detail:"\u0110\xe3 th\xeam h\xe0nh l\xfd th\xe0nh c\xf4ng cho chuy\u1ebfn bay \u0111\u01b0\u1ee3c ch\u1ecdn",sticky:!1}),this._mobileDetectService.isMobile()?(this._bottomSheetService.dismiss(),this.bottomSheetRef.dismiss(this.dataBaggageInput)):this.ref.close(this.dataBaggageInput)}onClearBaggage(){this._modal.open(su,{title:"X\xe1c nh\u1eadn h\u1ee7y d\u1ecbch v\u1ee5 h\xe0nh l\xfd",body:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n h\u1ee7y d\u1ecbch v\u1ee5 h\xe0nh l\xfd k\xed g\u1eedi \u0111\xe3 th\xeam?",okText:"C\xf3, h\u1ee7y d\u1ecbch v\u1ee5",cancelText:"Kh\xf4ng"}).afterClosed$.subscribe({next:i=>{i.data&&(this.dataBaggageInput=this.dataBaggageInput.map(a=>Object.assign(Object.assign({},a),{journeys:a.journeys.map(c=>Object.assign(Object.assign({},c),{baggageSelected:{baggageName:"",baggageKey:"",containerKey:"",totalCharge:0}}))})),this.dataBaggageSource=this.dataBaggageInput,this.hasBaggageSelected=!1)}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.KNP),t.Y36(I2),t.Y36(S2),t.Y36(ut.gb,8),t.Y36(I.Rr,8),t.Y36(I.Zu,8),t.Y36(Pn.BX),t.Y36(ut.oE),t.Y36(ri.L),t.Y36(I.a2))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-add-on-baggage"]],standalone:!0,features:[t.jDz],decls:14,vars:7,consts:[[1,"w-[700px]","max-h-[600px]","overflow-hidden","rounded-lg","bg-neutral-white","flex","flex-col","md:w-screen","md:max-h-none","md:h-full","md:justify-between","md:rounded-none"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-neutral-gray-1","md:hidden"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],["class","px-6 pt-6 overflow-auto md:p-4",4,"ngIf"],[4,"ngIf"],[1,"p-6","md:p-4"],["mobileConfirm",""],[1,"px-6","pt-6","overflow-auto","md:p-4"],["class","flex flex-col gap-y-4",4,"ngIf","ngIfElse"],["confirmTempalate",""],[1,"flex","flex-col","gap-y-4"],[4,"ngFor","ngForOf"],[3,"passengerIndex","passenger","listJourney","baggageSelectedChange"],[3,"serviceSelected"],[1,"flex","justify-between"],["cf-button","","size","medium","type","secondary",1,"flex","items-center","gap-x-2","md:hidden",3,"ngClass","click"],["icon","delete","size","small"],[1,"flex","gap-x-2","md:w-full"],["cf-button","","size","medium","type","secondary",1,"md:w-full","justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"md:w-full","justify-center",3,"ngClass","click"],["icon","circle_check","size","small",1,"mr-2.5"],[1,"flex","justify-end","gap-x-2","md:bg-neutral-white"],["cf-button","","size","medium","type","secondary",1,"md:w-full","justify-center",3,"disabled","click"],["class","ml-2.5 animate-spin","icon","rotate_left","size","small",4,"ngIf"],["cf-button","","size","medium","color","primary-1",1,"md:w-full","justify-center",3,"disabled","click"],["icon","rotate_left","size","small",1,"ml-2.5","animate-spin"],[1,"flex","flex-col","w-full","justify-between","bg-neutral-gray-2"],[1,"p-4","overflow-y-auto"],[1,"flex","justify-end","gap-x-2","md:bg-neutral-white","p-4"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"Th\xeam h\xe0nh l\xfd"),t.qZA(),t.TgZ(4,"cf-icon",3),t.NdJ("click",function(){return i.close()}),t.qZA()(),t.YNc(5,P2,4,2,"div",4),t.YNc(6,R2,3,0,"div",5),t.TgZ(7,"div",6),t.YNc(8,L2,13,6,"ng-container",5),t.YNc(9,M2,9,4,"ng-container",5),t.qZA()(),t._UZ(10,"cf-toast"),t.YNc(11,Y2,11,5,"ng-template",null,7,t.W1O),t.YNc(13,Q2,1,0,"cf-spinner",5)),2&e&&(t.ekj("md:bg-neutral-gray-2","addon"!==i.mode),t.xp6(5),t.Q6J("ngIf",!i.isSkeleton),t.xp6(1),t.Q6J("ngIf",i.isSkeleton),t.xp6(2),t.Q6J("ngIf","addon"===i.mode),t.xp6(1),t.Q6J("ngIf","addon"!==i.mode),t.xp6(4),t.Q6J("ngIf",i.isLoading))},dependencies:[g.ez,g.mk,g.sg,g.O5,v.AxE,v.Sm8,S.N8,S.Xq,x2,w2,Pn.hj,Hl,gi,I.DW],encapsulation:2}),n})();function H2(n,o){1&n&&(t.TgZ(0,"div"),t.O4$(),t.TgZ(1,"svg",9),t._UZ(2,"path",10)(3,"path",11)(4,"path",12),t.qZA()())}function G2(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",13)(1,"button",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.ok())}),t._uU(2),t.qZA(),t.TgZ(3,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.close())}),t._uU(4),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(2),t.hij(" ",e.okText," "),t.xp6(2),t.hij(" ",e.cancelText," ")}}function K2(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",14),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.close())}),t._uU(2),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",e.cancelText," ")}}function $2(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",13),t.YNc(1,K2,3,1,"ng-container",5),t.TgZ(2,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.ok())}),t._uU(3),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.hasCancel),t.xp6(2),t.hij(" ",e.okText," ")}}let V2=(()=>{class n{constructor(e,i,a,c){var u,d,f,_,m,x,E,Z,D,P,R,$,Q,X;this.ref=e,this.bottomSheetData=i,this.bottomSheetRef=a,this.cfIconRegister=c,this.hasCancel=!0,this.isSecondary=!1,c.registerIcons([v.UNF]),e&&(this.title=null!==(u=e.data.title)&&void 0!==u?u:"X\xe1c nh\u1eadn h\u1ee7y v\xe9",this.body=null!==(d=e.data.body)&&void 0!==d?d:"X\xe1c nh\u1eadn",this.hasIcon=null===(f=e.data.hasIcon)||void 0===f||f,this.okText=null!==(_=e.data.okText)&&void 0!==_?_:"X\xe1c nh\u1eadn",this.cancelText=null!==(m=e.data.cancelText)&&void 0!==m?m:"H\u1ee7y",this.hasCancel=null===(x=e.data.hasCancel)||void 0===x||x,this.isSecondary=null!==(E=e.data.isSecondary)&&void 0!==E&&E),i&&(this.title=null!==(Z=i.title)&&void 0!==Z?Z:"X\xe1c nh\u1eadn h\u1ee7y v\xe9",this.body=null!==(D=i.body)&&void 0!==D?D:"X\xe1c nh\u1eadn",this.hasIcon=null===(P=i.hasIcon)||void 0===P||P,this.okText=null!==(R=i.okText)&&void 0!==R?R:"X\xe1c nh\u1eadn",this.cancelText=null!==($=i.cancelText)&&void 0!==$?$:"H\u1ee7y",this.hasCancel=null===(Q=i.hasCancel)||void 0===Q||Q,this.isSecondary=null!==(X=i.isSecondary)&&void 0!==X&&X)}close(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}ok(){this.ref&&this.ref.close(!0),this.bottomSheetData&&this.bottomSheetRef.dismiss(!0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ut.gb,8),t.Y36(I.Rr,8),t.Y36(I.Zu,8),t.Y36(v.KNP))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-popconfirm-modal"]],standalone:!0,features:[t.jDz],decls:11,vars:5,consts:[[1,"w-[344px]","flex","flex-col","rounded-lg","bg-neutral-white","md:w-screen"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"flex","items-center","gap-x-4","p-6"],[4,"ngIf"],[1,"text-body-md",3,"innerHTML"],["class","flex justify-end gap-x-4 pb-6 pr-6 md:p-4",4,"ngIf","ngIfElse"],["elseActionTemp",""],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M1.23916 18.3887L10.1497 3.95489C10.3277 3.66664 10.594 3.42543 10.92 3.25719C11.246 3.08895 11.6194 3.00005 12 3.00005C12.3806 3.00005 12.754 3.08895 13.08 3.25719C13.406 3.42543 13.6723 3.66664 13.8503 3.95489L22.7608 18.3887C22.9281 18.6611 23.0101 18.9659 22.999 19.2736C22.9879 19.5812 22.8839 19.8811 22.6973 20.1441C22.5106 20.4071 22.2477 20.6241 21.934 20.7741C21.6204 20.9241 21.2667 21.002 20.9075 21H3.08847C2.72962 21.0014 2.37647 20.9231 2.06336 20.7729C1.75026 20.6226 1.48787 20.4055 1.3017 20.1426C1.11553 19.8797 1.01193 19.5801 1.00097 19.2727C0.99001 18.9654 1.07207 18.6608 1.23916 18.3887Z","fill","#FCB40A"],["d","M12 18.75C11.5858 18.75 11.25 18.4143 11.25 18L11.25 17.9901C11.25 17.5758 11.5858 17.2401 12 17.2401C12.4142 17.2401 12.75 17.5758 12.75 17.9901L12.75 18C12.75 18.4143 12.4142 18.75 12 18.75Z","fill","#2C2C2C"],["d","M12 15.75C11.5858 15.75 11.25 15.4142 11.25 15L11.25 8.00002C11.25 7.5858 11.5858 7.25002 12 7.25002C12.4142 7.25002 12.75 7.5858 12.75 8.00002L12.75 15C12.75 15.4142 12.4142 15.75 12 15.75Z","fill","#2C2C2C"],[1,"flex","justify-end","gap-x-4","pb-6","pr-6","md:p-4"],["cf-button","","size","medium","type","secondary",1,"md:w-full","md:justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"md:w-full","md:justify-center",3,"click"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3),t.qZA(),t.TgZ(4,"cf-icon",3),t.NdJ("click",function(){return i.close()}),t.qZA()(),t.TgZ(5,"div",4),t.YNc(6,H2,5,0,"div",5),t._UZ(7,"div",6),t.qZA(),t.YNc(8,G2,5,2,"div",7),t.YNc(9,$2,4,2,"ng-template",null,8,t.W1O),t.qZA()),2&e){const a=t.MAs(10);t.xp6(3),t.Oqu(i.title),t.xp6(3),t.Q6J("ngIf",i.hasIcon),t.xp6(1),t.Q6J("innerHTML",i.body,t.oJD),t.xp6(1),t.Q6J("ngIf",i.isSecondary)("ngIfElse",a)}},dependencies:[g.ez,g.O5,v.AxE,v.Sm8,S.N8,S.Xq],encapsulation:2}),n})(),y0=(()=>{class n{constructor(e,i,a){this.ref=e,this.bottomSheetRef=i,this.cfIconRegister=a,a.registerIcons([v.UNF])}onClose(){var e;this.ref&&this.ref.close(),this.bottomSheetRef&&(null===(e=this.bottomSheetRef)||void 0===e||e.dismiss())}ok(){var e;this.ref&&this.ref.close(!0),this.bottomSheetRef&&(null===(e=this.bottomSheetRef)||void 0===e||e.dismiss(!0))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ut.gb,8),t.Y36(I.Zu,8),t.Y36(v.KNP))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-agree-term-modal"]],standalone:!0,features:[t.jDz],decls:58,vars:0,consts:[[1,"w-[800px]","h-[600px]","rounded-lg","bg-neutral-white","overflow-hidden","md:w-full"],[1,"w-full","h-full","flex","flex-col","max-h-[600px]"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-neutral-gray-1","md:hidden"],[1,"text-heading-sm","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"flex","flex-col","p-6","text-neutral-gray-6","h-full","overflow-auto"],[1,"text-heading-sm","font-bold"],[1,"list-disc","pl-6","text-body-md-short"],[1,"flex","justify-end","items-center","p-6"],["cf-button","","size","medium","color","primary-1",1,"whitespace-nowrap","w-[100px]","md:flex-1","justify-center",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"Quy \u0111\u1ecbnh khi mua v\xe9"),t.qZA(),t.TgZ(5,"cf-icon",4),t.NdJ("click",function(){return i.onClose()}),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6),t._uU(8," 1. Quy \u0111\u1ecbnh v\u1ec1 th\xf4ng tin h\xe0nh kh\xe1ch, th\xf4ng tin li\xean h\u1ec7 "),t.qZA(),t.TgZ(9,"ul",7)(10,"li"),t._uU(11," H\xe0nh kh\xe1ch c\xf3 tr\xe1ch nhi\u1ec7m \u0111\u1ea3m b\u1ea3o r\u1eb1ng m\u1ecdi gi\u1ea5y t\u1edd quy \u0111\u1ecbnh cho h\xe0nh tr\xecnh bay \u0111\u1ec1u c\xf2n gi\xe1 tr\u1ecb s\u1eed d\u1ee5ng v\xe0 th\xf4ng tin h\xe0nh kh\xe1ch tr\xf9ng kh\u1edbp v\u1edbi gi\u1ea5y t\u1edd. "),t.qZA(),t.TgZ(12,"li"),t._uU(13," Kh\xe1ch h\xe0ng ph\u1ea3i ch\u1ecbu tr\xe1ch nhi\u1ec7m khi cung c\u1ea5p sai th\xf4ng tin, n\u1ebfu x\u1ea3y ra s\u1ef1 c\u1ed1 do cung c\u1ea5p sai th\xf4ng tin d\u1eabn t\u1edbi kh\xf4ng th\u1ec3 bay ho\u1eb7c kh\xf4ng nh\u1eadn \u0111\u01b0\u1ee3c th\xf4ng b\xe1o thay \u0111\u1ed5i gi\u1edd kh\u1edfi h\xe0nh th\xec GMBR kh\xf4ng ch\u1ecbu tr\xe1ch nhi\u1ec7m "),t.qZA(),t.TgZ(14,"li"),t._uU(15," \u0110\u1ea3m b\u1ea3o cung c\u1ea5p \u0111\xfang th\xf4ng tin li\xean h\u1ec7 c\u1ee7a qu\xfd kh\xe1ch. Ch\xfang t\xf4i s\u1ebd kh\xf4ng th\u1ec3 li\xean h\u1ec7 khi c\xf3 b\u1ea5t k\u1ef3 s\u1ef1 c\u1ed1 n\xe0o x\u1ea3y ra n\u1ebfu s\u1ed1 \u0111i\u1ec7n tho\u1ea1i/email b\u1ecb sai. "),t.qZA(),t.TgZ(16,"li"),t._uU(17," N\u1ebfu h\xe3ng h\xe0ng kh\xf4ng c\xf3 thay \u0111\u1ed5i v\u1ec1 l\u1ecbch tr\xecnh c\u1ee7a chuy\u1ebfn bay, h\xe3ng s\u1ebd th\xf4ng b\xe1o tr\u1ef1c ti\u1ebfp v\u1edbi b\u1ea1n qua th\xf4ng tin li\xean h\u1ec7. "),t.qZA()(),t.TgZ(18,"div",6),t._uU(19," 2. Quy \u0111\u1ecbnh khi ho\xe0n, h\u1ee7y, \u0111\u1ed5i v\xe9 "),t.qZA(),t.TgZ(20,"ul",7)(21,"li"),t._uU(22,"Sau khi \u0111\u1eb7t v\xe9 th\xe0nh c\xf4ng, b\u1ea5t k\u1ef3 thay \u0111\u1ed5i n\xe0o nh\u01b0 \u0111\u1ed5i v\xe9, \u0111\u1ed5i ng\xe0y kh\u1edfi h\xe0nh, h\u1ee7y \u0111\u1eb7t ch\u1ed7... \u0111\u1ec1u ph\u1ea3i tu\xe2n th\u1ee7 theo \u0111i\u1ec1u ki\u1ec7n v\xe0 m\u1ee9c ph\xed ph\xe1t sinh do h\xe3ng h\xe0ng kh\xf4ng quy \u0111\u1ecbnh. T\u1ea5t c\u1ea3 v\xe9 \u0111\u1ec1u kh\xf4ng th\u1ec3 chuy\u1ec3n nh\u01b0\u1ee3ng cho ng\u01b0\u1eddi kh\xe1c."),t.qZA(),t.TgZ(23,"li"),t._uU(24,"B\u1ea5t k\u1ef3 thay \u0111\u1ed5i ho\u1eb7c h\u1ee7y \u0111\u1eb7t ch\u1ed7 n\xe0o c\u1ee7a b\u1ea1n th\xf4ng qua GMBR c\xf3 th\u1ec3 ph\u1ea3i ch\u1ecbu th\xeam ph\xed d\u1ecbch v\u1ee5 c\u1ed9ng th\xeam. L\u01b0u \xfd r\u1eb1ng kho\u1ea3n ph\xed n\xe0y \u0111\u01b0\u1ee3c c\u1ed9ng th\xeam v\xe0o kho\u1ea3n ph\xed do h\xe3ng h\xe0ng kh\xf4ng \xe1p d\u1ee5ng."),t.qZA(),t.TgZ(25,"li"),t._uU(26,"\u0110\u1ed1i v\u1edbi c\xe1c ch\u01b0\u01a1ng tr\xecnh khuy\u1ebfn m\xe3i, ch\xfang t\xf4i c\xf3 th\u1ec3 thu h\u1ed3i khuy\u1ebfn m\xe3i ho\u1eb7c y\xeau c\u1ea7u kh\xe1ch h\xe0ng ph\u1ea3i \u0111\xf3ng b\xf9 ti\u1ec1n n\u1ebfu ph\xe1t hi\u1ec7n kh\xe1ch h\xe0ng c\xf3 h\xe0nh vi gian l\u1eadn."),t.qZA()(),t.TgZ(27,"div",6),t._uU(28," 3. Quy \u0111\u1ecbnh ho\xe0n ti\u1ec1n "),t.qZA(),t._uU(29," C\xe1c tr\u01b0\u1eddng h\u1ee3p sau \u0111\xe2y \u0111\u01b0\u1ee3c ho\xe0n ti\u1ec1n khi \u0111\u1eb7t v\xe9 tr\xean GMBR: "),t.TgZ(30,"ul",7)(31,"li"),t._uU(32,"H\u1ee7y \u0111\u1eb7t ch\u1ed7: kh\xe1ch h\xe0ng h\u1ee7y \u0111\u1eb7t ch\u1ed7 c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c ho\xe0n ti\u1ec1n/ho\xe0n b\u1ea3o l\u01b0u theo quy \u0111\u1ecbnh c\u1ee7a h\xe3ng, th\u1eddi gian nh\u1eadn \u0111\u01b0\u1ee3c ho\xe0n ti\u1ec1n ph\u1ee5 thu\u1ed9c v\xe0o quy tr\xecnh ho\xe0n ti\u1ec1n c\u1ee7a h\xe3ng."),t.qZA(),t.TgZ(33,"li"),t._uU(34,"C\xf3 l\u1ed7i x\u1ea3y tra trong qu\xe1 tr\xecnh h\u1ec7 th\u1ed1ng x\u1eed l\xfd v\xe9: GMBR s\u1ebd ho\xe0n ti\u1ec1n cho kh\xe1ch h\xe0ng khi c\xf3 l\u1ed7i x\u1ea3y ra trong qu\xe1 tr\xecnh xu\u1ea5t v\xe9 v\xe0 kh\xe1ch h\xe0ng kh\xf4ng \u0111\u1ed3ng \xfd \u0111\u1ed5i qua v\xe9 kh\xe1c, t\xf9y v\xe0o h\xecnh th\u1ee9c thanh to\xe1n m\xe0 th\u1eddi gian nh\u1eadn \u0111\u01b0\u1ee3c ho\xe0n ti\u1ec1n kh\xe1c nhau nh\u01b0 sau:"),t.qZA(),t.TgZ(35,"li"),t._uU(36,"Thanh to\xe1n chuy\u1ec3n kho\u1ea3n ng\xe2n h\xe0ng b\u1eb1ng QR code: cam k\u1ebft ho\xe0n ti\u1ec1n trong v\xf2ng 24h l\xe0m vi\u1ec7c"),t.qZA(),t.TgZ(37,"li"),t._uU(38,"Thanh to\xe1n b\u1eb1ng th\u1ebb ATM n\u1ed9i \u0111\u1ecba: ho\xe0n ti\u1ec1n sau 1 \u0111\u1ebfn 3 ng\xe0y l\xe0m vi\u1ec7c"),t.qZA(),t.TgZ(39,"li"),t._uU(40,"Thanh to\xe1n b\u1eb1ng th\u1ebb qu\u1ed1c t\u1ebf: ho\xe0n ti\u1ec1n sau 7 \u0111\u1ebfn 15 ng\xe0y l\xe0m vi\u1ec7c"),t.qZA()(),t.TgZ(41,"div",6),t._uU(42," 4. Quy \u0111\u1ecbnh xu\u1ea5t h\xf3a \u0111\u01a1n: "),t.qZA(),t.TgZ(43,"ul",7)(44,"li"),t._uU(45,"N\u1ebfu kh\xe1ch h\xe0ng c\xf3 nhu c\u1ea7u xu\u1ea5t h\xf3a \u0111\u01a1n, kh\xe1ch h\xe0ng y\xeau c\u1ea7u xu\u1ea5t h\xf3a \u0111\u01a1n trong v\xf2ng 24h k\u1ec3 t\u1eeb khi thanh to\xe1n, kh\xe1ch h\xe0ng g\u1eedi y\xeau c\u1ea7u qua email giacmobayre@gmail.com, GMBR s\u1ebd g\u1eedi h\xf3a \u0111\u01a1n \u0111i\u1ec7n t\u1eed qua email c\u1ee7a kh\xe1ch h\xe0ng trong v\xf2ng 48h l\xe0m vi\u1ec7c"),t.qZA()(),t.TgZ(46,"div",6),t._uU(47," 5. C\xe1c quy \u0111\u1ecbnh kh\xe1c "),t.qZA(),t.TgZ(48,"ul",7)(49,"li"),t._uU(50,"Trong c\xe1c tr\u01b0\u1eddng h\u1ee3p b\u1ea5t kh\u1ea3 kh\xe1ng do \u1ea3nh h\u01b0\u1edfng b\u1edfi thi\xean tai, d\u1ecbch b\u1ec7nh ho\u1eb7c chi\u1ebfn tranh khi\u1ebfn chuy\u1ebfn bay b\u1ecb ho\xe3n h\u1ee7y, GMBR s\u1ebd c\u1ed1 g\u1eafng kh\u1eafc ph\u1ee5c v\xe0 h\u1ed7 tr\u1ee3 kh\xe1ch h\xe0ng t\u1ed1t nh\u1ea5t d\u1ef1a v\xe0o s\u1ef1 h\u1ed7 tr\u1ee3 c\u1ee7a h\xe3ng h\xe0ng kh\xf4ng. "),t.qZA(),t.TgZ(51,"li"),t._uU(52,"Khi kh\xe1ch h\xe0ng thanh to\xe1n qua c\u1ed5ng thanh to\xe1n/ng\xe2n h\xe0ng v\xe0 GMBR ch\u01b0a nh\u1eadn \u0111\u01b0\u1ee3c ti\u1ec1n v\u1ec1 t\xe0i kho\u1ea3n do l\u1ed7i x\u1ea3y ra \u1edf c\u1ed5ng thanh to\xe1n/ng\xe2n h\xe0ng, GMBR kh\xf4ng c\xf3 ngh\u0129a v\u1ee5 ph\u1ea3i xu\u1ea5t v\xe9 cho kh\xe1ch h\xe0ng."),t.qZA(),t.TgZ(53,"li"),t._uU(54,"T\u1ea5t c\u1ea3 h\xe0nh vi c\u1ed1 \xfd gian l\u1eadn nh\u1eb1m l\u1ee3i d\u1ee5ng chi\u1ebfm \u0111o\u1ea1t t\xe0i s\u1ea3n s\u1ebd ph\u1ea3i ch\u1ecbu tr\xe1ch nhi\u1ec7m tr\u01b0\u1edbc ph\xe1p lu\u1eadt."),t.qZA()()(),t.TgZ(55,"div",8)(56,"button",9),t.NdJ("click",function(){return i.ok()}),t._uU(57," T\xf4i \u0111\xe3 hi\u1ec3u "),t.qZA()()()())},dependencies:[g.ez,I.DW,v.AxE,v.Sm8,S.N8,S.Xq],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),n})();function z2(n){var o;const e=null===(o=n.value)||void 0===o?void 0:o.trim();return e?e.includes(" ")?null:{fullNameInvalid:!0}:null}let W2=(()=>{class n{onInput(e){const i=e.target,a=i.value;if(!/^[0-9]*$/.test(a)){const u=a.replace(/[^0-9]*/g,"");i.value=u,i.dispatchEvent(new Event("input",{bubbles:!0}))}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.lG2({type:n,selectors:[["","CfNumberic",""]],hostBindings:function(e,i){1&e&&t.NdJ("input",function(c){return i.onInput(c)})},standalone:!0}),n})();var ty=w(1884);let ey=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"status",void 0),(0,b.gn)([(0,Qt.D)(()=>ny),(0,C.C)()],n.prototype,"data",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"objectError",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"errorCode",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"success",void 0),n})(),ny=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"bookingCodeRandom",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"totalPrice",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"state",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"bookingCode",void 0),n})();const iy={headers:new ue.WM({"Content-Type":"application/json"})};let oy=(()=>{class n{constructor(e,i,a){this.http=e,this.appConfig=i,this._recaptchaService=a}bookFlight(e){return this._recaptchaService.getRecaptchaToken$().pipe((0,be.w)(i=>this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/booking",JSON.stringify(Object.assign(Object.assign({},e),{recaptcha:i})),iy)),(0,Be.U)(i=>(0,oe.yE)(ey,i,{excludeExtraneousValues:!0})))}sendErrorDataBook(e,i,a){const c="5855284310:AAH4K4xgJwzCRPJRRqNL7vIVAE01cpzEWIc",u=new FormData;u.append("chat_id","-4083387556"),u.append("document",new Blob([e],{type:"application/json"}),"data.json"),u.append("caption",`C\xf3 l\u1ed7i trong khi mapping d\u1eef li\u1ec7u t\u1eeb ${a}`);const d=[];return d.push(this.http.post(`https://api.telegram.org/bot${c}/sendDocument`,u)),d.push(this.http.post(`https://api.telegram.org/bot${c}/sendMessage`,JSON.stringify({chat_id:"-4083387556",text:`[${a}]\n${i}`}),{headers:new ue.WM({"Content-Type":"application/json"})})),(0,Mf.D)(d)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(ue.eN),t.LFG(Rt.qB),t.LFG(on.K))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ry=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"traceId",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"status",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"data",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"objectError",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"errorCode",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"success",void 0),n})();const ay={headers:new ue.WM({"Content-Type":"application/json"})};let sy=(()=>{class n{constructor(e,i,a){this.http=e,this.appConfig=i,this._recaptchaService=a}addExtraInfoOrder(e){return this._recaptchaService.getRecaptchaToken$().pipe((0,be.w)(i=>this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/add-extra-info-order",JSON.stringify(Object.assign(Object.assign({},e),{recaptcha:i})),ay)),(0,Be.U)(i=>(0,oe.yE)(ry,i,{excludeExtraneousValues:!0})))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(ue.eN),t.LFG(Rt.qB),t.LFG(on.K))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cy=(()=>{class n{}return(0,b.gn)([(0,C.C)()],n.prototype,"traceId",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"status",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"data",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"objectError",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"errorCode",void 0),(0,b.gn)([(0,C.C)()],n.prototype,"success",void 0),n})();const ly={headers:new ue.WM({"Content-Type":"application/json"})};let uy=(()=>{class n{constructor(e,i,a){this.http=e,this.appConfig=i,this._recaptchaSvc=a}check(e){return this._recaptchaSvc.getRecaptchaToken$().pipe((0,be.w)(i=>{const a=Object.assign(Object.assign({},e),{recaptcha:i});return this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/check-valid-promo-code-book",JSON.stringify(a),ly)}),(0,Be.U)(i=>(0,oe.yE)(cy,i,{excludeExtraneousValues:!0})))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(ue.eN),t.LFG(Rt.qB),t.LFG(on.K))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dy=["parentSelectInfant"];function py(n,o){if(1&n&&(t.TgZ(0,"div",94),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;let i;t.xp6(1),t.AsE(" ","ADT"===(null==(i=e.get("type"))?null:i.value)?"Ng\u01b0\u1eddi l\u1edbn":"CHD"===(null==(i=e.get("type"))?null:i.value)?"Tr\u1ebb em":"Em b\xe9"," ",(null==(i=e.get("indexByType"))?null:i.value)+1," ")}}function gy(n,o){if(1&n&&(t.TgZ(0,"div",94),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;let i;t.xp6(1),t.hij(" ",null==(i=e.get("name"))||null==i.value?null:i.value.toUpperCase()," ")}}function fy(n,o){if(1&n&&(t.YNc(0,py,2,2,"div",93),t.YNc(1,gy,2,1,"div",93)),2&n){const e=t.oxw().$implicit;let i,a;t.Q6J("ngIf",!(null!=(i=e.get("name"))&&i.valid&&null!=(i=e.get("name"))&&i.valid)),t.xp6(1),t.Q6J("ngIf",(null==(a=e.get("name"))?null:a.valid)&&(null==(a=e.get("name"))?null:a.valid))}}function _y(n,o){if(1&n&&(t.TgZ(0,"div",107),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;let i;t.xp6(1),t.AsE(" ","ADT"===(null==(i=e.get("type"))?null:i.value)?"Ng\u01b0\u1eddi l\u1edbn":"CHD"===(null==(i=e.get("type"))?null:i.value)?"Tr\u1ebb em":"Em b\xe9"," ",(null==(i=e.get("indexByType"))?null:i.value)+1," ")}}function hy(n,o){if(1&n&&(t.TgZ(0,"div",107),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;let i;t.xp6(1),t.hij(" ",null==(i=e.get("name"))||null==i.value?null:i.value.toUpperCase()," ")}}function my(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","H\u1ecd v\xe0 t\xean kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function vy(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","Vui l\xf2ng nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 h\u1ecd v\xe0 t\xean")}function xy(n,o){1&n&&(t.TgZ(0,"div",109),t._uU(1," V\xed d\u1ee5: NGUYEN VAN MANH "),t.qZA())}function yy(n,o){if(1&n&&t._UZ(0,"cf-input-hint",108),2&n){const e=t.oxw(2).$implicit;let i;t.Q6J("hint",null==(i=e.get("birthday"))||null==i.errors||null==i.errors.ageInvalid?null:i.errors.ageInvalid.message)}}function Cy(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","Ng\xe0y sinh kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function by(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","Ng\xe0y sinh ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/mm/yyyy. V\xed d\u1ee5: 25/01/1990")}function Ty(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","M\u1ed7i ng\u01b0\u1eddi l\u1edbn ch\u1ec9 c\xf3 t\u1ed1i \u0111a 1 em b\xe9 ph\u1ee5 thu\u1ed9c")}function Ey(n,o){if(1&n&&(t.TgZ(0,"div",60)(1,"cf-select",110,111),t.ALo(3,"mapper"),t.TgZ(4,"label",100),t._uU(5,"Thu\u1ed9c h\xe0nh kh\xe1ch ng\u01b0\u1eddi l\u1edbn"),t.qZA(),t.YNc(6,Ty,1,1,"cf-input-hint",27),t.ALo(7,"mapper"),t.qZA()()),2&n){const e=t.oxw(2),i=e.index,a=e.$implicit,c=t.oxw(2);t.xp6(1),t.Q6J("hasBackdrop",!0)("status",t.gM2(3,6,c.passengers,c.checkErrorDependentPartner,i,a.value)?"error":"default")("data",c.optionsParent)("allowSearch",!1),t.xp6(3),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("ngIf",t.gM2(7,11,c.passengers,c.checkErrorDependentPartner,i,a.value))}}function ky(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","S\u1ed1 CCCD kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Ay(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","S\u1ed1 CCCD t\u1ed1i thi\u1ec3u 9 k\xfd t\u1ef1")}function Dy(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","S\u1ed1 CCCD t\u1ed1i \u0111a 12 k\xfd t\u1ef1")}function wy(n,o){if(1&n&&(t.TgZ(0,"div")(1,"cf-input-group",23),t._UZ(2,"input",121),t.YNc(3,ky,1,1,"cf-input-hint",27),t.YNc(4,Ay,1,1,"cf-input-hint",27),t.YNc(5,Dy,1,1,"cf-input-hint",27),t.qZA()()),2&n){const e=t.oxw(3).$implicit;let i,a,c,u;t.xp6(1),t.Q6J("status",null!=(i=e.get("cccdNumber"))&&i.invalid&&(null!=(i=e.get("cccdNumber"))&&i.dirty||null!=(i=e.get("cccdNumber"))&&i.touched)?"error":"default"),t.xp6(2),t.Q6J("ngIf",(null==(a=e.get("cccdNumber"))?null:a.hasError("required"))&&((null==(a=e.get("cccdNumber"))?null:a.touched)||(null==(a=e.get("cccdNumber"))?null:a.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(c=e.get("cccdNumber"))?null:c.hasError("minlength"))&&((null==(c=e.get("cccdNumber"))?null:c.touched)||(null==(c=e.get("cccdNumber"))?null:c.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(u=e.get("cccdNumber"))?null:u.hasError("maxlength"))&&((null==(u=e.get("cccdNumber"))?null:u.touched)||(null==(u=e.get("cccdNumber"))?null:u.dirty)))}}function By(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","S\u1ed1 h\u1ed9 chi\u1ebfu t\u1ed1i \u0111a 9 k\xfd t\u1ef1")}function Zy(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","S\u1ed1 h\u1ed9 chi\u1ebfu kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Iy(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","Qu\u1ed1c t\u1ecbch kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Sy(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","Qu\u1ed1c gia kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Fy(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","Ng\xe0y c\u1ea5p kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Ny(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","Ng\xe0y c\u1ea5p h\u1ed9 chi\u1ebfu ph\u1ea3i tr\u01b0\u1edbc ng\xe0y h\u1ebft h\u1ea1n")}function Oy(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","Ng\xe0y h\u1ebft h\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Py(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",20)(1,"cf-input-group",23)(2,"label",100),t._uU(3," S\u1ed1 h\u1ed9 chi\u1ebfu "),t.qZA(),t._UZ(4,"input",122),t.YNc(5,By,1,1,"cf-input-hint",27),t.YNc(6,Zy,1,1,"cf-input-hint",27),t.qZA(),t.TgZ(7,"cf-select",123)(8,"label",100),t._uU(9," Qu\u1ed1c t\u1ecbch "),t.qZA(),t.YNc(10,Iy,1,1,"cf-input-hint",27),t.qZA(),t.TgZ(11,"cf-select",124)(12,"label",100),t._uU(13," Qu\u1ed1c gia c\u1ea5p h\u1ed9 chi\u1ebfu "),t.qZA(),t.YNc(14,Sy,1,1,"cf-input-hint",27),t.qZA(),t.TgZ(15,"div")(16,"cf-input-group",23),t._UZ(17,"cf-icon",101),t.TgZ(18,"label",100),t._uU(19," Ng\xe0y c\u1ea5p "),t.qZA(),t.TgZ(20,"input",125,126),t.NdJ("input",function(){t.CHM(e);const a=t.MAs(21);return t.KtG(a.close())})("dateSelect",function(){t.CHM(e);const a=t.MAs(21);return t.KtG(a.close())}),t.qZA(),t.YNc(22,Fy,1,1,"cf-input-hint",27),t.YNc(23,Ny,1,1,"cf-input-hint",27),t.qZA()(),t.TgZ(24,"div")(25,"cf-input-group",23),t._UZ(26,"cf-icon",101),t.TgZ(27,"label",100),t._uU(28," Ng\xe0y h\u1ebft h\u1ea1n "),t.qZA(),t.TgZ(29,"input",127,128),t.NdJ("input",function(){t.CHM(e);const a=t.MAs(30);return t.KtG(a.close())})("dateSelect",function(){t.CHM(e);const a=t.MAs(30);return t.KtG(a.close())}),t.qZA(),t.YNc(31,Oy,1,1,"cf-input-hint",27),t.qZA(),t.TgZ(32,"div",129),t._uU(33," C\xf2n h\u1ea1n tr\xean 6 th\xe1ng so v\u1edbi ng\xe0y b\u1eaft \u0111\u1ea7u h\xe0nh tr\xecnh"),t.qZA()()()}if(2&n){const e=t.oxw(3).$implicit,i=t.oxw(2);let a,c,u,d,f,_,m,x,E,Z,D,P;t.xp6(1),t.Q6J("status",null!=(a=e.get("number"))&&a.invalid&&(null!=(a=e.get("number"))&&a.dirty||null!=(a=e.get("number"))&&a.touched)?"error":"default"),t.xp6(1),t.Q6J("CfRequired",i.has1GProvider||i.hasFlyOneProvider),t.xp6(3),t.Q6J("ngIf",(null==(c=e.get("number"))?null:c.hasError("maxlength"))&&((null==(c=e.get("number"))?null:c.touched)||(null==(c=e.get("number"))?null:c.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(u=e.get("number"))?null:u.hasError("required"))&&((null==(u=e.get("number"))?null:u.touched)||(null==(u=e.get("number"))?null:u.dirty))),t.xp6(1),t.Q6J("hasBackdrop",!0)("status",null!=(d=e.get("nationality"))&&d.invalid&&(null!=(d=e.get("nationality"))&&d.dirty||null!=(d=e.get("nationality"))&&d.touched)?"error":"default")("data",i.countryOption)("allowSearch",!0),t.xp6(1),t.Q6J("CfRequired",i.has1GProvider||i.hasFlyOneProvider),t.xp6(2),t.Q6J("ngIf",(null==(f=e.get("nationality"))?null:f.hasError("required"))&&((null==(f=e.get("nationality"))?null:f.touched)||(null==(f=e.get("nationality"))?null:f.dirty))),t.xp6(1),t.Q6J("data",i.countryOption)("hasBackdrop",!0)("status",null!=(_=e.get("issuanceCountry"))&&_.invalid&&(null!=(_=e.get("issuanceCountry"))&&_.dirty||null!=(_=e.get("issuanceCountry"))&&_.touched)?"error":"default")("allowSearch",!0),t.xp6(1),t.Q6J("CfRequired",i.has1GProvider||i.hasFlyOneProvider),t.xp6(2),t.Q6J("ngIf",(null==(m=e.get("issuanceCountry"))?null:m.hasError("required"))&&((null==(m=e.get("issuanceCountry"))?null:m.touched)||(null==(m=e.get("issuanceCountry"))?null:m.dirty))),t.xp6(2),t.Q6J("status",null!=(x=e.get("issuanceDate"))&&x.invalid&&(null!=(x=e.get("issuanceDate"))&&x.dirty||null!=(x=e.get("issuanceDate"))&&x.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",i.has1GProvider||i.hasFlyOneProvider),t.xp6(2),t.Q6J("secondaryCalendar","lunar")("displayMonths",1)("maxDate",i.currentDate),t.xp6(2),t.Q6J("ngIf",(null==(E=e.get("issuanceDate"))?null:E.hasError("required"))&&((null==(E=e.get("issuanceDate"))?null:E.touched)||(null==(E=e.get("issuanceDate"))?null:E.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(Z=e.get("issuanceDate"))?null:Z.hasError("issuanceDateInvalid"))&&((null==(Z=e.get("issuanceDate"))?null:Z.touched)||(null==(Z=e.get("issuanceDate"))?null:Z.dirty))),t.xp6(2),t.Q6J("status",null!=(D=e.get("expiryDate"))&&D.invalid&&(null!=(D=e.get("expiryDate"))&&D.dirty||null!=(D=e.get("expiryDate"))&&D.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",i.has1GProvider||i.hasFlyOneProvider),t.xp6(2),t.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",i.currentDate),t.xp6(2),t.Q6J("ngIf",(null==(P=e.get("expiryDate"))?null:P.hasError("required"))&&((null==(P=e.get("expiryDate"))?null:P.touched)||(null==(P=e.get("expiryDate"))?null:P.dirty)))}}function Ry(n,o){1&n&&(t.TgZ(0,"div",130),t._uU(1," Khuy\u1ebfn ngh\u1ecb nh\u1eadp CCCD/H\u1ed9 chi\u1ebfu kh\xe1ch h\xe0ng, n\u1ebfu kh\xf4ng h\xe3ng s\u1ebd kh\xf4ng h\u1ed7 tr\u1ee3 khi g\u1eb7p s\u1ef1 c\u1ed1 "),t.qZA())}function Ly(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",112)(1,"div",113)(2,"label",114),t._uU(3," Gi\u1ea5y t\u1edd t\xf9y th\xe2n "),t.qZA(),t.TgZ(4,"div")(5,"div",115)(6,"cf-radio-group",116),t.NdJ("checkChange",function(a){t.CHM(e);const c=t.oxw(2).$implicit,u=t.oxw(2);return t.KtG(u.onIdentityChange(a,c))}),t.TgZ(7,"cf-radio",117),t._uU(8," CCCD "),t.qZA(),t.TgZ(9,"cf-radio",118),t._uU(10," H\u1ed9 chi\u1ebfu "),t.qZA()(),t.YNc(11,wy,6,4,"div",61),t.YNc(12,Py,34,29,"div",119),t.YNc(13,Ry,2,0,"div",120),t.qZA()()()()}if(2&n){const e=t.oxw(2).$implicit,i=t.oxw(2);t.xp6(7),t.Q6J("disabled",i.hasAirportInternational)("value",i.IDENTIFY_TYPE.CCCD),t.xp6(2),t.Q6J("value",i.IDENTIFY_TYPE.PASSPORT),t.xp6(2),t.Q6J("ngIf",e.value.documentType===i.IDENTIFY_TYPE.CCCD),t.xp6(1),t.Q6J("ngIf",e.value.documentType===i.IDENTIFY_TYPE.PASSPORT),t.xp6(1),t.Q6J("ngIf",e.value.documentType===i.IDENTIFY_TYPE.NON_IDENTIFY)}}function qy(n,o){1&n&&(t.TgZ(0,"div",139),t._UZ(1,"cf-icon",140),t.TgZ(2,"span"),t._uU(3,"Th\xf4ng tin b\u1ed5 sung"),t.qZA()())}function Uy(n,o){if(1&n&&(t.TgZ(0,"cf-collapse",131)(1,"cf-collapse-panel",89),t.YNc(2,qy,4,0,"ng-template",null,37,t.W1O),t.TgZ(4,"div",132)(5,"cf-input-group",133)(6,"label",134),t._UZ(7,"img",135),t._uU(8," Bamboo Airways (QH) "),t.qZA(),t._UZ(9,"input",136),t.qZA(),t.TgZ(10,"cf-input-group",133)(11,"label",134),t._UZ(12,"img",137),t._uU(13," Vietnam Airlines (VNA) "),t.qZA(),t._UZ(14,"input",138),t.qZA()()()()),2&n){const e=t.MAs(3);t.xp6(1),t.Q6J("title",e)("active",!1)}}const My=function(){return["VN","QH"]};function Jy(n,o){if(1&n){const e=t.EpF();t.YNc(0,_y,2,2,"div",95),t.YNc(1,hy,2,1,"div",95),t.TgZ(2,"div",96)(3,"div",20)(4,"div",60)(5,"cf-input-group",97)(6,"label",24)(7,"span",25),t._uU(8,"H\u1ecd v\xe0 t\xean"),t.qZA()(),t.TgZ(9,"input",98),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.isViewPaxName=!0)})("blur",function(a){t.CHM(e);const c=t.oxw().$implicit,u=t.oxw(2);return t.KtG(u.onBlurInput(a,c,"name"))}),t.qZA(),t.YNc(10,my,1,1,"cf-input-hint",27),t.YNc(11,vy,1,1,"cf-input-hint",27),t.qZA(),t.YNc(12,xy,2,0,"div",34),t.qZA(),t.TgZ(13,"div",60)(14,"cf-select",99),t.NdJ("keydown.space",function(a){return a.preventDefault()}),t.TgZ(15,"label",100),t._uU(16,"Gi\u1edbi t\xednh"),t.qZA()()(),t.TgZ(17,"div",60)(18,"cf-input-group",23),t._UZ(19,"cf-icon",101),t.TgZ(20,"label",24)(21,"span",25),t._uU(22,"Ng\xe0y sinh"),t.qZA(),t._uU(23,"\xa0 "),t.TgZ(24,"span",102),t._uU(25),t.qZA()(),t.TgZ(26,"input",103),t.NdJ("blur",function(){t.CHM(e);const a=t.oxw().$implicit;let c;return t.KtG(null==(c=a.get("birthday"))?null:c.markAsTouched())})("input",function(a){t.CHM(e);const c=t.oxw().$implicit,u=t.oxw(2);return t.KtG(u.onInputBirthdayChange(a,c,"birthday"))}),t.qZA(),t.YNc(27,yy,1,1,"cf-input-hint",27),t.YNc(28,Cy,1,1,"cf-input-hint",27),t.YNc(29,by,1,1,"cf-input-hint",27),t.qZA()(),t.YNc(30,Ey,8,16,"div",104),t.qZA(),t.YNc(31,Ly,14,6,"div",105),t.YNc(32,Uy,15,2,"cf-collapse",106),t.ALo(33,"mapper"),t.qZA()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);let a,c,u,d,f,_,m,x,E,Z,D,P,R,$;t.Q6J("ngIf",!(null!=(a=e.get("name"))&&a.valid)),t.xp6(1),t.Q6J("ngIf",null==(c=e.get("name"))?null:c.valid),t.xp6(4),t.Q6J("status",null!=(u=e.get("name"))&&u.invalid&&(null!=(u=e.get("name"))&&u.dirty||null!=(u=e.get("name"))&&u.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("ngIf",(null==(d=e.get("name"))||null==d.errors?null:d.errors.required)&&(null==(d=e.get("name"))?null:d.touched)),t.xp6(1),t.Q6J("ngIf",(null==(f=e.get("name"))||null==f.errors?null:f.errors.fullNameInvalid)&&(null==(f=e.get("name"))?null:f.touched)),t.xp6(1),t.Q6J("ngIf",(null==(_=e.get("name"))?null:_.touched)||(null==(_=e.get("name"))?null:_.dirty)||i.isViewPaxName),t.xp6(2),t.Q6J("hasBackdrop",!0)("status",null!=(m=e.get("gender"))&&m.invalid&&(null!=(m=e.get("gender"))&&m.dirty||null!=(m=e.get("gender"))&&m.touched)?"error":"default")("data",i.optionsGender)("allowSearch",!1),t.xp6(1),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("status",null!=e.controls.birthday&&e.controls.birthday.invalid&&(null!=e.controls.birthday&&e.controls.birthday.dirty||null!=e.controls.birthday&&e.controls.birthday.touched)?"error":"default"),t.xp6(3),t.Q6J("CfRequired","ADT"!==(null==(x=e.get("type"))?null:x.value)),t.xp6(4),t.hij(" ","ADT"===(null==(E=e.get("type"))?null:E.value)?"(L\u1edbn h\u01a1n 12 tu\u1ed5i)":"CHD"===(null==(E=e.get("type"))?null:E.value)?"(T\u1eeb 2 \u0111\u1ebfn 12 tu\u1ed5i)":"(D\u01b0\u1edbi 2 tu\u1ed5i)"," "),t.xp6(2),t.Q6J("ngIf",(null==(Z=e.get("birthday"))||null==Z.errors?null:Z.errors.ageInvalid)&&((null==(Z=e.get("birthday"))?null:Z.touched)||(null==(Z=e.get("birthday"))?null:Z.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(D=e.get("birthday"))||null==D.errors?null:D.errors.required)&&((null==(D=e.get("birthday"))?null:D.touched)||(null==(D=e.get("birthday"))?null:D.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(P=e.get("birthday"))||null==P.errors?null:P.errors.invalidDate)&&((null==(P=e.get("birthday"))?null:P.touched)||(null==(P=e.get("birthday"))?null:P.dirty))),t.xp6(1),t.Q6J("ngIf","INF"===(null==(R=e.get("type"))?null:R.value)),t.xp6(1),t.Q6J("ngIf",!("INF"===(null==($=e.get("type"))?null:$.value)&&!i.hasAirportInternational)),t.xp6(1),t.Q6J("ngIf",t.Dn7(33,21,i.ticketCur,i.checkAirline,t.DdM(25,My)))}}function jy(n,o){if(1&n&&(t.TgZ(0,"div",86)(1,"div",87)(2,"cf-collapse",88)(3,"cf-collapse-panel",89),t.YNc(4,fy,2,2,"ng-template",null,37,t.W1O),t.GkF(6,90),t.qZA()(),t.TgZ(7,"div",91),t.GkF(8,90),t.YNc(9,Jy,34,26,"ng-template",null,92,t.W1O),t.qZA()()()),2&n){const e=o.index,i=t.MAs(5),a=t.MAs(10);t.xp6(1),t.Q6J("formGroupName",e)("ngClass","passenger-"+e),t.xp6(2),t.Q6J("title",i)("active",!0),t.xp6(3),t.Q6J("ngTemplateOutlet",a),t.xp6(2),t.Q6J("ngTemplateOutlet",a)}}function Yy(n,o){1&n&&(t.TgZ(0,"div",156),t._uU(1," \u0110\xe3 th\xeam h\xe0nh l\xfd k\xed g\u1eedi "),t.qZA())}function Qy(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",152),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.onClearBaggage())}),t._UZ(1,"cf-icon",157),t.TgZ(2,"div",158),t._uU(3,"H\u1ee7y"),t.qZA()()}}function Hy(n,o){1&n&&t._UZ(0,"cf-icon",159)}function Gy(n,o){1&n&&(t.TgZ(0,"span",158),t._uU(1,"Th\xeam"),t.qZA())}function Ky(n,o){1&n&&t._UZ(0,"cf-icon",160)}function $y(n,o){1&n&&(t.TgZ(0,"span",158),t._uU(1,"Thay \u0111\u1ed5i"),t.qZA())}function Vy(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",141)(1,"div",18)(2,"div",7),t._UZ(3,"img",8),t.TgZ(4,"div",9),t._uU(5,"D\u1ecbch v\u1ee5 c\u1ed9ng th\xeam"),t.qZA()()(),t.TgZ(6,"div",142)(7,"div",143)(8,"div",144)(9,"div"),t.O4$(),t.TgZ(10,"svg",145),t._UZ(11,"path",146),t.qZA()(),t.kcU(),t.TgZ(12,"div",147)(13,"div",148),t._uU(14,"H\xe0nh l\xfd k\xed g\u1eedi"),t.qZA(),t.YNc(15,Yy,2,0,"div",149),t.qZA()(),t.TgZ(16,"div",150),t.YNc(17,Qy,4,0,"button",151),t.TgZ(18,"button",152),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onAddBaggage())}),t.YNc(19,Hy,1,0,"cf-icon",153),t.YNc(20,Gy,2,0,"span",154),t.YNc(21,Ky,1,0,"cf-icon",155),t.YNc(22,$y,2,0,"span",154),t.qZA()()()()()}if(2&n){const e=t.oxw(2);t.xp6(15),t.Q6J("ngIf",e.hasBaggageSelected),t.xp6(2),t.Q6J("ngIf",e.hasBaggageSelected),t.xp6(2),t.Q6J("ngIf",!e.hasBaggageSelected),t.xp6(1),t.Q6J("ngIf",!e.hasBaggageSelected),t.xp6(1),t.Q6J("ngIf",e.hasBaggageSelected),t.xp6(1),t.Q6J("ngIf",e.hasBaggageSelected)}}function zy(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","Email kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Wy(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","\u0110\u1ecbnh d\u1ea1ng kh\xf4ng h\u1ee3p l\u1ec7")}function Xy(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","M\xe3 v\xf9ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function tC(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","Sdt kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function eC(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","\u0110i\u1ec7n tho\u1ea1i di \u0111\u1ed9ng t\u1ed1i thi\u1ec3u 7 s\u1ed1")}function nC(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","\u0110i\u1ec7n tho\u1ea1i di \u0111\u1ed9ng t\u1ed1i \u0111a 11 s\u1ed1")}function iC(n,o){1&n&&(t.TgZ(0,"div",109),t._uU(1," Vui l\xf2ng nh\u1eadp SDT c\xf3 th\u1ec3 li\xean l\u1ea1c \u0111\u01b0\u1ee3c \u0111\u1ec3 nh\u1eadn th\xf4ng b\xe1o khi chuy\u1ebfn bay c\xf3 thay \u0111\u1ed5i v\u1ec1 l\u1ecbch tr\xecnh "),t.qZA())}function oC(n,o){1&n&&(t.TgZ(0,"div",161),t._UZ(1,"cf-icon",140),t._uU(2," Y\xeau c\u1ea7u xu\u1ea5t ho\xe1 \u0111\u01a1n \u0111i\u1ec7n t\u1eed "),t.qZA())}function rC(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","M\xe3 s\u1ed1 thu\u1ebf kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function aC(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","T\xean c\xf4ng ty kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function sC(n,o){1&n&&t._UZ(0,"cf-input-hint",108),2&n&&t.Q6J("hint","\u0110\u1ecba ch\u1ec9 c\xf4ng ty kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}const C0=function(n){return{animationShake:n}},b0=function(n){return{"[&>*]:text-secondary-6-3":n}},T0=function(n){return{"!text-secondary-6-3  ":n}};function cC(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",162),t._UZ(1,"cf-checkbox",77),t.TgZ(2,"div",78),t._uU(3," T\xf4i \u0111\u1ed3ng \xfd v\u1edbi c\xe1c "),t.TgZ(4,"span",79),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.openTerm())}),t._uU(5," quy \u0111\u1ecbnh \u0111\u1eb7t v\xe9 "),t.qZA(),t._uU(6," c\u1ee7a GMBR "),t.qZA()()}if(2&n){const e=t.oxw(2);let i,a,c;t.Q6J("ngClass",t.VKq(4,C0,((null==(i=e.form.get("isAgreeTerm"))?null:i.touched)||(null==(i=e.form.get("isAgreeTerm"))?null:i.dirty))&&!(null!=e.form.value&&e.form.value.isAgreeTerm))),t.xp6(1),t.Q6J("checked",e.form.value.isAgreeTerm)("ngClass",t.VKq(6,b0,((null==(a=e.form.get("isAgreeTerm"))?null:a.touched)||(null==(a=e.form.get("isAgreeTerm"))?null:a.dirty))&&!(null!=e.form.value&&e.form.value.isAgreeTerm))),t.xp6(1),t.Q6J("ngClass",t.VKq(8,T0,((null==(c=e.form.get("isAgreeTerm"))?null:c.touched)||(null==(c=e.form.get("isAgreeTerm"))?null:c.dirty))&&!(null!=e.form.value&&e.form.value.isAgreeTerm)))}}function lC(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"btc-ticket-sticky-selected",163),t.NdJ("showDetail",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.showDetail(a))})("reselectClick",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.navigateToPaxInfo())}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("searchInput",e.searchData)("ticketCur",e.ticketCur)}}function uC(n,o){if(1&n&&(t.TgZ(0,"div",172)(1,"div",173),t._uU(2),t.qZA(),t.TgZ(3,"div",174),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ","ADT"===e.code?"V\xe9 ng\u01b0\u1eddi l\u1edbn":"CHD"===e.code?"V\xe9 tr\u1ebb em":"V\xe9 em b\xe9"," "),t.xp6(2),t.AsE(" ",t.Dn7(5,3,t.lcZ(6,7,e.surCharge+e.baseFare),",",".")," \u0111 X ",e.quantity," ")}}function dC(n,o){if(1&n&&(t.TgZ(0,"div",172)(1,"div",176),t._uU(2),t.qZA(),t.TgZ(3,"div",174),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",e.journeys[0].baggageSelected.baggageName," "),t.xp6(2),t.hij(" ",t.Dn7(5,2,t.lcZ(6,6,e.journeys[0].baggageSelected.totalCharge),",",".")," \u0111 ")}}function pC(n,o){if(1&n&&(t.ynx(0),t.YNc(1,dC,7,8,"div",175),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.journeys&&(null==e.journeys?null:e.journeys.length)&&e.journeys[0].baggageSelected.baggageName)}}function gC(n,o){if(1&n&&(t.ynx(0),t.YNc(1,pC,2,1,"ng-container",64),t.BQk()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.dataBaggageInput)}}function fC(n,o){if(1&n&&(t.TgZ(0,"div",172)(1,"div",173),t._uU(2),t.qZA(),t.TgZ(3,"div",174),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ","ADT"===e.code?"V\xe9 ng\u01b0\u1eddi l\u1edbn":"CHD"===e.code?"V\xe9 tr\u1ebb em":"V\xe9 em b\xe9"," "),t.xp6(2),t.AsE(" ",t.Dn7(5,3,t.lcZ(6,7,e.surCharge+e.baseFare),",",".")," \u0111 X ",e.quantity," ")}}function _C(n,o){if(1&n&&(t.TgZ(0,"div",172)(1,"div",176),t._uU(2),t.qZA(),t.TgZ(3,"div",174),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",e.journeys[1].baggageSelected.baggageName," "),t.xp6(2),t.hij(" ",t.Dn7(5,2,t.lcZ(6,6,e.journeys[1].baggageSelected.totalCharge),",",".")," \u0111 ")}}function hC(n,o){if(1&n&&(t.ynx(0),t.YNc(1,_C,7,8,"div",175),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.journeys&&e.journeys.length>1&&e.journeys[1].baggageSelected.baggageName)}}function mC(n,o){if(1&n&&(t.ynx(0),t.YNc(1,hC,2,1,"ng-container",64),t.BQk()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.dataBaggageInput)}}function vC(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",167)(2,"div",168)(3,"div",169),t._uU(4," Chi\u1ec1u \u0111i "),t.qZA(),t.YNc(5,uC,7,9,"div",170),t.YNc(6,gC,2,1,"ng-container",61),t.qZA(),t.TgZ(7,"div",171)(8,"div",169),t._uU(9," Chi\u1ec1u v\u1ec1 "),t.qZA(),t.YNc(10,fC,7,9,"div",170),t.YNc(11,mC,2,1,"ng-container",61),t.qZA()(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(5),t.Q6J("ngForOf",e.ticketCur.ticketSelected[0].ticketPriceList),t.xp6(1),t.Q6J("ngIf",(null==e.dataBaggageInput?null:e.dataBaggageInput.length)&&e.dataBaggageInput.length),t.xp6(4),t.Q6J("ngForOf",e.ticketCur.ticketSelected[1].ticketPriceList),t.xp6(1),t.Q6J("ngIf",(null==e.dataBaggageInput?null:e.dataBaggageInput.length)&&e.dataBaggageInput.length)}}function xC(n,o){if(1&n&&(t.TgZ(0,"div",172)(1,"div",173),t._uU(2),t.qZA(),t.TgZ(3,"div",174),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=o.$implicit;t.xp6(2),t.hij(" ","ADT"===e.code?"V\xe9 ng\u01b0\u1eddi l\u1edbn":"CHD"===e.code?"V\xe9 tr\u1ebb em":"V\xe9 em b\xe9"," "),t.xp6(2),t.AsE(" ",t.Dn7(5,3,t.lcZ(6,7,e.surCharge+e.baseFare),",",".")," \u0111 X ",e.quantity," ")}}function yC(n,o){if(1&n&&(t.TgZ(0,"div",172)(1,"div",176),t._uU(2),t.qZA(),t.TgZ(3,"div",174),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",e.journeys[0].baggageSelected.baggageName," "),t.xp6(2),t.hij(" ",t.Dn7(5,2,t.lcZ(6,6,e.journeys[0].baggageSelected.totalCharge),",",".")," \u0111 ")}}function CC(n,o){if(1&n&&(t.ynx(0),t.YNc(1,yC,7,8,"div",175),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.journeys&&(null==e.journeys?null:e.journeys.length)&&(null==e.journeys[0]||null==e.journeys[0].baggageSelected?null:e.journeys[0].baggageSelected.baggageName))}}function bC(n,o){if(1&n&&(t.ynx(0),t.YNc(1,CC,2,1,"ng-container",64),t.BQk()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.dataBaggageInput)}}function TC(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",177),t.YNc(2,xC,7,9,"div",170),t.YNc(3,bC,2,1,"ng-container",61),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",e.ticketCur.ticketSelected[0].ticketPriceList),t.xp6(1),t.Q6J("ngIf",null==e.dataBaggageInput?null:e.dataBaggageInput.length)}}function EC(n,o){if(1&n&&(t.ynx(0)(1,164),t.YNc(2,vC,12,4,"ng-container",165),t.YNc(3,TC,4,2,"ng-container",166),t.BQk()()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngSwitch",null==e.ticketCur.ticketSelected?null:e.ticketCur.ticketSelected.length),t.xp6(1),t.Q6J("ngSwitchCase",2)}}function kC(n,o){if(1&n&&(t.TgZ(0,"div",179)(1,"div",173),t._uU(2," Gi\u1ea3m gi\xe1 v\xe9 "),t.qZA(),t.TgZ(3,"div",174),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=o.ngIf;t.xp6(4),t.hij(" - ",t.Dn7(5,1,t.lcZ(6,5,e),",",".")," \u0111 ")}}function AC(n,o){if(1&n&&(t.ynx(0),t.YNc(1,kC,7,7,"div",178),t.ALo(2,"mapper"),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",t.xi3(2,1,e.ticketCur.ticketSelected,e.amountDiscountTotal))}}function DC(n,o){if(1&n&&(t.TgZ(0,"div",179)(1,"div",173),t._uU(2),t.qZA(),t.TgZ(3,"div",174),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",e.code," "),t.xp6(2),t.hij(" - ",t.Dn7(5,2,t.lcZ(6,6,e.discountByCondition),",",".")," \u0111 ")}}function wC(n,o){if(1&n&&(t.ynx(0),t.YNc(1,DC,7,8,"div",178),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.active)}}function BC(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",181)(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"cf-icon",182),t.NdJ("click",function(){const c=t.CHM(e).$implicit,u=t.oxw(3);return t.KtG(u.removePromoActive(c))}),t.qZA()()}if(2&n){const e=o.$implicit;t.xp6(2),t.hij(" ",e.code," ")}}function ZC(n,o){if(1&n&&(t.ynx(0),t.YNc(1,BC,4,1,"div",180),t.BQk()),2&n){const e=o.ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}const IC=function(){return{standalone:!0}},SC=function(n){return{"!text-red-4":n}};function FC(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"input",183),t.NdJ("ngModelChange",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.promoCodeBooking=a)})("blur",function(a){t.CHM(e);const c=t.oxw(2);return t.KtG(c.onBlurPromoCode(a))})("ngModelChange",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.isErrorPromoCodeBook=!1)}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngModel",e.promoCodeBooking)("ngModelOptions",t.DdM(3,IC))("ngClass",t.VKq(4,SC,e.isErrorPromoCodeBook))}}function NC(n,o){1&n&&(t.TgZ(0,"div",184),t._uU(1," \u0110\xe3 \xe1p d\u1ee5ng "),t.qZA())}function OC(n,o){1&n&&t._UZ(0,"cf-input-hint",185),2&n&&t.Q6J("hint","M\xe3 kh\xf4ng h\u1ee3p l\u1ec7")}function PC(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",187),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,c=t.oxw(2);return c.promoCodeBooking=a.code,t.KtG(c.applyPromocode())}),t.TgZ(1,"div",188)(2,"div",189),t.O4$(),t.TgZ(3,"svg",190),t._UZ(4,"path",191),t.qZA(),t.kcU(),t.TgZ(5,"div",192),t._uU(6),t.ALo(7,"replace"),t.ALo(8,"number"),t.qZA()(),t.TgZ(9,"div",193)(10,"div",194),t._UZ(11,"span",195),t.ALo(12,"mapper"),t.qZA(),t.TgZ(13,"span")(14,"b",196),t._uU(15),t.qZA(),t._uU(16," | "),t.TgZ(17,"span",197),t._uU(18," \xc1p m\xe3 ngay "),t.qZA()()()(),t.TgZ(19,"div",198),t._UZ(20,"cf-icon",199),t.qZA()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.xp6(6),t.hij(" ",t.Dn7(7,4,t.lcZ(8,8,e.discountByCondition/1e3),",","."),"K "),t.xp6(5),t.Q6J("innerHTML",t.xi3(12,10,e.header,i.bypassSecurityTrustHtml),t.oJD),t.xp6(4),t.Oqu(e.code),t.xp6(5),t.Q6J("icon",e.active?"check":"plus")}}function RC(n,o){if(1&n&&(t.ynx(0),t.YNc(1,PC,21,13,"div",186),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngIf",e.public)}}function LC(n,o){1&n&&t._UZ(0,"cf-spinner")}const jf=function(n){return{"[&>*>*:nth-child(2)]:!bg-neutral-gray-1":n}};function qC(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"form",2),t._UZ(2,"header-btc"),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),t._UZ(8,"img",8),t.TgZ(9,"div",9),t._uU(10,"Th\xf4ng tin h\xe0nh kh\xe1ch"),t.qZA()(),t.TgZ(11,"div")(12,"button",10),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.quickParseInfo())})("keydown",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.onKeydown(a))}),t._UZ(13,"cf-icon",11),t.TgZ(14,"span"),t._uU(15,"Nh\u1eadp nhanh th\xf4ng tin"),t.qZA()(),t.TgZ(16,"div",12),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.quickParseInfo())}),t._UZ(17,"cf-icon",11),t.TgZ(18,"div",13),t._uU(19,"Nh\u1eadp nhanh"),t.qZA()()()(),t.TgZ(20,"div",14),t.ynx(21,15),t.YNc(22,jy,11,6,"div",16),t.BQk(),t.qZA()(),t.YNc(23,Vy,23,6,"div",17),t.TgZ(24,"div",5)(25,"div",18)(26,"div",7),t._UZ(27,"img",8),t.TgZ(28,"div",9),t._uU(29,"Th\xf4ng tin li\xean h\u1ec7"),t.qZA()()(),t.TgZ(30,"div",19)(31,"div",20)(32,"div",21,22)(34,"cf-input-group",23)(35,"label",24)(36,"span",25),t._uU(37,"Email"),t.qZA()(),t._UZ(38,"input",26),t.YNc(39,zy,1,1,"cf-input-hint",27),t.YNc(40,Wy,1,1,"cf-input-hint",27),t.qZA()(),t.TgZ(41,"div",28)(42,"div",29)(43,"cf-select",30)(44,"label",24)(45,"span",25),t._uU(46,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),t.qZA()(),t.YNc(47,Xy,1,1,"cf-input-hint",27),t.qZA(),t.TgZ(48,"div",31,22)(50,"cf-input-group",32),t._UZ(51,"input",33),t.YNc(52,tC,1,1,"cf-input-hint",27),t.YNc(53,eC,1,1,"cf-input-hint",27),t.YNc(54,nC,1,1,"cf-input-hint",27),t.qZA()()(),t.YNc(55,iC,2,0,"div",34),t.qZA()()()(),t.TgZ(56,"cf-collapse",35)(57,"cf-collapse-panel",36),t.YNc(58,oC,3,0,"ng-template",null,37,t.W1O),t.TgZ(60,"div",38)(61,"div",39),t.NdJ("click",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.isElectronicInvoiceIssuanceChange(!c.form.value.isElectronicInvoiceIssuance,a))}),t._UZ(62,"cf-checkbox",40),t.TgZ(63,"div",41),t._uU(64," C\xf3 xu\u1ea5t h\xf3a \u0111\u01a1n VAT "),t.qZA()(),t.TgZ(65,"div",42)(66,"div",43,22)(68,"cf-input-group",44)(69,"label",24)(70,"span",25),t._uU(71,"M\xe3 s\u1ed1 thu\u1ebf"),t.qZA()(),t._UZ(72,"input",45),t.YNc(73,rC,1,1,"cf-input-hint",27),t.qZA()(),t.TgZ(74,"div",46,22)(76,"cf-input-group",44)(77,"label",24)(78,"span",25),t._uU(79,"T\xean c\xf4ng ty"),t.qZA()(),t._UZ(80,"input",47),t.YNc(81,aC,1,1,"cf-input-hint",27),t.qZA()(),t.TgZ(82,"div",48,22)(84,"cf-input-group",44)(85,"label",24)(86,"span",25),t._uU(87,"\u0110\u1ecba ch\u1ec9 c\xf4ng ty"),t.qZA()(),t._UZ(88,"input",49),t.YNc(89,sC,1,1,"cf-input-hint",27),t.qZA()()(),t.TgZ(90,"div",50)(91,"div",50),t._uU(92," * Ch\xfa \xfd "),t.qZA(),t.TgZ(93,"ul",51)(94,"li"),t._uU(95," Qu\xfd kh\xe1ch vui l\xf2ng nh\u1eadp ti\u1ebfng Vi\u1ec7t c\xf3 d\u1ea5u \u0111\u1ec3 tr\xe1nh vi\u1ec7c xu\u1ea5t h\xf3a \u0111\u01a1n b\u1ecb sai s\xf3t "),t.qZA(),t.TgZ(96,"li"),t._uU(97," Qu\xfd kh\xe1ch c\xf3 nhu c\u1ea7u l\u1ea5y h\xf3a \u0111\u01a1n gi\xe1 tr\u1ecb gia t\u0103ng ph\u1ea3i y\xeau c\u1ea7u v\u1edbi GMBR trong v\xf2ng 24h sau khi thanh to\xe1n "),t.qZA(),t.TgZ(98,"li"),t._uU(99," N\u1ebfu qu\xe1 h\u1ea1n GMBR s\u1ebd kh\xf4ng xu\u1ea5t l\u1ea1i h\xf3a \u0111\u01a1n. Do \u0111\xf3, n\u1ebfu c\xf3 nhu c\u1ea7u xu\u1ea5t h\xf3a \u0111\u01a1n, qu\xfd kh\xe1ch vui l\xf2ng cung c\u1ea5p \u0111\u1ea7y \u0111\u1ee7 v\xe0 ch\xednh x\xe1c th\xf4ng tin t\u1ea1i \u0111\xe2y ho\u1eb7c g\u1eedi email v\u1ec1 giacmobayre@gmail.com "),t.qZA(),t.TgZ(100,"li"),t._uU(101," H\xf3a \u0111\u01a1n \u0111i\u1ec7n t\u1eed s\u1ebd \u0111\u01b0\u1ee3c g\u1eedi v\u1ec1 email \u1edf ph\u1ea7n th\xf4ng tin li\xean h\u1ec7 "),t.qZA()()()()()(),t.YNc(102,cC,7,10,"div",52),t.qZA(),t.TgZ(103,"div",53)(104,"div",54)(105,"div",55)(106,"div",56)(107,"div",57),t._uU(108,"Chuy\u1ebfn bay c\u1ee7a b\u1ea1n"),t.qZA()(),t.TgZ(109,"div"),t.YNc(110,lC,1,2,"btc-ticket-sticky-selected",58),t.qZA()(),t.TgZ(111,"div",55)(112,"div",56)(113,"div",57),t._uU(114,"Chi ti\u1ebft thanh to\xe1n"),t.qZA()(),t.TgZ(115,"div",59)(116,"div",60),t.YNc(117,EC,4,2,"ng-container",61),t.qZA(),t.TgZ(118,"div",62)(119,"div",63),t._uU(120," Gi\u1ea3m gi\xe1 "),t.qZA(),t.YNc(121,AC,3,4,"ng-container",61),t.YNc(122,wC,2,1,"ng-container",64),t.qZA()(),t.TgZ(123,"div",65)(124,"div",57),t._uU(125,"T\u1ed5ng thanh to\xe1n:"),t.qZA(),t.TgZ(126,"div",66),t._uU(127),t.ALo(128,"replace"),t.ALo(129,"number"),t.ALo(130,"mapper"),t.ALo(131,"mapper"),t.qZA()()(),t.TgZ(132,"div",67)(133,"div",14)(134,"div",68),t._uU(135," M\xe3 khuy\u1ebfn m\xe3i "),t.qZA(),t.TgZ(136,"div",69)(137,"div",70),t.YNc(138,ZC,2,1,"ng-container",71),t.ALo(139,"mapper"),t.YNc(140,FC,1,6,"ng-template",null,72,t.W1O),t.TgZ(142,"button",73),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.applyPromocode())}),t.ALo(143,"mapper"),t._uU(144," \xc1p d\u1ee5ng "),t.qZA()(),t.YNc(145,NC,2,0,"div",74),t.ALo(146,"mapper"),t.YNc(147,OC,1,1,"cf-input-hint",75),t.qZA(),t.YNc(148,RC,2,1,"ng-container",64),t.qZA()()()(),t.TgZ(149,"div",76),t._UZ(150,"cf-checkbox",77),t.TgZ(151,"div",78),t._uU(152," T\xf4i \u0111\u1ed3ng \xfd v\u1edbi c\xe1c "),t.TgZ(153,"span",79),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.openTerm())}),t._uU(154," quy \u0111\u1ecbnh \u0111\u1eb7t v\xe9 "),t.qZA(),t._uU(155," c\u1ee7a GMBR "),t.qZA()()(),t._UZ(156,"footer-btc"),t.TgZ(157,"div",80,22)(159,"div",81)(160,"button",82),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.navigateToPaxInfo())}),t._UZ(161,"cf-icon",83),t._uU(162," Ch\u1ecdn l\u1ea1i "),t.qZA(),t.TgZ(163,"button",84),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.bookTicket())}),t._UZ(164,"cf-icon",85),t._uU(165," \u0110\u1eb7t v\xe9 "),t.qZA()()()(),t.YNc(166,LC,1,0,"cf-spinner",61),t.qZA()}if(2&n){const e=t.MAs(33),i=t.MAs(59),a=t.MAs(141),c=t.oxw();let u,d,f,_,m,x,E,Z,D,P,R,$,Q,X,z;t.xp6(1),t.Q6J("formGroup",c.form),t.xp6(2),t.Udp("padding-bottom",(null==e?null:e.offsetHeight)||66,"px"),t.xp6(19),t.Q6J("ngForOf",c.passengers.controls),t.xp6(1),t.Q6J("ngIf",c.isThreeAirlineDomestic),t.xp6(11),t.Q6J("status",c.form.controls.email.invalid&&(c.form.controls.email.dirty||c.form.controls.email.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("ngIf",(null==(u=c.form.get("email"))?null:u.hasError("required"))&&((null==(u=c.form.get("email"))?null:u.touched)||(null==(u=c.form.get("email"))?null:u.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(d=c.form.get("email"))?null:d.hasError("email"))&&((null==(d=c.form.get("email"))?null:d.touched)||(null==(d=c.form.get("email"))?null:d.dirty))),t.xp6(3),t.Q6J("hasBackdrop",!0)("status",null!=(f=c.form.get("phonePrefix"))&&f.invalid&&(null!=(f=c.form.get("phonePrefix"))&&f.dirty||null!=(f=c.form.get("phonePrefix"))&&f.touched)?"error":"default")("data",c.optionsAreaCode)("textField",c.isMobile?"code":"name")("allowSearch",!0),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("ngIf",c.form.controls.phonePrefix.hasError("required")&&(c.form.controls.phonePrefix.touched||c.form.controls.phonePrefix.dirty)),t.xp6(3),t.Q6J("status",c.form.controls.phone.invalid&&c.form.controls.phone.dirty&&c.form.controls.phone.touched?"error":"default"),t.xp6(2),t.Q6J("ngIf",c.form.controls.phone.hasError("required")&&c.form.controls.phone.touched&&c.form.controls.phone.dirty),t.xp6(1),t.Q6J("ngIf",c.form.controls.phone.hasError("minlength")&&c.form.controls.phone.touched&&c.form.controls.phone.dirty),t.xp6(1),t.Q6J("ngIf",c.form.controls.phone.hasError("maxlength")&&c.form.controls.phone.touched&&c.form.controls.phone.dirty),t.xp6(1),t.Q6J("ngIf",c.form.controls.phone.touched||c.form.controls.phone.dirty),t.xp6(2),t.Q6J("title",i)("active",!1)("contentClass","!p-0 bg-transparent")("panelClass","!p-3 bg-neutral-white rounded-lg"),t.xp6(5),t.Q6J("checked",c.form.value.isElectronicInvoiceIssuance),t.xp6(6),t.Q6J("ngClass",t.VKq(76,jf,null==(_=c.form.get("taxNumber"))?null:_.disabled))("status",null!=(m=c.form.get("taxNumber"))&&m.invalid&&(null!=(m=c.form.get("taxNumber"))&&m.dirty||null!=(m=c.form.get("taxNumber"))&&m.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("ngIf",(null==(x=c.form.get("taxNumber"))?null:x.errors)&&((null==(x=c.form.get("taxNumber"))?null:x.dirty)||(null==(x=c.form.get("taxNumber"))?null:x.touched))),t.xp6(3),t.Q6J("ngClass",t.VKq(78,jf,null==(E=c.form.get("companyName"))?null:E.disabled))("status",null!=(Z=c.form.get("companyName"))&&Z.invalid&&(null!=(Z=c.form.get("companyName"))&&Z.dirty||null!=(Z=c.form.get("companyName"))&&Z.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("ngIf",(null==(D=c.form.get("companyName"))?null:D.errors)&&((null==(D=c.form.get("companyName"))?null:D.dirty)||(null==(D=c.form.get("companyName"))?null:D.touched))),t.xp6(3),t.Q6J("ngClass",t.VKq(80,jf,null==(P=c.form.get("companyAddress"))?null:P.disabled))("status",null!=(R=c.form.get("companyAddress"))&&R.invalid&&(null!=(R=c.form.get("companyAddress"))&&R.dirty||null!=(R=c.form.get("companyAddress"))&&R.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("ngIf",(null==($=c.form.get("companyAddress"))?null:$.errors)&&((null==($=c.form.get("companyAddress"))?null:$.dirty)||(null==($=c.form.get("companyAddress"))?null:$.touched))),t.xp6(13),t.Q6J("ngIf",!c.isMobile),t.xp6(8),t.Q6J("ngIf",c.ticketCur),t.xp6(7),t.Q6J("ngIf",c.ticketCur&&(null==c.ticketCur||null==c.ticketCur.ticketSelected?null:c.ticketCur.ticketSelected.length)),t.xp6(4),t.Q6J("ngIf",c.ticketCur&&(null==c.ticketCur?null:c.ticketCur.ticketSelected)),t.xp6(1),t.Q6J("ngForOf",c.promoCodeBookingList),t.xp6(5),t.hij(" ",t.Dn7(128,55,t.lcZ(129,59,((null==c.ticketCur?null:c.ticketCur.totalPrice)||0)-c.amountDiscount-t.xi3(130,61,c.promoCodeBookingList,c.amountDiscountPromoBooking)+t.xi3(131,64,c.dataBaggageInput,c.totalChairBaggage)),",",".")," \u0111 "),t.xp6(11),t.Q6J("ngIf",t.xi3(139,67,c.promoCodeBookingList,c.listPromoActives))("ngIfElse",a),t.xp6(4),t.Q6J("disabled",!c.promoCodeBooking||!!t.xi3(143,70,c.promoCodeBookingList,c.listPromoActives)),t.xp6(3),t.Q6J("ngIf",t.xi3(146,73,c.promoCodeBookingList,c.listPromoActives)),t.xp6(2),t.Q6J("ngIf",c.isErrorPromoCodeBook),t.xp6(1),t.Q6J("ngForOf",c.promoCodeBookingList),t.xp6(1),t.Q6J("ngClass",t.VKq(82,C0,((null==(Q=c.form.get("isAgreeTerm"))?null:Q.touched)||(null==(Q=c.form.get("isAgreeTerm"))?null:Q.dirty))&&!(null!=c.form.value&&c.form.value.isAgreeTerm))),t.xp6(1),t.Q6J("checked",null==c.form.value?null:c.form.value.isAgreeTerm)("ngClass",t.VKq(84,b0,((null==(X=c.form.get("isAgreeTerm"))?null:X.touched)||(null==(X=c.form.get("isAgreeTerm"))?null:X.dirty))&&!(null!=c.form.value&&c.form.value.isAgreeTerm))),t.xp6(1),t.Q6J("ngClass",t.VKq(86,T0,((null==(z=c.form.get("isAgreeTerm"))?null:z.touched)||(null==(z=c.form.get("isAgreeTerm"))?null:z.dirty))&&!(null!=c.form.value&&c.form.value.isAgreeTerm))),t.xp6(15),t.Q6J("ngIf",c.isLoading)}}let UC=(()=>{class n{constructor(e,i,a,c,u,d,f,_,m,x,E,Z,D,P,R,$,Q,X,z,N,ct,tt,lt,at,yt){this._fb=e,this._modal=i,this._cfIconRegister=a,this._phoneDataSvc=c,this._bottomSheetSvc=u,this._detectMobileSvc=d,this._BtcBookingSvc=f,this._locationDataSvc=_,this._helperSvc=m,this._calendar=x,this._helperStorageSvc=E,this._router=Z,this._location=D,this._bookingPaymentSvc=P,this._toastService=R,this._addExtraInfoOrderSvc=$,this._clientKeyBtcSvc=Q,this._eventLogService=X,this._checkValidPromoCodeBookSvc=z,this._flightDataSvc=N,this.appConfig=ct,this.sanitizer=tt,this._cdr=lt,this.btcLogErrorTeleSvc=at,this._getSuggestPromoCodeSearchSvc=yt,this.dataSeatInput=[],this.dataBaggageInput=[],this.promoCodeBooking="",this.isAddOn=!1,this.optionsGender=Gr,this.optionsParent=[],this.optionsAreaCode=this._phoneDataSvc.optionsAreaCode,this.hasAirportInternational=!1,this.promoCodeBook="",this.hasBaggageSelected=!1,this.passengerText="",this.isLoading=!1,this.has1GProvider=!1,this.hasFlyOneProvider=!1,this.has1AProvider=!1,this.hasInternationalFlight=!1,this.isThreeAirlineDomestic=!1,this.hasVJAirline=!1,this.countryOption=this._locationDataSvc.getAllCountryOption(),this.currentDate=this._calendar.getToday(),this.promoCodeBookingList=[],this.amountDiscount=0,this.isMobile=!1,this.isErrorPromoCodeBook=!1,this.isExitPage=!0,this.isViewPaxName=!1,this.IDENTIFY_TYPE=Rt.FV,this.checkAirline=(st,K)=>null==st?void 0:st.ticketSelected.some(ft=>ft.ticketData&&K.includes(ft.ticketData.airline)),this.checkErrorDependentPartner=(st,K,ft)=>st.value.filter((ht,Ct)=>Ct!==K).some(ht=>ht.parentIndex===st.value[K].parentIndex),this.amountDiscountTotal=st=>st.reduce((K,ft)=>K+(ft.ticketPriceList&&ft.ticketPriceList.length?ft.ticketPriceList.reduce((bt,ht)=>bt+ht.discountAmount*ht.quantity,0):0),0),this.listPromoActives=st=>{const K=st.filter(ft=>ft.active);return K.length?K:null},this.amountDiscountPromoBooking=st=>st.reduce((K,ft)=>K+(ft.active?ft.discountByCondition:0),0),this.bypassSecurityTrustHtml=st=>this.sanitizer.bypassSecurityTrustHtml(st),this.totalChairBaggage=st=>st.reduce((K,ft)=>K+ft.journeys.reduce((bt,ht)=>bt+ht.baggageSelected.totalCharge,0),0),this.progressFitConditionByDiscount=(st,K)=>st.total<K.minimum?`Voucher ch\u1ec9 \xe1p d\u1ee5ng cho \u0111\u01a1n h\xe0ng t\u1ed1i thi\u1ec3u ${K.minimum}\u0111`:st.oneWay&&!K.oneWay?"Voucher kh\xf4ng \xe1p d\u1ee5ng cho \u0111\u01a1n h\xe0ng m\u1ed9t chi\u1ec1u":st.roundTrip&&!K.roundTrip?"Voucher kh\xf4ng \xe1p d\u1ee5ng cho \u0111\u01a1n h\xe0ng kh\u1ee9 h\u1ed3i":st.isInternational&&"DOMESTIC"===K.journeyType?"Voucher ch\u1ec9 \xe1p d\u1ee5ng cho \u0111\u01a1n h\xe0ng n\u1ed9i \u0111\u1ecba":"",this._cfIconRegister.registerIcons([v.ILM,v._7G,v.rks,v._tC,v.D7,v.wvd,v.UNF,v.TM4,v.NNX,v.Rcu,v.Lxr,v.uQp]),this.isMobile=this._detectMobileSvc.isMobile(),window.addEventListener("message",st=>{st.data&&"backSearchPage"===st.data.type&&window.parent.postMessage({action:"removeQuery",query:"pax-info"},"*")})}ngOnInit(){var e,i,a;null!==(i=null===(e=this._helperStorageSvc)||void 0===e?void 0:e.btcResultData)&&void 0!==i&&i.search?this.searchData=this._helperStorageSvc.btcResultData.search:this.navigateToPaxInfo(),this.ticketCur=Object.assign(Object.assign({},this._helperStorageSvc.btcResultData.ticketCur),{ticketSelected:null===(a=this._helperStorageSvc.btcResultData.ticketCur)||void 0===a?void 0:a.ticketSelected.map(c=>Object.assign(Object.assign({},c),{ticketData:(0,oe.yE)(Hn,c.ticketData,{excludeExtraneousValues:!0})}))}),this.initDataByTicketCur(),!this.form&&this.initForm(),this.progressAmountDiscount(),this.initPromoCodeBookingList(),this.checkAddOn(),this.initPromoCodeConditionBooking()}initPromoCodeConditionBooking(){const e={journeys:this.ticketCur.ticketSelected.map(i=>{var a,c,u;return{startPoint:(null===(a=i.ticketData)||void 0===a?void 0:a.startPoint)||"",endPoint:(null===(c=i.ticketData)||void 0===c?void 0:c.endPoint)||"",provider:(null===(u=i.ticketData)||void 0===u?void 0:u.provider)||""}}),paxInfos:{numAdt:this.searchData.adultCount,numChd:this.searchData.childCount,numInf:this.searchData.infantCount}};this._getSuggestPromoCodeSearchSvc.getListCondition(e).subscribe({next:i=>{console.log(i);const a=1===this.ticketCur.ticketSelected.length,c={total:this.ticketCur.ticketSelected.map(f=>f&&f.ticketPriceList?f.ticketPriceList.map(_=>_.totalFare):[]).flat().reduce((f,_)=>f+_,0),oneWay:a,roundTrip:!a,isInternational:this.hasAirportInternational},u=this.ticketCur.ticketSelected.map(f=>{var _;return null===(_=f.ticketData)||void 0===_?void 0:_.provider}).filter((f,_,m)=>m.indexOf(f)===_),d=this.promoCodeBookingList?new Set(this.promoCodeBookingList.map(f=>f.code)):new Set;this.promoCodeBookingList=[...this.promoCodeBookingList,...i.data.filter(f=>!d.has(f.code)).map(f=>(0,oe.yE)(Yl,Object.assign(Object.assign({},f),{errorStr:this.progressFitConditionByDiscount(c,f),discountByCondition:Math.min(...f.conditionDetail.filter(_=>_.airline&&u.includes(_.airline)).map(_=>_.totalPrice))||0}),{excludeExtraneousValues:!0}))]},error:i=>{}})}initPromoCodeBookingList(){const e=1===this.ticketCur.ticketSelected.length,i={total:this.ticketCur.ticketSelected.map(c=>c&&c.ticketPriceList?c.ticketPriceList.map(u=>u.totalFare):[]).flat().reduce((c,u)=>c+u,0),oneWay:e,roundTrip:!e,isInternational:this.hasAirportInternational},a=this.ticketCur.ticketSelected.map(c=>{var u;return null===(u=c.ticketData)||void 0===u?void 0:u.provider}).filter((c,u,d)=>d.indexOf(c)===u);this.promoCodeBookingList=(this._helperStorageSvc.promoBookData||[]).map(c=>(0,oe.yE)(Yl,Object.assign(Object.assign({},c),{errorStr:this.progressFitConditionByDiscount(i,c),discountByCondition:Math.min(...c.conditionDetail.filter(u=>u.airline&&a.includes(u.airline)).map(u=>u.totalPrice))||0}),{excludeExtraneousValues:!0}))}onBlurPromoCode(e){const i=e.target.value;i&&(this.promoCodeBooking=i.toUpperCase().trim())}initDataByTicketCur(){var e,i,a,c,u,d;this.ticketCur&&(this.progressInternational(),this.hasInternationalFlight=null===(e=this.ticketCur)||void 0===e?void 0:e.ticketSelected.some(f=>{var _;return["GDS","BSP","AIR_1G","FLY_ONE"].includes(((null===(_=f.ticketData)||void 0===_?void 0:_.provider)||"").toUpperCase())}),this.isThreeAirlineDomestic=null===(i=this.ticketCur)||void 0===i?void 0:i.ticketSelected.some(f=>{var _;return["VJ","VN","QH"].includes(((null===(_=f.ticketData)||void 0===_?void 0:_.provider)||"").toUpperCase())}),console.log(this.isThreeAirlineDomestic),this.has1GProvider=null===(a=this.ticketCur)||void 0===a?void 0:a.ticketSelected.some(f=>{var _;return(null===(_=f.ticketData)||void 0===_?void 0:_.provider.toUpperCase())===Rt.QK.AIR_1G}),this.hasFlyOneProvider=null===(c=this.ticketCur)||void 0===c?void 0:c.ticketSelected.some(f=>{var _;return(null===(_=f.ticketData)||void 0===_?void 0:_.provider.toUpperCase())===Rt.QK.FLY_ONE}),this.has1AProvider=null===(u=this.ticketCur)||void 0===u?void 0:u.ticketSelected.some(f=>{var _;return(null===(_=f.ticketData)||void 0===_?void 0:_.provider.toUpperCase())===Rt.QK.BSP}),this.hasVJAirline=null===(d=this.ticketCur)||void 0===d?void 0:d.ticketSelected.some(f=>{var _,m;return"VJ"===(null===(_=f.ticketData)||void 0===_?void 0:_.provider.toUpperCase())||"VJ"===(null===(m=f.ticketData)||void 0===m?void 0:m.airline.toUpperCase())}))}initForm(){this.form=this._fb.group({email:["",[A.kI.required,A.kI.email]],name:[""],phone:["",[A.kI.required,A.kI.minLength(7),A.kI.maxLength(11)]],phonePrefix:["+84",A.kI.required],passengers:this._fb.array([]),companyAddress:[""],companyName:[""],taxNumber:[""],isAgreeTerm:[!0,[t2]],isElectronicInvoiceIssuance:[!1]}),this.initPassengersForm(this.searchData),this.progressFormByIsElectronicInvoiceIssuance()}progressFormByIsElectronicInvoiceIssuance(){var e,i,a,c;null===(e=this.form.get("companyAddress"))||void 0===e||e.disable(),null===(i=this.form.get("companyName"))||void 0===i||i.disable(),null===(a=this.form.get("taxNumber"))||void 0===a||a.disable(),null===(c=this.form.get("isElectronicInvoiceIssuance"))||void 0===c||c.valueChanges.subscribe(u=>{var d,f,_,m,x,E,Z,D,P,R,$,Q,X,z,N,ct,tt,lt;u?(null===(d=this.form.get("companyAddress"))||void 0===d||d.enable(),null===(f=this.form.get("companyName"))||void 0===f||f.enable(),null===(_=this.form.get("taxNumber"))||void 0===_||_.enable(),null===(m=this.form.get("companyAddress"))||void 0===m||m.setValidators([A.kI.required]),null===(x=this.form.get("companyName"))||void 0===x||x.setValidators([A.kI.required]),null===(E=this.form.get("taxNumber"))||void 0===E||E.setValidators([A.kI.required]),null===(Z=this.form.get("companyAddress"))||void 0===Z||Z.updateValueAndValidity(),null===(D=this.form.get("companyName"))||void 0===D||D.updateValueAndValidity(),null===(P=this.form.get("taxNumber"))||void 0===P||P.updateValueAndValidity()):(null===(R=this.form.get("companyAddress"))||void 0===R||R.disable(),null===($=this.form.get("companyName"))||void 0===$||$.disable(),null===(Q=this.form.get("taxNumber"))||void 0===Q||Q.disable(),null===(X=this.form.get("companyAddress"))||void 0===X||X.setValidators(null),null===(z=this.form.get("companyName"))||void 0===z||z.setValidators(null),null===(N=this.form.get("taxNumber"))||void 0===N||N.setValidators(null),null===(ct=this.form.get("companyAddress"))||void 0===ct||ct.updateValueAndValidity(),null===(tt=this.form.get("companyName"))||void 0===tt||tt.updateValueAndValidity(),null===(lt=this.form.get("taxNumber"))||void 0===lt||lt.updateValueAndValidity())})}get passengers(){return this.form.get("passengers")}initPassengersForm(e){const{adultCount:i,childCount:a,infantCount:c}=e,u={adult:i,child:a,infant:c};let d;Object.keys(u).forEach(f=>{const _=u[f];for(let m=0;m<_;m++)"infant"!==f&&(d=(0,Se.isNil)(d)?0:++d),this.addPassenger(f,d,m)}),this.optionsParent=[...this.initOptionsParent(this.passengers.value)],this.updateOptionsParent()}addPassenger(e,i,a){var c,u;const d=this.getDocumentTypeDefault(e),f=this._fb.group({type:"adult"===e?"ADT":"child"===e?"CHD":"INF",indexByType:a,index:"infant"!==e?i:0,birthday:[null,A.kI.compose("adult"!==e?[A.kI.required,m0(e,null!==(c=this.searchData.journey)&&void 0!==c&&c.length?new Date(this.searchData.journey[0].departDate):new Date)]:[m0(e,null!==(u=this.searchData.journey)&&void 0!==u&&u.length?new Date(this.searchData.journey[0].departDate):new Date)])],name:[null,A.kI.compose([A.kI.required,z2])],parentIndex:["infant"===e?a:null],gender:["male"],membershipQH:[null],membershipVN:[null],issuanceDate:[null],expiryDate:[null],issuanceCountry:[null],nationality:[null],number:[null],cccdNumber:[null],documentType:[d],idClient:[fl()]});this.passengers.push(f),d&&this.onIdentityChange(d,f)}getDocumentTypeDefault(e){return this.hasAirportInternational?Rt.FV.PASSPORT:Rt.FV.CCCD}initOptionsParent(e){return e.filter(i=>"ADT"===i.type).map((i,a)=>({name:i.name?i.name:`Ng\u01b0\u1eddi l\u1edbn ${a+1}`,code:i.indexByType}))}updateOptionsParent(){this.passengers.valueChanges.pipe((0,Be.U)(e=>e),(0,ty.x)((e,i)=>e.every((a,c)=>{const u=i[c];return console.log(u),console.log(a),a.name===u.name}))).subscribe(e=>{this.optionsParent=[...this.initOptionsParent(e)],this.updateUISelectSelectInfant()})}updateUISelectSelectInfant(){var e;this.parentSelectInfants&&(null===(e=this.parentSelectInfants)||void 0===e||e.forEach(i=>{i.data=this.optionsParent,this.optionsParent.forEach(a=>{i.selectedText&&a.code===i.selectedText.code&&i.writeValue(i.selectedText.code)})}))}progressInternational(){var e;null===(e=this.ticketCur)||void 0===e||e.ticketSelected.forEach(i=>{i.ticketData&&(this._locationDataSvc.checkAirportInternational(i.ticketData.startPoint)||this._locationDataSvc.checkAirportInternational(i.ticketData.endPoint))&&(this.hasAirportInternational=!0)})}onIdentityChange(e,i){e===Rt.FV.PASSPORT?["issuanceDate","expiryDate","issuanceCountry","nationality","number"].forEach(a=>{var c,u;"number"===a&&(null===(c=i.get(a))||void 0===c||c.setValidators([A.kI.maxLength(9)]),null===(u=i.get(a))||void 0===u||u.updateValueAndValidity())}):e===Rt.FV.CCCD&&["cccdNumber"].forEach(a=>{var c,u;null===(c=i.get(a))||void 0===c||c.setValidators([A.kI.minLength(9),A.kI.maxLength(12)]),null===(u=i.get(a))||void 0===u||u.updateValueAndValidity()})}onKeydown(e){e.preventDefault(),e.stopPropagation()}quickParseInfo(){this._modal.open(f2,{passengerText:this.passengerText,departureTime:vt(this.searchData.journey[0].departDate).toDate().getTime()}).afterClosed$.subscribe({next:i=>{i.data&&this.processQuickParse(i.data.text,i.data.passengers,i.data.passengerInputRows)}})}processQuickParse(e,i,a){this.passengerText=e;const c=i.map(_=>Object.assign(Object.assign({},_),{type:"ADULT"===_.type?"ADT":"CHILD"===_.type?"CHD":"INF"}));c.forEach(_=>{_.firstName&&(_.firstName=this.unicodeAndUppercase(_.firstName)),_.lastName&&(_.lastName=this.unicodeAndUppercase(_.lastName)),_.parentName&&(_.parentName=this.unicodeAndUppercase(_.parentName))});const u=c.filter(_=>"ADT"===_.type),d=c.filter(_=>"CHD"===_.type),f=c.filter(_=>"INF"===_.type);this.passengers.value.forEach(({type:_,indexByType:m,parentIndex:x},E)=>{var Z;if("ADT"===_){const D=u[m];null!=D&&D.birthday&&(D.birthday=vt(new Date(D.birthday)).format("DD/MM/YYYY")),D&&this.passengers.at(E).patchValue(Object.assign(Object.assign({},D),{name:(null==D?void 0:D.lastName)+" "+(null==D?void 0:D.firstName)}))}else if("CHD"===_){const D=d[m];null!=D&&D.birthday&&(D.birthday=vt(new Date(D.birthday)).format("DD/MM/YYYY")),D&&this.passengers.at(E).patchValue(Object.assign(Object.assign({},D),{name:(null==D?void 0:D.lastName)+" "+(null==D?void 0:D.firstName)}))}else{const D=f[m];null!=D&&D.birthday&&(D.birthday=vt(new Date(D.birthday)).format("DD/MM/YYYY"));const P=null===(Z=this.optionsParent.find(R=>R.name===(null==D?void 0:D.parentName)))||void 0===Z?void 0:Z.code;D&&this.passengers.at(E).patchValue(Object.assign(Object.assign({},D),{name:(null==D?void 0:D.lastName)+" "+(null==D?void 0:D.firstName),parentIndex:P||x}))}})}showDetail(e){this.isMobile?this._bottomSheetSvc.open(nn,{headerTitle:"Th\xf4ng tin chuy\u1ebfn bay",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",containerFullHeigh:!0,data:{ticketCur:this.ticketCur,dataSearch:this.searchData,index:e,isAirLineInternational:this.hasAirportInternational}}).containerInstance._rightButtonClick.subscribe(()=>this._bottomSheetSvc.dismiss()):this._modal.open(nn,{ticketCur:this.ticketCur,dataSearch:this.searchData,index:e,isAirLineInternational:this.hasAirportInternational})}onBlurInput(e,i,a){var c;const u=this.unicodeAndUppercase(e.target.value);null===(c=i.get(a))||void 0===c||c.setValue(u)}onInputBirthdayChange(e,i,a){var c;let d=e.target.value;d=d.replace(/[^0-9/]/g,""),d=d.replace(/\/+/g,"/"),d.length>2&&"/"!==d[2]&&(d=d.slice(0,2)+"/"+d.slice(2)),d.length>5&&"/"!==d[5]&&(d=d.slice(0,5)+"/"+d.slice(5)),d.length>10&&(d=d.slice(0,10)),null===(c=i.get(a))||void 0===c||c.setValue(d)}unicodeAndUppercase(e){return(n=>n.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D"))((e=e.replace(/ +(?= )/g,"")).trim()).toUpperCase()}onAddBaggage(){var e;const i=this.getListPassengerAddOn();console.log(i);const a=this.ticketCur.ticketSelected.filter(d=>{var f;return!["VU","vu"].includes((null===(f=null==d?void 0:d.ticketData)||void 0===f?void 0:f.airline)||"")});if(this.hasBaggageSelected)for(let d=0;d<i.length;d++)this.dataBaggageInput[d].passengerName=i[d].name;else this.dataBaggageInput=i.map((d,f)=>({passengerKey:f+"",passengerType:d.type,passengerName:d.name,idClient:d.idClient,addBaggageFee:0,journeys:a.map(_=>{const m=_.ticketData,x=(0,g.p6)(m.departure.localTime,"EEEE, dd/MM/yyyy","vi-VN"),E=vt(m.departure.localTime).toDate();return{airlineName:m.airline,flight:m.flightNumber,flightNumber:"",airlineLogo:this._flightDataSvc.getAirlineLogoByCode(m.airline),journeyKey:m.journeyKey,journeyName:`D\u1ecbch v\u1ee5 b\u1ed5 sung ${m.startCode}-${m.endCode}, ${(0,g.p6)(E,"EEEE, ","vi-VN")} ${E.getDate()} th\xe1ng ${E.getMonth()+1}, ${E.getFullYear()}`,leg:m.leg,fareOptionKey:m.fareOptionKey,startCode:m.startCode,endCode:m.endCode,startTime:x,baggageOptions:[],baggageSelected:{baggageName:"",baggageKey:"",containerKey:"",totalCharge:0}}})}));const c={baggageRequest:null===(e=this.dataBaggageInput[0])||void 0===e?void 0:e.journeys.map(d=>({airline:d.airlineName,journeyKey:d.journeyKey,fareOptionKey:d.fareOptionKey}))},u=this.dataBaggageInput.map(d=>Object.assign(Object.assign({},d),{journeys:d.journeys.map(f=>Object.assign(Object.assign({},f),{baggageSelected:Object.assign({},f.baggageSelected)}))}));if(this._detectMobileSvc.isMobile()){const d=this._bottomSheetSvc.open(x0,{headerTitle:"Th\xeam h\xe0nh l\xfd",leftButtonIcon:"arrow_left",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",containerFullHeigh:!0,data:{dataBaggageInput:[...this.dataBaggageInput],addonBaggageReq:c,type:"get_baggage"}});d.containerInstance._leftButtonClick.subscribe(f=>d.dismiss()),d.afterDismissed().subscribe(f=>{var _;f?(console.log(f),this.dataBaggageInput=[...f],this.hasBaggageSelected=null===(_=this.dataBaggageInput)||void 0===_?void 0:_.some(m=>m.journeys.some(x=>x.baggageSelected.baggageKey)),this.calculationAddonBag()):this.dataBaggageInput=[...u]})}else this._modal.open(x0,{dataBaggageInput:[...this.dataBaggageInput],addonBaggageReq:c,type:"get_baggage"}).afterClosed$.subscribe({next:f=>{var _;f.data?(console.log(f.data),this.dataBaggageInput=[...f.data],this.hasBaggageSelected=null===(_=this.dataBaggageInput)||void 0===_?void 0:_.some(m=>m.journeys.some(x=>x.baggageSelected.baggageKey)),this.calculationAddonBag()):this.dataBaggageInput=[...u]}})}getListPassengerAddOn(){return this.passengers.value.filter(i=>"INF"!==i.type).map(i=>({name:i.name?i.name:"Kh\xe1ch h\xe0ng "+(i.index+1),key:i.index,type:i.type,includeInfant:"ADT"===i.type&&!!this.passengers.value.find(a=>a.parentIndex==i.index),idClient:i.idClient}))}scrollToFieldErr(){const e=document.querySelectorAll(".ng-invalid");if(e.length){const i=e[1];i.scrollIntoView({behavior:"smooth",block:"center"}),i.focus()}}bookTicket(){var e,i,a,c,u,d;if(this.isExitPage=!1,console.log(null===(e=this.ticketCur)||void 0===e?void 0:e.ticketSelected),console.log(this.passengers.value),console.log(this.dataBaggageInput),this.form.markAllAsTouched(),this.form.updateValueAndValidity(),this.scrollToFieldErr(),this.form.invalid||!this.form.value.isAgreeTerm||this.checkDuplicates(this.passengers.value.filter(N=>"INF"===N.type)))return;const f=null===(i=this.ticketCur)||void 0===i?void 0:i.ticketSelected.map(N=>N.ticketData),_=null!=f&&f.length?this._helperSvc.progressPriceList(this.searchData,f):[],{email:m,phone:x,phonePrefix:E,companyAddress:Z,companyName:D,taxNumber:P,name:R,isElectronicInvoiceIssuance:$}=this.form.value;console.log(this.promoCodeBookingList);const Q=this.promoCodeBookingList.filter(N=>N.active);console.log(Q);const X={promoCodeBook:Q.map(N=>N.code).join(","),totalPromoBook:Q.reduce((N,ct)=>N+ct.discountByCondition,0)},z={sendEmailInfo:{bookingContact:{email:m,phone:x,phonePrefix:E,name:R},bookingFlights:{bookingOptions:null===(a=this.ticketCur)||void 0===a?void 0:a.ticketSelected.map((N,ct)=>{var tt,lt,at,yt,st,K,ft,bt,ht,Ct,W,H,V,Pt,Kt,we,de,pt,qt,ve,pe;return console.log(N),{airlineLogo:"https://flychills.com/assets/airline-logo/"+(null===(tt=N.ticketData)||void 0===tt?void 0:tt.airline)+".png",endPoint:null!==(lt=N.ticketData)&&void 0!==lt&&lt.endPoint?`${this._locationDataSvc.getCityNameByCode(null===(at=N.ticketData)||void 0===at?void 0:at.endPoint)} (${null===(yt=N.ticketData)||void 0===yt?void 0:yt.endPoint})`:"",endTime:null!==(st=N.ticketData)&&void 0!==st&&st.arrival.localTime?Ot(new Date(null===(K=N.ticketData)||void 0===K?void 0:K.arrival.localTime),"dd/MM/yyyy HH:mm"):"",flightNumber:null!==(ft=N.ticketData)&&void 0!==ft&&ft.flightNumber?`Chuy\u1ebfn bay ${null===(bt=N.ticketData)||void 0===bt?void 0:bt.flightNumber}`:"",startPoint:null!==(ht=N.ticketData)&&void 0!==ht&&ht.startPoint?`${this._locationDataSvc.getCityNameByCode(null===(Ct=N.ticketData)||void 0===Ct?void 0:Ct.startPoint)} (${null===(W=N.ticketData)||void 0===W?void 0:W.startPoint})`:"",startTime:null!==(H=N.ticketData)&&void 0!==H&&H.departure.localTime?Ot(new Date(null===(V=N.ticketData)||void 0===V?void 0:V.departure.localTime),"dd/MM/yyyy HH:mm"):"",fareClass:`H\u1ea1ng ch\u1ed7 ${null===(Kt=null===(Pt=N.ticketData)||void 0===Pt?void 0:Pt.fareCur)||void 0===Kt?void 0:Kt.fareClass}`||"",airline:(null===(we=N.ticketData)||void 0===we?void 0:we.airline)||"",startPointCode:(null===(de=N.ticketData)||void 0===de?void 0:de.startPoint)||"",endPointCode:(null===(pt=N.ticketData)||void 0===pt?void 0:pt.endPoint)||"",flightNumberCode:(null===(qt=N.ticketData)||void 0===qt?void 0:qt.flightNumber)||"",seatRemain:(null===(pe=null===(ve=N.ticketData)||void 0===ve?void 0:ve.fareCur)||void 0===pe?void 0:pe.seatRemain)||"N/A"}}),totalPrice:((null===(c=this.ticketCur)||void 0===c?void 0:c.totalPrice)||0)-this.amountDiscount},bookingPassengers:this.passengers.value.map(N=>{var ct,tt,lt,at,yt;let st=0;const K=null===(tt=null===(ct=this.dataBaggageInput)||void 0===ct?void 0:ct.find(ht=>ht.idClient===N.idClient))||void 0===tt?void 0:tt.journeys.filter(ht=>ht.containerKey&&ht.baggageSelected.baggageKey);if(null!=_&&_.length){const ht=_.find(Ct=>Ct.code===N.type);st=((null==ht?void 0:ht.totalFare)||0)/((null==ht?void 0:ht.quantity)||1),K&&K.length>0&&K.forEach(Ct=>{st+=Ct.baggageSelected.totalCharge})}const ft=null===(lt=N.birthday)||void 0===lt?void 0:lt.split("/"),bt=ft?`${ft[2]}-${ft[1]}-${ft[0]}`:"1990-01-01";return{gender:"male"===N.gender?"\xd4ng":"B\xe0",name:N.name,price:st,type:N.type,route:null!=f&&f.length?`${this._locationDataSvc.getCityNameByCode(null===(at=f[0])||void 0===at?void 0:at.startPoint)} - ${this._locationDataSvc.getCityNameByCode(null===(yt=f[0])||void 0===yt?void 0:yt.endPoint)}`:"",genderCode:N.gender.toUpperCase(),documentInfo:[{documentType:"PASSPORT"===N.documentType&&N.number||"PASSPORT"!==N.documentType&&N.cccdNumber?N.documentType:null,number:"PASSPORT"===N.documentType?N.number:N.cccdNumber,expiryDate:N.expiryDate?Ot(new Date(N.expiryDate),"yyyy-MM-dd"):"",issuanceCountry:N.issuanceCountry,issuanceDate:N.issuanceDate?Ot(new Date(N.issuanceDate),"yyyy-MM-dd"):"",nationality:N.nationality}],service:K&&null!=K&&K.length?K.reduce((ht,Ct,W)=>ht+Ct.baggageSelected.baggageName+(W===K.length-1?"":", "),""):"Gi\xe1 v\xe9",birthday:bt,bookingBaggages:K?K.map(ht=>ht):[],index:N.index,parentIndex:N.parentIndex||0}})},ip:"",bookingInfo:{bookingContact:{email:m,phone:x,phonePrefix:E,name:"thuong"},bookingFlights:{bookingOptions:f.map((N,ct)=>{const{airline:tt,airlineName:lt,fareCur:at,privateFare:yt,isNdcFare:st,segments:K,endPoint:ft,startPoint:bt,key:ht,provider:Ct,departure:W,totalPrice:V}=N,Pt=this._helperSvc.progressPriceList(this.searchData,[N])||0,Kt=Pt.find(pe=>"ADT"===pe.code),we=((null==Kt?void 0:Kt.totalFare)||0)/((null==Kt?void 0:Kt.quantity)||1)||0,de=Pt.find(pe=>"CHD"===pe.code),pt=((null==de?void 0:de.totalFare)||0)/((null==de?void 0:de.quantity)||1)||0,qt=Pt.find(pe=>"INF"===pe.code),ve=((null==qt?void 0:qt.totalFare)||0)/((null==qt?void 0:qt.quantity)||1)||0;return{airline:tt,airlineName:lt,ndcFare:st,privateFare:yt,bookingFlightInfo:{optionSelect:{fareOptionKey:(null==at?void 0:at.key)||"",segmentSelect:K.map(({bookedInfo:pe,key:Vn,flightNumber:QC,startPoint:HC,endPoint:GC,departure:KC,arrival:$C})=>({fareClass:null==pe?void 0:pe.fareClass,segmentKey:Vn,flightNumber:QC,startPoint:HC,endPoint:GC,departureTime:KC.scheduleTime,arrivalTime:$C.scheduleTime}))},ivsBookingFlightInfo:"IVS"===Ct?{departureDate:Ot(new Date(W.localTime),"yyyy-MM-dd"),endPoint:ft,startPoint:bt,fareClass:null==at?void 0:at.journeyFareClass,flightNumber:K[0].flightNumber,totalPrice:((null==Kt?void 0:Kt.totalFare)||0)+((null==de?void 0:de.totalFare)||0)+((null==qt?void 0:qt.totalFare)||0)}:null,type:this.searchData.typeOfList===re.YI.Single?"b2c":"combo"},endPoint:ft,startPoint:bt,provider:Ct,fareClass:null==at?void 0:at.journeyFareClass,price:V||0,flightNumber:K[0].flightNumber,id:tt.toUpperCase()+"_"+ct,journeyKey:ht,leg:ct,route:`${bt}${ft}`,startTime:W.localTime?Ot(new Date(W.localTime),"yyyy-MM-dd HH:mm"):"",sessionId:"",adtPrice:we,chdPrice:pt,infPrice:ve}}),mode:"options"},bookingPassengers:this.passengers.value.map(N=>{var ct,tt,lt;const[at,...yt]=N.name.split(" "),st=yt.join(" "),K=null===(ct=N.birthday)||void 0===ct?void 0:ct.split("/"),ft=K?`${K[2]}-${K[1]}-${K[0]}`:"1990-01-01";return{bookingBaggages:null===(lt=null===(tt=this.dataBaggageInput)||void 0===tt?void 0:tt.find(bt=>bt.idClient===N.idClient))||void 0===lt?void 0:lt.journeys.filter(bt=>bt.containerKey&&bt.baggageSelected.baggageKey).map(bt=>({baggageContainerKey:bt.baggageSelected.containerKey,baggageKey:bt.baggageSelected.baggageKey,journeyKey:bt.journeyKey,leg:bt.leg,airline:bt.airlineName})),bookingSeats:[],bookingServices:[],info:{birthday:ft,defaultDocumentType:(0,Se.isEmpty)(N.documentType)||N.documentType===Rt.FV.NON_IDENTIFY?Rt.FV.CCCD:N.documentType,documentInfo:[{documentType:"PASSPORT"===N.documentType&&N.number||"PASSPORT"!==N.documentType&&N.cccdNumber?N.documentType:null,number:"PASSPORT"===N.documentType?N.number:N.cccdNumber,expiryDate:N.expiryDate?Ot(new Date(N.expiryDate),"yyyy-MM-dd"):"",issuanceCountry:N.issuanceCountry,issuanceDate:N.issuanceDate?Ot(new Date(N.issuanceDate),"yyyy-MM-dd"):"",nationality:N.nationality}],email:"",firstName:st,lastName:at,gender:N.gender,index:N.index,parentIndex:N.parentIndex||0,loyalInfo:[N.membershipQH,N.membershipVN].map(bt=>({airline:N.membershipQH?"QH":"VN",membershipID:bt})),setDefaultDocument:!("PASSPORT"===N.documentType?N.number:N.cccdNumber)||N.documentType===Rt.FV.NON_IDENTIFY,type:N.type}}}),invoiceInfo:{companyAddress:$?Z:"",companyName:$?D:"",taxNumber:$?P:""}},totalCharge:{totalDiscount:this.amountDiscount,totalFare:(null===(u=this.ticketCur)||void 0===u?void 0:u.totalPrice)||0,totalPrice:((null===(d=this.ticketCur)||void 0===d?void 0:d.totalPrice)||0)-this.amountDiscount-X.totalPromoBook+this.totalChairBaggage(this.dataBaggageInput),totalPromoBook:X.totalPromoBook,totalAddon:this.totalChairBaggage(this.dataBaggageInput)},promoCodeBook:X.promoCodeBook,sessionSearchKey:this._helperStorageSvc.btcResultData.sessionSearchKey,clientKey:this._clientKeyBtcSvc.getClientKey()};this.isLoading=!0,console.log(z),this._bookingPaymentSvc.bookingPayment(z).pipe((0,be.w)(N=>{var ct,tt,lt,at,yt,st;return N.data?this._addExtraInfoOrderSvc.addExtraInfoOrder({orderId:N.data.orderId,extraInfoText:JSON.stringify({ticketCur:(0,oe.ZE)(this.ticketCur),search:this.searchData,dataBooking:{booking:N.data,bookingContact:z.bookingInfo.bookingContact,bookingPassengers:z.sendEmailInfo.bookingPassengers,invoiceInfo:z.bookingInfo.invoiceInfo},promoCodeBookingList:this.promoCodeBookingList.filter(K=>K.active),dataBaggageInput:this.dataBaggageInput.filter(K=>K.journeys.filter(ft=>ft.baggageSelected.baggageKey))})}).pipe((0,Be.U)(()=>N)):(this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:null===(tt=null===(ct=null==N?void 0:N.objectError)||void 0===ct?void 0:ct.errorDescription)||void 0===tt?void 0:tt.vi,sticky:!0}),this.btcLogErrorTeleSvc.notifyJson((null===(lt=this.form.value)||void 0===lt?void 0:lt.phone)||(null===(at=this.form.value)||void 0===at?void 0:at.email)||"luu-extra-that-bai.json",{url:this.appConfig.apiUrl,error:null===(st=null===(yt=null==N?void 0:N.objectError)||void 0===yt?void 0:yt.errorDescription)||void 0===st?void 0:st.vi,searchData:this.searchData,ticketCur:this.ticketCur,form:this.form.value,pax:this.passengers.value}),(0,cu.of)(N))})).subscribe({next:N=>{var ct,tt,lt,at,yt,st,K,ft;if(console.log(N),N&&N.data){const bt=this.ticketCur.ticketSelected.map(Ct=>{var W,H,V;return{airline:null===(W=Ct.ticketData)||void 0===W?void 0:W.airline,priceTotal:Ct.priceTotalByPassenger-(Ct.ticketPriceList?null===(H=Ct.ticketPriceList)||void 0===H?void 0:H.reduce((Pt,Kt)=>Pt+((null==Kt?void 0:Kt.discountAmount)*(null==Kt?void 0:Kt.quantity)||0),0):0),priceList:null===(V=Ct.ticketPriceList)||void 0===V?void 0:V.map(Pt=>({code:Pt.code,type:Pt.type,net_price:Pt.baseFare+Pt.surCharge-Pt.beService,services_fee:Pt.beService,discount_amount:Pt.discountAmount,total_price:Pt.totalFare-Pt.discountAmount*Pt.quantity,quantity:Pt.quantity}))}});this._eventLogService.captureCreateBookingPayment(Object.assign(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===re.YI.Single?"OW":"RT",start_point:null===(ct=this.searchData.journey[0])||void 0===ct?void 0:ct.startPoint,end_point:null===(tt=this.searchData.journey[0])||void 0===tt?void 0:tt.endPoint,departure_date:this.searchData.journey&&this.searchData.journey[0].departDate?Ot(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?Ot(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",has_inventory_ticket:this.ticketCur.ticketSelected.find(Ct=>Ct.ticketData&&"IVS"===Ct.ticketData.provider)?1:0,priceLog:bt,promotions:[...this.promoCodeBookingList.filter(Ct=>Ct.active),this.searchData.promotionCode?{type:"SEARCH",code:this.searchData.promotionCode,total:this.amountDiscount}:[]],price:this.ticketCur.ticketSelected.map(Ct=>{var W;const H=null===(W=Ct.ticketPriceList)||void 0===W?void 0:W.find(V=>"ADT"===V.code);return H?H.totalFare-H.discountAmount:0}),totalCharge:{totalDiscount:this.amountDiscount,totalFare:(null===(lt=this.ticketCur)||void 0===lt?void 0:lt.totalPrice)||0,totalPrice:((null===(at=this.ticketCur)||void 0===at?void 0:at.totalPrice)||0)-this.amountDiscount-X.totalPromoBook,totalPromoBook:X.totalPromoBook}},null===(yt=this._helperStorageSvc.btcCampaignData)||void 0===yt?void 0:yt.utmParams),{phone:(null===(st=this.form.value)||void 0===st?void 0:st.phone)||"",email:(null===(K=this.form.value)||void 0===K?void 0:K.email)||"",name:(null===(ft=this.passengers.at(0).value)||void 0===ft?void 0:ft.name)||""})),window.parent.postMessage({action:"redirect",url:"DEV"===this.appConfig.env?`/order-dev.html?id=${N.data.orderId}`:`/order.html?id=${N.data.orderId}`},"*"),this._router.navigate([`/order/${N.data.orderId}`])}},error:N=>{var ct,tt;console.log(N),this._modal.open(su,{title:"\u0110\xe3 x\u1ea3y ra l\u1ed7i \u0111\u1eb7t v\xe9",body:`${N.objectError.errorDescription.vi}. Li\xean h\u1ec7 h\u1ed7 tr\u1ee3: 1900 866 657`,okText:"T\xecm l\u1ea1i chuy\u1ebfn bay",hasCancel:!1,cancelText:""}).afterClosed$.subscribe(()=>{this.navigateToPaxInfo()}),this.isLoading=!1,this.btcLogErrorTeleSvc.notifyJson((null===(ct=this.form.value)||void 0===ct?void 0:ct.phone)||(null===(tt=this.form.value)||void 0===tt?void 0:tt.email)||"booking-that-bai.json",{url:this.appConfig.apiUrl,error:N.objectError.errorDescription.vi,searchData:this.searchData,ticketCur:this.ticketCur,form:this.form.value,pax:this.passengers.value})},complete:()=>{this.isLoading=!1}}),this._helperStorageSvc.listPromoBookActived=this.promoCodeBookingList.filter(N=>N.active)}checkDuplicates(e){const i=new Set;return e.some(a=>!!i.has(a.parentIndex)||(i.add(a.parentIndex),!1))}getFormControlInArray(e,i){return e.controls[i]}navigateToPaxInfo(){this.isExitPage=!1,window.parent.postMessage({action:"removeQuery",query:"pax-info"},"*")}progressAmountDiscount(){const e=this.ticketCur.ticketSelected.filter(i=>i.ticketData).map(i=>i.ticketData);this.amountDiscount=this._helperSvc.progressPriceList(this.searchData,e).filter(i=>i.discountAmount).reduce((i,a)=>i+a.discountAmount*a.quantity,0)}isElectronicInvoiceIssuanceChange(e,i){var a;i.preventDefault(),i.stopPropagation(),null===(a=this.form.get("isElectronicInvoiceIssuance"))||void 0===a||a.setValue(e)}onClearBaggage(){this._modal.open(V2,{title:"X\xe1c nh\u1eadn h\u1ee7y d\u1ecbch v\u1ee5 h\xe0nh l\xfd",body:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n h\u1ee7y d\u1ecbch v\u1ee5 h\xe0nh l\xfd k\xed g\u1eedi \u0111\xe3 th\xeam?",okText:"C\xf3, h\u1ee7y d\u1ecbch v\u1ee5",cancelText:"Kh\xf4ng"}).afterClosed$.subscribe({next:i=>{i.data&&(this.dataBaggageInput=[...this.dataBaggageInput.map(a=>Object.assign(Object.assign({},a),{journeys:a.journeys.map(c=>Object.assign(Object.assign({},c),{baggageSelected:{baggageName:"",baggageKey:"",containerKey:"",totalCharge:0}}))}))],this.hasBaggageSelected=!1,this.calculationAddonBag())}})}calculationAddonBag(){var e,i,a,c;const u=new Map;null===(i=null===(e=this.dataBaggageInput)||void 0===e?void 0:e.map(d=>d.journeys).flatMap(d=>d))||void 0===i||i.forEach(d=>{u.has(d.journeyKey)?u.get(d.journeyKey).push(d.baggageSelected.totalCharge):u.set(d.journeyKey,[d.baggageSelected.totalCharge])});for(const[d,f]of u.entries()){const _=f.reduce((x,E)=>x+E,0),m=null===(a=this.ticketCur)||void 0===a?void 0:a.ticketSelected.find(x=>{var E;return(null===(E=x.ticketData)||void 0===E?void 0:E.journeyKey)===d});m&&null!=m&&m.ticketPriceList&&(null===(c=null==m?void 0:m.ticketPriceList)||void 0===c||c.map(x=>x.bagCharge=_))}console.log(this.dataBaggageInput),console.log(this.ticketCur),console.log(this.passengers.value)}openTerm(){if(this.isMobile){const e=this._bottomSheetSvc.open(y0,{headerTitle:"Quy \u0111\u1ecbnh khi mua v\xe9",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"});e.containerInstance._rightButtonClick.subscribe(()=>this._bottomSheetSvc.dismiss()),e.afterDismissed().subscribe(i=>{var a;i&&(null===(a=this.form.get("isAgreeTerm"))||void 0===a||a.setValue(!0))})}else this._modal.open(y0,{}).afterClosed$.subscribe(i=>{var a;i.data&&(null===(a=this.form.get("isAgreeTerm"))||void 0===a||a.setValue(!0))})}handleBeforeUnload(e){var i,a,c,u,d,f,_,m,x,E,Z,D;if(!this.isExitPage)return;console.log("beforeunload event triggered");let P=this.passengers.value.some(z=>z.name||z.birthday);const R=this.ticketCur.ticketSelected.map(z=>{var N,ct,tt;return{airline:null===(N=z.ticketData)||void 0===N?void 0:N.airline,priceTotal:z.priceTotalByPassenger-(z.ticketPriceList?null===(ct=z.ticketPriceList)||void 0===ct?void 0:ct.reduce((lt,at)=>lt+((null==at?void 0:at.discountAmount)*(null==at?void 0:at.quantity)||0),0):0),priceList:null===(tt=z.ticketPriceList)||void 0===tt?void 0:tt.map(lt=>({code:lt.code,type:lt.type,net_price:lt.baseFare+lt.surCharge-lt.beService,services_fee:lt.beService,discount_amount:lt.discountAmount,total_price:lt.totalFare-lt.discountAmount*lt.quantity,quantity:lt.quantity}))}}),$=this.promoCodeBookingList.filter(z=>z.active),Q={promoCodeBook:$.map(z=>z.code).join(","),totalPromoBook:$.reduce((z,N)=>z+N.discountByCondition,0)},X=Object.assign(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===re.YI.Single?"OW":"RT",start_point:null===(i=this.searchData.journey[0])||void 0===i?void 0:i.startPoint,end_point:null===(a=this.searchData.journey[0])||void 0===a?void 0:a.endPoint,departure_date:null!==(c=this.searchData.journey)&&void 0!==c&&c.length&&null!==(u=this.searchData.journey[0])&&void 0!==u&&u.departDate?Ot(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?Ot(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",has_inventory_ticket:this.ticketCur.ticketSelected.find(z=>z.ticketData&&"IVS"===z.ticketData.provider)?1:0,is_null:P?1:0,priceLog:R,price:this.ticketCur.ticketSelected.map(z=>{var N;const ct=null===(N=z.ticketPriceList)||void 0===N?void 0:N.find(tt=>"ADT"===tt.code);return ct?ct.totalFare-ct.discountAmount:0}),totalCharge:{totalDiscount:this.amountDiscount,totalFare:(null===(d=this.ticketCur)||void 0===d?void 0:d.totalPrice)||0,totalPrice:((null===(f=this.ticketCur)||void 0===f?void 0:f.totalPrice)||0)-this.amountDiscount-Q.totalPromoBook,totalPromoBook:Q.totalPromoBook},promotions:[...this.promoCodeBookingList.filter(z=>z.active),this.searchData.promotionCode?{type:"SEARCH",code:this.searchData.promotionCode,total:this.amountDiscount}:[]]},null===(_=this._helperStorageSvc.btcCampaignData)||void 0===_?void 0:_.utmParams),{phone:(null===(m=this.form.value)||void 0===m?void 0:m.phone)||"",email:(null===(x=this.form.value)||void 0===x?void 0:x.email)||"",name:(null===(E=this.passengers.at(0).value)||void 0===E?void 0:E.name)||""});this._eventLogService.inputPassengerInfoChurn(X),this.btcLogErrorTeleSvc.notifyJson((null===(Z=this.form.value)||void 0===Z?void 0:Z.phone)||(null===(D=this.form.value)||void 0===D?void 0:D.email)||"log-khach-out.json",Object.assign(Object.assign({url:this.appConfig.apiUrl},X),{searchData:this.searchData,ticketCur:this.ticketCur,form:this.form.value,pax:this.passengers.value})),e.preventDefault(),e.returnValue="B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n r\u1eddi kh\u1ecfi trang n\xe0y khi ch\u01b0a ho\xe0n th\xe0nh th\xf4ng tin mua v\xe9?"}applyPromocode(){if(this.isErrorPromoCodeBook=!1,this.promoCodeBooking){if(!this.promoCodeBookingList.filter(i=>i.code===this.promoCodeBooking).length)return void(this.isErrorPromoCodeBook=!0);if(this.promoCodeBookingList.find(i=>i.active))return this._toastService.add({severity:"error",summary:"\xc1p d\u1ee5ng m\xe3 khuy\u1ebfn m\xe3i th\u1ea5t b\u1ea1i",detail:"M\xe3 khuy\u1ebfn m\xe3i \u0111\xe3 \xe1p d\u1ee5ng ho\u1eb7c kh\xf4ng \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng \u0111\u1ed3ng th\u1eddi",sticky:!1,contentStyleClass:"!p-3"}),void(this.promoCodeBooking="");this.promoCodeBookingList=this.promoCodeBookingList.map(i=>(i.code===this.promoCodeBooking&&(i.errorStr?(this._toastService.add({severity:"error",summary:"\xc1p d\u1ee5ng m\xe3 khuy\u1ebfn m\xe3i th\u1ea5t b\u1ea1i",detail:i.errorStr,sticky:!1,contentStyleClass:"!p-3"}),this.promoCodeBooking=""):(this._toastService.add({severity:"success",summary:"\xc1p d\u1ee5ng M\xe3 KM th\xe0nh c\xf4ng",detail:`m\xe3 khuy\u1ebfn m\xe3i ${this.promoCodeBooking} \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng th\xe0nh c\xf4ng!`,sticky:!1,contentStyleClass:"!p-3"}),this.promoCodeBooking="",i.active=!i.active)),i))}}removePromoActive(e){this.promoCodeBookingList=this.promoCodeBookingList.map(i=>(i.code===e.code&&(i.active=!1),i))}checkAddOn(){this.passengers.valueChanges.subscribe(e=>{this.isAddOn=e.every(i=>"ADT"!==i.type&&"CHD"!==i.type||i.name)})}handleEnter(e){this.bookTicket(),e.preventDefault(),e.stopPropagation()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(A.qu),t.Y36(ut.oE),t.Y36(v.KNP),t.Y36(wt.lY),t.Y36(I.a2),t.Y36(ri.L),t.Y36(oy),t.Y36(wt._h),t.Y36(ai),t.Y36(Qn.jH),t.Y36(qe.x),t.Y36(Jn.F0),t.Y36(g.Ye),t.Y36(Ko),t.Y36(Pn.BX),t.Y36(sy),t.Y36(_l),t.Y36(Jr.x),t.Y36(uy),t.Y36(wt.GM),t.Y36(Rt.qB),t.Y36(co.H7),t.Y36(t.sBO),t.Y36(Mr),t.Y36(l0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-result-pax"]],viewQuery:function(e,i){if(1&e&&t.Gf(dy,5),2&e){let a;t.iGM(a=t.CRH())&&(i.parentSelectInfants=a)}},hostBindings:function(e,i){1&e&&t.NdJ("beforeunload",function(c){return i.handleBeforeUnload(c)},!1,t.Jf7)("keydown.enter",function(c){return i.handleEnter(c)},!1,t.evT)},standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["class","w-screen h-screen overflow-hidden p-0 m-0",4,"ngIf"],[1,"w-screen","h-screen","overflow-hidden","p-0","m-0"],[1,"w-full","pb-20","h-screen","!h-[100svh]","relative","overflow-auto",3,"formGroup"],[1,"px-4","pt-6","w-full","max-w-[1366px]","mx-auto","relative","flex","md:flex-col","gap-6","md:gap-4"],[1,"flex-1","flex","flex-col","gap-8","md:gap-0","md:shadow-lg"],[1,"flex","flex-col","gap-4","md:gap-0","md:shadow-lg"],[1,"flex","justify-between","items-center","md:bg-neutral-white","md:py-4","md:pr-3","md:mb-0","md:shadow-lg"],[1,"flex","gap-x-[10px]","md:gap-[6px]","pl-2"],["src","/assets/images/b2c/flight-minimum.svg"],[1,"text-heading-md","uppercase","font-bold","text-red-4","md:text-espressive-lg","md:normal-case"],["cf-button","","size","medium","type","secondary",1,"bg-white","flex","gap-x-2","md:hidden",3,"click","keydown"],["icon","grouping","size","small"],[1,"items-center","gap-x-0.5","hidden","md:flex",3,"click"],[1,"text-body-md"],[1,"flex","flex-col","gap-2"],["formArrayName","passengers"],["class","bg-white shadow-lg rounded",4,"ngFor","ngForOf"],["class","flex flex-col gap-4",4,"ngIf"],[1,"flex","justify-between","items-center","md:bg-neutral-white","md:py-4","md:pr-3","md:mb-0"],[1,"p-6","flex","flex-col","gap-4","bg-white","rounded","shadow-cf-md"],[1,"grid","grid-cols-2","gap-4","md:grid-cols-1"],["data-id","email",1,""],["controlElement",""],[1,"grow-[400]","!w-full",3,"status"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],[3,"CfRequired"],["cf-input","","size","medium","name","email","autocomplete","on","placeholder","Nh\u1eadp email","maxlength","70","formControlName","email"],["cfHint","",3,"hint",4,"ngIf"],[1,"flex","flex-1","w-full","flex-col"],[1,"flex","flex-1","w-full"],["valueField","code","placeholder","M\xe3 v\xf9ng","formControlName","phonePrefix",1,"grow-[400]","!w-full","!max-w-[220px]","md:!max-w-[92px]",3,"hasBackdrop","status","data","textField","allowSearch"],["data-id","phone",1,"grow-[400]","w-full","max-w-full","pt-7"],[1,"w-full",3,"status"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp \u0111i\u1ec7n tho\u1ea1i","maxlength","20","formControlName","phone","CfNumberic","","name","tel","autocomplete","on"],["class","text-neutral-gray-6 text-body-sm mt-1.5",4,"ngIf"],[1,"w-full","bg-white","border","border-neutral-gray-3","border-dashed","rounded","mt-4","shadow-lg"],[3,"title","active","contentClass","panelClass"],["titleTemplate",""],[1,"flex","flex-col","gap-4","p-4"],[1,"flex","items-center","cursor-pointer",3,"click"],["size","medium",3,"checked"],[1,"text-body-md-short","text-neutral-black"],[1,"mt-3","rounded-lg","bg-neutral-white","gap-y-2","grid","grid-cols-2","gap-4"],["data-id","taxNumber",1,"md:col-span-2"],[1,"grow-[400]","!w-full",3,"ngClass","status"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp m\xe3 s\u1ed1 thu\u1ebf c\xf4ng ty","formControlName","taxNumber","maxlength","20"],["data-id","companyName",1,"md:col-span-2"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp t\xean c\xf4ng ty","maxlength","70","formControlName","companyName"],["data-id","companyAddress",1,"md:col-span-2","col-span-2"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp \u0111\u1ecba ch\u1ec9 c\xf4ng ty","maxlength","70","formControlName","companyAddress"],[1,"text-body-md-short","from-neutral-gray-6"],[1,"list-disc","pl-6","text-body-md-short","from-neutral-gray-6"],["class","flex items-center md:my-4 md:hidden",3,"ngClass",4,"ngIf"],[1,"min-w-[248px]","max-w-[302px]","w-full","mr-auto","md:max-w-full","rounded-xl","md:rounded-none"],[1,"min-w-[248px]","w-full","max-w-[302px]","flex-shrink-0","md:rounded-none","rounded-xl","flex","flex-col","gap-6","h-fit","md:static","md:max-w-full","sticky","top-0"],[1,"bg-neutral-white","rounded-xl","md:rounded-none","shadow-lg"],[1,"flex","justify-between","items-center","py-3","px-4","border-b","border-neutral-gray-2"],[1,"text-espressive-sm","text-neutral-black"],[3,"searchInput","ticketCur","showDetail","reselectClick",4,"ngIf"],[1,"p-4","flex","flex-col","divide-y","divide-neutral-gray-4"],[1,""],[4,"ngIf"],[1,"flex","flex-col","gap-2","pt-3"],[1,"text-neutral-gray-6","font-medium","text-heading-xs","mb-1"],[4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","py-3","px-4","md:rounded-none","rounded-b-xl","border-t","border-neutral-gray-1"],[1,"text-heading-md","text-neutral-black"],[1,"flex","flex-col","gap-3"],[1,"text-espressive-md","font-medium","text-neutral-black"],[1,"flex","flex-col","gap-1"],[1,"flex","w-full","bg-white","rounded-lg","border","border-neutral-gray-3","p-1","justify-between","items-center","gap-2"],[4,"ngIf","ngIfElse"],["nonPromoDataTpl",""],["cf-button","","type","solid","size","small",1,"min-w-[100px]","justify-center",3,"disabled","click"],["class","pl-2 text-neutral-gray-5 font-normal text-espressive-md",4,"ngIf"],["cfHint","","class","text-red-4 text-body-sm font-normal",3,"hint",4,"ngIf"],[1,"md:flex","items-center","md:my-4","hidden",3,"ngClass"],["formControlName","isAgreeTerm","size","medium",3,"checked","ngClass"],[1,"text-body-md-short","text-neutral-black",3,"ngClass"],[1,"text-primary-400","cursor-pointer",3,"click"],[1,"fixed","w-full","bg-white","flex","justify-between","bottom-0","left-0","right-0","py-[14px]","md:px-6","px-[30px]","md:gap-4"],[1,"max-w-[1366px]","flex","w-full","mx-auto","gap-4","items-center","justify-between","px-4","md:px-0"],["cf-button","","size","medium","type","secondary",1,"whitespace-nowrap","md:flex-1","py-2.5","text-base","justify-center",3,"click"],["icon","arrow_left","size","small",1,"mr-2.5"],["cf-button","","size","medium","color","primary-1",1,"whitespace-nowrap","w-[200px]","py-2.5","text-base","md:flex-1","justify-center",3,"click"],["icon","switch","size","small",1,"mr-2.5"],[1,"bg-white","shadow-lg","rounded"],[3,"formGroupName","ngClass"],[1,"w-full","hidden","md:block"],[3,"title","active"],[3,"ngTemplateOutlet"],[1,"p-6","bg-white","rounded","shadow-cf-md","md:hidden"],["adultPax",""],["class","text-heading-xs text-neutral-gray-6",4,"ngIf"],[1,"text-heading-xs","text-neutral-gray-6"],["class","mb-4 text-heading-xs text-black md:hidden",4,"ngIf"],[1,"flex","gap-y-4","flex-col"],[1,"!w-full",3,"status"],["cf-input","","size","medium","name","name","autocomplete","on","formControlName","name","placeholder","Nh\u1eadp h\u1ecd v\xe0 t\xean","type","text","maxlength","50",3,"click","blur"],["textField","name","valueField","code","formControlName","gender","placeholder","Ch\u1ecdn gi\u1edbi t\xednh",1,"md:w-full","max-w-full","!w-full","md:max-w-none",3,"hasBackdrop","status","data","allowSearch","keydown.space"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5",3,"CfRequired"],["cfHeadIcon","","icon","calendar","size","small"],[1,"text-neutral-gray-4","text-espressive-sm"],["name","birthday","autocomplete","on","type","text","size","medium","cf-input","","formControlName","birthday","inputmode","numeric","placeholder","dd/mm/yyyy",1,"py-[8px]",3,"blur","input"],["class","",4,"ngIf"],["class","border-t border-neutral-gray-1 mt-4",4,"ngIf"],["class","w-full border border-neutral-gray-3 border-dashed rounded",4,"ngIf"],[1,"mb-4","text-heading-xs","text-black","md:hidden"],["cfHint","",3,"hint"],[1,"text-neutral-gray-6","text-body-sm","mt-1.5"],["textField","name","valueField","code","formControlName","parentIndex","placeholder","Thu\u1ed9c h\xe0nh kh\xe1ch ng\u01b0\u1eddi l\u1edbn",1,"md:w-full","max-w-full","!w-full","md:max-w-none",3,"hasBackdrop","status","data","allowSearch"],["parentSelectInfant",""],[1,"border-t","border-neutral-gray-1","mt-4"],[1,"flex","flex-col","gap-y-1.5","pt-4"],["cfLabel","",1,"text-espressive-sm","text-black"],[1,"flex","flex-col","gap-y-4"],["formControlName","documentType",1,"flex","items-center","gap-x-8",3,"checkChange"],["size","medium",3,"disabled","value"],["size","medium",3,"value"],["class","grid grid-cols-2 gap-4 md:grid-cols-1",4,"ngIf"],["class","text-body-sm",4,"ngIf"],["cf-input","","size","medium","autocomplete","on","CfNumberic","","maxlength","50","formControlName","cccdNumber","placeholder","Nh\u1eadp s\u1ed1 c\u0103n c\u01b0\u1edbc c\xf4ng d\xe2n"],["cf-input","","size","medium","autocomplete","off","formControlName","number","CfRemoveAccents","","placeholder","Nh\u1eadp s\u1ed1 h\u1ed9 chi\u1ebfu","type","text","maxlength","50"],["textField","name","valueField","code","placeholder","Ch\u1ecdn qu\u1ed1c t\u1ecbch","formControlName","nationality",1,"md:w-full","md:max-w-none","!max-w-full",3,"hasBackdrop","status","data","allowSearch"],["textField","name","valueField","code","placeholder","Ch\u1ecdn n\u01a1i c\u1ea5p","formControlName","issuanceCountry",1,"md:w-full","md:max-w-none","!max-w-full",3,"data","hasBackdrop","status","allowSearch"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y c\u1ea5p","formControlName","issuanceDate",1,"py-[7px]",3,"secondaryCalendar","displayMonths","maxDate","input","dateSelect"],["issuanceDatepicker","cfDatepicker"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y h\u1ebft h\u1ea1n","formControlName","expiryDate",1,"py-[7px]",3,"secondaryCalendar","displayMonths","minDate","input","dateSelect"],["expiryDatepicker","cfDatepicker"],[1,"text-body-sm","mt-1.5"],[1,"text-body-sm"],[1,"w-full","border","border-neutral-gray-3","border-dashed","rounded"],[1,"flex","gap-x-4"],[1,"grow-[400]","!w-full"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5","flex","gap-1","items-center"],["src","/assets/airline-logo/QH_small.png","alt","logo qh ",1,"w-[32px]","h-[20px]"],["cf-input","","size","medium","autocomplete","off","formControlName","membershipQH","placeholder","Nh\u1eadp th\u1ebb h\xe0nh kh\xe1ch th\u01b0\u1eddng xuy\xean","maxlength","50"],["src","/assets/airline-logo/VN_small.png","alt","logo vna ",1,"w-[32px]","h-[20px]"],["cf-input","","size","medium","autocomplete","off","formControlName","membershipVN","placeholder","Nh\u1eadp th\u1ebb h\xe0nh kh\xe1ch th\u01b0\u1eddng xuy\xean","maxlength","50"],[1,"text-body-md","flex","gap-x-2","items-center"],["icon","document","size","small"],[1,"flex","flex-col","gap-4"],[1,"p-6","md:p-4","bg-white","rounded","shadow-cf-md","space-y-3"],[1,"px-4","py-2.5","bg-white","rounded","shadow-cf-md","flex","justify-between","items-center"],[1,"flex","gap-x-3","items-center"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.54545 14.5504H4.15508M14.4545 14.5504H19.8M14.4545 14.5504V12.6H9.54545V16.2H14.4545V14.5504ZM4.15508 14.5504H3V6.05039H14.5508M4.15508 14.5504V21H19.8V14.5504M19.8 14.5504H21V6.05039H14.5508M9.35294 6V3H14.5508V6.05039","stroke","#2C2C2C","stroke-width","1.5","stroke-miterlimit","10","stroke-linecap","round","stroke-linejoin","round"],[1,"flex-auto","w-full"],[1,"text-body-lg","text-neutral-black","font-normal"],["class","text-espressive-sm text-secondary-5-3",4,"ngIf"],[1,"flex","gap-x-3"],["cf-button","","size","small","type","secondary","class","!text-body-md md:p-2",3,"click",4,"ngIf"],["cf-button","","size","small","type","secondary",1,"!text-body-md","md:p-2",3,"click"],["icon","add","size","small","class","mr-2.5 md:m-0",4,"ngIf"],["class","md:hidden",4,"ngIf"],["icon","edit","size","small","class","mr-2.5 md:m-0",4,"ngIf"],[1,"text-espressive-sm","text-secondary-5-3"],["icon","delete","size","small",1,"mr-2.5","md:m-0"],[1,"md:hidden"],["icon","add","size","small",1,"mr-2.5","md:m-0"],["icon","edit","size","small",1,"mr-2.5","md:m-0"],[1,"text-espressive-md-short","text-neutral-gray-6","flex","gap-2","items-center"],[1,"flex","items-center","md:my-4","md:hidden",3,"ngClass"],[3,"searchInput","ticketCur","showDetail","reselectClick"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"flex","flex-col","divide-y","divide-neutral-gray-4"],[1,"flex","flex-col","gap-3","pb-3"],[1,"text-neutral-gray-6","font-medium","text-heading-xs"],["class","flex justify-between gap-2 items-center",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-3","py-3"],[1,"flex","justify-between","gap-2","items-center"],[1,"text-neutral-gray-5","text-body-md-short"],[1,"text-neutral-gray-6","font-medium","text-body-md","whitespace-normal"],["class","flex justify-between gap-2 items-center",4,"ngIf"],[1,"text-neutral-gray-5","text-body-md-short","max-w-[158px]","truncate"],[1,"flex","flex-col","gap-2","py-3"],["class","flex justify-between",4,"ngIf"],[1,"flex","justify-between"],["class","flex gap-[6px] py-[2px] px-1 items-center text-body-md bg-[#d9d9d9] rounded-md",4,"ngFor","ngForOf"],[1,"flex","gap-[6px]","py-[2px]","px-1","items-center","text-body-md","bg-[#d9d9d9]","rounded-md"],["icon","close","size","small",1,"cursor-pointer",3,"click"],["placeholder","Nh\u1eadp m\xe3 khuy\u1ebfn m\xe3i","maxlength","50",1,"w-full","border-none","outline-none","text-body-md","pl-2",3,"ngModel","ngModelOptions","ngClass","ngModelChange","blur"],[1,"pl-2","text-neutral-gray-5","font-normal","text-espressive-md"],["cfHint","",1,"text-red-4","text-body-sm","font-normal",3,"hint"],["class","border border-yellow-3 cursor-pointer bg-white flex justify-between items-center gap-3 rounded-xl p-[10px]",3,"click",4,"ngIf"],[1,"border","border-yellow-3","cursor-pointer","bg-white","flex","justify-between","items-center","gap-3","rounded-xl","p-[10px]",3,"click"],[1,"flex","gap-2","items-center"],[1,"relative","-rotate-45"],["width","53","height","53","viewBox","0 0 53 53","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M26.5 0L32.3299 4.74252L39.75 3.55033L42.4276 10.5724L49.4497 13.25L48.2575 20.6701L53 26.5L48.2575 32.3299L49.4497 39.75L42.4276 42.4276L39.75 49.4497L32.3299 48.2575L26.5 53L20.6701 48.2575L13.25 49.4497L10.5724 42.4276L3.55033 39.75L4.74252 32.3299L0 26.5L4.74252 20.6701L3.55033 13.25L10.5724 10.5724L13.25 3.55033L20.6701 4.74252L26.5 0Z","fill","#FFD255"],[1,"absolute","top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2","text-express-md","font-semibold","text-[#0B2888]"],[1,"flex","flex-col","justify-between"],[1,"text-body-sm","font-medium","overflow-hidden","whitespace-nowrap","w-40","flex"],[1,"inline-block","truncate","w-full","!font-[roboto]",3,"innerHTML"],[1,"text-heading-sm"],[1,"text-neutral-gray-5","text-body-sm"],[1,"flex","items-center","justify-center","p-2","rounded-full","bg-green-1"],["size","small",1,"text-green-3",3,"icon"]],template:function(e,i){1&e&&t.YNc(0,qC,167,88,"div",0),2&e&&t.Q6J("ngIf",i.form)},dependencies:[g.ez,g.mk,g.sg,g.O5,g.tP,g.RF,g.n9,g.ED,g.JJ,S.N8,S.Xq,v.AxE,v.Sm8,Vo,it,A.UX,A._Y,A.Fj,A.JJ,A.JL,A.nD,A.sg,A.u,A.x0,A.CE,Ni,ao,Re.j$,Re.ND,Re.BN,Re.v2,f0.q,fn,Qn.Cs,et.q,gi,M.T,M.o,I.DW,Xr.u,A.u5,A.On,tr.s,aa.Q,W2],styles:[".animationShake[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .5s ease-in-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-1px,-1px)}50%{transform:translate(1px,1px)}75%{transform:translate(-1px,-1px)}}"]}),n})();function MC(n,o){if(1&n&&(t.TgZ(0,"div",43),t._UZ(1,"cf-icon",44),t.TgZ(2,"span",45),t._uU(3),t.qZA()()),2&n){const e=o.ngIf;t.Q6J("ngClass",e.bgColor),t.xp6(1),t.Q6J("icon",e.icon),t.xp6(2),t.hij(" ",e.name," ")}}function JC(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"btc-ticket-sticky-selected",46),t.NdJ("showDetail",function(a){t.CHM(e);const c=t.oxw();return t.KtG(c.showDetail(a))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("searchInput",e.searchData)("ticketCur",e.ticketCur)}}let jC=(()=>{class n{constructor(e,i){this._modal=e,this.cfIconRegister=i,this.changeStep=new t.vpe,this.configStatus={wait:{name:"Ch\u1edd thanh to\xe1n",icon:"clock",bgColor:"bg-yellow-4"},processing:{name:"\u0110\xe3 thanh to\xe1n (\u0111ang x\u1eed l\xfd v\xe9)",icon:"money",bgColor:"bg-blue-3"},cancel:{name:"\u0110\xe3 h\u1ee7y",icon:"clicle-error",bgColor:"bg-gray-4"},success:{name:"\u0110\u1eb7t v\xe9 th\xe0nh c\xf4ng",icon:"circle-check",bgColor:"bg-green-3"},fail:{name:"\u0110\u1eb7t v\xe9 th\u1ea5t b\u1ea1i",icon:"circle-warning",bgColor:"bg-red-3"},refund:{name:"\u0110\xe3 ho\xe0n ti\u1ec1n",icon:"profit",bgColor:"bg-purple-3"}},this.paymentMethod=ot.QR,this.PAYMENT_METHOD_OPTION=ot,this.cfIconRegister.registerIcons([v.gW0,v.qDv,v.o1t,v.P5K,v.PcQ,v.PcQ,v.Gey,v.B2I,v.UNF,v.glu])}showDetail(e){}payTicket(){this.changeStep.emit(!0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ut.oE),t.Y36(v.KNP))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-result-payment"]],inputs:{searchData:"searchData",ticketCur:"ticketCur",isAirLineInternational:"isAirLineInternational"},outputs:{changeStep:"changeStep"},standalone:!0,features:[t.jDz],decls:105,vars:20,consts:[[1,"w-full","h-screen","pb-20","pt-6","overflow-auto"],[1,"px-4","w-full","max-w-[1366px]","mx-auto","relative","flex","gap-6"],[1,"flex-1","flex","flex-col","gap-8"],[1,"flex","gap-x-[10px]"],["src","/assets/images/b2c/flight-minimum.svg"],[1,"text-heading-md","uppercase","font-bold","text-red-4"],[1,"flex","flex-col","gap-2","w-full"],[1,"bg-white","shadow-lg","rounded","py-4","px-6","flex","flex-col","gap-4"],[1,"flex","gap-2","items-center","text-neutral-gray-6","text-heading-sm","font-medium"],["icon","circle_information","size","small"],[1,"flex"],[1,"flex","flex-col","justify-between","pr-[30px]","border-r","border-dashed","border-neutral-gray-3"],[1,"text-body-md"],[1,"font-semibold","text-heading-lg"],[1,"flex","flex-col","justify-between","px-[30px]","border-r","border-dashed","border-neutral-gray-3"],[1,"flex-1","flex","flex-col","justify-between","pl-[30px]"],["class","py-1 px-2 rounded-full w-fit gap-1 h-fit flex items-center justify-center",3,"ngClass",4,"ngIf"],[1,"w-full","rounded","bg-purple-1","py-[6px]","px-3","text-neutral-gray-6"],[1,"bg-white","shadow-lg","rounded","py-4","px-6","flex","flex-col","gap-6"],[1,"flex","flex-col","gap-x-8","justify-start","gap-y-6",3,"ngModel","ngModelChange"],["size","medium",1,"config-radio",3,"value"],[1,"flex","gap-3"],["src","/assets/bank-logo/qr.svg",1,"w-10","h-10"],[1,"flex","flex-col","gap-2"],[1,"flex","gap-3","items-center","py-3"],[1,"text-white","bg-neutral-gray-4","py-[2px]","px-1","rounded","text-body-sm"],[1,"bg-neutral-gray-2","rounded","py-[6px]","px-3"],["src","/assets/bank-logo/atm.svg",1,"w-10","h-10"],[1,"text-white","bg-blue-3","py-[2px]","px-1","rounded","text-body-sm"],["src","/assets/bank-logo/visa.svg",1,"w-10","h-10"],[1,"min-w-[248px]","max-w-[302px]","w-full","mr-auto","rounded-xl"],[1,"min-w-[248px]","w-full","max-w-[302px]","flex-shrink-0","rounded-xl","shadow-lg","h-fit","md:hidden","sticky","top-0"],[1,"bg-neutral-white","rounded-xl"],[1,"flex","justify-between","items-center","py-3","px-4","border-b","border-neutral-gray-2"],[1,"text-espressive-sm","text-neutral-black"],[3,"searchInput","ticketCur","showDetail",4,"ngIf"],[1,"flex","justify-between","items-center","py-3","px-4","rounded-b-xl"],[1,"text-heading-md","text-neutral-black"],[1,"fixed","w-full","bg-white","flex","justify-between","bottom-0","left-0","right-0","py-[14px]","px-[30px]"],["cf-button","","size","medium","type","secondary",1,"whitespace-nowrap",3,"click"],["icon","close","size","small",1,"mr-2.5"],["cf-button","","size","medium","color","primary-1",1,"whitespace-nowrap","w-[200px]","md:w-full","justify-center",3,"click"],["icon","shopping_cart","size","small",1,"mr-2.5"],[1,"py-1","px-2","rounded-full","w-fit","gap-1","h-fit","flex","items-center","justify-center",3,"ngClass"],["size","small",1,"text-white",3,"icon"],[1,"text-neutral-white","text-body-sm"],[3,"searchInput","ticketCur","showDetail"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.TgZ(5,"div",5),t._uU(6,"Chi ti\u1ebft \u0111\u01a1n h\xe0ng"),t.qZA()(),t.TgZ(7,"div",6)(8,"div",7)(9,"div",8),t._UZ(10,"cf-icon",9),t._uU(11," T\u1ed5ng quan \u0111\u01a1n h\xe0ng "),t.qZA(),t.TgZ(12,"div",10)(13,"div",11)(14,"div",12),t._uU(15," M\xe3 \u0111\u01a1n h\xe0ng "),t.qZA(),t.TgZ(16,"div",13),t._uU(17," HNZFGK "),t.qZA()(),t.TgZ(18,"div",14)(19,"div",12),t._uU(20," T\u1ed5ng ti\u1ec1n (\u0111\xe3 g\u1ed3m VAT) "),t.qZA(),t.TgZ(21,"div",13),t._uU(22),t.ALo(23,"replace"),t.ALo(24,"number"),t.qZA()(),t.TgZ(25,"div",15)(26,"div",12),t._uU(27," T\xecnh tr\u1ea1ng "),t.qZA(),t.TgZ(28,"div",13),t.YNc(29,MC,4,3,"div",16),t.qZA()()(),t.TgZ(30,"div",17)(31,"div"),t._uU(32," 1. Qu\xfd kh\xe1ch vui l\xf2ng ti\u1ebfn h\xe0nh thanh to\xe1n, \u0111\u01a1n h\xe0ng s\u1ebd h\u1ebft h\u1ea1n n\u1ebfu kh\xf4ng thanh to\xe1n tr\u01b0\u1edbc th\u1eddi gian 30/08/2024. "),t.qZA(),t.TgZ(33,"div"),t._uU(34," 2. Vui l\xf2ng ki\u1ec3m tra email b\xf9i ng\u1ecdc l\xe2m \u0111\u1ec3 bi\u1ebft chi ti\u1ebft \u0111\u01a1n h\xe0ng v\xe0 h\u01b0\u1edbng d\u1eabn thanh to\xe1n "),t.qZA(),t.TgZ(35,"div"),t._uU(36," 3. Li\xean h\u1ec7 xxxxx \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 khi c\u1ea7n thi\u1ebft "),t.qZA(),t.TgZ(37,"div"),t._uU(38," 4. Ki\u1ec3m tra t\xecnh tr\u1ea1ng \u0111\u01a1n h\xe0ng t\u1ea1i BMDK "),t.qZA()()()(),t.TgZ(39,"div",6)(40,"div",18)(41,"div",8),t._UZ(42,"cf-icon",9),t._uU(43," Ch\u1ecdn ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n "),t.qZA(),t.TgZ(44,"cf-radio-group",19),t.NdJ("ngModelChange",function(c){return i.paymentMethod=c}),t.TgZ(45,"cf-radio",20)(46,"div",21),t._UZ(47,"img",22),t.TgZ(48,"div",23)(49,"div",24)(50,"div"),t._uU(51," Chuy\u1ec3n kho\u1ea3n ng\xe2n h\xe0ng (QR Code) "),t.qZA(),t.TgZ(52,"div",25),t._uU(53," Kh\xf4ng m\u1ea5t ph\xed "),t.qZA(),t.TgZ(54,"div",25),t._uU(55," Ho\xe0n ti\u1ec1n nhanh ch\xf3ng "),t.qZA()(),t.TgZ(56,"ul",26)(57,"li"),t._uU(58," H\u1ed7 tr\u1ee3 t\u1ea5t c\u1ea3 ng\xe2n h\xe0ng, v\xed \u0111i\u1ec7n t\u1eed (Momo, Zalopay, ...) "),t.qZA(),t.TgZ(59,"li"),t._uU(60," Kh\xf4ng m\u1ea5t ph\xed chuy\u1ec3n ti\u1ec1n "),t.qZA(),t.TgZ(61,"li"),t._uU(62," Ho\xe0n ti\u1ec1n nhanh ch\xf3ng (trong ng\xe0y) khi c\xf3 s\u1ef1 c\u1ed1 "),t.qZA()()()()(),t.TgZ(63,"cf-radio",20)(64,"div",21),t._UZ(65,"img",27),t.TgZ(66,"div",24)(67,"div"),t._uU(68," Th\u1ebb ATM n\u1ed9i \u0111\u1ecba "),t.qZA(),t.TgZ(69,"div",25),t._uU(70," T\u1ea5t c\u1ea3 th\u1ebb n\u1ed9i \u0111\u1ecba "),t.qZA(),t.TgZ(71,"div",28),t._uU(72," Powered by OnePay "),t.qZA()()()(),t.TgZ(73,"cf-radio",20)(74,"div",21),t._UZ(75,"img",29),t.TgZ(76,"div",24)(77,"div"),t._uU(78," Th\u1ebb Qu\u1ed1c t\u1ebf (VISA, MASTER CARD, JCB, AMEX) "),t.qZA(),t.TgZ(79,"div",25),t._uU(80," H\u1ed7 tr\u1ee3 th\u1ebb t\xedn d\u1ee5ng "),t.qZA(),t.TgZ(81,"div",28),t._uU(82," Powered by OnePay "),t.qZA()()()()()()()(),t.TgZ(83,"div",30)(84,"div",31)(85,"div",32)(86,"div",33)(87,"div",34),t._uU(88,"Chuy\u1ebfn bay c\u1ee7a b\u1ea1n"),t.qZA()(),t.TgZ(89,"div"),t.YNc(90,JC,1,2,"btc-ticket-sticky-selected",35),t.qZA(),t.TgZ(91,"div",36)(92,"div",34),t._uU(93,"T\u1ed5ng chi ph\xed:"),t.qZA(),t.TgZ(94,"div",37),t._uU(95),t.ALo(96,"replace"),t.ALo(97,"number"),t.qZA()()()()()(),t.TgZ(98,"div",38)(99,"button",39),t.NdJ("click",function(){return i.changeStep.emit(!1)}),t._UZ(100,"cf-icon",40),t._uU(101," Hu\u1ef7 "),t.qZA(),t.TgZ(102,"button",41),t.NdJ("click",function(){return i.payTicket()}),t._UZ(103,"cf-icon",42),t._uU(104," Thanh to\xe1n "),t.qZA()()()),2&e&&(t.xp6(22),t.hij(" ",t.Dn7(23,8,t.lcZ(24,12,18e5),",",".")," \u0111 "),t.xp6(7),t.Q6J("ngIf",i.configStatus.wait),t.xp6(15),t.Q6J("ngModel",i.paymentMethod),t.xp6(1),t.Q6J("value",i.PAYMENT_METHOD_OPTION.QR),t.xp6(18),t.Q6J("value",i.PAYMENT_METHOD_OPTION.ATM),t.xp6(10),t.Q6J("value",i.PAYMENT_METHOD_OPTION.VISA),t.xp6(17),t.Q6J("ngIf",i.ticketCur),t.xp6(5),t.hij(" ",t.Dn7(96,14,t.lcZ(97,18,(null==i.ticketCur?null:i.ticketCur.totalPrice)||0),",",".")," \u0111 "))},dependencies:[g.ez,g.mk,g.O5,g.JJ,Vo,it,S.N8,S.Xq,v.AxE,v.Sm8,M.T,M.o,A.u5,A.JJ,A.On],styles:[":host{display:block}.config-radio>div{display:flex;align-items:start}.config-radio>div>svg{margin-top:10px}\n"],encapsulation:2,changeDetection:0}),n})(),YC=(()=>{class n{constructor(e,i,a,c){this.route=e,this._helperSearchSvc=i,this._helperSvc=a,this._sessionStorageSvc=c,this.step=Lo.LIST,this.BTC_SEARCH_RESULT_STEP=Lo}ngOnInit(){this.route.queryParams.subscribe(e=>{this._sessionStorageSvc.btcResultData=Object.assign(Object.assign({},this._sessionStorageSvc.btcResultData),{search:this._helperSearchSvc.progressQueryToRawData(e),sessionSearchKey:"",ticketCur:this._helperSvc.initTicketCur(+e.t),dataBooking:null})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Jn.gz),t.Y36(so.J),t.Y36(ai),t.Y36(qe.x))},n.\u0275cmp=t.Xpm({type:n,selectors:[["btc-result-search"]],standalone:!0,features:[t.jDz],decls:2,vars:1,consts:[[1,"w-screen","h-screen","overflow-hidden","bg-neutral-gray-1","flex","flex-col"],[1,"grow","h-0","overflow-auto",3,"ngSwitch"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngSwitch",i.step))},dependencies:[g.ez,g.RF],styles:["[_nghost-%COMP%]{display:block}"]}),n})()},4901:Nt=>{"use strict";var L={single_source_shortest_paths:function(w,q,g){var t={},A={};A[q]=0;var S,v,M,ot,rt,it,I=L.PriorityQueue.make();for(I.push(q,0);!I.empty();)for(M in ot=(S=I.pop()).cost,rt=w[v=S.value]||{})rt.hasOwnProperty(M)&&(it=ot+rt[M],(typeof A[M]>"u"||A[M]>it)&&(A[M]=it,I.push(M,it),t[M]=v));if(typeof g<"u"&&typeof A[g]>"u"){var wt=["Could not find a path from ",q," to ",g,"."].join("");throw new Error(wt)}return t},extract_shortest_path_from_predecessor_list:function(w,q){for(var g=[],t=q;t;)g.push(t),t=w[t];return g.reverse(),g},find_path:function(w,q,g){var t=L.single_source_shortest_paths(w,q,g);return L.extract_shortest_path_from_predecessor_list(t,g)},PriorityQueue:{make:function(w){var t,q=L.PriorityQueue,g={};for(t in w=w||{},q)q.hasOwnProperty(t)&&(g[t]=q[t]);return g.queue=[],g.sorter=w.sorter||q.default_sorter,g},default_sorter:function(w,q){return w.cost-q.cost},push:function(w,q){this.queue.push({value:w,cost:q}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};Nt.exports=L},4327:function(Nt,L){var w,g;void 0!==(g="function"==typeof(w=function(){"use strict";function A(rt,et,it){var nt=new XMLHttpRequest;nt.open("GET",rt),nt.responseType="blob",nt.onload=function(){ot(nt.response,et,it)},nt.onerror=function(){console.error("could not download file")},nt.send()}function I(rt){var et=new XMLHttpRequest;et.open("HEAD",rt,!1);try{et.send()}catch{}return 200<=et.status&&299>=et.status}function S(rt){try{rt.dispatchEvent(new MouseEvent("click"))}catch{var et=document.createEvent("MouseEvents");et.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),rt.dispatchEvent(et)}}var v="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,M=v.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),ot=v.saveAs||("object"!=typeof window||window!==v?function(){}:"download"in HTMLAnchorElement.prototype&&!M?function(rt,et,it){var nt=v.URL||v.webkitURL,ut=document.createElement("a");ut.download=et=et||rt.name||"download",ut.rel="noopener","string"==typeof rt?(ut.href=rt,ut.origin===location.origin?S(ut):I(ut.href)?A(rt,et,it):S(ut,ut.target="_blank")):(ut.href=nt.createObjectURL(rt),setTimeout(function(){nt.revokeObjectURL(ut.href)},4e4),setTimeout(function(){S(ut)},0))}:"msSaveOrOpenBlob"in navigator?function(rt,et,it){if(et=et||rt.name||"download","string"!=typeof rt)navigator.msSaveOrOpenBlob(function t(rt,et){return typeof et>"u"?et={autoBom:!1}:"object"!=typeof et&&(console.warn("Deprecated: Expected third argument to be a object"),et={autoBom:!et}),et.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(rt.type)?new Blob(["\ufeff",rt],{type:rt.type}):rt}(rt,it),et);else if(I(rt))A(rt,et,it);else{var nt=document.createElement("a");nt.href=rt,nt.target="_blank",setTimeout(function(){S(nt)})}}:function(rt,et,it,nt){if((nt=nt||open("","_blank"))&&(nt.document.title=nt.document.body.innerText="downloading..."),"string"==typeof rt)return A(rt,et,it);var ut="application/octet-stream"===rt.type,wt=/constructor/i.test(v.HTMLElement)||v.safari,ee=/CriOS\/[\d]+/.test(navigator.userAgent);if((ee||ut&&wt||M)&&typeof FileReader<"u"){var Bt=new FileReader;Bt.onloadend=function(){var Et=Bt.result;Et=ee?Et:Et.replace(/^data:[^;]*;/,"data:attachment/file;"),nt?nt.location.href=Et:location=Et,nt=null},Bt.readAsDataURL(rt)}else{var Mt=v.URL||v.webkitURL,Tt=Mt.createObjectURL(rt);nt?nt.location=Tt:location.href=Tt,nt=null,setTimeout(function(){Mt.revokeObjectURL(Tt)},4e4)}});v.saveAs=ot.saveAs=ot,Nt.exports=ot})?w.apply(L,[]):w)&&(Nt.exports=g)},7489:function(Nt,L,w){var q;Nt=w.nmd(Nt),function(){var g,A=200,S="Expected a function",M="__lodash_hash_undefined__",rt="__lodash_placeholder__",et=1,it=2,nt=4,ut=1,wt=2,ee=1,Bt=2,Mt=4,Tt=8,Et=16,se=32,Ee=64,_t=128,St=256,At=512,Ft=800,kt=16,en=1/0,Zn=9007199254740991,jo=17976931348623157e292,Si=NaN,Ke=4294967295,Fi=Ke-1,Yo=Ke>>>1,oo=[["ary",_t],["bind",ee],["bindKey",Bt],["curry",Tt],["curryRight",Et],["flip",At],["partial",se],["partialRight",Ee],["rearg",St]],zn="[object Arguments]",Wn="[object Array]",Qo="[object AsyncFunction]",Me="[object Boolean]",Je="[object Date]",Xn="[object DOMException]",ti="[object Error]",Ho="[object Function]",Ds="[object GeneratorFunction]",En="[object Map]",ro="[object Number]",pu="[object Null]",nn="[object Object]",Re="[object Promise]",gu="[object Proxy]",gi="[object RegExp]",fn="[object Set]",ue="[object String]",Rt="[object Symbol]",oe="[object Undefined]",be="[object WeakMap]",b="[object ArrayBuffer]",C="[object DataView]",ea="[object Float32Array]",ws="[object Float64Array]",on="[object Int8Array]",Go="[object Int16Array]",Ko="[object Int32Array]",Pn="[object Uint8Array]",na="[object Uint8ClampedArray]",ia="[object Uint16Array]",oa="[object Uint32Array]",fu=/\b__p \+= '';/g,_u=/\b(__p \+=) '' \+/g,hu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Bs=/&(?:amp|lt|gt|quot|#39);/g,Zs=/[&<>"']/g,mu=RegExp(Bs.source),vu=RegExp(Zs.source),xu=/<%-([\s\S]+?)%>/g,yu=/<%([\s\S]+?)%>/g,Is=/<%=([\s\S]+?)%>/g,Ss=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Cu=/^\w*$/,bu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$o=/[\\^$.*+?()[\]{}|]/g,ao=RegExp($o.source),Ni=/^\s+/,so=/\s/,Tu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Eu=/\{\n\/\* \[wrapped with (.+)\] \*/,ku=/,? & /,Au=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Du=/[()=,{}\[\]\/\s]/,wu=/\\(\\)?/g,Bu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Fs=/\w*$/,Zu=/^[-+]0x[0-9a-f]+$/i,Iu=/^0b[01]+$/i,Vo=/^\[object .+?Constructor\]$/,Ns=/^0o[0-7]+$/i,Os=/^(?:0|[1-9]\d*)$/,Su=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,zo=/($^)/,co=/['\n\r\u2028\u2029\\]/g,Wo="\\ud800-\\udfff",Ps="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Rs="\\u2700-\\u27bf",Ls="a-z\\xdf-\\xf6\\xf8-\\xff",qs="A-Z\\xc0-\\xd6\\xd8-\\xde",Us="\\ufe0e\\ufe0f",Ms="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Uu="["+Wo+"]",Js="["+Ms+"]",Xo="["+Ps+"]",js="\\d+",Mu="["+Rs+"]",Ys="["+Ls+"]",re="[^"+Wo+Ms+js+Rs+Ls+qs+"]",lo="\\ud83c[\\udffb-\\udfff]",tr="[^"+Wo+"]",Oi="(?:\\ud83c[\\udde6-\\uddff]){2}",_e="[\\ud800-\\udbff][\\udc00-\\udfff]",Pi="["+qs+"]",sa="(?:"+Ys+"|"+re+")",_n="(?:"+Pi+"|"+re+")",Qs="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Hs="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Gs="(?:"+Xo+"|"+lo+")?",Ks="["+Us+"]?",Vs=Ks+Gs+"(?:\\u200d(?:"+[tr,Oi,_e].join("|")+")"+Ks+Gs+")*",ju="(?:"+[Mu,Oi,_e].join("|")+")"+Vs,zs="(?:"+[tr+Xo+"?",Xo,Oi,_e,Uu].join("|")+")",nr=RegExp("['\u2019]","g"),Yf=RegExp(Xo,"g"),Ri=RegExp(lo+"(?="+lo+")|"+zs+Vs,"g"),Ws=RegExp([Pi+"?"+Ys+"+"+Qs+"(?="+[Js,Pi,"$"].join("|")+")",_n+"+"+Hs+"(?="+[Js,Pi+sa,"$"].join("|")+")",Pi+"?"+sa+"+"+Qs,Pi+"+"+Hs,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",js,ju].join("|"),"g"),Yu=RegExp("[\\u200d"+Wo+Ps+Us+"]"),Qu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Hu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ce=-1,he={};he[ea]=he[ws]=he[on]=he[Go]=he[Ko]=he[Pn]=he[na]=he[ia]=he[oa]=!0,he[zn]=he[Wn]=he[b]=he[Me]=he[C]=he[Je]=he[ti]=he[Ho]=he[En]=he[ro]=he[nn]=he[gi]=he[fn]=he[ue]=he[be]=!1;var ne={};ne[zn]=ne[Wn]=ne[b]=ne[C]=ne[Me]=ne[Je]=ne[ea]=ne[ws]=ne[on]=ne[Go]=ne[Ko]=ne[En]=ne[ro]=ne[nn]=ne[gi]=ne[fn]=ne[ue]=ne[Rt]=ne[Pn]=ne[na]=ne[ia]=ne[oa]=!0,ne[ti]=ne[Ho]=ne[be]=!1;var tc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fi=parseFloat,Ku=parseInt,ca="object"==typeof global&&global&&global.Object===Object&&global,ec="object"==typeof self&&self&&self.Object===Object&&self,Ne=ca||ec||Function("return this")(),nc=L&&!L.nodeType&&L,uo=nc&&Nt&&!Nt.nodeType&&Nt,ic=uo&&uo.exports===nc,la=ic&&ca.process,hn=function(){try{return uo&&uo.require&&uo.require("util").types||la&&la.binding&&la.binding("util")}catch{}}(),oc=hn&&hn.isArrayBuffer,rc=hn&&hn.isDate,ua=hn&&hn.isMap,ac=hn&&hn.isRegExp,sc=hn&&hn.isSet,cc=hn&&hn.isTypedArray;function je(F,J,U){switch(U.length){case 0:return F.call(J);case 1:return F.call(J,U[0]);case 2:return F.call(J,U[0],U[1]);case 3:return F.call(J,U[0],U[1],U[2])}return F.apply(J,U)}function $u(F,J,U,gt){for(var Ut=-1,ie=null==F?0:F.length;++Ut<ie;){var fe=F[Ut];J(gt,fe,U(fe),F)}return gt}function mn(F,J){for(var U=-1,gt=null==F?0:F.length;++U<gt&&!1!==J(F[U],U,F););return F}function Vu(F,J){for(var U=null==F?0:F.length;U--&&!1!==J(F[U],U,F););return F}function lc(F,J){for(var U=-1,gt=null==F?0:F.length;++U<gt;)if(!J(F[U],U,F))return!1;return!0}function ei(F,J){for(var U=-1,gt=null==F?0:F.length,Ut=0,ie=[];++U<gt;){var fe=F[U];J(fe,U,F)&&(ie[Ut++]=fe)}return ie}function ir(F,J){return!(null==F||!F.length)&&qi(F,J,0)>-1}function da(F,J,U){for(var gt=-1,Ut=null==F?0:F.length;++gt<Ut;)if(U(J,F[gt]))return!0;return!1}function xe(F,J){for(var U=-1,gt=null==F?0:F.length,Ut=Array(gt);++U<gt;)Ut[U]=J(F[U],U,F);return Ut}function vn(F,J){for(var U=-1,gt=J.length,Ut=F.length;++U<gt;)F[Ut+U]=J[U];return F}function pa(F,J,U,gt){var Ut=-1,ie=null==F?0:F.length;for(gt&&ie&&(U=F[++Ut]);++Ut<ie;)U=J(U,F[Ut],Ut,F);return U}function zu(F,J,U,gt){var Ut=null==F?0:F.length;for(gt&&Ut&&(U=F[--Ut]);Ut--;)U=J(U,F[Ut],Ut,F);return U}function ga(F,J){for(var U=-1,gt=null==F?0:F.length;++U<gt;)if(J(F[U],U,F))return!0;return!1}var Wu=fa("length");function uc(F,J,U){var gt;return U(F,function(Ut,ie,fe){if(J(Ut,ie,fe))return gt=ie,!1}),gt}function or(F,J,U,gt){for(var Ut=F.length,ie=U+(gt?1:-1);gt?ie--:++ie<Ut;)if(J(F[ie],ie,F))return ie;return-1}function qi(F,J,U){return J==J?function ye(F,J,U){for(var gt=U-1,Ut=F.length;++gt<Ut;)if(F[gt]===J)return gt;return-1}(F,J,U):or(F,dc,U)}function po(F,J,U,gt){for(var Ut=U-1,ie=F.length;++Ut<ie;)if(gt(F[Ut],J))return Ut;return-1}function dc(F){return F!=F}function pc(F,J){var U=null==F?0:F.length;return U?ha(F,J)/U:Si}function fa(F){return function(J){return null==J?g:J[F]}}function _a(F){return function(J){return null==F?g:F[J]}}function gc(F,J,U,gt,Ut){return Ut(F,function(ie,fe,ge){U=gt?(gt=!1,ie):J(U,ie,fe,ge)}),U}function ha(F,J){for(var U,gt=-1,Ut=F.length;++gt<Ut;){var ie=J(F[gt]);ie!==g&&(U=U===g?ie:U+ie)}return U}function ma(F,J){for(var U=-1,gt=Array(F);++U<F;)gt[U]=J(U);return gt}function fc(F){return F&&F.slice(0,Ca(F)+1).replace(Ni,"")}function rn(F){return function(J){return F(J)}}function va(F,J){return xe(J,function(U){return F[U]})}function go(F,J){return F.has(J)}function _c(F,J){for(var U=-1,gt=F.length;++U<gt&&qi(J,F[U],0)>-1;);return U}function hc(F,J){for(var U=F.length;U--&&qi(J,F[U],0)>-1;);return U}var Qf=_a({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),od=_a({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Hf(F){return"\\"+tc[F]}function Ui(F){return Yu.test(F)}function xa(F){var J=-1,U=Array(F.size);return F.forEach(function(gt,Ut){U[++J]=[Ut,gt]}),U}function mc(F,J){return function(U){return F(J(U))}}function Ot(F,J){for(var U=-1,gt=F.length,Ut=0,ie=[];++U<gt;){var fe=F[U];(fe===J||fe===rt)&&(F[U]=rt,ie[Ut++]=U)}return ie}function rr(F){var J=-1,U=Array(F.size);return F.forEach(function(gt){U[++J]=gt}),U}function _i(F){return Ui(F)?function xc(F){for(var J=Ri.lastIndex=0;Ri.test(F);)++J;return J}(F):Wu(F)}function xn(F){return Ui(F)?function ba(F){return F.match(Ri)||[]}(F):function Xu(F){return F.split("")}(F)}function Ca(F){for(var J=F.length;J--&&so.test(F.charAt(J)););return J}var vc=_a({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),sr=function F(J){var r,U=(J=null==J?Ne:sr.defaults(Ne.Object(),J,sr.pick(Ne,Hu))).Array,gt=J.Date,Ut=J.Error,ie=J.Function,fe=J.Math,ge=J.Object,cr=J.RegExp,ud=J.String,$e=J.TypeError,fo=U.prototype,ni=ge.prototype,ur=J["__core-js_shared__"],dr=ie.prototype.toString,le=ni.hasOwnProperty,In=0,Mi=(r=/[^.]+$/.exec(ur&&ur.keys&&ur.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",_o=ni.toString,dd=dr.call(ge),ho=Ne._,pd=cr("^"+dr.call(le).replace($o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pr=ic?J.Buffer:g,an=J.Symbol,hi=J.Uint8Array,yc=pr?pr.allocUnsafe:g,gr=mc(ge.getPrototypeOf,ge),Cc=ge.create,bc=ni.propertyIsEnumerable,fr=fo.splice,Tc=an?an.isConcatSpreadable:g,mo=an?an.iterator:g,mi=an?an.toStringTag:g,_r=function(){try{var r=wi(ge,"defineProperty");return r({},"",{}),r}catch{}}(),gd=J.clearTimeout!==Ne.clearTimeout&&J.clearTimeout,Ta=gt&&gt.now!==Ne.Date.now&&gt.now,Ec=J.setTimeout!==Ne.setTimeout&&J.setTimeout,vi=fe.ceil,xi=fe.floor,hr=ge.getOwnPropertySymbols,kc=pr?pr.isBuffer:g,Ac=J.isFinite,Ea=fo.join,fd=mc(ge.keys,ge),De=fe.max,Le=fe.min,_d=gt.now,yi=J.parseInt,Ji=fe.random,hd=fo.reverse,vo=wi(J,"DataView"),ji=wi(J,"Map"),mr=wi(J,"Promise"),Ci=wi(J,"Set"),xo=wi(J,"WeakMap"),yo=wi(ge,"create"),sn=xo&&new xo,ii={},md=Se(vo),ka=Se(ji),Dc=Se(mr),vd=Se(Ci),xd=Se(xo),Yi=an?an.prototype:g,Co=Yi?Yi.valueOf:g,Aa=Yi?Yi.toString:g;function y(r){if(Te(r)&&!jt(r)&&!(r instanceof Xt)){if(r instanceof Ve)return r;if(le.call(r,"__wrapped__"))return ds(r)}return new Ve(r)}var Qi=function(){function r(){}return function(s){if(!Ce(s))return{};if(Cc)return Cc(s);r.prototype=s;var l=new r;return r.prototype=g,l}}();function vr(){}function Ve(r,s){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=g}function Xt(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ke,this.__views__=[]}function oi(r){var s=-1,l=null==r?0:r.length;for(this.clear();++s<l;){var p=r[s];this.set(p[0],p[1])}}function Rn(r){var s=-1,l=null==r?0:r.length;for(this.clear();++s<l;){var p=r[s];this.set(p[0],p[1])}}function Ln(r){var s=-1,l=null==r?0:r.length;for(this.clear();++s<l;){var p=r[s];this.set(p[0],p[1])}}function bi(r){var s=-1,l=null==r?0:r.length;for(this.__data__=new Ln;++s<l;)this.add(r[s])}function cn(r){var s=this.__data__=new Rn(r);this.size=s.size}function Oc(r,s){var l=jt(r),p=!l&&Zi(r),h=!l&&!p&&pi(r),T=!l&&!p&&!h&&no(r),k=l||p||h||T,B=k?ma(r.length,ud):[],O=B.length;for(var j in r)(s||le.call(r,j))&&(!k||!("length"==j||h&&("offset"==j||"parent"==j)||T&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||Yn(j,O)))&&B.push(j);return B}function Pc(r){var s=r.length;return s?r[Ja(0,s-1)]:g}function Fd(r,s){return zi(Ye(r),Ei(s,0,r.length))}function Rc(r){return zi(Ye(r))}function Ia(r,s,l){(l!==g&&!On(r[s],l)||l===g&&!(s in r))&&qn(r,s,l)}function Ti(r,s,l){var p=r[s];(!le.call(r,s)||!On(p,l)||l===g&&!(s in r))&&qn(r,s,l)}function xr(r,s){for(var l=r.length;l--;)if(On(r[l][0],s))return l;return-1}function Lc(r,s,l,p){return Sn(r,function(h,T,k){s(p,h,l(h),k)}),p}function qc(r,s){return r&&kn(s,Fe(s),r)}function qn(r,s,l){"__proto__"==s&&_r?_r(r,s,{configurable:!0,enumerable:!0,value:l,writable:!0}):r[s]=l}function yr(r,s){for(var l=-1,p=s.length,h=U(p),T=null==r;++l<p;)h[l]=T?g:Xr(r,s[l]);return h}function Ei(r,s,l){return r==r&&(l!==g&&(r=r<=l?r:l),s!==g&&(r=r>=s?r:s)),r}function ze(r,s,l,p,h,T){var k,B=s&et,O=s&it,j=s&nt;if(l&&(k=h?l(r,p,h,T):l(r)),k!==g)return k;if(!Ce(r))return r;var Y=jt(r);if(Y){if(k=function os(r){var s=r.length,l=new r.constructor(s);return s&&"string"==typeof r[0]&&le.call(r,"index")&&(l.index=r.index,l.input=r.input),l}(r),!B)return Ye(r,k)}else{var G=Ue(r),dt=G==Ho||G==Ds;if(pi(r))return Qa(r,B);if(G==nn||G==zn||dt&&!h){if(k=O||dt?{}:al(r),!B)return O?function np(r,s){return kn(r,Lr(r),s)}(r,function Nd(r,s){return r&&kn(s,Xe(s),r)}(k,r)):function ep(r,s){return kn(r,ns(r),s)}(r,qc(k,r))}else{if(!ne[G])return h?r:{};k=function sl(r,s,l){var p=r.constructor;switch(s){case b:return Bo(r);case Me:case Je:return new p(+r);case C:return function Wd(r,s){var l=s?Bo(r.buffer):r.buffer;return new r.constructor(l,r.byteOffset,r.byteLength)}(r,l);case ea:case ws:case on:case Go:case Ko:case Pn:case na:case ia:case oa:return Xd(r,l);case En:return new p;case ro:case ue:return new p(r);case gi:return function $i(r){var s=new r.constructor(r.source,Fs.exec(r));return s.lastIndex=r.lastIndex,s}(r);case fn:return new p;case Rt:return function Zo(r){return Co?ge(Co.call(r)):{}}(r)}}(r,G,B)}}T||(T=new cn);var xt=T.get(r);if(xt)return xt;T.set(r,k),Pl(r)?r.forEach(function(It){k.add(ze(It,s,l,It,r,T))}):K1(r)&&r.forEach(function(It,Wt){k.set(Wt,ze(It,s,l,Wt,r,T))});var $t=Y?g:(j?O?ts:Xa:O?Xe:Fe)(r);return mn($t||r,function(It,Wt){$t&&(It=r[Wt=It]),Ti(k,Wt,ze(It,s,l,Wt,r,T))}),k}function Cr(r,s,l){var p=l.length;if(null==r)return!p;for(r=ge(r);p--;){var h=l[p],k=r[h];if(k===g&&!(h in r)||!(0,s[h])(k))return!1}return!0}function br(r,s,l){if("function"!=typeof r)throw new $e(S);return He(function(){r.apply(g,l)},s)}function Hi(r,s,l,p){var h=-1,T=ir,k=!0,B=r.length,O=[],j=s.length;if(!B)return O;l&&(s=xe(s,rn(l))),p?(T=da,k=!1):s.length>=A&&(T=go,k=!1,s=new bi(s));t:for(;++h<B;){var Y=r[h],G=null==l?Y:l(Y);if(Y=p||0!==Y?Y:0,k&&G==G){for(var dt=j;dt--;)if(s[dt]===G)continue t;O.push(Y)}else T(s,G,p)||O.push(Y)}return O}y.templateSettings={escape:xu,evaluate:yu,interpolate:Is,variable:"",imports:{_:y}},(y.prototype=vr.prototype).constructor=y,(Ve.prototype=Qi(vr.prototype)).constructor=Ve,(Xt.prototype=Qi(vr.prototype)).constructor=Xt,oi.prototype.clear=function wc(){this.__data__=yo?yo(null):{},this.size=0},oi.prototype.delete=function Td(r){var s=this.has(r)&&delete this.__data__[r];return this.size-=s?1:0,s},oi.prototype.get=function Ed(r){var s=this.__data__;if(yo){var l=s[r];return l===M?g:l}return le.call(s,r)?s[r]:g},oi.prototype.has=function kd(r){var s=this.__data__;return yo?s[r]!==g:le.call(s,r)},oi.prototype.set=function Ad(r,s){var l=this.__data__;return this.size+=this.has(r)?0:1,l[r]=yo&&s===g?M:s,this},Rn.prototype.clear=function Bc(){this.__data__=[],this.size=0},Rn.prototype.delete=function Zc(r){var s=this.__data__,l=xr(s,r);return!(l<0||(l==s.length-1?s.pop():fr.call(s,l,1),--this.size,0))},Rn.prototype.get=function Da(r){var s=this.__data__,l=xr(s,r);return l<0?g:s[l][1]},Rn.prototype.has=function Ic(r){return xr(this.__data__,r)>-1},Rn.prototype.set=function wa(r,s){var l=this.__data__,p=xr(l,r);return p<0?(++this.size,l.push([r,s])):l[p][1]=s,this},Ln.prototype.clear=function Dd(){this.size=0,this.__data__={hash:new oi,map:new(ji||Rn),string:new oi}},Ln.prototype.delete=function wd(r){var s=Rr(this,r).delete(r);return this.size-=s?1:0,s},Ln.prototype.get=function Ba(r){return Rr(this,r).get(r)},Ln.prototype.has=function Za(r){return Rr(this,r).has(r)},Ln.prototype.set=function Bd(r,s){var l=Rr(this,r),p=l.size;return l.set(r,s),this.size+=l.size==p?0:1,this},bi.prototype.add=bi.prototype.push=function bo(r){return this.__data__.set(r,M),this},bi.prototype.has=function Sc(r){return this.__data__.has(r)},cn.prototype.clear=function Fc(){this.__data__=new Rn,this.size=0},cn.prototype.delete=function Nc(r){var s=this.__data__,l=s.delete(r);return this.size=s.size,l},cn.prototype.get=function Zd(r){return this.__data__.get(r)},cn.prototype.has=function Id(r){return this.__data__.has(r)},cn.prototype.set=function Sd(r,s){var l=this.__data__;if(l instanceof Rn){var p=l.__data__;if(!ji||p.length<A-1)return p.push([r,s]),this.size=++l.size,this;l=this.__data__=new Ln(p)}return l.set(r,s),this.size=l.size,this};var Sn=Io(Un),Gi=Io(To,!0);function Sa(r,s){var l=!0;return Sn(r,function(p,h,T){return l=!!s(p,h,T)}),l}function Tr(r,s,l){for(var p=-1,h=r.length;++p<h;){var T=r[p],k=s(T);if(null!=k&&(B===g?k==k&&!dn(k):l(k,B)))var B=k,O=T}return O}function Pd(r,s){var l=[];return Sn(r,function(p,h,T){s(p,h,T)&&l.push(p)}),l}function Ie(r,s,l,p,h){var T=-1,k=r.length;for(l||(l=Wf),h||(h=[]);++T<k;){var B=r[T];s>0&&l(B)?s>1?Ie(B,s-1,l,p,h):vn(h,B):p||(h[h.length]=B)}return h}var Uc=So(),Er=So(!0);function Un(r,s){return r&&Uc(r,s,Fe)}function To(r,s){return r&&Er(r,s,Fe)}function Na(r,s){return ei(s,function(l){return Gn(r[l])})}function Mn(r,s){for(var l=0,p=(s=jn(s,r)).length;null!=r&&l<p;)r=r[un(s[l++])];return l&&l==p?r:g}function Rd(r,s,l){var p=s(r);return jt(r)?p:vn(p,l(r))}function Oe(r){return null==r?r===g?oe:pu:mi&&mi in ge(r)?function cp(r){var s=le.call(r,mi),l=r[mi];try{r[mi]=g;var p=!0}catch{}var h=_o.call(r);return p&&(s?r[mi]=l:delete r[mi]),h}(r):function gp(r){return _o.call(r)}(r)}function vt(r,s){return r>s}function Eo(r,s){return null!=r&&le.call(r,s)}function Mc(r,s){return null!=r&&s in ge(r)}function Oa(r,s,l){for(var p=l?da:ir,h=r[0].length,T=r.length,k=T,B=U(T),O=1/0,j=[];k--;){var Y=r[k];k&&s&&(Y=xe(Y,rn(s))),O=Le(Y.length,O),B[k]=!l&&(s||h>=120&&Y.length>=120)?new bi(k&&Y):g}Y=r[0];var G=-1,dt=B[0];t:for(;++G<h&&j.length<O;){var xt=Y[G],Zt=s?s(xt):xt;if(xt=l||0!==xt?xt:0,!(dt?go(dt,Zt):p(j,Zt,l))){for(k=T;--k;){var $t=B[k];if(!($t?go($t,Zt):p(r[k],Zt,l)))continue t}dt&&dt.push(Zt),j.push(xt)}}return j}function Ki(r,s,l){var p=null==(r=ul(r,s=jn(s,r)))?r:r[un(bn(s))];return null==p?g:je(p,r,l)}function jc(r){return Te(r)&&Oe(r)==zn}function ko(r,s,l,p,h){return r===s||(null==r||null==s||!Te(r)&&!Te(s)?r!=r&&s!=s:function Yc(r,s,l,p,h,T){var k=jt(r),B=jt(s),O=k?Wn:Ue(r),j=B?Wn:Ue(s),Y=(O=O==zn?nn:O)==nn,G=(j=j==zn?nn:j)==nn,dt=O==j;if(dt&&pi(r)){if(!pi(s))return!1;k=!0,Y=!1}if(dt&&!Y)return T||(T=new cn),k||no(r)?rl(r,s,l,p,h,T):function sp(r,s,l,p,h,T,k){switch(l){case C:if(r.byteLength!=s.byteLength||r.byteOffset!=s.byteOffset)return!1;r=r.buffer,s=s.buffer;case b:return!(r.byteLength!=s.byteLength||!T(new hi(r),new hi(s)));case Me:case Je:case ro:return On(+r,+s);case ti:return r.name==s.name&&r.message==s.message;case gi:case ue:return r==s+"";case En:var B=xa;case fn:if(B||(B=rr),r.size!=s.size&&!(p&ut))return!1;var j=k.get(r);if(j)return j==s;p|=wt,k.set(r,s);var Y=rl(B(r),B(s),p,h,T,k);return k.delete(r),Y;case Rt:if(Co)return Co.call(r)==Co.call(s)}return!1}(r,s,O,l,p,h,T);if(!(l&ut)){var xt=Y&&le.call(r,"__wrapped__"),Zt=G&&le.call(s,"__wrapped__");if(xt||Zt){var $t=xt?r.value():r,It=Zt?s.value():s;return T||(T=new cn),h($t,It,l,p,T)}}return!!dt&&(T||(T=new cn),function Or(r,s,l,p,h,T){var k=l&ut,B=Xa(r),O=B.length;if(O!=Xa(s).length&&!k)return!1;for(var G=O;G--;){var dt=B[G];if(!(k?dt in s:le.call(s,dt)))return!1}var xt=T.get(r),Zt=T.get(s);if(xt&&Zt)return xt==s&&Zt==r;var $t=!0;T.set(r,s),T.set(s,r);for(var It=k;++G<O;){var Wt=r[dt=B[G]],te=s[dt];if(p)var pn=k?p(te,Wt,dt,s,r,T):p(Wt,te,dt,r,s,T);if(!(pn===g?Wt===te||h(Wt,te,l,p,T):pn)){$t=!1;break}It||(It="constructor"==dt)}if($t&&!It){var Ge=r.constructor,gn=s.constructor;Ge!=gn&&"constructor"in r&&"constructor"in s&&!("function"==typeof Ge&&Ge instanceof Ge&&"function"==typeof gn&&gn instanceof gn)&&($t=!1)}return T.delete(r),T.delete(s),$t}(r,s,l,p,h,T))}(r,s,l,p,ko,h))}function Qc(r,s,l,p){var h=l.length,T=h,k=!p;if(null==r)return!T;for(r=ge(r);h--;){var B=l[h];if(k&&B[2]?B[1]!==r[B[0]]:!(B[0]in r))return!1}for(;++h<T;){var O=(B=l[h])[0],j=r[O],Y=B[1];if(k&&B[2]){if(j===g&&!(O in r))return!1}else{var G=new cn;if(p)var dt=p(j,Y,O,r,s,G);if(!(dt===g?ko(Y,j,ut|wt,p,G):dt))return!1}}return!0}function qd(r){return!(!Ce(r)||function up(r){return!!Mi&&Mi in r}(r))&&(Gn(r)?pd:Vo).test(Se(r))}function La(r){return"function"==typeof r?r:null==r?tn:"object"==typeof r?jt(r)?Yd(r[0],r[1]):jd(r):ou(r)}function qa(r){if(!li(r))return fd(r);var s=[];for(var l in ge(r))le.call(r,l)&&"constructor"!=l&&s.push(l);return s}function Hc(r,s){return r<s}function Jd(r,s){var l=-1,p=We(r)?U(r.length):[];return Sn(r,function(h,T,k){p[++l]=s(h,T,k)}),p}function jd(r){var s=es(r);return 1==s.length&&s[0][2]?qr(s[0][0],s[0][1]):function(l){return l===r||Qc(l,r,s)}}function Yd(r,s){return rs(r)&&ll(s)?qr(un(r),s):function(l){var p=Xr(l,r);return p===g&&p===s?ys(l,r):ko(s,p,ut|wt)}}function Ua(r,s,l,p,h){r!==s&&Uc(s,function(T,k){if(h||(h=new cn),Ce(T))!function Vf(r,s,l,p,h,T,k){var B=Po(r,l),O=Po(s,l),j=k.get(O);if(j)Ia(r,l,j);else{var Y=T?T(B,O,l+"",r,s,k):g,G=Y===g;if(G){var dt=jt(O),xt=!dt&&pi(O),Zt=!dt&&!xt&&no(O);Y=O,dt||xt||Zt?jt(B)?Y=B:ke(B)?Y=Ye(B):xt?(G=!1,Y=Qa(O,!0)):Zt?(G=!1,Y=Xd(O,!0)):Y=[]:zr(O)||Zi(O)?(Y=B,Zi(B)?Y=Ml(B):(!Ce(B)||Gn(B))&&(Y=al(O))):G=!1}G&&(k.set(O,Y),h(Y,O,p,T,k),k.delete(O)),Ia(r,l,Y)}}(r,s,k,l,Ua,p,h);else{var B=p?p(Po(r,k),T,k+"",r,s,h):g;B===g&&(B=T),Ia(r,k,B)}},Xe)}function Qd(r,s){var l=r.length;if(l)return Yn(s+=s<0?l:0,l)?r[s]:g}function kr(r,s,l){s=s.length?xe(s,function(T){return jt(T)?function(k){return Mn(k,1===T.length?T[0]:T)}:T}):[tn];var p=-1;return s=xe(s,rn(Dt())),function ed(F,J){var U=F.length;for(F.sort(J);U--;)F[U]=F[U].value;return F}(Jd(r,function(T,k,B){return{criteria:xe(s,function(j){return j(T)}),index:++p,value:T}}),function(T,k){return function tp(r,s,l){for(var p=-1,h=r.criteria,T=s.criteria,k=h.length,B=l.length;++p<k;){var O=Xc(h[p],T[p]);if(O)return p>=B?O:O*("desc"==l[p]?-1:1)}return r.index-s.index}(T,k,l)})}function Jn(r,s,l){for(var p=-1,h=s.length,T={};++p<h;){var k=s[p],B=Mn(r,k);l(B,k)&&Ao(T,jn(k,r),B)}return T}function Ma(r,s,l,p){var h=p?po:qi,T=-1,k=s.length,B=r;for(r===s&&(s=Ye(s)),l&&(B=xe(r,rn(l)));++T<k;)for(var O=0,j=s[T],Y=l?l(j):j;(O=h(B,Y,O,p))>-1;)B!==r&&fr.call(B,O,1),fr.call(r,O,1);return r}function Kc(r,s){for(var l=r?s.length:0,p=l-1;l--;){var h=s[l];if(l==p||h!==T){var T=h;Yn(h)?fr.call(r,h,1):Vc(r,h)}}return r}function Ja(r,s){return r+xi(Ji()*(s-r+1))}function ja(r,s){var l="";if(!r||s<1||s>Zn)return l;do{s%2&&(l+=r),(s=xi(s/2))&&(r+=r)}while(s);return l}function Vt(r,s){return ls(zt(r,s,tn),r+"")}function Gd(r){return Pc(io(r))}function Kd(r,s){var l=io(r);return zi(l,Ei(s,0,l.length))}function Ao(r,s,l,p){if(!Ce(r))return r;for(var h=-1,T=(s=jn(s,r)).length,k=T-1,B=r;null!=B&&++h<T;){var O=un(s[h]),j=l;if("__proto__"===O||"constructor"===O||"prototype"===O)return r;if(h!=k){var Y=B[O];(j=p?p(Y,O,B):g)===g&&(j=Ce(Y)?Y:Yn(s[h+1])?[]:{})}Ti(B,O,j),B=B[O]}return r}var $c=sn?function(r,s){return sn.set(r,s),r}:tn,$d=_r?function(r,s){return _r(r,"toString",{configurable:!0,enumerable:!1,value:bs(s),writable:!0})}:tn;function Vd(r){return zi(io(r))}function yn(r,s,l){var p=-1,h=r.length;s<0&&(s=-s>h?0:h+s),(l=l>h?h:l)<0&&(l+=h),h=s>l?0:l-s>>>0,s>>>=0;for(var T=U(h);++p<h;)T[p]=r[p+s];return T}function zd(r,s){var l;return Sn(r,function(p,h,T){return!(l=s(p,h,T))}),!!l}function Ar(r,s,l){var p=0,h=null==r?p:r.length;if("number"==typeof s&&s==s&&h<=Yo){for(;p<h;){var T=p+h>>>1,k=r[T];null!==k&&!dn(k)&&(l?k<=s:k<s)?p=T+1:h=T}return h}return ki(r,s,tn,l)}function ki(r,s,l,p){var h=0,T=null==r?0:r.length;if(0===T)return 0;for(var k=(s=l(s))!=s,B=null===s,O=dn(s),j=s===g;h<T;){var Y=xi((h+T)/2),G=l(r[Y]),dt=G!==g,xt=null===G,Zt=G==G,$t=dn(G);if(k)var It=p||Zt;else It=j?Zt&&(p||dt):B?Zt&&dt&&(p||!xt):O?Zt&&dt&&!xt&&(p||!$t):!xt&&!$t&&(p?G<=s:G<s);It?h=Y+1:T=Y}return Le(T,Fi)}function Dr(r,s){for(var l=-1,p=r.length,h=0,T=[];++l<p;){var k=r[l],B=s?s(k):k;if(!l||!On(B,O)){var O=B;T[h++]=0===k?0:k}}return T}function ai(r){return"number"==typeof r?r:dn(r)?Si:+r}function qe(r){if("string"==typeof r)return r;if(jt(r))return xe(r,qe)+"";if(dn(r))return Aa?Aa.call(r):"";var s=r+"";return"0"==s&&1/r==-en?"-0":s}function si(r,s,l){var p=-1,h=ir,T=r.length,k=!0,B=[],O=B;if(l)k=!1,h=da;else if(T>=A){var j=s?null:rp(r);if(j)return rr(j);k=!1,h=go,O=new bi}else O=s?[]:B;t:for(;++p<T;){var Y=r[p],G=s?s(Y):Y;if(Y=l||0!==Y?Y:0,k&&G==G){for(var dt=O.length;dt--;)if(O[dt]===G)continue t;s&&O.push(G),B.push(Y)}else h(O,G,l)||(O!==B&&O.push(G),B.push(Y))}return B}function Vc(r,s){return null==(r=ul(r,s=jn(s,r)))||delete r[un(bn(s))]}function zc(r,s,l,p){return Ao(r,s,l(Mn(r,s)),p)}function wr(r,s,l,p){for(var h=r.length,T=p?h:-1;(p?T--:++T<h)&&s(r[T],T,r););return l?yn(r,p?0:T,p?T+1:h):yn(r,p?T+1:0,p?h:T)}function Ai(r,s){var l=r;return l instanceof Xt&&(l=l.value()),pa(s,function(p,h){return h.func.apply(h.thisArg,vn([p],h.args))},l)}function Cn(r,s,l){var p=r.length;if(p<2)return p?si(r[0]):[];for(var h=-1,T=U(p);++h<p;)for(var k=r[h],B=-1;++B<p;)B!=h&&(T[h]=Hi(T[h]||k,r[B],s,l));return si(Ie(T,1),s,l)}function Do(r,s,l){for(var p=-1,h=r.length,T=s.length,k={};++p<h;)l(k,r[p],p<T?s[p]:g);return k}function wo(r){return ke(r)?r:[]}function Br(r){return"function"==typeof r?r:tn}function jn(r,s){return jt(r)?r:rs(r,s)?[r]:Wi(ae(r))}var Wc=Vt;function Fn(r,s,l){var p=r.length;return l=l===g?p:l,!s&&l>=p?r:yn(r,s,l)}var Ya=gd||function(r){return Ne.clearTimeout(r)};function Qa(r,s){if(s)return r.slice();var l=r.length,p=yc?yc(l):new r.constructor(l);return r.copy(p),p}function Bo(r){var s=new r.constructor(r.byteLength);return new hi(s).set(new hi(r)),s}function Xd(r,s){var l=s?Bo(r.buffer):r.buffer;return new r.constructor(l,r.byteOffset,r.length)}function Xc(r,s){if(r!==s){var l=r!==g,p=null===r,h=r==r,T=dn(r),k=s!==g,B=null===s,O=s==s,j=dn(s);if(!B&&!j&&!T&&r>s||T&&k&&O&&!B&&!j||p&&k&&O||!l&&O||!h)return 1;if(!p&&!T&&!j&&r<s||j&&l&&h&&!p&&!T||B&&l&&h||!k&&h||!O)return-1}return 0}function Zr(r,s,l,p){for(var h=-1,T=r.length,k=l.length,B=-1,O=s.length,j=De(T-k,0),Y=U(O+j),G=!p;++B<O;)Y[B]=s[B];for(;++h<k;)(G||h<T)&&(Y[l[h]]=r[h]);for(;j--;)Y[B++]=r[h++];return Y}function tl(r,s,l,p){for(var h=-1,T=r.length,k=-1,B=l.length,O=-1,j=s.length,Y=De(T-B,0),G=U(Y+j),dt=!p;++h<Y;)G[h]=r[h];for(var xt=h;++O<j;)G[xt+O]=s[O];for(;++k<B;)(dt||h<T)&&(G[xt+l[k]]=r[h++]);return G}function Ye(r,s){var l=-1,p=r.length;for(s||(s=U(p));++l<p;)s[l]=r[l];return s}function kn(r,s,l,p){var h=!l;l||(l={});for(var T=-1,k=s.length;++T<k;){var B=s[T],O=p?p(l[B],r[B],B,l,r):g;O===g&&(O=r[B]),h?qn(l,B,O):Ti(l,B,O)}return l}function Ir(r,s){return function(l,p){var h=jt(l)?$u:Lc,T=s?s():{};return h(l,r,Dt(p,2),T)}}function ci(r){return Vt(function(s,l){var p=-1,h=l.length,T=h>1?l[h-1]:g,k=h>2?l[2]:g;for(T=r.length>3&&"function"==typeof T?(h--,T):g,k&&Qe(l[0],l[1],k)&&(T=h<3?g:T,h=1),s=ge(s);++p<h;){var B=l[p];B&&r(s,B,p,T)}return s})}function Io(r,s){return function(l,p){if(null==l)return l;if(!We(l))return r(l,p);for(var h=l.length,T=s?h:-1,k=ge(l);(s?T--:++T<h)&&!1!==p(k[T],T,k););return l}}function So(r){return function(s,l,p){for(var h=-1,T=ge(s),k=p(s),B=k.length;B--;){var O=k[r?B:++h];if(!1===l(T[O],O,T))break}return s}}function Ha(r){return function(s){var l=Ui(s=ae(s))?xn(s):g,p=l?l[0]:s.charAt(0),h=l?Fn(l,1).join(""):s.slice(1);return p[r]()+h}}function me(r){return function(s){return pa(tu(Wl(s).replace(nr,"")),r,"")}}function Fo(r){return function(){var s=arguments;switch(s.length){case 0:return new r;case 1:return new r(s[0]);case 2:return new r(s[0],s[1]);case 3:return new r(s[0],s[1],s[2]);case 4:return new r(s[0],s[1],s[2],s[3]);case 5:return new r(s[0],s[1],s[2],s[3],s[4]);case 6:return new r(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new r(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var l=Qi(r.prototype),p=r.apply(l,s);return Ce(p)?p:l}}function ln(r){return function(s,l,p){var h=ge(s);if(!We(s)){var T=Dt(l,3);s=Fe(s),l=function(B){return T(h[B],B,h)}}var k=r(s,l,p);return k>-1?h[T?s[k]:k]:g}}function el(r){return Nn(function(s){var l=s.length,p=l,h=Ve.prototype.thru;for(r&&s.reverse();p--;){var T=s[p];if("function"!=typeof T)throw new $e(S);if(h&&!k&&"wrapper"==No(T))var k=new Ve([],!0)}for(p=k?p:l;++p<l;){var B=No(T=s[p]),O="wrapper"==B?Pr(T):g;k=O&&as(O[0])&&O[1]==(_t|Tt|se|St)&&!O[4].length&&1==O[9]?k[No(O[0])].apply(k,O[3]):1==T.length&&as(T)?k[B]():k.thru(T)}return function(){var j=arguments,Y=j[0];if(k&&1==j.length&&jt(Y))return k.plant(Y).value();for(var G=0,dt=l?s[G].apply(this,j):Y;++G<l;)dt=s[G].call(this,dt);return dt}})}function Ga(r,s,l,p,h,T,k,B,O,j){var Y=s&_t,G=s&ee,dt=s&Bt,xt=s&(Tt|Et),Zt=s&At,$t=dt?g:Fo(r);return function It(){for(var Wt=arguments.length,te=U(Wt),pn=Wt;pn--;)te[pn]=arguments[pn];if(xt)var Ge=Vi(It),gn=function id(F,J){for(var U=F.length,gt=0;U--;)F[U]===J&&++gt;return gt}(te,Ge);if(p&&(te=Zr(te,p,h,xt)),T&&(te=tl(te,T,k,xt)),Wt-=gn,xt&&Wt<j){var Ae=Ot(te,Ge);return Va(r,s,Ga,It.placeholder,l,te,Ae,B,O,j-Wt)}var wn=G?l:this,$n=dt?wn[r]:r;return Wt=te.length,B?te=function dl(r,s){for(var l=r.length,p=Le(s.length,l),h=Ye(r);p--;){var T=s[p];r[p]=Yn(T,l)?h[T]:g}return r}(te,B):Zt&&Wt>1&&te.reverse(),Y&&O<Wt&&(te.length=O),this&&this!==Ne&&this instanceof It&&($n=$t||Fo($n)),$n.apply(wn,te)}}function Ka(r,s){return function(l,p){return function Ld(r,s,l,p){return Un(r,function(h,T,k){s(p,l(h),T,k)}),p}(l,r,s(p),{})}}function Fr(r,s){return function(l,p){var h;if(l===g&&p===g)return s;if(l!==g&&(h=l),p!==g){if(h===g)return p;"string"==typeof l||"string"==typeof p?(l=qe(l),p=qe(p)):(l=ai(l),p=ai(p)),h=r(l,p)}return h}}function $a(r){return Nn(function(s){return s=xe(s,rn(Dt())),Vt(function(l){var p=this;return r(s,function(h){return je(h,p,l)})})})}function Di(r,s){var l=(s=s===g?" ":qe(s)).length;if(l<2)return l?ja(s,r):s;var p=ja(s,vi(r/_i(s)));return Ui(s)?Fn(xn(p),0,r).join(""):p.slice(0,r)}function nl(r){return function(s,l,p){return p&&"number"!=typeof p&&Qe(s,l,p)&&(l=p=g),s=Kn(s),l===g?(l=s,s=0):l=Kn(l),function Hd(r,s,l,p){for(var h=-1,T=De(vi((s-r)/(l||1)),0),k=U(T);T--;)k[p?T:++h]=r,r+=l;return k}(s,l,p=p===g?s<l?1:-1:Kn(p),r)}}function Nr(r){return function(s,l){return"string"==typeof s&&"string"==typeof l||(s=Tn(s),l=Tn(l)),r(s,l)}}function Va(r,s,l,p,h,T,k,B,O,j){var Y=s&Tt;s|=Y?se:Ee,(s&=~(Y?Ee:se))&Mt||(s&=~(ee|Bt));var $t=[r,s,h,Y?T:g,Y?k:g,Y?g:T,Y?g:k,B,O,j],It=l.apply(g,$t);return as(r)&&pl(It,$t),It.placeholder=p,us(It,r,s)}function za(r){var s=fe[r];return function(l,p){if(l=Tn(l),(p=null==p?0:Le(Gt(p),292))&&Ac(l)){var h=(ae(l)+"e").split("e");return+((h=(ae(s(h[0]+"e"+(+h[1]+p)))+"e").split("e"))[0]+"e"+(+h[1]-p))}return s(l)}}var rp=Ci&&1/rr(new Ci([,-0]))[1]==en?function(r){return new Ci(r)}:Jo;function il(r){return function(s){var l=Ue(s);return l==En?xa(s):l==fn?function ar(F){var J=-1,U=Array(F.size);return F.forEach(function(gt){U[++J]=[gt,gt]}),U}(s):function nd(F,J){return xe(J,function(U){return[U,F[U]]})}(s,r(s))}}function An(r,s,l,p,h,T,k,B){var O=s&Bt;if(!O&&"function"!=typeof r)throw new $e(S);var j=p?p.length:0;if(j||(s&=~(se|Ee),p=h=g),k=k===g?k:De(Gt(k),0),B=B===g?B:Gt(B),j-=h?h.length:0,s&Ee){var Y=p,G=h;p=h=g}var dt=O?g:Pr(r),xt=[r,s,l,p,h,Y,G,T,k,B];if(dt&&function cs(r,s){var l=r[1],p=s[1],h=l|p;if(!(h<(ee|Bt|_t))&&!(p==_t&&l==Tt||p==_t&&l==St&&r[7].length<=s[8]||p==(_t|St)&&s[7].length<=s[8]&&l==Tt))return r;p&ee&&(r[2]=s[2],h|=l&ee?0:Mt);var B=s[3];if(B){var O=r[3];r[3]=O?Zr(O,B,s[4]):B,r[4]=O?Ot(r[3],rt):s[4]}(B=s[5])&&(r[5]=(O=r[5])?tl(O,B,s[6]):B,r[6]=O?Ot(r[5],rt):s[6]),(B=s[7])&&(r[7]=B),p&_t&&(r[8]=null==r[8]?s[8]:Le(r[8],s[8])),null==r[9]&&(r[9]=s[9]),r[0]=s[0],r[1]=h}(xt,dt),r=xt[0],s=xt[1],l=xt[2],p=xt[3],h=xt[4],!(B=xt[9]=xt[9]===g?O?0:r.length:De(xt[9]-j,0))&&s&(Tt|Et)&&(s&=~(Tt|Et)),s&&s!=ee)Zt=s==Tt||s==Et?function Sr(r,s,l){var p=Fo(r);return function h(){for(var T=arguments.length,k=U(T),B=T,O=Vi(h);B--;)k[B]=arguments[B];var j=T<3&&k[0]!==O&&k[T-1]!==O?[]:Ot(k,O);return(T-=j.length)<l?Va(r,s,Ga,h.placeholder,g,k,j,g,g,l-T):je(this&&this!==Ne&&this instanceof h?p:r,this,k)}}(r,s,B):s!=se&&s!=(ee|se)||h.length?Ga.apply(g,xt):function op(r,s,l,p){var h=s&ee,T=Fo(r);return function k(){for(var B=-1,O=arguments.length,j=-1,Y=p.length,G=U(Y+O),dt=this&&this!==Ne&&this instanceof k?T:r;++j<Y;)G[j]=p[j];for(;O--;)G[j++]=arguments[++B];return je(dt,h?l:this,G)}}(r,s,l,p);else var Zt=function ip(r,s,l){var p=s&ee,h=Fo(r);return function T(){return(this&&this!==Ne&&this instanceof T?h:r).apply(p?l:this,arguments)}}(r,s,l);return us((dt?$c:pl)(Zt,xt),r,s)}function ol(r,s,l,p){return r===g||On(r,ni[l])&&!le.call(p,l)?s:r}function Wa(r,s,l,p,h,T){return Ce(r)&&Ce(s)&&(T.set(s,r),Ua(r,s,g,Wa,T),T.delete(s)),r}function ap(r){return zr(r)?g:r}function rl(r,s,l,p,h,T){var k=l&ut,B=r.length,O=s.length;if(B!=O&&!(k&&O>B))return!1;var j=T.get(r),Y=T.get(s);if(j&&Y)return j==s&&Y==r;var G=-1,dt=!0,xt=l&wt?new bi:g;for(T.set(r,s),T.set(s,r);++G<B;){var Zt=r[G],$t=s[G];if(p)var It=k?p($t,Zt,G,s,r,T):p(Zt,$t,G,r,s,T);if(It!==g){if(It)continue;dt=!1;break}if(xt){if(!ga(s,function(Wt,te){if(!go(xt,te)&&(Zt===Wt||h(Zt,Wt,l,p,T)))return xt.push(te)})){dt=!1;break}}else if(Zt!==$t&&!h(Zt,$t,l,p,T)){dt=!1;break}}return T.delete(r),T.delete(s),dt}function Nn(r){return ls(zt(r,g,Jr),r+"")}function Xa(r){return Rd(r,Fe,ns)}function ts(r){return Rd(r,Xe,Lr)}var Pr=sn?function(r){return sn.get(r)}:Jo;function No(r){for(var s=r.name+"",l=ii[s],p=le.call(ii,s)?l.length:0;p--;){var h=l[p],T=h.func;if(null==T||T==r)return h.name}return s}function Vi(r){return(le.call(y,"placeholder")?y:r).placeholder}function Dt(){var r=y.iteratee||Ts;return r=r===Ts?La:r,arguments.length?r(arguments[0],arguments[1]):r}function Rr(r,s){var l=r.__data__;return function cl(r){var s=typeof r;return"string"==s||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==r:null===r}(s)?l["string"==typeof s?"string":"hash"]:l.map}function es(r){for(var s=Fe(r),l=s.length;l--;){var p=s[l],h=r[p];s[l]=[p,h,ll(h)]}return s}function wi(r,s){var l=function rd(F,J){return null==F?g:F[J]}(r,s);return qd(l)?l:g}var ns=hr?function(r){return null==r?[]:(r=ge(r),ei(hr(r),function(s){return bc.call(r,s)}))}:ks,Lr=hr?function(r){for(var s=[];r;)vn(s,ns(r)),r=gr(r);return s}:ks,Ue=Oe;function Oo(r,s,l){for(var p=-1,h=(s=jn(s,r)).length,T=!1;++p<h;){var k=un(s[p]);if(!(T=null!=r&&l(r,k)))break;r=r[k]}return T||++p!=h?T:!!(h=null==r?0:r.length)&&$r(h)&&Yn(k,h)&&(jt(r)||Zi(r))}function al(r){return"function"!=typeof r.constructor||li(r)?{}:Qi(gr(r))}function Wf(r){return jt(r)||Zi(r)||!!(Tc&&r&&r[Tc])}function Yn(r,s){var l=typeof r;return!!(s=null==s?Zn:s)&&("number"==l||"symbol"!=l&&Os.test(r))&&r>-1&&r%1==0&&r<s}function Qe(r,s,l){if(!Ce(l))return!1;var p=typeof s;return!!("number"==p?We(l)&&Yn(s,l.length):"string"==p&&s in l)&&On(l[s],r)}function rs(r,s){if(jt(r))return!1;var l=typeof r;return!("number"!=l&&"symbol"!=l&&"boolean"!=l&&null!=r&&!dn(r))||Cu.test(r)||!Ss.test(r)||null!=s&&r in ge(s)}function as(r){var s=No(r),l=y[s];if("function"!=typeof l||!(s in Xt.prototype))return!1;if(r===l)return!0;var p=Pr(l);return!!p&&r===p[0]}(vo&&Ue(new vo(new ArrayBuffer(1)))!=C||ji&&Ue(new ji)!=En||mr&&Ue(mr.resolve())!=Re||Ci&&Ue(new Ci)!=fn||xo&&Ue(new xo)!=be)&&(Ue=function(r){var s=Oe(r),l=s==nn?r.constructor:g,p=l?Se(l):"";if(p)switch(p){case md:return C;case ka:return En;case Dc:return Re;case vd:return fn;case xd:return be}return s});var ss=ur?Gn:As;function li(r){var s=r&&r.constructor;return r===("function"==typeof s&&s.prototype||ni)}function ll(r){return r==r&&!Ce(r)}function qr(r,s){return function(l){return null!=l&&l[r]===s&&(s!==g||r in ge(l))}}function zt(r,s,l){return s=De(s===g?r.length-1:s,0),function(){for(var p=arguments,h=-1,T=De(p.length-s,0),k=U(T);++h<T;)k[h]=p[s+h];h=-1;for(var B=U(s+1);++h<s;)B[h]=p[h];return B[s]=l(k),je(r,this,B)}}function ul(r,s){return s.length<2?r:Mn(r,yn(s,0,-1))}function Po(r,s){if(("constructor"!==s||"function"!=typeof r[s])&&"__proto__"!=s)return r[s]}var pl=Bi($c),He=Ec||function(r,s){return Ne.setTimeout(r,s)},ls=Bi($d);function us(r,s,l){var p=s+"";return ls(r,function zf(r,s){var l=s.length;if(!l)return r;var p=l-1;return s[p]=(l>1?"& ":"")+s[p],s=s.join(l>2?", ":" "),r.replace(Tu,"{\n/* [wrapped with "+s+"] */\n")}(p,function fp(r,s){return mn(oo,function(l){var p="_."+l[0];s&l[1]&&!ir(r,p)&&r.push(p)}),r.sort()}(function is(r){var s=r.match(Eu);return s?s[1].split(ku):[]}(p),l)))}function Bi(r){var s=0,l=0;return function(){var p=_d(),h=kt-(p-l);if(l=p,h>0){if(++s>=Ft)return arguments[0]}else s=0;return r.apply(g,arguments)}}function zi(r,s){var l=-1,p=r.length,h=p-1;for(s=s===g?p:s;++l<s;){var T=Ja(l,h),k=r[T];r[T]=r[l],r[l]=k}return r.length=s,r}var Wi=function dp(r){var s=Ro(r,function(p){return 500===l.size&&l.clear(),p}),l=s.cache;return s}(function(r){var s=[];return 46===r.charCodeAt(0)&&s.push(""),r.replace(bu,function(l,p,h,T){s.push(h?T.replace(wu,"$1"):p||l)}),s});function un(r){if("string"==typeof r||dn(r))return r;var s=r+"";return"0"==s&&1/r==-en?"-0":s}function Se(r){if(null!=r){try{return dr.call(r)}catch{}try{return r+""}catch{}}return""}function ds(r){if(r instanceof Xt)return r.clone();var s=new Ve(r.__wrapped__,r.__chain__);return s.__actions__=Ye(r.__actions__),s.__index__=r.__index__,s.__values__=r.__values__,s}var Pe=Vt(function(r,s){return ke(r)?Hi(r,Ie(s,1,ke,!0)):[]}),ps=Vt(function(r,s){var l=bn(s);return ke(l)&&(l=g),ke(r)?Hi(r,Ie(s,1,ke,!0),Dt(l,2)):[]}),gl=Vt(function(r,s){var l=bn(s);return ke(l)&&(l=g),ke(r)?Hi(r,Ie(s,1,ke,!0),g,l):[]});function hl(r,s,l){var p=null==r?0:r.length;if(!p)return-1;var h=null==l?0:Gt(l);return h<0&&(h=De(p+h,0)),or(r,Dt(s,3),h)}function Mr(r,s,l){var p=null==r?0:r.length;if(!p)return-1;var h=p-1;return l!==g&&(h=Gt(l),h=l<0?De(p+h,0):Le(h,p-1)),or(r,Dt(s,3),h,!0)}function Jr(r){return null!=r&&r.length?Ie(r,1):[]}function ml(r){return r&&r.length?r[0]:g}var Tp=Vt(function(r){var s=xe(r,wo);return s.length&&s[0]===r[0]?Oa(s):[]}),Ep=Vt(function(r){var s=bn(r),l=xe(r,wo);return s===bn(l)?s=g:l.pop(),l.length&&l[0]===r[0]?Oa(l,Dt(s,2)):[]}),kp=Vt(function(r){var s=bn(r),l=xe(r,wo);return(s="function"==typeof s?s:g)&&l.pop(),l.length&&l[0]===r[0]?Oa(l,g,s):[]});function bn(r){var s=null==r?0:r.length;return s?r[s-1]:g}var Bp=Vt(vl);function vl(r,s){return r&&r.length&&s&&s.length?Ma(r,s):r}var Sp=Nn(function(r,s){var l=null==r?0:r.length,p=yr(r,s);return Kc(r,xe(s,function(h){return Yn(h,l)?+h:h}).sort(Xc)),p});function gs(r){return null==r?r:hd.call(r)}var Gp=Vt(function(r){return si(Ie(r,1,ke,!0))}),Kp=Vt(function(r){var s=bn(r);return ke(s)&&(s=g),si(Ie(r,1,ke,!0),Dt(s,2))}),$p=Vt(function(r){var s=bn(r);return s="function"==typeof s?s:g,si(Ie(r,1,ke,!0),g,s)});function fs(r){if(!r||!r.length)return[];var s=0;return r=ei(r,function(l){if(ke(l))return s=De(l.length,s),!0}),ma(s,function(l){return xe(r,fa(l))})}function yl(r,s){if(!r||!r.length)return[];var l=fs(r);return null==s?l:xe(l,function(p){return je(s,g,p)})}var Xp=Vt(function(r,s){return ke(r)?Hi(r,s):[]}),t1=Vt(function(r){return Cn(ei(r,ke))}),e1=Vt(function(r){var s=bn(r);return ke(s)&&(s=g),Cn(ei(r,ke),Dt(s,2))}),n1=Vt(function(r){var s=bn(r);return s="function"==typeof s?s:g,Cn(ei(r,ke),g,s)}),i1=Vt(fs),a1=Vt(function(r){var s=r.length,l=s>1?r[s-1]:g;return l="function"==typeof l?(r.pop(),l):g,yl(r,l)});function Cl(r){var s=y(r);return s.__chain__=!0,s}function jr(r,s){return s(r)}var c1=Nn(function(r){var s=r.length,l=s?r[0]:0,p=this.__wrapped__,h=function(T){return yr(T,r)};return!(s>1||this.__actions__.length)&&p instanceof Xt&&Yn(l)?((p=p.slice(l,+l+(s?1:0))).__actions__.push({func:jr,args:[h],thisArg:g}),new Ve(p,this.__chain__).thru(function(T){return s&&!T.length&&T.push(g),T})):this.thru(h)}),h1=Ir(function(r,s,l){le.call(r,l)?++r[l]:qn(r,l,1)}),x1=ln(hl),y1=ln(Mr);function ui(r,s){return(jt(r)?mn:Sn)(r,Dt(s,3))}function bl(r,s){return(jt(r)?Vu:Gi)(r,Dt(s,3))}var Lt=Ir(function(r,s,l){le.call(r,l)?r[l].push(s):qn(r,l,[s])}),Qn=Vt(function(r,s,l){var p=-1,h="function"==typeof s,T=We(r)?U(r.length):[];return Sn(r,function(k){T[++p]=h?je(s,k,l):Ki(k,s,l)}),T}),Yr=Ir(function(r,s,l){qn(r,l,s)});function Xi(r,s){return(jt(r)?xe:Jd)(r,Dt(s,3))}var Tl=Ir(function(r,s,l){r[l?0:1].push(s)},function(){return[[],[]]}),Al=Vt(function(r,s){if(null==r)return[];var l=s.length;return l>1&&Qe(r,s[0],s[1])?s=[]:l>2&&Qe(s[0],s[1],s[2])&&(s=[s[0]]),kr(r,Ie(s,1),[])}),Qr=Ta||function(){return Ne.Date.now()};function I1(r,s,l){return s=l?g:s,An(r,_t,g,g,g,g,s=r&&null==s?r.length:s)}function Dl(r,s){var l;if("function"!=typeof s)throw new $e(S);return r=Gt(r),function(){return--r>0&&(l=s.apply(this,arguments)),r<=1&&(s=g),l}}var Hr=Vt(function(r,s,l){var p=ee;if(l.length){var h=Ot(l,Vi(Hr));p|=se}return An(r,p,s,l,h)}),hs=Vt(function(r,s,l){var p=ee|Bt;if(l.length){var h=Ot(l,Vi(hs));p|=se}return An(s,p,r,l,h)});function to(r,s,l){var p,h,T,k,B,O,j=0,Y=!1,G=!1,dt=!0;if("function"!=typeof r)throw new $e(S);function xt(Ae){var wn=p,$n=h;return p=h=g,j=Ae,k=r.apply($n,wn)}function It(Ae){var wn=Ae-O;return O===g||wn>=s||wn<0||G&&Ae-j>=T}function Wt(){var Ae=Qr();if(It(Ae))return te(Ae);B=He(Wt,function $t(Ae){var au=s-(Ae-O);return G?Le(au,T-(Ae-j)):au}(Ae))}function te(Ae){return B=g,dt&&p?xt(Ae):(p=h=g,k)}function gn(){var Ae=Qr(),wn=It(Ae);if(p=arguments,h=this,O=Ae,wn){if(B===g)return function Zt(Ae){return j=Ae,B=He(Wt,s),Y?xt(Ae):k}(O);if(G)return Ya(B),B=He(Wt,s),xt(O)}return B===g&&(B=He(Wt,s)),k}return s=Tn(s)||0,Ce(l)&&(Y=!!l.leading,T=(G="maxWait"in l)?De(Tn(l.maxWait)||0,s):T,dt="trailing"in l?!!l.trailing:dt),gn.cancel=function pn(){B!==g&&Ya(B),j=0,p=O=h=B=g},gn.flush=function Ge(){return B===g?k:te(Qr())},gn}var Zl=Vt(function(r,s){return br(r,1,s)}),S1=Vt(function(r,s,l){return br(r,Tn(s)||0,l)});function Ro(r,s){if("function"!=typeof r||null!=s&&"function"!=typeof s)throw new $e(S);var l=function(){var p=arguments,h=s?s.apply(this,p):p[0],T=l.cache;if(T.has(h))return T.get(h);var k=r.apply(this,p);return l.cache=T.set(h,k)||T,k};return l.cache=new(Ro.Cache||Ln),l}function Gr(r){if("function"!=typeof r)throw new $e(S);return function(){var s=arguments;switch(s.length){case 0:return!r.call(this);case 1:return!r.call(this,s[0]);case 2:return!r.call(this,s[0],s[1]);case 3:return!r.call(this,s[0],s[1],s[2])}return!r.apply(this,s)}}Ro.Cache=Ln;var N1=Wc(function(r,s){var l=(s=1==s.length&&jt(s[0])?xe(s[0],rn(Dt())):xe(Ie(s,1),rn(Dt()))).length;return Vt(function(p){for(var h=-1,T=Le(p.length,l);++h<T;)p[h]=s[h].call(this,p[h]);return je(r,this,p)})}),Kr=Vt(function(r,s){var l=Ot(s,Vi(Kr));return An(r,se,g,s,l)}),Qt=Vt(function(r,s){var l=Ot(s,Vi(Qt));return An(r,Ee,g,s,l)}),O1=Nn(function(r,s){return An(r,St,g,g,g,s)});function On(r,s){return r===s||r!=r&&s!=s}var e0=Nr(vt),Hn=Nr(function(r,s){return r>=s}),Zi=jc(function(){return arguments}())?jc:function(r){return Te(r)&&le.call(r,"callee")&&!bc.call(r,"callee")},jt=U.isArray,Ii=oc?rn(oc):function Pa(r){return Te(r)&&Oe(r)==b};function We(r){return null!=r&&$r(r.length)&&!Gn(r)}function ke(r){return Te(r)&&We(r)}var pi=kc||As,Y1=rc?rn(rc):function Ra(r){return Te(r)&&Oe(r)==Je};function ms(r){if(!Te(r))return!1;var s=Oe(r);return s==ti||s==Xn||"string"==typeof r.message&&"string"==typeof r.name&&!zr(r)}function Gn(r){if(!Ce(r))return!1;var s=Oe(r);return s==Ho||s==Ds||s==Qo||s==gu}function Nl(r){return"number"==typeof r&&r==Gt(r)}function $r(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=Zn}function Ce(r){var s=typeof r;return null!=r&&("object"==s||"function"==s)}function Te(r){return null!=r&&"object"==typeof r}var K1=ua?rn(ua):function Gf(r){return Te(r)&&Ue(r)==En};function W1(r){return"number"==typeof r||Te(r)&&Oe(r)==ro}function zr(r){if(!Te(r)||Oe(r)!=nn)return!1;var s=gr(r);if(null===s)return!0;var l=le.call(s,"constructor")&&s.constructor;return"function"==typeof l&&l instanceof l&&dr.call(l)==dd}var vs=ac?rn(ac):function Ud(r){return Te(r)&&Oe(r)==gi},Pl=sc?rn(sc):function Kf(r){return Te(r)&&Ue(r)==fn};function Wr(r){return"string"==typeof r||!jt(r)&&Te(r)&&Oe(r)==ue}function dn(r){return"symbol"==typeof r||Te(r)&&Oe(r)==Rt}var no=cc?rn(cc):function Md(r){return Te(r)&&$r(r.length)&&!!he[Oe(r)]},Rl=Nr(Hc),Ll=Nr(function(r,s){return r<=s});function ql(r){if(!r)return[];if(We(r))return Wr(r)?xn(r):Ye(r);if(mo&&r[mo])return function sd(F){for(var J,U=[];!(J=F.next()).done;)U.push(J.value);return U}(r[mo]());var s=Ue(r);return(s==En?xa:s==fn?rr:io)(r)}function Kn(r){return r?(r=Tn(r))===en||r===-en?(r<0?-1:1)*jo:r==r?r:0:0===r?r:0}function Gt(r){var s=Kn(r),l=s%1;return s==s?l?s-l:s:0}function Ul(r){return r?Ei(Gt(r),0,Ke):0}function Tn(r){if("number"==typeof r)return r;if(dn(r))return Si;if(Ce(r)){var s="function"==typeof r.valueOf?r.valueOf():r;r=Ce(s)?s+"":s}if("string"!=typeof r)return 0===r?r:+r;r=fc(r);var l=Iu.test(r);return l||Ns.test(r)?Ku(r.slice(2),l?2:8):Zu.test(r)?Si:+r}function Ml(r){return kn(r,Xe(r))}function ae(r){return null==r?"":qe(r)}var og=ci(function(r,s){if(li(s)||We(s))kn(s,Fe(s),r);else for(var l in s)le.call(s,l)&&Ti(r,l,s[l])}),Jl=ci(function(r,s){kn(s,Xe(s),r)}),Mo=ci(function(r,s,l,p){kn(s,Xe(s),r,p)}),xs=ci(function(r,s,l,p){kn(s,Fe(s),r,p)}),jl=Nn(yr),rg=Vt(function(r,s){r=ge(r);var l=-1,p=s.length,h=p>2?s[2]:g;for(h&&Qe(s[0],s[1],h)&&(p=1);++l<p;)for(var T=s[l],k=Xe(T),B=-1,O=k.length;++B<O;){var j=k[B],Y=r[j];(Y===g||On(Y,ni[j])&&!le.call(r,j))&&(r[j]=T[j])}return r}),ag=Vt(function(r){return r.push(g,Wa),je(Gl,g,r)});function Xr(r,s,l){var p=null==r?g:Mn(r,s);return p===g?l:p}function ys(r,s){return null!=r&&Oo(r,s,Mc)}var fg=Ka(function(r,s,l){null!=s&&"function"!=typeof s.toString&&(s=_o.call(s)),r[s]=l},bs(tn)),_g=Ka(function(r,s,l){null!=s&&"function"!=typeof s.toString&&(s=_o.call(s)),le.call(r,s)?r[s].push(l):r[s]=[l]},Dt),hg=Vt(Ki);function Fe(r){return We(r)?Oc(r):qa(r)}function Xe(r){return We(r)?Oc(r,!0):function $f(r){if(!Ce(r))return function pp(r){var s=[];if(null!=r)for(var l in ge(r))s.push(l);return s}(r);var s=li(r),l=[];for(var p in r)"constructor"==p&&(s||!le.call(r,p))||l.push(p);return l}(r)}var xg=ci(function(r,s,l){Ua(r,s,l)}),Gl=ci(function(r,s,l,p){Ua(r,s,l,p)}),yg=Nn(function(r,s){var l={};if(null==r)return l;var p=!1;s=xe(s,function(T){return T=jn(T,r),p||(p=T.length>1),T}),kn(r,ts(r),l),p&&(l=ze(l,et|it|nt,ap));for(var h=s.length;h--;)Vc(l,s[h]);return l}),bg=Nn(function(r,s){return null==r?{}:function Gc(r,s){return Jn(r,s,function(l,p){return ys(r,p)})}(r,s)});function Kl(r,s){if(null==r)return{};var l=xe(ts(r),function(p){return[p]});return s=Dt(s),Jn(r,l,function(p,h){return s(p,h[0])})}var $l=il(Fe),Vl=il(Xe);function io(r){return null==r?[]:va(r,Fe(r))}var Ng=me(function(r,s,l){return s=s.toLowerCase(),r+(l?zl(s):s)});function zl(r){return Cs(ae(r).toLowerCase())}function Wl(r){return(r=ae(r))&&r.replace(Su,Qf).replace(Yf,"")}var Rg=me(function(r,s,l){return r+(l?"-":"")+s.toLowerCase()}),Lg=me(function(r,s,l){return r+(l?" ":"")+s.toLowerCase()}),qg=Ha("toLowerCase"),Hg=me(function(r,s,l){return r+(l?"_":"")+s.toLowerCase()}),Kg=me(function(r,s,l){return r+(l?" ":"")+Cs(s)}),of=me(function(r,s,l){return r+(l?" ":"")+s.toUpperCase()}),Cs=Ha("toUpperCase");function tu(r,s,l){return r=ae(r),(s=l?g:s)===g?function ad(F){return Qu.test(F)}(r)?function cd(F){return F.match(Ws)||[]}(r):function td(F){return F.match(Au)||[]}(r):r.match(s)||[]}var eu=Vt(function(r,s){try{return je(r,g,s)}catch(l){return ms(l)?l:new Ut(l)}}),rf=Nn(function(r,s){return mn(s,function(l){l=un(l),qn(r,l,Hr(r[l],r))}),r});function bs(r){return function(){return r}}var nu=el(),lf=el(!0);function tn(r){return r}function Ts(r){return La("function"==typeof r?r:ze(r,et))}var pf=Vt(function(r,s){return function(l){return Ki(l,r,s)}}),gf=Vt(function(r,s){return function(l){return Ki(r,l,s)}});function Es(r,s,l){var p=Fe(s),h=Na(s,p);null==l&&(!Ce(s)||!h.length&&p.length)&&(l=s,s=r,r=this,h=Na(s,Fe(s)));var T=!(Ce(l)&&"chain"in l&&!l.chain),k=Gn(r);return mn(h,function(B){var O=s[B];r[B]=O,k&&(r.prototype[B]=function(){var j=this.__chain__;if(T||j){var Y=r(this.__wrapped__);return(Y.__actions__=Ye(this.__actions__)).push({func:O,args:arguments,thisArg:r}),Y.__chain__=j,Y}return O.apply(r,vn([this.value()],arguments))})}),r}function Jo(){}var _f=$a(xe),hf=$a(lc),mf=$a(ga);function ou(r){return rs(r)?fa(un(r)):function ri(r){return function(s){return Mn(s,r)}}(r)}var xf=nl(),yf=nl(!0);function ks(){return[]}function As(){return!1}var Df=Fr(function(r,s){return r+s},0),wf=za("ceil"),Bf=Fr(function(r,s){return r/s},1),Zf=za("floor"),Rf=Fr(function(r,s){return r*s},1),Lf=za("round"),qf=Fr(function(r,s){return r-s},0);return y.after=function Z1(r,s){if("function"!=typeof s)throw new $e(S);return r=Gt(r),function(){if(--r<1)return s.apply(this,arguments)}},y.ary=I1,y.assign=og,y.assignIn=Jl,y.assignInWith=Mo,y.assignWith=xs,y.at=jl,y.before=Dl,y.bind=Hr,y.bindAll=rf,y.bindKey=hs,y.castArray=function q1(){if(!arguments.length)return[];var r=arguments[0];return jt(r)?r:[r]},y.chain=Cl,y.chunk=function Ur(r,s,l){s=(l?Qe(r,s,l):s===g)?1:De(Gt(s),0);var p=null==r?0:r.length;if(!p||s<1)return[];for(var h=0,T=0,k=U(vi(p/s));h<p;)k[T++]=yn(r,h,h+=s);return k},y.compact=function _p(r){for(var s=-1,l=null==r?0:r.length,p=0,h=[];++s<l;){var T=r[s];T&&(h[p++]=T)}return h},y.concat=function hp(){var r=arguments.length;if(!r)return[];for(var s=U(r-1),l=arguments[0],p=r;p--;)s[p-1]=arguments[p];return vn(jt(l)?Ye(l):[l],Ie(s,1))},y.cond=function af(r){var s=null==r?0:r.length,l=Dt();return r=s?xe(r,function(p){if("function"!=typeof p[1])throw new $e(S);return[l(p[0]),p[1]]}):[],Vt(function(p){for(var h=-1;++h<s;){var T=r[h];if(je(T[0],this,p))return je(T[1],this,p)}})},y.conforms=function sf(r){return function Od(r){var s=Fe(r);return function(l){return Cr(l,r,s)}}(ze(r,et))},y.constant=bs,y.countBy=h1,y.create=function Yl(r,s){var l=Qi(r);return null==s?l:qc(l,s)},y.curry=function wl(r,s,l){var p=An(r,Tt,g,g,g,g,g,s=l?g:s);return p.placeholder=wl.placeholder,p},y.curryRight=function Bl(r,s,l){var p=An(r,Et,g,g,g,g,g,s=l?g:s);return p.placeholder=Bl.placeholder,p},y.debounce=to,y.defaults=rg,y.defaultsDeep=ag,y.defer=Zl,y.delay=S1,y.difference=Pe,y.differenceBy=ps,y.differenceWith=gl,y.drop=function Xf(r,s,l){var p=null==r?0:r.length;return p?yn(r,(s=l||s===g?1:Gt(s))<0?0:s,p):[]},y.dropRight=function t0(r,s,l){var p=null==r?0:r.length;return p?yn(r,0,(s=p-(s=l||s===g?1:Gt(s)))<0?0:s):[]},y.dropRightWhile=function mp(r,s){return r&&r.length?wr(r,Dt(s,3),!0,!0):[]},y.dropWhile=function fl(r,s){return r&&r.length?wr(r,Dt(s,3),!0):[]},y.fill=function _l(r,s,l,p){var h=null==r?0:r.length;return h?(l&&"number"!=typeof l&&Qe(r,s,l)&&(l=0,p=h),function Fa(r,s,l,p){var h=r.length;for((l=Gt(l))<0&&(l=-l>h?0:h+l),(p=p===g||p>h?h:Gt(p))<0&&(p+=h),p=l>p?0:Ul(p);l<p;)r[l++]=s;return r}(r,s,l,p)):[]},y.filter=function v1(r,s){return(jt(r)?ei:Pd)(r,Dt(s,3))},y.flatMap=function C1(r,s){return Ie(Xi(r,s),1)},y.flatMapDeep=function b1(r,s){return Ie(Xi(r,s),en)},y.flatMapDepth=function T1(r,s,l){return l=l===g?1:Gt(l),Ie(Xi(r,s),l)},y.flatten=Jr,y.flattenDeep=function vp(r){return null!=r&&r.length?Ie(r,en):[]},y.flattenDepth=function xp(r,s){return null!=r&&r.length?Ie(r,s=s===g?1:Gt(s)):[]},y.flip=function F1(r){return An(r,At)},y.flow=nu,y.flowRight=lf,y.fromPairs=function yp(r){for(var s=-1,l=null==r?0:r.length,p={};++s<l;){var h=r[s];p[h[0]]=h[1]}return p},y.functions=function Ql(r){return null==r?[]:Na(r,Fe(r))},y.functionsIn=function Hl(r){return null==r?[]:Na(r,Xe(r))},y.groupBy=Lt,y.initial=function bp(r){return null!=r&&r.length?yn(r,0,-1):[]},y.intersection=Tp,y.intersectionBy=Ep,y.intersectionWith=kp,y.invert=fg,y.invertBy=_g,y.invokeMap=Qn,y.iteratee=Ts,y.keyBy=Yr,y.keys=Fe,y.keysIn=Xe,y.map=Xi,y.mapKeys=function mg(r,s){var l={};return s=Dt(s,3),Un(r,function(p,h,T){qn(l,s(p,h,T),p)}),l},y.mapValues=function vg(r,s){var l={};return s=Dt(s,3),Un(r,function(p,h,T){qn(l,h,s(p,h,T))}),l},y.matches=function uf(r){return jd(ze(r,et))},y.matchesProperty=function df(r,s){return Yd(r,ze(s,et))},y.memoize=Ro,y.merge=xg,y.mergeWith=Gl,y.method=pf,y.methodOf=gf,y.mixin=Es,y.negate=Gr,y.nthArg=function ff(r){return r=Gt(r),Vt(function(s){return Qd(s,r)})},y.omit=yg,y.omitBy=function Cg(r,s){return Kl(r,Gr(Dt(s)))},y.once=function Il(r){return Dl(2,r)},y.orderBy=function di(r,s,l,p){return null==r?[]:(jt(s)||(s=null==s?[]:[s]),jt(l=p?g:l)||(l=null==l?[]:[l]),kr(r,s,l))},y.over=_f,y.overArgs=N1,y.overEvery=hf,y.overSome=mf,y.partial=Kr,y.partialRight=Qt,y.partition=Tl,y.pick=bg,y.pickBy=Kl,y.property=ou,y.propertyOf=function vf(r){return function(s){return null==r?g:Mn(r,s)}},y.pull=Bp,y.pullAll=vl,y.pullAllBy=function Zp(r,s,l){return r&&r.length&&s&&s.length?Ma(r,s,Dt(l,2)):r},y.pullAllWith=function Ip(r,s,l){return r&&r.length&&s&&s.length?Ma(r,s,g,l):r},y.pullAt=Sp,y.range=xf,y.rangeRight=yf,y.rearg=O1,y.reject=function _s(r,s){return(jt(r)?ei:Pd)(r,Gr(Dt(s,3)))},y.remove=function Fp(r,s){var l=[];if(!r||!r.length)return l;var p=-1,h=[],T=r.length;for(s=Dt(s,3);++p<T;){var k=r[p];s(k,p,r)&&(l.push(k),h.push(p))}return Kc(r,h),l},y.rest=function eo(r,s){if("function"!=typeof r)throw new $e(S);return Vt(r,s=s===g?s:Gt(s))},y.reverse=gs,y.sampleSize=function D1(r,s,l){return s=(l?Qe(r,s,l):s===g)?1:Gt(s),(jt(r)?Fd:Kd)(r,s)},y.set=function Eg(r,s,l){return null==r?r:Ao(r,s,l)},y.setWith=function kg(r,s,l,p){return p="function"==typeof p?p:g,null==r?r:Ao(r,s,l,p)},y.shuffle=function w1(r){return(jt(r)?Rc:Vd)(r)},y.slice=function Np(r,s,l){var p=null==r?0:r.length;return p?(l&&"number"!=typeof l&&Qe(r,s,l)?(s=0,l=p):(s=null==s?0:Gt(s),l=l===g?p:Gt(l)),yn(r,s,l)):[]},y.sortBy=Al,y.sortedUniq=function Mp(r){return r&&r.length?Dr(r):[]},y.sortedUniqBy=function xl(r,s){return r&&r.length?Dr(r,Dt(s,2)):[]},y.split=function Gg(r,s,l){return l&&"number"!=typeof l&&Qe(r,s,l)&&(s=l=g),(l=l===g?Ke:l>>>0)?(r=ae(r))&&("string"==typeof s||null!=s&&!vs(s))&&!(s=qe(s))&&Ui(r)?Fn(xn(r),0,l):r.split(s,l):[]},y.spread=function Lo(r,s){if("function"!=typeof r)throw new $e(S);return s=null==s?0:De(Gt(s),0),Vt(function(l){var p=l[s],h=Fn(l,0,s);return p&&vn(h,p),je(r,this,h)})},y.tail=function Jp(r){var s=null==r?0:r.length;return s?yn(r,1,s):[]},y.take=function jp(r,s,l){return r&&r.length?yn(r,0,(s=l||s===g?1:Gt(s))<0?0:s):[]},y.takeRight=function Yp(r,s,l){var p=null==r?0:r.length;return p?yn(r,(s=p-(s=l||s===g?1:Gt(s)))<0?0:s,p):[]},y.takeRightWhile=function Qp(r,s){return r&&r.length?wr(r,Dt(s,3),!1,!0):[]},y.takeWhile=function Hp(r,s){return r&&r.length?wr(r,Dt(s,3)):[]},y.tap=function s1(r,s){return s(r),r},y.throttle=function P1(r,s,l){var p=!0,h=!0;if("function"!=typeof r)throw new $e(S);return Ce(l)&&(p="leading"in l?!!l.leading:p,h="trailing"in l?!!l.trailing:h),to(r,s,{leading:p,maxWait:s,trailing:h})},y.thru=jr,y.toArray=ql,y.toPairs=$l,y.toPairsIn=Vl,y.toPath=function kf(r){return jt(r)?xe(r,un):dn(r)?[r]:Ye(Wi(ae(r)))},y.toPlainObject=Ml,y.transform=function Ag(r,s,l){var p=jt(r),h=p||pi(r)||no(r);if(s=Dt(s,4),null==l){var T=r&&r.constructor;l=h?p?new T:[]:Ce(r)&&Gn(T)?Qi(gr(r)):{}}return(h?mn:Un)(r,function(k,B,O){return s(l,k,B,O)}),l},y.unary=function R1(r){return I1(r,1)},y.union=Gp,y.unionBy=Kp,y.unionWith=$p,y.uniq=function Vp(r){return r&&r.length?si(r):[]},y.uniqBy=function zp(r,s){return r&&r.length?si(r,Dt(s,2)):[]},y.uniqWith=function Wp(r,s){return s="function"==typeof s?s:g,r&&r.length?si(r,g,s):[]},y.unset=function Dg(r,s){return null==r||Vc(r,s)},y.unzip=fs,y.unzipWith=yl,y.update=function wg(r,s,l){return null==r?r:zc(r,s,Br(l))},y.updateWith=function Bg(r,s,l,p){return p="function"==typeof p?p:g,null==r?r:zc(r,s,Br(l),p)},y.values=io,y.valuesIn=function Zg(r){return null==r?[]:va(r,Xe(r))},y.without=Xp,y.words=tu,y.wrap=function L1(r,s){return Kr(Br(s),r)},y.xor=t1,y.xorBy=e1,y.xorWith=n1,y.zip=i1,y.zipObject=function o1(r,s){return Do(r||[],s||[],Ti)},y.zipObjectDeep=function r1(r,s){return Do(r||[],s||[],Ao)},y.zipWith=a1,y.entries=$l,y.entriesIn=Vl,y.extend=Jl,y.extendWith=Mo,Es(y,y),y.add=Df,y.attempt=eu,y.camelCase=Ng,y.capitalize=zl,y.ceil=wf,y.clamp=function Ig(r,s,l){return l===g&&(l=s,s=g),l!==g&&(l=(l=Tn(l))==l?l:0),s!==g&&(s=(s=Tn(s))==s?s:0),Ei(Tn(r),s,l)},y.clone=function U1(r){return ze(r,nt)},y.cloneDeep=function Sl(r){return ze(r,et|nt)},y.cloneDeepWith=function J1(r,s){return ze(r,et|nt,s="function"==typeof s?s:g)},y.cloneWith=function M1(r,s){return ze(r,nt,s="function"==typeof s?s:g)},y.conformsTo=function j1(r,s){return null==s||Cr(r,s,Fe(s))},y.deburr=Wl,y.defaultTo=function cf(r,s){return null==r||r!=r?s:r},y.divide=Bf,y.endsWith=function Og(r,s,l){r=ae(r),s=qe(s);var p=r.length,h=l=l===g?p:Ei(Gt(l),0,p);return(l-=s.length)>=0&&r.slice(l,h)==s},y.eq=On,y.escape=function Dn(r){return(r=ae(r))&&vu.test(r)?r.replace(Zs,od):r},y.escapeRegExp=function Pg(r){return(r=ae(r))&&ao.test(r)?r.replace($o,"\\$&"):r},y.every=function m1(r,s,l){var p=jt(r)?lc:Sa;return l&&Qe(r,s,l)&&(s=g),p(r,Dt(s,3))},y.find=x1,y.findIndex=hl,y.findKey=function sg(r,s){return uc(r,Dt(s,3),Un)},y.findLast=y1,y.findLastIndex=Mr,y.findLastKey=function cg(r,s){return uc(r,Dt(s,3),To)},y.floor=Zf,y.forEach=ui,y.forEachRight=bl,y.forIn=function lg(r,s){return null==r?r:Uc(r,Dt(s,3),Xe)},y.forInRight=function ug(r,s){return null==r?r:Er(r,Dt(s,3),Xe)},y.forOwn=function dg(r,s){return r&&Un(r,Dt(s,3))},y.forOwnRight=function pg(r,s){return r&&To(r,Dt(s,3))},y.get=Xr,y.gt=e0,y.gte=Hn,y.has=function gg(r,s){return null!=r&&Oo(r,s,Eo)},y.hasIn=ys,y.head=ml,y.identity=tn,y.includes=function E1(r,s,l,p){r=We(r)?r:io(r),l=l&&!p?Gt(l):0;var h=r.length;return l<0&&(l=De(h+l,0)),Wr(r)?l<=h&&r.indexOf(s,l)>-1:!!h&&qi(r,s,l)>-1},y.indexOf=function Cp(r,s,l){var p=null==r?0:r.length;if(!p)return-1;var h=null==l?0:Gt(l);return h<0&&(h=De(p+h,0)),qi(r,s,h)},y.inRange=function Sg(r,s,l){return s=Kn(s),l===g?(l=s,s=0):l=Kn(l),function Jc(r,s,l){return r>=Le(s,l)&&r<De(s,l)}(r=Tn(r),s,l)},y.invoke=hg,y.isArguments=Zi,y.isArray=jt,y.isArrayBuffer=Ii,y.isArrayLike=We,y.isArrayLikeObject=ke,y.isBoolean=function qo(r){return!0===r||!1===r||Te(r)&&Oe(r)==Me},y.isBuffer=pi,y.isDate=Y1,y.isElement=function n0(r){return Te(r)&&1===r.nodeType&&!zr(r)},y.isEmpty=function Q1(r){if(null==r)return!0;if(We(r)&&(jt(r)||"string"==typeof r||"function"==typeof r.splice||pi(r)||no(r)||Zi(r)))return!r.length;var s=Ue(r);if(s==En||s==fn)return!r.size;if(li(r))return!qa(r).length;for(var l in r)if(le.call(r,l))return!1;return!0},y.isEqual=function H1(r,s){return ko(r,s)},y.isEqualWith=function G1(r,s,l){var p=(l="function"==typeof l?l:g)?l(r,s):g;return p===g?ko(r,s,g,l):!!p},y.isError=ms,y.isFinite=function Fl(r){return"number"==typeof r&&Ac(r)},y.isFunction=Gn,y.isInteger=Nl,y.isLength=$r,y.isMap=K1,y.isMatch=function Vr(r,s){return r===s||Qc(r,s,es(s))},y.isMatchWith=function $1(r,s,l){return l="function"==typeof l?l:g,Qc(r,s,es(s),l)},y.isNaN=function V1(r){return W1(r)&&r!=+r},y.isNative=function Ol(r){if(ss(r))throw new Ut("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return qd(r)},y.isNil=function Uo(r){return null==r},y.isNull=function z1(r){return null===r},y.isNumber=W1,y.isObject=Ce,y.isObjectLike=Te,y.isPlainObject=zr,y.isRegExp=vs,y.isSafeInteger=function X1(r){return Nl(r)&&r>=-Zn&&r<=Zn},y.isSet=Pl,y.isString=Wr,y.isSymbol=dn,y.isTypedArray=no,y.isUndefined=function tg(r){return r===g},y.isWeakMap=function eg(r){return Te(r)&&Ue(r)==be},y.isWeakSet=function ng(r){return Te(r)&&"[object WeakSet]"==Oe(r)},y.join=function Ap(r,s){return null==r?"":Ea.call(r,s)},y.kebabCase=Rg,y.last=bn,y.lastIndexOf=function Dp(r,s,l){var p=null==r?0:r.length;if(!p)return-1;var h=p;return l!==g&&(h=(h=Gt(l))<0?De(p+h,0):Le(h,p-1)),s==s?function ya(F,J,U){for(var gt=U+1;gt--;)if(F[gt]===J)return gt;return gt}(r,s,h):or(r,dc,h,!0)},y.lowerCase=Lg,y.lowerFirst=qg,y.lt=Rl,y.lte=Ll,y.max=function If(r){return r&&r.length?Tr(r,tn,vt):g},y.maxBy=function Sf(r,s){return r&&r.length?Tr(r,Dt(s,2),vt):g},y.mean=function Ff(r){return pc(r,tn)},y.meanBy=function Nf(r,s){return pc(r,Dt(s,2))},y.min=function Of(r){return r&&r.length?Tr(r,tn,Hc):g},y.minBy=function Pf(r,s){return r&&r.length?Tr(r,Dt(s,2),Hc):g},y.stubArray=ks,y.stubFalse=As,y.stubObject=function Cf(){return{}},y.stubString=function bf(){return""},y.stubTrue=function Tf(){return!0},y.multiply=Rf,y.nth=function wp(r,s){return r&&r.length?Qd(r,Gt(s)):g},y.noConflict=function iu(){return Ne._===this&&(Ne._=ho),this},y.noop=Jo,y.now=Qr,y.pad=function Ug(r,s,l){r=ae(r);var p=(s=Gt(s))?_i(r):0;if(!s||p>=s)return r;var h=(s-p)/2;return Di(xi(h),l)+r+Di(vi(h),l)},y.padEnd=function Mg(r,s,l){r=ae(r);var p=(s=Gt(s))?_i(r):0;return s&&p<s?r+Di(s-p,l):r},y.padStart=function Jg(r,s,l){r=ae(r);var p=(s=Gt(s))?_i(r):0;return s&&p<s?Di(s-p,l)+r:r},y.parseInt=function jg(r,s,l){return l||null==s?s=0:s&&(s=+s),yi(ae(r).replace(Ni,""),s||0)},y.random=function Fg(r,s,l){if(l&&"boolean"!=typeof l&&Qe(r,s,l)&&(s=l=g),l===g&&("boolean"==typeof s?(l=s,s=g):"boolean"==typeof r&&(l=r,r=g)),r===g&&s===g?(r=0,s=1):(r=Kn(r),s===g?(s=r,r=0):s=Kn(s)),r>s){var p=r;r=s,s=p}if(l||r%1||s%1){var h=Ji();return Le(r+h*(s-r+fi("1e-"+((h+"").length-1))),s)}return Ja(r,s)},y.reduce=function El(r,s,l){var p=jt(r)?pa:gc,h=arguments.length<3;return p(r,Dt(s,4),l,h,Sn)},y.reduceRight=function k1(r,s,l){var p=jt(r)?zu:gc,h=arguments.length<3;return p(r,Dt(s,4),l,h,Gi)},y.repeat=function Yg(r,s,l){return s=(l?Qe(r,s,l):s===g)?1:Gt(s),ja(ae(r),s)},y.replace=function Qg(){var r=arguments,s=ae(r[0]);return r.length<3?s:s.replace(r[1],r[2])},y.result=function Tg(r,s,l){var p=-1,h=(s=jn(s,r)).length;for(h||(h=1,r=g);++p<h;){var T=null==r?g:r[un(s[p])];T===g&&(p=h,T=l),r=Gn(T)?T.call(r):T}return r},y.round=Lf,y.runInContext=F,y.sample=function A1(r){return(jt(r)?Pc:Gd)(r)},y.size=function B1(r){if(null==r)return 0;if(We(r))return Wr(r)?_i(r):r.length;var s=Ue(r);return s==En||s==fn?r.size:qa(r).length},y.snakeCase=Hg,y.some=function kl(r,s,l){var p=jt(r)?ga:zd;return l&&Qe(r,s,l)&&(s=g),p(r,Dt(s,3))},y.sortedIndex=function Op(r,s){return Ar(r,s)},y.sortedIndexBy=function Pp(r,s,l){return ki(r,s,Dt(l,2))},y.sortedIndexOf=function Rp(r,s){var l=null==r?0:r.length;if(l){var p=Ar(r,s);if(p<l&&On(r[p],s))return p}return-1},y.sortedLastIndex=function Lp(r,s){return Ar(r,s,!0)},y.sortedLastIndexBy=function qp(r,s,l){return ki(r,s,Dt(l,2),!0)},y.sortedLastIndexOf=function Up(r,s){if(null!=r&&r.length){var p=Ar(r,s,!0)-1;if(On(r[p],s))return p}return-1},y.startCase=Kg,y.startsWith=function $g(r,s,l){return r=ae(r),l=null==l?0:Ei(Gt(l),0,r.length),s=qe(s),r.slice(l,l+s.length)==s},y.subtract=qf,y.sum=function Uf(r){return r&&r.length?ha(r,tn):0},y.sumBy=function ru(r,s){return r&&r.length?ha(r,Dt(s,2)):0},y.template=function Vg(r,s,l){var p=y.templateSettings;l&&Qe(r,s,l)&&(s=g),r=ae(r),s=Mo({},s,p,ol);var B,O,h=Mo({},s.imports,p.imports,ol),T=Fe(h),k=va(h,T),j=0,Y=s.interpolate||zo,G="__p += '",dt=cr((s.escape||zo).source+"|"+Y.source+"|"+(Y===Is?Bu:zo).source+"|"+(s.evaluate||zo).source+"|$","g"),xt="//# sourceURL="+(le.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ce+"]")+"\n";r.replace(dt,function(It,Wt,te,pn,Ge,gn){return te||(te=pn),G+=r.slice(j,gn).replace(co,Hf),Wt&&(B=!0,G+="' +\n__e("+Wt+") +\n'"),Ge&&(O=!0,G+="';\n"+Ge+";\n__p += '"),te&&(G+="' +\n((__t = ("+te+")) == null ? '' : __t) +\n'"),j=gn+It.length,It}),G+="';\n";var Zt=le.call(s,"variable")&&s.variable;if(Zt){if(Du.test(Zt))throw new Ut("Invalid `variable` option passed into `_.template`")}else G="with (obj) {\n"+G+"\n}\n";G=(O?G.replace(fu,""):G).replace(_u,"$1").replace(hu,"$1;"),G="function("+(Zt||"obj")+") {\n"+(Zt?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(B?", __e = _.escape":"")+(O?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+G+"return __p\n}";var $t=eu(function(){return ie(T,xt+"return "+G).apply(g,k)});if($t.source=G,ms($t))throw $t;return $t},y.times=function Ef(r,s){if((r=Gt(r))<1||r>Zn)return[];var l=Ke,p=Le(r,Ke);s=Dt(s),r-=Ke;for(var h=ma(p,s);++l<r;)s(l);return h},y.toFinite=Kn,y.toInteger=Gt,y.toLength=Ul,y.toLower=function zg(r){return ae(r).toLowerCase()},y.toNumber=Tn,y.toSafeInteger=function ig(r){return r?Ei(Gt(r),-Zn,Zn):0===r?r:0},y.toString=ae,y.toUpper=function Wg(r){return ae(r).toUpperCase()},y.trim=function Xg(r,s,l){if((r=ae(r))&&(l||s===g))return fc(r);if(!r||!(s=qe(s)))return r;var p=xn(r),h=xn(s);return Fn(p,_c(p,h),hc(p,h)+1).join("")},y.trimEnd=function tf(r,s,l){if((r=ae(r))&&(l||s===g))return r.slice(0,Ca(r)+1);if(!r||!(s=qe(s)))return r;var p=xn(r);return Fn(p,0,hc(p,xn(s))+1).join("")},y.trimStart=function Xl(r,s,l){if((r=ae(r))&&(l||s===g))return r.replace(Ni,"");if(!r||!(s=qe(s)))return r;var p=xn(r);return Fn(p,_c(p,xn(s))).join("")},y.truncate=function ef(r,s){var l=30,p="...";if(Ce(s)){var h="separator"in s?s.separator:h;l="length"in s?Gt(s.length):l,p="omission"in s?qe(s.omission):p}var T=(r=ae(r)).length;if(Ui(r)){var k=xn(r);T=k.length}if(l>=T)return r;var B=l-_i(p);if(B<1)return p;var O=k?Fn(k,0,B).join(""):r.slice(0,B);if(h===g)return O+p;if(k&&(B+=O.length-B),vs(h)){if(r.slice(B).search(h)){var j,Y=O;for(h.global||(h=cr(h.source,ae(Fs.exec(h))+"g")),h.lastIndex=0;j=h.exec(Y);)var G=j.index;O=O.slice(0,G===g?B:G)}}else if(r.indexOf(qe(h),B)!=B){var dt=O.lastIndexOf(h);dt>-1&&(O=O.slice(0,dt))}return O+p},y.unescape=function nf(r){return(r=ae(r))&&mu.test(r)?r.replace(Bs,vc):r},y.uniqueId=function Af(r){var s=++In;return ae(r)+s},y.upperCase=of,y.upperFirst=Cs,y.each=ui,y.eachRight=bl,y.first=ml,Es(y,function(){var r={};return Un(y,function(s,l){le.call(y.prototype,l)||(r[l]=s)}),r}(),{chain:!1}),y.VERSION="4.17.21",mn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){y[r].placeholder=y}),mn(["drop","take"],function(r,s){Xt.prototype[r]=function(l){l=l===g?1:De(Gt(l),0);var p=this.__filtered__&&!s?new Xt(this):this.clone();return p.__filtered__?p.__takeCount__=Le(l,p.__takeCount__):p.__views__.push({size:Le(l,Ke),type:r+(p.__dir__<0?"Right":"")}),p},Xt.prototype[r+"Right"]=function(l){return this.reverse()[r](l).reverse()}}),mn(["filter","map","takeWhile"],function(r,s){var l=s+1,p=1==l||3==l;Xt.prototype[r]=function(h){var T=this.clone();return T.__iteratees__.push({iteratee:Dt(h,3),type:l}),T.__filtered__=T.__filtered__||p,T}}),mn(["head","last"],function(r,s){var l="take"+(s?"Right":"");Xt.prototype[r]=function(){return this[l](1).value()[0]}}),mn(["initial","tail"],function(r,s){var l="drop"+(s?"":"Right");Xt.prototype[r]=function(){return this.__filtered__?new Xt(this):this[l](1)}}),Xt.prototype.compact=function(){return this.filter(tn)},Xt.prototype.find=function(r){return this.filter(r).head()},Xt.prototype.findLast=function(r){return this.reverse().find(r)},Xt.prototype.invokeMap=Vt(function(r,s){return"function"==typeof r?new Xt(this):this.map(function(l){return Ki(l,r,s)})}),Xt.prototype.reject=function(r){return this.filter(Gr(Dt(r)))},Xt.prototype.slice=function(r,s){r=Gt(r);var l=this;return l.__filtered__&&(r>0||s<0)?new Xt(l):(r<0?l=l.takeRight(-r):r&&(l=l.drop(r)),s!==g&&(l=(s=Gt(s))<0?l.dropRight(-s):l.take(s-r)),l)},Xt.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},Xt.prototype.toArray=function(){return this.take(Ke)},Un(Xt.prototype,function(r,s){var l=/^(?:filter|find|map|reject)|While$/.test(s),p=/^(?:head|last)$/.test(s),h=y[p?"take"+("last"==s?"Right":""):s],T=p||/^find/.test(s);h&&(y.prototype[s]=function(){var k=this.__wrapped__,B=p?[1]:arguments,O=k instanceof Xt,j=B[0],Y=O||jt(k),G=function(Wt){var te=h.apply(y,vn([Wt],B));return p&&dt?te[0]:te};Y&&l&&"function"==typeof j&&1!=j.length&&(O=Y=!1);var dt=this.__chain__,Zt=T&&!dt,$t=O&&!this.__actions__.length;if(!T&&Y){k=$t?k:new Xt(this);var It=r.apply(k,B);return It.__actions__.push({func:jr,args:[G],thisArg:g}),new Ve(It,dt)}return Zt&&$t?r.apply(this,B):(It=this.thru(G),Zt?p?It.value()[0]:It.value():It)})}),mn(["pop","push","shift","sort","splice","unshift"],function(r){var s=fo[r],l=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",p=/^(?:pop|shift)$/.test(r);y.prototype[r]=function(){var h=arguments;if(p&&!this.__chain__){var T=this.value();return s.apply(jt(T)?T:[],h)}return this[l](function(k){return s.apply(jt(k)?k:[],h)})}}),Un(Xt.prototype,function(r,s){var l=y[s];if(l){var p=l.name+"";le.call(ii,p)||(ii[p]=[]),ii[p].push({name:s,func:l})}}),ii[Ga(g,Bt).name]=[{name:"wrapper",func:g}],Xt.prototype.clone=function yd(){var r=new Xt(this.__wrapped__);return r.__actions__=Ye(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=Ye(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=Ye(this.__views__),r},Xt.prototype.reverse=function Cd(){if(this.__filtered__){var r=new Xt(this);r.__dir__=-1,r.__filtered__=!0}else(r=this.clone()).__dir__*=-1;return r},Xt.prototype.value=function bd(){var r=this.__wrapped__.value(),s=this.__dir__,l=jt(r),p=s<0,h=l?r.length:0,T=function lp(r,s,l){for(var p=-1,h=l.length;++p<h;){var T=l[p],k=T.size;switch(T.type){case"drop":r+=k;break;case"dropRight":s-=k;break;case"take":s=Le(s,r+k);break;case"takeRight":r=De(r,s-k)}}return{start:r,end:s}}(0,h,this.__views__),k=T.start,B=T.end,O=B-k,j=p?B:k-1,Y=this.__iteratees__,G=Y.length,dt=0,xt=Le(O,this.__takeCount__);if(!l||!p&&h==O&&xt==O)return Ai(r,this.__actions__);var Zt=[];t:for(;O--&&dt<xt;){for(var $t=-1,It=r[j+=s];++$t<G;){var Wt=Y[$t],pn=Wt.type,Ge=(0,Wt.iteratee)(It);if(2==pn)It=Ge;else if(!Ge){if(1==pn)continue t;break t}}Zt[dt++]=It}return Zt},y.prototype.at=c1,y.prototype.chain=function l1(){return Cl(this)},y.prototype.commit=function u1(){return new Ve(this.value(),this.__chain__)},y.prototype.next=function d1(){this.__values__===g&&(this.__values__=ql(this.value()));var r=this.__index__>=this.__values__.length;return{done:r,value:r?g:this.__values__[this.__index__++]}},y.prototype.plant=function g1(r){for(var s,l=this;l instanceof vr;){var p=ds(l);p.__index__=0,p.__values__=g,s?h.__wrapped__=p:s=p;var h=p;l=l.__wrapped__}return h.__wrapped__=r,s},y.prototype.reverse=function f1(){var r=this.__wrapped__;if(r instanceof Xt){var s=r;return this.__actions__.length&&(s=new Xt(this)),(s=s.reverse()).__actions__.push({func:jr,args:[gs],thisArg:g}),new Ve(s,this.__chain__)}return this.thru(gs)},y.prototype.toJSON=y.prototype.valueOf=y.prototype.value=function _1(){return Ai(this.__wrapped__,this.__actions__)},y.prototype.first=y.prototype.head,mo&&(y.prototype[mo]=function p1(){return this}),y}();Ne._=sr,(q=function(){return sr}.call(L,w,L,Nt))!==g&&(Nt.exports=q)}.call(this)},3259:(Nt,L,w)=>{const q=w(8695),g=w(1465),t=w(3210),A=w(2334);function I(S,v,M,ot,rt){const et=[].slice.call(arguments,1),it=et.length,nt="function"==typeof et[it-1];if(!nt&&!q())throw new Error("Callback required as last argument");if(!nt){if(it<1)throw new Error("Too few arguments provided");return 1===it?(M=v,v=ot=void 0):2===it&&!v.getContext&&(ot=M,M=v,v=void 0),new Promise(function(ut,wt){try{const ee=g.create(M,ot);ut(S(ee,v,ot))}catch(ee){wt(ee)}})}if(it<2)throw new Error("Too few arguments provided");2===it?(rt=M,M=v,v=ot=void 0):3===it&&(v.getContext&&typeof rt>"u"?(rt=ot,ot=void 0):(rt=ot,ot=M,M=v,v=void 0));try{const ut=g.create(M,ot);rt(null,S(ut,v,ot))}catch(ut){rt(ut)}}L.create=g.create,L.toCanvas=I.bind(null,t.render),L.toDataURL=I.bind(null,t.renderToDataURL),L.toString=I.bind(null,function(S,v,M){return A.render(S,M)})},8695:Nt=>{Nt.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6221:(Nt,L,w)=>{const q=w(8233).getSymbolSize;L.getRowColCoords=function(t){if(1===t)return[];const A=Math.floor(t/7)+2,I=q(t),S=145===I?26:2*Math.ceil((I-13)/(2*A-2)),v=[I-7];for(let M=1;M<A-1;M++)v[M]=v[M-1]-S;return v.push(6),v.reverse()},L.getPositions=function(t){const A=[],I=L.getRowColCoords(t),S=I.length;for(let v=0;v<S;v++)for(let M=0;M<S;M++)0===v&&0===M||0===v&&M===S-1||v===S-1&&0===M||A.push([I[v],I[M]]);return A}},2424:(Nt,L,w)=>{const q=w(4016),g=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(A){this.mode=q.ALPHANUMERIC,this.data=A}t.getBitsLength=function(I){return 11*Math.floor(I/2)+I%2*6},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(I){let S;for(S=0;S+2<=this.data.length;S+=2){let v=45*g.indexOf(this.data[S]);v+=g.indexOf(this.data[S+1]),I.put(v,11)}this.data.length%2&&I.put(g.indexOf(this.data[S]),6)},Nt.exports=t},2118:Nt=>{function L(){this.buffer=[],this.length=0}L.prototype={get:function(w){const q=Math.floor(w/8);return 1==(this.buffer[q]>>>7-w%8&1)},put:function(w,q){for(let g=0;g<q;g++)this.putBit(1==(w>>>q-g-1&1))},getLengthInBits:function(){return this.length},putBit:function(w){const q=Math.floor(this.length/8);this.buffer.length<=q&&this.buffer.push(0),w&&(this.buffer[q]|=128>>>this.length%8),this.length++}},Nt.exports=L},4425:Nt=>{function L(w){if(!w||w<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=w,this.data=new Uint8Array(w*w),this.reservedBit=new Uint8Array(w*w)}L.prototype.set=function(w,q,g,t){const A=w*this.size+q;this.data[A]=g,t&&(this.reservedBit[A]=!0)},L.prototype.get=function(w,q){return this.data[w*this.size+q]},L.prototype.xor=function(w,q,g){this.data[w*this.size+q]^=g},L.prototype.isReserved=function(w,q){return this.reservedBit[w*this.size+q]},Nt.exports=L},5663:(Nt,L,w)=>{const q=w(4016);function g(t){this.mode=q.BYTE,this.data="string"==typeof t?(new TextEncoder).encode(t):new Uint8Array(t)}g.getBitsLength=function(A){return 8*A},g.prototype.getLength=function(){return this.data.length},g.prototype.getBitsLength=function(){return g.getBitsLength(this.data.length)},g.prototype.write=function(t){for(let A=0,I=this.data.length;A<I;A++)t.put(this.data[A],8)},Nt.exports=g},4655:(Nt,L,w)=>{const q=w(2259),g=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];L.getBlocksCount=function(I,S){switch(S){case q.L:return g[4*(I-1)+0];case q.M:return g[4*(I-1)+1];case q.Q:return g[4*(I-1)+2];case q.H:return g[4*(I-1)+3];default:return}},L.getTotalCodewordsCount=function(I,S){switch(S){case q.L:return t[4*(I-1)+0];case q.M:return t[4*(I-1)+1];case q.Q:return t[4*(I-1)+2];case q.H:return t[4*(I-1)+3];default:return}}},2259:(Nt,L)=>{L.L={bit:1},L.M={bit:0},L.Q={bit:3},L.H={bit:2},L.isValid=function(g){return g&&typeof g.bit<"u"&&g.bit>=0&&g.bit<4},L.from=function(g,t){if(L.isValid(g))return g;try{return function w(q){if("string"!=typeof q)throw new Error("Param is not a string");switch(q.toLowerCase()){case"l":case"low":return L.L;case"m":case"medium":return L.M;case"q":case"quartile":return L.Q;case"h":case"high":return L.H;default:throw new Error("Unknown EC Level: "+q)}}(g)}catch{return t}}},3114:(Nt,L,w)=>{const q=w(8233).getSymbolSize;L.getPositions=function(A){const I=q(A);return[[0,0],[I-7,0],[0,I-7]]}},7078:(Nt,L,w)=>{const q=w(8233),A=q.getBCHDigit(1335);L.getEncodedBits=function(S,v){const M=S.bit<<3|v;let ot=M<<10;for(;q.getBCHDigit(ot)-A>=0;)ot^=1335<<q.getBCHDigit(ot)-A;return 21522^(M<<10|ot)}},5339:(Nt,L)=>{const w=new Uint8Array(512),q=new Uint8Array(256);(function(){let t=1;for(let A=0;A<255;A++)w[A]=t,q[t]=A,t<<=1,256&t&&(t^=285);for(let A=255;A<512;A++)w[A]=w[A-255]})(),L.log=function(t){if(t<1)throw new Error("log("+t+")");return q[t]},L.exp=function(t){return w[t]},L.mul=function(t,A){return 0===t||0===A?0:w[q[t]+q[A]]}},449:(Nt,L,w)=>{const q=w(4016),g=w(8233);function t(A){this.mode=q.KANJI,this.data=A}t.getBitsLength=function(I){return 13*I},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(A){let I;for(I=0;I<this.data.length;I++){let S=g.toSJIS(this.data[I]);if(S>=33088&&S<=40956)S-=33088;else{if(!(S>=57408&&S<=60351))throw new Error("Invalid SJIS character: "+this.data[I]+"\nMake sure your charset is UTF-8");S-=49472}S=192*(S>>>8&255)+(255&S),A.put(S,13)}},Nt.exports=t},3667:(Nt,L)=>{L.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function q(g,t,A){switch(g){case L.Patterns.PATTERN000:return(t+A)%2==0;case L.Patterns.PATTERN001:return t%2==0;case L.Patterns.PATTERN010:return A%3==0;case L.Patterns.PATTERN011:return(t+A)%3==0;case L.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(A/3))%2==0;case L.Patterns.PATTERN101:return t*A%2+t*A%3==0;case L.Patterns.PATTERN110:return(t*A%2+t*A%3)%2==0;case L.Patterns.PATTERN111:return(t*A%3+(t+A)%2)%2==0;default:throw new Error("bad maskPattern:"+g)}}L.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},L.from=function(t){return L.isValid(t)?parseInt(t,10):void 0},L.getPenaltyN1=function(t){const A=t.size;let I=0,S=0,v=0,M=null,ot=null;for(let rt=0;rt<A;rt++){S=v=0,M=ot=null;for(let et=0;et<A;et++){let it=t.get(rt,et);it===M?S++:(S>=5&&(I+=S-5+3),M=it,S=1),it=t.get(et,rt),it===ot?v++:(v>=5&&(I+=v-5+3),ot=it,v=1)}S>=5&&(I+=S-5+3),v>=5&&(I+=v-5+3)}return I},L.getPenaltyN2=function(t){const A=t.size;let I=0;for(let S=0;S<A-1;S++)for(let v=0;v<A-1;v++){const M=t.get(S,v)+t.get(S,v+1)+t.get(S+1,v)+t.get(S+1,v+1);(4===M||0===M)&&I++}return 3*I},L.getPenaltyN3=function(t){const A=t.size;let I=0,S=0,v=0;for(let M=0;M<A;M++){S=v=0;for(let ot=0;ot<A;ot++)S=S<<1&2047|t.get(M,ot),ot>=10&&(1488===S||93===S)&&I++,v=v<<1&2047|t.get(ot,M),ot>=10&&(1488===v||93===v)&&I++}return 40*I},L.getPenaltyN4=function(t){let A=0;const I=t.data.length;for(let v=0;v<I;v++)A+=t.data[v];return 10*Math.abs(Math.ceil(100*A/I/5)-10)},L.applyMask=function(t,A){const I=A.size;for(let S=0;S<I;S++)for(let v=0;v<I;v++)A.isReserved(v,S)||A.xor(v,S,q(t,v,S))},L.getBestMask=function(t,A){const I=Object.keys(L.Patterns).length;let S=0,v=1/0;for(let M=0;M<I;M++){A(M),L.applyMask(M,t);const ot=L.getPenaltyN1(t)+L.getPenaltyN2(t)+L.getPenaltyN3(t)+L.getPenaltyN4(t);L.applyMask(M,t),ot<v&&(v=ot,S=M)}return S}},4016:(Nt,L,w)=>{const q=w(4406),g=w(2699);L.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},L.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},L.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},L.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},L.MIXED={bit:-1},L.getCharCountIndicator=function(I,S){if(!I.ccBits)throw new Error("Invalid mode: "+I);if(!q.isValid(S))throw new Error("Invalid version: "+S);return S>=1&&S<10?I.ccBits[0]:S<27?I.ccBits[1]:I.ccBits[2]},L.getBestModeForData=function(I){return g.testNumeric(I)?L.NUMERIC:g.testAlphanumeric(I)?L.ALPHANUMERIC:g.testKanji(I)?L.KANJI:L.BYTE},L.toString=function(I){if(I&&I.id)return I.id;throw new Error("Invalid mode")},L.isValid=function(I){return I&&I.bit&&I.ccBits},L.from=function(I,S){if(L.isValid(I))return I;try{return function t(A){if("string"!=typeof A)throw new Error("Param is not a string");switch(A.toLowerCase()){case"numeric":return L.NUMERIC;case"alphanumeric":return L.ALPHANUMERIC;case"kanji":return L.KANJI;case"byte":return L.BYTE;default:throw new Error("Unknown mode: "+A)}}(I)}catch{return S}}},7783:(Nt,L,w)=>{const q=w(4016);function g(t){this.mode=q.NUMERIC,this.data=t.toString()}g.getBitsLength=function(A){return 10*Math.floor(A/3)+(A%3?A%3*3+1:0)},g.prototype.getLength=function(){return this.data.length},g.prototype.getBitsLength=function(){return g.getBitsLength(this.data.length)},g.prototype.write=function(A){let I,S,v;for(I=0;I+3<=this.data.length;I+=3)S=this.data.substr(I,3),v=parseInt(S,10),A.put(v,10);const M=this.data.length-I;M>0&&(S=this.data.substr(I),v=parseInt(S,10),A.put(v,3*M+1))},Nt.exports=g},1106:(Nt,L,w)=>{const q=w(5339);L.mul=function(t,A){const I=new Uint8Array(t.length+A.length-1);for(let S=0;S<t.length;S++)for(let v=0;v<A.length;v++)I[S+v]^=q.mul(t[S],A[v]);return I},L.mod=function(t,A){let I=new Uint8Array(t);for(;I.length-A.length>=0;){const S=I[0];for(let M=0;M<A.length;M++)I[M]^=q.mul(A[M],S);let v=0;for(;v<I.length&&0===I[v];)v++;I=I.slice(v)}return I},L.generateECPolynomial=function(t){let A=new Uint8Array([1]);for(let I=0;I<t;I++)A=L.mul(A,new Uint8Array([1,q.exp(I)]));return A}},1465:(Nt,L,w)=>{const q=w(8233),g=w(2259),t=w(2118),A=w(4425),I=w(6221),S=w(3114),v=w(3667),M=w(4655),ot=w(2636),rt=w(2088),et=w(7078),it=w(4016),nt=w(2033);function Mt(_t,St,At){const mt=_t.size,Ht=et.getEncodedBits(St,At);let Ft,kt;for(Ft=0;Ft<15;Ft++)kt=1==(Ht>>Ft&1),_t.set(Ft<6?Ft:Ft<8?Ft+1:mt-15+Ft,8,kt,!0),_t.set(8,Ft<8?mt-Ft-1:Ft<9?15-Ft-1+1:15-Ft-1,kt,!0);_t.set(mt-8,8,1,!0)}function Ee(_t,St,At,mt){let Ht;if(Array.isArray(_t))Ht=nt.fromArray(_t);else{if("string"!=typeof _t)throw new Error("Invalid data");{let Bn=St;if(!Bn){const en=nt.rawSplit(_t);Bn=rt.getBestVersionForData(en,At)}Ht=nt.fromString(_t,Bn||40)}}const Ft=rt.getBestVersionForData(Ht,At);if(!Ft)throw new Error("The amount of data is too big to be stored in a QR Code");if(St){if(St<Ft)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+Ft+".\n")}else St=Ft;const kt=function Et(_t,St,At){const mt=new t;At.forEach(function(Jt){mt.put(Jt.mode.bit,4),mt.put(Jt.getLength(),it.getCharCountIndicator(Jt.mode,_t)),Jt.write(mt)});const kt=8*(q.getSymbolTotalCodewords(_t)-M.getTotalCodewordsCount(_t,St));for(mt.getLengthInBits()+4<=kt&&mt.put(0,4);mt.getLengthInBits()%8!=0;)mt.putBit(0);const Yt=(kt-mt.getLengthInBits())/8;for(let Jt=0;Jt<Yt;Jt++)mt.put(Jt%2?17:236,8);return function se(_t,St,At){const mt=q.getSymbolTotalCodewords(St),Ft=mt-M.getTotalCodewordsCount(St,At),kt=M.getBlocksCount(St,At),Jt=kt-mt%kt,Bn=Math.floor(mt/kt),en=Math.floor(Ft/kt),Zn=en+1,jo=Bn-en,Si=new ot(jo);let Ke=0;const Fi=new Array(kt),Yo=new Array(kt);let oo=0;const zn=new Uint8Array(_t.buffer);for(let Xn=0;Xn<kt;Xn++){const ti=Xn<Jt?en:Zn;Fi[Xn]=zn.slice(Ke,Ke+ti),Yo[Xn]=Si.encode(Fi[Xn]),Ke+=ti,oo=Math.max(oo,ti)}const Wn=new Uint8Array(mt);let Me,Je,Qo=0;for(Me=0;Me<oo;Me++)for(Je=0;Je<kt;Je++)Me<Fi[Je].length&&(Wn[Qo++]=Fi[Je][Me]);for(Me=0;Me<jo;Me++)for(Je=0;Je<kt;Je++)Wn[Qo++]=Yo[Je][Me];return Wn}(mt,_t,St)}(St,At,Ht),Yt=q.getSymbolSize(St),Jt=new A(Yt);return function ut(_t,St){const At=_t.size,mt=S.getPositions(St);for(let Ht=0;Ht<mt.length;Ht++){const Ft=mt[Ht][0],kt=mt[Ht][1];for(let Yt=-1;Yt<=7;Yt++)if(!(Ft+Yt<=-1||At<=Ft+Yt))for(let Jt=-1;Jt<=7;Jt++)kt+Jt<=-1||At<=kt+Jt||_t.set(Ft+Yt,kt+Jt,Yt>=0&&Yt<=6&&(0===Jt||6===Jt)||Jt>=0&&Jt<=6&&(0===Yt||6===Yt)||Yt>=2&&Yt<=4&&Jt>=2&&Jt<=4,!0)}}(Jt,St),function wt(_t){const St=_t.size;for(let At=8;At<St-8;At++){const mt=At%2==0;_t.set(At,6,mt,!0),_t.set(6,At,mt,!0)}}(Jt),function ee(_t,St){const At=I.getPositions(St);for(let mt=0;mt<At.length;mt++){const Ht=At[mt][0],Ft=At[mt][1];for(let kt=-2;kt<=2;kt++)for(let Yt=-2;Yt<=2;Yt++)_t.set(Ht+kt,Ft+Yt,-2===kt||2===kt||-2===Yt||2===Yt||0===kt&&0===Yt,!0)}}(Jt,St),Mt(Jt,At,0),St>=7&&function Bt(_t,St){const At=_t.size,mt=rt.getEncodedBits(St);let Ht,Ft,kt;for(let Yt=0;Yt<18;Yt++)Ht=Math.floor(Yt/3),Ft=Yt%3+At-8-3,kt=1==(mt>>Yt&1),_t.set(Ht,Ft,kt,!0),_t.set(Ft,Ht,kt,!0)}(Jt,St),function Tt(_t,St){const At=_t.size;let mt=-1,Ht=At-1,Ft=7,kt=0;for(let Yt=At-1;Yt>0;Yt-=2)for(6===Yt&&Yt--;;){for(let Jt=0;Jt<2;Jt++)if(!_t.isReserved(Ht,Yt-Jt)){let Bn=!1;kt<St.length&&(Bn=1==(St[kt]>>>Ft&1)),_t.set(Ht,Yt-Jt,Bn),Ft--,-1===Ft&&(kt++,Ft=7)}if(Ht+=mt,Ht<0||At<=Ht){Ht-=mt,mt=-mt;break}}}(Jt,kt),isNaN(mt)&&(mt=v.getBestMask(Jt,Mt.bind(null,Jt,At))),v.applyMask(mt,Jt),Mt(Jt,At,mt),{modules:Jt,version:St,errorCorrectionLevel:At,maskPattern:mt,segments:Ht}}L.create=function(St,At){if(typeof St>"u"||""===St)throw new Error("No input text");let Ht,Ft,mt=g.M;return typeof At<"u"&&(mt=g.from(At.errorCorrectionLevel,g.M),Ht=rt.from(At.version),Ft=v.from(At.maskPattern),At.toSJISFunc&&q.setToSJISFunction(At.toSJISFunc)),Ee(St,Ht,mt,Ft)}},2636:(Nt,L,w)=>{const q=w(1106);function g(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}g.prototype.initialize=function(A){this.degree=A,this.genPoly=q.generateECPolynomial(this.degree)},g.prototype.encode=function(A){if(!this.genPoly)throw new Error("Encoder not initialized");const I=new Uint8Array(A.length+this.degree);I.set(A);const S=q.mod(I,this.genPoly),v=this.degree-S.length;if(v>0){const M=new Uint8Array(this.degree);return M.set(S,v),M}return S},Nt.exports=g},2699:(Nt,L)=>{const w="[0-9]+";let g="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";g=g.replace(/u/g,"\\u");const t="(?:(?![A-Z0-9 $%*+\\-./:]|"+g+")(?:.|[\r\n]))+";L.KANJI=new RegExp(g,"g"),L.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),L.BYTE=new RegExp(t,"g"),L.NUMERIC=new RegExp(w,"g"),L.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const A=new RegExp("^"+g+"$"),I=new RegExp("^"+w+"$"),S=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");L.testKanji=function(M){return A.test(M)},L.testNumeric=function(M){return I.test(M)},L.testAlphanumeric=function(M){return S.test(M)}},2033:(Nt,L,w)=>{const q=w(4016),g=w(7783),t=w(2424),A=w(5663),I=w(449),S=w(2699),v=w(8233),M=w(4901);function ot(Bt){return unescape(encodeURIComponent(Bt)).length}function rt(Bt,Mt,Tt){const Et=[];let se;for(;null!==(se=Bt.exec(Tt));)Et.push({data:se[0],index:se.index,mode:Mt,length:se[0].length});return Et}function et(Bt){const Mt=rt(S.NUMERIC,q.NUMERIC,Bt),Tt=rt(S.ALPHANUMERIC,q.ALPHANUMERIC,Bt);let Et,se;return v.isKanjiModeEnabled()?(Et=rt(S.BYTE,q.BYTE,Bt),se=rt(S.KANJI,q.KANJI,Bt)):(Et=rt(S.BYTE_KANJI,q.BYTE,Bt),se=[]),Mt.concat(Tt,Et,se).sort(function(_t,St){return _t.index-St.index}).map(function(_t){return{data:_t.data,mode:_t.mode,length:_t.length}})}function it(Bt,Mt){switch(Mt){case q.NUMERIC:return g.getBitsLength(Bt);case q.ALPHANUMERIC:return t.getBitsLength(Bt);case q.KANJI:return I.getBitsLength(Bt);case q.BYTE:return A.getBitsLength(Bt)}}function ee(Bt,Mt){let Tt;const Et=q.getBestModeForData(Bt);if(Tt=q.from(Mt,Et),Tt!==q.BYTE&&Tt.bit<Et.bit)throw new Error('"'+Bt+'" cannot be encoded with mode '+q.toString(Tt)+".\n Suggested mode is: "+q.toString(Et));switch(Tt===q.KANJI&&!v.isKanjiModeEnabled()&&(Tt=q.BYTE),Tt){case q.NUMERIC:return new g(Bt);case q.ALPHANUMERIC:return new t(Bt);case q.KANJI:return new I(Bt);case q.BYTE:return new A(Bt)}}L.fromArray=function(Mt){return Mt.reduce(function(Tt,Et){return"string"==typeof Et?Tt.push(ee(Et,null)):Et.data&&Tt.push(ee(Et.data,Et.mode)),Tt},[])},L.fromString=function(Mt,Tt){const se=function ut(Bt){const Mt=[];for(let Tt=0;Tt<Bt.length;Tt++){const Et=Bt[Tt];switch(Et.mode){case q.NUMERIC:Mt.push([Et,{data:Et.data,mode:q.ALPHANUMERIC,length:Et.length},{data:Et.data,mode:q.BYTE,length:Et.length}]);break;case q.ALPHANUMERIC:Mt.push([Et,{data:Et.data,mode:q.BYTE,length:Et.length}]);break;case q.KANJI:Mt.push([Et,{data:Et.data,mode:q.BYTE,length:ot(Et.data)}]);break;case q.BYTE:Mt.push([{data:Et.data,mode:q.BYTE,length:ot(Et.data)}])}}return Mt}(et(Mt,v.isKanjiModeEnabled())),Ee=function wt(Bt,Mt){const Tt={},Et={start:{}};let se=["start"];for(let Ee=0;Ee<Bt.length;Ee++){const _t=Bt[Ee],St=[];for(let At=0;At<_t.length;At++){const mt=_t[At],Ht=""+Ee+At;St.push(Ht),Tt[Ht]={node:mt,lastCount:0},Et[Ht]={};for(let Ft=0;Ft<se.length;Ft++){const kt=se[Ft];Tt[kt]&&Tt[kt].node.mode===mt.mode?(Et[kt][Ht]=it(Tt[kt].lastCount+mt.length,mt.mode)-it(Tt[kt].lastCount,mt.mode),Tt[kt].lastCount+=mt.length):(Tt[kt]&&(Tt[kt].lastCount=mt.length),Et[kt][Ht]=it(mt.length,mt.mode)+4+q.getCharCountIndicator(mt.mode,Mt))}}se=St}for(let Ee=0;Ee<se.length;Ee++)Et[se[Ee]].end=0;return{map:Et,table:Tt}}(se,Tt),_t=M.find_path(Ee.map,"start","end"),St=[];for(let At=1;At<_t.length-1;At++)St.push(Ee.table[_t[At]].node);return L.fromArray(function nt(Bt){return Bt.reduce(function(Mt,Tt){const Et=Mt.length-1>=0?Mt[Mt.length-1]:null;return Et&&Et.mode===Tt.mode?(Mt[Mt.length-1].data+=Tt.data,Mt):(Mt.push(Tt),Mt)},[])}(St))},L.rawSplit=function(Mt){return L.fromArray(et(Mt,v.isKanjiModeEnabled()))}},8233:(Nt,L)=>{let w;const q=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];L.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},L.getSymbolTotalCodewords=function(t){return q[t]},L.getBCHDigit=function(g){let t=0;for(;0!==g;)t++,g>>>=1;return t},L.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');w=t},L.isKanjiModeEnabled=function(){return typeof w<"u"},L.toSJIS=function(t){return w(t)}},4406:(Nt,L)=>{L.isValid=function(q){return!isNaN(q)&&q>=1&&q<=40}},2088:(Nt,L,w)=>{const q=w(8233),g=w(4655),t=w(2259),A=w(4016),I=w(4406),v=q.getBCHDigit(7973);function ot(it,nt){return A.getCharCountIndicator(it,nt)+4}function rt(it,nt){let ut=0;return it.forEach(function(wt){const ee=ot(wt.mode,nt);ut+=ee+wt.getBitsLength()}),ut}L.from=function(nt,ut){return I.isValid(nt)?parseInt(nt,10):ut},L.getCapacity=function(nt,ut,wt){if(!I.isValid(nt))throw new Error("Invalid QR Code version");typeof wt>"u"&&(wt=A.BYTE);const Mt=8*(q.getSymbolTotalCodewords(nt)-g.getTotalCodewordsCount(nt,ut));if(wt===A.MIXED)return Mt;const Tt=Mt-ot(wt,nt);switch(wt){case A.NUMERIC:return Math.floor(Tt/10*3);case A.ALPHANUMERIC:return Math.floor(Tt/11*2);case A.KANJI:return Math.floor(Tt/13);default:return Math.floor(Tt/8)}},L.getBestVersionForData=function(nt,ut){let wt;const ee=t.from(ut,t.M);if(Array.isArray(nt)){if(nt.length>1)return function et(it,nt){for(let ut=1;ut<=40;ut++)if(rt(it,ut)<=L.getCapacity(ut,nt,A.MIXED))return ut}(nt,ee);if(0===nt.length)return 1;wt=nt[0]}else wt=nt;return function M(it,nt,ut){for(let wt=1;wt<=40;wt++)if(nt<=L.getCapacity(wt,ut,it))return wt}(wt.mode,wt.getLength(),ee)},L.getEncodedBits=function(nt){if(!I.isValid(nt)||nt<7)throw new Error("Invalid QR Code version");let ut=nt<<12;for(;q.getBCHDigit(ut)-v>=0;)ut^=7973<<q.getBCHDigit(ut)-v;return nt<<12|ut}},3210:(Nt,L,w)=>{const q=w(6355);L.render=function(I,S,v){let M=v,ot=S;typeof M>"u"&&(!S||!S.getContext)&&(M=S,S=void 0),S||(ot=function t(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),M=q.getOptions(M);const rt=q.getImageWidth(I.modules.size,M),et=ot.getContext("2d"),it=et.createImageData(rt,rt);return q.qrToImageData(it.data,I,M),function g(A,I,S){A.clearRect(0,0,I.width,I.height),I.style||(I.style={}),I.height=S,I.width=S,I.style.height=S+"px",I.style.width=S+"px"}(et,ot,rt),et.putImageData(it,0,0),ot},L.renderToDataURL=function(I,S,v){let M=v;return typeof M>"u"&&(!S||!S.getContext)&&(M=S,S=void 0),M||(M={}),L.render(I,S,M).toDataURL(M.type||"image/png",(M.rendererOpts||{}).quality)}},2334:(Nt,L,w)=>{const q=w(6355);function g(I,S){const v=I.a/255,M=S+'="'+I.hex+'"';return v<1?M+" "+S+'-opacity="'+v.toFixed(2).slice(1)+'"':M}function t(I,S,v){let M=I+S;return typeof v<"u"&&(M+=" "+v),M}L.render=function(S,v,M){const ot=q.getOptions(v),rt=S.modules.size,et=S.modules.data,it=rt+2*ot.margin,nt=ot.color.light.a?"<path "+g(ot.color.light,"fill")+' d="M0 0h'+it+"v"+it+'H0z"/>':"",ut="<path "+g(ot.color.dark,"stroke")+' d="'+function A(I,S,v){let M="",ot=0,rt=!1,et=0;for(let it=0;it<I.length;it++){const nt=Math.floor(it%S),ut=Math.floor(it/S);!nt&&!rt&&(rt=!0),I[it]?(et++,it>0&&nt>0&&I[it-1]||(M+=rt?t("M",nt+v,.5+ut+v):t("m",ot,0),ot=0,rt=!1),nt+1<S&&I[it+1]||(M+=t("h",et),et=0)):ot++}return M}(et,rt,ot.margin)+'"/>',Bt='<svg xmlns="http://www.w3.org/2000/svg" '+(ot.width?'width="'+ot.width+'" height="'+ot.width+'" ':"")+'viewBox="0 0 '+it+" "+it+'" shape-rendering="crispEdges">'+nt+ut+"</svg>\n";return"function"==typeof M&&M(null,Bt),Bt}},6355:(Nt,L)=>{function w(q){if("number"==typeof q&&(q=q.toString()),"string"!=typeof q)throw new Error("Color should be defined as hex string");let g=q.slice().replace("#","").split("");if(g.length<3||5===g.length||g.length>8)throw new Error("Invalid hex color: "+q);(3===g.length||4===g.length)&&(g=Array.prototype.concat.apply([],g.map(function(A){return[A,A]}))),6===g.length&&g.push("F","F");const t=parseInt(g.join(""),16);return{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:255&t,hex:"#"+g.slice(0,6).join("")}}L.getOptions=function(g){g||(g={}),g.color||(g.color={});const A=g.width&&g.width>=21?g.width:void 0;return{width:A,scale:A?4:g.scale||4,margin:typeof g.margin>"u"||null===g.margin||g.margin<0?4:g.margin,color:{dark:w(g.color.dark||"#000000ff"),light:w(g.color.light||"#ffffffff")},type:g.type,rendererOpts:g.rendererOpts||{}}},L.getScale=function(g,t){return t.width&&t.width>=g+2*t.margin?t.width/(g+2*t.margin):t.scale},L.getImageWidth=function(g,t){const A=L.getScale(g,t);return Math.floor((g+2*t.margin)*A)},L.qrToImageData=function(g,t,A){const I=t.modules.size,S=t.modules.data,v=L.getScale(I,A),M=Math.floor((I+2*A.margin)*v),ot=A.margin*v,rt=[A.color.light,A.color.dark];for(let et=0;et<M;et++)for(let it=0;it<M;it++){let nt=4*(et*M+it),ut=A.color.light;et>=ot&&it>=ot&&et<M-ot&&it<M-ot&&(ut=rt[S[Math.floor((et-ot)/v)*I+Math.floor((it-ot)/v)]?1:0]),g[nt++]=ut.r,g[nt++]=ut.g,g[nt++]=ut.b,g[nt]=ut.a}}}}]);