"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[499],{20499:(v,l,e)=>{e.r(l),e.d(l,{BtcDiscountManageComponent:()=>d});var f=e(36895),c=e(24006),g=e(83700),s=e(72506),u=e(44143),t=e(94650),r=e(99399),p=e(62331);let d=(()=>{class o{constructor(n,i,a){this.btcJsonConfigSvc=n,this._toastService=a,this.jsonText="",i.registerIcons([s.$S,s.HTW])}ngOnInit(){this.getAPI.subscribe(n=>{console.log(n),"OK"===n.status&&n.data&&(this.jsonText=JSON.stringify(JSON.parse(n.data.jsonString),null,2))})}get getAPI(){return this.btcJsonConfigSvc.getJsonConfig({type:"PROMOTION"})}onReset(){this.getAPI.subscribe(n=>{console.log(n),"OK"===n.status&&n.data&&(this.jsonText=JSON.stringify(JSON.parse(n.data.jsonString),null,2),this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"Kh\xf4i ph\u1ee5c th\xe0nh c\xf4ng",sticky:!1}))})}onSubmit(){this.btcJsonConfigSvc.updateConfigFeeBc({jsonString:this.jsonText,type:"PROMOTION"}).subscribe(n=>{console.log(n),"OK"===n.status&&n.data?(this.jsonText=JSON.stringify(JSON.parse(n.data.jsonString),null,2),this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"C\u1eadp nh\u1eadt json gi\u1ea3m gi\xe1 th\xe0nh c\xf4ng",sticky:!1})):this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"C\u1eadp nh\u1eadt json ph\xed gi\u1ea3m gi\xe1 th\u1ea5t b\u1ea1i",sticky:!1})})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(r.K),t.Y36(s.KNP),t.Y36(p.BX))},o.\u0275cmp=t.Xpm({type:o,selectors:[["btc-discount-manage"]],standalone:!0,features:[t.jDz],decls:13,vars:1,consts:[[1,"w-full","h-full","flex","flex-col"],[1,"bg-white","md:p-4","p-[30px]","w-full","shadow-sm","flex","flex-col","gap-y-[30px]"],[1,"text-heading-lg","md:text-heading-sm","text-neutral-gray-6"],[1,"flex-1","w-full","p-6","flex","flex-col","gap-6"],["cf-input","",1,"flex-1","w-full","resize-none","bg-white",3,"ngModel","ngModelChange"],[1,"w-full","justify-end","flex","gap-3","items-center"],["cf-button","","type","secondary",1,"min-w-[100px]","justify-center","bg-neutral-white",3,"click"],["icon","refresh","size","small",1,"mr-2.5"],["cf-button","","type","solid",1,"min-w-[100px]","justify-center","bg-neutral-white",3,"click"],["icon","save","size","small",1,"mr-2.5"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3," Gi\u1ea3m gi\xe1 "),t.qZA()(),t.TgZ(4,"div",3)(5,"textarea",4),t.NdJ("ngModelChange",function(m){return i.jsonText=m}),t.qZA(),t.TgZ(6,"div",5)(7,"button",6),t.NdJ("click",function(){return i.onReset()}),t._UZ(8,"cf-icon",7),t._uU(9," Kh\xf4i ph\u1ee5c "),t.qZA(),t.TgZ(10,"button",8),t.NdJ("click",function(){return i.onSubmit()}),t._UZ(11,"cf-icon",9),t._uU(12," L\u01b0u "),t.qZA()()()()),2&n&&(t.xp6(5),t.Q6J("ngModel",i.jsonText))},dependencies:[f.ez,g.N8,g.Xq,u.j$,u.BN,c.u5,c.Fj,c.JJ,c.On,s.AxE,s.Sm8],styles:["[_nghost-%COMP%]{height:100%}"]}),o})()}}]);